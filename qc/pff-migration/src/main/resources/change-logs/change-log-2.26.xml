<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.auditdb" value="PFFBFSQCAudit.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />

	<changeSet id="1" author="Madhubabu">
		<addColumn tableName="fintypeinsurances_temp">
			<column name="PolicyType" type="nvarchar(8)" />
		</addColumn>
	</changeSet>

	<changeSet id="2" author="Madhubabu">
		<addColumn tableName="fintypeinsurances">
			<column name="PolicyType" type="nvarchar(8)" />
		</addColumn>
	</changeSet>
	<changeSet id="3" author="Madhubabu">
		<createView viewName="FinTypeInsurances_View" replaceIfExists="true">
		SELECT     T1.FinType, T1.InsuranceType,T1.policyType,T5.policyDesc,T1.Mandatory,T1.DftPayType,T1.CalType,T1.AmountRule,T4.RuleCodeDesc ,
T1.ConstAmt,T1.Percentage,T1.CalculateOn,T2.InsuranceTypeDesc,
T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinTypeInsurances_temp T1 INNER JOIN
             insurancetype T2 ON T2.InsuranceType=T1.InsuranceType LEFT OUTER JOIN
             Rules T4 ON T1.AmountRule=T4.RuleCode LEFT OUTER JOIN
             InsurancePolicy T5 ON T1.policyType=T5.policyCode


UNION ALL

SELECT     T1.FinType, T1.InsuranceType,T1.policyType,T5.policyDesc,T1.Mandatory,T1.DftPayType,T1.CalType,T1.AmountRule,T4.RuleCodeDesc,
T1.ConstAmt,T1.Percentage,T1.CalculateOn,T2.InsuranceTypeDesc,
T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinTypeInsurances T1 INNER JOIN
             insurancetype T2 ON T2.InsuranceType=T1.InsuranceType LEFT OUTER JOIN
             Rules T4 ON T1.AmountRule=T4.RuleCode LEFT OUTER JOIN
             InsurancePolicy T5 ON T1.policyType=T5.policyCode

WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinTypeInsurances_Temp
                            WHERE     FinType= T1.FinType AND  InsuranceType = T1.InsuranceType)
</createView>
</changeSet>
<changeSet author="Srikanth" id="4">
	<delete tableName="ErrorDetails">
			<where>ErrorCode = '9999'</where>
		</delete>
		<insert tableName="ErrorDetails">
			<column name="ErrorCode">9999</column>
			<column name="ErrorLanguage">EN</column>
			<column name="ErrorSeverity">E</column>
			<column name="ErrorMessage">Unable to process request.</column>
			<column name="ErrorExtendedMessage"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="LastMntOn"></column>
			<column name="LastMntBy">1000</column>
			<column name="Version">0</column>
		</insert>
	</changeSet>
	<changeSet author="Srikanth" id="5">
	<renameColumn
            newColumnName="UsrLogin"
            oldColumnName="UserId"         
            tableName="webserviceServerSecurity"/>
    </changeSet>
    <changeSet author="Srikanth" id="6">
	<renameColumn
            newColumnName="UsrLogin"
            oldColumnName="UserId"         
            tableName="webserviceUserSecurity"/>
    </changeSet>
    <changeSet author="Prasad" id="7.1">
    <sql>Delete from webserviceServerSecurity;
    Delete from webserviceUserSecurity;</sql>
    </changeSet>
    <changeSet author="Srikanth" id="7">
    <modifyDataType tableName="webserviceServerSecurity" columnName="UsrLogin" newDataType="nvarchar(50)"/>
    </changeSet>
     <changeSet author="Srikanth" id="8">
    <modifyDataType tableName="webserviceUserSecurity" columnName="UsrLogin" newDataType="nvarchar(50)"/>
    </changeSet>
    <changeSet id="9" author="Pruthvi Raj">
	<sql>
	update reportlist set fieldtype='String,String,int,int,int,boolean' where Code='Country' and Moduletype='System Masters';
	</sql>	
	</changeSet>
	<changeSet id="10" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FacilityCommitmentDetail_View">
SELECT     fpd.FinReference, fpd.CustId, fpd.FinType, fpd.FinCcy, fpd.FinStartDate, fpd.MaturityDate, cmt.CmtExpDate CmtExpiryDate, cmt.CmtTitle, cmt.CmtAmount, 
                      cmt.CmtAvailable, fpd.FinCommitmentRef, fpd.TotalpriSchd + fpd.TotalPftSchd TotalOriginal, fpd.TotalPftPaid + fpd.TotalPriPaid TotalPaid, 
                      fpd.TotalPriBal + fpd.TotalPftBal TotalOutStanding, fpd.FinStatus
FROM          FinPftDetails fpd LEFT OUTER JOIN
                       Commitments cmt ON cmt.CmtReference = fpd.FinCommitmentRef
</createView>   </changeSet>
<changeSet id="11" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FacilityCreationAccess_View">
SELECT     T7.UsrID, COUNT(T2.FacilityType) FacilityCount
FROM          CAFFacilityTypes T2 INNER JOIN
                       LMTFinanceWorkFlowDef T3 ON T2.FacilityType = T3.FinType INNER JOIN
                       WorkFlowDetails T4 ON T3.WorkFlowType = T4.WorkFlowType AND T4.WorkFlowActive = '1' INNER JOIN
                       SecRoles T5 ON T4.FirstTaskOwner = T5.RoleCd INNER JOIN
                       SecOperationRoles T6 ON T6.RoleID = T5.RoleID INNER JOIN
                       SecUserOperations T8 on T8.OprID=T6.OprID INNER JOIN
                       SecUsers T7 ON T7.UsrID = T8.UsrID
GROUP BY T7.UsrID
</createView>   </changeSet>
<changeSet id="12" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FacilityHeader_AView">
SELECT     T1.CAFReference, T1.FacilityType, T1.CustID, T1.StartDate, T1.PresentingUnit, T1.CountryOfDomicile, T1.DeadLine, T1.CountryOfRisk, T1.EstablishedDate, 
                      T1.NatureOfBusiness, T1.SICCode, T1.CountryManager, T1.CustomerRiskType, T1.RelationshipManager, T2.CustGroupID  CustomerGroup, T1.NextReviewDate, 
                      T1.CustomerBackGround, T1.Strength, T1.Weaknesses, T1.SourceOfRepayment, T1.AdequacyOfCashFlows, T1.TypesOfSecurities, T1.GuaranteeDescription, 
                      T1.FinancialSummary, T1.Mitigants, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 
                      T1.RecordType, T1.WorkflowId, T2.CustCIF, T2.CustShrtName, T2.CustCtgCode, T2.CustCoreBank, T2.CustDOB, T3.CountryDesc countryOfDomicileName, 
                      T4.CountryDesc countryOfRiskName, T5.SectorDesc natureOfBusinessName, T6.RiskDesc customerRiskTypeName, T7.SubSectorDesc sICCodeName, 
                      T8.CustGrpDesc customerGroupName, T8.CustGrpCode CustGrpCodeName, T9.EntityDesc CountryManagerName, T1.CountryExposure, T1.CountryLimit, 
                      T1.CountryLimitAdeq, T1.ReviewCenter, T1.LevelOfApproval, T2.CustRelation, T1.purpose, T1.interim, T1.accountRelation, T1.antiMoneyLaunderClear, 
                      T1.limitAndAncillary, T1.antiMoneyLaunderSection, T10.CustTypeDesc, T1.overriddeCirculation, T1.DedupFound, T1.SkipDedup
FROM          FacilityHeader T1 INNER JOIN
                       Customers T2 ON T1.CustID = T2.CustID INNER JOIN
                       BMTCountries T3 ON T1.CountryOfDomicile = T3.CountryCode INNER JOIN
                       BMTCountries T4 ON T1.CountryOfRisk = T4.CountryCode INNER JOIN
                       BMTSectors T5 ON T1.NatureOfBusiness = T5.SectorCode INNER JOIN
                       CustRiskTypes T6 ON T1.CustomerRiskType = T6.RiskCode INNER JOIN
                       BMTSubSectors T7 ON T1.NatureOfBusiness = T7.SectorCode AND T1.SICCode = T7.SubSectorCode LEFT OUTER JOIN
                       CustomerGroups T8 ON T2.CustGroupID = T8.CustGrpID INNER JOIN
                       EntityCodes T9 ON T1.CountryManager = T9.EntityCode LEFT OUTER JOIN
                       RMTCustTypes T10 ON T2.CustTypeCode = T10.CustTypeCode
</createView>   </changeSet>
<changeSet id="13" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FacilityHeader_TView">
SELECT     T1.CAFReference, T1.FacilityType, T1.CustID, T1.StartDate, T1.PresentingUnit, T1.CountryOfDomicile, T1.DeadLine, T1.CountryOfRisk, T1.EstablishedDate, 
                      T1.NatureOfBusiness, T1.SICCode, T1.CountryManager, T1.CustomerRiskType, T1.RelationshipManager, T2.CustGroupID  CustomerGroup, T1.NextReviewDate, 
                      T1.CustomerBackGround, T1.Strength, T1.Weaknesses, T1.SourceOfRepayment, T1.AdequacyOfCashFlows, T1.TypesOfSecurities, T1.GuaranteeDescription, 
                      T1.FinancialSummary, T1.Mitigants, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 
                      T1.RecordType, T1.WorkflowId, T2.CustCIF, T2.CustShrtName, T2.CustCtgCode, T2.CustCoreBank, T2.CustDOB, T3.CountryDesc countryOfDomicileName, 
                      T4.CountryDesc countryOfRiskName, T5.SectorDesc natureOfBusinessName, T6.RiskDesc customerRiskTypeName, T7.SubSectorDesc sICCodeName, 
                      T8.CustGrpDesc customerGroupName, T8.CustGrpCode CustGrpCodeName, T9.EntityDesc CountryManagerName, T1.CountryExposure, T1.CountryLimit, 
                      T1.CountryLimitAdeq, T1.ReviewCenter, T1.LevelOfApproval, T2.CustRelation, T1.purpose, T1.interim, T1.accountRelation, T1.antiMoneyLaunderClear, 
                      T1.limitAndAncillary, T1.antiMoneyLaunderSection, T10.CustTypeDesc, T1.overriddeCirculation, T1.DedupFound, T1.SkipDedup
FROM          FacilityHeader_Temp T1 INNER JOIN
                       Customers T2 ON T1.CustID = T2.CustID INNER JOIN
                       BMTCountries T3 ON T1.CountryOfDomicile = T3.CountryCode INNER JOIN
                       BMTCountries T4 ON T1.CountryOfRisk = T4.CountryCode INNER JOIN
                       BMTSectors T5 ON T1.NatureOfBusiness = T5.SectorCode INNER JOIN
                       CustRiskTypes T6 ON T1.CustomerRiskType = T6.RiskCode INNER JOIN
                       BMTSubSectors T7 ON T1.NatureOfBusiness = T7.SectorCode AND T1.SICCode = T7.SubSectorCode LEFT OUTER JOIN
                       CustomerGroups T8 ON T2.CustGroupID = T8.CustGrpID INNER JOIN
                       EntityCodes T9 ON T1.CountryManager = T9.EntityCode LEFT OUTER JOIN
                       RMTCustTypes T10 ON T2.CustTypeCode = T10.CustTypeCode
</createView>   </changeSet>
<changeSet id="14" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FacilityHeader_View">
SELECT     T1.CAFReference, T1.FacilityType, T1.CustID, T1.StartDate, T1.PresentingUnit, T1.CountryOfDomicile, T1.DeadLine, T1.CountryOfRisk, T1.EstablishedDate, 
                      T1.NatureOfBusiness, T1.SICCode, T1.CountryManager, T1.CustomerRiskType, T1.RelationshipManager, T2.CustGroupID  CustomerGroup, T1.NextReviewDate, 
                      T1.CustomerBackGround, T1.Strength, T1.Weaknesses, T1.SourceOfRepayment, T1.AdequacyOfCashFlows, T1.TypesOfSecurities, T1.GuaranteeDescription, 
                      T1.FinancialSummary, T1.Mitigants, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 
                      T1.RecordType, T1.WorkflowId, T2.CustCIF, T2.CustShrtName, T2.CustCtgCode, T2.CustCoreBank, T2.CustDOB, T3.CountryDesc countryOfDomicileName, 
                      T4.CountryDesc countryOfRiskName, T5.SectorDesc natureOfBusinessName, T6.RiskDesc customerRiskTypeName, T7.SubSectorDesc sICCodeName, 
                      T8.CustGrpDesc customerGroupName, T8.CustGrpCode CustGrpCodeName, T9.EntityDesc CountryManagerName, T1.CountryExposure, T1.CountryLimit, 
                      T1.CountryLimitAdeq, T1.ReviewCenter, T1.LevelOfApproval, T2.CustRelation, T1.purpose, T1.interim, T1.accountRelation, T1.antiMoneyLaunderClear, 
                      T1.limitAndAncillary, T1.antiMoneyLaunderSection, T10.CustTypeDesc, T1.overriddeCirculation, T1.DedupFound, T1.SkipDedup

FROM          FacilityHeader_Temp T1 INNER JOIN
                       Customers T2 ON T1.CustID = T2.CustID INNER JOIN
                       BMTCountries T3 ON T1.CountryOfDomicile = T3.CountryCode INNER JOIN
                       BMTCountries T4 ON T1.CountryOfRisk = T4.CountryCode INNER JOIN
                       BMTSectors T5 ON T1.NatureOfBusiness = T5.SectorCode INNER JOIN
                       CustRiskTypes T6 ON T1.CustomerRiskType = T6.RiskCode INNER JOIN
                       BMTSubSectors T7 ON T1.NatureOfBusiness = T7.SectorCode AND T1.SICCode = T7.SubSectorCode LEFT OUTER JOIN
                       CustomerGroups T8 ON T2.CustGroupID = T8.CustGrpID INNER JOIN
                       EntityCodes T9 ON T1.CountryManager = T9.EntityCode LEFT OUTER JOIN
                       RMTCustTypes T10 ON T2.CustTypeCode = T10.CustTypeCode
UNION ALL
SELECT     T1.CAFReference, T1.FacilityType, T1.CustID, T1.StartDate, T1.PresentingUnit, T1.CountryOfDomicile, T1.DeadLine, T1.CountryOfRisk, T1.EstablishedDate, 
                      T1.NatureOfBusiness, T1.SICCode, T1.CountryManager, T1.CustomerRiskType, T1.RelationshipManager, T2.CustGroupID  CustomerGroup, T1.NextReviewDate, 
                      T1.CustomerBackGround, T1.Strength, T1.Weaknesses, T1.SourceOfRepayment, T1.AdequacyOfCashFlows, T1.TypesOfSecurities, T1.GuaranteeDescription, 
                      T1.FinancialSummary, T1.Mitigants, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 
                      T1.RecordType, T1.WorkflowId, T2.CustCIF, T2.CustShrtName, T2.CustCtgCode, T2.CustCoreBank, T2.CustDOB, T3.CountryDesc countryOfDomicileName, 
                      T4.CountryDesc countryOfRiskName, T5.SectorDesc natureOfBusinessName, T6.RiskDesc customerRiskTypeName, T7.SubSectorDesc sICCodeName, 
                      T8.CustGrpDesc customerGroupName, T8.CustGrpCode CustGrpCodeName, T9.EntityDesc CountryManagerName, T1.CountryExposure, T1.CountryLimit, 
                      T1.CountryLimitAdeq, T1.ReviewCenter, T1.LevelOfApproval, T2.CustRelation, T1.purpose, T1.interim, T1.accountRelation, T1.antiMoneyLaunderClear, 
                      T1.limitAndAncillary, T1.antiMoneyLaunderSection, T10.CustTypeDesc, T1.overriddeCirculation, T1.DedupFound, T1.SkipDedup

FROM          FacilityHeader T1 INNER JOIN
                       Customers T2 ON T1.CustID = T2.CustID INNER JOIN
                       BMTCountries T3 ON T1.CountryOfDomicile = T3.CountryCode INNER JOIN
                       BMTCountries T4 ON T1.CountryOfRisk = T4.CountryCode INNER JOIN
                       BMTSectors T5 ON T1.NatureOfBusiness = T5.SectorCode INNER JOIN
                       CustRiskTypes T6 ON T1.CustomerRiskType = T6.RiskCode INNER JOIN
                       BMTSubSectors T7 ON T1.NatureOfBusiness = T7.SectorCode AND T1.SICCode = T7.SubSectorCode LEFT OUTER JOIN
                       CustomerGroups T8 ON T2.CustGroupID = T8.CustGrpID INNER JOIN
                       EntityCodes T9 ON T1.CountryManager = T9.EntityCode LEFT OUTER JOIN
                       RMTCustTypes T10 ON T2.CustTypeCode = T10.CustTypeCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FacilityHeader_TEMP
                            WHERE      CAFReference = T1.CAFReference)
</createView>   </changeSet>
<changeSet id="15" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FCMTCommodityDetail_AView">
SELECT     CommodityCode, CommodityName, CommodityUnitCode, CommodityUnitName, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, 
                      NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId
FROM          FCMTCommodityDetail T1
</createView>   </changeSet>
<changeSet id="16" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FCMTCommodityDetail_View">
SELECT     T1.CommodityCode, T1.CommodityName, T1.CommodityUnitCode, T1.CommodityUnitName, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FCMTCommodityDetail_TEMP T1
UNION ALL
SELECT     T1.CommodityCode, T1.CommodityName, T1.CommodityUnitCode, T1.CommodityUnitName, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FCMTCommodityDetail T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FCMTCommodityDetail_TEMP
                            WHERE       CommodityCode = T1.CommodityCode AND CommodityUnitCode=T1.CommodityUnitCode )
</createView>   </changeSet>
<changeSet id="17" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FCMTFinanceMarginSlab_AView">
SELECT     FinType, SlabAmount, SlabMargin, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, 
                      NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId
FROM          FCMTFinanceMarginSlab
</createView>   </changeSet>
<changeSet id="18" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FCMTFinanceMarginSlab_View">
SELECT     T1.FinType, T1.SlabAmount, T1.SlabMargin, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FCMTFinanceMarginSlab_TEMP T1 
UNION ALL
SELECT     T1.FinType, T1.SlabAmount, T1.SlabMargin, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FCMTFinanceMarginSlab T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FCMTFinanceMarginSlab_TEMP
                            WHERE      FinType = T1.FinType AND SlabAmount = T1.SlabAmount)
</createView>   </changeSet>
<changeSet id="19" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FeeTypes_TView">
SELECT		T1.FeeTypeID, T1.FeeTypeCode, T1.FeeTypeDesc, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	FeeTypes_Temp T1
</createView>   </changeSet>
<changeSet id="20" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinAdvancePayments_AView">
SELECT   T1.FinReference, T1.PaymentSeq, T1.PaymentDetail, T1.AmtToBeReleased, T1.LiabilityHoldName,
         T1.BeneficiaryName, T1.BeneficiaryAccNo, T1.Description, T1.PaymentType, T1.LLReferenceNo,
         T1.LLDate, T1.CustContribution, T1.SellerContribution, T1.Remarks,
         T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.BankCode,T1.PayableLoc,T1.PrintingLoc,
		 T1.ValueDate,T1.BankBranchID,T1.PhoneCountryCode,T1.PhoneAreaCode,T1.PhoneNumber,T1.ClearingDate,T1.Status,T1.Active,
		 T1.InputDate,T1.DisbCCy,T1.POIssued,
		 T3.BankCode BranchBankCode,T31.BankName BranchBankName,T3.BranchCode,T3.BranchDesc,T3.IFSC,T3.City, 
		 T4.BankName	     
		 FROM  FinAdvancePayments T1 LEFT OUTER JOIN
		 BankBranches T3 ON T1.BankBranchID = T3.BankBranchID  LEFT OUTER JOIN
		 BMTBankDetail T31 ON T31.BankCode=T3.BankCode LEFT OUTER JOIN		 
		BMTBankDetail T4  ON T1.BankCode=T4.BankCode
</createView>   </changeSet>
<changeSet id="21" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinAdvancePayments_TView">
SELECT   T1.FinReference, T1.PaymentSeq, T1.PaymentDetail, T1.AmtToBeReleased, T1.LiabilityHoldName,
         T1.BeneficiaryName, T1.BeneficiaryAccNo, T1.Description, T1.PaymentType, T1.LLReferenceNo,
         T1.LLDate, T1.CustContribution, T1.SellerContribution, T1.Remarks,
         T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.BankCode,T1.PayableLoc,T1.PrintingLoc,
		 T1.ValueDate,T1.BankBranchID,T1.PhoneCountryCode,T1.PhoneAreaCode,T1.PhoneNumber,T1.ClearingDate,T1.Status,T1.Active,
		 T1.InputDate,T1.DisbCCy,T1.POIssued,
		 T3.BankCode BranchBankCode,T31.BankName BranchBankName,T3.BranchCode,T3.BranchDesc,T3.IFSC,T3.City, 
		 T4.BankName	     
		 FROM FinAdvancePayments_Temp T1 LEFT OUTER JOIN
		 BankBranches T3 ON T1.BankBranchID = T3.BankBranchID  LEFT OUTER JOIN
		 BMTBankDetail T31 ON T31.BankCode=T3.BankCode LEFT OUTER JOIN		 
		BMTBankDetail T4  ON T1.BankCode=T4.BankCode
</createView>   </changeSet>
<changeSet id="22" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinAdvancePayments_View">
SELECT   T1.FinReference, T1.PaymentSeq, T1.PaymentDetail, T1.AmtToBeReleased, T1.LiabilityHoldName,
         T1.BeneficiaryName, T1.BeneficiaryAccNo, T1.Description, T1.PaymentType, T1.LLReferenceNo,
         T1.LLDate, T1.CustContribution, T1.SellerContribution, T1.Remarks,
         T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.BankCode,T1.PayableLoc,T1.PrintingLoc,
		 T1.ValueDate,T1.BankBranchID,T1.PhoneCountryCode,T1.PhoneAreaCode,T1.PhoneNumber,T1.ClearingDate,T1.Status,T1.Active,
		 T1.InputDate,T1.DisbCCy,T1.POIssued,
		 T3.BankCode BranchBankCode,T31.BankName BranchBankName,T3.BranchCode,T3.BranchDesc,T3.IFSC,T3.City, 
		 T4.BankName	     
		 FROM  FinAdvancePayments_Temp T1 LEFT OUTER JOIN
		 BankBranches T3 ON T1.BankBranchID = T3.BankBranchID  LEFT OUTER JOIN
		 BMTBankDetail T31 ON T31.BankCode=T3.BankCode LEFT OUTER JOIN		 
		BMTBankDetail T4  ON T1.BankCode=T4.BankCode
		
UNION ALL
SELECT   T1.FinReference, T1.PaymentSeq, T1.PaymentDetail, T1.AmtToBeReleased, T1.LiabilityHoldName,
         T1.BeneficiaryName, T1.BeneficiaryAccNo, T1.Description, T1.PaymentType, T1.LLReferenceNo,
         T1.LLDate, T1.CustContribution, T1.SellerContribution, T1.Remarks,
         T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId ,T1.BankCode,T1.PayableLoc,T1.PrintingLoc,
		 T1.ValueDate,T1.BankBranchID,T1.PhoneCountryCode,T1.PhoneAreaCode,T1.PhoneNumber,T1.ClearingDate,T1.Status,T1.Active,
		 T1.InputDate,T1.DisbCCy,T1.POIssued,
		 T3.BankCode BranchBankCode,T31.BankName BranchBankName,T3.BranchCode,T3.BranchDesc,T3.IFSC,T3.City, 
		 T4.BankName	 	
		 FROM  FinAdvancePayments T1  LEFT OUTER JOIN
		 BankBranches T3 ON T1.BankBranchID = T3.BankBranchID  LEFT OUTER JOIN
		 BMTBankDetail T31 ON T31.BankCode=T3.BankCode LEFT OUTER JOIN		 
		BMTBankDetail T4  ON T1.BankCode=T4.BankCode
		
WHERE NOT EXISTS 
                 (SELECT 1 FROM  FinAdvancePayments_Temp WHERE FinReference = T1.FinReference and PaymentSeq = T1.PaymentSeq)
</createView>   </changeSet>
<changeSet id="23" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinAgreementDetail_AView">
SELECT      FinAgreementDetail.FinReference,  FinAgreementDetail.AgrId,  FinAgreementDetail.AgrName,  FinAgreementDetail.AgrContent, 
                       FinAgreementDetail.Version,  FinAgreementDetail.LastMntBy,  FinAgreementDetail.LastMntOn,  FinAgreementDetail.RecordStatus, 
                       FinAgreementDetail.RoleCode,  FinAgreementDetail.NextRoleCode,  FinAgreementDetail.TaskId,  FinAgreementDetail.NextTaskId, 
                       FinAgreementDetail.RecordType,  FinAgreementDetail.WorkflowId,  LMTFinRefDetail_AAView.lovDescNamelov LovDescAgrName, 
                       FinAgreementDetail.FinType
FROM          FinAgreementDetail INNER JOIN
                       LMTFinRefDetail_AAView ON  FinAgreementDetail.AgrId =  LMTFinRefDetail_AAView.FinRefId AND 
                       FinAgreementDetail.FinType =  LMTFinRefDetail_AAView.FinType
</createView>   </changeSet>
<changeSet id="24" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinAgreementDetail_View">
SELECT     T1.FinReference, T1.AgrId, T1.AgrName, T1.AgrContent, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.lovDescNamelov LovDescAgrName ,T1.FinType

FROM         FinAgreementDetail_Temp T1 INNER JOIN
                      LMTFinRefDetail_AAView T2 ON T1.AgrId = T2.FinRefId AND T1.FinType = T2.FinType


UNION ALL
SELECT     T1.FinReference, T1.AgrId, T1.AgrName, T1.AgrContent, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.lovDescNamelov LovDescAgrName,T1.FinType

FROM         FinAgreementDetail T1 INNER JOIN
                      LMTFinRefDetail_AAView T2 ON T1.AgrId = T2.FinRefId  AND T1.FinType = T2.FinType

WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinAgreementDetail_Temp
                            WHERE      FinReference = T1.FinReference AND AgrId = T1.AgrId)
</createView>   </changeSet>
<changeSet id="25" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceCheckListRef_AView">
SELECT     T1.FinReference, T1.QuestionId, T1.Answer, T1.Remarks, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.CheckListDesc lovDescQuesDesc, T3.AnsDesc lovDescAnswerDesc
FROM         FinanceCheckListRef T1 INNER JOIN
                       BMTCheckList T2 ON T1.QuestionId = T2.CheckListId INNER JOIN
                       RMTCheckListDetails T3 ON T1.QuestionId = T3.CheckListId AND T1.Answer = T3.AnsSeqNo
</createView>   </changeSet>
<changeSet id="26" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceCheckListRef_View">
SELECT     T1.FinReference, T1.QuestionId, T1.Answer, T1.Remarks, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.CheckListDesc lovDescQuesDesc, T3.AnsDesc lovDescAnswerDesc
FROM          FinanceCheckListRef_Temp T1 INNER JOIN
                       BMTCheckList T2 ON T1.QuestionId = T2.CheckListId INNER JOIN
                       RMTCheckListDetails T3 ON T1.QuestionId = T3.CheckListId AND T1.Answer = T3.AnsSeqNo
</createView>   </changeSet>
<changeSet id="27" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceCreationAccess_View">
SELECT     T7.UsrID, COUNT(T2.FinType) FinTypeCount
FROM          RMTFinanceTypes_AView T2 INNER JOIN
                       LMTFinanceWorkFlowDef T3 ON T2.FinType = T3.FinType INNER JOIN
                       WorkFlowDetails T4 ON T3.WorkFlowType = T4.WorkFlowType AND T4.WorkFlowActive = '1' INNER JOIN
                       SecRoles T5 ON T4.FirstTaskOwner = T5.RoleCd INNER JOIN
                       SecOperationRoles T6 ON T6.RoleID = T5.RoleID INNER JOIN
                       SecUserOperations T8 on T8.OprID=T6.OprID INNER JOIN
                       SecUsers T7 ON T7.UsrID = T8.UsrID
                   group by T7.UsrID
</createView>   </changeSet>
<changeSet id="28" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceDedup_View">
SELECT  T1.FinReference, T1.FinReference DupReference, T1.CustId,
	    T2.CustCIF, T2.CustFName, T2.CustLName, T2.CustMName, T2.CustShrtName, T2.CustDOB, T2.CustNationality, 
        T2.CustMotherMaiden, T2.CustParentCountry, T2.CustCRCPR, T3.CarChasisNo ChassisNumber, T3.EngineNumber, T1.FinStartDate StartDate, T1.FinAmount FinanceAmount, 
        T1.TotalGrossPft ProfitAmount, T1.NextRoleCode Stage, T4.RoleDesc StageDesc, '' DedupeRule, T2.CustPassportNo,T1.FinType FinanceType, T6.CcyEditField lovDescFinFormatter,
        T5.titledeedno TitleDeedNo,T5.regnumber RegistrationNo,
        T2.CustTradeLicenceNum TradeLicenceNo ,T1.FinLimitRef
FROM    FinanceMain_Temp T1 INNER JOIN
        Customers T2 ON T1.CustId = T2.CustId  LEFT OUTER JOIN 
        LMTCarLoanDetail_View T3 ON T3.LoanRefNumber = T1.FinReference   LEFT OUTER JOIN 
        LMTHomeLoanDetail_View T5 ON T5.LoanRefNumber = T1.FinReference  LEFT OUTER JOIN
        SecRoles T4 ON T1.NextRoleCode = T4.RoleCd INNER JOIN
        RMTCurrencies T6 On T1.FinCcy=T6.CcyCode 
</createView>   </changeSet>
<changeSet id="29" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceDeviations_View">
SELECT     DeviationId, FinReference, Module, DeviationCode, DeviationType, UserRole, DeviationValue, DelegationRole, ApprovalStatus, DeviationDate, DeviationUserId, 
                      DelegatedUserId
FROM          FinanceDeviations_Temp  T1
UNION ALL
SELECT     DeviationId, FinReference, Module, DeviationCode, DeviationType, UserRole, DeviationValue, DelegationRole, ApprovalStatus, DeviationDate, DeviationUserId, 
                      DelegatedUserId
FROM          FinanceDeviations T1

WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinanceDeviations_Temp
                            WHERE      DeviationId = T1.DeviationId)
</createView>   </changeSet>
<changeSet id="30" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceEligibilityDetail_View">
SELECT     T1.FinReference, T1.ElgRuleCode, T1.RuleResultType, T1.RuleResult, T1.CanOverride, T1.OverridePerc, T1.UserOverride, T2.RuleCode LovDescElgRuleCode, 
                      T2.RuleCodeDesc LovDescElgRuleCodeDesc
FROM          FinanceEligibilityDetail T1 INNER JOIN
                       Rules T2 ON T1.ElgRuleCode = T2.RuleId
</createView>   </changeSet>
<changeSet id="31" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceEnquiry_View">
SELECT     T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.CalTerms NumberOfTerms, T1.CustID, T1.FinAmount, 
                      T1.GrcPeriodEndDate, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.AllowGrcPeriod,T1.DownPayment, 
                      T1.MigratedFinance,T1.LastRepayDate, T1.LastRepayPftDate, T2.CcyEditField LovDescFinFormatter, 
                      T2.CcyDesc LovDescFinCcyName, T3.SchdMethodDesc LovDescScheduleMethodName, T4.IntRateBasisDesc LovDescProfitDaysBasisName, 
                      T5.FinTypeDesc LovDescFinTypeName, T6.CustCIF LovDescCustCIF, T6.CustShrtName LovDescCustShrtName, T7.BranchDesc LovDescFinBranchName, 
                      T1.Blacklisted, T5.FinScheduleOn LovDescFinScheduleOn, T1.FeeChargeAmt, T1.ClosingStatus, T8.CustTypeCtg, 
                      T1.GraceTerms, T5.FinDivision lovDescFinDivision, T5.FinCategory lovDescProductCodeName, 
                      T5.FinIsAlwMD lovDescFinIsAlwMD, T5.FinIsAlwDifferment lovDescFinAlwDeferment,T1.Defferments,
                     (T1.FinAmount-T1.DownPayment+ T1.FeeChargeAmt -  T1.FinRepaymentAmount) CurFinAmount,
                     (T1.FinAmount- T1.DownPayment+ T1.FeeChargeAmt) FinancingAmount, T1.FinStatus ,T1.MandateID,T1.FinRepayMethod
FROM          FinanceMain T1 INNER JOIN
                       RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode INNER JOIN
                       BMTSchdMethod T3 ON T1.ScheduleMethod = T3.SchdMethod INNER JOIN
                       BMTIntRateBasisCodes T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode INNER JOIN
                       RMTFinanceTypes T5 ON T1.FinType = T5.FinType INNER JOIN
                       Customers T6 ON T1.CustID = T6.CustID INNER JOIN
                       RMTBranches T7 ON T1.FinBranch = T7.BranchCode INNER JOIN
                       RMTCustTypes T8 ON T6.CustTypeCode = T8.CustTypeCode
</createView>   </changeSet>
<changeSet id="32" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceMain_AView">
SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, 
                      T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, 
                      T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment  lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.CcyDesc  lovDescFinCcyName, T3.SchdMethodDesc  lovDescScheduleMethodName, T4.IntRateBasisDesc  lovDescProfitDaysBasisName, 
                      T5.BRTypeDesc  lovDescGraceBaseRateName, T6.SRTypeDesc  lovDescGraceSpecialRateName, T7.FinTypeDesc  lovDescFinTypeName, 
                      T8.BRTypeDesc  lovDescRepayBaseRateName, T9.SRTypeDesc  lovDescRepaySpecialRateName, T2.CcyEditField  lovDescFinFormatter, 
                      T7.FinIsAlwMD  lovDescFinIsAlwMD, T7.FinMaxAmount  lovDescFinMaxAmt, T7.FinMinAmount  lovDescFinMinAmount, 
                      T1.MinDownpayPerc, T7.FinIsAlwDifferment  lovDescFinAlwDeferment, T7.FinIsDwPayRequired  lovDescDwnPayReq, 
                      T7.FinMaxDifferment  lovDescFinMaxDifferment, T10.CustCIF  lovDescCustCIF, T10.CustFName  lovDescCustFName, T10.CustLName  lovDescCustLName, 
                      T12.BranchDesc  lovDescFinBranchName, T1.LastRepayDate, T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, 
                       T1.AllowGrcRepay, 
                      T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef, T1.DepreciationFrq, T1.FinContractDate, 
                      T13.SaluationDesc  lovDescSalutationName, T10.CustShrtName  lovDescCustShrtName, T10.CustCoreBank  lovDescCustCoreBank, T1.NextDepDate, 
                      T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, T1.AlwIndRate, T1.IndBaseRate, T1.GrcAlwIndRate, T1.GrcIndBaseRate, 
                      T15.BRTypeDesc  lovDescIndBaseRateName, T16.BRTypeDesc  lovDescGrcIndBaseRateName, T17.AcrTillLBD  lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor, T7.FinGrcRvwRateApplFor, T1.TotalRepayAmt, T7.FinCategory  lovDescProductCodeName, T1.ClosingStatus, T1.FinApprovedDate, 
                      T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, T10.CustCtgCode  lovDescCustCtgCode, 
                      T19.CmtTitle lovDescCommitmentRefName, T1.MigratedFinance, T1.ScheduleMaintained, T1.ScheduleRegenerated, T1.FinPurpose, 
                      T20.ValueDesc  lovDescFinPurposeName, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.bankName, T1.iban, T1.accountType, T1.DdaReferenceNo, 
                      T7.FinScheduleOn  LovDescFinScheduleOn, T1.CustDSR, T1.Authorization1, T1.Authorization2, T21.AuthName  lovDescAuthorization1Name, 
                      T22.AuthName  lovDescAuthorization2Name, T1.JointAccount, T1.JointCustId, T23.CustShrtName  lovDescJointCustShrtName, 
                      T23.CustCIF  lovDescJointCustCIF, '0'  AvailCommitAmount, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, T1.SecurityCollateral, 
                      T1.CustomerAcceptance, T1.Approved, T1.CbbApprovalRequired, T1.CbbApproved, T1.Discrepancy, T1.LimitApproved, T1.InvestmentRef, T1.GraceTerms, 
                      T7.FinDivision  lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.TakafulFrq, T1.TakafulRate, T1.WaiverReason, T1.TakafulRef, T1.TakafulRequired, 
                      T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc  LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T2.CcyEditField  ReportFormat, T1.DeviationApproval, T1.PptTakafulRequired, T1.PptTakafulFrq, T1.PptWaiverReason, T1.PptTakafulRate, T1.PptTakafulRef, 
                      T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                      T25.BRTypeDesc  GrcAdvBaseRateDesc, T26.BRTypeDesc  RpyAdvBaseRateDesc, T1.SupplementRent, T1.IncreasedCost, T1.CreditInsAmt, T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FINPREAPPROVEDREF, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId,T1.FinCancelAc,T28.GenDeptDesc lovDescAccountsOfficer,T29.AgreeName,T29.MMAReference LovDescMMAReference,
					  T1.DSACode,T30.ROfficerDesc DSACodeDesc,T1.TDSApplicable, T31.LimitDesc lovDescLimitRefName,T1.TakafulStatus, T32.ProductCategory,T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,
					  T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , 
					  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo ,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays
						FROM         FinanceMain T1 INNER JOIN
                      RMTCurrencies  T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
                      BMTSchdMethod  T3 ON T1.ScheduleMethod = T3.SchdMethod LEFT OUTER JOIN
                      BMTIntRateBasisCodes  T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode LEFT OUTER JOIN
                      RMTBaseRateCodes T5 ON T1.GraceBaseRate = T5.BRType LEFT OUTER JOIN
                      RMTSplRateCodes  T6 ON T1.GraceSpecialRate = T6.SRType INNER JOIN
                      RMTFinanceTypes  T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBaseRateCodes T8 ON T1.RepayBaseRate = T8.BRType LEFT OUTER JOIN
                      RMTSplRateCodes  T9 ON T1.RepaySpecialRate = T9.SRType LEFT OUTER JOIN
                      RMTBaseRateCodes T15 ON T1.IndBaseRate = T15.BRType LEFT OUTER JOIN
                      RMTBaseRateCodes T16 ON T1.GrcIndBaseRate = T16.BRType LEFT OUTER JOIN
                      Customers  T10 ON T1.CustID = T10.CustID LEFT OUTER JOIN
                      BMTSalutations  T13 ON T10.CustSalutationCode = T13.SalutationCode LEFT OUTER JOIN
                      RMTBranches  T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FinPftDetails  T17 ON T17.FinReference = T1.FinReference LEFT OUTER JOIN
                      Commitments T19 ON T1.FinCommitmentRef = T19.CmtReference AND T10.CustID = T19.custID LEFT OUTER JOIN
                      RMTLovFieldDetail  T20 ON T20.FieldCode = 'FINASSTYP' AND T1.FinPurpose = T20.FieldCodeValue LEFT OUTER JOIN
                      AMTAuthorization  T21 ON T1.Authorization1 = T21.AuthUserId LEFT OUTER JOIN
                      AMTAuthorization  T22 ON T1.Authorization2 = T22.AuthUserId LEFT OUTER JOIN
                      Customers  T23 ON T1.JointCustId = T23.CustID LEFT OUTER JOIN
                      StepPolicyHeader  T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      RMTBaseRateCodes  T25 ON T1.GrcAdvBaseRate = T25.BRType LEFT OUTER JOIN
                      RMTBaseRateCodes  T26 ON T1.RpyAdvBaseRate = T26.BRType LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN 
					  RMTGENDEPARTMENTS T28 ON T1.ACCOUNTSOFFICER = T28.GENDEPARTMENT LEFT OUTER JOIN
					  MMAgreements T29 ON T1.MMAId = T29.MMAId LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGENDEPARTMENTS T35 ON T1.SalesDepartment = T35.GENDEPARTMENT LEFT OUTER JOIN
                      LimitAPIDetails T31 ON T1.FinLimitRef = T31.LimitRef AND T10.CustCIF = T31.CustomerReference INNER JOIN  
                      BMTProduct T32 ON T7.FinCategory = T32.ProductCode -- New Filed 
</createView>   </changeSet>
<changeSet id="33" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceMain_TView">
SELECT     T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.CcyDesc lovDescFinCcyName, T3.SchdMethodDesc lovDescScheduleMethodName, T4.IntRateBasisDesc lovDescProfitDaysBasisName, 
                      T5.BRTypeDesc lovDescGraceBaseRateName, T6.SRTypeDesc lovDescGraceSpecialRateName, T7.FinTypeDesc lovDescFinTypeName, 
                      T8.BRTypeDesc lovDescRepayBaseRateName, T9.SRTypeDesc lovDescRepaySpecialRateName, T2.CcyEditField lovDescFinFormatter, 
                      T7.FinIsAlwMD lovDescFinIsAlwMD, T7.FinMaxAmount lovDescFinMaxAmt, T7.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T7.FinIsAlwDifferment lovDescFinAlwDeferment, T7.FinIsDwPayRequired lovDescDwnPayReq, T7.FinMaxDifferment lovDescFinMaxDifferment, 
                      T10.CustCIF lovDescCustCIF, T10.CustFName lovDescCustFName, T10.CustLName lovDescCustLName, T12.BranchDesc lovDescFinBranchName, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate, T13.SaluationDesc lovDescSalutationName, T10.CustShrtName lovDescCustShrtName, 
                      T10.CustCoreBank lovDescCustCoreBank, T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, T1.AlwIndRate, T1.IndBaseRate, T1.GrcAlwIndRate, 
                      T1.GrcIndBaseRate, T15.BRTypeDesc lovDescIndBaseRateName, T16.BRTypeDesc lovDescGrcIndBaseRateName, T17.AcrTillLBD lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor, T7.FinGrcRvwRateApplFor, T1.TotalRepayAmt, T7.FinCategory lovDescProductCodeName, T10.CustCtgCode lovDescCustCtgCode, 
                      T1.ClosingStatus, T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                      T19.CmtTitle lovDescCommitmentRefName, T31.LimitDesc lovDescLimitRefName, T1.MigratedFinance, T1.ScheduleMaintained, 
                      T1.ScheduleRegenerated, T1.FinPurpose, T20.ValueDesc lovDescFinPurposeName, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T7.FinScheduleOn LovDescFinScheduleOn, T1.CustDSR, T1.Authorization1, T1.Authorization2, 
                      T21.AuthName lovDescAuthorization1Name, T22.AuthName lovDescAuthorization2Name, T1.JointAccount, T1.JointCustId, 
                      T23.CustShrtName lovDescJointCustShrtName, T23.CustCIF lovDescJointCustCIF, '0' AvailCommitAmount, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral, T1.CustomerAcceptance, T1.Approved, T1.CbbApprovalRequired, T1.CbbApproved, T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T7.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.TakafulFrq, T1.TakafulRate, T1.WaiverReason, T1.TakafulRef, T1.TakafulRequired, 
                      T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T2.CcyEditField ReportFormat, T1.DeviationApproval, T1.PptTakafulRequired, T1.PptTakafulFrq, T1.PptWaiverReason, T1.PptTakafulRate, T1.PptTakafulRef, 
                      T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                      T25.BRTypeDesc GrcAdvBaseRateDesc, T26.BRTypeDesc RpyAdvBaseRateDesc, T1.SupplementRent, T1.IncreasedCost, T1.CreditInsAmt, T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FINPREAPPROVEDREF, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc,T29.AgreeName, T28.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T30.ROfficerDesc DSACodeDesc,
					  T29.MMAReference LovDescMMAReference,T1.TDSApplicable,T1.TakafulStatus, T32.ProductCategory,T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,
					  T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , 
					  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo ,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays
			FROM         FinanceMain_Temp T1 INNER JOIN
                      RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN --not req
                      BMTSchdMethod T3 ON T1.ScheduleMethod = T3.SchdMethod LEFT OUTER JOIN --verify with combobox reqrmnt
                      BMTIntRateBasisCodes T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode LEFT OUTER JOIN
                      RMTBaseRateCodes T5 ON T1.GraceBaseRate = T5.BRType LEFT OUTER JOIN --remove join and use single query
                      RMTSplRateCodes T6 ON T1.GraceSpecialRate = T6.SRType INNER JOIN
                      RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBaseRateCodes T8 ON T1.RepayBaseRate = T8.BRType LEFT OUTER JOIN --remove join and use single query
                      RMTSplRateCodes T9 ON T1.RepaySpecialRate = T9.SRType LEFT OUTER JOIN
                      Customers T10 ON T1.CustID = T10.CustID LEFT OUTER JOIN
                      BMTSalutations T13 ON T10.CustSalutationCode = T13.SalutationCode LEFT OUTER JOIN --not using it anywhere.remove it
                      RMTBranches T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      RMTBaseRateCodes T15 ON T1.IndBaseRate = T15.BRType LEFT OUTER JOIN --remove join and use single query
                      RMTBaseRateCodes T16 ON T1.GrcIndBaseRate = T16.BRType LEFT OUTER JOIN --remove join and use single query
                      FINPFTDETAILS T17 ON T17.FINREFERENCE = T1.FINREFERENCE LEFT OUTER JOIN --not req at org
                      Commitments T19 ON T1.FinCommitmentRef = T19.CmtReference AND T10.CustID = T19.custID LEFT OUTER JOIN --not using
                      RMTLOVFielddetail T20 ON T20.FieldCode = 'FINASSTYP' AND T1.FinPurpose = T20.FieldCodeValue LEFT OUTER JOIN
                      AMTAuthorization T21 ON T1.Authorization1 = T21.AuthUserId LEFT OUTER JOIN
                      AMTAuthorization T22 ON T1.Authorization2 = T22.AuthUserId LEFT OUTER JOIN
                      Customers T23 ON T1.JointCustId = T23.CustID LEFT OUTER JOIN --not using
                      StepPolicyHeader T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      RMTBaseRateCodes T25 ON T1.GrcAdvBaseRate = T25.BRType LEFT OUTER JOIN --remove join and use single query
                      RMTBaseRateCodes T26 ON T1.RpyAdvBaseRate = T26.BRType LEFT OUTER JOIN --remove join and use single query
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN --not using in org
                      RMTGenDepartments T28 ON T1.AccountsOfficer = T28.GenDepartment LEFT OUTER JOIN
					  MMAgreements T29 ON T1.MMAId = T29.MMAId LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T35 ON T1.SalesDepartment = T35.GenDepartment LEFT OUTER JOIN
                      LimitAPIDetails T31 ON T1.FinLimitRef = T31.LimitRef AND T10.CustCIF = T31.CustomerReference  INNER JOIN --not using 
                      BMTProduct T32 ON T7.FinCategory = T32.ProductCode
</createView>   </changeSet>
<changeSet id="34" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceMain_View">
SELECT     T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.CcyDesc lovDescFinCcyName, T3.SchdMethodDesc lovDescScheduleMethodName, T4.IntRateBasisDesc lovDescProfitDaysBasisName, 
                      T5.BRTypeDesc lovDescGraceBaseRateName, T6.SRTypeDesc lovDescGraceSpecialRateName, T7.FinTypeDesc lovDescFinTypeName, 
                      T8.BRTypeDesc lovDescRepayBaseRateName, T9.SRTypeDesc lovDescRepaySpecialRateName, T2.CcyEditField lovDescFinFormatter, 
                      T7.FinIsAlwMD lovDescFinIsAlwMD, T7.FinMaxAmount lovDescFinMaxAmt, T7.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T7.FinIsAlwDifferment lovDescFinAlwDeferment, T7.FinIsDwPayRequired lovDescDwnPayReq, T7.FinMaxDifferment lovDescFinMaxDifferment, 
                      T10.CustCIF lovDescCustCIF, T10.CustFName lovDescCustFName, T10.CustLName lovDescCustLName, T12.BranchDesc lovDescFinBranchName, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate, T13.SaluationDesc lovDescSalutationName, T10.CustShrtName lovDescCustShrtName, 
                      T10.CustCoreBank lovDescCustCoreBank, T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, T1.AlwIndRate, T1.IndBaseRate, T1.GrcAlwIndRate, 
                      T1.GrcIndBaseRate, T15.BRTypeDesc lovDescIndBaseRateName, T16.BRTypeDesc lovDescGrcIndBaseRateName, T17.AcrTillLBD lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor, T7.FinGrcRvwRateApplFor, T1.TotalRepayAmt, T7.FinCategory lovDescProductCodeName, T10.CustCtgCode lovDescCustCtgCode, 
                      T1.ClosingStatus, T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                      T19.CmtTitle lovDescCommitmentRefName, T31.LimitDesc lovDescLimitRefName, T1.MigratedFinance, T1.ScheduleMaintained, 
                      T1.ScheduleRegenerated, T1.FinPurpose, T20.ValueDesc lovDescFinPurposeName, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T7.FinScheduleOn LovDescFinScheduleOn, T1.CustDSR, T1.Authorization1, T1.Authorization2, 
                      T21.AuthName lovDescAuthorization1Name, T22.AuthName lovDescAuthorization2Name, T1.JointAccount, T1.JointCustId, 
                      T23.CustShrtName lovDescJointCustShrtName, T23.CustCIF lovDescJointCustCIF, '0' AvailCommitAmount, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral, T1.CustomerAcceptance, T1.Approved, T1.CbbApprovalRequired, T1.CbbApproved, T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T7.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.TakafulFrq, T1.TakafulRate, T1.WaiverReason, T1.TakafulRef, T1.TakafulRequired, 
                      T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T2.CcyEditField ReportFormat, T1.DeviationApproval, T1.PptTakafulRequired, T1.PptTakafulFrq, T1.PptWaiverReason, T1.PptTakafulRate, T1.PptTakafulRef, 
                      T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                      T25.BRTypeDesc GrcAdvBaseRateDesc, T26.BRTypeDesc RpyAdvBaseRateDesc, T1.SupplementRent, T1.IncreasedCost, T1.CreditInsAmt, T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FINPREAPPROVEDREF, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc,T29.AgreeName, T28.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T30.ROfficerDesc DSACodeDesc,
					  T29.MMAReference  LovDescMMAReference,T1.TDSApplicable,T1.TakafulStatus, T32.ProductCategory,T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,
					  T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays
						FROM         FinanceMain_Temp T1 INNER JOIN
                      RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
                      BMTSchdMethod T3 ON T1.ScheduleMethod = T3.SchdMethod LEFT OUTER JOIN
                      BMTIntRateBasisCodes T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode LEFT OUTER JOIN
                      RMTBaseRateCodes T5 ON T1.GraceBaseRate = T5.BRType LEFT OUTER JOIN
                      RMTSplRateCodes T6 ON T1.GraceSpecialRate = T6.SRType INNER JOIN
                      RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBaseRateCodes T8 ON T1.RepayBaseRate = T8.BRType LEFT OUTER JOIN
                      RMTSplRateCodes T9 ON T1.RepaySpecialRate = T9.SRType LEFT OUTER JOIN
                      Customers T10 ON T1.CustID = T10.CustID LEFT OUTER JOIN
                      BMTSalutations T13 ON T10.CustSalutationCode = T13.SalutationCode LEFT OUTER JOIN
                      RMTBranches T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      RMTBaseRateCodes T15 ON T1.IndBaseRate = T15.BRType LEFT OUTER JOIN
                      RMTBaseRateCodes T16 ON T1.GrcIndBaseRate = T16.BRType LEFT OUTER JOIN
                      FINPFTDETAILS T17 ON T17.FINREFERENCE = T1.FINREFERENCE LEFT OUTER JOIN
                      Commitments T19 ON T1.FinCommitmentRef = T19.CmtReference AND T10.CustID = T19.custID LEFT OUTER JOIN
                      RMTLOVFielddetail T20 ON T20.FieldCode = 'FINASSTYP' AND T1.FinPurpose = T20.FieldCodeValue LEFT OUTER JOIN
                      AMTAuthorization T21 ON T1.Authorization1 = T21.AuthUserId LEFT OUTER JOIN
                      AMTAuthorization T22 ON T1.Authorization2 = T22.AuthUserId LEFT OUTER JOIN
                      Customers T23 ON T1.JointCustId = T23.CustID LEFT OUTER JOIN
                      StepPolicyHeader T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      RMTBaseRateCodes T25 ON T1.GrcAdvBaseRate = T25.BRType LEFT OUTER JOIN
                      RMTBaseRateCodes T26 ON T1.RpyAdvBaseRate = T26.BRType LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN
                      RMTGenDepartments T28 ON T1.AccountsOfficer = T28.GenDepartment LEFT OUTER JOIN
					  MMAgreements T29 ON T1.MMAId = T29.MMAId LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN 
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T35 ON T1.SalesDepartment = T35.GenDepartment LEFT OUTER JOIN
                      LimitAPIDetails T31 ON T1.FinLimitRef = T31.LimitRef AND T10.CustCIF = T31.CustomerReference INNER JOIN  
                      BMTProduct T32 ON T7.FinCategory = T32.ProductCode -- New Filed
			 
	UNION ALL
	SELECT     T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.CcyDesc lovDescFinCcyName, T3.SchdMethodDesc lovDescScheduleMethodName, T4.IntRateBasisDesc lovDescProfitDaysBasisName, 
                      T5.BRTypeDesc lovDescGraceBaseRateName, T6.SRTypeDesc lovDescGraceSpecialRateName, T7.FinTypeDesc lovDescFinTypeName, 
                      T8.BRTypeDesc lovDescRepayBaseRateName, T9.SRTypeDesc lovDescRepaySpecialRateName, T2.CcyEditField lovDescFinFormatter, 
                      T7.FinIsAlwMD lovDescFinIsAlwMD, T7.FinMaxAmount lovDescFinMaxAmt, T7.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T7.FinIsAlwDifferment lovDescFinAlwDeferment, T7.FinIsDwPayRequired lovDescDwnPayReq, T7.FinMaxDifferment lovDescFinMaxDifferment, 
                      T10.CustCIF lovDescCustCIF, T10.CustFName lovDescCustFName, T10.CustLName lovDescCustLName, T12.BranchDesc lovDescFinBranchName, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate, T13.SaluationDesc lovDescSalutationName, T10.CustShrtName lovDescCustShrtName, 
                      T10.CustCoreBank lovDescCustCoreBank, T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, T1.AlwIndRate, T1.IndBaseRate, T1.GrcAlwIndRate, 
                      T1.GrcIndBaseRate, T15.BRTypeDesc lovDescIndBaseRateName, T16.BRTypeDesc lovDescGrcIndBaseRateName, T17.AcrTillLBD lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor, T7.FinGrcRvwRateApplFor, T1.TotalRepayAmt, T7.FinCategory lovDescProductCodeName, T10.CustCtgCode lovDescCustCtgCode, 
                      T1.ClosingStatus, T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                      T19.CmtTitle lovDescCommitmentRefName, T31.LimitDesc lovDescLimitRefName, T1.MigratedFinance, T1.ScheduleMaintained, 
                      T1.ScheduleRegenerated, T1.FinPurpose, T20.ValueDesc lovDescFinPurposeName, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T7.FinScheduleOn LovDescFinScheduleOn, T1.CustDSR, T1.Authorization1, T1.Authorization2, 
                      T21.AuthName lovDescAuthorization1Name, T22.AuthName lovDescAuthorization2Name, T1.JointAccount, T1.JointCustId, 
                      T23.CustShrtName lovDescJointCustShrtName, T23.CustCIF lovDescJointCustCIF, '0' AvailCommitAmount, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral, T1.CustomerAcceptance, T1.Approved, T1.CbbApprovalRequired, T1.CbbApproved, T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T7.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.TakafulFrq, T1.TakafulRate, T1.WaiverReason, T1.TakafulRef, T1.TakafulRequired, 
                      T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T2.CcyEditField ReportFormat, T1.DeviationApproval, T1.PptTakafulRequired, T1.PptTakafulFrq, T1.PptWaiverReason, T1.PptTakafulRate, T1.PptTakafulRef, 
                      T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                      T25.BRTypeDesc GrcAdvBaseRateDesc, T26.BRTypeDesc RpyAdvBaseRateDesc, T1.SupplementRent, T1.IncreasedCost, T1.CreditInsAmt, T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FINPREAPPROVEDREF, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc,T29.AgreeName, T28.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T30.ROfficerDesc DSACodeDesc,
					  T29.MMAReference LovDescMMAReference,T1.TDSApplicable,T1.TakafulStatus, T32.ProductCategory,T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,
					  T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb ,  T1.ApplicationNo ,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays
						FROM         FinanceMain T1 INNER JOIN
                      RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
                      BMTSchdMethod T3 ON T1.ScheduleMethod = T3.SchdMethod LEFT OUTER JOIN
                      BMTIntRateBasisCodes T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode LEFT OUTER JOIN
                      RMTBaseRateCodes T5 ON T1.GraceBaseRate = T5.BRType LEFT OUTER JOIN
                      RMTSplRateCodes T6 ON T1.GraceSpecialRate = T6.SRType INNER JOIN
                      RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBaseRateCodes T8 ON T1.RepayBaseRate = T8.BRType LEFT OUTER JOIN
                      RMTSplRateCodes T9 ON T1.RepaySpecialRate = T9.SRType LEFT OUTER JOIN
                      Customers T10 ON T1.CustID = T10.CustID LEFT OUTER JOIN
                      BMTSalutations T13 ON T10.CustSalutationCode = T13.SalutationCode LEFT OUTER JOIN
                      RMTBranches T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      RMTBaseRateCodes T15 ON T1.IndBaseRate = T15.BRType LEFT OUTER JOIN
                      RMTBaseRateCodes T16 ON T1.GrcIndBaseRate = T16.BRType LEFT OUTER JOIN
                      FINPFTDETAILS T17 ON T17.FINREFERENCE = T1.FINREFERENCE LEFT OUTER JOIN
                      Commitments T19 ON T1.FinCommitmentRef = T19.CmtReference AND T10.CustID = T19.custID LEFT OUTER JOIN
                      RMTLOVFielddetail T20 ON T20.FieldCode = 'FINASSTYP' AND T1.FinPurpose = T20.FieldCodeValue LEFT OUTER JOIN
                      AMTAuthorization T21 ON T1.Authorization1 = T21.AuthUserId LEFT OUTER JOIN
                      AMTAuthorization T22 ON T1.Authorization2 = T22.AuthUserId LEFT OUTER JOIN
                      Customers T23 ON T1.JointCustId = T23.CustID LEFT OUTER JOIN
                      StepPolicyHeader T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      RMTBaseRateCodes T25 ON T1.GrcAdvBaseRate = T25.BRType LEFT OUTER JOIN
                      RMTBaseRateCodes T26 ON T1.RpyAdvBaseRate = T26.BRType LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN
                      RMTGenDepartments T28 ON T1.AccountsOfficer = T28.GenDepartment LEFT OUTER JOIN
					  MMAgreements T29 ON T1.MMAId = T29.MMAId LEFT OUTER JOIN 
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN 
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T35 ON T1.SalesDepartment = T35.GenDepartment LEFT OUTER JOIN
                      LimitAPIDetails T31 ON T1.FinLimitRef = T31.LimitRef AND T10.CustCIF = T31.CustomerReference INNER JOIN --not using 
                      BMTProduct T32 ON T7.FinCategory = T32.ProductCode -- New Filed
						WHERE     (NOT EXISTS
                          (SELECT     1 Expr1
                            FROM          FinanceMain_Temp
                            WHERE      (FINREFERENCE = T1.FINREFERENCE)))
</createView>   </changeSet>

<changeSet id="35" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceMaintenance_AView">
SELECT      T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, 
                  T1.FinStartDate, T1.NumberOfTerms, T1.CustID, T1.FinAmount, T1.MaturityDate, T1.FinRepaymentAmount, 
                  T1.FinIsActive,  T2.CcyEditField LovDescFinFormatter,  T4.CustCIF LovDescCustCIF,
                  T1.Blacklisted, T1.FeeChargeAmt, T1.GraceTerms,T1.AllowGrcPeriod,T1.GrcPeriodEndDate,T3.FinCategory lovDescProductCodeName, 
                  T3.FinIsAlwMD lovDescFinIsAlwMD, T3.FinIsAlwDifferment lovDescFinAlwDeferment,T1.Defferments, 
                  T1.NextRoleCode, T1.RecordStatus, T1.RecordType, T1.allowgrcpftrvw, T1.allowrepayrvw, T1.lastrepaydate, T1.lastrepaypftdate,
                  T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.MigratedFinance, T1.RcdMaintainSts,T1.ClosingStatus, T1.RepayRateBasis, T1.TakafulRequired, T1.PptTakafulRequired,
                  T1.ManualSchedule , T1.TakeOverFinance , T1.NextRolloverDate, T3.TakafulPayType, T3.PropertyTakafulPayType, T1.DownPayment
            FROM           FinanceMain T1 INNER JOIN
                       RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode INNER JOIN
                       RMTFinanceTypes T3 ON T1.FinType = T3.FinType INNER JOIN
                       Customers T4 ON T1.CustID = T4.CustID
</createView>   </changeSet>
<changeSet id="36" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinancePremiumDetail_AView">
SELECT      T1.FinReference, T1.IssueNumber, T1.NoOfUnits, T1.FaceValue, T1.PremiumType, T1.PremiumValue, T1.PricePerUnit, 
T1.YieldValue, T1.LastCouponDate, T1.AccruedProfit, T1.PurchaseDate, T1.FairValuePerUnit, T1.FairValueAmount
FROM         FinancePremiumDetail T1
</createView>   </changeSet>
<changeSet id="37" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinancePremiumDetail_TView">
SELECT     T1.FinReference, T1.IssueNumber, T1.NoOfUnits, T1.FaceValue, T1.PremiumType, T1.PremiumValue, T1.PricePerUnit, 
           T1.YieldValue, T1.LastCouponDate, T1.AccruedProfit, T1.PurchaseDate, T1.FairValuePerUnit, T1.FairValueAmount
FROM         FinancePremiumDetail_Temp T1
</createView>   </changeSet>
<changeSet id="38" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinancePremiumDetail_View">
SELECT     T1.FinReference, T1.IssueNumber, T1.NoOfUnits, T1.FaceValue, T1.PremiumType, T1.PremiumValue, T1.PricePerUnit, 
T1.YieldValue, T1.LastCouponDate, T1.AccruedProfit, T1.PurchaseDate, T1.FairValuePerUnit, T1.FairValueAmount
FROM          FinancePremiumDetail_Temp T1

UNION ALL 
SELECT      T1.FinReference, T1.IssueNumber, T1.NoOfUnits, T1.FaceValue, T1.PremiumType, T1.PremiumValue, T1.PricePerUnit, 
T1.YieldValue, T1.LastCouponDate, T1.AccruedProfit, T1.PurchaseDate, T1.FairValuePerUnit, T1.FairValueAmount
FROM          FinancePremiumDetail T1

WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinancePremiumDetail_Temp
                            WHERE      FinReference = T1.FinReference )
</createView>   </changeSet>
<changeSet id="39" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinanceScoreHeader_View">
SELECT     T1.HeaderId, T1.GroupId, T1.FinReference, T1.MinScore, T1.Override, T1.OverrideScore, T1.CreditWorth, T2.ScoreGroupCode GroupCode, 
                      T2.ScoreGroupName GroupCodeDesc
FROM          FinanceScoreHeader T1 INNER JOIN
                       RMTScoringGroup T2 ON T1.GroupId = T2.ScoreGroupId
</createView>   </changeSet>
<changeSet id="40" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinAssetEvaluation_AView">
SELECT   T1.FinReference,  T1.TypeofValuation,  T1.CustAwareVisit,  T1.CustRepreName,  T1.Leased,  T1.TotalRevenue,  T1.TenantContactNum,
         T1.TenantAwareVisit,  T1.Remarks,  T1.PanelFirm, T1.REUReference,  T1.PropertyDesc,  T1.VendorInstructedDate,  T1.ReportDeliveredDate,
		 T1.InspectionDate,  T1.FinalReportDate,  T1.MarketValueAED,  T1.ValuationDate,  T1.Status, T1.VendorValuer,  T1.ValuerFee,  T1.CustomerFee,
		 T1.ValuationComments,  T1.ExpRentalIncome,  T1.PropIsRented,  T1.PropertyStatus,  T1.PercWorkCompletion,  T1.IllegalDivAlteration,
		 T1.NOCReqDevMunicipality,  T1.REUDecision, T3.FieldCodeValue VendorValuerDesc, T1.UnitVillaSize,
         T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId		 
         FROM  FinAssetEvaluation T1 
         INNER JOIN   FinanceMain T2 ON T2.FinReference = T1.FinReference
         LEFT JOIN RMTLovFieldDetail T3   ON T1.VendorValuer = T3.FieldCodeId
</createView>   </changeSet>
<changeSet id="41" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinAssetEvaluation_TView">
SELECT   T1.FinReference,  T1.TypeofValuation,  T1.CustAwareVisit,  T1.CustRepreName,  T1.Leased,  T1.TotalRevenue,  T1.TenantContactNum,
         T1.TenantAwareVisit,  T1.Remarks,  T1.PanelFirm, T1.REUReference,  T1.PropertyDesc,  T1.VendorInstructedDate,  T1.ReportDeliveredDate,
		 T1.InspectionDate,  T1.FinalReportDate,  T1.MarketValueAED,  T1.ValuationDate,  T1.Status, T1.VendorValuer,  T1.ValuerFee,  T1.CustomerFee,
		 T1.ValuationComments,  T1.ExpRentalIncome,  T1.PropIsRented,  T1.PropertyStatus,  T1.PercWorkCompletion,  T1.IllegalDivAlteration,
		 T1.NOCReqDevMunicipality,  T1.REUDecision, T3.FieldCodeValue VendorValuerDesc, T1.UnitVillaSize,
         T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId	     
		 FROM  FinAssetEvaluation_Temp T1 
		 INNER JOIN  FinanceMain_Temp T2 ON T2.FinReference = T1.FinReference 
		 LEFT JOIN RMTLovFieldDetail T3   ON T1.VendorValuer = T3.FieldCodeId
</createView>   </changeSet>
<changeSet id="42" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinAssetEvaluation_View">
SELECT   T1.FinReference,  T1.TypeofValuation,  T1.CustAwareVisit,  T1.CustRepreName,  T1.Leased,  T1.TotalRevenue,  T1.TenantContactNum,
         T1.TenantAwareVisit,  T1.Remarks,  T1.PanelFirm, T1.REUReference,  T1.PropertyDesc,  T1.VendorInstructedDate,  T1.ReportDeliveredDate,
		 T1.InspectionDate,  T1.FinalReportDate,  T1.MarketValueAED,  T1.ValuationDate,  T1.Status, T1.VendorValuer,  T1.ValuerFee,  T1.CustomerFee,
		 T1.ValuationComments,  T1.ExpRentalIncome,  T1.PropIsRented,  T1.PropertyStatus,  T1.PercWorkCompletion,  T1.IllegalDivAlteration,
		 T1.NOCReqDevMunicipality,  T1.REUDecision, T3.FieldCodeValue VendorValuerDesc, T1.UnitVillaSize,
         T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId	     
		 FROM  FinAssetEvaluation_Temp T1 
		 INNER JOIN  FinanceMain_Temp T2 ON T2.FinReference = T1.FinReference 
		 LEFT JOIN RMTLovFieldDetail T3   ON T1.VendorValuer = T3.FieldCodeId
		
UNION ALL
SELECT   T1.FinReference,  T1.TypeofValuation,  T1.CustAwareVisit,  T1.CustRepreName,  T1.Leased,  T1.TotalRevenue,  T1.TenantContactNum,
         T1.TenantAwareVisit,  T1.Remarks,  T1.PanelFirm, T1.REUReference,  T1.PropertyDesc,  T1.VendorInstructedDate,  T1.ReportDeliveredDate,
		 T1.InspectionDate,  T1.FinalReportDate,  T1.MarketValueAED,  T1.ValuationDate,  T1.Status, T1.VendorValuer,  T1.ValuerFee,  T1.CustomerFee,
		 T1.ValuationComments,  T1.ExpRentalIncome,  T1.PropIsRented,  T1.PropertyStatus,  T1.PercWorkCompletion,  T1.IllegalDivAlteration,
		 T1.NOCReqDevMunicipality,  T1.REUDecision, T3.FieldCodeValue VendorValuerDesc, T1.UnitVillaSize,
         T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId	
		 FROM  FinAssetEvaluation T1  
		 INNER JOIN  FinanceMain T2 ON T2.FinReference = T1.FinReference 
		 LEFT JOIN RMTLovFieldDetail T3   ON T1.VendorValuer = T3.FieldCodeId
		
WHERE NOT EXISTS 
                 (SELECT   1 
				  FROM        FinAssetEvaluation_Temp 
				  WHERE       FinReference = T1.FinReference)
</createView>   </changeSet>
<changeSet id="43" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinAssetTypes_TView">
SELECT     T1.AssetType, T1.SeqNo, T1.Reference,
		  				 T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
		 				  T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
						FROM   FinAssetTypes_Temp T1
</createView>   </changeSet>
<changeSet id="44" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinCollaterals_AView">
SELECT     T1.FinReference, T1.CollateralSeq, T1.CollateralType, T1.CustID, T1.Reference, T1.Ccy, T1.Value, T1.Coverage, T1.TenorType, T1.Tenor, T1.Rate, T1.MaturityDate, 
                      T1.BankName, T1.FirstChequeNo, T1.StartDate, T1.LastChequeNo, T1.Status, T1.Remarks, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinCollaterals T1
</createView>   </changeSet>
<changeSet id="45" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinCollaterals_TView">
SELECT     T1.FinReference, T1.CollateralSeq, T1.CollateralType, T1.CustID, T1.Reference, T1.Ccy, T1.Value, T1.Coverage, T1.TenorType, T1.Tenor, T1.Rate, T1.MaturityDate, 
                      T1.BankName, T1.FirstChequeNo, T1.StartDate, T1.LastChequeNo, T1.Status, T1.Remarks, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinCollaterals_Temp T1
</createView>   </changeSet>
<changeSet id="46" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinCollaterals_View">
SELECT     T1.FinReference, T1.CollateralSeq, T1.CollateralType, T1.CustID, T1.Reference, T1.Ccy, T1.Value, T1.Coverage, T1.TenorType, T1.Tenor, T1.Rate, T1.MaturityDate, 
                      T1.BankName, T1.FirstChequeNo, T1.StartDate, T1.LastChequeNo, T1.Status, T1.Remarks, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinCollaterals_Temp T1
UNION ALL
SELECT     T1.FinReference, T1.CollateralSeq, T1.CollateralType, T1.CustID, T1.Reference, T1.Ccy, T1.Value, T1.Coverage, T1.TenorType, T1.Tenor, T1.Rate, T1.MaturityDate, 
                      T1.BankName, T1.FirstChequeNo, T1.StartDate, T1.LastChequeNo, T1.Status, T1.Remarks, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM          FinCollaterals T1
WHERE     (NOT EXISTS
                          (SELECT     1                            FROM           FinCollaterals_Temp
                            WHERE      (FinReference = T1.FinReference) AND (CollateralSeq=T1.CollateralSeq)))
</createView>   </changeSet>
<changeSet id="47" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinContractorAstDtls_AView">
SELECT     T1.FinReference, T1.ContractorId, T1.CustID, T2.CustCIF lovDescCustCIF, T2.CustShrtName lovDescCustShrtName, T1.AssetDesc, T1.AssetValue, 
                      T1.TotClaimAmt, T1.TotAdvanceAmt, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 
                      T1.RecordType, T1.WorkflowId, T1.ContractorName, T1.DftRetentionPerc,T1.RetentionTillDate
FROM          FinContractorAstDtls T1 LEFT OUTER JOIN
                       Customers T2 ON T2.CustID = T1.CustID
</createView>   </changeSet>
<changeSet id="48" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinContractorAstDtls_TView">
SELECT     T1.FinReference, T1.ContractorId, T1.CustID, T3.CustCIF lovDescCustCIF, T3.CustShrtName lovDescCustShrtName, T1.AssetDesc, T1.AssetValue, T1.TotClaimAmt, T1.TotAdvanceAmt,	 T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.ContractorName, T1.DftRetentionPerc,T1.RetentionTillDate
FROM          FinContractorAstDtls_Temp T1 LEFT OUTER JOIN
                       Customers T3 ON T3.CustID = T1.CustID
</createView>   </changeSet>
<changeSet id="49" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinContractorAstDtls_View">
SELECT     T1.FinReference, T1.ContractorId, T1.CustID, T3.CustCIF lovDescCustCIF, T3.CustShrtName lovDescCustShrtName, T1.AssetDesc, T1.AssetValue, T1.TotClaimAmt, T1.TotAdvanceAmt,	 T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.ContractorName, T1.DftRetentionPerc,T1.RetentionTillDate
FROM          FinContractorAstDtls_Temp T1 LEFT OUTER JOIN
                       Customers T3 ON T3.CustID = T1.CustID
UNION ALL
SELECT     T1.FinReference, T1.ContractorId, T1.CustID, T3.CustCIF lovDescCustCIF, T3.CustShrtName lovDescCustShrtName, T1.AssetDesc, T1.AssetValue,  T1.TotClaimAmt, T1.TotAdvanceAmt, T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.ContractorName, T1.DftRetentionPerc,T1.RetentionTillDate
FROM          FinContractorAstDtls T1 LEFT OUTER JOIN
                       Customers T3 ON T3.CustID = T1.CustID
WHERE     (NOT EXISTS
                          (SELECT     1 Expr1
                            FROM           FinContractorAstDtls_Temp
                            WHERE      (ContractorId = T1.ContractorId) AND (FinReference = T1.FinReference)))
</createView>   </changeSet>
<changeSet id="50" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinContributorDetail_AView">
SELECT      FinContributorDetail.FinReference,  FinContributorDetail.ContributorBaseNo,  FinContributorDetail.ContributorName, 
                       FinContributorDetail.ContributorInvest,  FinContributorDetail.InvestAccount,  FinContributorDetail.InvestDate, 
                       FinContributorDetail.TotalInvestPerc,  FinContributorDetail.MudaribPerc,  FinContributorDetail.Version,  FinContributorDetail.LastMntBy, 
                       FinContributorDetail.LastMntOn,  FinContributorDetail.RecordStatus,  FinContributorDetail.RoleCode, 
                       FinContributorDetail.NextRoleCode,  FinContributorDetail.TaskId,  FinContributorDetail.NextTaskId,  FinContributorDetail.RecordType, 
                       FinContributorDetail.WorkflowId,  FinContributorDetail.CustID,  Customers.CustCIF lovDescContributorCIF, 
                       RMTCurrencies.CcyEditField lovDescFinFormatter,  FinContributorDetail.RecordDate
FROM          FinContributorDetail INNER JOIN
                       Customers ON  FinContributorDetail.CustID =  Customers.CustID INNER JOIN
                       FinanceMain_View ON  FinContributorDetail.FinReference =  FinanceMain_View.FinReference INNER JOIN
                       RMTCurrencies ON  FinanceMain_View.FinCcy =  RMTCurrencies.CcyCode
</createView>   </changeSet>
<changeSet id="51" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinContributorDetail_TView">
SELECT     FinContributorDetail_Temp.FinReference, FinContributorDetail_Temp.ContributorBaseNo, FinContributorDetail_Temp.CustID, 
                      FinContributorDetail_Temp.ContributorName, FinContributorDetail_Temp.ContributorInvest, FinContributorDetail_Temp.InvestAccount, 
                      FinContributorDetail_Temp.InvestDate, FinContributorDetail_Temp.TotalInvestPerc, FinContributorDetail_Temp.MudaribPerc, 
                      FinContributorDetail_Temp.Version, FinContributorDetail_Temp.LastMntBy, FinContributorDetail_Temp.LastMntOn, 
                      FinContributorDetail_Temp.RecordStatus, FinContributorDetail_Temp.RoleCode, FinContributorDetail_Temp.NextRoleCode, 
                      FinContributorDetail_Temp.TaskId, FinContributorDetail_Temp.NextTaskId, FinContributorDetail_Temp.RecordType, 
                      FinContributorDetail_Temp.WorkflowId,  Customers.CustCIF lovDescContributorCIF, 
                       RMTCurrencies.CcyEditField lovDescFinFormatter,  FinContributorDetail_Temp.RecordDate
FROM          FinContributorDetail_Temp INNER JOIN
                       Customers ON  FinContributorDetail_Temp.CustID =  Customers.CustID INNER JOIN
                       FinanceMain_View ON  FinContributorDetail_Temp.FinReference =  FinanceMain_View.FinReference INNER JOIN
                       RMTCurrencies ON  FinanceMain_View.FinCcy =  RMTCurrencies.CcyCode
</createView>   </changeSet>

<changeSet id="52" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinContributorDetail_View">
SELECT     FinContributorDetail_Temp.FinReference, FinContributorDetail_Temp.ContributorBaseNo, FinContributorDetail_Temp.CustID, 
                      FinContributorDetail_Temp.ContributorName, FinContributorDetail_Temp.ContributorInvest, FinContributorDetail_Temp.InvestAccount, 
                      FinContributorDetail_Temp.InvestDate, FinContributorDetail_Temp.TotalInvestPerc, FinContributorDetail_Temp.MudaribPerc, 
                      FinContributorDetail_Temp.Version, FinContributorDetail_Temp.LastMntBy, FinContributorDetail_Temp.LastMntOn, 
                      FinContributorDetail_Temp.RecordStatus, FinContributorDetail_Temp.RoleCode, FinContributorDetail_Temp.NextRoleCode, 
                      FinContributorDetail_Temp.TaskId, FinContributorDetail_Temp.NextTaskId, FinContributorDetail_Temp.RecordType, 
                      FinContributorDetail_Temp.WorkflowId,  Customers.CustCIF lovDescContributorCIF, 
                       RMTCurrencies.CcyEditField lovDescFinFormatter,  FinContributorDetail_Temp.RecordDate
FROM          FinContributorDetail_Temp INNER JOIN
                       Customers ON  FinContributorDetail_Temp.CustID =  Customers.CustID INNER JOIN
                       FinanceMain_View ON  FinContributorDetail_Temp.FinReference =  FinanceMain_View.FinReference INNER JOIN
                       RMTCurrencies ON  FinanceMain_View.FinCcy =  RMTCurrencies.CcyCode
UNION ALL
SELECT     FinContributorDetail.FinReference, FinContributorDetail.ContributorBaseNo, FinContributorDetail.CustID, FinContributorDetail.ContributorName, 
                      FinContributorDetail.ContributorInvest, FinContributorDetail.InvestAccount, FinContributorDetail.InvestDate, FinContributorDetail.TotalInvestPerc, 
                      FinContributorDetail.MudaribPerc, FinContributorDetail.Version, FinContributorDetail.LastMntBy, FinContributorDetail.LastMntOn, 
                      FinContributorDetail.RecordStatus, FinContributorDetail.RoleCode, FinContributorDetail.NextRoleCode, FinContributorDetail.TaskId, 
                      FinContributorDetail.NextTaskId, FinContributorDetail.RecordType, FinContributorDetail.WorkflowId,  Customers.CustCIF lovDescContributorCIF, 
                       RMTCurrencies.CcyEditField lovDescFinFormatter,  FinContributorDetail.RecordDate
FROM          FinContributorDetail INNER JOIN
                       Customers ON  FinContributorDetail.CustID =  Customers.CustID INNER JOIN
                       FinanceMain_View ON  FinContributorDetail.FinReference =  FinanceMain_View.FinReference INNER JOIN
                       RMTCurrencies ON  FinanceMain_View.FinCcy =  RMTCurrencies.CcyCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinContributorDetail_TEMP
                            WHERE      FinReference = FinContributorDetail.FinReference AND ContributorBaseNo = FinContributorDetail.ContributorBaseNo)
</createView>   </changeSet>
<changeSet id="53" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinContributorHeader_AView">
SELECT     FinReference, MinContributors, MaxContributors, MinContributionAmt, MaxContributionAmt, CurContributors, CurContributionAmt, CurBankInvestment, 
                      AvgMudaribRate, AlwContributorsToLeave, AlwContributorsToJoin, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, 
                      NextTaskId, RecordType, WorkflowId
FROM         FinContributorHeader
</createView>   </changeSet>
<changeSet id="54" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinContributorHeader_TView">
SELECT     FinReference, MinContributors, MaxContributors, MinContributionAmt, MaxContributionAmt, CurContributors, CurContributionAmt, CurBankInvestment, 
                      AvgMudaribRate, AlwContributorsToLeave, AlwContributorsToJoin, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, 
                      NextTaskId, RecordType, WorkflowId
FROM         FinContributorHeader_Temp
</createView>   </changeSet>
<changeSet id="55" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinContributorHeader_View">
SELECT     FinReference, MinContributors, MaxContributors, MinContributionAmt, MaxContributionAmt, CurContributors, CurContributionAmt, CurBankInvestment, 
                      AvgMudaribRate, AlwContributorsToLeave, AlwContributorsToJoin, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, 
                      NextTaskId, RecordType, WorkflowId
FROM          FinContributorHeader_Temp
UNION ALL
SELECT     FinReference, MinContributors, MaxContributors, MinContributionAmt, MaxContributionAmt, CurContributors, CurContributionAmt, CurBankInvestment, 
                      AvgMudaribRate, AlwContributorsToLeave, AlwContributorsToJoin, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, 
                      NextTaskId, RecordType, WorkflowId
FROM          FinContributorHeader 
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinContributorHeader_TEMP
                            WHERE      FinReference = FinContributorHeader.FinReference)
</createView>   </changeSet>
<changeSet id="56" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinCovenantType_AView">
SELECT   T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T4.RoleDesc MandRoleDesc,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId		 
         FROM  FinCovenantType T1 INNER JOIN  
		  FinanceMain T2 ON T2.FinReference = T1.FinReference  INNER JOIN 
		  BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
		  SecRoles T4 ON T4.RoleCd = T1.MandRole
</createView>   </changeSet>
<changeSet id="57" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinCovenantType_TView">
SELECT   T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T4.RoleDesc MandRoleDesc,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId		 
         FROM  FinCovenantType_Temp T1 INNER JOIN  
		  FinanceMain_Temp T2 ON T2.FinReference = T1.FinReference  INNER JOIN 
		  BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
		  SecRoles T4 ON T4.RoleCd = T1.MandRole
</createView>   </changeSet>
<changeSet id="58" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinCovenantType_View">
SELECT   T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T4.RoleDesc MandRoleDesc,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId		 
         FROM  FinCovenantType_Temp T1 INNER JOIN  
		  FinanceMain_Temp T2 ON T2.FinReference = T1.FinReference  INNER JOIN 
		  BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
		  SecRoles T4 ON T4.RoleCd = T1.MandRole
		
UNION ALL
SELECT   T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T4.RoleDesc MandRoleDesc,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId		 
         FROM  FinCovenantType T1 INNER JOIN  
		  FinanceMain T2 ON T2.FinReference = T1.FinReference  INNER JOIN 
		  BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
		  SecRoles T4 ON T4.RoleCd = T1.MandRole
		
WHERE NOT EXISTS 
                 (SELECT   1 
				  FROM        FinCovenantType_Temp 
				  WHERE       FinReference = T1.FinReference and CovenantType = T1.CovenantType)
</createView>   </changeSet>
<changeSet id="59" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinCreditReviewDetails_AView">
SELECT     T1.DetailId, T1.CreditRevCode, T1.CustomerId, T1.AuditYear, T1.BankName, T1.Auditors, T1.Consolidated, T1.Location, T1.ConversionRate, T1.AuditedDate, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.AuditPeriod, 
                      T1.AuditType, T1.Qualified, T1.Currency, T2.CustCIF lovDescCustCIF, T2.CustCtgCode lovDescCustCtgCode, 
                      T2.CustShrtName lovDescCustShrtName, T1.NoOfShares, T1.MarketPrice, T3.CcyEditField lovDescCcyEditField, T1.Division
FROM         FinCreditReviewDetails T1 
		 INNER JOIN customers T2 ON T1.CustomerId = T2.CustId
		 INNER JOIN RMTCurrencies T3 ON T1.Currency = T3.CcyCode
</createView>   </changeSet>
<changeSet id="60" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinCreditReviewDetails_View">
SELECT     T1.DetailId, T1.CreditRevCode, T1.CustomerId, T1.AuditYear, T1.BankName, T1.Auditors, T1.Consolidated, T1.Location, T1.ConversionRate, T1.AuditedDate, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.AuditPeriod, 
                      T1.AuditType, T1.Qualified, T1.Currency, T2.CustCIF lovDescCustCIF, T2.CustCtgCode lovDescCustCtgCode, 
                      T2.CustShrtName lovDescCustShrtName, T1.NoOfShares, T1.MarketPrice, T3.CcyEditField lovDescCcyEditField, T1.Division
FROM         FinCreditReviewDetails_Temp T1 
		INNER JOIN customers T2 ON T1.CustomerId = T2.CustId
		INNER JOIN RMTCurrencies T3 ON T1.Currency = T3.CcyCode
UNION ALL
SELECT     T1.DetailId, T1.CreditRevCode, T1.CustomerId, T1.AuditYear, T1.BankName, T1.Auditors, T1.Consolidated, T1.Location, T1.ConversionRate, T1.AuditedDate, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.AuditPeriod, 
                      T1.AuditType, T1.Qualified, T1.Currency, T2.CustCIF lovDescCustCIF, T2.CustCtgCode lovDescCustCtgCode, 
                      T2.CustShrtName lovDescCustShrtName, T1.NoOfShares, T1.MarketPrice, T3.CcyEditField lovDescCcyEditField, T1.Division
FROM         FinCreditReviewDetails T1 
		 INNER JOIN customers T2 ON T1.CustomerId = T2.CustId
		 INNER JOIN RMTCurrencies T3 ON T1.Currency = T3.CcyCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinCreditReviewDetails_Temp
                            WHERE      FinCreditReviewDetails_Temp.DetailId = T1.DetailId)
</createView>   </changeSet>
<changeSet id="61" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinCreditRevSubCategory_View">
SELECT		T1.SubCategoryCode, T1.SubCategorySeque, T1.CategoryId, T1.SubCategoryDesc, T1.SubCategoryItemType, T1.ItemsToCal, T1.ItemRule, T1.isCreditCCY, T1.mainSubCategoryCode, T1.CalcSeque, T1.format, T1.percentCategory, T1.grand		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	FinCreditRevSubCategory_TEMP T1
UNION ALL
SELECT		T1.SubCategoryCode, T1.SubCategorySeque, T1.CategoryId, T1.SubCategoryDesc, T1.SubCategoryItemType, T1.ItemsToCal, T1.ItemRule, T1.isCreditCCY, T1.mainSubCategoryCode, T1.CalcSeque, T1.format, T1.percentCategory, T1.grand		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	FinCreditRevSubCategory T1
WHERE     NOT EXISTS (SELECT 1 FROM FinCreditRevSubCategory_TEMP WHERE SubCategoryCode = T1.SubCategoryCode)
</createView>   </changeSet>
<changeSet id="62" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinDefermentDetail_AView">
SELECT     T1.FinReference, T1.DeferedSchdDate, T1.DefSchdProfit, T1.DefSchdPrincipal, T1.DeferedRpyDate, T1.DefRpySchdPft, T1.DefRpySchdPri, 
                      T1.DefRpySchdPftBal, T1.DefRpySchdPriBal, T1.DefPaidPftTillDate, T1.DefPaidPriTillDate, T1.DefPftBalance, T1.DefPriBalance, T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinDefermentDetail T1
</createView>   </changeSet>
<changeSet id="63" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinDefermentDetail_View">
SELECT     T1.FinReference, T1.DeferedSchdDate, T1.DefSchdProfit, T1.DefSchdPrincipal, T1.DeferedRpyDate, T1.DefRpySchdPft, T1.DefRpySchdPri, 
                      T1.DefRpySchdPftBal, T1.DefRpySchdPriBal, T1.DefPaidPftTillDate, T1.DefPaidPriTillDate, T1.DefPftBalance, T1.DefPriBalance, T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinDefermentDetail_Temp T1 
UNION ALL
SELECT     T1.FinReference, T1.DeferedSchdDate, T1.DefSchdProfit, T1.DefSchdPrincipal, T1.DeferedRpyDate, T1.DefRpySchdPft, T1.DefRpySchdPri, 
                      T1.DefRpySchdPftBal, T1.DefRpySchdPriBal, T1.DefPaidPftTillDate, T1.DefPaidPriTillDate, T1.DefPftBalance, T1.DefPriBalance, T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinDefermentDetail T1 
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinDefermentDetail_Temp
                            WHERE      FinReference = T1.FinReference)
</createView>   </changeSet>
<changeSet id="64" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinDefermentHeader_AView">
SELECT     T1.FinReference, T1.DeferedSchdDate, T1.DefSchdProfit, T1.DefSchdPrincipal, T1.DefRecalType, T1.DefTillDate, T1.Version, T1.LastMntBy, 
                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinDefermentHeader  T1
</createView>   </changeSet>
<changeSet id="65" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinDefermentHeader_View">
SELECT     T1.FinReference, T1.DeferedSchdDate, T1.DefSchdProfit, T1.DefSchdPrincipal, T1.DefRecalType, T1.DefTillDate, T1.Version, T1.LastMntBy, 
                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM          FinDefermentHeader_Temp T1 
UNION ALL
SELECT     T1.FinReference, T1.DeferedSchdDate, T1.DefSchdProfit, T1.DefSchdPrincipal, T1.DefRecalType, T1.DefTillDate, T1.Version, T1.LastMntBy, 
                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM          FinDefermentHeader T1 
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinDefermentHeader_Temp
                            WHERE      FinReference = T1.FinReference)
</createView>   </changeSet>
<changeSet id="66" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinDisbursementDetails_AView">
SELECT     T1.FinReference, T1.DisbDate, T1.DisbSeq, T1.DisbDesc, T1.DisbAccountId, T1.DisbAmount, T1.DisbReqDate, T1.DisbDisbursed, T1.DisbIsActive, T1.DisbRemarks, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.FeeChargeAmt, 
                      T1.Version, T1.DisbType, T1.DisbClaim, T1.DisbExpType, T1.DisbRetPerc, T1.DisbRetAmount, T1.AutoDisb, T1.NetAdvDue, T1.NetRetDue, T1.DisbRetPaid, 
                      T1.RetPaidDate, T2.ExpenceTypeName lovDescDisbExpType, 
                      T1.ConsultFeeFrq,T1.ConsultFeeStartDate,T1.ConsultFeeEndDate, T1.ContractorId,T1.InsuranceAmt
FROM          FinDisbursementDetails T1  LEFT OUTER JOIN
                       AMTExpenseType T2 ON T2.ExpenceTypeId = T1.DisbExpType
</createView>   </changeSet>					   
<changeSet id="67" author="Pruthvi">
		<createView replaceIfExists="true" viewName="FinDisbursementDetails_TView">				   
SELECT     T1.FinReference, T1.DisbDate, T1.DisbSeq, T1.DisbDesc, T1.DisbAccountId, T1.DisbAmount, T1.DisbReqDate, T1.DisbDisbursed, T1.DisbIsActive, T1.DisbRemarks, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T1.FeeChargeAmt,   T1.DisbType, T1.DisbClaim, T1.DisbExpType, T1.DisbRetPerc, T1.DisbRetAmount, T1.AutoDisb, T1.NetAdvDue, T1.NetRetDue, T1.DisbRetPaid, T1.RetPaidDate, 
                    T2.ExpenceTypeName  lovDescDisbExpType, T1.ConsultFeeFrq,T1.ConsultFeeStartDate,T1.ConsultFeeEndDate, T1.ContractorId,T1.InsuranceAmt
FROM          FinDisbursementDetails_Temp  T1 LEFT OUTER JOIN
                       AMTExpenseType  T2 ON T2.ExpenceTypeId = T1.DisbExpType
</createView>   </changeSet>
<changeSet id="68" author="Prasad">
		<createView replaceIfExists="true" viewName="RMTFinanceTypes_AView">
		SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
				           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
						   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
						   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
				           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
						   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
						   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
						   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
						   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
						   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
						   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
				           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
						   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
						   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
				           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
						   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
						   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
				           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
						   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
						   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
				           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
				           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
				           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
				           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
						   T1.FinCommitmentOvrride, T1.FinCollateralOvrride, 
				           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
						   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
						   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
						   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
						   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
				           T53.AddrLine1 ${call.concatenate} ' ' ${call.concatenate} T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
						   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
						   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
						   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
				           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
				           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
						   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
						   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
						   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
						   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
						    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
							T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
							T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays
				FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
				           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
				           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
				           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
				           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
				           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
				           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
				           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
				           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
				           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
				           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
				           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
				           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
				           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
				           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
				           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
				           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
				           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
				           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
				           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
				           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
				           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
				           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
				           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
				           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
				           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
				           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
				           Rules T68 ON T1.RpyPricingMethod = T68.RuleId
		</createView>
</changeSet>


<changeSet id="69" author="Prasad">
		<createView replaceIfExists="true" viewName="RMTFinanceTypes_View">
		SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
			           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
					   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
			           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
					   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
					   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
					   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
					   T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
					   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
					   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
			           T53.AddrLine1 ${call.concatenate} ' ' ${call.concatenate} T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
					   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
					   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
			           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays
			FROM       RMTFinanceTypes_Temp T1 LEFT OUTER JOIN
			           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
			           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
			           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
			           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
			           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
			           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
			           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
			           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
			           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
			           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
			           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId 
			UNION ALL
			SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
			           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
					   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
			           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
					   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
					   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
					   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
					   T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
					   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
					   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
			           T53.AddrLine1 ${call.concatenate} ' ' ${call.concatenate} T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
					   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
					   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
			           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays
			FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
			           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
			           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
			           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
			           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
			           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
			           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
			           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
			           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
			           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
			           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
			           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId 
			WHERE     (NOT EXISTS
			                          (SELECT     1 Expr1
			                            FROM          RMTFinanceTypes_Temp
			                            WHERE      (FinType = T1.FinType)))
		
		</createView>
</changeSet>
<changeSet id="70" author="Prasad">
		<createView replaceIfExists="true" viewName="RMTFinanceTypes_ORGView">
		SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType, T1.FinIsGenRef, T1.FinMaxAmount, 
			                      T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD, T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, 
			                      T1.EqualRepayment, T1.FinRateType, T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			                      T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate, T1.FInGrcMinRate, T1.FinGrcMaxRate, 
			                      T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, 
			                      T1.FInRepayMethod, T1.FinIsAlwPartialRpy, T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, 
			                      T1.FinEarlyPayRule, T1.FinEarlySettleRule, T1.FinDepositRestrictedTo, T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version, T1.LastMntBy, 
			                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, 
			                      T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, T3.BRTypeDesc lovDescFinBaseRateName, T4.SRTypeDesc lovDescFinSplRateName, 
			                      T5.BRTypeDesc lovDescFinGrcBaseRateName, T6.SRTypeDesc lovDescFinGrcSplRateName, T1.FinIsDwPayRequired, T1.FinRvwRateApplFor, 
			                      T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd, T1.FinElgRuleCode, T1.LimitElgRuleCode, T1.FinSchCalCodeOnRvw, 
			                      T1.AlwPlanDeferment, T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc, T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, 
			                      T1.FinMargin, T1.FinScheduleOn, T1.FinGrcScheduleOn, T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, 
			                      T1.FinBankContingentAcType, T1.FinProvisionAcType,   
			                      T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired, 
			                      T1.FinCommitmentOvrride, T1.FinCollateralOvrride, T1.FinRepayPftOnFrq, T1.FinPftUnChanged, T1.ApplyODPenalty, T1.ODIncGrcDays, T1.ODChargeType, 
			                      T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc, T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision, 
			                      T9.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType, T1.Product, T1.StartDate, T1.EndDate, T1.TakafulMandatory, T1.TakafulReq, 
			                      T1.RemFeeSchdMethod, T1.TakafulProvider, T10.TakafulName lovDescTakafulProviderName, T10.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, 
			                      T2.FinTypeDesc lovDescPromoFinTypeDesc, T10.AddrLine1 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
			                      T12.PolicyDesc lovDescDftStepPolicyName, T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType, T1.PropertyTakafulPayType, 
			                      T1.PropertyTakafulProvider, T1.PastduePftCalMthd, T1.PastduePftMargin, T11.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, 
			                      T11.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
			                      T13.BRTypeDesc GrcAdvBaseRateDesc, T14.BRTypeDesc RpyAdvBaseRateDesc, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule, 
			                      T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb, T1.collateralType, T1.TDSApplicable, T15.RuleCode DownPayRuleDesc, T1.ApplyGrcPricing, 
			                      T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy, T16.RuleCode GrcPricingMethodDesc, 
			                      T17.RuleCode RpyPricingMethodDesc, T1.DroplineOD, T1.DroppingMethod, T1.RateChgAnyDay, T12.StepType DftStepPolicyType, T1.ManualSchedule,T18.ProductCategory,
			                      T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
			 					  T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
			 					  T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays
			FROM         RMTFinanceTypes T1 LEFT OUTER JOIN
			                      RMTFinanceTypes T2 ON T1.Product = T2.FinType LEFT OUTER JOIN
			                      RMTBaseRateCodes T3 ON T1.FinBaseRate = T3.BRType LEFT OUTER JOIN
			                      RMTSplRateCodes T4 ON T1.FinSplRate = T4.SRType LEFT OUTER JOIN
			                      RMTBaseRateCodes T5 ON T1.FinGrcBaseRate = T5.BRType LEFT OUTER JOIN
			                      RMTSplRateCodes T6 ON T1.FinGrcSplRate = T6.SRType LEFT OUTER JOIN
			                      SMTDivisionDetail T9 ON T1.FinDivision = T9.DivisionCode LEFT OUTER JOIN
			                      TakafulProvider T10 ON T1.TakafulProvider = T10.TakafulCode LEFT OUTER JOIN
			                      TakafulProvider T11 ON T1.PropertyTakafulProvider = T11.TakafulCode LEFT OUTER JOIN
			                      StepPolicyHeader T12 ON T1.DftStepPolicy = T12.PolicyCode LEFT OUTER JOIN
			                      RMTBaseRateCodes T13 ON T1.GrcAdvBaseRate = T13.BRType LEFT OUTER JOIN
			                      RMTBaseRateCodes T14 ON T1.RpyAdvBaseRate = T14.BRType LEFT OUTER JOIN
			                      Rules T15 ON T1.DownPayRule = T15.RuleId LEFT OUTER JOIN
			                      Rules T16 ON T1.GrcPricingMethod = T16.RuleId LEFT OUTER JOIN
			                      Rules T17 ON T1.RpyPricingMethod = T17.RuleId LEFT OUTER JOIN
								  BMTProduct T18 ON T1.FinCategory = T18.ProductCode
			</createView>
</changeSet>

<changeSet id="71" author="Prasad">
		<dropColumn columnName="finAlwIndRate" tableName="RMTFinanceTypes" />
	</changeSet>
<changeSet id="72" author="Prasad">
		<dropColumn columnName="finIndBaseRate" tableName="RMTFinanceTypes" />
	</changeSet>
	<changeSet id="73" author="Prasad">
		<dropColumn columnName="finGrcAlwIndRate" tableName="RMTFinanceTypes" />
	</changeSet>
		<changeSet id="74" author="Prasad">
		<dropColumn columnName="finGrcIndBaseRate" tableName="RMTFinanceTypes" />
	</changeSet>
	
	<changeSet id="75" author="Prasad">
		<dropColumn columnName="finAlwIndRate" tableName="RMTFinanceTypes_TEMP" />
	</changeSet>
<changeSet id="76" author="Prasad">
		<dropColumn columnName="finIndBaseRate" tableName="RMTFinanceTypes_TEMP" />
	</changeSet>
	<changeSet id="77" author="Prasad">
		<dropColumn columnName="finGrcAlwIndRate" tableName="RMTFinanceTypes_TEMP" />
	</changeSet>
		<changeSet id="78" author="Prasad">
		<dropColumn columnName="finGrcIndBaseRate" tableName="RMTFinanceTypes_TEMP" />
	</changeSet>

<changeSet id="79.2" author="Prasad" dbms="mssql">
<createView replaceIfExists="true" viewName="LMTFINANCEWORKFLOWDEF_AVIEW">
	SELECT T1.FinType , T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName  ,
		T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc,
          T1.FinType lovDescPromotionCode  ,
          T2.FinTypeDesc lovDescPromotionName  ,
          T4.FacilityDesc lovDescFacilityTypeName  ,
          T1.ScreenCode ,
          T1.WorkFlowType ,
          T3.WorkFlowDesc lovDescWorkFlowTypeName  ,
          T1.Version ,
          T1.LastMntBy ,
          T1.LastMntOn ,
          T1.RecordStatus ,
          T1.RoleCode ,
          T1.NextRoleCode ,
          T1.TaskId ,
          T1.NextTaskId ,
          T1.RecordType ,
          T1.WorkflowId ,
          T3.WorkFlowRoles LovDescWorkFlowRolesName  ,
          T2.FinCategory LovdescProductCodeName  ,
          T2.FinDivision lovDescFinDivisionName  ,
          T3.FirstTaskOwner LovDescFirstTaskOwner  ,
          T1.ModuleName ,
         COALESCE(CAST(T2.FinIsActive as bit), T6.Active,CAST(T7.Active as bit),CAST(T8.Active as bit) ) FinIsActive, 
          COALESCE(T2.Product, N'') LovDescProductName  ,
          T2.lovDescPromoFinTypeDesc ,
          T2.FinAssetType ,
          T2.StartDate ,
          T2.EndDate ,
          T1.FinEvent,
         COALESCE( T2.LovDescFinFormetter, 0) LovDescFinFormetter,
          T5.ProductCategory
     FROM LMTFinanceWorkFlowDef T1
            LEFT JOIN RMTFinanceTypes_AView T2   ON T1.FinType = T2.FinType
            INNER JOIN WorkFlowDetails T3   ON T1.WorkFlowType = T3.WorkFlowType AND T3.WorkFlowActive = 1
            LEFT JOIN CAFFacilityTypes T4   ON T1.FinType = T4.FacilityType 
            LEFT JOin BMTProduct T5 ON T2.FinCategory = T5.ProductCode
            LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
			LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
			LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode
</createView>
	</changeSet>
	<changeSet id="79.1" author="Prasad" dbms="oracle">
<createView replaceIfExists="true" viewName="LMTFINANCEWORKFLOWDEF_AVIEW">
	SELECT T1.FinType , T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName  ,
		T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc,
          T1.FinType lovDescPromotionCode  ,
          T2.FinTypeDesc lovDescPromotionName  ,
          T4.FacilityDesc lovDescFacilityTypeName  ,
          T1.ScreenCode ,
          T1.WorkFlowType ,
          T3.WorkFlowDesc lovDescWorkFlowTypeName  ,
          T1.Version ,
          T1.LastMntBy ,
          T1.LastMntOn ,
          T1.RecordStatus ,
          T1.RoleCode ,
          T1.NextRoleCode ,
          T1.TaskId ,
          T1.NextTaskId ,
          T1.RecordType ,
          T1.WorkflowId ,
          T3.WorkFlowRoles LovDescWorkFlowRolesName  ,
          T2.FinCategory LovdescProductCodeName  ,
          T2.FinDivision lovDescFinDivisionName  ,
          T3.FirstTaskOwner LovDescFirstTaskOwner  ,
          T1.ModuleName ,
         COALESCE(CAST(T2.FinIsActive as number(1)), T6.Active,CAST(T7.Active as number(1)),CAST(T8.Active as number(1)) ) FinIsActive, 
          COALESCE(T2.Product, N'') LovDescProductName  ,
          T2.lovDescPromoFinTypeDesc ,
          T2.FinAssetType ,
          T2.StartDate ,
          T2.EndDate ,
          T1.FinEvent,
         COALESCE( T2.LovDescFinFormetter, 0) LovDescFinFormetter,
          T5.ProductCategory
     FROM LMTFinanceWorkFlowDef T1
            LEFT JOIN RMTFinanceTypes_AView T2   ON T1.FinType = T2.FinType
            INNER JOIN WorkFlowDetails T3   ON T1.WorkFlowType = T3.WorkFlowType AND T3.WorkFlowActive = 1
            LEFT JOIN CAFFacilityTypes T4   ON T1.FinType = T4.FacilityType 
            LEFT JOin BMTProduct T5 ON T2.FinCategory = T5.ProductCode
            LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
			LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
			LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode
</createView>
	</changeSet>
<changeSet id="79" author="Prasad">
		<createView replaceIfExists="true" viewName="WIFFinanceMain_View">
		SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, T1.FinType, 
                      T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, T1.FinStartDate, 
                      T1.FinAmount, T1.FinRepaymentAmount, T1.CustID, T1.Defferments, T1.PlanDeferCount, T1.FinIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.CcyDesc lovDescFinCcyName, T15.CustCIF lovDescCustCIF, 
                      T3.SchdMethodDesc lovDescScheduleMethodName, T4.IntRateBasisDesc lovDescProfitDaysBasisName, T5.BRTypeDesc lovDescGraceBaseRateName, 
                      T6.SRTypeDesc lovDescGraceSpecialRateName, T7.FinTypeDesc lovDescFinTypeName, T8.BRTypeDesc lovDescRepayBaseRateName, 
                      T9.SRTypeDesc lovDescRepaySpecialRateName, T2.CcyEditField lovDescFinFormatter, T7.FinIsAlwMD lovDescFinIsAlwMD, T1.FinBranch, T1.FinSourceID, 
                      T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, T1.AvailedDefFrqChange, T7.FinMaxAmount lovDescFinMaxAmt, 
                      T7.FinMinAmount lovDescFinMinAmount, T7.FinIsAlwDifferment lovDescFinAlwDeferment, T1.MinDownpayPerc, 
                      T7.FinIsDwPayRequired lovDescDwnPayReq, T1.RecalType, T1.FinAssetValue, T7.FinMaxDifferment lovDescFinMaxDifferment, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, T1.DisbAccountId, T1.RepayAccountId,  T11.ScreenCode lovDescScreenCode, T1.AllowGrcRepay, 
                      T1.GrcSchdMthd, T1.RepayMargin, T1.GrcMargin, T1.DepreciationFrq, T1.FinCommitmentRef, T1.FinCurrAssetValue, T1.FinContractDate, T1.NextDepDate, 
                      T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount,    
                        T7.FinRvwRateApplFor, T7.FinGrcRvwRateApplFor, 
                      T1.TotalRepayAmt, T1.ClosingStatus, T1.FinApprovedDate, T7.FinCategory lovDescProductCodeName, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, 
                      T1.EffectiveRateOfReturn, T11.LovDescFirstTaskOwner, T1.DownPayBank, T1.DownPaySupl, T7.FinDivision LovDescFinDivisionName, T1.GraceTerms, 
                      T14.FacilityType, T15.CustShrtName lovDescCustShrtName, T16.BranchDesc lovDescFinBranchName, T17.CustTypeCtg lovDescCustCtgTypeName, 
                      T1.TotalGrossGrcPft, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, T1.NoOfSteps, 
                      T1.TakafulRequired, T1.TakafulFrq, T1.WaiverReason, T1.TakafulRate, T1.TakafulRef, T1.LinkedFinRef, T7. Product LovDescFinProduct, 
                      T2.CcyEditField ReportFormat, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, T1.PptTakafulRequired, T1.PptTakafulFrq, T1.PptWaiverReason, 
                      T1.PptTakafulRate, T1.PptTakafulRef, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
                      T1.RpyAdvMargin, T1.RpyAdvPftRate, T18.BRTypeDesc GrcAdvBaseRateDesc, T19.BRTypeDesc RpyAdvBaseRateDesc, T1.SupplementRent, T1.IncreasedCost, 
                      T1.CreditInsAmt, T1.feeAccountId, T1.TDSApplicable,T1.InsuranceAmt,T1.DeductInsDisb,
                      T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod ,  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb
FROM          WIFFinanceMain_Temp T1 LEFT OUTER JOIN
                       WIFIndicativeTermDetail_Temp T14 ON T14.FinReference = T1.FinReference LEFT OUTER JOIN
                       Customers T15 ON T15.CustID = T1.CustID LEFT OUTER JOIN
                       RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode INNER JOIN
                       BMTSchdMethod T3 ON T1.ScheduleMethod = T3.SchdMethod INNER JOIN
                       BMTIntRateBasisCodes T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode LEFT OUTER JOIN
                       RMTBaseRateCodes T5 ON T1.GraceBaseRate = T5.BRType LEFT OUTER JOIN
                       RMTSplRateCodes T6 ON T1.GraceSpecialRate = T6.SRType INNER JOIN
                       RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                       RMTBaseRateCodes T8 ON T1.RepayBaseRate = T8.BRType LEFT OUTER JOIN
                       RMTSplRateCodes T9 ON T1.RepaySpecialRate = T9.SRType LEFT OUTER JOIN
                       LMTFinanceWorkFlowDef_AView T11 ON T7.FinType = T11.FinType AND T11.FinEvent = 'Origination' LEFT OUTER JOIN
                       RMTBranches T16 ON T1.FinBranch = T16.BranchCode LEFT OUTER JOIN
                       RMTCustTypes T17 ON T17.CustTypeCode = T15.CustTypeCode LEFT OUTER JOIN
                       RMTBaseRateCodes T18 ON T1.GrcAdvBaseRate = T18.BRType LEFT OUTER JOIN
                       RMTBaseRateCodes T19 ON T1.RpyAdvBaseRate = T19.BRType
UNION ALL
SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, T1.FinType, 
                      T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, T1.FinStartDate, 
                      T1.FinAmount, T1.FinRepaymentAmount, T1.CustID, T1.Defferments, T1.PlanDeferCount, T1.FinIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.CcyDesc lovDescFinCcyName, T15.CustCIF lovDescCustCIF, 
                      T3.SchdMethodDesc lovDescScheduleMethodName, T4.IntRateBasisDesc lovDescProfitDaysBasisName, T5.BRTypeDesc lovDescGraceBaseRateName, 
                      T6.SRTypeDesc lovDescGraceSpecialRateName, T7.FinTypeDesc lovDescFinTypeName, T8.BRTypeDesc lovDescRepayBaseRateName, 
                      T9.SRTypeDesc lovDescRepaySpecialRateName, T2.CcyEditField lovDescFinFormatter, T7.FinIsAlwMD lovDescFinIsAlwMD, T1.FinBranch, T1.FinSourceID, 
                      T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, T1.AvailedDefFrqChange, T7.FinMaxAmount lovDescFinMaxAmt, 
                      T7.FinMinAmount lovDescFinMinAmount, T7.FinIsAlwDifferment lovDescFinAlwDeferment, T1.MinDownpayPerc, 
                      T7.FinIsDwPayRequired lovDescDwnPayReq, T1.RecalType, T1.FinAssetValue, T7.FinMaxDifferment lovDescFinMaxDifferment, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, T1.DisbAccountId, T1.RepayAccountId, T11.ScreenCode lovDescScreenCode, T1.AllowGrcRepay, 
                      T1.GrcSchdMthd, T1.RepayMargin, T1.GrcMargin, T1.DepreciationFrq, T1.FinCommitmentRef, T1.FinCurrAssetValue, T1.FinContractDate, T1.NextDepDate, 
                      T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, 
                        T7.FinRvwRateApplFor, T7.FinGrcRvwRateApplFor, 
                      T1.TotalRepayAmt, T1.ClosingStatus, T1.FinApprovedDate, T7.FinCategory lovDescProductCodeName, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, 
                      T1.EffectiveRateOfReturn, T11.LovDescFirstTaskOwner, T1.DownPayBank, T1.DownPaySupl, T7.FinDivision LovDescFinDivisionName, T1.GraceTerms, 
                      T14.FacilityType, T15.CustShrtName lovDescCustShrtName, T16.BranchDesc lovDescFinBranchName, T17.CustTypeCtg lovDescCustCtgTypeName, 
                      T1.TotalGrossGrcPft, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, T1.NoOfSteps,  
                      T1.TakafulRequired, T1.TakafulFrq, T1.WaiverReason, T1.TakafulRate, T1.TakafulRef, T1.LinkedFinRef, T7. Product LovDescFinProduct, 
                      T2.CcyEditField ReportFormat, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, T1.PptTakafulRequired, T1.PptTakafulFrq, T1.PptWaiverReason, 
                      T1.PptTakafulRate, T1.PptTakafulRef, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
                      T1.RpyAdvMargin, T1.RpyAdvPftRate, T18.BRTypeDesc GrcAdvBaseRateDesc, T19.BRTypeDesc RpyAdvBaseRateDesc, T1.SupplementRent, T1.IncreasedCost, 
                      T1.CreditInsAmt, T1.feeAccountId, T1.TDSApplicable,T1.InsuranceAmt,T1.DeductInsDisb,
                      T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod ,  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb
FROM          WIFFinanceMain T1 LEFT OUTER JOIN
                       WIFIndicativeTermDetail T14 ON T14.FinReference = T1.FinReference LEFT OUTER JOIN
                       Customers T15 ON T15.CustID = T1.CustID LEFT OUTER JOIN
                       RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode INNER JOIN
                       BMTSchdMethod T3 ON T1.ScheduleMethod = T3.SchdMethod INNER JOIN
                       BMTIntRateBasisCodes T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode LEFT OUTER JOIN
                       RMTBaseRateCodes T5 ON T1.GraceBaseRate = T5.BRType LEFT OUTER JOIN
                       RMTSplRateCodes T6 ON T1.GraceSpecialRate = T6.SRType INNER JOIN
                       RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                       RMTBaseRateCodes T8 ON T1.RepayBaseRate = T8.BRType LEFT OUTER JOIN
                       RMTSplRateCodes T9 ON T1.RepaySpecialRate = T9.SRType LEFT OUTER JOIN
                       LMTFinanceWorkFlowDef_AView T11 ON T7.FinType = T11.FinType AND T11.FinEvent = 'Origination' LEFT OUTER JOIN
                       RMTBranches T16 ON T1.FinBranch = T16.BranchCode LEFT OUTER JOIN
                       RMTCustTypes T17 ON T17.CustTypeCode = T15.CustTypeCode LEFT OUTER JOIN
                       RMTBaseRateCodes T18 ON T1.GrcAdvBaseRate = T18.BRType LEFT OUTER JOIN
                       RMTBaseRateCodes T19 ON T1.RpyAdvBaseRate = T19.BRType
		</createView>
</changeSet>

<changeSet id="80" author="Prasad">
		<createView replaceIfExists="true" viewName="FinanceMain_View">
		SELECT     T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.CcyDesc lovDescFinCcyName, T3.SchdMethodDesc lovDescScheduleMethodName, T4.IntRateBasisDesc lovDescProfitDaysBasisName, 
                      T5.BRTypeDesc lovDescGraceBaseRateName, T6.SRTypeDesc lovDescGraceSpecialRateName, T7.FinTypeDesc lovDescFinTypeName, 
                      T8.BRTypeDesc lovDescRepayBaseRateName, T9.SRTypeDesc lovDescRepaySpecialRateName, T2.CcyEditField lovDescFinFormatter, 
                      T7.FinIsAlwMD lovDescFinIsAlwMD, T7.FinMaxAmount lovDescFinMaxAmt, T7.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T7.FinIsAlwDifferment lovDescFinAlwDeferment, T7.FinIsDwPayRequired lovDescDwnPayReq, T7.FinMaxDifferment lovDescFinMaxDifferment, 
                      T10.CustCIF lovDescCustCIF, T10.CustFName lovDescCustFName, T10.CustLName lovDescCustLName, T12.BranchDesc lovDescFinBranchName, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate, T13.SaluationDesc lovDescSalutationName, T10.CustShrtName lovDescCustShrtName, 
                      T10.CustCoreBank lovDescCustCoreBank, T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, 
                        T17.AcrTillLBD lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor, T7.FinGrcRvwRateApplFor, T1.TotalRepayAmt, T7.FinCategory lovDescProductCodeName, T10.CustCtgCode lovDescCustCtgCode, 
                      T1.ClosingStatus, T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                      T19.CmtTitle lovDescCommitmentRefName, T31.LimitDesc lovDescLimitRefName, T1.MigratedFinance, T1.ScheduleMaintained, 
                      T1.ScheduleRegenerated, T1.FinPurpose, T20.ValueDesc lovDescFinPurposeName, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T7.FinScheduleOn LovDescFinScheduleOn, T1.CustDSR, T1.Authorization1, T1.Authorization2, 
                      T21.AuthName lovDescAuthorization1Name, T22.AuthName lovDescAuthorization2Name, T1.JointAccount, T1.JointCustId, 
                      T23.CustShrtName lovDescJointCustShrtName, T23.CustCIF lovDescJointCustCIF, '0' AvailCommitAmount, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral,  T1.Approved,  T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T7.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.TakafulFrq, T1.TakafulRate, T1.WaiverReason, T1.TakafulRef, T1.TakafulRequired, 
                      T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T2.CcyEditField ReportFormat, T1.DeviationApproval, T1.PptTakafulRequired, T1.PptTakafulFrq, T1.PptWaiverReason, T1.PptTakafulRate, T1.PptTakafulRef, 
                      T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                      T25.BRTypeDesc GrcAdvBaseRateDesc, T26.BRTypeDesc RpyAdvBaseRateDesc, T1.SupplementRent, T1.IncreasedCost, T1.CreditInsAmt, T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FINPREAPPROVEDREF, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc,T29.AgreeName, T28.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T30.ROfficerDesc DSACodeDesc,
					  T29.MMAReference  LovDescMMAReference,T1.TDSApplicable,T1.TakafulStatus, T32.ProductCategory,T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,
					  T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays
						FROM         FinanceMain_Temp T1 INNER JOIN
                      RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
                      BMTSchdMethod T3 ON T1.ScheduleMethod = T3.SchdMethod LEFT OUTER JOIN
                      BMTIntRateBasisCodes T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode LEFT OUTER JOIN
                      RMTBaseRateCodes T5 ON T1.GraceBaseRate = T5.BRType LEFT OUTER JOIN
                      RMTSplRateCodes T6 ON T1.GraceSpecialRate = T6.SRType INNER JOIN
                      RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBaseRateCodes T8 ON T1.RepayBaseRate = T8.BRType LEFT OUTER JOIN
                      RMTSplRateCodes T9 ON T1.RepaySpecialRate = T9.SRType LEFT OUTER JOIN
                      Customers T10 ON T1.CustID = T10.CustID LEFT OUTER JOIN
                      BMTSalutations T13 ON T10.CustSalutationCode = T13.SalutationCode LEFT OUTER JOIN
                      RMTBranches T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FINPFTDETAILS T17 ON T17.FINREFERENCE = T1.FINREFERENCE LEFT OUTER JOIN
                      Commitments T19 ON T1.FinCommitmentRef = T19.CmtReference AND T10.CustID = T19.custID LEFT OUTER JOIN
                      RMTLOVFielddetail T20 ON T20.FieldCode = 'FINASSTYP' AND T1.FinPurpose = T20.FieldCodeValue LEFT OUTER JOIN
                      AMTAuthorization T21 ON T1.Authorization1 = T21.AuthUserId LEFT OUTER JOIN
                      AMTAuthorization T22 ON T1.Authorization2 = T22.AuthUserId LEFT OUTER JOIN
                      Customers T23 ON T1.JointCustId = T23.CustID LEFT OUTER JOIN
                      StepPolicyHeader T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      RMTBaseRateCodes T25 ON T1.GrcAdvBaseRate = T25.BRType LEFT OUTER JOIN
                      RMTBaseRateCodes T26 ON T1.RpyAdvBaseRate = T26.BRType LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN
                      RMTGenDepartments T28 ON T1.AccountsOfficer = T28.GenDepartment LEFT OUTER JOIN
					  MMAgreements T29 ON T1.MMAId = T29.MMAId LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN 
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T35 ON T1.SalesDepartment = T35.GenDepartment LEFT OUTER JOIN
                      LimitAPIDetails T31 ON T1.FinLimitRef = T31.LimitRef AND T10.CustCIF = T31.CustomerReference INNER JOIN  
                      BMTProduct T32 ON T7.FinCategory = T32.ProductCode 
			 
	UNION ALL
	SELECT     T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.CcyDesc lovDescFinCcyName, T3.SchdMethodDesc lovDescScheduleMethodName, T4.IntRateBasisDesc lovDescProfitDaysBasisName, 
                      T5.BRTypeDesc lovDescGraceBaseRateName, T6.SRTypeDesc lovDescGraceSpecialRateName, T7.FinTypeDesc lovDescFinTypeName, 
                      T8.BRTypeDesc lovDescRepayBaseRateName, T9.SRTypeDesc lovDescRepaySpecialRateName, T2.CcyEditField lovDescFinFormatter, 
                      T7.FinIsAlwMD lovDescFinIsAlwMD, T7.FinMaxAmount lovDescFinMaxAmt, T7.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T7.FinIsAlwDifferment lovDescFinAlwDeferment, T7.FinIsDwPayRequired lovDescDwnPayReq, T7.FinMaxDifferment lovDescFinMaxDifferment, 
                      T10.CustCIF lovDescCustCIF, T10.CustFName lovDescCustFName, T10.CustLName lovDescCustLName, T12.BranchDesc lovDescFinBranchName, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate, T13.SaluationDesc lovDescSalutationName, T10.CustShrtName lovDescCustShrtName, 
                      T10.CustCoreBank lovDescCustCoreBank, T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, 
                        T17.AcrTillLBD lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor, T7.FinGrcRvwRateApplFor, T1.TotalRepayAmt, T7.FinCategory lovDescProductCodeName, T10.CustCtgCode lovDescCustCtgCode, 
                      T1.ClosingStatus, T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                      T19.CmtTitle lovDescCommitmentRefName, T31.LimitDesc lovDescLimitRefName, T1.MigratedFinance, T1.ScheduleMaintained, 
                      T1.ScheduleRegenerated, T1.FinPurpose, T20.ValueDesc lovDescFinPurposeName, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T7.FinScheduleOn LovDescFinScheduleOn, T1.CustDSR, T1.Authorization1, T1.Authorization2, 
                      T21.AuthName lovDescAuthorization1Name, T22.AuthName lovDescAuthorization2Name, T1.JointAccount, T1.JointCustId, 
                      T23.CustShrtName lovDescJointCustShrtName, T23.CustCIF lovDescJointCustCIF, '0' AvailCommitAmount, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral,  T1.Approved,  T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T7.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.TakafulFrq, T1.TakafulRate, T1.WaiverReason, T1.TakafulRef, T1.TakafulRequired, 
                      T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T2.CcyEditField ReportFormat, T1.DeviationApproval, T1.PptTakafulRequired, T1.PptTakafulFrq, T1.PptWaiverReason, T1.PptTakafulRate, T1.PptTakafulRef, 
                      T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                      T25.BRTypeDesc GrcAdvBaseRateDesc, T26.BRTypeDesc RpyAdvBaseRateDesc, T1.SupplementRent, T1.IncreasedCost, T1.CreditInsAmt, T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FINPREAPPROVEDREF, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc,T29.AgreeName, T28.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T30.ROfficerDesc DSACodeDesc,
					  T29.MMAReference LovDescMMAReference,T1.TDSApplicable,T1.TakafulStatus, T32.ProductCategory,T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,
					  T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb ,  T1.ApplicationNo ,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays
						FROM         FinanceMain T1 INNER JOIN
                      RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
                      BMTSchdMethod T3 ON T1.ScheduleMethod = T3.SchdMethod LEFT OUTER JOIN
                      BMTIntRateBasisCodes T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode LEFT OUTER JOIN
                      RMTBaseRateCodes T5 ON T1.GraceBaseRate = T5.BRType LEFT OUTER JOIN
                      RMTSplRateCodes T6 ON T1.GraceSpecialRate = T6.SRType INNER JOIN
                      RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBaseRateCodes T8 ON T1.RepayBaseRate = T8.BRType LEFT OUTER JOIN
                      RMTSplRateCodes T9 ON T1.RepaySpecialRate = T9.SRType LEFT OUTER JOIN
                      Customers T10 ON T1.CustID = T10.CustID LEFT OUTER JOIN
                      BMTSalutations T13 ON T10.CustSalutationCode = T13.SalutationCode LEFT OUTER JOIN
                      RMTBranches T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FINPFTDETAILS T17 ON T17.FINREFERENCE = T1.FINREFERENCE LEFT OUTER JOIN
                      Commitments T19 ON T1.FinCommitmentRef = T19.CmtReference AND T10.CustID = T19.custID LEFT OUTER JOIN
                      RMTLOVFielddetail T20 ON T20.FieldCode = 'FINASSTYP' AND T1.FinPurpose = T20.FieldCodeValue LEFT OUTER JOIN
                      AMTAuthorization T21 ON T1.Authorization1 = T21.AuthUserId LEFT OUTER JOIN
                      AMTAuthorization T22 ON T1.Authorization2 = T22.AuthUserId LEFT OUTER JOIN
                      Customers T23 ON T1.JointCustId = T23.CustID LEFT OUTER JOIN
                      StepPolicyHeader T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      RMTBaseRateCodes T25 ON T1.GrcAdvBaseRate = T25.BRType LEFT OUTER JOIN
                      RMTBaseRateCodes T26 ON T1.RpyAdvBaseRate = T26.BRType LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN
                      RMTGenDepartments T28 ON T1.AccountsOfficer = T28.GenDepartment LEFT OUTER JOIN
					  MMAgreements T29 ON T1.MMAId = T29.MMAId LEFT OUTER JOIN 
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN 
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T35 ON T1.SalesDepartment = T35.GenDepartment LEFT OUTER JOIN
                      LimitAPIDetails T31 ON T1.FinLimitRef = T31.LimitRef AND T10.CustCIF = T31.CustomerReference INNER JOIN --not using 
                      BMTProduct T32 ON T7.FinCategory = T32.ProductCode -- New Filed
						WHERE     (NOT EXISTS
                          (SELECT     1 Expr1
                            FROM          FinanceMain_Temp
                            WHERE      (FINREFERENCE = T1.FINREFERENCE)))
		
		</createView>
</changeSet>

<changeSet id="81" author="Prasad">
		<createView replaceIfExists="true" viewName="FinanceMain_TView">
		SELECT     T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.CcyDesc lovDescFinCcyName, T3.SchdMethodDesc lovDescScheduleMethodName, T4.IntRateBasisDesc lovDescProfitDaysBasisName, 
                      T5.BRTypeDesc lovDescGraceBaseRateName, T6.SRTypeDesc lovDescGraceSpecialRateName, T7.FinTypeDesc lovDescFinTypeName, 
                      T8.BRTypeDesc lovDescRepayBaseRateName, T9.SRTypeDesc lovDescRepaySpecialRateName, T2.CcyEditField lovDescFinFormatter, 
                      T7.FinIsAlwMD lovDescFinIsAlwMD, T7.FinMaxAmount lovDescFinMaxAmt, T7.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T7.FinIsAlwDifferment lovDescFinAlwDeferment, T7.FinIsDwPayRequired lovDescDwnPayReq, T7.FinMaxDifferment lovDescFinMaxDifferment, 
                      T10.CustCIF lovDescCustCIF, T10.CustFName lovDescCustFName, T10.CustLName lovDescCustLName, T12.BranchDesc lovDescFinBranchName, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate, T13.SaluationDesc lovDescSalutationName, T10.CustShrtName lovDescCustShrtName, 
                      T10.CustCoreBank lovDescCustCoreBank, T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount,  
                      T17.AcrTillLBD lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor, T7.FinGrcRvwRateApplFor, T1.TotalRepayAmt, T7.FinCategory lovDescProductCodeName, T10.CustCtgCode lovDescCustCtgCode, 
                      T1.ClosingStatus, T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                      T19.CmtTitle lovDescCommitmentRefName, T31.LimitDesc lovDescLimitRefName, T1.MigratedFinance, T1.ScheduleMaintained, 
                      T1.ScheduleRegenerated, T1.FinPurpose, T20.ValueDesc lovDescFinPurposeName, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T7.FinScheduleOn LovDescFinScheduleOn, T1.CustDSR, T1.Authorization1, T1.Authorization2, 
                      T21.AuthName lovDescAuthorization1Name, T22.AuthName lovDescAuthorization2Name, T1.JointAccount, T1.JointCustId, 
                      T23.CustShrtName lovDescJointCustShrtName, T23.CustCIF lovDescJointCustCIF, '0' AvailCommitAmount, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral,  T1.Approved,   T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T7.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.TakafulFrq, T1.TakafulRate, T1.WaiverReason, T1.TakafulRef, T1.TakafulRequired, 
                      T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T2.CcyEditField ReportFormat, T1.DeviationApproval, T1.PptTakafulRequired, T1.PptTakafulFrq, T1.PptWaiverReason, T1.PptTakafulRate, T1.PptTakafulRef, 
                      T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                      T25.BRTypeDesc GrcAdvBaseRateDesc, T26.BRTypeDesc RpyAdvBaseRateDesc, T1.SupplementRent, T1.IncreasedCost, T1.CreditInsAmt, T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FINPREAPPROVEDREF, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc,T29.AgreeName, T28.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T30.ROfficerDesc DSACodeDesc,
					  T29.MMAReference LovDescMMAReference,T1.TDSApplicable,T1.TakafulStatus, T32.ProductCategory,T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,
					  T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , 
					  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo ,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays
			FROM         FinanceMain_Temp T1 INNER JOIN
                      RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN --not req
                      BMTSchdMethod T3 ON T1.ScheduleMethod = T3.SchdMethod LEFT OUTER JOIN --verify with combobox reqrmnt
                      BMTIntRateBasisCodes T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode LEFT OUTER JOIN
                      RMTBaseRateCodes T5 ON T1.GraceBaseRate = T5.BRType LEFT OUTER JOIN --remove join and use single query
                      RMTSplRateCodes T6 ON T1.GraceSpecialRate = T6.SRType INNER JOIN
                      RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBaseRateCodes T8 ON T1.RepayBaseRate = T8.BRType LEFT OUTER JOIN --remove join and use single query
                      RMTSplRateCodes T9 ON T1.RepaySpecialRate = T9.SRType LEFT OUTER JOIN
                      Customers T10 ON T1.CustID = T10.CustID LEFT OUTER JOIN
                      BMTSalutations T13 ON T10.CustSalutationCode = T13.SalutationCode LEFT OUTER JOIN --not using it anywhere.remove it
                      RMTBranches T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FINPFTDETAILS T17 ON T17.FINREFERENCE = T1.FINREFERENCE LEFT OUTER JOIN --not req at org
                      Commitments T19 ON T1.FinCommitmentRef = T19.CmtReference AND T10.CustID = T19.custID LEFT OUTER JOIN --not using
                      RMTLOVFielddetail T20 ON T20.FieldCode = 'FINASSTYP' AND T1.FinPurpose = T20.FieldCodeValue LEFT OUTER JOIN
                      AMTAuthorization T21 ON T1.Authorization1 = T21.AuthUserId LEFT OUTER JOIN
                      AMTAuthorization T22 ON T1.Authorization2 = T22.AuthUserId LEFT OUTER JOIN
                      Customers T23 ON T1.JointCustId = T23.CustID LEFT OUTER JOIN --not using
                      StepPolicyHeader T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      RMTBaseRateCodes T25 ON T1.GrcAdvBaseRate = T25.BRType LEFT OUTER JOIN --remove join and use single query
                      RMTBaseRateCodes T26 ON T1.RpyAdvBaseRate = T26.BRType LEFT OUTER JOIN --remove join and use single query
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN --not using in org
                      RMTGenDepartments T28 ON T1.AccountsOfficer = T28.GenDepartment LEFT OUTER JOIN
					  MMAgreements T29 ON T1.MMAId = T29.MMAId LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T35 ON T1.SalesDepartment = T35.GenDepartment LEFT OUTER JOIN
                      LimitAPIDetails T31 ON T1.FinLimitRef = T31.LimitRef AND T10.CustCIF = T31.CustomerReference  INNER JOIN --not using 
                      BMTProduct T32 ON T7.FinCategory = T32.ProductCode
		
		</createView>
</changeSet>

<changeSet id="82" author="Prasad">
		<createView replaceIfExists="true" viewName="FinanceMain_AView">
		SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, 
                      T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, 
                      T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment  lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.CcyDesc  lovDescFinCcyName, T3.SchdMethodDesc  lovDescScheduleMethodName, T4.IntRateBasisDesc  lovDescProfitDaysBasisName, 
                      T5.BRTypeDesc  lovDescGraceBaseRateName, T6.SRTypeDesc  lovDescGraceSpecialRateName, T7.FinTypeDesc  lovDescFinTypeName, 
                      T8.BRTypeDesc  lovDescRepayBaseRateName, T9.SRTypeDesc  lovDescRepaySpecialRateName, T2.CcyEditField  lovDescFinFormatter, 
                      T7.FinIsAlwMD  lovDescFinIsAlwMD, T7.FinMaxAmount  lovDescFinMaxAmt, T7.FinMinAmount  lovDescFinMinAmount, 
                      T1.MinDownpayPerc, T7.FinIsAlwDifferment  lovDescFinAlwDeferment, T7.FinIsDwPayRequired  lovDescDwnPayReq, 
                      T7.FinMaxDifferment  lovDescFinMaxDifferment, T10.CustCIF  lovDescCustCIF, T10.CustFName  lovDescCustFName, T10.CustLName  lovDescCustLName, 
                      T12.BranchDesc  lovDescFinBranchName, T1.LastRepayDate, T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, 
                       T1.AllowGrcRepay, 
                      T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef, T1.DepreciationFrq, T1.FinContractDate, 
                      T13.SaluationDesc  lovDescSalutationName, T10.CustShrtName  lovDescCustShrtName, T10.CustCoreBank  lovDescCustCoreBank, T1.NextDepDate, 
                      T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount,  
                        T17.AcrTillLBD  lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor, T7.FinGrcRvwRateApplFor, T1.TotalRepayAmt, T7.FinCategory  lovDescProductCodeName, T1.ClosingStatus, T1.FinApprovedDate, 
                      T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, T10.CustCtgCode  lovDescCustCtgCode, 
                      T19.CmtTitle lovDescCommitmentRefName, T1.MigratedFinance, T1.ScheduleMaintained, T1.ScheduleRegenerated, T1.FinPurpose, 
                      T20.ValueDesc  lovDescFinPurposeName, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.bankName, T1.iban, T1.accountType, T1.DdaReferenceNo, 
                      T7.FinScheduleOn  LovDescFinScheduleOn, T1.CustDSR, T1.Authorization1, T1.Authorization2, T21.AuthName  lovDescAuthorization1Name, 
                      T22.AuthName  lovDescAuthorization2Name, T1.JointAccount, T1.JointCustId, T23.CustShrtName  lovDescJointCustShrtName, 
                      T23.CustCIF  lovDescJointCustCIF, '0'  AvailCommitAmount, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, T1.SecurityCollateral, 
                       T1.Approved,   T1.Discrepancy, T1.LimitApproved, T1.InvestmentRef, T1.GraceTerms, 
                      T7.FinDivision  lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.TakafulFrq, T1.TakafulRate, T1.WaiverReason, T1.TakafulRef, T1.TakafulRequired, 
                      T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc  LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T2.CcyEditField  ReportFormat, T1.DeviationApproval, T1.PptTakafulRequired, T1.PptTakafulFrq, T1.PptWaiverReason, T1.PptTakafulRate, T1.PptTakafulRef, 
                      T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                      T25.BRTypeDesc  GrcAdvBaseRateDesc, T26.BRTypeDesc  RpyAdvBaseRateDesc, T1.SupplementRent, T1.IncreasedCost, T1.CreditInsAmt, T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FINPREAPPROVEDREF, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId,T1.FinCancelAc,T28.GenDeptDesc lovDescAccountsOfficer,T29.AgreeName,T29.MMAReference LovDescMMAReference,
					  T1.DSACode,T30.ROfficerDesc DSACodeDesc,T1.TDSApplicable, T31.LimitDesc lovDescLimitRefName,T1.TakafulStatus, T32.ProductCategory,T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,
					  T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , 
					  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo ,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays
						FROM         FinanceMain T1 INNER JOIN
                      RMTCurrencies  T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
                      BMTSchdMethod  T3 ON T1.ScheduleMethod = T3.SchdMethod LEFT OUTER JOIN
                      BMTIntRateBasisCodes  T4 ON T1.ProfitDaysBasis = T4.IntRateBasisCode LEFT OUTER JOIN
                      RMTBaseRateCodes T5 ON T1.GraceBaseRate = T5.BRType LEFT OUTER JOIN
                      RMTSplRateCodes  T6 ON T1.GraceSpecialRate = T6.SRType INNER JOIN
                      RMTFinanceTypes  T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBaseRateCodes T8 ON T1.RepayBaseRate = T8.BRType LEFT OUTER JOIN
                      RMTSplRateCodes  T9 ON T1.RepaySpecialRate = T9.SRType LEFT OUTER JOIN
                      Customers  T10 ON T1.CustID = T10.CustID LEFT OUTER JOIN
                      BMTSalutations  T13 ON T10.CustSalutationCode = T13.SalutationCode LEFT OUTER JOIN
                      RMTBranches  T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FinPftDetails  T17 ON T17.FinReference = T1.FinReference LEFT OUTER JOIN
                      Commitments T19 ON T1.FinCommitmentRef = T19.CmtReference AND T10.CustID = T19.custID LEFT OUTER JOIN
                      RMTLovFieldDetail  T20 ON T20.FieldCode = 'FINASSTYP' AND T1.FinPurpose = T20.FieldCodeValue LEFT OUTER JOIN
                      AMTAuthorization  T21 ON T1.Authorization1 = T21.AuthUserId LEFT OUTER JOIN
                      AMTAuthorization  T22 ON T1.Authorization2 = T22.AuthUserId LEFT OUTER JOIN
                      Customers  T23 ON T1.JointCustId = T23.CustID LEFT OUTER JOIN
                      StepPolicyHeader  T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      RMTBaseRateCodes  T25 ON T1.GrcAdvBaseRate = T25.BRType LEFT OUTER JOIN
                      RMTBaseRateCodes  T26 ON T1.RpyAdvBaseRate = T26.BRType LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN 
					  RMTGENDEPARTMENTS T28 ON T1.ACCOUNTSOFFICER = T28.GENDEPARTMENT LEFT OUTER JOIN
					  MMAgreements T29 ON T1.MMAId = T29.MMAId LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGENDEPARTMENTS T35 ON T1.SalesDepartment = T35.GENDEPARTMENT LEFT OUTER JOIN
                      LimitAPIDetails T31 ON T1.FinLimitRef = T31.LimitRef AND T10.CustCIF = T31.CustomerReference INNER JOIN  
                      BMTProduct T32 ON T7.FinCategory = T32.ProductCode
		
		</createView>
</changeSet>


<changeSet id="83" author="Prasad">
		<dropColumn columnName="AlwIndRate" tableName="FinanceMain" />
</changeSet>
<changeSet id="84" author="Prasad">
		<dropColumn columnName="CbbApprovalRequired" tableName="FinanceMain" />
</changeSet>
<changeSet id="85" author="Prasad">
		<dropColumn columnName="CbbApproved" tableName="FinanceMain" />
</changeSet>
<changeSet id="86" author="Prasad">
		<dropColumn columnName="CustomerAcceptance" tableName="FinanceMain" />
</changeSet>
<changeSet id="87" author="Prasad">
		<dropColumn columnName="GrcAlwIndRate" tableName="FinanceMain" />
</changeSet>
<changeSet id="88" author="Prasad">
		<dropColumn columnName="GrcIndBaseRate" tableName="FinanceMain" />
</changeSet>
<changeSet id="89" author="Prasad">
		<dropColumn columnName="IndBaseRate" tableName="FinanceMain" />
</changeSet>

<changeSet id="90" author="Prasad">
		<dropColumn columnName="AlwIndRate" tableName="FinanceMain_PA" />
</changeSet>
<changeSet id="91" author="Prasad">
		<dropColumn columnName="CbbApprovalRequired" tableName="FinanceMain_PA" />
</changeSet>
<changeSet id="92" author="Prasad">
		<dropColumn columnName="CbbApproved" tableName="FinanceMain_PA" />
</changeSet>
<changeSet id="93" author="Prasad">
		<dropColumn columnName="CustomerAcceptance" tableName="FinanceMain_PA" />
</changeSet>
<changeSet id="94" author="Prasad">
		<dropColumn columnName="GrcAlwIndRate" tableName="FinanceMain_PA" />
</changeSet>
<changeSet id="95" author="Prasad">
		<dropColumn columnName="GrcIndBaseRate" tableName="FinanceMain_PA" />
</changeSet>
<changeSet id="96" author="Prasad">
		<dropColumn columnName="IndBaseRate" tableName="FinanceMain_PA" />
</changeSet>

<changeSet id="97" author="Prasad">
		<dropColumn columnName="AlwIndRate" tableName="FinanceMain_Temp" />
</changeSet>
<changeSet id="98" author="Prasad">
		<dropColumn columnName="CbbApprovalRequired" tableName="FinanceMain_Temp" />
</changeSet>
<changeSet id="99" author="Prasad">
		<dropColumn columnName="CbbApproved" tableName="FinanceMain_Temp" />
</changeSet>
<changeSet id="100" author="Prasad">
		<dropColumn columnName="CustomerAcceptance" tableName="FinanceMain_Temp" />
</changeSet>
<changeSet id="101" author="Prasad">
		<dropColumn columnName="GrcAlwIndRate" tableName="FinanceMain_Temp" />
</changeSet>
<changeSet id="102" author="Prasad">
		<dropColumn columnName="GrcIndBaseRate" tableName="FinanceMain_Temp" />
</changeSet>
<changeSet id="103" author="Prasad">
		<dropColumn columnName="IndBaseRate" tableName="FinanceMain_Temp" />
</changeSet>

<changeSet id="104" author="Prasad">
		<dropColumn columnName="AlwIndRate" tableName="RejectFinanceMain" />
</changeSet>
<changeSet id="105" author="Prasad">
		<dropColumn columnName="CbbApprovalRequired" tableName="RejectFinanceMain" />
</changeSet>
<changeSet id="106" author="Prasad">
		<dropColumn columnName="CbbApproved" tableName="RejectFinanceMain" />
</changeSet>
<changeSet id="107" author="Prasad">
		<dropColumn columnName="CustomerAcceptance" tableName="RejectFinanceMain" />
</changeSet>
<changeSet id="108" author="Prasad">
		<dropColumn columnName="GrcAlwIndRate" tableName="RejectFinanceMain" />
</changeSet>
<changeSet id="109" author="Prasad">
		<dropColumn columnName="GrcIndBaseRate" tableName="RejectFinanceMain" />
</changeSet>
<changeSet id="110" author="Prasad">
		<dropColumn columnName="IndBaseRate" tableName="RejectFinanceMain" />
</changeSet>

<changeSet id="111" author="Prasad">
		<dropColumn columnName="AlwIndRate" tableName="WIFFinanceMain" />
</changeSet>
<changeSet id="112" author="Prasad">
		<dropColumn columnName="GrcAlwIndRate" tableName="WIFFinanceMain" />
</changeSet>
<changeSet id="113" author="Prasad">
		<dropColumn columnName="GrcIndBaseRate" tableName="WIFFinanceMain" />
</changeSet>
<changeSet id="114" author="Prasad">
		<dropColumn columnName="IndBaseRate" tableName="WIFFinanceMain" />
</changeSet>

<changeSet id="115" author="Prasad">
		<dropColumn columnName="AlwIndRate" tableName="WIFFinanceMain_Temp" />
</changeSet>
<changeSet id="116" author="Prasad">
		<dropColumn columnName="GrcAlwIndRate" tableName="WIFFinanceMain_Temp" />
</changeSet>
<changeSet id="117" author="Prasad">
		<dropColumn columnName="GrcIndBaseRate" tableName="WIFFinanceMain_Temp" />
</changeSet>
<changeSet id="118" author="Prasad">
		<dropColumn columnName="IndBaseRate" tableName="WIFFinanceMain_Temp" />
</changeSet>
<changeSet id="119" author="Madhubabu">
		<addColumn tableName="fintypeinsurances_temp">
			<column name="AlwRateChange" type="boolean" />
		</addColumn>
	</changeSet>
<changeSet id="120" author="Madhubabu">
		<addColumn tableName="fintypeinsurances">
			<column name="AlwRateChange" type="boolean" />
		</addColumn>
	</changeSet>
	<changeSet id="121" author="Madhubabu">
		<createView viewName="FinTypeInsurances_View" replaceIfExists="true">
		SELECT     T1.FinType, T1.InsuranceType,T1.policyType,T5.policyDesc,T1.AlwRateChange,T1.Mandatory,T1.DftPayType,T1.CalType,T1.AmountRule,T4.RuleCodeDesc ,
T1.ConstAmt,T1.Percentage,T1.CalculateOn,T2.InsuranceTypeDesc,
T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinTypeInsurances_temp T1 INNER JOIN
             insurancetype T2 ON T2.InsuranceType=T1.InsuranceType LEFT OUTER JOIN
             Rules T4 ON T1.AmountRule=T4.RuleCode LEFT OUTER JOIN
             InsurancePolicy T5 ON T1.policyType=T5.policyCode


UNION ALL

SELECT     T1.FinType, T1.InsuranceType,T1.policyType,T5.policyDesc,T1.AlwRateChange,T1.Mandatory,T1.DftPayType,T1.CalType,T1.AmountRule,T4.RuleCodeDesc,
T1.ConstAmt,T1.Percentage,T1.CalculateOn,T2.InsuranceTypeDesc,
T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinTypeInsurances T1 INNER JOIN
             insurancetype T2 ON T2.InsuranceType=T1.InsuranceType LEFT OUTER JOIN
             Rules T4 ON T1.AmountRule=T4.RuleCode LEFT OUTER JOIN
             InsurancePolicy T5 ON T1.policyType=T5.policyCode

WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinTypeInsurances_Temp
                            WHERE     FinType= T1.FinType AND  InsuranceType = T1.InsuranceType)
</createView>
</changeSet>
	<changeSet id="122" author="Madhubabu">
		<createView viewName="FinTypeInsurances_View" replaceIfExists="true">
		SELECT     T1.FinType, T1.InsuranceType,T1.policyType,T5.policyDesc,T1.AlwRateChange,T5.InsuranceProvider,
T5.takafulName,T1.Mandatory,T1.DftPayType,T1.CalType,T1.AmountRule,T4.RuleCodeDesc ,
T1.ConstAmt,T1.Percentage,T1.CalculateOn,T2.InsuranceTypeDesc,
T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinTypeInsurances_temp T1 INNER JOIN
             insurancetype T2 ON T2.InsuranceType=T1.InsuranceType LEFT OUTER JOIN
             Rules T4 ON T1.AmountRule=T4.RuleCode LEFT OUTER JOIN
             InsurancePolicy_view T5 ON T1.policyType=T5.policyCode


UNION ALL

SELECT     T1.FinType, T1.InsuranceType,T1.policyType,T5.policyDesc,T1.AlwRateChange,T5.InsuranceProvider,
T5.TakafulName,T1.Mandatory,T1.DftPayType,T1.CalType,T1.AmountRule,T4.RuleCodeDesc,
T1.ConstAmt,T1.Percentage,T1.CalculateOn,T2.InsuranceTypeDesc,
T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinTypeInsurances T1 INNER JOIN
             insurancetype T2 ON T2.InsuranceType=T1.InsuranceType LEFT OUTER JOIN
             Rules T4 ON T1.AmountRule=T4.RuleCode LEFT OUTER JOIN
             InsurancePolicy_View T5 ON T1.policyType=T5.policyCode

WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinTypeInsurances_Temp
                            WHERE     FinType= T1.FinType AND  InsuranceType = T1.InsuranceType)
</createView>
</changeSet>
	<changeSet id="123" author="Madhubabu">
		<createView viewName="FinTypeInsurances_View" replaceIfExists="true">
		SELECT     T1.FinType, T1.InsuranceType,T1.policyType,T5.policyDesc,T1.AlwRateChange,T5.InsuranceProvider,
T5.takafulName,T5.policyRate,T1.Mandatory,T1.DftPayType,T1.CalType,T1.AmountRule,T4.RuleCodeDesc ,
T1.ConstAmt,T1.Percentage,T1.CalculateOn,T2.InsuranceTypeDesc,
T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinTypeInsurances_temp T1 INNER JOIN
             insurancetype T2 ON T2.InsuranceType=T1.InsuranceType LEFT OUTER JOIN
             Rules T4 ON T1.AmountRule=T4.RuleCode LEFT OUTER JOIN
             InsurancePolicy_view T5 ON T1.policyType=T5.policyCode


UNION ALL

SELECT     T1.FinType, T1.InsuranceType,T1.policyType,T5.policyDesc,T1.AlwRateChange,T5.InsuranceProvider,
T5.TakafulName,T5.policyRate,T1.Mandatory,T1.DftPayType,T1.CalType,T1.AmountRule,T4.RuleCodeDesc,
T1.ConstAmt,T1.Percentage,T1.CalculateOn,T2.InsuranceTypeDesc,
T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         FinTypeInsurances T1 INNER JOIN
             insurancetype T2 ON T2.InsuranceType=T1.InsuranceType LEFT OUTER JOIN
             Rules T4 ON T1.AmountRule=T4.RuleCode LEFT OUTER JOIN
             InsurancePolicy_View T5 ON T1.policyType=T5.policyCode

WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          FinTypeInsurances_Temp
                            WHERE     FinType= T1.FinType AND  InsuranceType = T1.InsuranceType)
</createView>
</changeSet>
<changeSet id="124" author="Surekha">
	<sql>
		Update SeqSecGroupRights set SeqNo = (select MAX(GrpRightID) from SecGroupRights);
		
		INSERT INTO SecGroupRights SELECT (select (SeqNo+1) from SeqSecGroupRights),(select GrpID from SecGroups where GrpCode='BLACKLISTCUSTOMER_APPROVER'),(select RightID from SecRights where RightName='button_blacklistCustomerList_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved','','',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;		
		Update SeqSecGroupRights set SeqNo = (select MAX(GrpRightID) from SecGroupRights);
	</sql>
</changeSet>
<changeSet author="ManojVarma" id="125">
	<createTable tableName="WIFFinFeeDetail_Temp">
		<column name="FinReference" type="nvarchar(20)">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="OriginationFee" type="nchar(1)">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="FinEvent" type="nvarchar(8)">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="FeeTypeID" type="bigint">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="FeeOrder" type="bigint">
			<constraints nullable="false" />
		</column>
		<column name="CalculatedAmount" type="decimal(18,0)" />
		<column name="ActualAmount" type="decimal(18,0)" />
		<column name="WaivedAmount" type="decimal(18,0)" />
		<column name="PaidAmount" type="decimal(18,0)" />
		<column name="Terms" type="int" />
		<column name="RemainingFee" type="decimal(18,0)" />
		<column name="PaymentRef" type="nvarchar(20)" />
		<column name="FeeScheduleMethod" type="nvarchar(8)" />
		<column name="CalculationType" type="nvarchar(8)" />
		<column name="RuleCode" type="nvarchar(8)" />
		<column name="FixedAmount" type="decimal(18,0)" />
		<column name="Percentage" type="decimal(5,2)" />
		<column name="CalculateOn" type="nvarchar(8)" />
		<column name="AlwDeviation" type="nchar(1)" />
		<column name="MaxWaiverPerc" type="decimal(5,2)" />
		<column name="AlwModifyFee" type="nchar(1)" />
		<column name="AlwModifyFeeSchdMthd" type="nchar(1)" />
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="varchar(50)" />
		<column name="RoleCode" type="varchar(100)" />
		<column name="NextRoleCode" type="varchar(200)" />
		<column name="TaskId" type="varchar(50)" />
		<column name="NextTaskId" type="varchar(200)" />
		<column name="RecordType" type="varchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
	<createTable tableName="WIFFinFeeDetail">
		<column name="FinReference" type="nvarchar(20)">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="OriginationFee" type="nchar(1)">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="FinEvent" type="nvarchar(8)">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="FeeTypeID" type="bigint">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="FeeOrder" type="bigint">
			<constraints nullable="false" />
		</column>
		<column name="CalculatedAmount" type="decimal(18,0)" />
		<column name="ActualAmount" type="decimal(18,0)" />
		<column name="WaivedAmount" type="decimal(18,0)" />
		<column name="PaidAmount" type="decimal(18,0)" />
		<column name="Terms" type="int" />
		<column name="RemainingFee" type="decimal(18,0)" />
		<column name="PaymentRef" type="nvarchar(20)" />
		<column name="FeeScheduleMethod" type="nvarchar(8)" />
		<column name="CalculationType" type="nvarchar(8)" />
		<column name="RuleCode" type="nvarchar(8)" />
		<column name="FixedAmount" type="decimal(18,0)" />
		<column name="Percentage" type="decimal(5,2)" />
		<column name="CalculateOn" type="nvarchar(8)" />
		<column name="AlwDeviation" type="nchar(1)" />
		<column name="MaxWaiverPerc" type="decimal(5,2)" />
		<column name="AlwModifyFee" type="nchar(1)" />
		<column name="AlwModifyFeeSchdMthd" type="nchar(1)" />
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="varchar(50)" />
		<column name="RoleCode" type="varchar(100)" />
		<column name="NextRoleCode" type="varchar(200)" />
		<column name="TaskId" type="varchar(50)" />
		<column name="NextTaskId" type="varchar(200)" />
		<column name="RecordType" type="varchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
</changeSet>

	<changeSet author="ManojVarma" id="126">
		<createView replaceIfExists="true" viewName="WIFFinFeeDetail_View">
SELECT     T1.FinReference, T1.OriginationFee, T1.FinEvent, T1.FeeTypeID, T1.FeeOrder, T1.CalculatedAmount, T1.ActualAmount, T1.WaivedAmount, T1.PaidAmount,
           T1.FeeScheduleMethod, T1.Terms, T1.RemainingFee, T1.PaymentRef, T1.CalculationType, T1.RuleCode, T1.FixedAmount, T1.Percentage, T1.CalculateOn,
		   T1.AlwDeviation, T1.MaxWaiverPerc, T1.AlwModifyFee, T1.AlwModifyFeeSchdMthd, T1.Version, T1.LastMntBy,
		   T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
		   T2.FeeTypeCode, T2.FeeTypeDesc
FROM       WIFFinFeeDetail_Temp T1 INNER JOIN 
           FeeTypes T2 ON T1.FeeTypeID = T2.FeeTypeID
UNION ALL
SELECT     T1.FinReference, T1.OriginationFee, T1.FinEvent, T1.FeeTypeID, T1.FeeOrder, T1.CalculatedAmount, T1.ActualAmount, T1.WaivedAmount, T1.PaidAmount,
           T1.FeeScheduleMethod, T1.Terms, T1.RemainingFee, T1.PaymentRef, T1.CalculationType, T1.RuleCode, T1.FixedAmount, T1.Percentage, T1.CalculateOn,
		   T1.AlwDeviation, T1.MaxWaiverPerc, T1.AlwModifyFee, T1.AlwModifyFeeSchdMthd, T1.Version, T1.LastMntBy,
		   T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
		   T2.FeeTypeCode, T2.FeeTypeDesc
FROM       WIFFinFeeDetail T1 INNER JOIN 
           FeeTypes T2 ON T1.FeeTypeID = T2.FeeTypeID
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          WIFFinFeeDetail_Temp
                            WHERE      FinReference = T1.FinReference AND OriginationFee = T1.OriginationFee
							AND FinEvent = T1.FinEvent AND FeeTypeID = T1.FeeTypeID)
</createView>
	</changeSet>

	<changeSet author="ManojVarma" id="127">
		<createTable tableName="WIFFinFeeScheduleDetail_Temp">
			<column name="FinReference" type="nvarchar(20)">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="FeeTypeID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="SchDate" type="datetime">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="SchAmount" type="decimal(18,0)" />
			<column name="PaidAmount" type="decimal(18,0)" />
			<column name="OSAmount" type="decimal(18,0)" />
			<column name="WaiverAmount" type="decimal(18,0)" />
			<column name="WriteoffAmount" type="decimal(18,0)" />
		</createTable>
		<createTable tableName="WIFFinFeeScheduleDetail">
			<column name="FinReference" type="nvarchar(20)">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="FeeTypeID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="SchDate" type="datetime">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="SchAmount" type="decimal(18,0)" />
			<column name="PaidAmount" type="decimal(18,0)" />
			<column name="OSAmount" type="decimal(18,0)" />
			<column name="WaiverAmount" type="decimal(18,0)" />
			<column name="WriteoffAmount" type="decimal(18,0)" />
		</createTable>
	</changeSet>

	<changeSet author="ManojVarma" id="128">
		<createView replaceIfExists="true" viewName="WIFFinFeeScheduleDetail_View">
SELECT     T1.FinReference, T1.FeeTypeID, T1.SchDate, T1.SchAmount, T1.PaidAmount, T1.OSAmount, T1.WaiverAmount, T1.WriteoffAmount
FROM       WIFFinFeeScheduleDetail_Temp T1
UNION ALL
SELECT     T1.FinReference, T1.FeeTypeID, T1.SchDate, T1.SchAmount, T1.PaidAmount, T1.OSAmount, T1.WaiverAmount, T1.WriteoffAmount
FROM       WIFFinFeeScheduleDetail T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          WIFFinFeeScheduleDetail_Temp
                            WHERE      FinReference = T1.FinReference AND FeeTypeID = T1.FeeTypeID
							AND SchDate = T1.SchDate)
</createView>
	</changeSet>
	<changeSet id="130" author="Surekha">
	<sql>
		delete from SecGroupRights where GrpID=(select grpid from SecGroups where GrpCode='ERRORDETAIL_VERIFIER') and rightid=(select rightid from SecRights where RightName='ErrorDetailDialog_ErrorMessage');
	</sql>
	</changeSet>
	<changeSet id="131" author="Pruthvi">	
	<insert tableName="ReportList">
			<column name="Code">Beneficiary</column>
			<column name="Module">Beneficiary</column>
			<column name="FieldLabels">label_BeneficiaryList_CustCIF.value,label_BeneficiaryList_AccNo.value,label_BeneficiaryList_AccHolderName.value,listheader_RecordStatus.label,listheader_RecordType.label</column>
			<column name="FieldValues">custCIF,accNumber,accHolderName,recordStatus,recordType</column>
			<column name="FieldType">String,String,String,String,String</column>
			<column name="Addfields"></column>
			<column name="ReportFileName">ReportList05</column>
			<column name="ReportHeading">Beneficiary</column>
			<column name="ModuleType">Customers</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="FormatReq">0</column>
</insert>
</changeSet>
	<changeSet id="132" author="Pruthvi">	
   <insert tableName="ReportList">
			<column name="Code">ErrorDetails</column>
			<column name="Module">ErrorDetails</column>
			<column name="FieldLabels">label_ErrorDetailList_ErrorCode.value,label_ErrorDetailList_ErrorLanguage.value,label_ErrorDetailList_ErrorSeverity.value,label_ErrorDetailList_ErrorMessage.value,label_ErrorDetailList_ErrorExtendedMessage.value</column>
			<column name="FieldValues">errorCode,errorLanguage,errorSeverity,errorSeverityName,errorMessage,errorExtendedMessage</column>
			<column name="FieldType">String,String,String,String,String</column>
			<column name="Addfields"></column>
			<column name="ReportFileName">ReportList05</column>
			<column name="ReportHeading">Error Details</column>
			<column name="ModuleType">Application Masters</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="FormatReq">0</column>
</insert>
</changeSet>
<changeSet id="133" author="Irfan">
	
	<createTable tableName="FinPlanEMIHMonths">
	<column name="FinReference" type="nvarchar(20)">
	<constraints nullable="false"/>
	</column>
	
	<column name="PlanEMIHMonth" type="int">
	<constraints nullable="false"/>
	</column>
	</createTable>
	
	<addPrimaryKey columnNames="FinReference, PlanEMIHMonth" constraintName="FinPlanEMIHMonths_Month" tableName="FinPlanEMIHMonths"  />
	
	</changeSet>
	
	<changeSet id="134" author="Irfan">
	<createTable tableName="FinPlanEMIHMonths_Temp">
	<column name="FinReference" type="nvarchar(20)">
	<constraints nullable="false"/>
	</column>
	<column name="PlanEMIHMonth" type="int">
	<constraints nullable="false"/>
	</column>
	</createTable>
	<addPrimaryKey columnNames="FinReference, PlanEMIHMonth" constraintName="FinPlanEMIHMonths_Temp_Month" tableName="FinPlanEMIHMonths_Temp" />
	</changeSet>
	
	<changeSet id="135" author="Irfan">
	<createTable tableName="FinPlanEMIHDates">
	<column name="FinReference" type="nvarchar(20)">
	<constraints nullable="false"/>
	</column>
	<column name="PlanEMIHDate" type="datetime">
	<constraints nullable="false"/>
	</column>
	</createTable>
	<addPrimaryKey columnNames="FinReference, PlanEMIHDate" constraintName="FinPlanEMIHDates_Date" tableName="FinPlanEMIHDates" />
	</changeSet>
	
	<changeSet id="136" author="Irfan">
	<createTable tableName="FinPlanEMIHDates_Temp">
	<column name="FinReference" type="nvarchar(20)">
	<constraints nullable="false"/>
	</column>
	<column name="PlanEMIHDate" type="datetime">
	<constraints nullable="false"/>
	</column>
	</createTable>
	<addPrimaryKey columnNames="FinReference, PlanEMIHDate" constraintName="FinPlanEMIHMonths_Temp_Date" tableName="FinPlanEMIHDates_Temp" />
	</changeSet>
		<changeSet id="137" author="Pruthvi">
	<insert tableName="ReportList">
			<column name="Code">FeeType</column>
			<column name="Module">FeeType</column>
			<column name="FieldLabels">label_FeeTypeList_FeeTypeCode.value,label_FeeTypeList_FeeTypeDesc.value,label_FeeTypeList_Active.value,listheader_RecordStatus.label,listheader_RecordType.label</column>
			<column name="FieldValues">feeTypeCode,feeTypeDesc,active,recordStatus,recordType</column>
			<column name="FieldType">String,String,boolean,String,String</column>
			<column name="Addfields"></column>
			<column name="ReportFileName">ReportList05</column>
			<column name="ReportHeading">Fee Type</column>
			<column name="ModuleType">Application Masters</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="FormatReq">0</column>
</insert>
</changeSet>
<changeSet id="129" author="Madhubabu">
	<sql>
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='FININSURANCEDIALOG_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinInsuranceDialog_calcType'), 1, 0,
		1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0);
		UPDATE SeqSecGroupRights set SeqNo=(Select MAX(GrpRightId)+1 from
		SecGroupRights);
	</sql>
</changeSet>
<changeSet id="138" author="Pruthvi">
<insert tableName="ReportList">
			<column name="Code">VASConfiguration</column>
			<column name="Module">VASConfiguration</column>
			<column name="FieldLabels">label_VASConfigurationList_ProductCode.value,label_VASConfigurationList_ProductDesc.value,label_VASConfigurationList_VASCode.value,label_VASConfigurationList_VASDesc.value,label_VASConfigurationList_RecAgainst.value,label_VASConfigurationList_manufacturer.value,listheader_RecordStatus.label,listheader_RecordType.label</column>
			<column name="FieldValues">productCode,productDesc,productType,productTypeDesc,recAgainst,dealerName,recordStatus,recordType</column>
			<column name="FieldType">String,String,String,String,String,String,String,String</column>
			<column name="Addfields"></column>
			<column name="ReportFileName">ReportList08</column>
			<column name="ReportHeading">VAS Configuration</column>
			<column name="ModuleType">Solution Factory</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="FormatReq">0</column>
</insert>
</changeSet>
<changeSet id="139" author="Pruthvi">
<sql>
update ReportList set FieldValues='productCode,productDesc,productType,productTypeDesc,recAgainst,manufacturerName,recordStatus,recordType' where code='VASConfiguration';
</sql>
</changeSet>
<changeSet id="140" author="Pruthvi">
<insert tableName="ReportList">
			<column name="Code">PFSParameter</column>
			<column name="Module">PFSParameter</column>
			<column name="FieldLabels">label_PFSParameterSearch_SysParmCode.value,label_PFSParameterSearch_SysParmDesc.value,label_PFSParameterSearch_SysParmValue.value</column>
			<column name="FieldValues">sysParmCode,sysParmDesc,sysParmValue</column>
			<column name="FieldType">String,String,String,String,String,String,String,String</column>
			<column name="Addfields"></column>
			<column name="ReportFileName">ReportList08</column>
			<column name="ReportHeading">System Parameter</column>
			<column name="ModuleType">Solution Factory</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="FormatReq">0</column>
</insert>
</changeSet>
<changeSet id="141" author="surekha">
<createView replaceIfExists="true" viewName="ReturnedCheques_View">
SELECT     T1.CustCIF, T1.ChequeNo, T1.Amount,T1.ReturnDate,T1.ReturnReason,T1.Currency, T1.Version, T1.LastMntBy, T1.LastMntOn, 
T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.CcyDesc ,T3.CustShrtName , T2.CcyEditField ,T2.CcyEditField  ReportFormat
FROM         ReturnedCheques_Temp T1 INNER JOIN
			RMTCurrencies  T2 on T2.CcyCode = T1.Currency INNER JOIN
			Customers  T3 on T3.CustCIF = T1.CustCIF
UNION ALL
SELECT     T1.CustCIF, T1.ChequeNo, T1.Amount,T1.ReturnDate,T1.ReturnReason,T1.Currency, T1.Version, T1.LastMntBy, T1.LastMntOn,
 T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.CcyDesc ,T3.CustShrtName ,T2.CcyEditField ,T2.CcyEditField ReportFormat
FROM         ReturnedCheques  T1 INNER JOIN
			RMTCurrencies  T2 on T2.CcyCode = T1.Currency INNER JOIN
			Customers  T3 on T3.CustCIF = T1.CustCIF
			

WHERE     NOT EXISTS
                          (SELECT     1
                            FROM         ReturnedCheques_Temp
                            WHERE      CustCIF= T1.CustCIF and ChequeNo=T1.ChequeNo)
</createView>
</changeSet>
<changeSet id="142" author="pruthvi">
<insert tableName="ReportList">
			<column name="Code">CalendarDetails</column>
			<column name="Module">HolidayMaster</column>
			<column name="FieldLabels">label_HolidayMasterSearch_HolidayCode.value,label_HolidayMasterSearch_HolidayYear.value,listheader_RecordStatus.label,listheader_RecordType.label</column>
			<column name="FieldValues">holidayCode,holidayYear,recordStatus,recordType</column>
			<column name="FieldType">String,BigDecimal,String,String</column>
			<column name="Addfields"></column>
			<column name="ReportFileName">ReportList04</column>
			<column name="ReportHeading">Calendar Details</column>
			<column name="ModuleType">Solution Factory</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="FormatReq">0</column>
</insert>
</changeSet>
<changeSet id="143" author="pruthvi">
<insert tableName="ReportList">
			<column name="Code">OverDraft</column>
			<column name="Module">FinanceType</column>
			<column name="FieldLabels">label_FinanceTypeSearch_FinType.value,label_FinanceTypeSearch_FinTypeDesc.value,label_FinanceTypeSearch_FinCcy.value,label_FinanceTypeSearch_FinDaysCalType.value,listheader_FinAcType.label,label_FinanceTypeSearch_FinSchdMthd.value,label_FinanceTypeDialog_FInIsAlwGrace.value,label_FinanceTypeSearch_FinDivision.value,listheader_RecordStatus.label,listheader_RecordType.label</column>
			<column name="FieldValues">finType,finTypeDesc,finCcy,finDaysCalType,finAcType,finSchdMthd,fInIsAlwGrace,finDivision,recordStatus,recordType</column>
			<column name="FieldType">String,String,String,String,String,String,boolean,String,String,String</column>
			<column name="Addfields"></column>
			<column name="ReportFileName">ReportList10_GrpHd</column>
			<column name="ReportHeading">System Parameter</column>
			<column name="ModuleType">Solution Factory</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="FormatReq">0</column>
</insert>
</changeSet>
<changeSet id="144" author="Madhubabu">
	<sql>
		delete from SecGroupRights where GrpID in(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='FININSURANCEDIALOG_MAKER') and RightID in(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinInsuranceDialog_calcType')
	</sql>
</changeSet>
<changeSet id="145" author="Madhubabu">
<sql>
update ReportList set
fieldlabels='listheader_RuleEvent.label,label_RuleCode,listheader_RuleCodeDesc.label,label_RecordStatus,label_RecordType',

FieldValues='ruleEvent,ruleCode,ruleCodeDesc, recordStatus, recordType',

FieldType='String,String,String,String,String',

ReportFileName='ReportList05'

where code='FeeRule'
</sql>
</changeSet>
<changeSet id="146" author="Pruthvi">
<insert tableName="ReportList">
			<column name="Code">LimitUtilization</column>
			<column name="Module">LimitHeader</column>
			<column name="FieldLabels">listheader_IdORGrp.label,listheader_CustORGrpName.label,listheader_ResponsibleBranch.label,listheader_Currency.label,listheader_ExpiryDate.label,listheader_ReviewDate.label,listheader_LimitStructureCode.label,listheader_Active.label,listheader_RecordStatus.label,listheader_RecordType.label</column>
			<column name="FieldValues">custCIF,custShrtName,limitStructureCode,responsibleBranchName,limitCcy,limitExpiryDate,limitRvwDate,active,recordStatus,recordType</column>
			<column name="FieldType">String,String,String,String,String,Date,Date,int,String,String</column>
			<column name="Addfields"></column>
			<column name="ReportFileName">ReportList10</column>
			<column name="ReportHeading">Limit Utilization</column>
			<column name="ModuleType">Limits</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="FormatReq">0</column>
</insert>
</changeSet>

<changeSet id="147" author="Pruthvi">
<sql>
	Insert into Version values ('2.26.0','10-FEB-2017','Pruthvi Raj');
	</sql>
</changeSet>
<changeSet id="148" author="Pruthvi" dbms="Oracle">
<sql>
call RESEED_SEQUENCE_TABLES();
</sql>
</changeSet>
<changeSet id="149" author="Irfan">
<addColumn tableName="RMTFinanceTypes">
<column name="QuickDisb" type="nchar(1)"/>
</addColumn>
<addDefaultValue tableName="RMTFinanceTypes" defaultValue="0" columnName="QuickDisb" columnDataType="nchar"/>
</changeSet>

<changeSet id="150" author="Irfan">
<addColumn tableName="RMTFinanceTypes_Temp">
<column name="QuickDisb" type="nchar(1)"/>
</addColumn>
<addDefaultValue tableName="RMTFinanceTypes_Temp" defaultValue="0" columnName="QuickDisb" columnDataType="nchar"/>
</changeSet>

<changeSet id="151" author="Irfan">
		<createView viewName="RMTFinanceTypes_View" replaceIfExists="true">
		SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
			           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
					   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
			           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
					   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
					   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
					   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
					   T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
					   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
					   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
			           T53.AddrLine1 + ' ' + T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
					   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
					   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
			           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb
			FROM       RMTFinanceTypes_Temp T1 LEFT OUTER JOIN
			           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
			           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
			           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
			           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
			           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
			           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
			           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
			           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
			           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
			           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
			           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId 
			UNION ALL
			SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
			           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
					   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
			           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
					   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
					   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
					   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
					   T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
					   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
					   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
			           T53.AddrLine1 + ' ' + T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
					   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
					   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
			           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb
			FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
			           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
			           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
			           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
			           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
			           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
			           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
			           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
			           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
			           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
			           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
			           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId 
			WHERE     (NOT EXISTS
			                          (SELECT     1 Expr1
			                            FROM          RMTFinanceTypes_Temp
			                            WHERE      (FinType = T1.FinType)))
		</createView>
		</changeSet>
		
		<changeSet id="153" author="Irfan">
		<createView viewName="RMTFinanceTypes_ORGView" replaceIfExists="true">
		SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType, T1.FinIsGenRef, T1.FinMaxAmount, 
			                      T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD, T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, 
			                      T1.EqualRepayment, T1.FinRateType, T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			                      T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate, T1.FInGrcMinRate, T1.FinGrcMaxRate, 
			                      T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, 
			                      T1.FInRepayMethod, T1.FinIsAlwPartialRpy, T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, 
			                      T1.FinEarlyPayRule, T1.FinEarlySettleRule, T1.FinDepositRestrictedTo, T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version, T1.LastMntBy, 
			                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, 
			                      T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, T3.BRTypeDesc lovDescFinBaseRateName, T4.SRTypeDesc lovDescFinSplRateName, 
			                      T5.BRTypeDesc lovDescFinGrcBaseRateName, T6.SRTypeDesc lovDescFinGrcSplRateName, T1.FinIsDwPayRequired, T1.FinRvwRateApplFor, 
			                      T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd, T1.FinElgRuleCode, T1.LimitElgRuleCode, T1.FinSchCalCodeOnRvw, 
			                      T1.AlwPlanDeferment, T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc, T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, 
			                      T1.FinMargin, T1.FinScheduleOn, T1.FinGrcScheduleOn, T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, 
			                      T1.FinBankContingentAcType, T1.FinProvisionAcType,   
			                      T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired, 
			                      T1.FinCommitmentOvrride, T1.FinCollateralOvrride, T1.FinRepayPftOnFrq, T1.FinPftUnChanged, T1.ApplyODPenalty, T1.ODIncGrcDays, T1.ODChargeType, 
			                      T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc, T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision, 
			                      T9.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType, T1.Product, T1.StartDate, T1.EndDate, T1.TakafulMandatory, T1.TakafulReq, 
			                      T1.RemFeeSchdMethod, T1.TakafulProvider, T10.TakafulName lovDescTakafulProviderName, T10.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, 
			                      T2.FinTypeDesc lovDescPromoFinTypeDesc, T10.AddrLine1 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
			                      T12.PolicyDesc lovDescDftStepPolicyName, T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType, T1.PropertyTakafulPayType, 
			                      T1.PropertyTakafulProvider, T1.PastduePftCalMthd, T1.PastduePftMargin, T11.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, 
			                      T11.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
			                      T13.BRTypeDesc GrcAdvBaseRateDesc, T14.BRTypeDesc RpyAdvBaseRateDesc, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule, 
			                      T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb, T1.collateralType, T1.TDSApplicable, T15.RuleCode DownPayRuleDesc, T1.ApplyGrcPricing, 
			                      T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy, T16.RuleCode GrcPricingMethodDesc, 
			                      T17.RuleCode RpyPricingMethodDesc, T1.DroplineOD, T1.DroppingMethod, T1.RateChgAnyDay, T12.StepType DftStepPolicyType, T1.ManualSchedule,T18.ProductCategory,
			                      T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
			 					  T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
			 					  T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb
			FROM         RMTFinanceTypes T1 LEFT OUTER JOIN
			                      RMTFinanceTypes T2 ON T1.Product = T2.FinType LEFT OUTER JOIN
			                      RMTBaseRateCodes T3 ON T1.FinBaseRate = T3.BRType LEFT OUTER JOIN
			                      RMTSplRateCodes T4 ON T1.FinSplRate = T4.SRType LEFT OUTER JOIN
			                      RMTBaseRateCodes T5 ON T1.FinGrcBaseRate = T5.BRType LEFT OUTER JOIN
			                      RMTSplRateCodes T6 ON T1.FinGrcSplRate = T6.SRType LEFT OUTER JOIN
			                      SMTDivisionDetail T9 ON T1.FinDivision = T9.DivisionCode LEFT OUTER JOIN
			                      TakafulProvider T10 ON T1.TakafulProvider = T10.TakafulCode LEFT OUTER JOIN
			                      TakafulProvider T11 ON T1.PropertyTakafulProvider = T11.TakafulCode LEFT OUTER JOIN
			                      StepPolicyHeader T12 ON T1.DftStepPolicy = T12.PolicyCode LEFT OUTER JOIN
			                      RMTBaseRateCodes T13 ON T1.GrcAdvBaseRate = T13.BRType LEFT OUTER JOIN
			                      RMTBaseRateCodes T14 ON T1.RpyAdvBaseRate = T14.BRType LEFT OUTER JOIN
			                      Rules T15 ON T1.DownPayRule = T15.RuleId LEFT OUTER JOIN
			                      Rules T16 ON T1.GrcPricingMethod = T16.RuleId LEFT OUTER JOIN
			                      Rules T17 ON T1.RpyPricingMethod = T17.RuleId LEFT OUTER JOIN
								  BMTProduct T18 ON T1.FinCategory = T18.ProductCode
		</createView>
		</changeSet>
		
		<changeSet author="Kesava" id="154">
			<modifyDataType tableName="CorpScoringGroupDetail" columnName="CustCategory" newDataType="nvarchar(8)"/>
		</changeSet>
		
		<changeSet author="Kesava" id="155">
			<update tableName="CorpScoringGroupDetail">
				<column name="CustCategory">'CORP'</column>
				<where>CustCategory = 'C'</where>
			</update>
		</changeSet>
		
		<changeSet author="Kesava" id="156">
			<update tableName="CorpScoringGroupDetail">
				<column name="CustCategory">CORP</column>
				<where>CustCategory = 'C'</where>
			</update>
			<update tableName="CorpScoringGroupDetail">
				<column name="CustCategory">BANK</column>
				<where>CustCategory = 'B'</where>
			</update>
		</changeSet>
		
		<changeSet author="Kesava" id="157">
			<update tableName="CorpScoringGroupDetail">
				<column name="CustCategory">CORP</column>
				<where>CustCategory = 'CORP'</where>
			</update>
		</changeSet>
			<changeSet author="Kesava" id="158">
			<sql>
		update CorpScoringGroupDetail set CustCategory='CORP' where CustCategory='''CORP''';
		</sql>	
		</changeSet>

	<changeSet id="159" author="Siva">
		<insert tableName="ReportList">
			<column name="Code">InsuranceType</column>
			<column name="Module">InsuranceType</column>
			<column name="FieldLabels">listheader_InsuranceType.label,listheader_InsuranceTypeDesc.label</column>
			<column name="FieldValues">insuranceType,insuranceTypeDesc</column>
			<column name="FieldType">String,String</column>
			<column name="Addfields"></column>
			<column name="ReportFileName">ReportList02</column>
			<column name="ReportHeading">Insurance Type</column>
			<column name="ModuleType">Application Masters</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="FormatReq">0</column>
		</insert>
	</changeSet>     
	
	<changeSet id="160" author="Siva">
		<insert tableName="ReportList">
			<column name="Code">InsurancePolicy</column>
			<column name="Module">InsurancePolicy</column>
			<column name="FieldLabels">listheader_PolicyCode.label,listheader_InsuranceType.label,listheader_InsuranceProvider.label,listheader_Active.label</column>
			<column name="FieldValues">policyCode,insuranceType,insuranceProvider,active</column>
			<column name="FieldType">String,String,String,boolean</column>
			<column name="Addfields"></column>
			<column name="ReportFileName">ReportList04</column>
			<column name="ReportHeading">Insurance Policy</column>
			<column name="ModuleType">Application Masters</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="FormatReq">0</column>
		</insert>
	</changeSet> 
		<changeSet author="Irfan" id="161">
			<update tableName="RMTFinanceTypes">
				<column name="QuickDisb">0</column>
				<where>QuickDisb is NULL</where>
			</update>
			</changeSet> 
		<changeSet author="Irfan" id="162">
			<update tableName="RMTFinanceTypes_Temp">
				<column name="QuickDisb">0</column>
				<where>QuickDisb is NULL</where>
			</update>
			</changeSet>  
			<changeSet id="163.1" author="Prasad" dbms="mssql">
			<createView viewName="LMTFINANCEWORKFLOWDEF_VIEW" replaceIfExists="true">
			SELECT   T1.FinType,T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName , T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc,
				T4.FacilityDesc lovDescFacilityTypeName ,
						 T1.ScreenCode, T1.WorkFlowType ,T3.WorkFlowDesc lovDescWorkFlowTypeName, T1.Version,
						 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         T1.NextTaskId, T1.RecordType, T1.WorkflowId, T3.WorkFlowRoles LovDescWorkFlowRolesName,
				         T2.FinCategory lovDescProductCodeName,T3.FirstTaskOwner LovDescFirstTaskOwner,
				         T1.ModuleName, 
                 COALESCE(CAST(T2.FinIsActive as bit), T6.Active,CAST(T7.Active as bit),CAST(T8.Active as bit) ) FinIsActive,
                 COALESCE(T2.Product,N'') LovDescProductName,T2.FinAssetType,
				         T1.FinEvent, T5.ProductCategory
				FROM     LMTFinanceWorkFlowDef_Temp T1 
						 LEFT JOIN RMTFinanceTypes T2 ON T1.FinType = T2.FinType 
						 INNER JOIN WorkFlowDetails T3 ON T1.WorkFlowType = T3.WorkFlowType
						 AND T3.WorkFlowActive = 1 
						 LEFT JOIN CAFFacilityTypes T4 ON T1.FinType = T4.FacilityType 
						 LEFT JOIN BMTProduct T5 ON T2.FinCategory = T5.ProductCode
						 LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
						 LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
						  LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode 
				UNION ALL
				SELECT   T1.FinType, T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName, T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc, T4.FacilityDesc lovDescFacilityTypeName,
						 T1.ScreenCode, T1.WorkFlowType,T3.WorkFlowDesc lovDescWorkFlowTypeName, T1.Version,
						 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         T1.NextTaskId, T1.RecordType, T1.WorkflowId, T3.WorkFlowRoles LovDescWorkFlowRolesName,
				         T2.FinCategory lovDescProductCodeName,T3.FirstTaskOwner LovDescFirstTaskOwner,
				         T1.ModuleName,
                COALESCE(CAST(T2.FinIsActive as bit), T6.Active,CAST(T7.Active as bit),CAST(T8.Active as bit) ) FinIsActive,
                 COALESCE(T2.Product,N'') LovDescProductName,T2.FinAssetType,
				         T1.FinEvent, T5.ProductCategory
				FROM     LMTFinanceWorkFlowDef  T1 
						 LEFT JOIN RMTFinanceTypes T2 ON T1.FinType = T2.FinType 
						 INNER JOIN WorkFlowDetails T3 ON T1.WorkFlowType = T3.WorkFlowType 
						 AND T3.WorkFlowActive = 1 
						 LEFT JOIN CAFFacilityTypes T4 ON T1.FinType = T4.FacilityType
						 LEFT JOIN BMTProduct T5 ON T2.FinCategory = T5.ProductCode
						  LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
						 LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
						  LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode
				WHERE    (NOT EXISTS
				                          (SELECT     1 Expr1
				                            FROM          LMTFinanceWorkFlowDef_Temp
				                            WHERE      (FinType = T1.FinType AND FinEvent = T1.FinEvent AND ModuleName = T1.ModuleName)))
			</createView>
			</changeSet>
			<changeSet id="163_Oracle" author="Irfan" dbms="oracle">
		<createView viewName="LMTFINANCEWORKFLOWDEF_VIEW" replaceIfExists="true" >
		 SELECT   T1.FinType,T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName , T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc,
				T4.FacilityDesc lovDescFacilityTypeName ,
						 T1.ScreenCode, T1.WorkFlowType ,T3.WorkFlowDesc lovDescWorkFlowTypeName, T1.Version,
						 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         T1.NextTaskId, T1.RecordType, T1.WorkflowId, T3.WorkFlowRoles LovDescWorkFlowRolesName,
				         T2.FinCategory lovDescProductCodeName,T3.FirstTaskOwner LovDescFirstTaskOwner,
				         T1.ModuleName, 
                 COALESCE(CAST(T2.FinIsActive as number(1)), T6.Active,CAST(T7.Active as number(1)),CAST(T8.Active as number(1)) ) FinIsActive,
                 COALESCE(T2.Product,N'') LovDescProductName,T2.FinAssetType,
				         T1.FinEvent, T5.ProductCategory
				FROM     LMTFinanceWorkFlowDef_Temp T1 
						 LEFT JOIN RMTFinanceTypes T2 ON T1.FinType = T2.FinType 
						 INNER JOIN WorkFlowDetails T3 ON T1.WorkFlowType = T3.WorkFlowType
						 AND T3.WorkFlowActive = 1 
						 LEFT JOIN CAFFacilityTypes T4 ON T1.FinType = T4.FacilityType 
						 LEFT JOIN BMTProduct T5 ON T2.FinCategory = T5.ProductCode
						 LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
						 LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
						  LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode 
				UNION ALL
				SELECT   T1.FinType, T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName, T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc, T4.FacilityDesc lovDescFacilityTypeName,
						 T1.ScreenCode, T1.WorkFlowType,T3.WorkFlowDesc lovDescWorkFlowTypeName, T1.Version,
						 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         T1.NextTaskId, T1.RecordType, T1.WorkflowId, T3.WorkFlowRoles LovDescWorkFlowRolesName,
				         T2.FinCategory lovDescProductCodeName,T3.FirstTaskOwner LovDescFirstTaskOwner,
				         T1.ModuleName,
                COALESCE(CAST(T2.FinIsActive as number(1)), T6.Active,CAST(T7.Active as number(1)),CAST(T8.Active as number(1)) ) FinIsActive,
                 COALESCE(T2.Product,N'') LovDescProductName,T2.FinAssetType,
				         T1.FinEvent, T5.ProductCategory
				FROM     LMTFinanceWorkFlowDef  T1 
						 LEFT JOIN RMTFinanceTypes T2 ON T1.FinType = T2.FinType 
						 INNER JOIN WorkFlowDetails T3 ON T1.WorkFlowType = T3.WorkFlowType 
						 AND T3.WorkFlowActive = 1 
						 LEFT JOIN CAFFacilityTypes T4 ON T1.FinType = T4.FacilityType
						 LEFT JOIN BMTProduct T5 ON T2.FinCategory = T5.ProductCode
						  LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
						 LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
						  LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode
				WHERE    (NOT EXISTS
				                          (SELECT     1 Expr1
				                            FROM          LMTFinanceWorkFlowDef_Temp
				                            WHERE      (FinType = T1.FinType AND FinEvent = T1.FinEvent AND ModuleName = T1.ModuleName)))
		</createView></changeSet>       

			
	<changeSet id="164" author="Satish">
		<dropTable tableName="PayOrderIssueDetail" />
		<dropTable tableName="PayOrderIssueDetail_Temp" />
		<dropView viewName="PayOrderIssueDetail_AView" />
		<dropView viewName="PayOrderIssueDetail_View" />
	</changeSet>	
		<changeSet id="165" author="DurgaPrasad D">
		<insert tableName="ErrorDetails">
			<column name="ErrorCode">90237</column>
			<column name="ErrorLanguage">EN</column>
			<column name="ErrorSeverity">E</column>
			<column name="ErrorMessage"><![CDATA[{0} is invalid. Allowed Characters are [a-z A-Z 0-9 . and _] and must starts with Characters.]]></column>
			<column name="ErrorExtendedMessage"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="LastMntOn"></column>
			<column name="LastMntBy">1000</column>
			<column name="Version">0</column>
		</insert>
		<insert tableName="ErrorDetails">
			<column name="ErrorCode">90809</column>
			<column name="ErrorLanguage">EN</column>
			<column name="ErrorSeverity">E</column>
			<column name="ErrorMessage">Allowed Limit check methods are {0}.</column>
			<column name="ErrorExtendedMessage"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="LastMntOn"></column>
			<column name="LastMntBy">1000</column>
			<column name="Version">0</column>
		</insert>
	</changeSet>  
	<changeSet id="166" author="Irfan">
		<createView viewName="RMTFinanceTypes_AView" replaceIfExists="true">
		 SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
				           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
						   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
						   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
				           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
						   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
						   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
						   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
						   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
						   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
						   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
				           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
						   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
						   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
				           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
						   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
						   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
				           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
						   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
						   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
				           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
				           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
				           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
				           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
						   T1.FinCommitmentOvrride, T1.FinCollateralOvrride, 
				           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
						   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
						   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
						   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
						   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
				           T53.AddrLine1 + ' ' + T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
						   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
						   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
						   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
				           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
				           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
						   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
						   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
						   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
						   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
						    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
							T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
							T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb
				FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
				           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
				           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
				           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
				           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
				           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
				           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
				           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
				           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
				           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
				           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
				           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
				           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
				           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
				           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
				           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
				           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
				           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
				           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
				           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
				           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
				           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
				           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
				           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
				           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
				           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
				           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
				           Rules T68 ON T1.RpyPricingMethod = T68.RuleId
				           </createView>
				           </changeSet>
<changeSet id="167" author="Prasad">
		<createView viewName="RMTFinanceTypes_AView" replaceIfExists="true">
		 SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
				           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
						   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
						   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
				           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
						   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
						   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
						   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
						   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
						   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
						   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
				           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
						   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
						   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
				           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
						   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
						   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
				           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
						   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
						   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
				           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
				           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
				           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
				           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
						   T1.FinCommitmentOvrride, T1.FinCollateralOvrride, 
				           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
						   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
						   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
						   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
						   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
				           T53.AddrLine1 ${call.concatenate} ' ' ${call.concatenate} T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
						   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
						   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
						   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
				           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
				           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
						   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
						   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
						   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
						   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
						    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
							T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
							T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb
				FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
				           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
				           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
				           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
				           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
				           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
				           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
				           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
				           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
				           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
				           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
				           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
				           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
				           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
				           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
				           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
				           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
				           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
				           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
				           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
				           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
				           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
				           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
				           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
				           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
				           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
				           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
				           Rules T68 ON T1.RpyPricingMethod = T68.RuleId
				           </createView>
				           </changeSet>
	   		    
</databaseChangeLog>