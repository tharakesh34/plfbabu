<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PFFBFSQCAudit.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()::timestamp" dbms="postgresql" />

	<changeSet id="pre_run_for_pgp" author="Jayant" runAlways="true" dbms="postgresql">
		<sql>
			Set search_path = public,pg_catalog;
		</sql>
	</changeSet>

	<changeSet id="1" author="murthy.y">
		<sql>
				<![CDATA[
					delete from ErrorDetails where code='CE0001';
					insert into ErrorDetails (Code, Language, Severity, Message, RecordStatus, WorkflowId, LastMntBy, Version) values ('CE0001', 'EN', 'E', '{0} cannot be blank.', 'Approved', 0, 1000, 1);
				]]>
		</sql>
	</changeSet>

	<changeSet id="2" author="murthy.y">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE='Y' WHERE SYSPARMCODE='ADVANCE_PAYMENT_INT';
				UPDATE SMTPARAMETERS SET SYSPARMVALUE='N' WHERE SYSPARMCODE='ADVANCE_PAYMENT_EMI';
				UPDATE SMTPARAMETERS SET SYSPARMVALUE='N' WHERE SYSPARMCODE='ADVANCE_PAYMENT_EMI_STAGE_FRONT_END';
				UPDATE SMTPARAMETERS SET SYSPARMVALUE='N' WHERE SYSPARMCODE='ADVANCE_PAYMENT_EMI_STAGE_REARE_END';
				UPDATE SMTPARAMETERS SET SYSPARMVALUE='N' WHERE SYSPARMCODE='ADVANCE_PAYMENT_EMI_STAGE_REPAY_TERMS';
			]]>
		</sql>
	</changeSet>

	<changeSet id="3" author="murthy.y">
		<sql>
			<![CDATA[
				delete AMTVehicleDealer where DealerType = 'DMA' and DealerName = 'DFT'
				insert into amtvehicledealer values((select coalesce(max(dealerid), 0)+1 from amtvehicledealer_view), 'DFT', 1, 1000, CURRENT_TIMESTAMP,'Approved', ' ', ' ', ' ', ' ', ' ', 0, NULL, NULL, NULL, NULL, 'DMA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,NULL, NULL, NULL, 0, 1, 'DFT', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);			
			]]>
		</sql>
	</changeSet>

	<changeSet id="3.1" author="murthy.y">
		<sql>
			<![CDATA[
				update financemain set AccountsOfficer = (select max(DealerId) from AMTVehicleDealer where DealerType = 'SOPT' and DealerName = 'DFT') where DmaCode is null  or DmaCode =0;
				update financemain_Temp set AccountsOfficer = (select max(DealerId) from AMTVehicleDealer where DealerType = 'SOPT' and DealerName = 'DFT') where DmaCode is null  or DmaCode =0;	
				
				update financemain set DmaCode = (select max(DealerId) from AMTVehicleDealer where DealerType = 'DMA' and DealerName = 'DFT') where DmaCode is null  or DmaCode =0;
				update financemain_Temp set DmaCode = (select max(DealerId) from AMTVehicleDealer where DealerType = 'DMA' and DealerName = 'DFT') where DmaCode is null  or DmaCode =0;
			]]>
		</sql>
	</changeSet>

	<changeSet id="4" author="murthy.y">
		<sql>
			<![CDATA[
				delete AMTVehicleDealer where DealerType = 'DMA' and DealerName = 'DFT'
				insert into amtvehicledealer values((select coalesce(max(dealerid), 0)+1 from amtvehicledealer_view), 'DFT', 1, 1000, CURRENT_TIMESTAMP,'Approved', ' ', ' ', ' ', ' ', ' ', 0, NULL, NULL, NULL, NULL, 'DMA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,NULL, NULL, NULL, 0, 1, 'DFT', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
				
				delete AMTVehicleDealer where DealerType = 'SOPT' and DealerName = 'DFT'
				insert into amtvehicledealer values((select coalesce(max(dealerid), 0)+1 from amtvehicledealer_view), 'DFT', 1, 1000, CURRENT_TIMESTAMP,'Approved', ' ', ' ', ' ', ' ', ' ', 0, NULL, NULL, NULL, NULL, 'SOPT', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,NULL, NULL, NULL, 0, 1, 'DFT', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);			
			]]>
		</sql>
	</changeSet>

	<changeSet id="4.1" author="murthy.y">
		<sql>
			<![CDATA[
				update financemain set AccountsOfficer = (select max(DealerId) from AMTVehicleDealer where DealerType = 'SOPT' and DealerName = 'DFT') where AccountsOfficer is null  or AccountsOfficer =0;
				update financemain_Temp set AccountsOfficer = (select max(DealerId) from AMTVehicleDealer where DealerType = 'SOPT' and DealerName = 'DFT') where AccountsOfficer is null  or AccountsOfficer =0;	
				
				update financemain set DmaCode = (select max(DealerId) from AMTVehicleDealer where DealerType = 'DMA' and DealerName = 'DFT') where DmaCode is null  or DmaCode =0;
				update financemain_Temp set DmaCode = (select max(DealerId) from AMTVehicleDealer where DealerType = 'DMA' and DealerName = 'DFT') where DmaCode is null  or DmaCode =0;
			]]>
		</sql>
	</changeSet>
	
	<changeSet  id="5" author="satyanarayana.g">
		<sql>
		   <![CDATA[
			  UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
			  UPDATE WorkFlowDetails SET WorkFlowActive= 0 where WorkFlowType='MANDATE_CREATE';
			]]>
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId"
				valueComputed="(select max(WorkFlowId) + 1 from WorkFlowDetails)" />
			<column name="WorkFlowType">MANDATE_CREATE</column>
			<column name="WorkFlowSubType">Mandate Create Workflow Process</column>
			<column name="WorkFlowDesc">Maker/Checker Mandate Create Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">MANDATE_CREATE_MAKER;MANDATE_CREATE_APPROVER</column>
			<column name="FirstTaskOwner">MANDATE_CREATE_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">1</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	
	<changeSet id="5.0" author="satyanarayana.g">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":1139,"properties":{"process_id":"MANDATE_CREATE","name":"Mandate Create Workflow Process","documentation":"Maker/Checker Mandate Create Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-ABA5CD2C-DB88-4DE4-AEA3-E5F9675E3EA8"}],"bounds":{"lowerRight":{"x":180,"y":190},"upperLeft":{"x":150,"y":160}},"dockers":[]},{"resourceId":"sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"MANDATE_CREATE_MAKER","firstName":"MANDATE_CREATE_MAKER","fullName":"MANDATE_CREATE_MAKER","id":"MANDATE_CREATE_MAKER","roledesc":"Mandate  Role Maker Details","$$hashKey":"object:2933"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-CFCEC999-6A88-4610-8D0D-8C7845E51F37"},{"resourceId":"sid-1818C257-6267-4B36-B27C-5F014FCD51D0"}],"bounds":{"lowerRight":{"x":340,"y":215},"upperLeft":{"x":240,"y":135}},"dockers":[]},{"resourceId":"sid-ABA5CD2C-DB88-4DE4-AEA3-E5F9675E3EA8","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4"}],"bounds":{"lowerRight":{"x":239.1953125,"y":175},"upperLeft":{"x":180.6484375,"y":175}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4"}},{"resourceId":"sid-5D0116EA-5F04-4A75-8F76-E320483FBF18","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"MANDATE_CREATE_APPROVER","firstName":"MANDATE_CREATE_APPROVER","fullName":"MANDATE_CREATE_APPROVER","id":"MANDATE_CREATE_APPROVER","roledesc":"Mandate  Role Approver Details","$$hashKey":"object:3628"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-8983C5D3-36A9-44B9-8B4E-D79CF8061D2E"}],"bounds":{"lowerRight":{"x":550,"y":215},"upperLeft":{"x":450,"y":135}},"dockers":[]},{"resourceId":"sid-80B309A5-2092-4965-8FB5-58145557F7FE","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-4895950B-9FEE-49C7-AA3E-AAFF9CF3BF41"},{"resourceId":"sid-3489D383-685E-4343-9983-ABA0F411C2D0"},{"resourceId":"sid-08A91673-27FE-43CA-A282-E267EC35C0A5"}],"bounds":{"lowerRight":{"x":635,"y":195},"upperLeft":{"x":595,"y":155}},"dockers":[]},{"resourceId":"sid-8983C5D3-36A9-44B9-8B4E-D79CF8061D2E","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-80B309A5-2092-4965-8FB5-58145557F7FE"}],"bounds":{"lowerRight":{"x":594.6484468700075,"y":175.4097335362338},"upperLeft":{"x":550.6288968799925,"y":175.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-80B309A5-2092-4965-8FB5-58145557F7FE"}},{"resourceId":"sid-1C620DEC-5BAC-44A8-A300-FCE8613A7AAD","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":913,"y":189},"upperLeft":{"x":885,"y":161}},"dockers":[]},{"resourceId":"sid-BEC18337-F8FE-4DCB-AD72-EDD930BD0D55","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1C620DEC-5BAC-44A8-A300-FCE8613A7AAD"}],"bounds":{"lowerRight":{"x":884.8984375,"y":175},"upperLeft":{"x":820.3828125,"y":175}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-1C620DEC-5BAC-44A8-A300-FCE8613A7AAD"}},{"resourceId":"sid-185D365B-B9BD-4497-8220-A37B4F15533C","properties":{"overrideid":"","name":"Complete Process","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None","formkeydefinition":"","type":"http://b3mn.org/stencilset/bpmn2.0#UserTask","usertaskassignment":"","additionalforms":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":""},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-7DDD45BE-4CDF-4343-B2E3-3368B0F189D9"},{"resourceId":"sid-BEC18337-F8FE-4DCB-AD72-EDD930BD0D55"}],"bounds":{"lowerRight":{"x":820,"y":215},"upperLeft":{"x":720,"y":135}},"dockers":[]},{"resourceId":"sid-5CEEC812-3384-4168-9904-AEAD994AB041","properties":{"overrideid":"","name":"Cancel Process","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None","formkeydefinition":"","type":"http://b3mn.org/stencilset/bpmn2.0#UserTask","usertaskassignment":"","additionalforms":"","duedatedefinition":"","prioritydefinition":"Role Queue","baseactor":""},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-C50AF65C-7405-4B14-A6A6-9B492EE805A6"}],"bounds":{"lowerRight":{"x":665,"y":365},"upperLeft":{"x":565,"y":285}},"dockers":[]},{"resourceId":"sid-4D026A5C-CAF1-4DCD-844F-3A1BAF290E58","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":738,"y":339},"upperLeft":{"x":710,"y":311}},"dockers":[]},{"resourceId":"sid-C50AF65C-7405-4B14-A6A6-9B492EE805A6","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-4D026A5C-CAF1-4DCD-844F-3A1BAF290E58"}],"bounds":{"lowerRight":{"x":709.375,"y":325},"upperLeft":{"x":665.390625,"y":325}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-4D026A5C-CAF1-4DCD-844F-3A1BAF290E58"}},{"resourceId":"sid-7DDD45BE-4CDF-4343-B2E3-3368B0F189D9","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1C620DEC-5BAC-44A8-A300-FCE8613A7AAD"}],"bounds":{"lowerRight":{"x":884.8984375,"y":175},"upperLeft":{"x":820.3828125,"y":175}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-1C620DEC-5BAC-44A8-A300-FCE8613A7AAD"}},{"resourceId":"sid-08A91673-27FE-43CA-A282-E267EC35C0A5","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4"}],"bounds":{"lowerRight":{"x":615.5,"y":154.53125},"upperLeft":{"x":290,"y":69}},"dockers":[{"x":20.5,"y":20.5},{"x":615.5,"y":69},{"x":290,"y":69},{"x":50,"y":40}],"target":{"resourceId":"sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4"}},{"resourceId":"sid-4895950B-9FEE-49C7-AA3E-AAFF9CF3BF41","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-185D365B-B9BD-4497-8220-A37B4F15533C"}],"bounds":{"lowerRight":{"x":719.5117239866028,"y":175.43426377099223},"upperLeft":{"x":635.8124947633972,"y":175.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-185D365B-B9BD-4497-8220-A37B4F15533C"}},{"resourceId":"sid-1818C257-6267-4B36-B27C-5F014FCD51D0","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5CEEC812-3384-4168-9904-AEAD994AB041"}],"bounds":{"lowerRight":{"x":564.48828125,"y":325},"upperLeft":{"x":290,"y":215.84375}},"dockers":[{"x":50,"y":40},{"x":290,"y":325},{"x":50,"y":40}],"target":{"resourceId":"sid-5CEEC812-3384-4168-9904-AEAD994AB041"}},{"resourceId":"sid-CFCEC999-6A88-4610-8D0D-8C7845E51F37","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5D0116EA-5F04-4A75-8F76-E320483FBF18"}],"bounds":{"lowerRight":{"x":449.78125,"y":175},"upperLeft":{"x":340.21875,"y":175}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-5D0116EA-5F04-4A75-8F76-E320483FBF18"}},{"resourceId":"sid-3489D383-685E-4343-9983-ABA0F411C2D0","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5CEEC812-3384-4168-9904-AEAD994AB041"}],"bounds":{"lowerRight":{"x":615.4341555370994,"y":284.28906809273167},"upperLeft":{"x":615.1361569629006,"y":195.1874944072683}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-5CEEC812-3384-4168-9904-AEAD994AB041"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="MANDATE_CREATE" name="Mandate Create Workflow Process" isExecutable="true"><documentation>Maker/Checker Mandate Create Workflow Process</documentation><startEvent id="startEvent1" name="Start" /><userTask id="sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4" name="Maker" activiti:actor="MANDATE_CREATE_MAKER" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-ABA5CD2C-DB88-4DE4-AEA3-E5F9675E3EA8" sourceRef="startEvent1" targetRef="sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4" representsUserAction="false" mandateNotes="false" /><userTask id="sid-5D0116EA-5F04-4A75-8F76-E320483FBF18" name="Approver" activiti:actor="MANDATE_CREATE_APPROVER" activiti:assignmentLevel="Role Queue" /><exclusiveGateway id="sid-80B309A5-2092-4965-8FB5-58145557F7FE" /><sequenceFlow id="sid-8983C5D3-36A9-44B9-8B4E-D79CF8061D2E" sourceRef="sid-5D0116EA-5F04-4A75-8F76-E320483FBF18" targetRef="sid-80B309A5-2092-4965-8FB5-58145557F7FE" representsUserAction="false" mandateNotes="false" /><endEvent id="sid-1C620DEC-5BAC-44A8-A300-FCE8613A7AAD" name="Approved" /><sequenceFlow id="sid-BEC18337-F8FE-4DCB-AD72-EDD930BD0D55" sourceRef="sid-185D365B-B9BD-4497-8220-A37B4F15533C" targetRef="sid-1C620DEC-5BAC-44A8-A300-FCE8613A7AAD" representsUserAction="false" mandateNotes="false" /><serviceTask id="sid-185D365B-B9BD-4497-8220-A37B4F15533C" name="Complete Process" activiti:operation="doApprove" /><serviceTask id="sid-5CEEC812-3384-4168-9904-AEAD994AB041" name="Cancel Process" activiti:operation="doReject" /><endEvent id="sid-4D026A5C-CAF1-4DCD-844F-3A1BAF290E58" name="Rejected" /><sequenceFlow id="sid-C50AF65C-7405-4B14-A6A6-9B492EE805A6" sourceRef="sid-5CEEC812-3384-4168-9904-AEAD994AB041" targetRef="sid-4D026A5C-CAF1-4DCD-844F-3A1BAF290E58" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-7DDD45BE-4CDF-4343-B2E3-3368B0F189D9" sourceRef="sid-185D365B-B9BD-4497-8220-A37B4F15533C" targetRef="sid-1C620DEC-5BAC-44A8-A300-FCE8613A7AAD" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-08A91673-27FE-43CA-A282-E267EC35C0A5" name="Resubmit" sourceRef="sid-80B309A5-2092-4965-8FB5-58145557F7FE" targetRef="sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-4895950B-9FEE-49C7-AA3E-AAFF9CF3BF41" name="Approve" sourceRef="sid-80B309A5-2092-4965-8FB5-58145557F7FE" targetRef="sid-185D365B-B9BD-4497-8220-A37B4F15533C" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1818C257-6267-4B36-B27C-5F014FCD51D0" name="Cancel" sourceRef="sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4" targetRef="sid-5CEEC812-3384-4168-9904-AEAD994AB041" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow><sequenceFlow id="sid-CFCEC999-6A88-4610-8D0D-8C7845E51F37" name="Submit" sourceRef="sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4" targetRef="sid-5D0116EA-5F04-4A75-8F76-E320483FBF18" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-3489D383-685E-4343-9983-ABA0F411C2D0" name="Reject" sourceRef="sid-80B309A5-2092-4965-8FB5-58145557F7FE" targetRef="sid-5CEEC812-3384-4168-9904-AEAD994AB041" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow></process><bpmndi:BPMNDiagram id="BPMNDiagram_MANDATE_CREATE"><bpmndi:BPMNPlane bpmnElement="MANDATE_CREATE" id="BPMNPlane_MANDATE_CREATE"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="150.0" y="160.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4" id="BPMNShape_sid-1F6CE5BD-B315-4221-9A86-E287F3132BC4"><omgdc:Bounds height="80.0" width="100.0" x="240.0" y="135.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-5D0116EA-5F04-4A75-8F76-E320483FBF18" id="BPMNShape_sid-5D0116EA-5F04-4A75-8F76-E320483FBF18"><omgdc:Bounds height="80.0" width="100.0" x="450.0" y="135.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-80B309A5-2092-4965-8FB5-58145557F7FE" id="BPMNShape_sid-80B309A5-2092-4965-8FB5-58145557F7FE"><omgdc:Bounds height="40.0" width="40.0" x="595.0" y="155.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-1C620DEC-5BAC-44A8-A300-FCE8613A7AAD" id="BPMNShape_sid-1C620DEC-5BAC-44A8-A300-FCE8613A7AAD"><omgdc:Bounds height="28.0" width="28.0" x="885.0" y="161.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-185D365B-B9BD-4497-8220-A37B4F15533C" id="BPMNShape_sid-185D365B-B9BD-4497-8220-A37B4F15533C"><omgdc:Bounds height="80.0" width="100.0" x="720.0" y="135.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-5CEEC812-3384-4168-9904-AEAD994AB041" id="BPMNShape_sid-5CEEC812-3384-4168-9904-AEAD994AB041"><omgdc:Bounds height="80.0" width="100.0" x="565.0" y="285.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-4D026A5C-CAF1-4DCD-844F-3A1BAF290E58" id="BPMNShape_sid-4D026A5C-CAF1-4DCD-844F-3A1BAF290E58"><omgdc:Bounds height="28.0" width="28.0" x="710.0" y="311.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-ABA5CD2C-DB88-4DE4-AEA3-E5F9675E3EA8" id="BPMNEdge_sid-ABA5CD2C-DB88-4DE4-AEA3-E5F9675E3EA8"><omgdi:waypoint x="180.0" y="175.0" /><omgdi:waypoint x="240.0" y="175.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-8983C5D3-36A9-44B9-8B4E-D79CF8061D2E" id="BPMNEdge_sid-8983C5D3-36A9-44B9-8B4E-D79CF8061D2E"><omgdi:waypoint x="550.0" y="175.2164502164502" /><omgdi:waypoint x="595.4130434782609" y="175.41304347826087" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-CFCEC999-6A88-4610-8D0D-8C7845E51F37" id="BPMNEdge_sid-CFCEC999-6A88-4610-8D0D-8C7845E51F37"><omgdi:waypoint x="340.0" y="175.0" /><omgdi:waypoint x="450.0" y="175.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-3489D383-685E-4343-9983-ABA0F411C2D0" id="BPMNEdge_sid-3489D383-685E-4343-9983-ABA0F411C2D0"><omgdi:waypoint x="615.4362416107383" y="194.56375838926175" /><omgdi:waypoint x="615.133779264214" y="285.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-BEC18337-F8FE-4DCB-AD72-EDD930BD0D55" id="BPMNEdge_sid-BEC18337-F8FE-4DCB-AD72-EDD930BD0D55"><omgdi:waypoint x="820.0" y="175.0" /><omgdi:waypoint x="885.0" y="175.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-4895950B-9FEE-49C7-AA3E-AAFF9CF3BF41" id="BPMNEdge_sid-4895950B-9FEE-49C7-AA3E-AAFF9CF3BF41"><omgdi:waypoint x="634.5616883116883" y="175.4383116883117" /><omgdi:waypoint x="720.0" y="175.16181229773463" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1818C257-6267-4B36-B27C-5F014FCD51D0" id="BPMNEdge_sid-1818C257-6267-4B36-B27C-5F014FCD51D0"><omgdi:waypoint x="290.0" y="215.0" /><omgdi:waypoint x="290.0" y="325.0" /><omgdi:waypoint x="565.0" y="325.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-08A91673-27FE-43CA-A282-E267EC35C0A5" id="BPMNEdge_sid-08A91673-27FE-43CA-A282-E267EC35C0A5"><omgdi:waypoint x="615.5" y="155.5" /><omgdi:waypoint x="615.5" y="69.0" /><omgdi:waypoint x="290.0" y="69.0" /><omgdi:waypoint x="290.0" y="135.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-C50AF65C-7405-4B14-A6A6-9B492EE805A6" id="BPMNEdge_sid-C50AF65C-7405-4B14-A6A6-9B492EE805A6"><omgdi:waypoint x="665.0" y="325.0" /><omgdi:waypoint x="710.0" y="325.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-7DDD45BE-4CDF-4343-B2E3-3368B0F189D9" id="BPMNEdge_sid-7DDD45BE-4CDF-4343-B2E3-3368B0F189D9"><omgdi:waypoint x="820.0" y="175.0" /><omgdi:waypoint x="885.0" y="175.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='MANDATE_CREATE'and workflowactive=1</where>
		</update>
	</changeSet>
</databaseChangeLog>
