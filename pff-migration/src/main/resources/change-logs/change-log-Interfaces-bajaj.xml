<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	
	<changeSet id="1" author="surekha">
	<createTable tableName="DM_DISB_DETAILS_DAILY">
		<column name="AGREEMENTDATE" type="datetime" />
		<column name="APPLID" type="NUMBER(8)" />
		<column name="AGREEMENTNO" type="VARCHAR2(20)" />
		<column name="DISBURSEMENTNO" type="NUMBER(8)" />
		<column name="DISBURSEMENTDATE" type="datetime" />
		<column name="PARENT_AGREEMENTNO" type="VARCHAR2(20)" />
		<column name="AMTFIN" type="NUMBER(16,2)" />
		<column name="NET_AMTFIN" type="NUMBER(16,2)" />
		<column name="DISBURSEDAMT" type="NUMBER(16,2)" />
		<column name="DISB_STATUS" type="VARCHAR2(20)" />
		<column name="GROSS_TENURE" type="NUMBER(3)" />
		<column name="NET_TENURE" type="NUMBER(3)" />
		<column name="MATURITYDATE" type="datetime" />
		<column name="EXPIRYDATE" type="datetime" />
		<column name="NO_OF_ADV_INSTL" type="NUMBER(3)" />
		<column name="ADV_EMI_AMT" type="NUMBER(16,2)" />
		<column name="EMI" type="NUMBER(16,2)" />
		<column name="REPAYMENT_MODE" type="VARCHAR2(20)" />
		<column name="PRODUCTFLAG" type="VARCHAR2(8)" />
		<column name="PROMOTIONID" type="NUMBER(8)" />
		<column name="ICICI_LOMBARD" type="NUMBER(16,2)" />
		<column name="BAGIC" type="NUMBER(16,2)" />
		<column name="BALIC_CHARGES" type="NUMBER(16,2)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSED_FLAG" type="CHAR(1)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="SEGMENTS" type="VARCHAR2(10)" />
		<column name="FEE" type="NUMBER(16,2)" />
		<column name="DEALER_SUBV" type="NUMBER(16,2)" />
		<column name="MANU_SUBV_DED" type="NUMBER(16,2)" />
		<column name="MANU_SUBV_NDED" type="NUMBER(16,2)" />
		<column name="PREEMI" type="NUMBER(16,2)" />
		<column name="EXISTING_LANNO" type="VARCHAR2(20)" />
		<column name="MORTGAGE_FEE" type="NUMBER" />
		<column name="COMMITMENT_FEE" type="NUMBER" />
		<column name="PROCESSING_FEE" type="NUMBER" />
		<column name="PRE_EMI_RECEIVABLE" type="NUMBER" />
		<column name="INSURANCE" type="NUMBER" />
		<column name="PAYMENTMODE" type="VARCHAR2(13)" />
		<column name="FREQ" type="VARCHAR2(2)" />
		<column name="CHEQUENUM" type="VARCHAR2(15)" />
		<column name="CUST_ACCT_NO" type="VARCHAR2(16)" />
		<column name="BANKNAME" type="VARCHAR2(200)" />
		<column name="MICRCODE" type="VARCHAR2(20)" />
		<column name="BUSINESS_YEAR" type="NUMBER" />
		<column name="EMI_CHARGE" type="NUMBER(16,2)" />
		<column name="PDC_CHARGE" type="NUMBER(16,2)" />
		<column name="IRR_PER" type="NUMBER(16,5)" />
		<column name="FEE_WL" type="NUMBER(16,5)" />
		<column name="ELC_CHARGE" type="NUMBER(16,2)" />
		<column name="CREDIT_VIDYA_FEES" type="NUMBER(16,2)" />
		<column name="BATCH_ID" type="NUMBER" />
	</createTable>
</changeSet>
<changeSet id="2" author="surekha">
	<createTable tableName="DM_LOAN_DETAILS_DAILY">
		<column name="APPLID" type="NUMBER(8)" />
		<column name="AGREEMENTNO" type="VARCHAR2(20)" />
		<column name="CUSTOMERID" type="NUMBER(8)" />
		<column name="CUSTOMER_YIELD" type="NUMBER(18,4)" />
		<column name="STATUS" type="VARCHAR2(20)" />
		<column name="NPA_STAGE" type="VARCHAR2(50)"/>
		<column name="LMS_BUCKET" type="NUMBER(3)" />
		<column name="COLL_BUCKET" type="NUMBER(3)" />
		<column name="INSURANCE_APPLIED_FLG" type="CHAR(1)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSED_FLAG" type="CHAR(1)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="SEGMENTS" type="VARCHAR2(10)" />
		<column name="CLOSUREDATE" type="VARCHAR2(20)" />
		<column name="TOPUP_AMT" type="NUMBER(16,2)" />
		<column name="BUSINESS_YEAR" type="NUMBER" />
		<column name="PDCID" type="NUMBER(8)" />
		<column name="PDCFLAG" type="VARCHAR2(1)" />
		<column name="OD_FLAG" type="VARCHAR2(1)" />
		<column name="MARGIN" type="NUMBER(10,2)" />
		<column name="SPECIALMARGIN" type="NUMBER(10,2)" />
		<column name="FIXEDTENOR" type="NUMBER(3)" />
		<column name="CEEFFECTIVEDATE" type="datetime" />
		<column name="EFF_RATE" type="NUMBER(10,7)" />
		<column name="PLRRATE" type="NUMBER(10,7)" />
		<column name="PARTY_CODE" type="VARCHAR2(13)" />
		<column name="PARTY_NAME" type="VARCHAR2(300)" />
		<column name="ZONE" type="VARCHAR2(50)" />
		<column name="COLLECTION_CENTRE" type="VARCHAR2(50)" />
		<column name="VIRTUAL_ACCOUNT_NUMBER" type="VARCHAR2(17)" />
		<column name="INSTALLMENT_TYPE" type="VARCHAR2(1)" />
		<column name="COMPANYTYPE" type="VARCHAR2(5)" />
		<column name="FIANANCE_CHARGES" type="NUMBER(16,2)" />
		<column name="FILENO" type="VARCHAR2(20)" />
		<column name="NO_OF_PDCS" type="NUMBER(16)" />
		<column name="LIFEINSURANCE" type="NUMBER(16,2)" />
		<column name="SHORTRECEIVED" type="NUMBER(16,2)" />
		<column name="IN_FAVOUR_OFF" type="VARCHAR2(300)" />
		<column name="MKTGID" type="NUMBER(8)" />
		<column name="PRE_EMI_INT_500071" type="NUMBER(16,2)" />
		<column name="LOAN_PURPOSE_DTL" type="VARCHAR2(8)" />
		<column name="LOAN_PURPOSE_DESC" type="VARCHAR2(100)" />
		<column name="LOGIN_FEES" type="NUMBER(16,2)" />
		<column name="VC_REFERRAL_CD" type="VARCHAR2(12)" />
		<column name="VC_REFERRAL_NAME" type="VARCHAR2(30)" />
		<column name="PROC_FEES2" type="NUMBER(16,2)" />
		<column name="INSTRUMENT_TYPE" type="VARCHAR2(50)" />
		<column name="LAN_BARCODE" type="VARCHAR2(35)" />
		<column name="INTSTART_DATE_REGULAR" type="datetime" />
		<column name="BPI_RECEIVABLE" type="NUMBER(19,5)" />
		<column name="BPI_PAYABLE" type="NUMBER(19,5)" />
		<column name="OPEN_FACILITY_FLAG" type="VARCHAR2(1)" />
		<column name="BATCH_ID" type="NUMBER" />
	</createTable>
</changeSet>
		<changeSet id="4" author="surekha">
	<createTable tableName="DM_INSURANCE_DETAILS">
		<column name="APPLID" type="NUMBER(8)" />
		<column name="AGREEMENTNO" type="VARCHAR2(20)" />
		<column name="ASSETID" type="NUMBER(16)" />
		<column name="INSURANCE_TYPE" type="VARCHAR2(15)" />
		<column name="INSUR_PREMIUM" type="NUMBER(18,4)" />
		<column name="INSURANCE_RENEWAL_DATE" type="datetime"/>
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSED_FLAG" type="CHAR(1)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="SEGMENTS" type="VARCHAR2(10)" />
		<column name="BUSINESS_YEAR" type="NUMBER" />
		<column name="POLICY_TENURE" type="VARCHAR2(200)" />
		<column name="SUM_ASSURED" type="VARCHAR2(200)" />
		<column name="NOMINEE_NAME" type="VARCHAR2(200)" />
		<column name="GOOD_HEALTH" type="VARCHAR2(200)" />
		<column name="CRITICAL_ILLNESS_FLAG" type="VARCHAR2(200)" />
		<column name="RELATIONSHIP" type="VARCHAR2(100)" />
		<column name="NOMINEE_ADDRESS" type="VARCHAR2(300)" />
		<column name="NOMINEE_RELATION" type="VARCHAR2(22)" />
		<column name="NOMINEE_DOB" type="datetime" />
		<column name="NOMINEE_AGE" type="NUMBER(3)" />
		<column name="NOMINEE_CONTACTNO" type="NUMBER(15)" />
		<column name="NOMINEE_NAME2" type="VARCHAR2(100)" />
		<column name="NOMINEE_ADDRESS2" type="VARCHAR2(300)" />
		<column name="NOMINEE_RELATION2" type="VARCHAR2(22)" />
		<column name="NOMINEE_DOB2" type="datetime" />
		<column name="NOMINEE_AGE2" type="NUMBER(3)" />
		<column name="NOMINEE_CONTACTNO2" type="NUMBER(15)" />
		<column name="DFGH" type="VARCHAR2(1)" />
		<column name="BATCH_ID" type="NUMBER" />
	</createTable>
</changeSet>
<changeSet id="5" author="surekha">
	<createTable tableName="DM_ASSET_DETAILS">
		<column name="APPLID" type="NUMBER(8)" />
		<column name="ASSETID" type="NUMBER(8)" />
		<column name="MANUFACTURERDESC" type="VARCHAR2(500)" />
		<column name="MAKE" type="VARCHAR2(35)" />
		<column name="MODEL" type="VARCHAR2(50)" />
		<column name="ASSETTYPE" type="VARCHAR2(8)"/>
		<column name="ASSETCOST" type="NUMBER(16,2)" />
		<column name="PROPERTY_DESC" type="VARCHAR2(50)" />
		<column name="PROPERTY_TYPE" type="VARCHAR2(10)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSED_FLAG" type="CHAR(1)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="SEGMENTS" type="VARCHAR2(10)" />
		<column name="BUSINESS_YEAR" type="NUMBER" />
		<column name="REGDNUM" type="VARCHAR2(15)" />
		<column name="MACHINE_SR_NO" type="VARCHAR2(50)" />
		<column name="TRACE_FLAG" type="VARCHAR2(5)" />
		<column name="BATCH_ID" type="NUMBER" />
	</createTable>
</changeSet>
<changeSet id="6" author="surekha">
	<createTable tableName="DM_EWC_DTL">
		<column name="UniqueID" type="VARCHAR2(20)" />
		<column name="TITLE" type="VARCHAR2(24)" />
		<column name="FIRSTNAME" type="VARCHAR2(90)" />
		<column name="MIDDLENAME" type="VARCHAR2(90)" />
		<column name="LASTNAME" type="VARCHAR2(90)" />
		<column name="GENDER" type="VARCHAR2(24)"/>
		<column name="DATEOFBIRTH" type="VARCHAR2(20)" />
		<column name="ADDRESSEE" type="VARCHAR2(360)" />
		<column name="House" type="VARCHAR2(360)" />
		<column name="STREETNAME" type="VARCHAR2(360)" />
		<column name="City" type="VARCHAR2(315)" />
		<column name="PINCODE" type="VARCHAR2(72)" />
		<column name="STATE" type="VARCHAR2(315)" />
		<column name="TELEPHONE" type="VARCHAR2(144)" />
		<column name="EMAIL" type="VARCHAR2(315)" />
		<column name="FAX" type="VARCHAR2(144)" />
		<column name="MOBILENUMBER" type="VARCHAR2(315)" />
		<column name="SUM_INSURED" type="VARCHAR2(40)" />
		<column name="InsuredAssetSerialNo" type="VARCHAR2(50)" />
		<column name="InsuredAssetInvoiceNo" type="VARCHAR2(50)" />
		<column name="InvoiceDate" type="VARCHAR2(20)" />
		<column name="ExtendedWarrantyKitNo" type="VARCHAR2(12)" />
		<column name="SupplierID" type="VARCHAR2(40)" />
		<column name="ModelId" type="VARCHAR2(40)" />
		<column name="MANUFAC_PRO_WARR_PERIOD" type="VARCHAR2(6)" />
		<column name="LOANNO" type="VARCHAR2(20)" />
		<column name="CUSTID" type="NUMBER(8)" />
		<column name="DISBURSALDATE" type="datetime" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="LAA_EXT_WARRANTY_TERM" type="NUMBER(1)" />
		<column name="BATCH_ID" type="NUMBER" />
	</createTable>
</changeSet>
<changeSet id="7" author="surekha">
	<createTable tableName="DM_PROPERTY_DTL">
		<column name="PROPERTYID" type="NUMBER(8)" />
		<column name="APPLICATIONID" type="VARCHAR2(60)" />
		<column name="ADDRESS1" type="VARCHAR2(120)" />
		<column name="ADDRESS2" type="VARCHAR2(120)" />
		<column name="ADDRESS3" type="VARCHAR2(120)" />
		<column name="CITY" type="VARCHAR2(105)"/>
		<column name="STATE" type="VARCHAR2(315)" />
		<column name="PRODUCTFLAG" type="VARCHAR2(24)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROPERTY_TYPE" type="VARCHAR2(30)" />
		<column name="PROPERTY_DESC" type="VARCHAR2(150)" />
		<column name="PROPERTY_VALUE" type="NUMBER(16,2)" />
		<column name="ZIPCODE" type="VARCHAR2(72)" />
		<column name="PROCESSFLAG" type="CHAR(3)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="BATCH_ID" type="NUMBER" />
	</createTable>
</changeSet>
<changeSet id="8" author="surekha">
	<createTable tableName="DM_KYC_DETAILS">
		<column name="APPLID" type="NUMBER(8)" />
		<column name="QUESTION_ID_N" type="NUMBER(8)" />
		<column name="QUESTION_VALUE" type="VARCHAR2(50)" />
		<column name="MANDATORY_FLAG" type="VARCHAR2(1)" />
		<column name="ACTIVE_FLAG" type="VARCHAR2(1)" />
		<column name="PRIORITY_VALUE" type="NUMBER(2)"/>
		<column name="FIELD_CONTROL_TYPE" type="VARCHAR2(1)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="BATCH_ID" type="NUMBER" />
	</createTable>
</changeSet>
<changeSet id="9" author="surekha">
	<createTable tableName="DM_APPLICANT_DETAILS">
		<column name="CUSTOMERID" type="NUMBER(8)" />
		<column name="CUST_TYPE" type="VARCHAR2(50)" />
		<column name="PANNO" type="VARCHAR2(30)" />
		<column name="ADDRESS1" type="VARCHAR2(120)" />
		<column name="ADDRESS2" type="VARCHAR2(120)" />
		<column name="ADDRESS3" type="VARCHAR2(120)"/>
		<column name="ADDRESS4" type="VARCHAR2(120)" />
		<column name="CITY" type="VARCHAR2(105)" />
		<column name="STATE" type="VARCHAR2(105)" />
		<column name="COUNTRY" type="VARCHAR2(105)" />
		<column name="ZIPCODE" type="VARCHAR2(24)" />
		<column name="ADDRESSTYPE" type="VARCHAR2(24)" />
		<column name="EMAIL" type="VARCHAR2(105)" />
		<column name="PHONE1" type="VARCHAR2(48)" />
		<column name="PHONE2" type="VARCHAR2(48)" />
		<column name="MOBILE" type="VARCHAR2(105)" />
		<column name="FAX" type="VARCHAR2(48)" />
		<column name="EXISTING_CUST_FLAG" type="CHAR(1)" />
		<column name="INDIV_CORP_FLAG" type="CHAR(1)" />
		<column name="AGE" type="NUMBER(3)" />
		<column name="DOB" type="datetime" />
		<column name="FNAME" type="VARCHAR2(90)" />
		<column name="MNAME" type="VARCHAR2(90)" />
		<column name="LNAME" type="VARCHAR2(90)" />
		<column name="GENDER" type="VARCHAR2(24)" />
		<column name="MARITAL_STATUS" type="VARCHAR2(24)" />
		<column name="NO_OF_DEPENDENT" type="NUMBER(2)" />
		<column name="YEARS_CURRENT_JOB" type="NUMBER(3)" />
		<column name="YEARS_PREV_JOB" type="NUMBER(2)" />
		<column name="QUALIFICATION" type="VARCHAR2(24)" />
		<column name="RESIDENCETYPE" type="VARCHAR2(60)" />
		<column name="YEARS_CURR_RESI" type="NUMBER(2)" />
		<column name="EMPLOYER_DESC" type="VARCHAR2(100)" />
		<column name="COMPANY_TYPE" type="VARCHAR2(100)" />
		<column name="INDUSTRYID" type="NUMBER(8)" />
		<column name="NATURE_OF_BUSINESS" type="VARCHAR2(20)" />
		<column name="EMPLOYMENT_TYPE" type="VARCHAR2(100)" />
		<column name="EMPDESG" type="VARCHAR2(100)" />
		<column name="OCCUPATION" type="VARCHAR2(105)" />
		<column name="ANNUAL_INCOME" type="NUMBER(18,4)" />
		<column name="GUARDIAN" type="VARCHAR2(105)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSED_FLAG" type="CHAR(1)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="SEGMENTS" type="VARCHAR2(10)" />
		<column name="CUSTOMERNAME" type="VARCHAR2(300)" />
		<column name="CONTACT_PERSON_NAME" type="VARCHAR2(200)" />
		<column name="CONSTITUTION" type="VARCHAR2(105)" />
		<column name="CUST_BANK_NAME" type="VARCHAR2(100)" />
		<column name="CUST_BANK_BRANCH" type="VARCHAR2(100)" />
		<column name="EMI_CARD_LIMIT" type="NUMBER(10,2)" />
		<column name="EMI_CARD_ACCEPT_FLAG" type="VARCHAR2(1)" />
		<column name="EMI_CARD_SWIPE_FLAG" type="VARCHAR2(1)" />
		<column name="EMI_CARD_ELIG" type="VARCHAR2(1)" />
		<column name="EMI_CARD_NO" type="VARCHAR2(20)" />
		<column name="BANK_ECS_MANDATE" type="VARCHAR2(10)" />
		<column name="OPEN_ECS_AVLB" type="VARCHAR2(1)" />
		<column name="OPEN_ECS_DATE" type="datetime" />
		<column name="BUSINESS_YEAR" type="NUMBER" />
		<column name="TITLE" type="VARCHAR2(150)" />
		<column name="COMP_NAME" type="VARCHAR2(105)" />
		<column name="YEARS_CURR_JOB" type="datetime" />
		<column name="GRADE" type="VARCHAR2(200)" />
		<column name="FAMILY_CODE" type="VARCHAR2(35)" />
		<column name="MINOR" type="VARCHAR2(3)" />
		<column name="GUARDIAN_NEW" type="NUMBER(8)" />
		<column name="UCIN_NO" type="VARCHAR2(20)" />
		<column name="PREFERRED_ELIGIBILITY" type="VARCHAR2(1)" />
		<column name="PREFERRED_CARD_ACCEPTANCE" type="VARCHAR2(1)" />
		<column name="PREFERRED_CARD_LIMIT" type="NUMBER(10,2)" />
		<column name="CUST_BRANCHID" type="NUMBER(4)" />
		<column name="BATCH_ID" type="VARCHAR2(1)" />
	</createTable>
</changeSet>
<changeSet id="10" author="surekha">
	<createTable tableName="DM_ADDRESS_DETAILS">
		<column name="ADDRESSID" type="NUMBER(8)" />
		<column name="CUSTOMERID" type="NUMBER(8)" />
		<column name="STATEID" type="NUMBER(8)" />
		<column name="REGIONID" type="NUMBER(8)" />
		<column name="CITY" type="VARCHAR2(105)" />
		<column name="STDISD" type="VARCHAR2(48)"/>
		<column name="MAILINGADDRES" type="VARCHAR2(3)" />
		<column name="ADDRESS1" type="VARCHAR2(120)" />
		<column name="ADDRESS2" type="VARCHAR2(120)" />
		<column name="ADDRESS3" type="VARCHAR2(120)" />
		<column name="ZIPCODE" type="VARCHAR2(24)" />
		<column name="COUNTRY" type="NUMBER(8)" />
		<column name="ADDRESSTYPE" type="VARCHAR2(300)" />
		<column name="APPLICANT_TYPE" type="VARCHAR2(300)" />
		<column name="PHONE1" type="VARCHAR2(48)" />
		<column name="PHONE2" type="VARCHAR2(48)" />
		<column name="MOBILE" type="VARCHAR2(105)" />
		<column name="EMAIL" type="VARCHAR2(105)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSFLAG" type="CHAR(1)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="AREA" type="VARCHAR2(120)" />
		<column name="LANDMARK" type="VARCHAR2(100)" />
		<column name="BUSINESS_YEAR" type="NUMBER" />
		<column name="BATCH_ID" type="NUMBER" />
	</createTable>
</changeSet>
<changeSet id="11" author="surekha">
    <createTable tableName="DM_APPLICATION_DETAILS">
        <column name="APPLID" type="NUMBER(8)" />
        <column name="CRM_DEALID" type="VARCHAR2(20)" />
        <column name="CRSCOREDATE" type="datetime" />
        <column name="CIBILSCORE" type="VARCHAR2(10)" />
        <column name="APPSCORE" type="NUMBER(8)" />
        <column name="BEHSCORE" type="NUMBER(8)"/>
        <column name="DEVIATION_TYPE" type="VARCHAR2(100)" />
        <column name="DEVIATION_FLAG" type="CHAR(1)" />
        <column name="DEVIATION_CODE" type="VARCHAR2(100)" />
        <column name="DEVIATION_NAME" type="VARCHAR2(100)" />
        <column name="REQ_TENURE" type="NUMBER(3)" />
        <column name="REQ_LOAN_AMT" type="NUMBER(18,4)" />
        <column name="LOAN_LIMIT" type="NUMBER(18,4)" />
        <column name="APPROVE_LOAN_AMT" type="NUMBER(18,4)" />
        <column name="LOAN_PURPOSE" type="VARCHAR2(100)" />
        <column name="LOAN_TYPE" type="VARCHAR2(100)" />
        <column name="CANCELLATIONDATE" type="datetime" />
        <column name="CANCEL_REASON" type="VARCHAR2(300)" />
        <column name="FREQUENCY" type="VARCHAR2(15)" />
        <column name="LOAN_APPROVAL_DATE" type="datetime" />
        <column name="AGREEMENTDATE" type="datetime" />
        <column name="INTRATE" type="NUMBER(10,7)" />
        <column name="FLAT_RATE" type="NUMBER(10,7)" />
        <column name="GROSS_LTV" type="NUMBER(10,7)" />
		<column name="NET_LTV" type="NUMBER(10,7)" />
		<column name="COF" type="NUMBER(18,4)" />
		<column name="DEBT_BURDEN_RATIO" type="NUMBER(10,7)" />
		<column name="FOIR_DB" type="NUMBER(10,7)" />
		<column name="SCHEMEID" type="NUMBER(8)" />
		<column name="SCHEMEDESC" type="VARCHAR2(200)" />
		<column name="SCHEMEGROUPID" type="NUMBER(8)" />
		<column name="SCHEME_GROUPG_DESC" type="VARCHAR2(35)" />
		<column name="PRODUCT_CATEGORY" type="VARCHAR2(20)" />
		<column name="PROD_TYPE" type="VARCHAR2(100)" />
		<column name="PROMOTIONID" type="NUMBER(8)" />
		<column name="PROGRAMID" type="NUMBER(8)" />
		<column name="SURROGATE_FLAG" type="CHAR(1)" />
		<column name="SOURCING_CHANNEL_TYPE" type="VARCHAR2(100)" />
		<column name="SOURCING_CHANNEL_NAME" type="VARCHAR2(200)" />
		<column name="REFERAL_GROUP" type="VARCHAR2(200)" />
		<column name="REFERAL_NAME" type="VARCHAR2(200)" />
		<column name="COUNTRYID" type="NUMBER(8)" />
		<column name="COUNTRY" type="VARCHAR2(200)" />
		<column name="REGIONID" type="NUMBER(8)" />
		<column name="REGION" type="VARCHAR2(200)" />
		<column name="STATEID" type="NUMBER(8)" />
		<column name="STATE" type="VARCHAR2(200)" />
		<column name="CITYID" type="VARCHAR2(20)" />
		<column name="CITY" type="VARCHAR2(200)" />
		<column name="BRANCHID" type="NUMBER(8)" />
		<column name="BRANCHDESC" type="VARCHAR2(200)" />
		<column name="BROKER_NAME" type="VARCHAR2(200)" />
		<column name="DME_NAME" type="VARCHAR2(200)" />
		<column name="ASM_NAME" type="VARCHAR2(200)" />
		<column name="RSM_NAME" type="VARCHAR2(200)" />
		<column name="CRDT_MGR_NAME" type="VARCHAR2(200)" />
		<column name="ROID_NAME" type="VARCHAR2(200)" />
		<column name="TLID_NAME" type="VARCHAR2(200)" />
		<column name="BMID_NAME" type="VARCHAR2(200)" />
		<column name="COID_NAME" type="VARCHAR2(200)" />
		<column name="SUPPLIERID" type="NUMBER(8)" />
		<column name="DLR_PARTICIPATION_RATE" type="NUMBER(10,7)" />
		<column name="LOCAL_OUTSTATION_FLG" type="VARCHAR2(2)" />
		<column name="CUSTOMERID" type="NUMBER(8)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSED_FLAG" type="CHAR(1)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="PRODUCT" type="VARCHAR2(8)" />
		<column name="SEGMENTS" type="VARCHAR2(10)" />
		<column name="CRM_STATUS" type="VARCHAR2(10)" />
		<column name="LOGINDATE" type="datetime" />
		<column name="APPR_REJ_DATE" type="datetime" />
		<column name="CANCEL_DATE" type="datetime" />
		<column name="FILE_STATUS" type="VARCHAR2(50)" />
		<column name="FILE_HOLD_REASON" type="VARCHAR2(200)" />
		<column name="QDPDONE" type="VARCHAR2(1)" />
		<column name="ISHOLD" type="VARCHAR2(1)" />
		<column name="BRANCH_INW_DATE" type="datetime" />
		<column name="BRANCH_HOLD_DATE" type="datetime" />
		<column name="CPU_INW_DATE" type="datetime" />
		<column name="CPU_HOLD_DATE" type="datetime" />
		<column name="SYSTEM_HOLD" type="VARCHAR2(1)" />
		<column name="PSL_FLAG" type="VARCHAR2(1)" />
		<column name="DOC_WAVE_FLAG" type="VARCHAR2(4)" />
		<column name="CUSTOMER_SWIPE" type="VARCHAR2(1)" />
		<column name="CUSTOMER_ACCEPTANCE" type="VARCHAR2(1)" />
		<column name="KYC_DOC_TYPE" type="VARCHAR2(100)" />
		<column name="KYC_DOC_ID" type="VARCHAR2(20)" />
		<column name="BUSINESS_IRR" type="NUMBER(5,2)" />
		<column name="INSPECTORNAME" type="VARCHAR2(32)" />
		<column name="REGNUMBER" type="VARCHAR2(15)" />
		<column name="BUSINESS_YEAR" type="NUMBER" />
		<column name="DEALID" type="NUMBER(10)" />
		<column name="PRETAXIRR" type="NUMBER(10,7)" />
		<column name="ODM_FLAG" type="VARCHAR2(1)" />
		<column name="DI_DATE" type="datetime" />
		<column name="LAA_QDP_FLAG" type="VARCHAR2(1)" />
		<column name="PREFERRED_CARD_ACCEPTANCE" type="VARCHAR2(1)" />
		<column name="ORIG_AMTFIN" type="NUMBER(16,2)" />
		<column name="ELC_FLAG" type="VARCHAR2(1)" />
		<column name="ELC_LIMIT" type="NUMBER(14,2)" />
		<column name="QDP_DONE_DATE" type="datetime" />
		<column name="LAA_DECENTRALIZED_FLAG" type="VARCHAR2(1)" />
		<column name="FCU_FLAG" type="VARCHAR2(4)" />
		<column name="MKTGID" type="NUMBER(8)" />
		<column name="DM_MPID" type="NUMBER(8)" />
		<column name="SWIPE_CARD_CODE" type="NUMBER(2)" />
		<column name="SOURCE_CARD_CODE" type="NUMBER(2)" />
		<column name="DII_USER_ID" type="VARCHAR2(8)" />
		<column name="QDP_CHEQUE_ISSUE" type="datetime" />
		<column name="INTEREST_TYPE" type="VARCHAR2(1)" />
		<column name="DII_DONE_DATE" type="datetime" />
		<column name="FINISH_DATE" type="datetime" />
		<column name="BATCH_ID" type="NUMBER" />
    </createTable>
</changeSet>

<changeSet id="12" author="surekha">
    <createTable tableName="DM_COAPPLICANT_DETAILS">
        <column name="CUSTOMERID" type="NUMBER(8)" />
        <column name="APPLICANT_TYPE" type="VARCHAR2(900)" />
        <column name="PAN_NO" type="VARCHAR2(90)" />
        <column name="CUST_RELATION" type="VARCHAR2(3)" />
        <column name="CUST_TYPE" type="VARCHAR2(9)" />
        <column name="AGE" type="NUMBER(2)"/>
        <column name="DOB" type="datetime" />
        <column name="FNAME" type="VARCHAR2(270)" />
        <column name="MNAME" type="VARCHAR2(270)" />
        <column name="LNAME" type="VARCHAR2(270)" />
        <column name="GENDER" type="VARCHAR2(18)" />
        <column name="MARITAL_STATUS" type="VARCHAR2(900)" />
        <column name="NO_OF_DEPENDENT" type="NUMBER(2)" />
        <column name="YRS_CURRENTJOB" type="NUMBER" />
        <column name="PREVIOUS_JOB_YEAR" type="NUMBER(2)" />
        <column name="QUALIFICATION" type="VARCHAR2(72)" />
        <column name="EMPLOYER_DESC" type="VARCHAR2(315)" />
        <column name="COMPANY_TYPE" type="VARCHAR2(24)" />
        <column name="INDUSTRYID" type="NUMBER(8)" />
        <column name="BUSINESS_NATURE" type="VARCHAR2(24)" />
        <column name="OCCUPATION_CODE" type="NUMBER(8)" />
        <column name="GUARDIAN" type="NUMBER(8)" />
        <column name="PROCESS_FLAG" type="CHAR(3)" />
        <column name="PROCESS_DATE" type="datetime" />
		<column name="EMP_TYPE" type="VARCHAR2(39)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="INCOME" type="NUMBER(16,2)" />
		<column name="APPLID" type="NUMBER(8)" />
		<column name="BATCH_ID" type="NUMBER" />
 </createTable>
</changeSet>
<changeSet id="13" author="surekha">
    <createTable tableName="DM_OPENECS_DETAILS">
        <column name="CUSTOMERID" type="NUMBER(8)" />
        <column name="ECS_ID" type="NUMBER(8)" />
        <column name="BANK_ID" type="VARCHAR2(20)" />
        <column name="BANK_NAME" type="VARCHAR2(50)" />
        <column name="BANKBRANCHID" type="VARCHAR2(3)" />
        <column name="BANKID" type="VARCHAR2(3)"/>
        <column name="BANK_BRANCH_NAME" type="VARCHAR2(50)" />
        <column name="CITY" type="VARCHAR2(50)" />
        <column name="ACCTYPE" type="VARCHAR2(2)" />
        <column name="ACCNO" type="VARCHAR2(16)" />
        <column name="MAXLIMIT" type="NUMBER(18,2)" />
        <column name="BALLIMIT" type="NUMBER(18,2)" />
        <column name="UTIL_LIMIT" type="NUMBER(18,2)" />
        <column name="VALID_LIMIT" type="datetime" />
        <column name="REPAY_MODE" type="VARCHAR2(3)" />
        <column name="MICRCODE" type="NUMBER(16)" />
        <column name="ACTIVE_FLAG" type="VARCHAR2(1)" />
        <column name="CITYID" type="VARCHAR2(5)" />
        <column name="SEGMENTS" type="VARCHAR2(10)" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESS_DATE" type="datetime" />
        <column name="BATCH_ID" type="NUMBER" />
 </createTable>
</changeSet>
<changeSet id="14" author="surekha">
    <createTable tableName="DM_SUBQ_DISB_DETAILS">
        <column name="AGREEMENTDATE" type="datetime" />
        <column name="APPLID" type="NUMBER(8)" />
        <column name="AGREEMENTNO" type="VARCHAR2(20)" />
        <column name="DISBURSEMENTNO" type="NUMBER(16)" />
        <column name="DISBURSEMENTDATE" type="datetime" />
        <column name="PARENT_AGREEMENTNO" type="VARCHAR2(20)"/>
        <column name="AMTFIN" type="NUMBER(16,2)" />
        <column name="NET_AMTFIN" type="NUMBER(16,2)" />
        <column name="DISBURSEDAMT" type="NUMBER(16,2)" />
        <column name="DISB_STATUS" type="VARCHAR2(20)" />
        <column name="FIRST_DUE_DATE" type="datetime" />
        <column name="GROSS_TENURE" type="NUMBER(3)" />
        <column name="NET_TENURE" type="NUMBER(3)" />
        <column name="MATURITYDATE" type="datetime" />
        <column name="EXPIRYDATE" type="datetime" />
        <column name="NO_OF_ADV_INSTL" type="NUMBER(3)" />
        <column name="ADV_EMI_AMT" type="NUMBER(16,2)" />
        <column name="EMI" type="NUMBER(16,2)" />
        <column name="REPAYMENT_MODE" type="VARCHAR2(20)" />
        <column name="PRODUCTFLAG" type="VARCHAR2(8)" />
        <column name="PROMOTIONID" type="NUMBER(8)" />
        <column name="ICICI_LOMBARD" type="NUMBER(16,2)" />
        <column name="BAGIC" type="NUMBER(16,2)" />
        <column name="BALIC_CHARGES" type="NUMBER(16,2)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSED_FLAG" type="CHAR(1)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="SEGMENTS" type="VARCHAR2(10)" />
		<column name="FEE" type="NUMBER(16,2)" />
		<column name="DEALER_SUBV" type="NUMBER(16,2)" />
		<column name="MANU_SUBV_DED" type="NUMBER(16,2)" />
		<column name="MANU_SUBV_NDED" type="NUMBER(16,2)" />
		<column name="PREEMI" type="NUMBER(16,2)" />
		<column name="EXISTING_LANNO" type="VARCHAR2(20)" />
		<column name="MORTGAGE_FEE" type="NUMBER" />
		<column name="COMMITMENT_FEE" type="NUMBER" />
		<column name="PROCESSING_FEE" type="NUMBER" />
		<column name="PRE_EMI_RECEIVABLE" type="NUMBER" />
		<column name="INSURANCE" type="NUMBER" />
		<column name="PAYMENTMODE" type="VARCHAR2(13)" />
		<column name="FREQ" type="VARCHAR2(2)" />
		<column name="CHEQUENUM" type="VARCHAR2(15)" />
		<column name="BATCH_ID" type="NUMBER" />
 </createTable>
</changeSet>
<changeSet id="15" author="surekha">
    <createTable tableName="DM_RM_FUNDED_DTLS">
        <column name="TXNADVICEID" type="NUMBER(16)" />
        <column name="APPLID" type="NUMBER(8)" />
        <column name="AGREEMENTNO" type="VARCHAR2(20)" />
        <column name="PRODUCTFLAG" type="VARCHAR2(8)" />
        <column name="RM_PRODUCT" type="VARCHAR2(8)" />
        <column name="CHARGEID" type="NUMBER(8)"/>
        <column name="CHARGECODEID" type="NUMBER(8)" />
        <column name="CHARGEAMT" type="NUMBER(18,2)" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESSDATE" type="datetime" />
        <column name="SEGMENT" type="VARCHAR2(10)" />
        <column name="LID_NOMINEE_NAME" type="VARCHAR2(100)" />
        <column name="LID_NOMINEE_ADDRESS" type="VARCHAR2(300)" />
        <column name="LID_NOMINEE_NAME2" type="VARCHAR2(100)" />
        <column name="LID_NOMINEE_ADDRESS2" type="VARCHAR2(300)" />
        <column name="SUM_ASSURED" type="NUMBER(18,2)" />
        <column name="TENURE" type="NUMBER(3)" />
        <column name="BATCH_ID" type="NUMBER" />
 </createTable>
</changeSet>
<changeSet id="16" author="surekha">
    <createTable tableName="DM_RM_NONFUNDED_DTLS">
        <column name="APPLID" type="NUMBER(8)" />
        <column name="ASSETCOST" type="NUMBER(16,2)" />
        <column name="INTRATE" type="NUMBER(10,7)" />
        <column name="EFFRATE" type="NUMBER(10,7)" />
        <column name="INTTYPE" type="VARCHAR2(1)" />
        <column name="TENURE" type="NUMBER(8)"/>
        <column name="ADVANCEINSTL" type="NUMBER(3)" />
        <column name="CATGID" type="NUMBER(8)" />
        <column name="AGREEMENTDATE" type="datetime" />
        <column name="STATUS" type="VARCHAR2(1)" />
        <column name="SCHEMEID" type="NUMBER(8)" />
        <column name="MARGINMONEY" type="NUMBER(16,2)" />
        <column name="MARGINRATE" type="NUMBER(10,7)" />
        <column name="CUSTOMERID" type="NUMBER(8)" />
        <column name="DUEDAY" type="VARCHAR2(2)" />
        <column name="BRANCHID" type="NUMBER(8)" />
        <column name="EMI" type="NUMBER(16,2)" />
        <column name="SUPPLIERID" type="NUMBER(8)" />
        <column name="DISBURSALDATE" type="datetime" />
        <column name="PRODUCTFLAG" type="VARCHAR2(8)" />
        <column name="DISBURSEDAMOUNT" type="NUMBER(16,2)" />
        <column name="DISBURSALTO" type="VARCHAR2(2)" />
        <column name="BROKERID" type="NUMBER(8)" />
        <column name="MATURITYDATE" type="datetime" />
		<column name="EMPLOYERID" type="NUMBER(8)" />
		<column name="AMTFIN_REGULAR" type="NUMBER(16,2)" />
		<column name="DME_ID" type="NUMBER(8)" />
		<column name="CRM_DEALID" type="VARCHAR2(20)" />
		<column name="ACTUALIRR" type="NUMBER(8,5)" />
		<column name="DISB_STATUS" type="VARCHAR2(2)" />
		<column name="DISBURSALAMOUNT" type="NUMBER(16,2)" />
		<column name="VC_SOURCE_CD" type="VARCHAR2(10)" />
		<column name="DEPRECIATED_BAL_VALUE" type="NUMBER(18,4)" />
		<column name="SOURCE_CARD_CODE" type="NUMBER(2)" />
		<column name="DEALER_CHARGE_ID" type="NUMBER(8)" />
		<column name="DEALER_CHARGE_AMOUNT" type="NUMBER(10,2)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSDATE" type="datetime" />
		<column name="SEGMENT" type="VARCHAR2(10)" />
		<column name="LID_NOMINEE_NAME" type="VARCHAR2(100)" />
		<column name="LID_NOMINEE_ADDRESS" type="VARCHAR2(300)" />
		<column name="LID_NOMINEE_NAME2" type="VARCHAR2(100)" />
		<column name="LID_NOMINEE_ADDRESS2" type="VARCHAR2(300)" />
		<column name="SUM_ASSURED" type="NUMBER(18,2)" />
		<column name="BATCH_ID" type="NUMBER" />
 </createTable>
</changeSet>
<changeSet id="17" author="surekha">
    <createTable tableName="DM_BOUNCE_DETAILS">
        <column name="APPLID" type="NUMBER(8)" />
        <column name="CHEQUEID" type="NUMBER(32)" />
        <column name="AGREEMENTNO" type="VARCHAR2(20)" />
        <column name="BOUNCE_DATE" type="datetime" />
        <column name="BOUNCE_REASON" type="VARCHAR2(200)" />
        <column name="BOUNCE_AMT" type="NUMBER(16,2)"/>
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESSED_FLAG" type="CHAR(1)" />
        <column name="PROCESS_DATE" type="datetime" />
        <column name="SEGMENTS" type="VARCHAR2(10)" />
        <column name="BUSINESS_YEAR" type="NUMBER" />
        <column name="CHEQUEDATE" type="datetime" />
 </createTable>
</changeSet>
<changeSet id="18" author="surekha">
    <createTable tableName="DM_FMS_ACTIVITY_TAT_DTLS">
        <column name="APP_ID_C" type="VARCHAR2(24)" />
        <column name="DEAL_ID" type="VARCHAR2(60)" />
        <column name="BRANCH_ID" type="NUMBER(8)" />
        <column name="CUST_ID" type="NUMBER(8)" />
        <column name="DEAL_STATUS" type="VARCHAR2(45)" />
        <column name="LOAN_AMOUNT" type="NUMBER(16,2)"/>
        <column name="DEALER_ID" type="NUMBER(8)" />
        <column name="QDP_APPLICABLE" type="VARCHAR2(3)" />
        <column name="QDP_DONE" type="datetime" />
        <column name="BRANCH_INWARD_START" type="datetime" />
        <column name="BRANCH_INWARD_END_TIME" type="datetime" />
        <column name="BRANCH_VERI_START_TIME" type="datetime" />
        <column name="BRANCH_VERI_HOLD_TIME" type="datetime" />
        <column name="BRANCH_VERI_HOLD_REL_ACCP_TIME" type="datetime" />
        <column name="BRANCH_DISPATCH_START_TIME" type="datetime" />
        <column name="BRANCH_DISPATCH_END_TIME" type="datetime" />
        <column name="COURIER_RECEIPT_START_TIME" type="datetime" />
        <column name="COURIER_RECEIPT_END_TIME" type="datetime" />
        <column name="CPU_INWARD_START_TIME" type="datetime" />
        <column name="CPU_INWARD_END_TIME" type="datetime" />
        <column name="CPU_VERIFICATION_START_TIME" type="datetime" />
        <column name="CPU_VERIFICATION_HOLD_TIME" type="datetime" />
        <column name="CPU_VERI_HOLD_REL_ACCP_TIME" type="datetime" />
        <column name="DII_START_TIME" type="datetime" />
		<column name="DII_END_TIME" type="datetime" />
		<column name="NEW_BRANCH_CODE" type="NUMBER(8)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESS_DATE" type="datetime" />
 </createTable>
</changeSet>
<changeSet id="19" author="surekha">
    <createTable tableName="DM_INVOICE_DETAILS">
        <column name="APPLID" type="NUMBER(8)" />
        <column name="ASSETID" type="NUMBER(8)" />
        <column name="INVOICENO" type="VARCHAR2(50)" />
        <column name="INVOICEDATE" type="datetime" />
        <column name="INVOICETYPE" type="CHAR(1)" />
        <column name="INVOICEDESC" type="VARCHAR2(100)"/>
        <column name="INVOICEAMT" type="NUMBER(16,2)" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESSED_FLAG" type="CHAR(1)" />
        <column name="PROCESS_DATE" type="datetime" />
        <column name="SEGMENTS" type="VARCHAR2(100)" />
        <column name="UTRNO" type="VARCHAR2(15)" />
        <column name="BUSINESS_YEAR" type="NUMBER" />
 </createTable>
</changeSet>
<changeSet id="20" author="surekha">
    <createTable tableName="DM_UND_DETAILS">
        <column name="APPLID" type="NUMBER(8)" />
        <column name="APP_STATUS" type="VARCHAR2(20)" />
        <column name="REJECTION_DATE" type="datetime" />
        <column name="REJECT_REASON" type="VARCHAR2(200)" />
        <column name="SACNCTIONBY" type="VARCHAR2(100)" />
        <column name="CREDITPROGRAM" type="VARCHAR2(100)"/>
        <column name="CPCODE" type="VARCHAR2(20)" />
        <column name="RECOMMEND_FLAG" type="CHAR(1)" />
        <column name="UND_RVW_CVR_STATUS" type="VARCHAR2(20)" />
        <column name="UND_RVW_CVR_FLAG" type="CHAR(1)" />
        <column name="UND_RVW_TVR_STATUS" type="VARCHAR2(20)" />
        <column name="UND_RVW_TVR_FLAG" type="CHAR(1)" />
        <column name="UND_RVW_PD_STATUS" type="VARCHAR2(20)" />
        <column name="CRDTUSR_RVW_CVR_STATUS" type="VARCHAR2(20)" />
        <column name="CRDTUSR_RVW_CVR_FLAG" type="CHAR(1)" />
        <column name="CRDTUSR_RVW_TVR_STATUS" type="VARCHAR2(20)" />
        <column name="CRDTUSR_RVW_TVR_FLAG" type="CHAR(1)" />
        <column name="CRDTUSR_RVW_PD" type="VARCHAR2(100)" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESSED_FLAG" type="CHAR(1)" />
        <column name="PROCESS_DATE" type="datetime" />
        <column name="SEGMENTS" type="VARCHAR2(10)" />
        <column name="BUSINESS_YEAR" type="NUMBER" />
        <column name="BATCH_ID" type="NUMBER" />
 </createTable>
</changeSet>
<changeSet id="21" author="surekha">
    <createTable tableName="DM_WRITEOFF_DETAILS">
        <column name="APPLID" type="NUMBER(8)" />
        <column name="AGREEMENTNO" type="VARCHAR2(20)" />
        <column name="CHARGEOFF_DT" type="datetime" />
        <column name="CHARGEOFF_FLG" type="VARCHAR2(1)" />
        <column name="CHARGEOFF_REASON" type="VARCHAR2(100)" />
        <column name="SETTLEMENT_LOSS" type="NUMBER(18,4)"/>
        <column name="GROSS_WRITEOFF_AMT" type="NUMBER(18,4)" />
        <column name="NET_WRITEOFF_AMT" type="NUMBER(18,4)" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESSED_FLAG" type="VARCHAR2(1)" />
        <column name="PROCESS_DATE" type="datetime" />
        <column name="SEGMENTS" type="VARCHAR2(10)" />
        <column name="RECEIPT_ON_CHARGEOFF" type="NUMBER(18,4)" />
        <column name="BUSINESS_YEAR" type="NUMBER" />
 </createTable>
</changeSet>
<changeSet id="22" author="surekha">
    <createTable tableName="DM_RESCH_DETAILS_DAILY">
        <column name="APPLID" type="NUMBER(8)" />
        <column name="AGREEMENTNO" type="VARCHAR2(20)" />
        <column name="DISB_STATUS" type="VARCHAR2(20)" />
        <column name="GROSS_TENURE" type="NUMBER(3)" />
        <column name="NET_TENURE" type="NUMBER(3)" />
        <column name="MATURITYDATE" type="datetime"/>
        <column name="EXPIRYDATE" type="datetime" />
        <column name="EMI" type="NUMBER(16,2)" />
        <column name="REPAYMENT_MODE" type="VARCHAR2(20)" />
        <column name="PRODUCTFLAG" type="VARCHAR2(8)" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESSED_FLAG" type="CHAR(1)" />
        <column name="PROCESS_DATE" type="datetime" />
        <column name="SEGMENTS" type="VARCHAR2(10)" />
        <column name="FREQ" type="VARCHAR2(2)" />
        <column name="LOAN_STATUS" type="VARCHAR2(10)" />
        <column name="CLOSUREDATE" type="datetime" />
        <column name="CUST_ACCT_NO" type="VARCHAR2(16)" />
        <column name="BANKNAME" type="VARCHAR2(200)" />
        <column name="MICRCODE" type="VARCHAR2(20)" />
        <column name="CUST_BANK_BRANCH" type="VARCHAR2(100)" />
        <column name="CUST_BANK_CITY" type="VARCHAR2(100)" />
        <column name="BUSINESS_YEAR" type="NUMBER" />
        <column name="PDCID" type="NUMBER(8)" />
		<column name="PCFLAG" type="VARCHAR2(1)" />
		<column name="TIE_UP" type="VARCHAR2(1)" />
		<column name="MARGIN" type="NUMBER(10,2)" />
		<column name="SPECIALMARGIN" type="NUMBER(10,2)" />
		<column name="FIXEDTENOR" type="NUMBER(3)" />
		<column name="CEEFFECTIVEDATE" type="datetime" />
		<column name="EFF_RATE" type="NUMBER(10,7)" />
		<column name="PLRRATE" type="NUMBER(10,7)" />
		<column name="TIE_UP_WITH" type="VARCHAR2(100)" />
		<column name="DATE_OF_CLOSURE" type="datetime" />
		<column name="PDCMS_SEQ_GENERATED_DATE" type="datetime" />
		<column name="INSTRUMENT_DATA_ENTRY_DATE" type="datetime" />
		<column name="PAYMENT_AUTHORIZATION_DATE" type="datetime" />
 </createTable>
</changeSet>
<changeSet id="23" author="surekha">
    <createTable tableName="DM_PRESENTATION_DETAILS">
        <column name="AGREEMENTNO" type="VARCHAR2(20)" />
        <column name="EMI" type="NUMBER(20,2)" />
        <column name="REPAY_TYPE" type="VARCHAR2(50)" />
        <column name="DEPOSITED_DATE" type="datetime" />
        <column name="CREDIT_STATUS" type="VARCHAR2(20)" />
        <column name="RETURN_CODE" type="VARCHAR2(10)"/>
        <column name="RETURN_REASON" type="VARCHAR2(50)" />
        <column name="REMARKS" type="VARCHAR2(300)" />
        <column name="SEGMENTS" type="VARCHAR2(10)" />
        <column name="PROCESSDATE" type="datetime" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="EMI_NO" type="NUMBER(10)" />
        <column name="CUSTOMER_BANK_NAME" type="VARCHAR2(150)" />
        <column name="BOM_BOUNCE_BUCKET" type="NUMBER(5)" />
        <column name="MICR_CODE" type="VARCHAR2(9)" />
        <column name="STATUS_UPDT_DATE" type="datetime" />
        <column name="CUST_BANK_AC_NO" type="VARCHAR2(20)" />
        <column name="CUSTOMER_BANK_BRANCH" type="VARCHAR2(150)" />
        <column name="CHEQUESNO" type="VARCHAR2(15)" />
        <column name="CHEQUEDATE" type="datetime" />
        <column name="FEMI_FLAG" type="VARCHAR2(1)" />
        <column name="HOLD_IGNORE_CODE" type="VARCHAR2(10)" />
        <column name="HOLD_IGNORE_REASON" type="VARCHAR2(50)" />
        <column name="DEST_ACC_HOLDER" type="VARCHAR2(100)" />
		<column name="PDCID" type="NUMBER(8)" />
		<column name="BBRANCHID" type="NUMBER(8)" />
 </createTable>
</changeSet>
<changeSet id="24" author="surekha">
    <createTable tableName="DM_LEA_DOC_DTL">
        <column name="AGREEMENTID" type="NUMBER(8)" />
        <column name="APPLICABLE" type="VARCHAR2(1)" />
        <column name="APPLID" type="NUMBER(8)" />
        <column name="APPROVED_BY" type="VARCHAR2(100)" />
        <column name="AUTHDATE" type="datetime" />
        <column name="AUTHID" type="VARCHAR2(8)"/>
        <column name="AWB_NO" type="VARCHAR2(40)" />
        <column name="BRANCHSTATUS" type="VARCHAR2(1)" />
        <column name="CONSTITUTION" type="NUMBER(8)" />
        <column name="COURIER_NAME" type="VARCHAR2(100)" />
        <column name="CRITICAL" type="VARCHAR2(1)" />
        <column name="CUSTOMER_TYPE" type="VARCHAR2(1)" />
        <column name="CUSTOMERID" type="NUMBER(8)" />
        <column name="DATE_BRANCH_STATUS" type="datetime" />
        <column name="MICR_CODE" type="datetime" />
        <column name="DATELASTUPDT" type="datetime" />
        <column name="DOC_CLASSFN" type="VARCHAR2(1)" />
        <column name="DOC_RETRIEVAL_STATUS" type="VARCHAR2(1)" />
        <column name="DOCID" type="NUMBER(8)" />
        <column name="DOCTYPE" type="VARCHAR2(1)" />
        <column name="FILE_BARCODE" type="VARCHAR2(50)" />
        <column name="MAKERDATE" type="datetime" />
        <column name="MAKERID" type="VARCHAR2(20)" />
        <column name="MC_STATUS" type="VARCHAR2(1)" />
		<column name="NEW_FLAG" type="VARCHAR2(1)" />
		<column name="ORIGINALS" type="VARCHAR2(1)" />
		<column name="PACKET_TRACKER_NO" type="VARCHAR2(20)" />
		<column name="PROPERTY_ADDRESS" type="VARCHAR2(200)" />
		<column name="PROPERTY_CODE" type="VARCHAR2(20)" />
		<column name="REASON" type="VARCHAR2(35)" />
		<column name="RECEIVED" type="VARCHAR2(1)" />
		<column name="RECEIVEDDATE" type="datetime" />
		<column name="REJECTION_REASONS" type="VARCHAR2(100)" />
		<column name="RELEASED_DATE" type="datetime" />
		<column name="RELEASED_REMARKS" type="VARCHAR2(100)" />
		<column name="REMARKS" type="VARCHAR2(200)" />
		<column name="STAGE" type="VARCHAR2(3)" />
		<column name="TARGETDATE" type="datetime" />
		<column name="TITLE_DOCUMENT" type="VARCHAR2(1)" />
		<column name="TXNDOCID" type="NUMBER(8)" />
		<column name="VALIDTILLDATE" type="datetime" />
		<column name="VAP_LOAN_FLAG" type="VARCHAR2(1)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSFLAG" type="CHAR(1)" />
		<column name="PROCESSDATE" type="datetime" />
		<column name="SEGMENT" type="VARCHAR2(10)" />
		<column name="REVISED_TARGET_DATE" type="datetime" />
 </createTable>
</changeSet>
<changeSet id="25" author="surekha">
    <createTable tableName="DM_PREPAYMENT_DETAILS">
        <column name="APPLID" type="NUMBER(8)" />
        <column name="AGREEMENTNO" type="VARCHAR2(100)" />
        <column name="PREPAYMENTID" type="NUMBER(16)" />
        <column name="PREPAYMENT_RATE" type="NUMBER(5,2)" />
        <column name="PREPAYMENT_TYPE" type="VARCHAR2(100)" />
        <column name="PREPAYMENT_PENALTY_DUE" type="NUMBER(16,2)"/>
        <column name="PREPAYMENT_PENALTY_PAID" type="NUMBER(16,2)" />
        <column name="PREPAYMENT_AMT" type="NUMBER(16,2)" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESSED_FLAG" type="CHAR(1)" />
        <column name="PROCESS_DATE" type="datetime" />
        <column name="SEGMENTS" type="VARCHAR2(10)" />
        <column name="PREPAYMENT_DATE" type="datetime" />
 </createTable>
</changeSet>
<changeSet id="26" author="surekha">
    <createTable tableName="DM_TOPUP_DETAILS">
        <column name="AGREEMENTNO" type="VARCHAR2(20)" />
        <column name="APPLID" type="NUMBER(8)" />
        <column name="PRODUCTFLAG" type="VARCHAR2(8)" />
        <column name="TOP_UP_AMT" type="NUMBER" />
        <column name="X_LAN_POS" type="NUMBER" />
        <column name="DISBURSALAMOUNT" type="NUMBER(16,2)"/>
        <column name="AMTFIN" type="NUMBER(16,2)" />
        <column name="PROCESSEDDATE" type="datetime" />
        <column name="BUSINESSDATE" type="datetime" />
 </createTable>
</changeSet>
<changeSet id="27" author="surekha">
    <createTable tableName="DM_BRANCH_CPU_HOLD">
        <column name="APP_ID_C" type="VARCHAR2(20)" />
        <column name="HOLD_TYPE" type="VARCHAR2(15)" />
        <column name="HOLD_REASOAN" type="VARCHAR2(300)" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESSDATE" type="datetime" />
        <column name="PROCESSED_FLAG" type="CHAR(1)"/>
        <column name="SEGMENT" type="VARCHAR2(20)" />
 </createTable>
</changeSet>
<changeSet id="28" author="surekha">
    <createTable tableName="DM_WIP_FMS_HOLD_DTL">
        <column name="APPLID" type="NUMBER(8)" />
        <column name="BRANCH_CPU_HOLD" type="VARCHAR2(20)" />
        <column name="HOLD_REASON" type="VARCHAR2(300)" />
        <column name="BUSINESSDATE" type="datetime" />
 </createTable>
</changeSet>
<changeSet id="29" author="surekha">
    <createTable tableName="FORECLOSURECHARGES">
        <column name="AGREEMENTID" type="NUMBER(8)" />
        <column name="BAL_PRINCIPAL" type="NUMBER" />
        <column name="RESEDUL_VALUE" type="NUMBER" />
        <column name="INSTALLMENTS" type="NUMBER" />
        <column name="ADVICES" type="NUMBER" />
        <column name="PENALTY" type="NUMBER"/>
        <column name="INTREST_ON_TERMINATION" type="NUMBER" />
        <column name="FLOATINTREST_ON_TERMINATION" type="NUMBER" />
        <column name="OVER_DUES" type="NUMBER" />
        <column name="CURRENT_OVERDUES" type="NUMBER" />
        <column name="CURRENT_WAVEOFFAMT" type="NUMBER" />
        <column name="CUSTOMER_TYPE" type="NUMBER" />
        <column name="OVER_DISTANCE_CHARGES" type="NUMBER" />
        <column name="INTREST_ON_TERMINATION_PER_DAY" type="NUMBER" />
        <column name="INTREST_ACCRUALS" type="NUMBER" />
        <column name="EXCESS_AMOUNT" type="NUMBER" />
        <column name="EXCESS_REFUND" type="NUMBER" />
        <column name="ADVICE" type="NUMBER" />
        <column name="REBATE" type="NUMBER" />
        <column name="ADVINSTL" type="NUMBER" />
        <column name="EXCESSPRINPMNT" type="NUMBER" />
        <column name="SDAMT" type="NUMBER" />
        <column name="SDINT" type="NUMBER" />
        <column name="EXCESS_INTREST_RATE" type="NUMBER" />
		<column name="VAT_ON_FORECLOSURE" type="NUMBER" />
		<column name="UNDER_DISTANCE_CHARGES" type="NUMBER" />
		<column name="NET_PAYBALE" type="NUMBER" />
		<column name="WAIVEOFFAMOUNT" type="NUMBER" />
		<column name="ACTIVITY" type="VARCHAR2(15)" />
		<column name="AUTHORIZEDON" type="datetime" />
		<column name="COMMITMENT_FEE" type="NUMBER" />
		<column name="ORIGINATION_FEE" type="NUMBER" />
		<column name="PRE-EMI" type="NUMBER" />
		<column name="BUSINESS_DATE" type="datetime" />
		<column name="CHEQUEID" type="NUMBER(32)" />
		<column name="STATUS" type="CHAR(1)" />
		<column name="INTEREST_WAIVE_OFF" type="NUMBER(16,2)" />
		<column name="BALANCE_PRIN_WAIVE_OFF" type="NUMBER(16,2)" />
		<column name="INSTALLMET_INT_WAIVE_OFF" type="NUMBER(16,2)" />
		<column name="WOFF_CURRMONTH_INT" type="NUMBER(16,2)" />
		<column name="WOFF_OVERDUE_CHARGE" type="NUMBER(16,2)" />
		<column name="WOFF_CHQBOUNCE_CHARGES" type="NUMBER(16,2)" />
		<column name="WOFF_OTHERS" type="NUMBER(16,2)" />
		<column name="INSTALLMENT_PRIN_WAIVE_OFF" type="NUMBER(16,2)" />
		<column name="WOFF_PARKING_CHARGES" type="NUMBER(16,2)" />
		<column name="TOT_OTHER_REPO_CHARGES" type="NUMBER(16,2)" />
		<column name="WOFF_OTHER_REPO_CHARGES" type="NUMBER(16,2)" />
		<column name="TOT_REPOSESSION_CHARGES" type="NUMBER(16,2)" />
		<column name="WOFF_REPOSESSION_CHARGES" type="NUMBER(16,2)" />
		<column name="TOT_PARKING_CHARGES" type="NUMBER(16,2)" />
 </createTable>
</changeSet>
<changeSet id="30" author="surekha">
    <createTable tableName="DM_HTS_UNADJUSTED_AMT">
        <column name="APPLID" type="NUMBER(8,0)" />
        <column name="UNADJUSTED_AMOUNT" type="NUMBER(18,2)" />
        <column name="BUSINESSDATE" type="datetime" />
 </createTable>
</changeSet>
<changeSet id="31" author="surekha">
    <createTable tableName="DM_NOC_ELIGIBLE_LOANS">
        <column name="AGREEMENTNO" type="VARCHAR2(20 BYTE)" />
        <column name="LOANACCTNUM" type="VARCHAR2(20 BYTE)" />
        <column name="PRODUCTFLAG" type="VARCHAR2(8 BYTE)" />
        <column name="EMAIL" type="VARCHAR2(315 BYTE)" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESS_DATE" type="datetime"/>
        <column name="PROCESSED_FLAG" type="CHAR(1 BYTE)" />
 </createTable>
</changeSet>
<changeSet id="32" author="surekha">
    <createTable tableName="DM_SEND_SOA_EMAIL">
        <column name="AGREEMENTNO" type="VARCHAR2(20 BYTE)" />
        <column name="CUSTOMERID" type="NUMBER(8,0)" />
        <column name="EMAILID" type="VARCHAR2(105 BYTE)" />
        <column name="AGREEMENTID" type="NUMBER(8,0)" />
        <column name="PROCESSID" type="NUMBER" />
        <column name="GENERATION_DATE" type="datetime"/>
        <column name="PROCESSED" type="VARCHAR2(1 BYTE)" />
        <column name="PRODUCTFLAG" type="VARCHAR2(10 BYTE)" />
        <column name="GROUPID" type="NUMBER(5,0)" />
        <column name="TOTAL_LAN" type="NUMBER(5,0)" />
        <column name="TOTAL_CLOSED_LAN" type="NUMBER(5,0)" />
        <column name="TOTAL_ACTIVE_LAN" type="NUMBER(5,0)" />
        <column name="SWIPE_FLAG" type="NUMBER(8)" />
        <column name="EMI_CARD_NO" type="VARCHAR2(20 BYTE)" />
        <column name="DISBURSEMENT_DATE" type="datetime" />
        <column name="SUPPLIERID" type="NUMBER(8,0)" />
        <column name="SUPPLIERDESC" type="VARCHAR2(300 BYTE)" />
        <column name="AMT_FIN" type="NUMBER(16,2)" />
        <column name="EMI" type="NUMBER(16,2)" />
        <column name="NEXT_EMI_DUE_DATE" type="datetime" />
        <column name="CHEQUE_BOUNCE_CHARGE" type="NUMBER(16,2)" />
 </createTable>
</changeSet>
<changeSet id="33" author="surekha">
    <createTable tableName="DM_LOAN_VOUCHER_DETAILS">
        <column name="MODULEID" type="CHAR(3)" />
        <column name="STAGEID" type="VARCHAR2(1)" />
        <column name="LEA_VOUCHERID" type="VARCHAR2(17)" />
        <column name="FA_VOUCHERID" type="VARCHAR2(17)" />
        <column name="VOUCHERTYPE" type="VARCHAR2(1)" />
        <column name="VOUCHERDATE" type="datetime"/>
        <column name="VALUEDATE" type="datetime" />
        <column name="BRANCHID" type="NUMBER(8)" />
        <column name="BRANCH_CODE" type="VARCHAR2(9)" />
        <column name="BRANCHDESC" type="VARCHAR2(200)" />
        <column name="BUSINESS_AREA" type="VARCHAR2(12)" />
        <column name="PROFIT_CENTRE" type="VARCHAR2(10)" />
        <column name="PRODUCT_FLAG" type="VARCHAR2(8)" />
        <column name="SCHEMEID" type="NUMBER(8)" />
        <column name="SCHEMEDESC" type="VARCHAR2(200)" />
        <column name="ASSIGNMENT" type="VARCHAR2(18)" />
        <column name="AGREEMENTID" type="NUMBER(8)" />
        <column name="AGREEMENTNO" type="VARCHAR2(20)" />
        <column name="AGREEMENTDATE" type="datetime" />
        <column name="DISBURSALDATE" type="datetime" />
        <column name="LOAN_STATUS" type="VARCHAR2(1)" />
        <column name="NPA_STAGEID" type="VARCHAR2(8)" />
        <column name="FINNONE_GLID" type="VARCHAR2(12)" />
        <column name="GROUPGLDESC" type="VARCHAR2(50)" />
		<column name="SAPGL_CODE" type="VARCHAR2(20)" />
		<column name="COST_CENTRE" type="VARCHAR2(10)" />
		<column name="DRAMT" type="NUMBER(19,5)" />
		<column name="CRAMT" type="NUMBER(19,5)" />
		<column name="DRCR_FLAG" type="VARCHAR2(1)" />
		<column name="DRCR_AMT" type="NUMBER" />
		<column name="NARRATION" type="VARCHAR2(1000)" />
		<column name="CHEQUEID" type="NUMBER" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSDATE" type="datetime" />
		<column name="SEGMENT" type="VARCHAR2(10)" />
		<column name="PROCESSED_FLAG" type="CHAR(1)" />
 </createTable>
</changeSet>
<changeSet id="34" author="surekha">
    <createTable tableName="DM_LOANWISE_CHARGE_DETAILS">
        <column name="AGREEMENTID" type="NUMBER(8,0)" />
        <column name="TXNADVICEID" type="NUMBER(16,0)" />
        <column name="CHARGEID" type="NUMBER(8,0)" />
        <column name="CHARGECODEID" type="NUMBER(8,0)" />
        <column name="CHARGEDESC" type="VARCHAR2(35 BYTE)" />
        <column name="CHARGEAMT" type="NUMBER(19,5)"/>
        <column name="STATUS" type="VARCHAR2(1 BYTE)" />
        <column name="AMTINPROCESS" type="NUMBER(16,2)" />
        <column name="TXNADJUSTEDAMT" type="NUMBER(19,5)" />
        <column name="ADVICEAMT" type="NUMBER(19,5)" />
        <column name="ADVICEDATE" type="datetime" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="PROCESSDATE" type="datetime" />
        <column name="PROCESSED_FLAG" type="CHAR(1 BYTE)" />
        <column name="SEGMENT" type="VARCHAR2(20 BYTE)" />
        <column name="BATCH_ID" type="NUMBER" />
 </createTable>
</changeSet>
<changeSet id="35" author="surekha">
    <createTable tableName="DM_LOANWISE_REFERENCE_DTL">
        <column name="REFID" type="NUMBER(14)" />
        <column name="CUSTOMERID" type="NUMBER(8)" />
        <column name="REFERENCE_NAME" type="VARCHAR2(300)" />
        <column name="REF_RELATION" type="VARCHAR2(8)" />
        <column name="ADDRESS1" type="VARCHAR2(120)" />
        <column name="ADDRESS2" type="VARCHAR2(120)"/>
        <column name="ADDRESS3" type="VARCHAR2(120)" />
        <column name="ADDRESS4" type="VARCHAR2(120)" />
        <column name="CITY" type="VARCHAR2(20)" />
        <column name="PHONE1" type="VARCHAR2(48)" />
        <column name="PHONE2" type="VARCHAR2(48)" />
        <column name="MOBILE" type="VARCHAR2(105)" />
        <column name="OFF_EXT_NO" type="NUMBER(18,4)" />
        <column name="ZIPCODE" type="VARCHAR2(8)" />
        <column name="STDISD" type="VARCHAR2(10)" />
        <column name="ADDRESS5" type="VARCHAR2(30)" />
        <column name="BUSINESSDATE" type="datetime" />
        <column name="APPLID" type="NUMBER(8)" />
        <column name="BATCH_ID" type="NUMBER" />
 </createTable>
</changeSet>
<changeSet id="36" author="surekha">
    <createTable tableName="DM_LOANWISE_REPAYSCHD_DTLS">
        <column name="AGREEMENTNO" type="VARCHAR2(20 BYTE)" />
        <column name="AGREEMENTID" type="NUMBER(8,0)" />
        <column name="PROPINSTLID" type="NUMBER(16,0)" />
        <column name="EMI_NO" type="VARCHAR2(5 BYTE)" />
        <column name="DUEDATE" type="datetime" />
        <column name="OPENING_PRINCIPAL" type="NUMBER(16,2)"/>
        <column name="INSTALMENT_AMT" type="NUMBER(16,2)" />
        <column name="PRINCIPAL_AMT" type="NUMBER(16,2)" />
        <column name="INTEREST_AMT" type="NUMBER(16,2)" />
        <column name="CLOSING_PRINCIPAL" type="NUMBER" />
        <column name="INSTAL_TYPE" type="VARCHAR2(10 BYTE)" />
        <column name="TOTAL_AMOUNT_DUE" type="NUMBER(25,2)" />
        <column name="DROPLINE_LIMIT" type="NUMBER(25,2)" />
        <column name="ACT_AVAILABLE_LIMIT" type="NUMBER(25,2)" />
        <column name="ACT_UTILISATION_LIMIT" type="NUMBER(25,2)" />
        <column name="EMI_HOLIDAY" type="VARCHAR2(1 BYTE)" />
        <column name="BATCH_ID" type="NUMBER" />
 </createTable>
</changeSet>

<changeSet id="37" author="Manoj.P">
	<dropTable tableName="DM_DISB_DETAILS_DAILY"/>
</changeSet>

<changeSet id="38" author="Manoj.P">
	<createTable tableName="DM_DISB_DETAILS_DAILY">
		<column name="AGREEMENTDATE" type="datetime" />
		<column name="APPLID" type="NUMBER(8)" />
		<column name="AGREEMENTNO" type="VARCHAR2(20)" />
		<column name="DISBURSEMENTNO" type="NUMBER(8)" />
		<column name="DISBURSEMENTDATE" type="datetime" />
		<column name="PARENT_AGREEMENTNO" type="VARCHAR2(20)" />
		<column name="AMTFIN" type="NUMBER(16,2)" />
		<column name="NET_AMTFIN" type="NUMBER(16,2)" />
		<column name="DISBURSEDAMT" type="NUMBER(16,2)" />
		<column name="DISB_STATUS" type="VARCHAR2(20)" />
		<column name="FIRST_DUE_DATE" type="datetime" />
		<column name="GROSS_TENURE" type="NUMBER(3)" />
		<column name="NET_TENURE" type="NUMBER(3)" />
		<column name="MATURITYDATE" type="datetime" />
		<column name="EXPIRYDATE" type="datetime" />
		<column name="NO_OF_ADV_INSTL" type="NUMBER(3)" />
		<column name="ADV_EMI_AMT" type="NUMBER(16,2)" />
		<column name="EMI" type="NUMBER(16,2)" />
		<column name="REPAYMENT_MODE" type="VARCHAR2(20)" />
		<column name="PRODUCTFLAG" type="VARCHAR2(8)" />
		<column name="PROMOTIONID" type="NUMBER(8)" />
		<column name="ICICI_LOMBARD" type="NUMBER(16,2)" />
		<column name="BAGIC" type="NUMBER(16,2)" />
		<column name="BALIC_CHARGES" type="NUMBER(16,2)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSED_FLAG" type="CHAR(1)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="SEGMENTS" type="VARCHAR2(10)" />
		<column name="FEE" type="NUMBER(16,2)" />
		<column name="DEALER_SUBV" type="NUMBER(16,2)" />
		<column name="MANU_SUBV_DED" type="NUMBER(16,2)" />
		<column name="MANU_SUBV_NDED" type="NUMBER(16,2)" />
		<column name="PREEMI" type="NUMBER(16,2)" />
		<column name="EXISTING_LANNO" type="VARCHAR2(20)" />
		<column name="MORTGAGE_FEE" type="NUMBER" />
		<column name="COMMITMENT_FEE" type="NUMBER" />
		<column name="PROCESSING_FEE" type="NUMBER" />
		<column name="PRE_EMI_RECEIVABLE" type="NUMBER" />
		<column name="INSURANCE" type="NUMBER" />
		<column name="PAYMENTMODE" type="VARCHAR2(13)" />
		<column name="FREQ" type="VARCHAR2(2)" />
		<column name="CHEQUENUM" type="VARCHAR2(15)" />
		<column name="CUST_ACCT_NO" type="VARCHAR2(16)" />
		<column name="BANKNAME" type="VARCHAR2(200)" />
		<column name="MICRCODE" type="VARCHAR2(20)" />
		<column name="BUSINESS_YEAR" type="NUMBER" />
		<column name="EMI_CHARGE" type="NUMBER(16,2)" />
		<column name="PDC_CHARGE" type="NUMBER(16,2)" />
		<column name="IRR_PER" type="NUMBER(16,5)" />
		<column name="FEE_WL" type="NUMBER(16,5)" />
		<column name="ELC_CHARGE" type="NUMBER(16,2)" />
		<column name="CREDIT_VIDYA_FEES" type="NUMBER(16,2)" />
		<column name="BATCH_ID" type="NUMBER" />
	</createTable>
</changeSet>

<changeSet author="Manoj.P" id="39">
	<addPrimaryKey columnNames="AGREEMENTNO, DISBURSEMENTNO" constraintName="PK_DM_AGN_DBN"
		tableName="DM_DISB_DETAILS_DAILY" />
</changeSet>

<changeSet author="Manoj.P" id="40">
	<addPrimaryKey columnNames="CUSTOMERID" constraintName="PK_DM_APP_CUSTID"
		tableName="DM_APPLICANT_DETAILS" />
</changeSet>

<changeSet author="Manoj.P" id="41">
	<addPrimaryKey columnNames="ADDRESSID,CUSTOMERID" constraintName="PK_DM_ADD_CUSTID"
		tableName="DM_ADDRESS_DETAILS" />
</changeSet>

<changeSet author="Manoj.P" id="42">
	<addPrimaryKey columnNames="APPLID" constraintName="PK_DM_COAPP_APPID"
		tableName="DM_COAPPLICANT_DETAILS" />
</changeSet>



<changeSet author="Manoj.P" id="43">
	<addPrimaryKey columnNames="AGREEMENTNO" constraintName="PK_DM_LD_AGGNO"
		tableName="DM_LOAN_DETAILS_DAILY" />
</changeSet>

<changeSet author="Manoj.P" id="44">
	<addPrimaryKey columnNames="AGREEMENTNO" constraintName="PK_DM_ID_AGGNO"
		tableName="DM_INSURANCE_DETAILS" />
</changeSet>

<changeSet author="Manoj.P" id="45">
	<addPrimaryKey columnNames="APPLICATIONID" constraintName="PK_DM_PD_APPID"
		tableName="DM_PROPERTY_DTL" />
</changeSet>

<changeSet author="Manoj.P" id="46">
	<addPrimaryKey columnNames="APPLID" constraintName="PK_DM_APD_APPID"
		tableName="DM_APPLICATION_DETAILS" />
</changeSet>

<changeSet author="Manoj.P" id="47">
	<dropTable tableName="DM_APPLICATION_DETAILS"/>
</changeSet>

<changeSet author="Manoj.P" id="48">
    <createTable tableName="DM_APPLICATION_DETAILS">
        <column name="APPLID" type="NUMBER(8)" />
        <column name="CRM_DEALID" type="VARCHAR2(20)" />
        <column name="CRSCOREDATE" type="datetime" />
        <column name="CIBILSCORE" type="VARCHAR2(10)" />
        <column name="APPSCORE" type="NUMBER(8)" />
        <column name="BEHSCORE" type="NUMBER(8)"/>
        <column name="DEVIATION_TYPE" type="VARCHAR2(100)" />
        <column name="DEVIATION_FLAG" type="CHAR(1)" />
        <column name="DEVIATION_CODE" type="VARCHAR2(100)" />
        <column name="DEVIATION_NAME" type="VARCHAR2(100)" />
        <column name="REQ_TENURE" type="NUMBER(3)" />
        <column name="REQ_LOAN_AMT" type="NUMBER(18,4)" />
        <column name="LOAN_LIMIT" type="NUMBER(18,4)" />
        <column name="APPROVE_LOAN_AMT" type="NUMBER(18,4)" />
        <column name="LOAN_PURPOSE" type="VARCHAR2(100)" />
        <column name="LOAN_TYPE" type="VARCHAR2(100)" />
        <column name="CANCELLATIONDATE" type="datetime" />
        <column name="CANCEL_REASON" type="VARCHAR2(300)" />
        <column name="FREQUENCY" type="VARCHAR2(15)" />
        <column name="LOAN_APPROVAL_DATE" type="datetime" />
        <column name="AGREEMENTDATE" type="datetime" />
        <column name="INTRATE" type="NUMBER(10,7)" />
        <column name="FLAT_RATE" type="NUMBER(10,7)" />
        <column name="IRR" type="NUMBER(10,7)" />
        <column name="GROSS_LTV" type="NUMBER(10,7)" />
		<column name="NET_LTV" type="NUMBER(10,7)" />
		<column name="COF" type="NUMBER(18,4)" />
		<column name="DEBT_BURDEN_RATIO" type="NUMBER(10,7)" />
		<column name="FOIR_DB" type="NUMBER(10,7)" />
		<column name="SCHEMEID" type="NUMBER(8)" />
		<column name="SCHEMEDESC" type="VARCHAR2(200)" />
		<column name="SCHEMEGROUPID" type="NUMBER(8)" />
		<column name="SCHEME_GROUPG_DESC" type="VARCHAR2(35)" />
		<column name="PRODUCT_CATEGORY" type="VARCHAR2(20)" />
		<column name="PROD_TYPE" type="VARCHAR2(100)" />
		<column name="PROMOTIONID" type="NUMBER(8)" />
		<column name="PROGRAMID" type="NUMBER(8)" />
		<column name="SURROGATE_FLAG" type="CHAR(1)" />
		<column name="SOURCING_CHANNEL_TYPE" type="VARCHAR2(100)" />
		<column name="SOURCING_CHANNEL_NAME" type="VARCHAR2(200)" />
		<column name="REFERAL_GROUP" type="VARCHAR2(200)" />
		<column name="REFERAL_NAME" type="VARCHAR2(200)" />
		<column name="COUNTRYID" type="NUMBER(8)" />
		<column name="COUNTRY" type="VARCHAR2(200)" />
		<column name="REGIONID" type="NUMBER(8)" />
		<column name="REGION" type="VARCHAR2(200)" />
		<column name="STATEID" type="NUMBER(8)" />
		<column name="STATE" type="VARCHAR2(200)" />
		<column name="CITYID" type="VARCHAR2(20)" />
		<column name="CITY" type="VARCHAR2(200)" />
		<column name="BRANCHID" type="NUMBER(8)" />
		<column name="BRANCHDESC" type="VARCHAR2(200)" />
		<column name="BROKER_NAME" type="VARCHAR2(200)" />
		<column name="DME_NAME" type="VARCHAR2(200)" />
		<column name="ASM_NAME" type="VARCHAR2(200)" />
		<column name="RSM_NAME" type="VARCHAR2(200)" />
		<column name="CRDT_MGR_NAME" type="VARCHAR2(200)" />
		<column name="ROID_NAME" type="VARCHAR2(200)" />
		<column name="TLID_NAME" type="VARCHAR2(200)" />
		<column name="BMID_NAME" type="VARCHAR2(200)" />
		<column name="COID_NAME" type="VARCHAR2(200)" />
		<column name="SUPPLIERID" type="NUMBER(8)" />
		<column name="DLR_PARTICIPATION_RATE" type="NUMBER(10,7)" />
		<column name="LOCAL_OUTSTATION_FLG" type="VARCHAR2(2)" />
		<column name="CUSTOMERID" type="NUMBER(8)" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="PROCESSED_FLAG" type="CHAR(1)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="PRODUCT" type="VARCHAR2(8)" />
		<column name="SEGMENTS" type="VARCHAR2(10)" />
		<column name="CRM_STATUS" type="VARCHAR2(10)" />
		<column name="LOGINDATE" type="datetime" />
		<column name="APPR_REJ_DATE" type="datetime" />
		<column name="CANCEL_DATE" type="datetime" />
		<column name="FILE_STATUS" type="VARCHAR2(50)" />
		<column name="FILE_HOLD_REASON" type="VARCHAR2(200)" />
		<column name="QDPDONE" type="VARCHAR2(1)" />
		<column name="ISHOLD" type="VARCHAR2(1)" />
		<column name="BRANCH_INW_DATE" type="datetime" />
		<column name="BRANCH_HOLD_DATE" type="datetime" />
		<column name="CPU_INW_DATE" type="datetime" />
		<column name="CPU_HOLD_DATE" type="datetime" />
		<column name="SYSTEM_HOLD" type="VARCHAR2(1)" />
		<column name="PSL_FLAG" type="VARCHAR2(1)" />
		<column name="DOC_WAVE_FLAG" type="VARCHAR2(4)" />
		<column name="CUSTOMER_SWIPE" type="VARCHAR2(1)" />
		<column name="CUSTOMER_ACCEPTANCE" type="VARCHAR2(1)" />
		<column name="KYC_DOC_TYPE" type="VARCHAR2(100)" />
		<column name="KYC_DOC_ID" type="VARCHAR2(20)" />
		<column name="BUSINESS_IRR" type="NUMBER(5,2)" />
		<column name="INSPECTORNAME" type="VARCHAR2(32)" />
		<column name="REGNUMBER" type="VARCHAR2(15)" />
		<column name="BUSINESS_YEAR" type="NUMBER" />
		<column name="DEALID" type="NUMBER(10)" />
		<column name="PRETAXIRR" type="NUMBER(10,7)" />
		<column name="ODM_FLAG" type="VARCHAR2(1)" />
		<column name="DI_DATE" type="datetime" />
		<column name="LAA_QDP_FLAG" type="VARCHAR2(1)" />
		<column name="PREFERRED_CARD_ACCEPTANCE" type="VARCHAR2(1)" />
		<column name="ORIG_AMTFIN" type="NUMBER(16,2)" />
		<column name="ELC_FLAG" type="VARCHAR2(1)" />
		<column name="ELC_LIMIT" type="NUMBER(14,2)" />
		<column name="QDP_DONE_DATE" type="datetime" />
		<column name="LAA_DECENTRALIZED_FLAG" type="VARCHAR2(1)" />
		<column name="FCU_FLAG" type="VARCHAR2(4)" />
		<column name="MKTGID" type="NUMBER(8)" />
		<column name="DM_MPID" type="NUMBER(8)" />
		<column name="SWIPE_CARD_CODE" type="NUMBER(2)" />
		<column name="SOURCE_CARD_CODE" type="NUMBER(2)" />
		<column name="DII_USER_ID" type="VARCHAR2(8)" />
		<column name="QDP_CHEQUE_ISSUE" type="datetime" />
		<column name="INTEREST_TYPE" type="VARCHAR2(1)" />
		<column name="DII_DONE_DATE" type="datetime" />
		<column name="FINISH_DATE" type="datetime" />
		<column name="BATCH_ID" type="NUMBER" />
    </createTable>
</changeSet>

<changeSet author="Manoj.P" id="49">
	<addPrimaryKey columnNames="APPLID" constraintName="PK_DM_APD_APPID"
		tableName="DM_APPLICATION_DETAILS" />
</changeSet>


<changeSet author="Manoj.P" id="50">
	<addPrimaryKey columnNames="AGREEMENTNO,DISBURSEMENTNO" constraintName="PK_DM_AGG_DID"
		tableName="DM_SUBQ_DISB_DETAILS" />
</changeSet>

<changeSet author="Manoj.P" id="50">
	<addPrimaryKey columnNames="AGREEMENTNO,DISBURSEMENTNO" constraintName="PK_DM_AGG_DID"
		tableName="DM_SUBQ_DISB_DETAILS" />
</changeSet>

<changeSet author="Manoj.P" id="51">
	<addPrimaryKey columnNames="ECS_ID" constraintName="PK_DM_OPECS_ECSID"
		tableName="DM_OPENECS_DETAILS" />
</changeSet>

<changeSet author="Manoj.P" id="52">
	<createTable tableName="DM_IVR_GATEWAY_FLEXI">
		<column name="AGREEMENTNO" type="VARCHAR2(20)" />
		<column name="DROP_LINE_LIMIT" type="NUMBER(20,2)" />
		<column name="AMOUNT_DRAWN_LIMIT" type="NUMBER(20,2)" />
		<column name="UTLIZED_BALANCE_LIMIT" type="NUMBER(20,2)" />
		<column name="PRINCIPLE_AMOUNT_PAID" type="NUMBER(20,2)" />
		<column name="BALANCE_PRINCIPAL_OUTSTANDING" type="NUMBER(20,2)" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="BUSINESSDATE" type="datetime" />
		<column name="BATCH_ID" type="NUMBER" />
	</createTable>
</changeSet>

<changeSet author="Manoj.P" id="53">
	<addPrimaryKey columnNames="AGREEMENTNO" constraintName="PK_DM_IVR_AGGNO"
		tableName="DM_IVR_GATEWAY_FLEXI" />
</changeSet>

<changeSet author="Manoj.P" id="54">
	<addPrimaryKey columnNames="AGREEMENTNO" constraintName="PK_DM_RES_AGGNO"
		tableName="DM_RESCH_DETAILS_DAILY" />
</changeSet>


<changeSet author="Manoj.P" id="55">
 	<modifyDataType tableName="DM_DISB_DETAILS_DAILY" columnName="BATCH_ID" newDataType="bigint"/>
	<modifyDataType tableName="DM_LOAN_DETAILS_DAILY" columnName="BATCH_ID " newDataType="bigint"/>
	<modifyDataType tableName="DM_INSURANCE_DETAILS" columnName="BATCH_ID" newDataType="bigint"/>
	<modifyDataType tableName="DM_PROPERTY_DTL" 	columnName="BATCH_ID " newDataType="bigint"/>
	
	<modifyDataType tableName="DM_APPLICANT_DETAILS" columnName="BATCH_ID" newDataType="bigint"/>
	<modifyDataType tableName="DM_ADDRESS_DETAILS" columnName="BATCH_ID " newDataType="bigint"/>
	<modifyDataType tableName="DM_APPLICATION_DETAILS" columnName="BATCH_ID" newDataType="bigint"/>
	<modifyDataType tableName="DM_COAPPLICANT_DETAILS" columnName="BATCH_ID " newDataType="bigint"/>
	
	<modifyDataType tableName="DM_OPENECS_DETAILS" columnName="BATCH_ID" newDataType="bigint"/>
	<modifyDataType tableName="DM_SUBQ_DISB_DETAILS" columnName="BATCH_ID " newDataType="bigint"/>
	<modifyDataType tableName="DM_IVR_GATEWAY_FLEXI" columnName="BATCH_ID" newDataType="bigint"/>
	<modifyDataType tableName="DM_LOANWISE_CHARGE_DETAILS" columnName="BATCH_ID" newDataType="bigint"/>
</changeSet>

<changeSet author="Manoj.P" id="56">
    <dropColumn  columnName="MICR_CODE" tableName="DM_LEA_DOC_DTL"/>
</changeSet>

<changeSet author="Manoj.P" id="57">
    <addColumn tableName="DM_PREPAYMENT_DETAILS">
        <column name="BUSINESS_YEAR" type="NUMBER"/>
    </addColumn>
</changeSet>

<changeSet author="Manoj.P" id="58">
    <dropColumn  columnName="CUSTOMER_TYPE" tableName="FORECLOSURECHARGES"/>
</changeSet>


<changeSet author="Manoj.P" id="59">
	<renameColumn newColumnName="PRE_EMI" oldColumnName="PRE-EMI"
		tableName="FORECLOSURECHARGES" />
</changeSet>

<changeSet author="Manoj.P" id="60">
    <addColumn tableName="DM_LOANWISE_REPAYSCHD_DTLS">
        <column name="BUSINESSDATE" type="datetime"/>
    </addColumn>
</changeSet>

<changeSet author="Manoj.P" id="61">
	<addPrimaryKey columnNames="AGREEMENTNO" constraintName="PK_DM_SOA_AGGNO"
		tableName="DM_SEND_SOA_EMAIL" />
</changeSet>

<changeSet author="Manoj.P" id="62">
	<addPrimaryKey columnNames="AGREEMENTNO" constraintName="PK_DM_LOV_AGGNO"
		tableName="DM_LOAN_VOUCHER_DETAILS" />
</changeSet>

<changeSet author="Manoj.P" id="63">
	<addPrimaryKey columnNames="AGREEMENTID" constraintName="PK_DM_LOC_AGGID"
		tableName="DM_LOANWISE_CHARGE_DETAILS" />
</changeSet>


<changeSet author="Manoj.P" id="64">
	<addPrimaryKey columnNames="AGREEMENTNO,DUEDATE" constraintName="PK_DM_LWR_AGGIDDT"
		tableName="DM_LOANWISE_REPAYSCHD_DTLS" />
</changeSet>

<changeSet author="Manoj.P" id="65">
	<addPrimaryKey columnNames="AGREEMENTNO" constraintName="PK_DM_NOC_AGGNO"
		tableName="DM_NOC_ELIGIBLE_LOANS" />
</changeSet>

<changeSet author="Manoj.P" id="66">
	<addPrimaryKey columnNames="APPLID" constraintName="PK_DM_HTS_UNA"
		tableName="DM_HTS_UNADJUSTED_AMT" />
</changeSet>

<changeSet author="Manoj.P" id="67">
	<addPrimaryKey columnNames="AGREEMENTID" constraintName="PK_DM_FCC_AGGID"
		tableName="FORECLOSURECHARGES" />
</changeSet>

<changeSet author="Manoj.P" id="68">
	<addPrimaryKey columnNames="AGREEMENTNO" constraintName="PK_DM_PPD_AGGNO"
		tableName="DM_PREPAYMENT_DETAILS" />
</changeSet>


<changeSet author="Manoj.P" id="69">
	<addPrimaryKey columnNames="AGREEMENTID" constraintName="PK_DM_LEA_AGID"
		tableName="DM_LEA_DOC_DTL" />
</changeSet>

<changeSet author="Manoj.P" id="70">
	<addPrimaryKey columnNames="AGREEMENTNO" constraintName="PK_DM_PD_AGGNO"
		tableName="DM_PRESENTATION_DETAILS" />
</changeSet>
<changeSet id="71" author="Jayant">
	<createView viewName="DM_DISB_DETAILS_DAILY_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select  T2.FinApprovedDate AGREEMENTDATE,substr(T2.FinReference,7,length(T2.FinReference)) APPLID,T2.FinReference AGREEMENTNO,
          T3.DisbSeq DISBURSEMENTNO,T3.DisbDate DISBURSEMENTDATE,null PARENT_AGREEMENTNO,
          t2.FinAmount AMTFIN,t2.FinAmount - t2.DownPayment + t2.FeeChargeAmt NET_AMTFIN,
          T7.DisbAmount DISBURSEDAMT,'' DISB_STATUS,
          T1.FirstRepayDate FIRST_DUE_DATE,round(MONTHS_BETWEEN( T2.MaturityDate,T2.FinStartDate)) GROSS_TENURE,Null NET_TENURE,
          T2.MaturityDate MATURITYDATE,T2.LastRepayDate EXPIRYDATE,null NO_OF_ADV_INSTL,
          null ADV_EMI_AMT,T2.FirstRepay EMI,T2.FinRepayMethod REPAYMENT_MODE,
          T2.FinType PRODUCTFLAG,null PROMOTIONID,null ICICI_LOMBARD,
          null BAGIC,null BALIC_CHARGES,
          (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
          'N' PROCESSED_FLAG,
          (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
          null SEGMENTS,null FEE,null DEALER_SUBV,null MANU_SUBV_DED,null MANU_SUBV_NDED,null PREEMI,
          null EXISTING_LANNO,null MORTGAGE_FEE,null COMMITMENT_FEE,null PROCESSING_FEE,
          null PRE_EMI_RECEIVABLE,null INSURANCE,
          T2.FinRepayMethod PAYMENTMODE,
          substr(T2.REPAYFRQ,1,1) FREQ,
          '' CHEQUENUM,'' CUST_ACCT_NO,T5.BankName BANKNAME,t6.micr MICRCODE,null BUSINESS_YEAR,
          null EMI_CHARGE,null PDC_CHARGE,t2.EffectiveRateOfReturn IRR_PER,null FEE_WL,
          null ELC_CHARGE,null CREDIT_VIDYA_FEES,null BATCH_ID 
from FinanceMain T2 
Inner join FINPFTDETAILS T1 on T1.FinReference=T2.FinReference
Inner join FinDisbursementDetails T3 on T3.FinReference=T2.FinReference
Inner join rmtfinancetypes T4 on T4.FinType=T2.FinType
left join bankbranches T6 on T6.Branchcode=T2.finbranch 
LEFT JOIN BMTBANKDetail T5 on t5.bankcode=t6.bankcode
left join (Select Finreference,SUM(DisbAmount) DisbAmount
          from FinDisbursementDetails
          where DIsbDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')
          group by Finreference)T7 on t7.FinReference=T2.FinReference
left join (Select Finreference,SUM(BalanceAmt)BalanceAmt From FINEXCESSAMOUNT 
          where AMOUNTTYPE = 'A' group by Finreference)T8 on T8.FinReference=T2.FinReference

	]]>
</createView>
</changeSet>
<changeSet id="72" author="Jayant">
	<createView viewName="DM_LOAN_DETAILS_DAILY_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,t1.finreference AGREEMENTNO,t3.CustID CUSTOMERID,
  null CUSTOMER_YIELD,
  Case when t1.finisactive =1 then 'Active' when t1.CLOSINGSTATUS='C' 
  then 'Cancelled' else 'Closed' end STATUS,T4.NPAbucketid NPA_STAGE,null LMS_BUCKET,
  null COLL_BUCKET,null INSURANCE_APPLIED_FLG,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
  'N' PROCESSED_FLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') PROCESS_DATE,
  'LMS-DII' SEGMENTS,null CLOSUREDATE,
  null TOPUP_AMT,null BUSINESS_YEAR,null PDCID,null PCFLAG,null OD_FLAG,
  T1.RepayMargin MARGIN,null SPECIALMARGIN,null FIXEDTENOR,
  Null CEEFFECTIVEDATE,null EFF_RATE,null PLRRATE,null PARTY_CODE,
  NULL PARTY_NAME,NULL ZONE,NULL COLLECTION_CENTRE,null VIRTUAL_ACCOUNT_NUMBER,
  null INSTALLMENT_TYPE,null COMPANYTYPE,
  T1.TotalProfit FIANANCE_CHARGES,T1.ApplicationNo FILENO,null NO_OF_PDCS,
  null LIFEINSURANCE,t6.RemainingFee SHORTRECEIVED,t3.CustShrtName IN_FAVOUR_OFF,null MKTGID,  
  t7.BalanceAmt PRE_EMI_INT_500071,null LOAN_PURPOSE_DTL,null LOAN_PURPOSE_DESC,
  t8.RemainingFee_tot LOGIN_FEES,null VC_REFERRAL_CD,null  VC_REFERRAL_NAME,
  null PROC_FEES2,t1.FinRepayMethod  INSTRUMENT_TYPE,null LAN_BARCODE,T1.FinStartDate  INTSTART_DATE_REGULAR,
  t1.BPIAmount BPI_RECEIVABLE,null BPI_PAYABLE,null OPEN_FACILITY_FLAG,null BATCH_ID 
  from FinanceMain T1
  Inner join finpftdetails T2 on t1.finreference=t2.finreference
  Inner join customers T3 on T3.Custid=t1.custid
  left join Finprovisions T4 on T4.finreference=t1.finreference
  left join (Select t1.finreference , SUM(RemainingFee)RemainingFee From Finfeedetail T1
  WHERE FeeScheduleMethod = 'DISB'
  group by t1.finreference) T6 on T1.finreference=t6.finreference
  left join (Select t1.finreference , SUM(BalanceAmt)BalanceAmt From FinExcessAmount T1
  WHERE AmountType = 'A' 
  group by t1.finreference) T7 on T1.finreference=t7.finreference
  left join (Select t1.finreference , SUM(RemainingFee)RemainingFee_tot From Finfeedetail T1
  group by t1.finreference) T8 on T1.finreference=t8.finreference
]]>
</createView>
</changeSet>
<changeSet id="73" author="Jayant">
	<createView viewName="DM_INSURANCE_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,T1.finreference AGREEMENTNO,
  null ASSETID,null INSURANCE_TYPE,null INSUR_PREMIUM,
  null INSURANCE_RENEWAL_DATE,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
'N' PROCESSED_FLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE')  PROCESS_DATE,
null SEGMENTS,null BUSINESS_YEAR,null POLICY_TENURE,null SUM_ASSURED,null NOMINEE_NAME,null GOOD_HEALTH,
null CRITICAL_ILLNESS_FLAG,null RELATIONSHIP,null NOMINEE_ADDRESS,null NOMINEE_RELATION,null NOMINEE_DOB,null NOMINEE_AGE,
null NOMINEE_CONTACTNO,null NOMINEE_NAME2,null NOMINEE_ADDRESS2,null NOMINEE_RELATION2,null NOMINEE_DOB2,null NOMINEE_AGE2,
null NOMINEE_CONTACTNO2,null DFGH,null BATCH_ID 
from financemain t1
]]>
</createView>
</changeSet>
<changeSet id="74" author="Jayant">
	<createView viewName="DM_PROPERTY_DTL_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select null PROPERTYID,t1.finreference APPLICATIONID,null ADDRESS1,
  null ADDRESS2,null ADDRESS3,null CITY,null STATE,t1.Fintype PRODUCTFLAG,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
null  PROPERTY_TYPE,null  PROPERTY_DESC,
null PROPERTY_VALUE,null  ZIPCODE,'N'  PROCESSFLAG,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
null  BATCH_ID 
from finpftdetails t1
]]>
</createView>
</changeSet>
<changeSet id="75" author="Jayant">
	<createView viewName="DM_APPLICANT_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select t1.custid CUSTOMERID,null CUST_TYPE,t1.CustCRCPR PANNO,
  CustAddrhnbr ADDRESS1,t2.CustFlatNBr ADDRESS2,CustAddrStreet ADDRESS3,CustAddrLine1 ADDRESS4,CustAddrCity CITY,CustAddrProvince STATE,CustAddrCountry COUNTRY,
CustAddrZip ZIPCODE,CustAddrType ADDRESSTYPE,CustEmail EMAIL,T41.phonenumber PHONE1,T42.phonenumber PHONE2,
T4.phonenumber MOBILE,T5.phonenumber FAX,null EXISTING_CUST_FLAG,null INDIV_CORP_FLAG,
round(MONTHS_BETWEEN( T1.CUSTDOB,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'))/12) AGE,
CustDOB DOB,custfname FNAME,custmname MNAME,custlname LNAME,genderdesc GENDER,CustMaritalSts MARITAL_STATUS,NoOfDependents NO_OF_DEPENDENT,
round(MONTHS_BETWEEN( (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'),T7.CUSTEMPFROM)/12) YEARS_CURRENT_JOB,
null YEARS_PREV_JOB,
null QUALIFICATION,null RESIDENCETYPE,null YEARS_CURR_RESI,null EMPLOYER_DESC,
null COMPANY_TYPE,null INDUSTRYID,null NATURE_OF_BUSINESS,
t7.custEMPType EMPLOYMENT_TYPE,t7.custEMPDesg EMPDESG,null OCCUPATION,
t1.CustTotalIncome ANNUAL_INCOME,null GUARDIAN,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
'N' PROCESSED_FLAG,null PROCESS_DATE,null SEGMENTS,
CustShrtName CUSTOMERNAME,null CONTACT_PERSON_NAME,null CONSTITUTION,null CUST_BANK_NAME,null CUST_BANK_BRANCH,
null EMI_CARD_LIMIT,null EMI_CARD_ACCEPT_FLAG,null EMI_CARD_SWIPE_FLAG,null EMI_CARD_ELIG,null EMI_CARD_NO,null BANK_ECS_MANDATE,null OPEN_ECS_AVLB,
null OPEN_ECS_DATE,null BUSINESS_YEAR,custsalutationcode TITLE,CUSTEMPNAME COMP_NAME,
null  YEARS_CURR_JOB,
null GRADE,null FAMILY_CODE,null MINOR,null GUARDIAN_NEW,
null UCIN_NO,null PREFERRED_ELIGIBILITY,null PREFERRED_CARD_ACCEPTANCE,null PREFERRED_CARD_LIMIT,null CUST_BRANCHID,null BATCH_ID 
from customers T1 
left join CustomerAddresses t2 on t1.custid=t2.custid and CUSTADDRPRIORITY=5
left join CustomerEMails T3 on T3.custid=T1.custid and CustemailPriority=5
left join CustomerPhoneNumbers T41 on T41.phonecustid=T1.custid and t41.PHONETYPEPRIORITY=5
left join CustomerPhoneNumbers T42 on T42.phonecustid=T1.custid and t42.PHONETYPEPRIORITY=4
left join CustomerPhoneNumbers T4 on T4.phonecustid=T1.custid and T4.phonetypecode ='MOBILE'
left join CustomerPhoneNumbers T5 on T5.phonecustid=T1.custid and T5.phonetypecode= 'FAX'
left join BMTGenders T6 on t6.gendercode=t1.custgendercode
left join CustomerEmpDetails t7 on t7.custid = t1.custid and CurrentEmployer=1
]]>
</createView>
</changeSet>
<changeSet id="76" author="Jayant">
	<createView viewName="DM_ADDRESS_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select row_number() over(partition by t1.custid order by t1.custid) ADDRESSID,
  t1.custid CUSTOMERID,t1.CustAddrProvince STATEID,null REGIONID,t1.CustAddrCity CITY,
  T2.PHONENUMBER STDISD,t1.CustADDRPRIORITY MAILINGADDRESS,CustAddrHnbr ADDRESS1,
  CustAddrStreet ADDRESS2,CustAddrStreet ADDRESS3,
  CustAddrZip ZIPCODE,null COUNTRY,CustAddrType ADDRESSTYPE,
  null APPLICANT_TYPE,T3.phonenumber PHONE1,T4.phonenumber PHONE2,T5.phonenumber MOBILE,
  custemail EMAIL,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
  'N' PROCESSFLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
  null AREA,null LANDMARK,null BUSINESS_YEAR,null BATCH_ID 
  from CustomerAddresses T1
  Inner join Customers t2 on t1.custid=t2.custid 
  left join CustomerPhoneNumbers T3 on T3.phonecustid=T1.custid and T3.PHONETYPEPRIORITY=5
  left join CustomerPhoneNumbers T4 on T4.phonecustid=T1.custid and T4.PHONETYPEPRIORITY=4
  left join CustomerPhoneNumbers T5 on T5.phonecustid=T1.custid and T5.phonetypecode ='MOBILE'
  left join CustomerEMails T6 on T6.custid=T1.custid and CustemailPriority=5
]]>
</createView>
</changeSet>
<changeSet id="77" author="Jayant">
	<createView viewName="DM_APPLICATION_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
 select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,null CRM_DEALID,null CRSCOREDATE,
         null CIBILSCORE,null APPSCORE,null BEHSCORE,null DEVIATION_TYPE,null DEVIATION_FLAG,
         null DEVIATION_CODE,null DEVIATION_NAME,null REQ_TENURE,null REQ_LOAN_AMT,
         null LOAN_LIMIT,T1.TOTALPRISCHD APPROVE_LOAN_AMT,null LOAN_PURPOSE,
         t1.FinType LOAN_TYPE,Case when t1.closingstatus='C' then t2.LastMntOn else null end CANCELLATIONDATE,
         null CANCEL_REASON,substr(T2.REPAYFRQ,1,1) FREQUENCY,t1.FinApprovedDate LOAN_APPROVAL_DATE,
         t2.FINCONTRACTDATE AGREEMENTDATE,t2.RepayProfitRate INTRATE,t2.RepayProfitRate  FLAT_RATE,
         null IRR,null GROSS_LTV,null NET_LTV,null COF,
         null DEBT_BURDEN_RATIO,null FOIR_DB,null SCHEMEID,null SCHEMEDESC,null SCHEMEGROUPID,
         null SCHEME_GROUPG_DESC,null PRODUCT_CATEGORY,t1.FinCategory PROD_TYPE,
         null PROMOTIONID,null PROGRAMID,null SURROGATE_FLAG,null SOURCING_CHANNEL_TYPE,
         null SOURCING_CHANNEL_NAME,null REFERAL_GROUP,null REFERAL_NAME,
         null COUNTRYID,null COUNTRY,null REGIONID,null REGION,null STATEID,
         null STATE,null CITYID,null CITY,t1.finbranch BRANCHID,BranchDesc BRANCHDESC,
         null BROKER_NAME,null DME_NAME,null ASM_NAME,null RSM_NAME,
         null CRDT_MGR_NAME,null ROID_NAME,
         null TLID_NAME,null BMID_NAME,null COID_NAME,null SUPPLIERID,
         null DLR_PARTICIPATION_RATE,null LOCAL_OUTSTATION_FLG,t1.custid CUSTOMERID,
        (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')BUSINESSDATE,
        'N' PROCESSED_FLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
        t1.fintype PRODUCT,null SEGMENTS,null CRM_STATUS,null LOGINDATE,t1.FinApprovedDate APPR_REJ_DATE,
        Case when t1.closingstatus='C' then t2.LastMntOn else null end CANCEL_DATE,
        null FILE_STATUS,null FILE_HOLD_REASON,null QDPDONE,null ISHOLD,null BRANCH_INW_DATE,
        null BRANCH_HOLD_DATE,null CPU_INW_DATE,null CPU_HOLD_DATE,null SYSTEM_HOLD,null PSL_FLAG,
        null DOC_WAVE_FLAG,null CUSTOMER_SWIPE,null CUSTOMER_ACCEPTANCE,null KYC_DOC_TYPE,
        null KYC_DOC_ID,null BUSINESS_IRR,null INSPECTORNAME,null REGNUMBER,
        null BUSINESS_YEAR,null DEALID,null PRETAXIRR,null ODM_FLAG,null DI_DATE,
        null LAA_QDP_FLAG,null PREFERRED_CARD_ACCEPTANCE,
        null ORIG_AMTFIN,null ELC_FLAG,null ELC_LIMIT,null QDP_DONE_DATE,
        null LAA_DECENTRALIZED_FLAG,null FCU_FLAG,
        null MKTGID,null DM_MPID,null SWIPE_CARD_CODE,null SOURCE_CARD_CODE,
        null DII_USER_ID,null QDP_CHEQUE_ISSUE,null INTEREST_TYPE,
        null DII_DONE_DATE,null FINISH_DATE,null BATCH_ID 
from finpftdetails T1
Inner join FinanceMain T2 on T1.finreference=T2.finreference
inner join RMTBranches T3 on T3.branchcode=t1.finbranch
]]>
</createView>
</changeSet>
<changeSet id="78" author="Jayant">
	<createView viewName="DM_COAPPLICANT_DTLS_VIEW" replaceIfExists="true"> 
<![CDATA[  
select t1.custid CUSTOMERID,t.APPLICANT_TYPE APPLICANT_TYPE,t1.CustCRCPR PAN_NO,
NULL CUST_RELATION,t1.custctgcode CUST_TYPE,
round(MONTHS_BETWEEN((Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'), T1.CUSTDOB)/12) AGE,
CustDOB DOB,CustFName FNAME,CustMName MNAME,CustLName LNAME,
GenderCode GENDER,CustMaritalSts MARITAL_STATUS,NoOfDependents NO_OF_DEPENDENT,
round(MONTHS_BETWEEN( (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'),T7.CUSTEMPFROM)/12)  YRS_CURRENTJOB,
NULL PREVIOUS_JOB_YEAR,null QUALIFICATION,null EMPLOYER_DESC,
null COMPANY_TYPE,t1.custindustry INDUSTRYID,t1.CustSector BUSINESS_NATURE,
null OCCUPATION_CODE,null GUARDIAN,'N' PROCESS_FLAG,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
custEMPType EMP_TYPE,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
CustTotalIncome INCOME,APPLID APPLID,NULL BATCH_ID 
from customers T1 inner join 
(Select distinct 'Co Applicant' APPLICANT_TYPE,CUSTCIF,substr(FinReference,7,length(FinReference)) APPLID from FinJointAccountDetails union
Select distinct 'Guaranteer' APPLICANT_TYPE,Guarantorcif,substr(FinReference,7,length(FinReference)) APPLID from FinGuarantorsDetails) t on t.CUSTCIF =t1.CUSTCIF
Left join bmtgenders t2 on t2.gendercode=t1.custgendercode
left join RMTCustTypes T3 on T3.custtypecode=t1.custtypecode
left join CustomerEmpDetails t7 on t7.custid = t1.custid and CurrentEmployer=1
]]>
</createView>
</changeSet>
<changeSet id="79" author="Jayant">
	<createView viewName="DM_OPENECS_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select T1.custid CUSTOMERID,T1.Mandateid ECS_ID,T2.Bankcode BANK_ID,
         T3.bankname BANK_NAME,null BANKBRANCHID,null BANKID,
         T2.Branchdesc BANK_BRANCH_NAME,PCCITYNAME CITY,T1.ACCTYPE ACCTYPE,
         T1.ACCNUMBER ACCNO,T1.MaxLimit MAXLIMIT,null BALLIMIT,
         null UTIL_LIMIT,null VALID_LIMIT,null REPAY_MODE,
         T2.micr MICRCODE,T1.Active ACTIVE_FLAG,null CITYID,null SEGMENTS,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')BUSINESSDATE,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,null BATCH_ID 
from Mandates T1
inner join BankBranches T2 on T2.BankBranchid=t1.BankBranchid 
inner join BMTBankDetail T3 on T3.Bankcode=t2.bankcode
left join RMTPROVINCEVSCITY T4 on T4.PCCITY = T2.CITY 
]]>
</createView>
</changeSet>
<changeSet id="80" author="Jayant">
	<createView viewName="DM_SUBQ_DISB_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select T2.FinApprovedDate AGREEMENTDATE,substr(T2.FinReference,7,length(T2.FinReference)) APPLID,
  T2.FinReference AGREEMENTNO,T3.DisbSeq DISBURSEMENTNO,T3.DisbDate DISBURSEMENTDATE,
  null PARENT_AGREEMENTNO,T2.FinAmount AMTFIN, Null NET_AMTFIN,T3.DisbAmount DISBURSEDAMT,
  T3.DisbisActive DISB_STATUS,T1.FirstRepayDate FIRST_DUE_DATE,NULL GROSS_TENURE,
  null NET_TENURE,t2.MaturityDate MATURITYDATE,t2.MaturityDate EXPIRYDATE,null NO_OF_ADV_INSTL,  
  NULL ADV_EMI_AMT,t2.FirstRepay EMI,t2.FinRepayMethod REPAYMENT_MODE,
  T2.FinType PRODUCTFLAG,NULL PROMOTIONID,
  null  ICICI_LOMBARD,null  BAGIC,null  BALIC_CHARGES,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
  'N' PROCESSED_FLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,null SEGMENTS,
  null  FEE,null  DEALER_SUBV,null  MANU_SUBV_DED,null  MANU_SUBV_NDED,
  null  PREEMI,null EXISTING_LANNO,null MORTGAGE_FEE,null COMMITMENT_FEE,
  null PROCESSING_FEE,null PRE_EMI_RECEIVABLE,
  null INSURANCE,null PAYMENTMODE,substr(T2.REPAYFRQ,1,1) FREQ,null CHEQUENUM,null BATCH_ID
from  finpftdetails T1
Inner join Financemain T2 on T1.finreference=T2.finreference
Inner join FinDisbursementDetails T3 on T3.finreference=t1.finreference
]]>
</createView>
</changeSet>
<changeSet id="81" author="Jayant">
	<createView viewName="DM_WRITEOFF_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select substr(T2.FinReference,7,length(T2.FinReference)) APPLID,
         t2.finreference AGREEMENTNO,WriteoffDate CHARGEOFF_DT,null CHARGEOFF_FLG,
         t1.Remarks CHARGEOFF_REASON,null SETTLEMENT_LOSS,
         (WriteoffPrincipal+WriteoffProfit) GROSS_WRITEOFF_AMT,
         (WriteoffPrincipal+WriteoffProfit) NET_WRITEOFF_AMT,
           (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
         'N' PROCESSED_FLAG,null PROCESS_DATE,null SEGMENTS,
          null RECEIPT_ON_CHARGEOFF,null BUSINESS_YEAR
  from FinWriteoffDetail T1
  inner join financemain t2 on t1.finreference=t2.finreference
]]>
</createView>
</changeSet>
<changeSet id="82" author="Jayant">
	<createView viewName="DM_IVR_GATEWAY_FLEXI_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select T1.Finreference AGREEMENTNO,
        null DROP_LINE_LIMIT,null AMOUNT_DRAWN_LIMIT,
        null UTLIZED_BALANCE_LIMIT,T2.SchdPriPaid PRINCIPLE_AMOUNT_PAID,
        T1.TotalPriSchd-T2.PrincipalSchd BALANCE_PRINCIPAL_OUTSTANDING,
        (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
       (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,null BATCH_ID 
from finpftdetails T1
Inner join (select finreference,sum(SchdPriPaid)SchdPriPaid,sum(PrincipalSchd)PrincipalSchd from FinScheduleDetails T2 
where schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')
group by finreference) T2 on T1.finreference=T2.finreference 

	]]>
</createView>
</changeSet>
<changeSet id="83" author="Jayant">
	<createView viewName="DM_RESCH_DETAILS_DAILY_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select substr(T2.FinReference,7,length(T2.FinReference)) APPLID,t2.finreference AGREEMENTNO,
         cASE WHEN FinAssetvalue - FinCurrAssetValue > 0 THEN 'Partially Disbursed' ELSE 'Fully Disbursed' END DISB_STATUS,
         NULL GROSS_TENURE,null NET_TENURE,t2.MaturityDate MATURITYDATE,t2.LastRepayDate EXPIRYDATE,
         T1.FirstRepayAmt EMI,t2.FinRepayMethod REPAYMENT_MODE,T1.fintype PRODUCTFLAG,
         (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,'N' PROCESSED_FLAG,
         (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
         NULL SEGMENTS,substr(t2.REPAYFRQ,1,1) FREQ,
         Case when t1.finisactive =1 then 'Active' when t1.CLOSINGSTATUS='C' 
         then 'Cancelled' else 'Closed' end LOAN_STATUS,t1.MaturityDate CLOSUREDATE,
         t1.CUSTCIF CUST_ACCT_NO,
         T7.bankname BANKNAME,T6.micr MICRCODE,t6.Branchdesc CUST_BANK_BRANCH,
        T8.PCCITYNAME  CUST_BANK_CITY,null BUSINESS_YEAR,
        t3.Mandateid PDCID,null PCFLAG,null TIE_UP,
        RepayMargin MARGIN,null SPECIALMARGIN,
        t2.NumberofTerms FIXEDTENOR,null CEEFFECTIVEDATE,
        null EFF_RATE,null PLRRATE,
        null TIE_UP_WITH,null DATE_OF_CLOSURE,null PDCMS_SEQ_GENERATED_DATE,
        null INSTRUMENT_DATA_ENTRY_DATE,null PAYMENT_AUTHORIZATION_DATE
from finpftdetails T1
inner join Financemain T2 on t1.finreference=t2.finreference
INNER JOIN mandates t3 on t3.ORGReference = t2.finreference
inner join BankBranches T6 on T6.BankBranchid=t3.BankBranchid 
inner join BMTBankDetail T7 on T7.Bankcode=t6.bankcode
left join RMTPROVINCEVSCITY T8 on T8.PCCITY = T6.CITY 
]]>
</createView>
</changeSet>
<changeSet id="84" author="Jayant">
	<createView viewName="DM_PRESENTATION_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select t1.finreference AGREEMENTNO,
  FirstRepayAmt EMI,FirstRepayAmt REPAY_TYPE,null DEPOSITED_DATE,null CREDIT_STATUS,null RETURN_CODE,null RETURN_REASON,null REMARKS,
  null SEGMENTS,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESSDATE,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
  calTerms EMI_NO,t7.bankname CUSTOMER_BANK_NAME,
  null BOM_BOUNCE_BUCKET,t6.micr MICR_CODE,null STATUS_UPDT_DATE,t3.ACCNUMBER CUST_BANK_AC_NO,t6.Branchdesc CUSTOMER_BANK_BRANCH,
  null CHEQUESNO,null CHEQUEDATE,null FEMI_FLAG,null HOLD_IGNORE_CODE,null HOLD_IGNORE_REASON,null DEST_ACC_HOLDER,
  t3.Mandateid PDCID,  t6.bankcode BBRANCHID
  from Finpftdetails t1
  inner join financemain t2 on t1.finreference=t2.finreference
 INNER JOIN mandates t3 on t3.ORGReference = t2.finreference
inner join BankBranches T6 on T6.BankBranchid=t3.BankBranchid 
inner join BMTBankDetail T7 on T7.Bankcode=t6.bankcode
]]>
</createView>
</changeSet>
<changeSet id="85" author="Jayant">
	<createView viewName="DM_LEA_DOC_DTLE_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select substr(T1.FinReference,7,length(T1.FinReference))  AGREEMENTID,null APPLICABLE,
substr(T2.FinReference,7,length(T2.FinReference))  APPLID,null APPROVED_BY,null AUTHDATE,null AUTHID,null AWB_NO,null BRANCHSTATUS,
cast(null as numeric(8,0)) CONSTITUTION,null COURIER_NAME,'N' CRITICAL,null CUSTOMER_TYPE,
t1.custid  CUSTOMERID,null DATE_BRANCH_STATUS,null DATELASTUPDT,null DOC_CLASSFN,null DOC_RETRIEVAL_STATUS,
cast(null as numeric(8,0)) DOCID,null DOCTYPE,null FILE_BARCODE,null MAKERDATE,null MAKERID,null MC_STATUS,null NEW_FLAG,null ORIGINALS,
null PACKET_TRACKER_NO,null PROPERTY_ADDRESS,null PROPERTY_CODE,null REASON,null RECEIVED,null RECEIVEDDATE,null REJECTION_REASONS,
null RELEASED_DATE,null RELEASED_REMARKS,null REMARKS,null STAGE,null TARGETDATE,null TITLE_DOCUMENT,
cast(null as numeric(8,0)) TXNDOCID,null VALIDTILLDATE,null VAP_LOAN_FLAG,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
'N' PROCESSFLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESSDATE,null SEGMENT,
null REVISED_TARGET_DATE
from Finpftdetails t1
inner join financemain t2 on t1.finreference=t2.finreference
]]>
</createView>
</changeSet>
<changeSet id="86" author="Jayant">
	<createView viewName="DM_PREPAYMENT_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select 
cast(t2.applicationno as numeric(8,0)) APPLID,t1.finreference AGREEMENTNO,
null PREPAYMENTID,
null PREPAYMENT_RATE,null PREPAYMENT_TYPE,
null PREPAYMENT_PENALTY_DUE,
null PREPAYMENT_PENALTY_PAID,null PREPAYMENT_AMT,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,'N' PROCESSED_FLAG,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
'' SEGMENTS,'' PREPAYMENT_DATE,
cast(null as numeric(8,0)) BUSINESS_YEAR
from Finpftdetails t1
  inner join financemain t2 on t1.finreference=t2.finreference
]]>
</createView>
</changeSet>
<changeSet id="87" author="Jayant">
	<createView viewName="FORECLOSURECHARGES_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select 
substr(T1.FinReference,7,length(T1.FinReference)) AGREEMENTID,t3.PriAmount BAL_PRINCIPAL,null RESEDUL_VALUE,null INSTALLMENTS,
null ADVICES,null PENALTY,t4.PftAmount INTREST_ON_TERMINATION,null FLOATINTREST_ON_TERMINATION,
null OVER_DUES,null CURRENT_OVERDUES,null CURRENT_WAVEOFFAMT,null OVER_DISTANCE_CHARGES,
null INTREST_ON_TERMINATION_PER_DAY,null INTREST_ACCRUALS,null EXCESS_AMOUNT,null EXCESS_REFUND,
null ADVICE,null REBATE,null ADVINSTL,null EXCESSPRINPMNT,null SDAMT,
null SDINT,null EXCESS_INTREST_RATE,null VAT_ON_FORECLOSURE,null UNDER_DISTANCE_CHARGES,
null NET_PAYBALE,t5.TotalFeeAmount WAIVEOFFAMOUNT,null ACTIVITY,null AUTHORIZEDON,null COMMITMENT_FEE,null ORIGINATION_FEE,
null PRE_EMI,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESS_DATE,
null CHEQUEID,null STATUS,null INTEREST_WAIVE_OFF,null BALANCE_PRIN_WAIVE_OFF,
t6.LPFTWaivedAmount INSTALLMET_INT_WAIVE_OFF,t7.PFTWaivedAmount WOFF_CURRMONTH_INT,t8.ODCWaivedAmount WOFF_OVERDUE_CHARGE,null WOFF_CHQBOUNCE_CHARGES,
null WOFF_OTHERS,null INSTALLMENT_PRIN_WAIVE_OFF,null WOFF_PARKING_CHARGES,null TOT_OTHER_REPO_CHARGES,
null WOFF_OTHER_REPO_CHARGES,null TOT_REPOSESSION_CHARGES,null WOFF_REPOSESSION_CHARGES,null TOT_PARKING_CHARGES
from Finpftdetails t1
inner join financemain t2 on t1.finreference=t2.finreference
left join (select finreference,sum(PriAmount)PriAmount from FinRepayHeader where FinEvent = 'EarlySettlement' group by finreference) t3 on  t3.finreference=t2.finreference  
left join (select finreference,sum(PftAmount)PftAmount from FinRepayHeader where FinEvent = 'EarlySettlement' group by finreference) t4 on  t4.finreference=t2.finreference  
left join (select reference,receiptid,sum(TotFeeAmount)TotalFeeAmount from FinReceiptHeader where receiptpurpose = 'EarlySettlement' group by reference,receiptid) t5 on  t5.reference=t2.finreference  
left join (select receiptid,sum(WaivedAmount)LPFTWaivedAmount from ReceiptAllocationDetail where allocationType = 'LPFT' group by receiptid) t6 on  t6.receiptid=t5.receiptid  
left join (select receiptid,sum(WaivedAmount)PFTWaivedAmount from ReceiptAllocationDetail where allocationType = 'PFT' group by receiptid) t7 on  t7.receiptid=t5.receiptid  
left join (select receiptid,sum(WaivedAmount)ODCWaivedAmount from ReceiptAllocationDetail where allocationType = 'ODC' group by receiptid) t8 on  t8.receiptid=t5.receiptid 
]]>
</createView>
</changeSet>
<changeSet id="88" author="Jayant">
	<createView viewName="DM_HTS_UNADJUSTED_AMT_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,
BalanceAmt UNADJUSTED_AMOUNT,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE
from financemain T1 
inner join (Select FinReference,sum(BalanceAmt)BalanceAmt from FINEXCESSAMOUNT
group by FinReference)t2 on t1.FinReference =t2.FinReference
]]>
</createView>
</changeSet>
<changeSet id="89" author="Jayant">
	<createView viewName="DM_NOC_ELIGIBLE_LOANS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select t1.Finreference AGREEMENTNO,t1.Finreference LOANACCTNUM,t1.fintype PRODUCTFLAG,CustEmail EMAIL,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')BUSINESSDATE,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,'N' PROCESSED_FLAG 
from Finpftdetails t1
left join CustomerEMails T3 on T3.custid=T1.custid and custEmailPriority=5
]]>
</createView>
</changeSet>
<changeSet id="90" author="Jayant">
	<createView viewName="DM_SEND_SOA_EMAIL_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select T1.Finreference AGREEMENTNO,t1.custid CUSTOMERID,t4.CustEmail EMAILID,
  substr(T2.FinReference,7,length(T2.FinReference)) AGREEMENTID,
  substr(T2.FinReference,7,length(T2.FinReference))PROCESSID,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  GENERATION_DATE,
  null PROCESSED,t1.fintype PRODUCTFLAG,null GROUPID,
  T5.ActiveCnt+T6.CloseCnt TOTAL_LAN,
  T6.CloseCnt TOTAL_CLOSED_LAN,
  T5.ActiveCnt TOTAL_ACTIVE_LAN,null SWIPE_FLAG,null EMI_CARD_NO,
  T1.latestDisbDate DISBURSEMENT_DATE,
  null SUPPLIERID,null SUPPLIERDESC,
  TotalPriSchd AMT_FIN,FirstRepayAmt EMI,NextRepayDate NEXT_EMI_DUE_DATE,
  null CHEQUE_BOUNCE_CHARGE
from Finpftdetails t1
inner join financemain t2 on t1.finreference=t2.finreference
Inner join customers T3 on T3.custid=T1.custid
left join CustomerEMails T4 on T4.custid=T3.custid and custEmailPriority=5
Left join (Select CustID,COUNT(*)ActiveCnt from FinPftDetails
		where (FinIsActive=1) group by CustID)T5 ON T1.CustID =T5.CustID  
Left join (Select CustID,COUNT(*)CloseCnt from FinPftDetails
		where (FinIsActive!=1)group by CustID)T6 ON T1.CustID =T6.CustID
	]]>
</createView>
</changeSet>	
<changeSet id="91" author="Jayant">
	<createView viewName="DM_LOAN_VOUCHER_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
SELECT NULL MODULEID,
  NULL STAGEID,
  NULL LEA_VOUCHERID,
  NULL FA_VOUCHERID,
  NULL VOUCHERTYPE,
  NULL VOUCHERDATE,
  NULL VALUEDATE,
  NULL BRANCHID,
  NULL BRANCH_CODE,
  NULL BRANCHDESC,
  NULL BUSINESS_AREA,
  NULL PROFIT_CENTRE,
  t1.fintype PRODUCT_FLAG,
  t3.ID SCHEMEID,
  T3.FINTYPEDESC SCHEMEDESC,
  NULL ASSIGNMENT,
  SUBSTR(T2.FinReference,7,LENGTH(T2.FinReference)) AGREEMENTID,
  t2.Finreference AGREEMENTNO,
  T1.FinstartDate AGREEMENTDATE,
  NULL DISBURSALDATE,
  t1.FinIsActive LOAN_STATUS,
  NULL NPA_STAGEID,
  NULL FINNONE_GLID,
  NULL GROUPGLDESC,
  NULL SAPGL_CODE,
  NULL COST_CENTRE,
  NULL DRAMT,
  NULL CRAMT,
  NULL DRCR_FLAG,
  NULL DRCR_AMT,
  NULL NARRATION,
  NULL CHEQUEID,
  (SELECT to_date(sysparmvalue, 'YYYY-MM-DD') sysparmvalue
  FROM smtparameters
  WHERE SYSPARMCODE='APP_DATE'
  ) BUSINESSDATE,
  (SELECT to_date(sysparmvalue, 'YYYY-MM-DD') sysparmvalue
  FROM smtparameters
  WHERE SYSPARMCODE='VALUE_DATE'
  ) PROCESSDATE,
  NULL SEGMENT,
  'N' PROCESSED_FLAG
FROM Finpftdetails t1
INNER JOIN financemain t2
ON t1.finreference=t2.finreference
INNER JOIN RMTFINANCETYPES T3
ON T3.fintype=T1.fintype
]]>
</createView>
</changeSet>
<changeSet id="92" author="Jayant">
	<createView viewName="DM_LOANWISE_CHARGE_DTLS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select 
substr(T1.FinReference,7,length(T1.FinReference))  AGREEMENTID,
null TXNADVICEID,
null CHARGEID,
null CHARGECODEID,null CHARGEDESC,
null CHARGEAMT,null STATUS,
null AMTINPROCESS,
null TXNADJUSTEDAMT,
null ADVICEAMT,'' ADVICEDATE,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE')  PROCESSDATE,
'N' PROCESSED_FLAG,'' SEGMENT,null BATCH_ID
from Finpftdetails t1
inner join financemain t2 on t1.finreference=t2.finreference
]]>
</createView>
</changeSet>
<changeSet id="93" author="Jayant">
	<createView viewName="DM_LOANWISE_REPAYSCHEDULE_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select T1.FinReference AGREEMENTNO,
substr(T1.FinReference,7,length(T1.FinReference)) AGREEMENTID,
null PROPINSTLID,t2.InstNumber EMI_NO,t2.SchDate DUEDATE,
t2.BalanceForPftCal OPENING_PRINCIPAL,
t2.RepayAmount INSTALMENT_AMT,
t2.PrincipalSchd PRINCIPAL_AMT,
t2.ProfitSchd INTEREST_AMT,
t2.ClosingBalance CLOSING_PRINCIPAL,t2.SchdMethod INSTAL_TYPE,
null TOTAL_AMOUNT_DUE,
null DROPLINE_LIMIT,
null ACT_AVAILABLE_LIMIT,
null ACT_UTILISATION_LIMIT,case when BPIOrHoliday='H' then 'Y' else 'N' end EMI_HOLIDAY,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  BUSINESSDATE
from financemain t1
inner join FinScheduleDetails t2 on t1.finreference=t2.finreference
]]>
</createView>
</changeSet>
<changeSet id="94" author="Jayant">
	<createView viewName="DM_BOUNCE_DETAILS_VIEW" replaceIfExists="true"> 
<![CDATA[  
  select
cast(T2.Applicationno as numeric(8,0)) APPLID,
cast(null as numeric(32,0)) CHEQUEID,t1.finreference AGREEMENTNO,'' BOUNCE_DATE,'' BOUNCE_REASON,
cast(null as numeric(16,2)) BOUNCE_AMT,(select SysParmValue  from SMTparameters where SysParmCode = 'APP_NEXT_BUS_DATE') BUSINESSDATE,'N' PROCESSED_FLAG,'' PROCESS_DATE,'' SEGMENTS,
cast(null as numeric(16,2)) BUSINESS_YEAR,'' CHEQUEDATE
from finpftdetails T1
inner join FinanceMain T2 on t1.finreference=t2.finreference
	]]>
</createView>
</changeSet>
<changeSet id="111" author="Jayant">
		<createView viewName="DM_DISB_DETAILS_DAILY_VIEW" replaceIfExists="true">
<![CDATA[  
			select  T2.FinApprovedDate AGREEMENTDATE,substr(T2.FinReference,7,length(T2.FinReference)) APPLID,T2.FinReference AGREEMENTNO,
          T3.DisbSeq DISBURSEMENTNO,T3.DisbDate DISBURSEMENTDATE,null PARENT_AGREEMENTNO,
          t2.FinAmount/ccyminorccyunits AMTFIN,(t2.FinAmount - t2.DownPayment + t2.FeeChargeAmt)/ccyminorccyunits NET_AMTFIN,
          T7.DisbAmount/ccyminorccyunits DISBURSEDAMT,'' DISB_STATUS,
          T1.FirstRepayDate FIRST_DUE_DATE,round(MONTHS_BETWEEN( T2.MaturityDate,T2.FinStartDate)) GROSS_TENURE,Null NET_TENURE,
          T2.MaturityDate MATURITYDATE,T2.LastRepayDate EXPIRYDATE,null NO_OF_ADV_INSTL,
          null ADV_EMI_AMT,T2.FirstRepay EMI,T2.FinRepayMethod REPAYMENT_MODE,
          T2.FinType PRODUCTFLAG,null PROMOTIONID,null ICICI_LOMBARD,
          null BAGIC,null BALIC_CHARGES,
          (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
          'N' PROCESSED_FLAG,
          (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
          null SEGMENTS,null FEE,null DEALER_SUBV,null MANU_SUBV_DED,null MANU_SUBV_NDED,null PREEMI,
          null EXISTING_LANNO,null MORTGAGE_FEE,null COMMITMENT_FEE,null PROCESSING_FEE,
          null PRE_EMI_RECEIVABLE,null INSURANCE,
          T2.FinRepayMethod PAYMENTMODE,
          substr(T2.REPAYFRQ,1,1) FREQ,
          '' CHEQUENUM,'' CUST_ACCT_NO,T5.BankName BANKNAME,t6.micr MICRCODE,null BUSINESS_YEAR,
          null EMI_CHARGE,null PDC_CHARGE,CASE WHEN t2.EffectiveRateOfReturn>999 then 999 else t2.EffectiveRateOfReturn end IRR_PER,null FEE_WL,
          null ELC_CHARGE,null CREDIT_VIDYA_FEES,null BATCH_ID 
from FinanceMain T2 
Inner join FINPFTDETAILS T1 on T1.FinReference=T2.FinReference
Inner join FinDisbursementDetails T3 on T3.FinReference=T2.FinReference
Inner join rmtfinancetypes T4 on T4.FinType=T2.FinType
inner join RMTCURRENCIES rc on rc.ccycode = T2.finccy
left join bankbranches T6 on T6.Branchcode=T2.finbranch 
LEFT JOIN BMTBANKDetail T5 on t5.bankcode=t6.bankcode
left join (Select Finreference,SUM(DisbAmount) DisbAmount
          from FinDisbursementDetails
          where DIsbDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')
          group by Finreference)T7 on t7.FinReference=T2.FinReference
left join (Select Finreference,SUM(BalanceAmt)BalanceAmt From FINEXCESSAMOUNT 
          where AMOUNTTYPE = 'A' group by Finreference)T8 on T8.FinReference=T2.FinReference
		]]>
</createView>
</changeSet>

<changeSet id="112" author="Jayant">
		<createView viewName="DM_LOAN_DETAILS_DAILY_VIEW" replaceIfExists="true">
<![CDATA[  
			select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,t1.finreference AGREEMENTNO,t3.CustID CUSTOMERID,
  null CUSTOMER_YIELD,
  Case when t1.finisactive =1 then 'Active' when t1.CLOSINGSTATUS='C' 
  then 'Cancelled' else 'Closed' end STATUS,T4.NPAbucketid NPA_STAGE,null LMS_BUCKET,
  null COLL_BUCKET,null INSURANCE_APPLIED_FLG,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
  'N' PROCESSED_FLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') PROCESS_DATE,
  'LMS-DII' SEGMENTS,null CLOSUREDATE,
  null TOPUP_AMT,null BUSINESS_YEAR,null PDCID,null PCFLAG,null OD_FLAG,
  T1.RepayMargin MARGIN,null SPECIALMARGIN,null FIXEDTENOR,
  Null CEEFFECTIVEDATE,null EFF_RATE,null PLRRATE,null PARTY_CODE,
  NULL PARTY_NAME,NULL ZONE,NULL COLLECTION_CENTRE,null VIRTUAL_ACCOUNT_NUMBER,
  null INSTALLMENT_TYPE,null COMPANYTYPE,
  T1.TotalProfit/ccyminorccyunits FIANANCE_CHARGES,T1.ApplicationNo FILENO,null NO_OF_PDCS,
  null LIFEINSURANCE,t6.RemainingFee/ccyminorccyunits SHORTRECEIVED,t3.CustShrtName IN_FAVOUR_OFF,null MKTGID,  
  t7.BalanceAmt/ccyminorccyunits PRE_EMI_INT_500071,null LOAN_PURPOSE_DTL,null LOAN_PURPOSE_DESC,
  t8.RemainingFee_tot/ccyminorccyunits LOGIN_FEES,null VC_REFERRAL_CD,null  VC_REFERRAL_NAME,
  null PROC_FEES2,t1.FinRepayMethod  INSTRUMENT_TYPE,null LAN_BARCODE,T1.FinStartDate  INTSTART_DATE_REGULAR,
  t1.BPIAmount/ccyminorccyunits BPI_RECEIVABLE,null BPI_PAYABLE,null OPEN_FACILITY_FLAG,null BATCH_ID 
  from FinanceMain T1
  Inner join finpftdetails T2 on t1.finreference=t2.finreference
  Inner join RMTCURRENCIES rc on rc.ccycode = T2.finccy
  Inner join customers T3 on T3.Custid=t1.custid
  left join Finprovisions T4 on T4.finreference=t1.finreference
  left join (Select t1.finreference , SUM(RemainingFee)RemainingFee From Finfeedetail T1
  WHERE FeeScheduleMethod = 'DISB'
  group by t1.finreference) T6 on T1.finreference=t6.finreference
  left join (Select t1.finreference , SUM(BalanceAmt)BalanceAmt From FinExcessAmount T1
  WHERE AmountType = 'A' 
  group by t1.finreference) T7 on T1.finreference=t7.finreference
  left join (Select t1.finreference , SUM(RemainingFee)RemainingFee_tot From Finfeedetail T1
  group by t1.finreference) T8 on T1.finreference=t8.finreference
		]]>
</createView>
</changeSet>

<changeSet id="113" author="Jayant">
		<createView viewName="DM_APPLICANT_DETAILS_VIEW" replaceIfExists="true">
<![CDATA[  
			select t1.custid CUSTOMERID,null CUST_TYPE,t1.CustCRCPR PANNO,
  CustAddrhnbr ADDRESS1,t2.CustFlatNBr ADDRESS2,CustAddrStreet ADDRESS3,CustAddrLine1 ADDRESS4,CustAddrCity CITY,CustAddrProvince STATE,CustAddrCountry COUNTRY,
CustAddrZip ZIPCODE,CustAddrType ADDRESSTYPE,CustEmail EMAIL,T41.phonenumber PHONE1,T42.phonenumber PHONE2,
T4.phonenumber MOBILE,T5.phonenumber FAX,null EXISTING_CUST_FLAG,null INDIV_CORP_FLAG,
round(MONTHS_BETWEEN( T1.CUSTDOB,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'))/12) AGE,
CustDOB DOB,custfname FNAME,custmname MNAME,custlname LNAME,genderdesc GENDER,CustMaritalSts MARITAL_STATUS,NoOfDependents NO_OF_DEPENDENT,
round(MONTHS_BETWEEN( (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'),T7.CUSTEMPFROM)/12) YEARS_CURRENT_JOB,
null YEARS_PREV_JOB,
null QUALIFICATION,null RESIDENCETYPE,null YEARS_CURR_RESI,null EMPLOYER_DESC,
null COMPANY_TYPE,null INDUSTRYID,null NATURE_OF_BUSINESS,
t7.custEMPType EMPLOYMENT_TYPE,t7.custEMPDesg EMPDESG,null OCCUPATION,
t1.CustTotalIncome/ccyminorccyunits ANNUAL_INCOME,null GUARDIAN,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
'N' PROCESSED_FLAG,null PROCESS_DATE,null SEGMENTS,
CustShrtName CUSTOMERNAME,null CONTACT_PERSON_NAME,null CONSTITUTION,null CUST_BANK_NAME,null CUST_BANK_BRANCH,
null EMI_CARD_LIMIT,null EMI_CARD_ACCEPT_FLAG,null EMI_CARD_SWIPE_FLAG,null EMI_CARD_ELIG,null EMI_CARD_NO,null BANK_ECS_MANDATE,null OPEN_ECS_AVLB,
null OPEN_ECS_DATE,null BUSINESS_YEAR,custsalutationcode TITLE,CUSTEMPNAME COMP_NAME,
null  YEARS_CURR_JOB,
null GRADE,null FAMILY_CODE,null MINOR,null GUARDIAN_NEW,
null UCIN_NO,null PREFERRED_ELIGIBILITY,null PREFERRED_CARD_ACCEPTANCE,null PREFERRED_CARD_LIMIT,null CUST_BRANCHID,null BATCH_ID 
from customers T1 
inner join RMTCURRENCIES rc on rc.ccycode = T1.CustBaseCcy
left join CustomerAddresses t2 on t1.custid=t2.custid and CUSTADDRPRIORITY=5
left join CustomerEMails T3 on T3.custid=T1.custid and CustemailPriority=5
left join CustomerPhoneNumbers T41 on T41.phonecustid=T1.custid and t41.PHONETYPEPRIORITY=5
left join CustomerPhoneNumbers T42 on T42.phonecustid=T1.custid and t42.PHONETYPEPRIORITY=4
left join CustomerPhoneNumbers T4 on T4.phonecustid=T1.custid and T4.phonetypecode ='MOBILE'
left join CustomerPhoneNumbers T5 on T5.phonecustid=T1.custid and T5.phonetypecode= 'FAX'
left join BMTGenders T6 on t6.gendercode=t1.custgendercode
left join CustomerEmpDetails t7 on t7.custid = t1.custid and CurrentEmployer=1
		]]>
</createView>
</changeSet>

<changeSet id="114" author="Jayant">
		<createView viewName="DM_APPLICATION_DETAILS_VIEW" replaceIfExists="true">
<![CDATA[  
			select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,null CRM_DEALID,null CRSCOREDATE,
         null CIBILSCORE,null APPSCORE,null BEHSCORE,null DEVIATION_TYPE,null DEVIATION_FLAG,
         null DEVIATION_CODE,null DEVIATION_NAME,null REQ_TENURE,null REQ_LOAN_AMT,
         null LOAN_LIMIT,T1.TOTALPRISCHD/ccyminorccyunits APPROVE_LOAN_AMT,null LOAN_PURPOSE,
         t1.FinType LOAN_TYPE,Case when t1.closingstatus='C' then t2.LastMntOn else null end CANCELLATIONDATE,
         null CANCEL_REASON,substr(T2.REPAYFRQ,1,1) FREQUENCY,t1.FinApprovedDate LOAN_APPROVAL_DATE,
         t2.FINCONTRACTDATE AGREEMENTDATE,CASE WHEN t2.EffectiveRateOfReturn>999 then 999 else t2.EffectiveRateOfReturn end INTRATE,
         CASE WHEN t2.EffectiveRateOfReturn>999 then 999 else t2.EffectiveRateOfReturn end FLAT_RATE,
         null IRR,null GROSS_LTV,null NET_LTV,null COF,
         null DEBT_BURDEN_RATIO,null FOIR_DB,null SCHEMEID,null SCHEMEDESC,null SCHEMEGROUPID,
         null SCHEME_GROUPG_DESC,null PRODUCT_CATEGORY,t1.FinCategory PROD_TYPE,
         null PROMOTIONID,null PROGRAMID,null SURROGATE_FLAG,null SOURCING_CHANNEL_TYPE,
         null SOURCING_CHANNEL_NAME,null REFERAL_GROUP,null REFERAL_NAME,
         null COUNTRYID,null COUNTRY,null REGIONID,null REGION,null STATEID,
         null STATE,null CITYID,null CITY,t1.finbranch BRANCHID,BranchDesc BRANCHDESC,
         null BROKER_NAME,null DME_NAME,null ASM_NAME,null RSM_NAME,
         null CRDT_MGR_NAME,null ROID_NAME,
         null TLID_NAME,null BMID_NAME,null COID_NAME,null SUPPLIERID,
         null DLR_PARTICIPATION_RATE,null LOCAL_OUTSTATION_FLG,t1.custid CUSTOMERID,
        (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')BUSINESSDATE,
        'N' PROCESSED_FLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
        t1.fintype PRODUCT,null SEGMENTS,null CRM_STATUS,null LOGINDATE,t1.FinApprovedDate APPR_REJ_DATE,
        Case when t1.closingstatus='C' then t2.LastMntOn else null end CANCEL_DATE,
        null FILE_STATUS,null FILE_HOLD_REASON,null QDPDONE,null ISHOLD,null BRANCH_INW_DATE,
        null BRANCH_HOLD_DATE,null CPU_INW_DATE,null CPU_HOLD_DATE,null SYSTEM_HOLD,null PSL_FLAG,
        null DOC_WAVE_FLAG,null CUSTOMER_SWIPE,null CUSTOMER_ACCEPTANCE,null KYC_DOC_TYPE,
        null KYC_DOC_ID,null BUSINESS_IRR,null INSPECTORNAME,null REGNUMBER,
        null BUSINESS_YEAR,null DEALID,null PRETAXIRR,null ODM_FLAG,null DI_DATE,
        null LAA_QDP_FLAG,null PREFERRED_CARD_ACCEPTANCE,
        null ORIG_AMTFIN,null ELC_FLAG,null ELC_LIMIT,null QDP_DONE_DATE,
        null LAA_DECENTRALIZED_FLAG,null FCU_FLAG,
        null MKTGID,null DM_MPID,null SWIPE_CARD_CODE,null SOURCE_CARD_CODE,
        null DII_USER_ID,null QDP_CHEQUE_ISSUE,null INTEREST_TYPE,
        null DII_DONE_DATE,null FINISH_DATE,null BATCH_ID 
from finpftdetails T1
Inner join FinanceMain T2 on T1.finreference=T2.finreference
inner join RMTCURRENCIES rc on rc.ccycode = T2.finccy
inner join RMTBranches T3 on T3.branchcode=t1.finbranch
		]]>
</createView>
</changeSet>

<changeSet id="115" author="Jayant">
		<createView viewName="DM_COAPPLICANT_DTLS_VIEW" replaceIfExists="true">
<![CDATA[  
			select t1.custid CUSTOMERID,t.APPLICANT_TYPE APPLICANT_TYPE,t1.CustCRCPR PAN_NO,
NULL CUST_RELATION,t1.custctgcode CUST_TYPE,
round(MONTHS_BETWEEN((Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'), T1.CUSTDOB)/12) AGE,
CustDOB DOB,CustFName FNAME,CustMName MNAME,CustLName LNAME,
GenderCode GENDER,CustMaritalSts MARITAL_STATUS,NoOfDependents NO_OF_DEPENDENT,
round(MONTHS_BETWEEN( (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'),T7.CUSTEMPFROM)/12)  YRS_CURRENTJOB,
NULL PREVIOUS_JOB_YEAR,null QUALIFICATION,null EMPLOYER_DESC,
null COMPANY_TYPE,t1.custindustry INDUSTRYID,t1.CustSector BUSINESS_NATURE,
null OCCUPATION_CODE,null GUARDIAN,'N' PROCESS_FLAG,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
custEMPType EMP_TYPE,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
CustTotalIncome/ccyminorccyunits INCOME,APPLID APPLID,NULL BATCH_ID 
from customers T1 
inner join RMTCURRENCIES rc on rc.ccycode = T1.CUSTBASECCY inner join 
(Select distinct 'Co Applicant' APPLICANT_TYPE,CUSTCIF,substr(FinReference,7,length(FinReference)) APPLID from FinJointAccountDetails union
Select distinct 'Guaranteer' APPLICANT_TYPE,Guarantorcif,substr(FinReference,7,length(FinReference)) APPLID from FinGuarantorsDetails) t on t.CUSTCIF =t1.CUSTCIF
Left join bmtgenders t2 on t2.gendercode=t1.custgendercode
left join RMTCustTypes T3 on T3.custtypecode=t1.custtypecode
left join CustomerEmpDetails t7 on t7.custid = t1.custid and CurrentEmployer=1
		]]>
</createView>
</changeSet>
<changeSet id="116" author="Jayant">
		<createView viewName="DM_SUBQ_DISB_DETAILS_VIEW" replaceIfExists="true">
<![CDATA[  
			select T2.FinApprovedDate AGREEMENTDATE,substr(T2.FinReference,7,length(T2.FinReference)) APPLID,
  T2.FinReference AGREEMENTNO,T3.DisbSeq DISBURSEMENTNO,T3.DisbDate DISBURSEMENTDATE,
  null PARENT_AGREEMENTNO,T2.FinAmount/ccyminorccyunits AMTFIN, Null NET_AMTFIN,T3.DisbAmount/ccyminorccyunits DISBURSEDAMT,
  T3.DisbisActive DISB_STATUS,T1.FirstRepayDate FIRST_DUE_DATE,NULL GROSS_TENURE,
  null NET_TENURE,t2.MaturityDate MATURITYDATE,t2.MaturityDate EXPIRYDATE,null NO_OF_ADV_INSTL,  
  NULL ADV_EMI_AMT,t2.FirstRepay EMI,t2.FinRepayMethod REPAYMENT_MODE,
  T2.FinType PRODUCTFLAG,NULL PROMOTIONID,
  null  ICICI_LOMBARD,null  BAGIC,null  BALIC_CHARGES,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
  'N' PROCESSED_FLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,null SEGMENTS,
  null  FEE,null  DEALER_SUBV,null  MANU_SUBV_DED,null  MANU_SUBV_NDED,
  null  PREEMI,null EXISTING_LANNO,null MORTGAGE_FEE,null COMMITMENT_FEE,
  null PROCESSING_FEE,null PRE_EMI_RECEIVABLE,
  null INSURANCE,null PAYMENTMODE,substr(T2.REPAYFRQ,1,1) FREQ,null CHEQUENUM,null BATCH_ID
from  finpftdetails T1
Inner join Financemain T2 on T1.finreference=T2.finreference
inner join RMTCURRENCIES rc on rc.ccycode = T2.finccy
Inner join FinDisbursementDetails T3 on T3.finreference=t1.finreference
		]]>
</createView>
</changeSet>
<changeSet id="117" author="Jayant">
		<createView viewName="DM_WRITEOFF_DETAILS_VIEW" replaceIfExists="true">
<![CDATA[  
			select substr(T2.FinReference,7,length(T2.FinReference)) APPLID,
         t2.finreference AGREEMENTNO,WriteoffDate CHARGEOFF_DT,null CHARGEOFF_FLG,
         t1.Remarks CHARGEOFF_REASON,null SETTLEMENT_LOSS,
         (WriteoffPrincipal+WriteoffProfit)/ccyminorccyunits GROSS_WRITEOFF_AMT,
         (WriteoffPrincipal+WriteoffProfit)/ccyminorccyunits NET_WRITEOFF_AMT,
           (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
         'N' PROCESSED_FLAG,null PROCESS_DATE,null SEGMENTS,
          null RECEIPT_ON_CHARGEOFF,null BUSINESS_YEAR
  from FinWriteoffDetail T1
  inner join financemain t2 on t1.finreference=t2.finreference
  inner join RMTCURRENCIES rc on rc.ccycode = T2.finccy
		]]>
</createView>
</changeSet>
<changeSet id="118" author="Jayant">
		<createView viewName="DM_IVR_GATEWAY_FLEXI_VIEW" replaceIfExists="true">
<![CDATA[  
			select T1.Finreference AGREEMENTNO,
        null DROP_LINE_LIMIT,null AMOUNT_DRAWN_LIMIT,
        null UTLIZED_BALANCE_LIMIT,T2.SchdPriPaid/ccyminorccyunits PRINCIPLE_AMOUNT_PAID,
        (T1.TotalPriSchd-T2.PrincipalSchd)/ccyminorccyunits BALANCE_PRINCIPAL_OUTSTANDING,
        (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
       (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,null BATCH_ID 
from finpftdetails T1
inner join RMTCURRENCIES rc on rc.ccycode = T1.finccy
Inner join (select finreference,sum(SchdPriPaid)SchdPriPaid,sum(PrincipalSchd)PrincipalSchd from FinScheduleDetails T2 
where schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')
group by finreference) T2 on T1.finreference=T2.finreference
		]]>
</createView>
</changeSet>
<changeSet id="119" author="Jayant">
		<createView viewName="DM_RESCH_DETAILS_DAILY_VIEW" replaceIfExists="true">
<![CDATA[  
			select substr(T2.FinReference,7,length(T2.FinReference)) APPLID,t2.finreference AGREEMENTNO,
         cASE WHEN FinAssetvalue - FinCurrAssetValue > 0 THEN 'Partially Disbursed' ELSE 'Fully Disbursed' END DISB_STATUS,
         NULL GROSS_TENURE,null NET_TENURE,t2.MaturityDate MATURITYDATE,t2.LastRepayDate EXPIRYDATE,
         T1.FirstRepayAmt/ccyminorccyunits EMI,t2.FinRepayMethod REPAYMENT_MODE,T1.fintype PRODUCTFLAG,
         (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,'N' PROCESSED_FLAG,
         (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
         NULL SEGMENTS,substr(t2.REPAYFRQ,1,1) FREQ,
         Case when t1.finisactive =1 then 'Active' when t1.CLOSINGSTATUS='C' 
         then 'Cancelled' else 'Closed' end LOAN_STATUS,t1.MaturityDate CLOSUREDATE,
         t1.CUSTCIF CUST_ACCT_NO,
         T7.bankname BANKNAME,T6.micr MICRCODE,t6.Branchdesc CUST_BANK_BRANCH,
        T8.PCCITYNAME  CUST_BANK_CITY,null BUSINESS_YEAR,
        t3.Mandateid PDCID,null PCFLAG,null TIE_UP,
        CASE WHEN RepayMargin>999 then 999 else RepayMargin end MARGIN,null SPECIALMARGIN,
        t2.NumberofTerms FIXEDTENOR,null CEEFFECTIVEDATE,
        null EFF_RATE,null PLRRATE,
        null TIE_UP_WITH,null DATE_OF_CLOSURE,null PDCMS_SEQ_GENERATED_DATE,
        null INSTRUMENT_DATA_ENTRY_DATE,null PAYMENT_AUTHORIZATION_DATE
from finpftdetails T1
inner join Financemain T2 on t1.finreference=t2.finreference
inner join RMTCURRENCIES rc on rc.ccycode = T2.finccy
INNER JOIN mandates t3 on t3.ORGReference = t2.finreference
inner join BankBranches T6 on T6.BankBranchid=t3.BankBranchid 
inner join BMTBankDetail T7 on T7.Bankcode=t6.bankcode
left join RMTPROVINCEVSCITY T8 on T8.PCCITY = T6.CITY
		]]>
</createView>
</changeSet>
<changeSet id="120" author="Jayant">
		<createView viewName="DM_PRESENTATION_DETAILS_VIEW" replaceIfExists="true">
<![CDATA[  
			select t1.finreference AGREEMENTNO,
  FirstRepayAmt/ccyminorccyunits EMI,FirstRepayAmt/ccyminorccyunits REPAY_TYPE,null DEPOSITED_DATE,null CREDIT_STATUS,null RETURN_CODE,null RETURN_REASON,null REMARKS,
  null SEGMENTS,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESSDATE,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
  calTerms EMI_NO,t7.bankname CUSTOMER_BANK_NAME,
  null BOM_BOUNCE_BUCKET,t6.micr MICR_CODE,null STATUS_UPDT_DATE,t3.ACCNUMBER CUST_BANK_AC_NO,t6.Branchdesc CUSTOMER_BANK_BRANCH,
  null CHEQUESNO,null CHEQUEDATE,null FEMI_FLAG,null HOLD_IGNORE_CODE,null HOLD_IGNORE_REASON,null DEST_ACC_HOLDER,
  t3.Mandateid PDCID,  t6.bankcode BBRANCHID
  from Finpftdetails t1
  inner join financemain t2 on t1.finreference=t2.finreference
  inner join RMTCURRENCIES rc on rc.ccycode = T2.finccy
 INNER JOIN mandates t3 on t3.ORGReference = t2.finreference
inner join BankBranches T6 on T6.BankBranchid=t3.BankBranchid 
inner join BMTBankDetail T7 on T7.Bankcode=t6.bankcode
		]]>
</createView>
</changeSet>
<changeSet id="121" author="Jayant">
		<createView viewName="FORECLOSURECHARGES_VIEW" replaceIfExists="true">
<![CDATA[  
			select 
substr(T1.FinReference,7,length(T1.FinReference)) AGREEMENTID,t3.PriAmount/ccyminorccyunits BAL_PRINCIPAL,null RESEDUL_VALUE,null INSTALLMENTS,
null ADVICES,null PENALTY,t4.PftAmount/ccyminorccyunits INTREST_ON_TERMINATION,null FLOATINTREST_ON_TERMINATION,
null OVER_DUES,null CURRENT_OVERDUES,null CURRENT_WAVEOFFAMT,null OVER_DISTANCE_CHARGES,
null INTREST_ON_TERMINATION_PER_DAY,null INTREST_ACCRUALS,null EXCESS_AMOUNT,null EXCESS_REFUND,
null ADVICE,null REBATE,null ADVINSTL,null EXCESSPRINPMNT,null SDAMT,
null SDINT,null EXCESS_INTREST_RATE,null VAT_ON_FORECLOSURE,null UNDER_DISTANCE_CHARGES,
null NET_PAYBALE,t5.TotalFeeAmount/ccyminorccyunits WAIVEOFFAMOUNT,null ACTIVITY,null AUTHORIZEDON,null COMMITMENT_FEE,null ORIGINATION_FEE,
null PRE_EMI,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESS_DATE,
null CHEQUEID,null STATUS,null INTEREST_WAIVE_OFF,null BALANCE_PRIN_WAIVE_OFF,
t6.LPFTWaivedAmount/ccyminorccyunits INSTALLMET_INT_WAIVE_OFF,t7.PFTWaivedAmount/ccyminorccyunits WOFF_CURRMONTH_INT,t8.ODCWaivedAmount/ccyminorccyunits WOFF_OVERDUE_CHARGE,null WOFF_CHQBOUNCE_CHARGES,
null WOFF_OTHERS,null INSTALLMENT_PRIN_WAIVE_OFF,null WOFF_PARKING_CHARGES,null TOT_OTHER_REPO_CHARGES,
null WOFF_OTHER_REPO_CHARGES,null TOT_REPOSESSION_CHARGES,null WOFF_REPOSESSION_CHARGES,null TOT_PARKING_CHARGES
from Finpftdetails t1
inner join financemain t2 on t1.finreference=t2.finreference
inner join RMTCURRENCIES rc on rc.ccycode = T2.finccy
left join (select finreference,sum(PriAmount)PriAmount from FinRepayHeader where FinEvent = 'EarlySettlement' group by finreference) t3 on  t3.finreference=t2.finreference  
left join (select finreference,sum(PftAmount)PftAmount from FinRepayHeader where FinEvent = 'EarlySettlement' group by finreference) t4 on  t4.finreference=t2.finreference  
left join (select reference,receiptid,sum(TotFeeAmount)TotalFeeAmount from FinReceiptHeader where receiptpurpose = 'EarlySettlement' group by reference,receiptid) t5 on  t5.reference=t2.finreference  
left join (select receiptid,sum(WaivedAmount)LPFTWaivedAmount from ReceiptAllocationDetail where allocationType = 'LPFT' group by receiptid) t6 on  t6.receiptid=t5.receiptid  
left join (select receiptid,sum(WaivedAmount)PFTWaivedAmount from ReceiptAllocationDetail where allocationType = 'PFT' group by receiptid) t7 on  t7.receiptid=t5.receiptid  
left join (select receiptid,sum(WaivedAmount)ODCWaivedAmount from ReceiptAllocationDetail where allocationType = 'ODC' group by receiptid) t8 on  t8.receiptid=t5.receiptid
		]]>
</createView>
</changeSet>
<changeSet id="122" author="Jayant">
		<createView viewName="DM_HTS_UNADJUSTED_AMT_VIEW" replaceIfExists="true">
<![CDATA[  
			select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,
BalanceAmt/ccyminorccyunits UNADJUSTED_AMOUNT,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE
from financemain T1 
inner join RMTCURRENCIES rc on rc.ccycode = T1.finccy
inner join (Select FinReference,sum(BalanceAmt)BalanceAmt from FINEXCESSAMOUNT
group by FinReference)t2 on t1.FinReference =t2.FinReference
		]]>
</createView>
</changeSet>
<changeSet id="123" author="Jayant">
		<createView viewName="DM_SEND_SOA_EMAIL_VIEW" replaceIfExists="true">
<![CDATA[  
			select T1.Finreference AGREEMENTNO,t1.custid CUSTOMERID,t4.CustEmail EMAILID,
  substr(T2.FinReference,7,length(T2.FinReference)) AGREEMENTID,
  substr(T2.FinReference,7,length(T2.FinReference))PROCESSID,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  GENERATION_DATE,
  null PROCESSED,t1.fintype PRODUCTFLAG,null GROUPID,
  T5.ActiveCnt+T6.CloseCnt TOTAL_LAN,
  T6.CloseCnt TOTAL_CLOSED_LAN,
  T5.ActiveCnt TOTAL_ACTIVE_LAN,null SWIPE_FLAG,null EMI_CARD_NO,
  T1.latestDisbDate DISBURSEMENT_DATE,
  null SUPPLIERID,null SUPPLIERDESC,
  TotalPriSchd/ccyminorccyunits AMT_FIN,FirstRepayAmt/ccyminorccyunits EMI,NextRepayDate NEXT_EMI_DUE_DATE,
  null CHEQUE_BOUNCE_CHARGE
from Finpftdetails t1
inner join financemain t2 on t1.finreference=t2.finreference
inner join RMTCURRENCIES rc on rc.ccycode = T2.finccy
Inner join customers T3 on T3.custid=T1.custid
left join CustomerEMails T4 on T4.custid=T3.custid and custEmailPriority=5
Left join (Select CustID,COUNT(*)ActiveCnt from FinPftDetails
		where (FinIsActive=1) group by CustID)T5 ON T1.CustID =T5.CustID  
Left join (Select CustID,COUNT(*)CloseCnt from FinPftDetails
		where (FinIsActive!=1)group by CustID)T6 ON T1.CustID =T6.CustID
		]]>
</createView>
</changeSet>
<changeSet id="124" author="Jayant">
		<createView viewName="DM_LOANWISE_REPAYSCHEDULE_VIEW" replaceIfExists="true">
<![CDATA[  
			select T1.FinReference AGREEMENTNO,
substr(T1.FinReference,7,length(T1.FinReference)) AGREEMENTID,
null PROPINSTLID,t2.InstNumber EMI_NO,t2.SchDate DUEDATE,
t2.BalanceForPftCal/ccyminorccyunits OPENING_PRINCIPAL,
t2.RepayAmount/ccyminorccyunits INSTALMENT_AMT,
t2.PrincipalSchd/ccyminorccyunits PRINCIPAL_AMT,
t2.ProfitSchd/ccyminorccyunits INTEREST_AMT,
t2.ClosingBalance/ccyminorccyunits CLOSING_PRINCIPAL,t2.SchdMethod INSTAL_TYPE,
null TOTAL_AMOUNT_DUE,
null DROPLINE_LIMIT,
null ACT_AVAILABLE_LIMIT,
null ACT_UTILISATION_LIMIT,case when BPIOrHoliday='H' then 'Y' else 'N' end EMI_HOLIDAY,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  BUSINESSDATE
from financemain t1
inner join FinScheduleDetails t2 on t1.finreference=t2.finreference
inner join RMTCURRENCIES rc on rc.ccycode = T1.finccy
		]]>
</createView>
</changeSet>
<changeSet id="125" author="Jayant">
		<createView viewName="DM_DISB_DETAILS_DAILY_VIEW" replaceIfExists="true">
<![CDATA[  
			select  T2.FinApprovedDate AGREEMENTDATE,substr(T2.FinReference,7,length(T2.FinReference)) APPLID,T2.FinReference AGREEMENTNO,
          T3.DisbSeq DISBURSEMENTNO,T3.DisbDate DISBURSEMENTDATE,null PARENT_AGREEMENTNO,
          udf_convertcurrency(t2.FinAmount,T2.finccy,'INR')  AMTFIN,udf_convertcurrency((t2.FinAmount - t2.DownPayment + t2.FeeChargeAmt),T2.finccy,'INR')  NET_AMTFIN,
          udf_convertcurrency(T7.DisbAmount,T2.finccy,'INR')  DISBURSEDAMT,'' DISB_STATUS,
          T1.FirstRepayDate FIRST_DUE_DATE,round(MONTHS_BETWEEN( T2.MaturityDate,T2.FinStartDate)) GROSS_TENURE,Null NET_TENURE,
          T2.MaturityDate MATURITYDATE,T2.LastRepayDate EXPIRYDATE,null NO_OF_ADV_INSTL,
          null ADV_EMI_AMT,T2.FirstRepay EMI,T2.FinRepayMethod REPAYMENT_MODE,
          T2.FinType PRODUCTFLAG,null PROMOTIONID,null ICICI_LOMBARD,
          null BAGIC,null BALIC_CHARGES,
          (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
          'N' PROCESSED_FLAG,
          (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
          null SEGMENTS,null FEE,null DEALER_SUBV,null MANU_SUBV_DED,null MANU_SUBV_NDED,null PREEMI,
          null EXISTING_LANNO,null MORTGAGE_FEE,null COMMITMENT_FEE,null PROCESSING_FEE,
          null PRE_EMI_RECEIVABLE,null INSURANCE,
          T2.FinRepayMethod PAYMENTMODE,
          substr(T2.REPAYFRQ,1,1) FREQ,
          '' CHEQUENUM,'' CUST_ACCT_NO,T5.BankName BANKNAME,t6.micr MICRCODE,null BUSINESS_YEAR,
          null EMI_CHARGE,null PDC_CHARGE,CASE WHEN t2.EffectiveRateOfReturn>999 then 999 else t2.EffectiveRateOfReturn end IRR_PER,null FEE_WL,
          null ELC_CHARGE,null CREDIT_VIDYA_FEES,null BATCH_ID 
from FinanceMain T2 
Inner join FINPFTDETAILS T1 on T1.FinReference=T2.FinReference
Inner join FinDisbursementDetails T3 on T3.FinReference=T2.FinReference
Inner join rmtfinancetypes T4 on T4.FinType=T2.FinType
left join bankbranches T6 on T6.Branchcode=T2.finbranch 
LEFT JOIN BMTBANKDetail T5 on t5.bankcode=t6.bankcode
left join (Select Finreference,SUM(DisbAmount) DisbAmount
          from FinDisbursementDetails
          where DIsbDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')
          group by Finreference)T7 on t7.FinReference=T2.FinReference
left join (Select Finreference,SUM(BalanceAmt)BalanceAmt From FINEXCESSAMOUNT 
          where AMOUNTTYPE = 'A' group by Finreference)T8 on T8.FinReference=T2.FinReference
		]]>
</createView>
</changeSet>

<changeSet id="126" author="Jayant">
		<createView viewName="DM_LOAN_DETAILS_DAILY_VIEW" replaceIfExists="true">
<![CDATA[  
			select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,t1.finreference AGREEMENTNO,t3.CustID CUSTOMERID,
  null CUSTOMER_YIELD,
  Case when t1.finisactive =1 then 'Active' when t1.CLOSINGSTATUS='C' 
  then 'Cancelled' else 'Closed' end STATUS,T4.NPAbucketid NPA_STAGE,null LMS_BUCKET,
  null COLL_BUCKET,null INSURANCE_APPLIED_FLG,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
  'N' PROCESSED_FLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') PROCESS_DATE,
  'LMS-DII' SEGMENTS,null CLOSUREDATE,
  null TOPUP_AMT,null BUSINESS_YEAR,null PDCID,null PCFLAG,null OD_FLAG,
  T1.RepayMargin MARGIN,null SPECIALMARGIN,null FIXEDTENOR,
  Null CEEFFECTIVEDATE,null EFF_RATE,null PLRRATE,null PARTY_CODE,
  NULL PARTY_NAME,NULL ZONE,NULL COLLECTION_CENTRE,null VIRTUAL_ACCOUNT_NUMBER,
  null INSTALLMENT_TYPE,null COMPANYTYPE,
  udf_convertcurrency(T1.TotalProfit,T2.finccy,'INR')  FIANANCE_CHARGES,T1.ApplicationNo FILENO,null NO_OF_PDCS,
  null LIFEINSURANCE,udf_convertcurrency(t6.RemainingFee,T2.finccy,'INR')  SHORTRECEIVED,t3.CustShrtName IN_FAVOUR_OFF,null MKTGID,  
  udf_convertcurrency(t7.BalanceAmt,T2.finccy,'INR')  PRE_EMI_INT_500071,null LOAN_PURPOSE_DTL,null LOAN_PURPOSE_DESC,
  udf_convertcurrency(t8.RemainingFee_tot,T2.finccy,'INR')  LOGIN_FEES,null VC_REFERRAL_CD,null  VC_REFERRAL_NAME,
  null PROC_FEES2,t1.FinRepayMethod  INSTRUMENT_TYPE,null LAN_BARCODE,T1.FinStartDate  INTSTART_DATE_REGULAR,
  udf_convertcurrency(t1.BPIAmount,T2.finccy,'INR')  BPI_RECEIVABLE,null BPI_PAYABLE,null OPEN_FACILITY_FLAG,null BATCH_ID 
  from FinanceMain T1
  Inner join finpftdetails T2 on t1.finreference=t2.finreference
  Inner join customers T3 on T3.Custid=t1.custid
  left join Finprovisions T4 on T4.finreference=t1.finreference
  left join (Select t1.finreference , SUM(RemainingFee)RemainingFee From Finfeedetail T1
  WHERE FeeScheduleMethod = 'DISB'
  group by t1.finreference) T6 on T1.finreference=t6.finreference
  left join (Select t1.finreference , SUM(BalanceAmt)BalanceAmt From FinExcessAmount T1
  WHERE AmountType = 'A' 
  group by t1.finreference) T7 on T1.finreference=t7.finreference
  left join (Select t1.finreference , SUM(RemainingFee)RemainingFee_tot From Finfeedetail T1
  group by t1.finreference) T8 on T1.finreference=t8.finreference
		]]>
</createView>
</changeSet>

<changeSet id="127" author="Jayant">
		<createView viewName="DM_APPLICANT_DETAILS_VIEW" replaceIfExists="true">
<![CDATA[  
			select t1.custid CUSTOMERID,null CUST_TYPE,t1.CustCRCPR PANNO,
  CustAddrhnbr ADDRESS1,t2.CustFlatNBr ADDRESS2,CustAddrStreet ADDRESS3,CustAddrLine1 ADDRESS4,CustAddrCity CITY,CustAddrProvince STATE,CustAddrCountry COUNTRY,
CustAddrZip ZIPCODE,CustAddrType ADDRESSTYPE,CustEmail EMAIL,T41.phonenumber PHONE1,T42.phonenumber PHONE2,
T4.phonenumber MOBILE,T5.phonenumber FAX,null EXISTING_CUST_FLAG,null INDIV_CORP_FLAG,
round(MONTHS_BETWEEN( T1.CUSTDOB,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'))/12) AGE,
CustDOB DOB,custfname FNAME,custmname MNAME,custlname LNAME,genderdesc GENDER,CustMaritalSts MARITAL_STATUS,NoOfDependents NO_OF_DEPENDENT,
round(MONTHS_BETWEEN( (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'),T7.CUSTEMPFROM)/12) YEARS_CURRENT_JOB,
null YEARS_PREV_JOB,
null QUALIFICATION,null RESIDENCETYPE,null YEARS_CURR_RESI,null EMPLOYER_DESC,
null COMPANY_TYPE,null INDUSTRYID,null NATURE_OF_BUSINESS,
t7.custEMPType EMPLOYMENT_TYPE,t7.custEMPDesg EMPDESG,null OCCUPATION,
udf_convertcurrency(t1.CustTotalIncome,T1.CustBaseCcy,'INR')  ANNUAL_INCOME,null GUARDIAN,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
'N' PROCESSED_FLAG,null PROCESS_DATE,null SEGMENTS,
CustShrtName CUSTOMERNAME,null CONTACT_PERSON_NAME,null CONSTITUTION,null CUST_BANK_NAME,null CUST_BANK_BRANCH,
null EMI_CARD_LIMIT,null EMI_CARD_ACCEPT_FLAG,null EMI_CARD_SWIPE_FLAG,null EMI_CARD_ELIG,null EMI_CARD_NO,null BANK_ECS_MANDATE,null OPEN_ECS_AVLB,
null OPEN_ECS_DATE,null BUSINESS_YEAR,custsalutationcode TITLE,CUSTEMPNAME COMP_NAME,
null  YEARS_CURR_JOB,
null GRADE,null FAMILY_CODE,null MINOR,null GUARDIAN_NEW,
null UCIN_NO,null PREFERRED_ELIGIBILITY,null PREFERRED_CARD_ACCEPTANCE,null PREFERRED_CARD_LIMIT,null CUST_BRANCHID,null BATCH_ID 
from customers T1 
left join CustomerAddresses t2 on t1.custid=t2.custid and CUSTADDRPRIORITY=5
left join CustomerEMails T3 on T3.custid=T1.custid and CustemailPriority=5
left join CustomerPhoneNumbers T41 on T41.phonecustid=T1.custid and t41.PHONETYPEPRIORITY=5
left join CustomerPhoneNumbers T42 on T42.phonecustid=T1.custid and t42.PHONETYPEPRIORITY=4
left join CustomerPhoneNumbers T4 on T4.phonecustid=T1.custid and T4.phonetypecode ='MOBILE'
left join CustomerPhoneNumbers T5 on T5.phonecustid=T1.custid and T5.phonetypecode= 'FAX'
left join BMTGenders T6 on t6.gendercode=t1.custgendercode
left join CustomerEmpDetails t7 on t7.custid = t1.custid and CurrentEmployer=1
		]]>
</createView>
</changeSet>

<changeSet id="128" author="Jayant">
		<createView viewName="DM_APPLICATION_DETAILS_VIEW" replaceIfExists="true">
<![CDATA[  
			select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,null CRM_DEALID,null CRSCOREDATE,
         null CIBILSCORE,null APPSCORE,null BEHSCORE,null DEVIATION_TYPE,null DEVIATION_FLAG,
         null DEVIATION_CODE,null DEVIATION_NAME,null REQ_TENURE,null REQ_LOAN_AMT,
         null LOAN_LIMIT,udf_convertcurrency(T1.TOTALPRISCHD,T2.finccy,'INR')  APPROVE_LOAN_AMT,null LOAN_PURPOSE,
         t1.FinType LOAN_TYPE,Case when t1.closingstatus='C' then t2.LastMntOn else null end CANCELLATIONDATE,
         null CANCEL_REASON,substr(T2.REPAYFRQ,1,1) FREQUENCY,t1.FinApprovedDate LOAN_APPROVAL_DATE,
         t2.FINCONTRACTDATE AGREEMENTDATE,CASE WHEN t2.EffectiveRateOfReturn>999 then 999 else t2.EffectiveRateOfReturn end INTRATE,
         CASE WHEN t2.EffectiveRateOfReturn>999 then 999 else t2.EffectiveRateOfReturn end FLAT_RATE,
         null IRR,null GROSS_LTV,null NET_LTV,null COF,
         null DEBT_BURDEN_RATIO,null FOIR_DB,null SCHEMEID,null SCHEMEDESC,null SCHEMEGROUPID,
         null SCHEME_GROUPG_DESC,null PRODUCT_CATEGORY,t1.FinCategory PROD_TYPE,
         null PROMOTIONID,null PROGRAMID,null SURROGATE_FLAG,null SOURCING_CHANNEL_TYPE,
         null SOURCING_CHANNEL_NAME,null REFERAL_GROUP,null REFERAL_NAME,
         null COUNTRYID,null COUNTRY,null REGIONID,null REGION,null STATEID,
         null STATE,null CITYID,null CITY,t1.finbranch BRANCHID,BranchDesc BRANCHDESC,
         null BROKER_NAME,null DME_NAME,null ASM_NAME,null RSM_NAME,
         null CRDT_MGR_NAME,null ROID_NAME,
         null TLID_NAME,null BMID_NAME,null COID_NAME,null SUPPLIERID,
         null DLR_PARTICIPATION_RATE,null LOCAL_OUTSTATION_FLG,t1.custid CUSTOMERID,
        (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')BUSINESSDATE,
        'N' PROCESSED_FLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
        t1.fintype PRODUCT,null SEGMENTS,null CRM_STATUS,null LOGINDATE,t1.FinApprovedDate APPR_REJ_DATE,
        Case when t1.closingstatus='C' then t2.LastMntOn else null end CANCEL_DATE,
        null FILE_STATUS,null FILE_HOLD_REASON,null QDPDONE,null ISHOLD,null BRANCH_INW_DATE,
        null BRANCH_HOLD_DATE,null CPU_INW_DATE,null CPU_HOLD_DATE,null SYSTEM_HOLD,null PSL_FLAG,
        null DOC_WAVE_FLAG,null CUSTOMER_SWIPE,null CUSTOMER_ACCEPTANCE,null KYC_DOC_TYPE,
        null KYC_DOC_ID,null BUSINESS_IRR,null INSPECTORNAME,null REGNUMBER,
        null BUSINESS_YEAR,null DEALID,null PRETAXIRR,null ODM_FLAG,null DI_DATE,
        null LAA_QDP_FLAG,null PREFERRED_CARD_ACCEPTANCE,
        null ORIG_AMTFIN,null ELC_FLAG,null ELC_LIMIT,null QDP_DONE_DATE,
        null LAA_DECENTRALIZED_FLAG,null FCU_FLAG,
        null MKTGID,null DM_MPID,null SWIPE_CARD_CODE,null SOURCE_CARD_CODE,
        null DII_USER_ID,null QDP_CHEQUE_ISSUE,null INTEREST_TYPE,
        null DII_DONE_DATE,null FINISH_DATE,null BATCH_ID 
from finpftdetails T1
Inner join FinanceMain T2 on T1.finreference=T2.finreference
inner join RMTBranches T3 on T3.branchcode=t1.finbranch
		]]>
</createView>
</changeSet>

<changeSet id="129" author="Jayant">
		<createView viewName="DM_COAPPLICANT_DTLS_VIEW" replaceIfExists="true">
<![CDATA[  
			select t1.custid CUSTOMERID,t.APPLICANT_TYPE APPLICANT_TYPE,t1.CustCRCPR PAN_NO,
NULL CUST_RELATION,t1.custctgcode CUST_TYPE,
round(MONTHS_BETWEEN((Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'), T1.CUSTDOB)/12) AGE,
CustDOB DOB,CustFName FNAME,CustMName MNAME,CustLName LNAME,
GenderCode GENDER,CustMaritalSts MARITAL_STATUS,NoOfDependents NO_OF_DEPENDENT,
round(MONTHS_BETWEEN( (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE'),T7.CUSTEMPFROM)/12)  YRS_CURRENTJOB,
NULL PREVIOUS_JOB_YEAR,null QUALIFICATION,null EMPLOYER_DESC,
null COMPANY_TYPE,t1.custindustry INDUSTRYID,t1.CustSector BUSINESS_NATURE,
null OCCUPATION_CODE,null GUARDIAN,'N' PROCESS_FLAG,
(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
custEMPType EMP_TYPE,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
udf_convertcurrency(CustTotalIncome,T1.CUSTBASECCY,'INR')  INCOME,APPLID APPLID,NULL BATCH_ID 
from customers T1 inner join 
(Select distinct 'Co Applicant' APPLICANT_TYPE,CUSTCIF,substr(FinReference,7,length(FinReference)) APPLID from FinJointAccountDetails union
Select distinct 'Guaranteer' APPLICANT_TYPE,Guarantorcif,substr(FinReference,7,length(FinReference)) APPLID from FinGuarantorsDetails) t on t.CUSTCIF =t1.CUSTCIF
Left join bmtgenders t2 on t2.gendercode=t1.custgendercode
left join RMTCustTypes T3 on T3.custtypecode=t1.custtypecode
left join CustomerEmpDetails t7 on t7.custid = t1.custid and CurrentEmployer=1
		]]>
</createView>
</changeSet>
<changeSet id="130" author="Jayant">
		<createView viewName="DM_SUBQ_DISB_DETAILS_VIEW" replaceIfExists="true">
<![CDATA[  
			select T2.FinApprovedDate AGREEMENTDATE,substr(T2.FinReference,7,length(T2.FinReference)) APPLID,
  T2.FinReference AGREEMENTNO,T3.DisbSeq DISBURSEMENTNO,T3.DisbDate DISBURSEMENTDATE,
  null PARENT_AGREEMENTNO,udf_convertcurrency(T2.FinAmount,T2.finccy,'INR')  AMTFIN, Null NET_AMTFIN,udf_convertcurrency(T3.DisbAmount,T2.finccy,'INR')  DISBURSEDAMT,
  T3.DisbisActive DISB_STATUS,T1.FirstRepayDate FIRST_DUE_DATE,NULL GROSS_TENURE,
  null NET_TENURE,t2.MaturityDate MATURITYDATE,t2.MaturityDate EXPIRYDATE,null NO_OF_ADV_INSTL,  
  NULL ADV_EMI_AMT,t2.FirstRepay EMI,t2.FinRepayMethod REPAYMENT_MODE,
  T2.FinType PRODUCTFLAG,NULL PROMOTIONID,
  null  ICICI_LOMBARD,null  BAGIC,null  BALIC_CHARGES,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
  'N' PROCESSED_FLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,null SEGMENTS,
  null  FEE,null  DEALER_SUBV,null  MANU_SUBV_DED,null  MANU_SUBV_NDED,
  null  PREEMI,null EXISTING_LANNO,null MORTGAGE_FEE,null COMMITMENT_FEE,
  null PROCESSING_FEE,null PRE_EMI_RECEIVABLE,
  null INSURANCE,null PAYMENTMODE,substr(T2.REPAYFRQ,1,1) FREQ,null CHEQUENUM,null BATCH_ID
from  finpftdetails T1
Inner join Financemain T2 on T1.finreference=T2.finreference
Inner join FinDisbursementDetails T3 on T3.finreference=t1.finreference
		]]>
</createView>
</changeSet>
<changeSet id="131" author="Jayant">
		<createView viewName="DM_WRITEOFF_DETAILS_VIEW" replaceIfExists="true">
<![CDATA[  
			select substr(T2.FinReference,7,length(T2.FinReference)) APPLID,
         t2.finreference AGREEMENTNO,WriteoffDate CHARGEOFF_DT,null CHARGEOFF_FLG,
         t1.Remarks CHARGEOFF_REASON,null SETTLEMENT_LOSS,
         udf_convertcurrency((WriteoffPrincipal+WriteoffProfit),T2.finccy,'INR')  GROSS_WRITEOFF_AMT,
         udf_convertcurrency((WriteoffPrincipal+WriteoffProfit),T2.finccy,'INR')  NET_WRITEOFF_AMT,
           (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
         'N' PROCESSED_FLAG,null PROCESS_DATE,null SEGMENTS,
          null RECEIPT_ON_CHARGEOFF,null BUSINESS_YEAR
  from FinWriteoffDetail T1
  inner join financemain t2 on t1.finreference=t2.finreference
		]]>
</createView>
</changeSet>
<changeSet id="132" author="Jayant">
		<createView viewName="DM_IVR_GATEWAY_FLEXI_VIEW" replaceIfExists="true">
<![CDATA[  
			select T1.Finreference AGREEMENTNO,
        null DROP_LINE_LIMIT,null AMOUNT_DRAWN_LIMIT,
        null UTLIZED_BALANCE_LIMIT,udf_convertcurrency(T2.SchdPriPaid,T1.finccy,'INR') PRINCIPLE_AMOUNT_PAID,
        udf_convertcurrency((T1.TotalPriSchd-T2.PrincipalSchd),T1.finccy,'INR') BALANCE_PRINCIPAL_OUTSTANDING,
        (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
       (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,null BATCH_ID 
from finpftdetails T1
Inner join (select finreference,sum(SchdPriPaid)SchdPriPaid,sum(PrincipalSchd)PrincipalSchd from FinScheduleDetails T2 
where schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')
group by finreference) T2 on T1.finreference=T2.finreference
		]]>
</createView>
</changeSet>
<changeSet id="133" author="Jayant">
		<createView viewName="DM_RESCH_DETAILS_DAILY_VIEW" replaceIfExists="true">
<![CDATA[  
			select substr(T2.FinReference,7,length(T2.FinReference)) APPLID,t2.finreference AGREEMENTNO,
         cASE WHEN FinAssetvalue - FinCurrAssetValue > 0 THEN 'Partially Disbursed' ELSE 'Fully Disbursed' END DISB_STATUS,
         NULL GROSS_TENURE,null NET_TENURE,t2.MaturityDate MATURITYDATE,t2.LastRepayDate EXPIRYDATE,
         udf_convertcurrency(T1.FirstRepayAmt,T2.finccy,'INR')  EMI,t2.FinRepayMethod REPAYMENT_MODE,T1.fintype PRODUCTFLAG,
         (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,'N' PROCESSED_FLAG,
         (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
         NULL SEGMENTS,substr(t2.REPAYFRQ,1,1) FREQ,
         Case when t1.finisactive =1 then 'Active' when t1.CLOSINGSTATUS='C' 
         then 'Cancelled' else 'Closed' end LOAN_STATUS,t1.MaturityDate CLOSUREDATE,
         t1.CUSTCIF CUST_ACCT_NO,
         T7.bankname BANKNAME,T6.micr MICRCODE,t6.Branchdesc CUST_BANK_BRANCH,
        T8.PCCITYNAME  CUST_BANK_CITY,null BUSINESS_YEAR,
        t3.Mandateid PDCID,null PCFLAG,null TIE_UP,
        CASE WHEN RepayMargin>999 then 999 else RepayMargin end MARGIN,null SPECIALMARGIN,
        t2.NumberofTerms FIXEDTENOR,null CEEFFECTIVEDATE,
        null EFF_RATE,null PLRRATE,
        null TIE_UP_WITH,null DATE_OF_CLOSURE,null PDCMS_SEQ_GENERATED_DATE,
        null INSTRUMENT_DATA_ENTRY_DATE,null PAYMENT_AUTHORIZATION_DATE
from finpftdetails T1
inner join Financemain T2 on t1.finreference=t2.finreference
INNER JOIN mandates t3 on t3.ORGReference = t2.finreference
inner join BankBranches T6 on T6.BankBranchid=t3.BankBranchid 
inner join BMTBankDetail T7 on T7.Bankcode=t6.bankcode
left join RMTPROVINCEVSCITY T8 on T8.PCCITY = T6.CITY
		]]>
</createView>
</changeSet>
<changeSet id="134" author="Jayant">
		<createView viewName="DM_PRESENTATION_DETAILS_VIEW" replaceIfExists="true">
<![CDATA[  
			select t1.finreference AGREEMENTNO,
  udf_convertcurrency(FirstRepayAmt,T2.finccy,'INR')  EMI,udf_convertcurrency(FirstRepayAmt,T2.finccy,'INR')  REPAY_TYPE,null DEPOSITED_DATE,null CREDIT_STATUS,null RETURN_CODE,null RETURN_REASON,null REMARKS,
  null SEGMENTS,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESSDATE,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
  calTerms EMI_NO,t7.bankname CUSTOMER_BANK_NAME,
  null BOM_BOUNCE_BUCKET,t6.micr MICR_CODE,null STATUS_UPDT_DATE,t3.ACCNUMBER CUST_BANK_AC_NO,t6.Branchdesc CUSTOMER_BANK_BRANCH,
  null CHEQUESNO,null CHEQUEDATE,null FEMI_FLAG,null HOLD_IGNORE_CODE,null HOLD_IGNORE_REASON,null DEST_ACC_HOLDER,
  t3.Mandateid PDCID,  t6.bankcode BBRANCHID
  from Finpftdetails t1
  inner join financemain t2 on t1.finreference=t2.finreference
 INNER JOIN mandates t3 on t3.ORGReference = t2.finreference
inner join BankBranches T6 on T6.BankBranchid=t3.BankBranchid 
inner join BMTBankDetail T7 on T7.Bankcode=t6.bankcode
		]]>
</createView>
</changeSet>
<changeSet id="135" author="Jayant">
		<createView viewName="FORECLOSURECHARGES_VIEW" replaceIfExists="true">
<![CDATA[  
			select 
substr(T1.FinReference,7,length(T1.FinReference)) AGREEMENTID,udf_convertcurrency(t3.PriAmount,T2.finccy,'INR')  BAL_PRINCIPAL,null RESEDUL_VALUE,null INSTALLMENTS,
null ADVICES,null PENALTY,udf_convertcurrency(t4.PftAmount,T2.finccy,'INR')  INTREST_ON_TERMINATION,null FLOATINTREST_ON_TERMINATION,
null OVER_DUES,null CURRENT_OVERDUES,null CURRENT_WAVEOFFAMT,null OVER_DISTANCE_CHARGES,
null INTREST_ON_TERMINATION_PER_DAY,null INTREST_ACCRUALS,null EXCESS_AMOUNT,null EXCESS_REFUND,
null ADVICE,null REBATE,null ADVINSTL,null EXCESSPRINPMNT,null SDAMT,
null SDINT,null EXCESS_INTREST_RATE,null VAT_ON_FORECLOSURE,null UNDER_DISTANCE_CHARGES,
null NET_PAYBALE,udf_convertcurrency(t5.TotalFeeAmount,T2.finccy,'INR')  WAIVEOFFAMOUNT,null ACTIVITY,null AUTHORIZEDON,null COMMITMENT_FEE,null ORIGINATION_FEE,
null PRE_EMI,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESS_DATE,
null CHEQUEID,null STATUS,null INTEREST_WAIVE_OFF,null BALANCE_PRIN_WAIVE_OFF,
udf_convertcurrency(t6.LPFTWaivedAmount,T2.finccy,'INR')  INSTALLMET_INT_WAIVE_OFF,udf_convertcurrency(t7.PFTWaivedAmount,T2.finccy,'INR')  WOFF_CURRMONTH_INT,udf_convertcurrency(t8.ODCWaivedAmount,T2.finccy,'INR')  WOFF_OVERDUE_CHARGE,null WOFF_CHQBOUNCE_CHARGES,
null WOFF_OTHERS,null INSTALLMENT_PRIN_WAIVE_OFF,null WOFF_PARKING_CHARGES,null TOT_OTHER_REPO_CHARGES,
null WOFF_OTHER_REPO_CHARGES,null TOT_REPOSESSION_CHARGES,null WOFF_REPOSESSION_CHARGES,null TOT_PARKING_CHARGES
from Finpftdetails t1
inner join financemain t2 on t1.finreference=t2.finreference
left join (select finreference,sum(PriAmount)PriAmount from FinRepayHeader where FinEvent = 'EarlySettlement' group by finreference) t3 on  t3.finreference=t2.finreference  
left join (select finreference,sum(PftAmount)PftAmount from FinRepayHeader where FinEvent = 'EarlySettlement' group by finreference) t4 on  t4.finreference=t2.finreference  
left join (select reference,receiptid,sum(TotFeeAmount)TotalFeeAmount from FinReceiptHeader where receiptpurpose = 'EarlySettlement' group by reference,receiptid) t5 on  t5.reference=t2.finreference  
left join (select receiptid,sum(WaivedAmount)LPFTWaivedAmount from ReceiptAllocationDetail where allocationType = 'LPFT' group by receiptid) t6 on  t6.receiptid=t5.receiptid  
left join (select receiptid,sum(WaivedAmount)PFTWaivedAmount from ReceiptAllocationDetail where allocationType = 'PFT' group by receiptid) t7 on  t7.receiptid=t5.receiptid  
left join (select receiptid,sum(WaivedAmount)ODCWaivedAmount from ReceiptAllocationDetail where allocationType = 'ODC' group by receiptid) t8 on  t8.receiptid=t5.receiptid
		]]>
</createView>
</changeSet>
<changeSet id="136" author="Jayant">
		<createView viewName="DM_HTS_UNADJUSTED_AMT_VIEW" replaceIfExists="true">
<![CDATA[  
			select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,
udf_convertcurrency(BalanceAmt,T1.finccy,'INR')  UNADJUSTED_AMOUNT,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE
from financemain T1 
inner join (Select FinReference,sum(BalanceAmt)BalanceAmt from FINEXCESSAMOUNT
group by FinReference)t2 on t1.FinReference =t2.FinReference
		]]>
</createView>
</changeSet>
<changeSet id="137" author="Jayant">
		<createView viewName="DM_SEND_SOA_EMAIL_VIEW" replaceIfExists="true">
<![CDATA[  
			select T1.Finreference AGREEMENTNO,t1.custid CUSTOMERID,t4.CustEmail EMAILID,
  substr(T2.FinReference,7,length(T2.FinReference)) AGREEMENTID,
  substr(T2.FinReference,7,length(T2.FinReference))PROCESSID,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  GENERATION_DATE,
  null PROCESSED,t1.fintype PRODUCTFLAG,null GROUPID,
  T5.ActiveCnt+T6.CloseCnt TOTAL_LAN,
  T6.CloseCnt TOTAL_CLOSED_LAN,
  T5.ActiveCnt TOTAL_ACTIVE_LAN,null SWIPE_FLAG,null EMI_CARD_NO,
  T1.latestDisbDate DISBURSEMENT_DATE,
  null SUPPLIERID,null SUPPLIERDESC,
  udf_convertcurrency(TotalPriSchd,T2.finccy,'INR')  AMT_FIN,udf_convertcurrency(FirstRepayAmt,T2.finccy,'INR')  EMI,NextRepayDate NEXT_EMI_DUE_DATE,
  null CHEQUE_BOUNCE_CHARGE
from Finpftdetails t1
inner join financemain t2 on t1.finreference=t2.finreference
Inner join customers T3 on T3.custid=T1.custid
left join CustomerEMails T4 on T4.custid=T3.custid and custEmailPriority=5
Left join (Select CustID,COUNT(*)ActiveCnt from FinPftDetails
		where (FinIsActive=1) group by CustID)T5 ON T1.CustID =T5.CustID  
Left join (Select CustID,COUNT(*)CloseCnt from FinPftDetails
		where (FinIsActive!=1)group by CustID)T6 ON T1.CustID =T6.CustID
		]]>
</createView>
</changeSet>
<changeSet id="138" author="Jayant">
		<createView viewName="DM_LOANWISE_REPAYSCHEDULE_VIEW" replaceIfExists="true">
<![CDATA[  
			select T1.FinReference AGREEMENTNO,
substr(T1.FinReference,7,length(T1.FinReference)) AGREEMENTID,
null PROPINSTLID,t2.InstNumber EMI_NO,t2.SchDate DUEDATE,
udf_convertcurrency(t2.BalanceForPftCal,T1.finccy,'INR')  OPENING_PRINCIPAL,
udf_convertcurrency(t2.RepayAmount,T1.finccy,'INR')  INSTALMENT_AMT,
udf_convertcurrency(t2.PrincipalSchd,T1.finccy,'INR')  PRINCIPAL_AMT,
udf_convertcurrency(t2.ProfitSchd,T1.finccy,'INR')  INTEREST_AMT,
udf_convertcurrency(t2.ClosingBalance,T1.finccy,'INR')  CLOSING_PRINCIPAL,t2.SchdMethod INSTAL_TYPE,
null TOTAL_AMOUNT_DUE,
null DROPLINE_LIMIT,
null ACT_AVAILABLE_LIMIT,
null ACT_UTILISATION_LIMIT,case when BPIOrHoliday='H' then 'Y' else 'N' end EMI_HOLIDAY,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  BUSINESSDATE
from financemain t1
inner join FinScheduleDetails t2 on t1.finreference=t2.finreference
		]]>
</createView>
</changeSet>
</databaseChangeLog>