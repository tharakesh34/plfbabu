<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />

	<changeSet id="pre_run_for_pgp" author="Adarsh" runAlways="true" dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>

	<changeSet id="1" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM RBFIELDDETAILS WHERE RBMODULE = 'FEES' and RBEVENT = 'EARLYSTL' and RBFLDNAME = 'PaidInstallments';
				
				INSERT INTO RBFIELDDETAILS (RBMODULE, RBEVENT, RBFLDNAME, RBFLDDESC, RBFLDTYPE, RBFLDLEN, RBFORCALFLDS, RBFORBLDFLDS, RBFLDTABLENAME, RBSTFLDS, MODULECODE) VALUES ('FEES', 'EARLYSTL', 'PaidInstallments', 'Paid Installments Till Date', 'int', 9, '1', '1', '', 'static', '');
			]]>
		</sql>
	</changeSet>

	<changeSet id="2" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM FEETYPES WHERE FEETYPECODE = 'SUBVEN';
			
			 	INSERT INTO FEETYPES (FEETYPEID, FEETYPECODE, FEETYPEDESC, ACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MANUALADVICE, ACCOUNTSETID, ADVISETYPE, HOSTFEETYPECODE, AMORTZREQ, TAXAPPLICABLE, TAXCOMPONENT, REFUNDABLE, DUEACCREQ, DUEACCSET, TDSREQ) values ((Select Max(FEETYPEID) + 1 FROM FEETYPES), 'SUBVEN', 'Subvention Feetype', '1', 2, 1000, Current_TimeStamp, 'Approved', '', '', '', '', '', 0, '0', null, 1, '', 0, 0, '#', 0, 0, 0, 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="3" author="Gopal.p">
		<addColumn tableName="RMTFINANCETYPES">
			<column name="SubventionReq" type="smallint" />
		</addColumn>
	</changeSet>

	<changeSet id="4" author="Gopal.p">
		<addColumn tableName="RMTFINANCETYPES_TEMP">
			<column name="SubventionReq" type="smallint" />
		</addColumn>
	</changeSet>

	<changeSet id="5" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE RMTFINANCETYPES Set SubventionReq = 0 where SubventionReq is null;
				UPDATE RMTFINANCETYPES_TEMP Set SubventionReq = 0 where SubventionReq is null;
			]]>
		</sql>
	</changeSet>

	<changeSet id="6" author="Gopal.p">
		<addNotNullConstraint tableName="RMTFINANCETYPES" columnName="SubventionReq"
			columnDataType="smallint" />
	</changeSet>

	<changeSet id="7" author="Gopal.p">
		<addNotNullConstraint tableName="RMTFINANCETYPES_TEMP" columnName="SubventionReq"
			columnDataType="smallint" />
	</changeSet>

	<changeSet id="8" author="Gopal.p" dbms="postgresql, oracle">
		<addDefaultValue columnName="SubventionReq" tableName="RMTFINANCETYPES" defaultValue="0" />
	</changeSet>

	<changeSet id="9" author="Gopal.p" dbms="postgresql, oracle">
		<addDefaultValue columnName="SubventionReq" tableName="RMTFINANCETYPES_TEMP" defaultValue="0" />
	</changeSet>

	<changeSet id="8" author="Gopal.p" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE RMTFINANCETYPES ADD CONSTRAINT DF_FT_SubventionReq DEFAULT 0 FOR SubventionReq;
			]]>
		</sql>
	</changeSet>

	<changeSet id="9" author="Gopal.p" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE RMTFINANCETYPES_TEMP ADD CONSTRAINT DF_FTT_SubventionReq DEFAULT 0 FOR SubventionReq;
			]]>
		</sql>
	</changeSet>

	<changeSet id="10" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID) + 1 FROM SECRIGHTS), 3, 'FinanceTypeDialog_SubventionReq', 'FinanceTypeDialog', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'BFSD_ORIGINATION_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'FinanceTypeDialog_SubventionReq'), 1, 1,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
	 		]]>
		</sql>
	</changeSet>

	<changeSet id="11" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceMainDialog_SubVentionFrom', 'FinanceMainDialog', 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceMainDialog_ManufacturerDealer', 'FinanceMainDialog', 1,	1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE =	'BFSD_ORIGINATION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE	RIGHTNAME = 'FinanceMainDialog_SubVentionFrom'), 1, 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE =	'BFSD_ORIGINATION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE	RIGHTNAME = 'FinanceMainDialog_ManufacturerDealer'), 1, 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="12" author="Gopal.p">
		<addColumn tableName="FINANCEMAIN_TEMP">
			<column name="SubVentionFrom" type="char(4)" />
		</addColumn>
	</changeSet>

	<changeSet id="13" author="Gopal.p">
		<addColumn tableName="FINANCEMAIN_TEMP">
			<column name="ManufacturerDealerId" type="bigint" />
		</addColumn>
	</changeSet>

	<changeSet id="14" author="Gopal.p">
		<addColumn tableName="FINANCEMAIN">
			<column name="SubVentionFrom" type="char(4)" />
		</addColumn>
	</changeSet>

	<changeSet id="15" author="Gopal.p">
		<addColumn tableName="FINANCEMAIN">
			<column name="ManufacturerDealerId" type="bigint" />
		</addColumn>
	</changeSet>

	<changeSet id="16" author="vijaya.a">
		<sql>
			<![CDATA[
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerName');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_Email');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerFax');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerAddress1');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerAddress2');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerAddress3');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerCountry');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerCity');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerProvince');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_PoBox');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_ZipCode');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_Active');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_Code');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_PanNumber');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_TaxNumber');
				
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerName';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_Email';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerFax';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerAddress1';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerAddress2';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerAddress3';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerCountry';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerCity';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_dealerProvince';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_PoBox';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_ZipCode';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_Active';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_Code';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_PanNumber';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_DSM_TaxNumber';
				
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_dealerName','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_Email','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_dealerFax','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_dealerAddress1','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_dealerAddress2','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_dealerAddress3','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_dealerCountry','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_dealerCity','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_dealerProvince','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_PoBox','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_ZipCode','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_Active','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_PanNumber','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSM_TaxNumber','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_dealerName'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_Email'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_dealerFax'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_dealerAddress1'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_dealerAddress2'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_dealerAddress3'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_dealerCountry'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_dealerCity'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_dealerProvince'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_PoBox'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_ZipCode'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_Active'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_Code'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_PanNumber'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSM_TaxNumber'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="17" author="vijaya.a">
		<sql>
			<![CDATA[
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerName');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_Email');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerFax');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerAddress1');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerAddress2');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerAddress3');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerCountry');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerCity');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerProvince');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_PoBox');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_ZipCode');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_Active');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_Code');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_PanNumber');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_TaxNumber');
				
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerName';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_Email';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerFax';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerAddress1';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerAddress2';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerAddress3';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerCountry';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerCity';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerProvince';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_PoBox';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_ZipCode';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_Active';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_Code';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_PanNumber';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_TaxNumber';
				
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_dealerName','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_Email','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_dealerFax','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_dealerAddress1','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_dealerAddress2','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_dealerAddress3','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_dealerCountry','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_dealerCity','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_dealerProvince','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_PoBox','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_ZipCode','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_Active','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_PanNumber','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANUFACTURER_TaxNumber','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerName'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_Email'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerFax'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerAddress1'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerAddress2'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerAddress3'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerCountry'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerCity'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_dealerProvince'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_PoBox'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_ZipCode'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_Active'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_Code'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_PanNumber'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANUFACTURER_TaxNumber'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="18" author="vijaya.a">
		<sql>
			<![CDATA[
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID IN (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionDealer');
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionDealer';
							     
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_subventionDealer','MENU',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 );
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menu_Item_subventionDealer'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menu_Item_subventionDealer'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID IN (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionManufacturer');
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionManufacturer';
							     
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_subventionManufacturer','MENU',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 );
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menu_Item_subventionManufacturer'), 1, 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menu_Item_subventionManufacturer'), 1, 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="18.1" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'DEALER_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'DEALER_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DEALER_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'DEALER_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'DEALER_APPROVER';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'DEALER_MAKER', 'subvention Manu facturer WF Role', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'DEALER_APPROVER', 'subvention Manu facturer WF Role', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'DEALER_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'DEALER_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="18.2" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_DEALER_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_DEALER_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTION_DEALER_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTION_DEALER_APPROVER';
				
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionDealer') and GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_MAKER');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionDealer') and GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_APPROVER');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_MAKER';
				DELETE FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_APPROVER';
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((Select MAX(GrpID)+1 From SecGroups), 'SUBVENTION_DEALER_MAKER', 'Group for Subvention Dealer Maker', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((Select MAX(GrpID)+1 From SecGroups), 'SUBVENTION_DEALER_APPROVER', 'Group for Subvention Dealer approver', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionDealer'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionDealer'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTION_DEALER_MAKER', 'subvention Manu facturer WF Role', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTION_DEALER_APPROVER', 'subvention Manu facturer WF Role', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_DEALER_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_DEALER_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="18.3" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_MANUFACTURER_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MANUFACTURER_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_MANUFACTURER_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MANUFACTURER_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTION_MANUFACTURER_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTION_MANUFACTURER_APPROVER';
				
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionManufacturer') and GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MANUFACTURER_MAKER');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionManufacturer') and GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MANUFACTURER_APPROVER');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MANUFACTURER_MAKER';
				DELETE FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MANUFACTURER_APPROVER';
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((Select MAX(GrpID)+1 From SecGroups), 'SUBVENTION_MANUFACTURER_MAKER', 'Group for Subvention manufacturer Maker', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((Select MAX(GrpID)+1 From SecGroups), 'SUBVENTION_MANUFACTURER_APPROVER', 'Group for Subvention manufacturer approver', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MANUFACTURER_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionManufacturer'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MANUFACTURER_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_subventionManufacturer'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTION_MANUFACTURER_MAKER', 'subvention Manu facturer WF Role', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTION_MANUFACTURER_APPROVER', 'subvention Manu facturer WF Role', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_MANUFACTURER_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_DEALER_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_MANUFACTURER_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="19" author="Gopal.p">
		<sql>
			<![CDATA[
			   DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE = 'MANSUB' and CATEGORYCODE = 'F';
		       INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('MANSUB','F','1','0','52');
			]]>
		</sql>
	</changeSet>

	<changeSet id="20" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM BMTAEEVENTS WHERE AEEVENTCODE = 'MANSUB';
				INSERT INTO BMTAEEVENTS (AEEVENTCODE, AEEVENTCODEDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, ACTIVE) VALUES('MANSUB', 'Subvention Posting on LOS', 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);
			]]>
		</sql>
	</changeSet>

	<changeSet id="21" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM RBFIELDDETAILS WHERE RBMODULE = 'FEES' and RBEVENT = 'EARLYSTL' and RBFLDNAME = 'PaidInstallments';
				INSERT INTO RBFIELDDETAILS (RBMODULE, RBEVENT, RBFLDNAME, RBFLDDESC, RBFLDTYPE, RBFLDLEN, RBFORCALFLDS, RBFORBLDFLDS, RBFLDTABLENAME, RBSTFLDS, MODULECODE) VALUES ('FEES', 'EARLYSTL', 'PaidInstallments', 'Paid Installments Till Date', 'int', 9, '1', '1', '', 'static', '');
			]]>
		</sql>
	</changeSet>

	<changeSet id="22" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SUBVENTIONPROCESS_UPLOAD_MAKER', 'Group for Subvention process upload maker', 		1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SUBVENTIONPROCESS_UPLOAD_APPROVER', 'Group for Subvention process upload approver', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_Subvention_knockoff_Upload', 'MENU', 0, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONPROCESS_UPLOAD_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Subvention_knockoff_Upload'), 1, 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONPROCESS_UPLOAD_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Subvention_knockoff_Upload'), 1, 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="22.1" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTIONPROCESS_UPLOAD_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONPROCESS_UPLOAD_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTIONPROCESS_UPLOAD_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONPROCESS_UPLOAD_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTIONPROCESS_UPLOAD_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTIONPROCESS_UPLOAD_APPROVER';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTIONPROCESS_UPLOAD_MAKER', 'Role  for Subvention process upload maker', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTIONPROCESS_UPLOAD_APPROVER', 'Role  for Subvention process upload approver', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONPROCESS_UPLOAD_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTIONPROCESS_UPLOAD_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONPROCESS_UPLOAD_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTIONPROCESS_UPLOAD_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);	
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="23" author="Gopal.p">
		<createTable tableName="SUBVENTION_KNOCKOFF_DETAILS">
			<column name="Id" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="BATCHID" type="bigint" />
			<column name="FINREFERENCE" type="varchar(20)" />
			<column name="FINTYPE" type="varchar(8)" />
			<column name="AMOUNT" type="decimal(18,0)" />
			<column name="CUSTOMERNAME" type="varchar(100)" />
			<column name="REFERENCECODE" type="varchar(20)" />
			<column name="POSTDATE" type="DATETIME" />
			<column name="VALUEDATE" type="DATETIME" />
			<column name="TRANSREF" type="varchar(20)" />
			<column name="PARTNERBANKID" type="bigint" />
			<column name="PARTNERACCNO" type="varchar(50)" />
			<column name="LINKEDTRANID" type="bigint" />
			<column name="STATUS" type="char(1)" />
			<column name="REMARKS" type="varchar(2000)" />
		</createTable>
	</changeSet>
	
	<changeSet id="23.1" author="Gopal.p" dbms="postgresql, oracle">
		<addDefaultValue columnName="AMOUNT" tableName="SUBVENTION_KNOCKOFF_DETAILS" defaultValue="0" />
	</changeSet>

	<changeSet id="23.2" author="Gopal.p" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE SUBVENTION_KNOCKOFF_DETAILS ADD CONSTRAINT DF_SUB_KNCK_DTLS_AMOUNT DEFAULT 0 FOR AMOUNT;
			]]>
		</sql>
	</changeSet>

	<changeSet id="24" author="Gopal.p">
		<addPrimaryKey tableName="SUBVENTION_KNOCKOFF_DETAILS" columnNames="Id"
			constraintName="pk_subvention_request" />
	</changeSet>

	<changeSet id="25" author="Gopal.p">
		<sql>
			<![CDATA[
                DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='SUBVENTION_REQUEST_UPLOAD');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='SUBVENTION_REQUEST_UPLOAD');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='SUBVENTION_REQUEST_UPLOAD';
             
 				DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'SUBVENTION_REQUEST_UPLOAD'));
 				DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'SUBVENTION_REQUEST_UPLOAD');
 				DELETE FROM DATA_ENGINE_CONFIG where Name = 'SUBVENTION_REQUEST_UPLOAD';
 
  				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'SUBVENTION_REQUEST_UPLOAD', 'subvention_request.', 12,'subvention', '', '', '' , 0, 1, '', 'FINREFERENCE,FINTYPE,AMOUNT,CUSTOMERNAME,REFERENCECODE,POSTDATE,VALUEDATE,TRANSREF,PARTNERBANKID,PARTNERACCNO', '', 'C', '/opt/CORE/PFF/CORE/subvention', 'Subventionreq', '.xlsx', 0, current_timestamp, '${SEQ_FILE},_${yyyyMMddHHmmss}', '', 0, '', 1, 1); 

  				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD'), 'SUBVENTION_KNOCKOFF_DETAILS', 1, ' ', null, null, null, null, null, null, null, 3, 0, 0);
	
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'BATCHID', 0, 'N', null, null, '${BATCHID}', null, 0, null,null, null, null, 'M');
 				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'FINREFERENCE', 0, 'N', null, null, null, null, 0, null,null, null, null, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'FINTYPE', 0, 'N', null, null, null, null, 1, null,null, null, null, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'AMOUNT', 0, 'N', null, null, null, null, 2, null,null, null, null, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'CUSTOMERNAME', 0, 'N', null, null, null, null, 3, null,null, null, null, 'O');
 				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'REFERENCECODE', 0, 'N', null, null, null, null, 4, null,null, null, null, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'POSTDATE', 0, 'N', null, null, null, null, 5, null,null, null, 'dd-MMM-yyyy', 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'VALUEDATE', 0, 'N', null, null, null, null, 6, null,null, null, 'dd-MMM-yyyy', 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'TRANSREF', 0, 'N', null, null, null, null, 7, null,null, null, null, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'PARTNERBANKID', 0, 'N', null, null, null, null, 8, null,null, null, 'NUMBER:', 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'SUBVENTION_KNOCKOFF_DETAILS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'SUBVENTION_REQUEST_UPLOAD')), 'PARTNERACCNO', 0, 'N', null, null, null, null, 9, null,null, null, null, 'O');
 			]]>
		</sql>
	</changeSet>

	<changeSet id="26" author="Gopal.p">
		<createIndex indexName="IDX_SUBVENTION_FinRef" tableName="SUBVENTION_KNOCKOFF_DETAILS">
			<column name="FinReference" />
		</createIndex>
	</changeSet>

	<changeSet id="27" author="Gopal.p">
		<createIndex indexName="IDX_SUBVENTION_BatchId" tableName="SUBVENTION_KNOCKOFF_DETAILS">
			<column name="BatchId" />
		</createIndex>
	</changeSet>

	<changeSet id="28" author="Gopal.p">
		<createIndex indexName="IDX_SUBVENTION_DealerCode" tableName="SUBVENTION_KNOCKOFF_DETAILS">
			<column name="ReferenceCode" />
		</createIndex>
	</changeSet>

	<changeSet id="29" author="Gopal.p">
		<addForeignKeyConstraint constraintName="FK_SUBVENTION_REQUESTS_FinRef"
			baseTableName="SUBVENTION_KNOCKOFF_DETAILS" baseColumnNames="FinReference" referencedColumnNames="FinReference"
			referencedTableName="FinanceMain" />
	</changeSet>

	<changeSet id="30" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM BMTAEEVENTS WHERE AEEVENTCODE = 'OEMSBV';
				INSERT INTO BMTAEEVENTS (AEEVENTCODE, AEEVENTCODEDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, ACTIVE) VALUES ('OEMSBV', 'OEM Suvention accounting', 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);

				DELETE 	FROM BMTAMOUNTCODES WHERE ALLOWEDEVENT = 'OEMSBV';
				INSERT INTO BMTAMOUNTCODES (ALLOWEDEVENT, ALLOWEDRIA, AMOUNTCODE, AMOUNTCODEDESC, AMOUNTCODEISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ('OEMSBV', 0, 'ae_oemSbvAmount', 'OEM Suvention amount ', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0); 
				INSERT INTO BMTAMOUNTCODES (ALLOWEDEVENT, ALLOWEDRIA, AMOUNTCODE, AMOUNTCODEDESC, AMOUNTCODEISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES  ('OEMSBV', 0, 'ae_oemProcAmount', 'OEM Processing Fee Paid amount ', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0); 
			]]>
		</sql>
	</changeSet>

	<changeSet id="31" author="Gopal.p">
		<sql>
 			<![CDATA[
 				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE= 'OEMSBV' and CATEGORYCODE= 'F';
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('OEMSBV', 'F', 1, 0, (Select max(SEQORDER)+1 FROM CATEGORYWISEEVENTS WHERE CATEGORYCODE= 'F'));
 			]]>
		</sql>
	</changeSet>

	<changeSet id="32" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_SubventionUploadStsRpt', 'MENU', 0, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONPROCESS_UPLOAD_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionUploadStsRpt'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONPROCESS_UPLOAD_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionUploadStsRpt'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="33" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_InterestAccrualReport');
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_InterestAccrualReport';

				INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((select max(reportid)+1 from REPORTCONFIGURATION), 'Excel:Interest Accrual Report', 'Interest Accrual Report', 1, 'InterestAccrualReport', 'dataSource', 1, 'menu_Item_InterestAccrualReport', 1, 1000, null, null, null, null, null, null, 0, current_timestamp, 0, 1, 0);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_InterestAccrualReport'), 1, 'Loan Reference', 'LOVSEARCH', 'Loan Reference', 'FP.FINREFERENCE', null, 'FinanceMain', 'getFinReference', 'getFinReference', 1, 0, 0, 0, 1, 1, ' ', ' ', ' ', ' ', 250, 0, '=', 1, 1000, 'Approved', null, null, null, null, null, 0, CURRENT_TIMESTAMP, null);
			]]>
		</sql>
	</changeSet>

	<changeSet id="34" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((Select MAX(GrpID)+1 From SecGroups), 'INTERESTACCRUAL_MAKER', 'Group for InterestAccrual Maker', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((Select MAX(GrpID)+1 From SecGroups), 'INTERESTACCRUAL_APPROVER', 'Group for InterestAccrual approver', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((select max(RightId)+1 from SecRights), 0, 'menu_Item_InterestAccrualReport', 'MENU', 0, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'INTERESTACCRUAL_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_InterestAccrualReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'INTERESTACCRUAL_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_InterestAccrualReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="34.1" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'INTERESTACCRUAL_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'INTERESTACCRUAL_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'INTERESTACCRUAL_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'INTERESTACCRUAL_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'INTERESTACCRUAL_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'INTERESTACCRUAL_APPROVER';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'INTERESTACCRUAL_MAKER', 'Role for Interest Accrual Maker', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'INTERESTACCRUAL_APPROVER', 'Role for Interest Accrual approver', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'INTERESTACCRUAL_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'INTERESTACCRUAL_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'INTERESTACCRUAL_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'INTERESTACCRUAL_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);	
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="35" author="Gopal.p">
		<createTable tableName="SUBVENTION_KNOCKOFF_HEADER">
			<column name="Id" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="BatchRef" type="varchar(100)" />
			<column name="EntityCode" type="varchar(8)" />
			<column name="TotalRecords" type="int" />
			<column name="SucessRecords" type="int" />
			<column name="FailureRecords" type="int" />
			<column name="Status" type="char(1)" />
		</createTable>
	</changeSet>

	<changeSet id="36" author="Gopal.p">
		<addPrimaryKey tableName="SUBVENTION_KNOCKOFF_HEADER" columnNames="Id"
			constraintName="pk_subvention_Header" />
	</changeSet>

	<changeSet id="37" author="Gopal.p">
		<createTable tableName="SUBVENTION_KNOCKOFF_LOG">
			<column name="Id" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="DetailId" type="bigint" />
			<column name="ErrorCode" type="varchar(10)" />
			<column name="ErrorDescription" type="varchar(200)" />
		</createTable>
	</changeSet>

	<changeSet id="38" author="Gopal.p">
		<addPrimaryKey tableName="SUBVENTION_KNOCKOFF_LOG" columnNames="Id" constraintName="pk_subvention_Log" />
	</changeSet>

	<changeSet id="39" author="Gopal.p">
		<createIndex indexName="IDX_SR_Batchref" tableName="SUBVENTION_KNOCKOFF_HEADER">
			<column name="BatchRef" />
		</createIndex>
	</changeSet>

	<changeSet id="40" author="Gopal.p">
		<addUniqueConstraint columnNames="BatchRef,EntityCode" constraintName="uk_SUBVENTION_KNOCKOFF_Ref"
			tableName="SUBVENTION_KNOCKOFF_HEADER" />
	</changeSet>

	<changeSet id="41" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionUploadStsRpt');
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionUploadStsRpt';

				INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((SELECT MAX(REPORTID)+1 FROM REPORTCONFIGURATION), 'Excel:Subvention Upload Status Report', 'Subvention Upload Status Report', 1, 'SubventionUploadStatusReport', 'dataSource', 1, 'menu_Item_SubventionUploadStsRpt', 1, 1000, null, null, null, null, null, null, 0, CURRENT_TIMESTAMP, 0, 1, 0);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionUploadStsRpt'), 1, 'File Name', 'LOVSEARCH', 'File Name', 't.batchref', null, 'SubventionFileStatus', 'getBatchRef', 'getId', 0, 0, 0, 0, 1, 1, ' ', ' ', ' ', ' ', 250, 0, '=', 1, 1000, 'Approved', null, null, null, null, null, 0, CURRENT_TIMESTAMP, null);
			]]>
		</sql>
	</changeSet>

	<changeSet id="42" author="Gopal.p">
		<addColumn tableName="SUBVENTION_KNOCKOFF_DETAILS">
			<column name="CgstAmt" type="decimal(18,0)" defaultValue="0" />
		</addColumn>
	</changeSet>
	
	<changeSet id="42.1" author="Gopal.p">
		<addColumn tableName="SUBVENTION_KNOCKOFF_DETAILS">
			<column name="SgstAmt" type="decimal(18,0)" defaultValue="0" />
		</addColumn>
	</changeSet>
	
	<changeSet id="42.2" author="Gopal.p">
		<addColumn tableName="SUBVENTION_KNOCKOFF_DETAILS">
			<column name="UgstAmt" type="decimal(18,0)" defaultValue="0" />
		</addColumn>
	</changeSet>
	
	<changeSet id="42.3" author="Gopal.p">
		<addColumn tableName="SUBVENTION_KNOCKOFF_DETAILS">
			<column name="IgstAmt" type="decimal(18,0)" defaultValue="0" />
		</addColumn>
	</changeSet>
	
	<changeSet id="42.4" author="Gopal.p">
		<addColumn tableName="SUBVENTION_KNOCKOFF_DETAILS">
			<column name="CessAmt" type="decimal(18,0)" defaultValue="0" />
		</addColumn>
	</changeSet>
	
	<changeSet id="42.5" author="Gopal.p">
		<addColumn tableName="SUBVENTION_KNOCKOFF_DETAILS">
			<column name="ProcFeeAmt" type="decimal(18,0)" defaultValue="0" />
		</addColumn>
	</changeSet>

	<changeSet id="43" author="Gopal.p">
		<sql>
			<![CDATA[
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerName');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_Email');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerFax');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerAddress1');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerAddress2');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerAddress3');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerCountry');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerCity');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerProvince');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_PoBox');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_ZipCode');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_Active');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_Code');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_PanNumber');
				Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_MANF_TaxNumber');
				
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerName';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_Email';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerFax';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerAddress1';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerAddress2';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerAddress3';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerCountry';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerCity';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_dealerProvince';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_PoBox';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_ZipCode';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_Active';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_Code';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_PanNumber';
				Delete From SecRights Where RightName = 'VehicleDealerDialog_MANF_TaxNumber';
				
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_dealerName','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_Email','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_dealerFax','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_dealerAddress1','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_dealerAddress2','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_dealerAddress3','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_dealerCountry','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_dealerCity','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_dealerProvince','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_PoBox','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_ZipCode','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_Active','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_PanNumber','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_MANF_TaxNumber','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 ); 
				
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_dealerName'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_Email'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_dealerFax'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_dealerAddress1'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_dealerAddress2'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_dealerAddress3'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_dealerCountry'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_dealerCity'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_dealerProvince'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_PoBox'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_ZipCode'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_Active'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_Code'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_PanNumber'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'VehicleDealerDialog_MANF_TaxNumber'), 1, 0,1000,CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="44" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID = (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport');

                INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'), 1,'Invoice For','STATICLIST','Invoice For','t.invoicefor','getTaxInvoiceFor','','','','0',0,0,0,1,'1','','','','',250,'0','=',1,1000,'Approved','','','','','',0,CURRENT_TIMESTAMP,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'),2,'CustCIF','LOVSEARCH','Customer ID','T.customerid','','Customer','getCustCIF','getCustShrtName','0',0,0,0,2,'1','','','','',250,'0','=',1,1000,'Approved','','','','','',0,CURRENT_TIMESTAMP,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'),8,'Date','DATERANGE','Date','T.invoicedate','','---Select----','','','0',0,0,0,6,'0','','','','',250,'0','=',1,1000,'Approved','','','','','',0,CURRENT_TIMESTAMP,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'),3,'Manufacturer','LOVSEARCH','Manufacturer ID','T.customerid','','ManufacturerDetails','getDealerId','getDealerName','0',0,0,0,2,'1','','','','',250,'0','=',1,1000,'Approved','','','','','',0,CURRENT_TIMESTAMP,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'),4,'Dealer','LOVSEARCH','Dealer ID','T.customerid','','SubventionDealer','getDealerId','getDealerName','0',0,0,0,2,'1','','','','',250,'0','=',1,1000,'Approved','','','','','',0,CURRENT_TIMESTAMP,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'),5,'FinReference','LOVSEARCH','Loan Reference','T.loanaccountno','','GSTFinanceMain','getFinReference','getFinReference','0',0,0,0,3,'0','','','','',250,'0','=',1,1000,'Approved','','','','','',0,CURRENT_TIMESTAMP,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'),7,'Invoice Number','LOVSEARCH','Invoice Number','T.invoiceno','','GSTInvoiceReport','getInvoiceNo','getInvoiceNo','0',0,0,0,5,'0','','','','',250,'0','=',1,1000,'Approved','','','','','',0,CURRENT_TIMESTAMP,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'),9,'Invoice Type','STATICLIST','Invoice Type','T.invoicetype','getInvoiceTypes','','','','0',0,0,0,7,'0','','','','',250,'0','=',1,1000,'Approved','','','','','',0,CURRENT_TIMESTAMP,'');
			]]>
		</sql>
	</changeSet>

	<changeSet id="45" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionMISReport';

				INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((SELECT MAX(REPORTID)+1 FROM REPORTCONFIGURATION), 'Excel:Subvention MIS Report', 'Subvention MIS Report', 1, 'SubventionMISReport', 'dataSource', 1, 'menu_Item_SubventionMISReport', 1, 1000, null, null, null, null, null, null, 0, CURRENT_TIMESTAMP, 0, 1, 0);

				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionMISReport'), 1, 'Date', 'DATERANGE', 'Date', 'svd.valuedate', '', '---Select----', '', '', '0', 0, 0, 0, 1, 1, '', '', '', '', 250, '0', '=', 1, 1000, 'Approved', '', '', '', '', '', 0, CURRENT_TIMESTAMP, '');
			]]>
		</sql>
	</changeSet>

	<changeSet id="46" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionAmortReport';

				INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((SELECT MAX(REPORTID)+1 FROM REPORTCONFIGURATION), 'Excel:Subvention Amortization Report', 'Subvention Amortization Report', 1, 'SubventionAmortizationReport', 'dataSource', 1, 'menu_Item_SubventionAmortReport', 1, 1000, null, null, null, null, null, null, 0, CURRENT_TIMESTAMP, 0, 1, 0);

				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionAmortReport'), 1, 'Start Date','DATE','Start Date','FM.finstartdate','','---Select----','','','0',0,0,0,1,1,'','','','',250,'0','>=',1,1000,'Approved','','','','','',0,current_timestamp,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionAmortReport'), 2, 'Maturity Date','DATE','Maturity Date','FM.maturitydate','','---Select----','','','0',0,0,0,2,1,'','','','',250,'0','<=',1,1000,'Approved','','','','','',0,current_timestamp,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionAmortReport'), 3, 'Loan Reference','LOVSEARCH','Loan Reference','FM.FINREFERENCE',null,'FinanceMain','getFinReference','getFinReference',1,0,0,0,3,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionAmortReport'), 4, 'Manufacturer / Dealer Code','LOVSEARCH','Manufacturer / Dealer Code','fm.manufacturerdealerid',null,'SubventionManufacturerDetails','getManufacturerDealerId','getManufacturerDealerId',1,0,0,0,4,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
			]]>
		</sql>
	</changeSet>

	<changeSet id="47" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SUBVENTIONMIS_MAKER', 'Group for SUBVENTIONMIS Maker', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SUBVENTIONMIS_APPROVER', 'Group for SUBVENTIONMIS approver', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_SubventionMISReport', 'MENU', 0, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONMIS_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionMISReport'), 1, 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONMIS_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionMISReport'), 1, 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="47.1" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTIONMIS_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONMIS_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTIONMIS_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONMIS_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTIONMIS_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTIONMIS_APPROVER';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTIONMIS_MAKER', 'Role for SUBVENTIONMIS Maker', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTIONMIS_APPROVER', 'Role for SUBVENTIONMIS approver', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONMIS_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTIONMIS_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTIONMIS_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTIONMIS_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);	
			]]>
		</sql>
	</changeSet>

	<changeSet id="48" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SUBVENTION_AMORT_REPORT_MAKER', 'Group for SUBVENTION_AMORT_REPORT Maker', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SUBVENTION_AMORT_REPORT_APPROVER', 'Group for SUBVENTION_AMORT_REPORT approver', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_SubventionAmortReport', 'MENU', 0, 1000, CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionAmortReport'), 1, 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionAmortReport'), 1, 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="48.1" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_AMORT_REPORT_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_AMORT_REPORT_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTION_AMORT_REPORT_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTION_AMORT_REPORT_APPROVER';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTION_AMORT_REPORT_MAKER', 'Role for SUBVENTION AMORT REPORT Maker', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTION_AMORT_REPORT_APPROVER', 'Role for SUBVENTION AMORT REPORT approver', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_AMORT_REPORT_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_AMORT_REPORT_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);	
			]]>
		</sql>
	</changeSet>

	<changeSet id="49" author="Gopal.p">
		<addColumn tableName="GST_INVOICE_TXN">
			<column name="InvoiceFor" type="char(1)" />
		</addColumn>
	</changeSet>

	<changeSet id="50" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE GST_INVOICE_TXN SET InvoiceFor = 'C';
			]]>
		</sql>
	</changeSet>

	<changeSet id="51" author="Gopal.p" dbms="postgresql, oracle">
		<addDefaultValue columnName="InvoiceFor" tableName="GST_INVOICE_TXN" defaultValue="C" />
	</changeSet>

	<changeSet id="51" author="Gopal.p" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE GST_INVOICE_TXN ADD CONSTRAINT DF_INVTX_InvoiceFor DEFAULT 'C' FOR InvoiceFor;
			]]>
		</sql>
	</changeSet>

	<changeSet id="52" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CollateralDelink_MAKER', 'Group for CollateralDelink Maker', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CollateralDelink_APPROVER', 'Group for CollateralDelink approver', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_CollateralDelink', 'MENU', 0, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CollateralDelink_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_CollateralDelink'), 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CollateralDelink_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_CollateralDelink'), 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
			]]>
		</sql>
	</changeSet>

	<changeSet id="52.1" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SECGROUPS SET GRPCODE = 'COLLATERALDELINK_MAKER' WHERE GRPCODE = 'CollateralDelink_MAKER';
				UPDATE SECGROUPS SET GRPCODE = 'COLLATERALDELINK_APPROVER' WHERE GRPCODE = 'CollateralDelink_APPROVER';
				
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'COLLATERALDELINK_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'COLLATERALDELINK_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'COLLATERALDELINK_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'COLLATERALDELINK_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'COLLATERALDELINK_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'COLLATERALDELINK_APPROVER';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'COLLATERALDELINK_MAKER', 'Role for Collateral Delink Maker', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'COLLATERALDELINK_APPROVER', 'Role for Collateral Delink approver', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'COLLATERALDELINK_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'COLLATERALDELINK_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'COLLATERALDELINK_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'COLLATERALDELINK_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);	
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="53" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionMISReport');
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionMISReport';

				INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((select max(reportid)+1 from REPORTCONFIGURATION),'Excel:Subvention MIS Report','Subvention MIS Report',1,'SubventionMISReport','dataSource',1,'menu_Item_SubventionMISReport',1,1000,null,null,null,null,null,null,0,current_timestamp,0,1,0);
				
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionMISReport'), 1, 'Start Date','DATE','Start Date','FM.finstartdate', '', '---Select----', '', '', '0', 0, 0, 0, 1, 1, '', '', '', '', 250, '0', '>=', 1, 1000, 'Approved', '', '', '', '', '', 0, current_timestamp, '');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionMISReport'), 2, 'Maturity Date','DATE','Maturity Date','FM.maturitydate', '', '---Select----', '', '', '0', 0, 0, 0, 2, 1, '', '', '', '', 250, '0', '<=', 1, 1000, 'Approved', '', '', '', '', '', 0, current_timestamp, '');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionMISReport'), 3, 'Receipt Date','DATERANGE','Receipt Date','svd.valuedate', '', '---Select----', '', '', '0', 0, 0, 0, 3, 0, '', '', '', '', 250, '0', '=', 1, 1000, 'Approved', '', '', '', '', '', 0, current_timestamp, '');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionMISReport'), 4, 'Loan Reference','LOVSEARCH','Loan Reference','svd.FINREFERENCE',null,'FinanceMain','getFinReference','getFinReference', 1, 0, 0, 0, 4, 0, ' ', ' ', ' ', ' ', 250, 0, '=', 1, 1000, 'Approved', null, null, null, null, null, 0, current_timestamp, null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_SubventionMISReport'), 5, 'Manufacturer / Dealer Code','LOVSEARCH','Manufacturer / Dealer Code','fm.manufacturerdealerid',null,'SubventionManufacturerDetails','getManufacturerDealerId','getManufacturerDealerId', 1, 0, 0, 0, 5, 0, ' ', ' ', ' ', ' ', 250, 0, '=', 1, 1000, 'Approved', null, null, null, null, null, 0, current_timestamp, null);
			]]>
		</sql>
	</changeSet>

	<changeSet id="54" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID = (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport');

                INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'), 1, 'Invoice For','STATICLIST','Invoice For','t.invoicefor','getTaxInvoiceFor','','','','0',0,0,0,1,'1','','','','',250,'0','=',1,1000,'Approved','','','','','',0,current_timestamp,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'), 2, 'CustCIF','LOVSEARCH','Customer ID','T.customerid','','Customer','getCustCIF','getCustShrtName','0',0,0,0,2,'1','','','','',250,'0','=',1,1000,'Approved','','','','','',0,current_timestamp,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'), 7, 'Date','DATERANGE','Date','T.invoicedate','','---Select----','','','0',0,0,0,6,'0','','','','',250,'0','=',1,1000,'Approved','','','','','',0,current_timestamp,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'), 3, 'Manufacturer','LOVSEARCH','Manufacturer ID','T.customerid','','ManufacturerDetails','getDealerId','getDealerName','0',0,0,0,2,'1','','','','',250,'0','=',1,1000,'Approved','','','','','',0,current_timestamp,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'), 4, 'Dealer','LOVSEARCH','Dealer ID','T.customerid','','SubventionDealer','getDealerId','getDealerName','0',0,0,0,2,'1','','','','',250,'0','=',1,1000,'Approved','','','','','',0,current_timestamp,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'), 5, 'FinReference','LOVSEARCH','Loan Reference','T.loanaccountno','','GSTFinanceMain','getFinReference','getFinReference','0',0,0,0,3,'0','','','','',250,'0','=',1,1000,'Approved','','','','','',0,current_timestamp,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'), 6, 'Invoice Number','LOVSEARCH','Invoice Number','T.invoiceno','','GSTInvoiceReport','getInvoiceNo','getInvoiceNo','0',0,0,0,5,'0','','','','',250,'0','=',1,1000,'Approved','','','','','',0,current_timestamp,'');
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_GST_InvoiceReport'), 8, 'Invoice Type','STATICLIST','Invoice Type','T.invoicetype','getInvoiceTypes','','','','0',0,0,0,7,'0','','','','',250,'0','=',1,1000,'Approved','','','','','',0,current_timestamp,'');
			]]>
		</sql>
	</changeSet>

	<changeSet id="55" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'PRESENTMENT_FILEIMPORT' and CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'UTRNUMBER', 0, 'N', null, null, null, null, 12, null,null, null, null, 'O');
			]]>
		</sql>
	</changeSet>

	<changeSet id="56" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_COLUMN SET NAME = 'UTR_NUMBER' WHERE TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'PRESENTMENT_FILEIMPORT' and CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')) and NAME = 'UTRNUMBER';
			]]>
		</sql>
	</changeSet>

	<changeSet id="57" author="Gopal.p">
		<addColumn tableName="PRESENTMENT_FILEIMPORT">
			<column name="UTRNUMBER" type="varchar(50)" />
		</addColumn>
	</changeSet>

	<changeSet id="58" author="Gopal.p">
		<renameColumn tableName="PRESENTMENT_FILEIMPORT" oldColumnName="UTRNUMBER" newColumnName="UTR_NUMBER" />
	</changeSet>

	<changeSet id="59" author="Gopal.p">
		<addColumn tableName="PRESENTMENTDETAILS">
			<column name="UTRNUMBER" type="varchar(50)" />
		</addColumn>
	</changeSet>

	<changeSet id="60" author="Gopal.p">
		<renameColumn tableName="PRESENTMENTDETAILS" oldColumnName="UTRNUMBER" newColumnName="UTR_NUMBER" />
	</changeSet>

	<changeSet id="61" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_CovenantReport');
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_CovenantReport';

				INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((SELECT MAX(REPORTID)+1 FROM REPORTCONFIGURATION), 'Excel:Covenant Report', 'Covenant Report', 1, 'CovenantReport', 'dataSource', 1, 'menu_Item_CovenantReport', 1, 1000, null, null, null, null, null, null, 0, CURRENT_TIMESTAMP, 0, 1, 0);
			
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_CovenantReport'), 1, 'Loan Reference', 'LOVSEARCH', 'Loan Reference', 'LOANNUMBER', null, 'CovenantReport', 'getKeyReference', 'getKeyReference', 0, 0, 0, 0, 1, 1, ' ', ' ', ' ', ' ', 250, 0, '=', 1, 1000, 'Approved', null, null, null, null, null, 0, CURRENT_TIMESTAMP, null);
			]]>
		</sql>
	</changeSet>

	<changeSet id="62" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CovenantsLOD_Reports', 'Group for Covenants LOD Reports', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_CovenantReport', 'MENU', 0, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_CustomerTemplates_CovenantStatusReport', 'MENU', 0, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CovenantsLOD_Reports'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_CovenantReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CovenantsLOD_Reports'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_CustomerTemplates_CovenantStatusReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="62.1" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SECGROUPS SET GRPCODE = 'COVENANTSLOD_REPORTS' WHERE GRPCODE = 'CovenantsLOD_Reports';
				
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'COVENANTSLOD_REPORTS') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'COVENANTSLOD_REPORTS');
			
				DELETE FROM SECROLES WHERE ROLECD = 'COVENANTSLOD_REPORTS';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'COVENANTSLOD_REPORTS', 'Role for Covenants LOD Reports', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'COVENANTSLOD_REPORTS'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'COVENANTSLOD_REPORTS'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="63" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanbyMaturityDtls');
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanbyMaturityDtls';

				INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((SELECT MAX(REPORTID)+1 FROM REPORTCONFIGURATION), 'Excel:Loan By Maturity Details', 'Loan By Maturity Details', 1, 'LoanbyMaturity', 'dataSource', 1, 'menu_Item_LoanbyMaturityDtls', 1, 1000, null, null, null, null, null, null, 0, CURRENT_TIMESTAMP, 0, 0, 0);

				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanbyMaturityDtls'), 1, 'BranchCode', 'LOVSEARCH', 'Branch', 'T1.FinBranch', null, 'Branch', 'getBranchCode', 'getBranchDesc', 1, 0, 0, 0, 2, 0, ' ', ' ', ' ', ' ', 250, 0, '=', 1, 1000, 'Approved', null, null, null, null, null, 0, CURRENT_TIMESTAMP, null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanbyMaturityDtls'), 3, 'FinType','LOVSEARCH','Loan Type','T1.FinType',null,'FinanceType','getFinType','getFinTypeDesc',1,0,0,0,3,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);	
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanbyMaturityDtls'), 5, 'Start Date','DATERANGE','Start Date','T1.FinStartDate',null,'---Select----',null,null,0,0,0,0,5,0,null,null,null,null,150,0,'=',3,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanbyMaturityDtls'), 6, 'Maturity Date','DATERANGE','Maturity Date','T1.MaturityDate',null,'---Select----',null,null,0,0,0,0,6,0,null,null,null,null,150,0,'=',3,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanbyMaturityDtls'), 8, 'Finance Status','STATICLIST','Loan Status','T1.FinIsActive','getFinanceStatusList',null,null,null,0,0,0,0,8,0,null,null,null,null,250,0,'=',3,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanbyMaturityDtls'), 9, 'DivisionCode','LOVSEARCH','Division Code','T2.FinDivision',null,'DivisionDetail','getDivisionCode','getDivisionCodeDesc',1,0,0,0,1,1,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
			]]>
		</sql>
	</changeSet>

	<changeSet id="64" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID) + 1 FROM SECRIGHTS), 0, 'menu_Item_LoanbyMaturityDtls','MENU', 0, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'REPORTS_ADMIN'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LoanbyMaturityDtls'), 1, 1, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="65.1" author="Gopal.p" >
		<addColumn tableName="COVENANT_DOCUMENTS">
			<column name="OriginalDocument" type="smallint"/>
		</addColumn>
	</changeSet>
	

	<changeSet id="65" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE COVENANT_DOCUMENTS Set OriginalDocument = 0 Where OriginalDocument is null;
			]]>
		</sql>
	</changeSet>

	<changeSet id="66" author="Gopal.p" dbms="postgresql, oracle">
		<addDefaultValue columnName="OriginalDocument" tableName="COVENANT_DOCUMENTS" defaultValue="0" />
	</changeSet>

	<changeSet id="66" author="Gopal.p" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE COVENANT_DOCUMENTS ADD CONSTRAINT DF_CD_OriginalDocument DEFAULT 0 FOR OriginalDocument;
			]]>
		</sql>
	</changeSet>

	<changeSet id="67" author="Gopal.p" dbms="postgresql">
		<addNotNullConstraint tableName="COVENANT_DOCUMENTS" columnName="OriginalDocument"
			columnDataType="smallint" />
	</changeSet>
	
	<changeSet id="68.1" author="Gopal.p" >
		<addColumn tableName="COVENANT_DOCUMENTS_TEMP">
			<column name="OriginalDocument" type="smallint"/>
		</addColumn>
	</changeSet>

	<changeSet id="68" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE COVENANT_DOCUMENTS_TEMP Set OriginalDocument = 0 Where OriginalDocument is null;
			]]>
		</sql>
	</changeSet>

	<changeSet id="69" author="Gopal.p" dbms="postgresql, oracle">
		<addDefaultValue columnName="OriginalDocument" tableName="COVENANT_DOCUMENTS_TEMP" defaultValue="0" />
	</changeSet>

	<changeSet id="69" author="Gopal.p" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE COVENANT_DOCUMENTS_TEMP ADD CONSTRAINT DF_CDT_OriginalDocument DEFAULT 0 FOR OriginalDocument;
			]]>
		</sql>
	</changeSet>

	<changeSet id="70" author="Gopal.p" dbms="postgresql">
		<addNotNullConstraint tableName="COVENANT_DOCUMENTS_TEMP" columnName="OriginalDocument"
			columnDataType="smallint" />
	</changeSet>

	<changeSet id="71" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LMSReceiptReport');
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LMSReceiptReport';
				
				INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((SELECT MAX(REPORTID)+1 FROM REPORTCONFIGURATION), 'Excel:LMS Receipt Report', 'LMS Receipt Report', 1, 'LMSReceiptReport', 'dataSource', 1, 'menu_Item_LMSReceiptReport', 1, 1000, null, null, null, null, null, null, 0, CURRENT_TIMESTAMP, 0, 1, 0);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LMSReceiptReport'), 1, 'CustCIF','LOVSEARCH','Customer Number','c.custcif',null,'Customer','getCustCIF','"getCustShrtName"',0,0,0,0,1,0,' ',' ',' ',' ',250,0,'=',1, 1000, 'Approved', null, null, null, null, null, 0, CURRENT_TIMESTAMP, null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LMSReceiptReport'), 2, 'Receipt Mode Status', 'STATICLIST', 'Receipt Mode Status', 't1.ReceiptModeStatus', 'getReceiptModeStatus', null, null, null, 0, 0, 0, 0, 2, 0, null, null, null, null, 250,0, '=', 3, 1000, 'Approved', null, null, null, null, null, 0, CURRENT_TIMESTAMP, null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LMSReceiptReport'), 3, 'FinReference','LOVSEARCH','Loan Reference','T1.Reference',null,'FinanceMain','getFinReference','getFinReference',0,0,0,0,3,0,' ',' ',' ',' ',250,0,'=',1, 1000, 'Approved', null, null, null, null, null, 0, CURRENT_TIMESTAMP, null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LMSReceiptReport'), 4, 'Receipt Mode','TXT','Receipt Mode','T2.PaymentType',null,null,null,null,0,20,0,0,4,0,null,null,null,null,150,0,'%',3, 1000, 'Approved', null, null, null, null, null, 0, CURRENT_TIMESTAMP, null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LMSReceiptReport'), 5, 'Receipt Purpose','TXT','Receipt Purpose','T1.RECEIPTPURPOSE','null',null,null,null,0,20,0,0,5,0,null,null,null,null,250,0,'%',3, 1000, 'Approved', null, null, null, null, null, 0, CURRENT_TIMESTAMP, null);
				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LMSReceiptReport'), 6, 'Transaction Date','DATE','Transaction Date','T2.ReceivedDate',null,'---Select----',null,null,0,0,0,0,6,0,null,null,null,null,150,0,'=',3, 1000, 'Approved', null, null, null, null, null, 0, CURRENT_TIMESTAMP, null);
			 ]]>
		</sql>
	</changeSet>

	<changeSet id="72" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_LMSReceiptReport', 'MENU', 0, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'REPORTS_ADMIN'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LMSReceiptReport'), 1, 1, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="73" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_ReceiptDetails');
			]]>
		</sql>
	</changeSet>

	<changeSet id="74" author="Gopal.p">
		<sql>
			<![CDATA[		
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_LinkedFinancesDialog_btnSave', 'LinkedFinancesDialog', 0, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_LinkedFinancesDialog_btnRemove', 'LinkedFinancesDialog', 0, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_LinkedFinancesDialog_btnLink', 'LinkedFinancesDialog', 0, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'LinkedFinancesDialog_finReference', 'LinkedFinancesDialog', 0, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_LinkingDelinking','MENU', 0, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0); 
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'LinkedFinancesDialog_checkBox', 'LinkedFinancesDialog', 0, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
					
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'LINKEDFINANCES_MAKER', 'Linked finances maker', 0, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'LINKEDFINANCES_APPROVER', 'Linked finances approver', 0, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_LinkedFinancesDialog_btnSave'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_LinkedFinancesDialog_btnRemove'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_LinkedFinancesDialog_btnLink'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'LinkedFinancesDialog_finReference'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_LinkingDelinking'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'LinkedFinancesDialog_checkBox'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_LinkingDelinking'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_LinkedFinancesDialog_btnSave'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="74.1" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'LINKEDFINANCES_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'LINKEDFINANCES_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'LINKEDFINANCES_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'LINKEDFINANCES_APPROVER';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'LINKEDFINANCES_MAKER', 'Role for Linked finances maker', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'LINKEDFINANCES_APPROVER', 'Role for Linked finances approver', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'LINKEDFINANCES_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'LINKEDFINANCES_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'LINKEDFINANCES_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);	
			]]>
		</sql>
	</changeSet>
	

	<changeSet id="75" author="Gopal.p">
		<createTable tableName="LINKEDFINANCES">
			<column name="LinkedFinancesSeq" type="bigint" autoIncrement="true" />
			<column name="FinReference" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="LinkedReference" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="Status" type="Varchar2(8)" />
			<column name="Version" type="int" />
			<column name="LastmntBy" type="bigint" />
			<column name="LastmntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>

	<changeSet id="76" author="Gopal.p" dbms="postgresql, oracle">
		<addDefaultValue columnName="WorkflowId" tableName="LINKEDFINANCES" defaultValue="0" />
	</changeSet>

	<changeSet id="76" author="Gopal.p" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE LINKEDFINANCES ADD CONSTRAINT DF_LF_workflowid DEFAULT 0 FOR workflowid;
			]]>
		</sql>
	</changeSet>

	<changeSet id="77" author="Gopal.p">
		<createTable tableName="LINKEDFINANCES_TEMP">
			<column name="LinkedFinancesSeq" type="bigint" autoIncrement="true" />
			<column name="FinReference" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="LinkedReference" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="Status" type="Varchar2(8)" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>

	<changeSet id="78" author="Gopal.p" dbms="postgresql, oracle">
		<addDefaultValue columnName="WorkflowId" tableName="LINKEDFINANCES_TEMP" defaultValue="0" />
	</changeSet>

	<changeSet id="78" author="Gopal.p" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE LINKEDFINANCES_TEMP ADD CONSTRAINT DF_LFT_workflowid DEFAULT 0 FOR workflowid;
			]]>
		</sql>
	</changeSet>

	<changeSet id="79" author="Gopal.p">
		<sql>
			<![CDATA[	
				DELETE FROM ERRORDETAILS WHERE CODE = '90500';			
				INSERT INTO ERRORDETAILS (CODE, LANGUAGE, SEVERITY, MESSAGE, EXTENDEDMESSAGE, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, LASTMNTBY, VERSION) VALUES ('90500', 'EN', 'E', '{0}  is Linked with {1}  . Please Delink to Proceed ', '', 'Approved', '', '', '', '', '', 0, CURRENT_TIMESTAMP, 1000, 0);			
		    ]]>
		</sql>
	</changeSet>

	<changeSet id="80_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'linkedfinances');
				select deps_save_and_drop_dependencies ('plf', 'linkedfinances_temp');
			]]>
		</sql>
	</changeSet>
	
	
	<changeSet id="80.1_pre" author="Gopal.p">
		<createView viewName="LINKEDFINANCES_AVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, 
					T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID, 
					C.CUSTSHRTNAME, 
					T1.STATUS
				FROM LINKEDFINANCES T1 
				INNER JOIN FINANCEMAIN_TEMP F ON T1.LINKEDREFERENCE = F.FINREFERENCE AND F.QUICKDISB = 1 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
				UNION ALL 
				SELECT T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, 
					T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID, 
					C.CUSTSHRTNAME, 
					T1.STATUS
				FROM LINKEDFINANCES T1 
				INNER JOIN FINANCEMAIN F ON T1.LINKEDREFERENCE = F.FINREFERENCE 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
			]]>	
		</createView>
	</changeSet>

	<changeSet id="80.2_pre" author="Gopal.p">
		<createView viewName="LINKEDFINANCES_TVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, 
					T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID, 
					C.CUSTSHRTNAME, 
					T1.STATUS,
					F.QUICKDISB
				FROM LINKEDFINANCES_TEMP T1 
				INNER JOIN FINANCEMAIN_TEMP F ON T1.LINKEDREFERENCE = F.FINREFERENCE AND F.QUICKDISB = 1 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
				UNION ALL 
				SELECT T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, 
					T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID, 
					C.CUSTSHRTNAME, 
					T1.STATUS,
					F.QUICKDISB
				FROM LINKEDFINANCES_TEMP T1 
				INNER JOIN FINANCEMAIN F ON T1.LINKEDREFERENCE = F.FINREFERENCE 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
			]]>	
		</createView>
	</changeSet>

	<changeSet id="80.3_pre" author="Gopal.p">
		<createView viewName="LINKEDFINANCES_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, 
					T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID, 
					C.CUSTSHRTNAME, 
					T1.STATUS
				FROM LINKEDFINANCES_TEMP T1 
				INNER JOIN FINANCEMAIN F ON T1.LINKEDREFERENCE = F.FINREFERENCE 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
				UNION ALL
				SELECT	T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID,  
					C.CUSTSHRTNAME, 
					T1.STATUS
				FROM LINKEDFINANCES T1 
				INNER JOIN FINANCEMAIN F ON T1.LINKEDREFERENCE = F.FINREFERENCE 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
				WHERE NOT EXISTS (SELECT 1 FROM LINKEDFINANCES_TEMP WHERE  FINREFERENCE = T1.FINREFERENCE)
			]]>
		</createView>
	</changeSet>

	<changeSet id="80.1" author="Gopal.p">
		<renameColumn tableName="LINKEDFINANCES_TEMP" oldColumnName="LinkedFinancesSeq" newColumnName="ID" />
	</changeSet>

	<changeSet id="80.2" author="Gopal.p">
		<renameColumn tableName="LINKEDFINANCES" oldColumnName="LinkedFinancesSeq" newColumnName="ID" />
	</changeSet>

	<changeSet id="80.3" author="Gopal.p">
		<addPrimaryKey tableName="LINKEDFINANCES" columnNames="ID" constraintName="PK_LINKEDFINANCES_ID" />
	</changeSet>

	<changeSet id="80.4" author="Gopal.p">
		<addPrimaryKey tableName="LINKEDFINANCES_TEMP" columnNames="ID"
			constraintName="PK_LINKEDFINANCES_TEMP_ID" />
	</changeSet>

	<changeSet id="80_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'linkedfinances');
				select deps_restore_dependencies ('plf', 'linkedfinances_temp');
			]]>
		</sql>
	</changeSet>

	<changeSet id="81" author="Gopal.p">
		<createSequence sequenceName="SeqLinkedFinances" startValue="1" maxValue="9223372036854775807"
			incrementBy="1" />
	</changeSet>

	<changeSet id="82" author="Gopal.p">
		<sql>
			<![CDATA[		
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'BFSD_ORIGINATION_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_LinkedFinancesDialog_btnRemove'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'BFSD_ORIGINATION_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_LinkedFinancesDialog_btnLink'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'BFSD_ORIGINATION_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'LinkedFinancesDialog_finReference'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'BFSD_ORIGINATION_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'LinkedFinancesDialog_checkBox'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'BFSD_ORIGINATION_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_LinkedFinancesDialog_btnSave'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'BFSD_ORIGINATION_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_LinkedFinancesDialog_btnSave'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="83" author="Gopal.p">
		<createTable tableName="Partnerbanks_Data_Engine">
			<column name="Id" type="bigint" autoIncrement="true" />
			<column name="PartnerBankId" type="bigint" />
			<column name="PaymentType" type="varchar(10)" />
			<column name="Config_Name" type="varchar(50)" />
			<column name="Version" type="int" />
			<column name="LastmntBy" type="bigint" />
			<column name="LastmntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>

	<changeSet id="84" author="Gopal.p">
		<addPrimaryKey tableName="PARTNERBANKS_DATA_ENGINE" columnNames="Id"
			constraintName="pk_Partnerbanks_Data_Engine" />
	</changeSet>

	<changeSet id="85" author="Gopal.p" dbms="postgresql, oracle">
		<addDefaultValue columnName="workflowid" tableName="PARTNERBANKS_DATA_ENGINE" defaultValue="0" />
	</changeSet>

	<changeSet id="85" author="Gopal.p" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE PARTNERBANKS_DATA_ENGINE ADD CONSTRAINT DF_PBDE_workflowid DEFAULT 0 FOR workflowid;
			]]>
		</sql>
	</changeSet>
<!-- //script need to changed based on client partnerbanks -->
	<!-- <changeSet id="86" author="Gopal.p">
		<sql>
			<![CDATA[
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(1, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = '100'), 'IMPS', 'DISB_EXPORT_DEFAULT', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(2, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = '100'), 'N', 'DISB_EXPORT_DEFAULT', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(3, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = '100'), 'R', 'DISB_EXPORT_DEFAULT', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(4, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = '100'), 'D', 'DISB_EXPORT_CHEQUE_DD', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(5, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = '100'), 'C', 'DISB_EXPORT_CHEQUE_DD', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(6, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = '100'), 'I', 'DISB_EXPORT_DEFAULT', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);				
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(7, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = 'ATPART'),'IMPS', 'DISB_EXPORT_DEFAULT', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(8, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = 'ATPART'), 'N', 'DISB_EXPORT_DEFAULT', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(9, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = 'ATPART'), 'R', 'DISB_EXPORT_DEFAULT', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(10, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = 'ATPART'), 'D', 'DISB_EXPORT_CHEQUE_DD', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(11, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = 'ATPART'), 'C', 'DISB_EXPORT_CHEQUE_DD', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
				INSERT INTO PARTNERBANKS_DATA_ENGINE (ID, PARTNERBANKID, PAYMENTTYPE, CONFIG_NAME, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES	(12, (SELECT PARTNERBANKID FROM PARTNERBANKS WHERE PARTNERBANKCODE = 'ATPART'), 'I', 'DISB_EXPORT_DEFAULT', 1, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet> -->

	<changeSet id="87_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'linkedfinances_aview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="87" author="Gopal.p">
		<createView viewName="LINKEDFINANCES_AVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.ID, 
					T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, 
					T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID, 
					C.CUSTSHRTNAME, 
					T1.STATUS
				FROM LINKEDFINANCES T1 
				INNER JOIN FINANCEMAIN_TEMP F ON T1.LINKEDREFERENCE = F.FINREFERENCE AND F.QUICKDISB = 1 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
				UNION ALL 
				SELECT T1.ID, 
					T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, 
					T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID, 
					C.CUSTSHRTNAME, 
					T1.STATUS
				FROM LINKEDFINANCES T1 
				INNER JOIN FINANCEMAIN F ON T1.LINKEDREFERENCE = F.FINREFERENCE 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
			]]>	
		</createView>
	</changeSet>

	<changeSet id="87_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'linkedfinances_aview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="88_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'linkedfinances_tview');
			]]>
		</sql>
	</changeSet>
	<changeSet id="88" author="Gopal.p">
		<createView viewName="LINKEDFINANCES_TVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.ID, 
					T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, 
					T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID, 
					C.CUSTSHRTNAME, 
					T1.STATUS,
					F.QUICKDISB
				FROM LINKEDFINANCES_TEMP T1 
				INNER JOIN FINANCEMAIN_TEMP F ON T1.LINKEDREFERENCE = F.FINREFERENCE AND F.QUICKDISB = 1 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
				UNION ALL 
				SELECT T1.ID, 
					T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, 
					T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID, 
					C.CUSTSHRTNAME, 
					T1.STATUS,
					F.QUICKDISB
				FROM LINKEDFINANCES_TEMP T1 
				INNER JOIN FINANCEMAIN F ON T1.LINKEDREFERENCE = F.FINREFERENCE 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
			]]>	
		</createView>
	</changeSet>

	<changeSet id="88_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'linkedfinances_tview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="89_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'linkedfinances_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="89" author="Gopal.p">
		<createView viewName="LINKEDFINANCES_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.ID, 
					T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, 
					T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID, 
					C.CUSTSHRTNAME, 
					T1.STATUS
				FROM LINKEDFINANCES_TEMP T1 
				INNER JOIN FINANCEMAIN F ON T1.LINKEDREFERENCE = F.FINREFERENCE 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
				UNION ALL
				SELECT	T1.ID, 
					T1.FINREFERENCE,  
					T1.LINKEDREFERENCE, 
					F.FINTYPE LINKEDFINTYPE, 
					T1.VERSION, T1.LASTMNTBY, 
					T1.LASTMNTON, 
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE,
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID,  
					C.CUSTSHRTNAME, 
					T1.STATUS
				FROM LINKEDFINANCES T1 
				INNER JOIN FINANCEMAIN F ON T1.LINKEDREFERENCE = F.FINREFERENCE 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
				WHERE NOT EXISTS (SELECT 1 FROM LINKEDFINANCES_TEMP WHERE  FINREFERENCE = T1.FINREFERENCE)
			]]>
		</createView>
	</changeSet>

	<changeSet id="89_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'linkedfinances_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="90_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'linkedFinmaintenance_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="90" author="Gopal.p">
		<createView viewName="LINKEDFINMAINTENANCE_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.FINREFERENCE,
					T1.FINBRANCH,
					T1.FINTYPE,
					T1.FINCCY,
					T1.SCHEDULEMETHOD,
					T1.PROFITDAYSBASIS,
					T1.FINSTARTDATE,
					T1.NUMBEROFTERMS,
					T1.CUSTID,
					T1.FINAMOUNT,
					T1.MATURITYDATE,
					T1.FINREPAYMENTAMOUNT,
					T1.FINISACTIVE,
					T1.BLACKLISTED,
					T1.FEECHARGEAMT,
					T1.INSURANCEAMT,
					T1.GRACETERMS,
					T1.ALLOWGRCPERIOD,
					T1.GRCPERIODENDDATE,
					T1.ALWMULTIDISB,
					T1.DEFFERMENTS,
					T1.ALLOWGRCPFTRVW,
					T1.ALLOWREPAYRVW,
					T1.LASTREPAYDATE,
					T1.LASTREPAYPFTDATE,
					T1.ALLOWEDDEFRPYCHANGE,
					T1.AVAILEDDEFRPYCHANGE,
					T1.MIGRATEDFINANCE,
					T1.CLOSINGSTATUS,
					T1.REPAYRATEBASIS,
					T1.MANUALSCHEDULE,
					T1.FINCURRASSETVALUE,
					T1.TAKEOVERFINANCE,
					T1.NEXTROLLOVERDATE,
					T1.AVAILEDUNPLANEMI,
					T1.AVAILEDREAGEH,
					T1.MAXUNPLANNEDEMI,
					T1.MAXREAGEHOLIDAYS,
					T1.DOWNPAYMENT,
					T1.PLANEMIHALW,
					T1.CALTERMS,
					T1.RATECHGANYDAY,
					T1.FINASSETVALUE,
					T2.CUSTCIF LOVDESCCUSTCIF,
					T3.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
					T3.FINDIVISION LOVDESCFINDIVISION,
					T3.FINCATEGORY LOVDESCPRODUCTCODENAME,
					T4.PRODUCTCATEGORY,
					COALESCE(T9.NOINST,0) NOINST,
					COALESCE(T5.ROLEDESC, ${add.schema}FN_GET_ROLEDESC(T10.NEXTROLECODE))  LOVDESCREQUESTSTAGE,
					T10.FINMAINTAINID,
					T10.EVENT  RCDMAINTAINSTS,
					T10.NEXTROLECODE,
					T10.RECORDSTATUS,
					T10.RECORDTYPE,
					T1.VERSION,
					T11.ENTITYCODE
				FROM FINMAINTAININSTRUCTIONS_TEMP T10
				JOIN FINANCEMAIN T1 ON T1.FINREFERENCE = T10.FINREFERENCE
				JOIN CUSTOMERS T2 ON T1.CUSTID = T2.CUSTID
				JOIN RMTFINANCETYPES T3 ON T1.FINTYPE = T3.FINTYPE
				LEFT JOIN SECROLES T5 ON T10.NEXTROLECODE = T5.ROLECD
				JOIN BMTPRODUCT T4 ON T3.FINCATEGORY = T4.PRODUCTCODE
				LEFT JOIN FINPFTDETAILS T9 ON T1.FINREFERENCE = T9.FINREFERENCE
				LEFT JOIN SMTDIVISIONDETAIL T11 ON T3.FinDivision=T11.DIVISIONCODE
				WHERE T10.EVENT = 'LinkDelink'
				UNION ALL
				SELECT T1.FINREFERENCE,
					T1.FINBRANCH,
					T1.FINTYPE,
					T1.FINCCY,
					T1.SCHEDULEMETHOD,
					T1.PROFITDAYSBASIS,
					T1.FINSTARTDATE,
					T1.NUMBEROFTERMS,
					T1.CUSTID,
					T1.FINAMOUNT,
					T1.MATURITYDATE,
					T1.FINREPAYMENTAMOUNT,
					T1.FINISACTIVE,
					T1.BLACKLISTED,
					T1.FEECHARGEAMT,
					T1.INSURANCEAMT,
					T1.GRACETERMS,
					T1.ALLOWGRCPERIOD,
					T1.GRCPERIODENDDATE,
					T1.ALWMULTIDISB,
					T1.DEFFERMENTS,
					T1.ALLOWGRCPFTRVW,
					T1.ALLOWREPAYRVW,
					T1.LASTREPAYDATE,
					T1.LASTREPAYPFTDATE,
					T1.ALLOWEDDEFRPYCHANGE,
					T1.AVAILEDDEFRPYCHANGE,
					T1.MIGRATEDFINANCE,
					T1.CLOSINGSTATUS,
					T1.REPAYRATEBASIS,
					T1.MANUALSCHEDULE,
					T1.FINCURRASSETVALUE,
					T1.TAKEOVERFINANCE,
					T1.NEXTROLLOVERDATE,
					T1.AVAILEDUNPLANEMI,
					T1.AVAILEDREAGEH,
					T1.MAXUNPLANNEDEMI,
					T1.MAXREAGEHOLIDAYS,
					T1.DOWNPAYMENT,
					T1.PLANEMIHALW,
					T1.CALTERMS,
					T1.RATECHGANYDAY,
					T1.FINASSETVALUE,
					T2.CUSTCIF LOVDESCCUSTCIF,
					T3.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
					T3.FINDIVISION LOVDESCFINDIVISION,
					T3.FINCATEGORY LOVDESCPRODUCTCODENAME,
					T4.PRODUCTCATEGORY,
					COALESCE(T9.NOINST,0) NOINST,
					NULL LOVDESCREQUESTSTAGE,
					NULL FINMAINTAINID,
					NULL RCDMAINTAINSTS,
					NULL NEXTROLECODE,
					NULL RECORDSTATUS,
					NULL RECORDTYPE,
					T1.VERSION,
					T11.ENTITYCODE
					FROM FINANCEMAIN T1
				JOIN CUSTOMERS T2 ON T1.CUSTID = T2.CUSTID
				JOIN RMTFINANCETYPES T3 ON T1.FINTYPE = T3.FINTYPE
				LEFT JOIN SECROLES T5 ON T1.NEXTROLECODE = T5.ROLECD
				JOIN BMTPRODUCT T4 ON T3.FINCATEGORY = T4.PRODUCTCODE
				LEFT JOIN FINPFTDETAILS T9 ON T1.FINREFERENCE = T9.FINREFERENCE
				LEFT JOIN SMTDIVISIONDETAIL T11 ON T3.FinDivision=T11.DIVISIONCODE
				WHERE NOT (EXISTS ( SELECT 1  EXPR1
				FROM FINMAINTAININSTRUCTIONS_TEMP
				WHERE FINMAINTAININSTRUCTIONS_TEMP.FINREFERENCE = T1.FINREFERENCE))
       		]]>
        </createView>
	</changeSet>

	<changeSet id="90_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'linkedFinmaintenance_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="91_pre" author="saiVarun.R" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'covenant_documents_aview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="91" author="saiVarun.R">
		<createView viewName="COVENANT_DOCUMENTS_AVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT CD.ID,
					CD.COVENANTID,
					CD.COVENANTTYPE,
					CD.RECEIVABLEDATE,
					CD.DOCUMENTRECEIVEDDATE,
					CD.FREQUENCYDATE,
					CD.DOCUMENTID,
					DD.DOCCATEGORY,
					DD.DOCTYPE,
					DD.DOCNAME,
					CD.VERSION,
					CD.LASTMNTBY,
					CD.LASTMNTON,
					CD.RECORDSTATUS,
					CD.ROLECODE,
					CD.NEXTROLECODE,
					CD.TASKID,
					CD.NEXTTASKID,
					CD.RECORDTYPE,
					CD.ORIGINALDOCUMENT,
					CD.WORKFLOWID
				FROM COVENANT_DOCUMENTS CD
				LEFT JOIN DOCUMENTDETAILS DD ON DD.DOCID = CD.DOCUMENTID
			]]>
		</createView>
	</changeSet>

	<changeSet id="91_post" author="saiVarun.R" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'covenant_documents_aview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="92_pre" author="saiVarun.R" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'covenant_documents_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="92" author="saiVarun.R">
		<createView viewName="COVENANT_DOCUMENTS_VIEW" replaceIfExists="true">
			<![CDATA[
  				SELECT CD.ID,
					CD.COVENANTID,
					CD.COVENANTTYPE,
					CD.RECEIVABLEDATE,
					CD.DOCUMENTRECEIVEDDATE,
					CD.FREQUENCYDATE,
					CD.DOCUMENTID,
					DD.DOCREFID,
					DD.DOCCATEGORY,
					DD.DOCTYPE,
					DD.DOCNAME,
					CD.VERSION,
					CD.LASTMNTBY,
					CD.LASTMNTON,
					CD.RECORDSTATUS,
					CD.ROLECODE,
					CD.NEXTROLECODE,
					CD.TASKID,
					CD.NEXTTASKID,
					CD.RECORDTYPE,
					CD.ORIGINALDOCUMENT,
					CD.WORKFLOWID
				FROM COVENANT_DOCUMENTS_TEMP CD
				LEFT JOIN DOCUMENTDETAILS_TEMP DD ON DD.DOCID = CD.DOCUMENTID
				UNION ALL
				SELECT CD.ID,
					CD.COVENANTID,
					CD.COVENANTTYPE,
					CD.RECEIVABLEDATE,
					CD.DOCUMENTRECEIVEDDATE,
					CD.FREQUENCYDATE,
					CD.DOCUMENTID,
					DD.DOCREFID,
					DD.DOCCATEGORY,
					DD.DOCTYPE,
					DD.DOCNAME,
					CD.VERSION,
					CD.LASTMNTBY,
					CD.LASTMNTON,
					CD.RECORDSTATUS,
					CD.ROLECODE,
					CD.NEXTROLECODE,
					CD.TASKID,
					CD.NEXTTASKID,
					CD.RECORDTYPE,
					CD.ORIGINALDOCUMENT,
					CD.WORKFLOWID
				FROM COVENANT_DOCUMENTS CD
				LEFT JOIN DOCUMENTDETAILS DD ON DD.DOCID = CD.DOCUMENTID
				WHERE NOT (EXISTS ( SELECT 1 FROM COVENANT_DOCUMENTS_TEMP
					WHERE COVENANT_DOCUMENTS_TEMP.ID = CD.ID))
			]]>
		</createView>
	</changeSet>

	<changeSet id="92_post" author="saiVarun.R" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'covenant_documents_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="93_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'collateralsmaintenance_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="93" author="Gopal.p" >
		<createView viewName="COLLATERALSMAINTENANCE_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.FINREFERENCE,
					T1.FINBRANCH,
					T1.FINTYPE,
					T1.FINCCY,
					T1.SCHEDULEMETHOD,
					T1.PROFITDAYSBASIS,
					T1.FINSTARTDATE,
					T1.NUMBEROFTERMS,
					T1.CUSTID,
					T1.FINAMOUNT,
					T1.MATURITYDATE,
					T1.FINREPAYMENTAMOUNT,
					T1.FINISACTIVE,
					T1.BLACKLISTED,
					T1.FEECHARGEAMT,
					T1.INSURANCEAMT,
					T1.GRACETERMS,
					T1.ALLOWGRCPERIOD,
					T1.GRCPERIODENDDATE,
					T1.ALWMULTIDISB,
					T1.DEFFERMENTS,
					T1.ALLOWGRCPFTRVW,
					T1.ALLOWREPAYRVW,
					T1.LASTREPAYDATE,
					T1.LASTREPAYPFTDATE,
					T1.ALLOWEDDEFRPYCHANGE,
					T1.AVAILEDDEFRPYCHANGE,
					T1.MIGRATEDFINANCE,
					T1.CLOSINGSTATUS,
					T1.REPAYRATEBASIS,
					T1.MANUALSCHEDULE,
					T1.FINCURRASSETVALUE,
					T1.TAKEOVERFINANCE,
					T1.NEXTROLLOVERDATE,
					T1.AVAILEDUNPLANEMI,
					T1.AVAILEDREAGEH,
					T1.MAXUNPLANNEDEMI,
					T1.MAXREAGEHOLIDAYS,
					T1.DOWNPAYMENT,
					T1.PLANEMIHALW,
					T1.CALTERMS,
					T1.RATECHGANYDAY,
					T1.FINASSETVALUE,
					T2.CUSTCIF LOVDESCCUSTCIF,
					T3.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
					T3.FINDIVISION LOVDESCFINDIVISION,
					T3.FINCATEGORY LOVDESCPRODUCTCODENAME,
					T4.PRODUCTCATEGORY,
					COALESCE(T9.NOINST,0) NOINST,
					COALESCE(T5.ROLEDESC, ${add.schema}FN_GET_ROLEDESC(T10.NEXTROLECODE))  LOVDESCREQUESTSTAGE,
					T10.FINMAINTAINID,
					T10.EVENT  RCDMAINTAINSTS,
					T10.NEXTROLECODE,
					T10.RECORDSTATUS,
					T10.RECORDTYPE,
					T1.VERSION
				FROM FINMAINTAININSTRUCTIONS_TEMP T10
				JOIN FINANCEMAIN T1 ON T1.FINREFERENCE = T10.FINREFERENCE
				JOIN CUSTOMERS T2 ON T1.CUSTID = T2.CUSTID
				JOIN RMTFINANCETYPES T3 ON T1.FINTYPE = T3.FINTYPE
				LEFT JOIN SECROLES T5 ON T10.NEXTROLECODE = T5.ROLECD
				JOIN BMTPRODUCT T4 ON T3.FINCATEGORY = T4.PRODUCTCODE
				LEFT JOIN FINPFTDETAILS T9 ON T1.FINREFERENCE = T9.FINREFERENCE
				WHERE T10.EVENT = 'Collaterals'
				UNION ALL
				SELECT T1.FINREFERENCE,
					T1.FINBRANCH,
					T1.FINTYPE,
					T1.FINCCY,
					T1.SCHEDULEMETHOD,
					T1.PROFITDAYSBASIS,
					T1.FINSTARTDATE,
					T1.NUMBEROFTERMS,
					T1.CUSTID,
					T1.FINAMOUNT,
					T1.MATURITYDATE,
					T1.FINREPAYMENTAMOUNT,
					T1.FINISACTIVE,
					T1.BLACKLISTED,
					T1.FEECHARGEAMT,
					T1.INSURANCEAMT,
					T1.GRACETERMS,
					T1.ALLOWGRCPERIOD,
					T1.GRCPERIODENDDATE,
					T1.ALWMULTIDISB,
					T1.DEFFERMENTS,
					T1.ALLOWGRCPFTRVW,
					T1.ALLOWREPAYRVW,
					T1.LASTREPAYDATE,
					T1.LASTREPAYPFTDATE,
					T1.ALLOWEDDEFRPYCHANGE,
					T1.AVAILEDDEFRPYCHANGE,
					T1.MIGRATEDFINANCE,
					T1.CLOSINGSTATUS,
					T1.REPAYRATEBASIS,
					T1.MANUALSCHEDULE,
					T1.FINCURRASSETVALUE,
					T1.TAKEOVERFINANCE,
					T1.NEXTROLLOVERDATE,
					T1.AVAILEDUNPLANEMI,
					T1.AVAILEDREAGEH,
					T1.MAXUNPLANNEDEMI,
					T1.MAXREAGEHOLIDAYS,
					T1.DOWNPAYMENT,
					T1.PLANEMIHALW,
					T1.CALTERMS,
					T1.RATECHGANYDAY,
					T1.FINASSETVALUE,
					T2.CUSTCIF LOVDESCCUSTCIF,
					T3.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
					T3.FINDIVISION LOVDESCFINDIVISION,
					T3.FINCATEGORY LOVDESCPRODUCTCODENAME,
					T4.PRODUCTCATEGORY,
					COALESCE(T9.NOINST,0) NOINST,
					NULL LOVDESCREQUESTSTAGE,
					NULL FINMAINTAINID,
					NULL RCDMAINTAINSTS,
					NULL NEXTROLECODE,
					NULL RECORDSTATUS,
					NULL RECORDTYPE,
					T1.VERSION
	    		FROM FINANCEMAIN T1
        		JOIN CUSTOMERS T2 ON T1.CUSTID = T2.CUSTID
       			JOIN RMTFINANCETYPES T3 ON T1.FINTYPE = T3.FINTYPE
        		LEFT JOIN SECROLES T5 ON T1.NEXTROLECODE = T5.ROLECD
        		JOIN BMTPRODUCT T4 ON T3.FINCATEGORY = T4.PRODUCTCODE
        		LEFT JOIN FINPFTDETAILS T9 ON T1.FINREFERENCE = T9.FINREFERENCE
				WHERE NOT (EXISTS ( SELECT 1  EXPR1 FROM FINMAINTAININSTRUCTIONS_TEMP
        			WHERE FINMAINTAININSTRUCTIONS_TEMP.FINREFERENCE = T1.FINREFERENCE))
       		]]>
        </createView>
	</changeSet>

	<changeSet id="93_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'collateralsmaintenance_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="94_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'covenantsreport_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="94" author="Gopal.p">
		<createView viewName="COVENANTSREPORT_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT DISTINCT KEYREFERENCE,MODULE FROM(
					SELECT T1.ID,
					    T1.KEYREFERENCE,
					    T1.MODULE,
					    T1.COVENANTTYPEID,
					    T2.CODE COVENANTTYPECODE,
					    T2.DESCRIPTION COVENANTTYPEDESCRIPTION,
					    T2.COVENANTTYPE,
					    T2.CATEGORY,
					    T1.LOS,
					    T1.MANDATORYROLE,
					    T1.OTC,
					    T1.PDD,
					    T1.RECEIVABLEDATE,
					    T1.ALLOWWAIVER,
					    T1.MAXALLOWEDDAYS,
					    T1.DOCUMENTRECEIVED,
					    T1.DOCUMENTRECEIVEDDATE,
					    T1.ALLOWPOSTPONEMENT,
					    T1.ALLOWEDPAYMENTMODES,
					    T1.EXTENDEDDATE,
					    T1.FREQUENCY,
					    T1.NEXTFREQUENCYDATE,
					    T1.GRACEDAYS,
					    T1.GRACEDUEDATE,
					    T1.ALERTSREQUIRED,
					    T1.ALERTTYPE,
					    T1.ALERTTOROLES,
					    T1.ALERTDAYS,
					    T1.INTERNALUSE,
					    T1.REMARKS,
					    T1.ADDITIONALFIELD1,
					    T1.ADDITIONALFIELD2,
					    T1.ADDITIONALFIELD3,
					    T1.ADDITIONALFIELD4,
					    T1.VERSION,
					    T1.LASTMNTBY,
					    T1.LASTMNTON,
					    T1.RECORDSTATUS,
					    T1.ROLECODE,
					    T1.NEXTROLECODE,
					    T1.TASKID,
					    T1.NEXTTASKID,
					    T1.RECORDTYPE,
					    T1.WORKFLOWID
					FROM COVENANTS_TEMP T1
					JOIN COVENANT_TYPES T2 ON T2.ID = T1.COVENANTTYPEID
					UNION ALL
					SELECT T1.ID,
						T1.KEYREFERENCE,
						T1.MODULE,
						T1.COVENANTTYPEID,
						T2.CODE COVENANTTYPECODE,
						T2.DESCRIPTION COVENANTTYPEDESCRIPTION,
						T2.COVENANTTYPE,
						T2.CATEGORY,
						T1.LOS,
						T1.MANDATORYROLE,
						T1.OTC,
						T1.PDD,
						T1.RECEIVABLEDATE,
						T1.ALLOWWAIVER,
						T1.MAXALLOWEDDAYS,
						T1.DOCUMENTRECEIVED,
						T1.DOCUMENTRECEIVEDDATE,
						T1.ALLOWPOSTPONEMENT,
						T1.ALLOWEDPAYMENTMODES,
						T1.EXTENDEDDATE,
						T1.FREQUENCY,
						T1.NEXTFREQUENCYDATE,
						T1.GRACEDAYS,
						T1.GRACEDUEDATE,
						T1.ALERTSREQUIRED,
						T1.ALERTTYPE,
						T1.ALERTTOROLES,
						T1.ALERTDAYS,
						T1.INTERNALUSE,
						T1.REMARKS,
						T1.ADDITIONALFIELD1,
						T1.ADDITIONALFIELD2,
						T1.ADDITIONALFIELD3,
						T1.ADDITIONALFIELD4,
						T1.VERSION,
						T1.LASTMNTBY,
						T1.LASTMNTON,
						T1.RECORDSTATUS,
						T1.ROLECODE,
						T1.NEXTROLECODE,
						T1.TASKID,
						T1.NEXTTASKID,
						T1.RECORDTYPE,
						T1.WORKFLOWID
					FROM COVENANTS T1
					JOIN COVENANT_TYPES T2 ON T2.ID = T1.COVENANTTYPEID
					WHERE NOT (EXISTS ( SELECT 1 FROM COVENANTS_TEMP
						WHERE COVENANTS_TEMP.ID = T1.ID)))COVENENTS
			]]>
		</createView>
	</changeSet>

	<changeSet id="94_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'covenantsreport_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="95_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'rmtfinancetypes_view');
		 	]]>
		</sql>
	</changeSet>

	<changeSet id="95" author="Gopal.p">
		<createView viewName="RMTFINANCETYPES_VIEW" replaceIfExists="true">
		   <![CDATA[
				SELECT T1.FINTYPE,
					T1.FINCATEGORY,
					T1.FINTYPEDESC,
					T1.FINCCY,
					T1.FINDAYSCALTYPE,
					T1.FINACTYPE,
					T1.FINCONTINGENTACTYPE,
					T1.FINISGENREF,
					T1.FINMAXAMOUNT,
					T1.FINMINAMOUNT,
					T1.FINISOPENNEWFINAC,
					T1.FINDFTSTMTFRQ,
					T1.FINISALWMD,
					T1.FINSCHDMTHD,
					T1.FINISALWGRACE,
					T1.FINHISTRETENSION,
					T1.EQUALREPAYMENT,
					T1.FINRATETYPE,
					T1.FINBASERATE,
					T1.FINSPLRATE,
					T1.FININTRATE,
					T1.FINMINRATE,
					T1.FINMAXRATE,
					T1.FINDFTINTFRQ,
					T1.FINISINTCPZ,
					T1.FINCPZFRQ,
					T1.FINISRVWALW,
					T1.FINRVWFRQ,
					T1.FINGRCRATETYPE,
					T1.FINGRCBASERATE,
					T1.FINGRCSPLRATE,
					T1.FINGRCINTRATE,
					T1.FINGRCMINRATE,
					T1.FINGRCMAXRATE,
					T1.FINGRCDFTINTFRQ,
					T1.FINGRCISINTCPZ,
					T1.FINGRCCPZFRQ,
					T1.FINGRCISRVWALW,
					T1.FINGRCRVWFRQ,
					T1.FINMINTERM,
					T1.FINMAXTERM,
					T1.FINDFTTERMS,
					T1.FINRPYFRQ,
					T1.FINREPAYMETHOD,
					T1.FINISALWPARTIALRPY,
					T1.FINISALWDIFFERMENT,
					T1.FINMAXDIFFERMENT,
					T1.FINISALWEARLYRPY,
					T1.FINISALWEARLYSETTLE,
					T1.FINODRPYTRIES,
					T1.FINEARLYPAYRULE,
					T1.FINEARLYSETTLERULE,
					T1.FINDEPOSITRESTRICTEDTO,
					T1.FINAEBUYORINCEPTION,
					T1.FINAESELLORMATURITY,
					T1.FINISACTIVE,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T1.STEPFINANCE,
					T1.STEPPINGMANDATORY,
					T1.ALWMANUALSTEPS,
					T1.ALWDSTEPPOLICIES,
					T1.DFTSTEPPOLICY,
					T4.ACTYPEDESC LOVDESCFINCONTINGENTACTYPENAME,
					T5.ACTYPEDESC LOVDESCFINACTYPENAME,
					T1.FINISDWPAYREQUIRED,
					T1.FINRVWRATEAPPLFOR,
					T1.FINALWRATECHANGEANYDATE,
					T1.FINISINTCPZATGRCEND,
					T1.FINELGRULECODE,
					T1.LIMITELGRULECODE,
					T1.FINSCHCALCODEONRVW,
					T1.ALWPLANDEFERMENT,
					T1.PLANDEFERCOUNT,
					T1.FINASSETTYPE,
					T1.PFTPAYACTYPE,
					T1.FINISOPENPFTPAYACC,
					T31.ACTYPEDESC LOVDESCPFTPAYACTYPENAME,
					T1.FINISALWGRCREPAY,
					T1.FINGRCSCHDMTHD,
					T1.FINGRCMARGIN,
					T1.FINMARGIN,
					T1.FINSCHEDULEON,
					T1.FINGRCSCHEDULEON,
					T1.FINCOMMITMENTREQ,
					T1.FINCOLLATERALREQ,
					T1.FINDEPRECIATIONREQ,
					T1.FINDEPRECIATIONFRQ,
					T1.FINBANKCONTINGENTACTYPE,
					T1.FINPROVISIONACTYPE,
					T38.ACTYPEDESC LOVDESCFINBANKCONTACTYPENAME,
					T39.ACTYPEDESC LOVDESCFINPROVISIONACTYPENAME,
					T1.ALLOWRIAINVESTMENT,
					T1.OVERRIDELIMIT,
					T1.LIMITREQUIRED,
					T1.FINCOMMITMENTOVRRIDE,
					T1.FINCOLLATERALOVRRIDE,
					T1.FINPFTUNCHANGED,
					T1.APPLYODPENALTY,
					T1.ODINCGRCDAYS,
					T1.ODCHARGETYPE,
					T1.ODGRACEDAYS,
					T1.ODCHARGECALON,
					T1.ODCHARGEAMTORPERC,
					T1.ODALLOWWAIVER,
					T1.ODMAXWAIVERPERC,
					T1.FINDIVISION,
					T48.DIVISIONCODEDESC LOVDESCFINDIVISIONNAME,
					T48.ENTITYCODE LOVDESCENTITYCODE,
					T1.FINSUSPACTYPE,
					T49.ACTYPEDESC LOVDESCFINSUSPACTYPENAME,
					T1.PRODUCT,
					T1.STARTDATE,
					T1.ENDDATE,
					T1.ALLOWDOWNPAYPGM,
					T1.FINTYPEDESC LOVDESCPROMOFINTYPEDESC,
					T1.REMARKS,
					T1.ALWEARLYPAYMETHODS,
					T1.PASTDUEPFTCALMTHD,
					T1.PASTDUEPFTMARGIN,
					T1.ALWADVANCERENT,
					T1.GRCADVBASERATE,
					T1.GRCADVMARGIN,
					T1.GRCADVPFTRATE,
					T1.RPYADVBASERATE,
					T1.RPYADVMARGIN,
					T1.RPYADVPFTRATE,
					T1.ROLLOVERFINANCE,
					T1.ROLLOVERFRQ,
					T1.DOWNPAYRULE,
					T59.RULECODE DOWNPAYRULECODE,
					T59.RULECODEDESC DOWNPAYRULEDESC,
					T1.FINSUSPTRIGGER,
					T1.FINSUSPREMARKS,
					T1.ALWMULTIPARTYDISB,
					T1.COLLATERALTYPE,
					T1.TDSAPPLICABLE,
					T1.MANUALSCHEDULE,
					T1.APPLYGRCPRICING,
					T1.GRCPRICINGMETHOD,
					T1.APPLYRPYPRICING,
					T1.RPYPRICINGMETHOD,
					T1.RPYHIERARCHY,
					T67.RULECODE GRCPRICINGMETHODDESC,
					T68.RULECODE RPYPRICINGMETHODDESC,
					T1.DROPLINEOD,
					T1.DROPPINGMETHOD,
					T1.RATECHGANYDAY,
					T1.FINREPAYPFTONFRQ,
					T1.ALWBPI,
					T1.BPITREATMENT,
					T1.PFTDUESCHON,
					T1.PLANEMIHALW,
					T1.PLANEMIHMETHOD,
					T1.PLANEMIHMAXPERYEAR,
					T1.PLANEMIHMAX,
					T1.PLANEMIHLOCKPERIOD,
					T1.PLANEMICPZ,
					T1.UNPLANEMIHLOCKPERIOD,
					T1.UNPLANEMICPZ,
					T1.REAGECPZ,
					T1.FDDLOCKPERIOD,
					T1.ALWDRPYMETHODS,
					T1.MAXUNPLANNEDEMI,
					T1.MAXREAGEHOLIDAYS,
					T1.ROUNDINGMODE,
					T1.ROUNDINGTARGET,
					T1.FREQUENCYDAYS,
					T1.QUICKDISB,
					T1.ALWMAXDISBCHECKREQ,
					T1.ALWREAGE,
					T1.ALWUNPLANEMIHOLIDAY,
					T1.PROFITCENTERID,
					T69.PROFITCENTERCODE,
					T69.PROFITCENTERDESC,
					T1.PRODUCTCATEGORY,
					T2.PRODUCTDESC FINCATEGORYDESC,
					T1.DEVELOPERFINANCE,
					T1.COSTOFFUNDS,
					T1.CHEQUECAPTUREREQ,
					T1.FINLTVCHECK,
					T1.PARTIALLYSECURED,
					T1.ALWADVEMI,
					T1.ADVEMIMINTERMS,
					T1.ADVEMIMAXTERMS,
					T1.ADVEMIDFTTERMS,
					T1.ADVEMISCHDMTHD,
					T1.BPIPFTDAYSBASIS,
					T1.ELIGIBILITYMETHODS,
					T1.ALWHYBRIDRATE,
					T1.FIXEDRATETENOR,
					T1.ODMINCAPAMOUNT,
					T1.ODRULECODE,
					T1.ALWZEROINTACC,
					T1.AUTOREJECTIONDAYS,
					T1.TAXNOMAND,
					T1.PUTCALLREQUIRED,
					T1.GRCADVINTERSETREQ,
					T1.GRCADVTYPE,
					T1.GRCADVMINTERMS,
					T1.GRCADVMAXTERMS,
					T1.GRCADVDEFAULTTERMS,
					T1.ADVINTERSETREQ,
					T1.ADVTYPE,
					T1.ADVMINTERMS,
					T1.ADVMAXTERMS,
					T1.ADVDEFAULTTERMS,
					T1.ADVSTAGE,
					T1.DSFREQ,
					T1.CASHCOLLATERALREQ,
					T1.TDSALLOWTOMODIFY,
					T1.TDSAPPLICABLETO,
					T1.ALWVAN,
					T1.VANALLOCATIONMETHOD,
					T1.ALLOWDRAWINGPOWER,
					T1.ALLOWREVOLVING,
					T1.ALWSANCTIONAMT,
					T1.ALWSANCTIONAMTOVERRIDE,
					T1.SANBSDSCHDLE,
					T1.FINISRATERVWATGRCEND,
					T1.SCHDONPMTCAL,
					T1.AUTOAPPROVE,
					T1.ALWPLANNEDEMIINGRC,
					T1.GRCADJREQ,
					T1.GRCPERIODAFTRFULLDISB,
					T1.AUTOINCRGRCENDDATE,
					T1.GRCAUTOINCRMONTHS,
					T1.MAXAUTOINCRALLOWED,
					T1.THRLDTOMAINTAINGRCPRD,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.SUBVENTIONREQ
				FROM RMTFINANCETYPES_TEMP T1
				LEFT JOIN BMTPRODUCT T2 ON T1.FINCATEGORY = T2.PRODUCTCODE
				LEFT JOIN RMTACCOUNTTYPES T4 ON T1.FINCONTINGENTACTYPE = T4.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T38 ON T1.FINBANKCONTINGENTACTYPE = T38.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T39 ON T1.FINPROVISIONACTYPE = T39.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T5 ON T1.FINACTYPE = T5.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T31 ON T1.PFTPAYACTYPE = T31.ACTYPE
				LEFT JOIN SMTDIVISIONDETAIL T48 ON T1.FINDIVISION = T48.DIVISIONCODE
				LEFT JOIN RMTACCOUNTTYPES T49 ON T1.FINSUSPACTYPE = T49.ACTYPE
				LEFT JOIN RULES T59 ON T1.DOWNPAYRULE = T59.RULEID
				LEFT JOIN RULES T67 ON T1.GRCPRICINGMETHOD = T67.RULEID
				LEFT JOIN RULES T68 ON T1.RPYPRICINGMETHOD = T68.RULEID
				LEFT JOIN PROFITCENTERS T69 ON T69.PROFITCENTERID = T1.PROFITCENTERID
				UNION ALL
				SELECT T1.FINTYPE,
					T1.FINCATEGORY,
					T1.FINTYPEDESC,
					T1.FINCCY,
					T1.FINDAYSCALTYPE,
					T1.FINACTYPE,
					T1.FINCONTINGENTACTYPE,
					T1.FINISGENREF,
					T1.FINMAXAMOUNT,
					T1.FINMINAMOUNT,
					T1.FINISOPENNEWFINAC,
					T1.FINDFTSTMTFRQ,
					T1.FINISALWMD,
					T1.FINSCHDMTHD,
					T1.FINISALWGRACE,
					T1.FINHISTRETENSION,
					T1.EQUALREPAYMENT,
					T1.FINRATETYPE,
					T1.FINBASERATE,
					T1.FINSPLRATE,
					T1.FININTRATE,
					T1.FINMINRATE,
					T1.FINMAXRATE,
					T1.FINDFTINTFRQ,
					T1.FINISINTCPZ,
					T1.FINCPZFRQ,
					T1.FINISRVWALW,
					T1.FINRVWFRQ,
					T1.FINGRCRATETYPE,
					T1.FINGRCBASERATE,
					T1.FINGRCSPLRATE,
					T1.FINGRCINTRATE,
					T1.FINGRCMINRATE,
					T1.FINGRCMAXRATE,
					T1.FINGRCDFTINTFRQ,
					T1.FINGRCISINTCPZ,
					T1.FINGRCCPZFRQ,
					T1.FINGRCISRVWALW,
					T1.FINGRCRVWFRQ,
					T1.FINMINTERM,
					T1.FINMAXTERM,
					T1.FINDFTTERMS,
					T1.FINRPYFRQ,
					T1.FINREPAYMETHOD,
					T1.FINISALWPARTIALRPY,
					T1.FINISALWDIFFERMENT,
					T1.FINMAXDIFFERMENT,
					T1.FINISALWEARLYRPY,
					T1.FINISALWEARLYSETTLE,
					T1.FINODRPYTRIES,
					T1.FINEARLYPAYRULE,
					T1.FINEARLYSETTLERULE,
					T1.FINDEPOSITRESTRICTEDTO,
					T1.FINAEBUYORINCEPTION,
					T1.FINAESELLORMATURITY,
					T1.FINISACTIVE,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T1.STEPFINANCE,
					T1.STEPPINGMANDATORY,
					T1.ALWMANUALSTEPS,
					T1.ALWDSTEPPOLICIES,
					T1.DFTSTEPPOLICY,
					T4.ACTYPEDESC LOVDESCFINCONTINGENTACTYPENAME,
					T5.ACTYPEDESC LOVDESCFINACTYPENAME,
					T1.FINISDWPAYREQUIRED,
					T1.FINRVWRATEAPPLFOR,
					T1.FINALWRATECHANGEANYDATE,
					T1.FINISINTCPZATGRCEND,
					T1.FINELGRULECODE,
					T1.LIMITELGRULECODE,
					T1.FINSCHCALCODEONRVW,
					T1.ALWPLANDEFERMENT,
					T1.PLANDEFERCOUNT,
					T1.FINASSETTYPE,
					T1.PFTPAYACTYPE,
					T1.FINISOPENPFTPAYACC,
					T31.ACTYPEDESC LOVDESCPFTPAYACTYPENAME,
					T1.FINISALWGRCREPAY,
					T1.FINGRCSCHDMTHD,
					T1.FINGRCMARGIN,
					T1.FINMARGIN,
					T1.FINSCHEDULEON,
					T1.FINGRCSCHEDULEON,
					T1.FINCOMMITMENTREQ,
					T1.FINCOLLATERALREQ,
					T1.FINDEPRECIATIONREQ,
					T1.FINDEPRECIATIONFRQ,
					T1.FINBANKCONTINGENTACTYPE,
					T1.FINPROVISIONACTYPE,
					T38.ACTYPEDESC LOVDESCFINBANKCONTACTYPENAME,
					T39.ACTYPEDESC LOVDESCFINPROVISIONACTYPENAME,
					T1.ALLOWRIAINVESTMENT,
					T1.OVERRIDELIMIT,
					T1.LIMITREQUIRED,
					T1.FINCOMMITMENTOVRRIDE,
					T1.FINCOLLATERALOVRRIDE,
					T1.FINPFTUNCHANGED,
					T1.APPLYODPENALTY,
					T1.ODINCGRCDAYS,
					T1.ODCHARGETYPE,
					T1.ODGRACEDAYS,
					T1.ODCHARGECALON,
					T1.ODCHARGEAMTORPERC,
					T1.ODALLOWWAIVER,
					T1.ODMAXWAIVERPERC,
					T1.FINDIVISION,
					T48.DIVISIONCODEDESC LOVDESCFINDIVISIONNAME,
					T48.ENTITYCODE LOVDESCENTITYCODE,
					T1.FINSUSPACTYPE,
					T49.ACTYPEDESC LOVDESCFINSUSPACTYPENAME,
					T1.PRODUCT,
					T1.STARTDATE,
					T1.ENDDATE,
					T1.ALLOWDOWNPAYPGM,
					T1.FINTYPEDESC LOVDESCPROMOFINTYPEDESC,
					T1.REMARKS,
					T1.ALWEARLYPAYMETHODS,
					T1.PASTDUEPFTCALMTHD,
					T1.PASTDUEPFTMARGIN,
					T1.ALWADVANCERENT,
					T1.GRCADVBASERATE,
					T1.GRCADVMARGIN,
					T1.GRCADVPFTRATE,
					T1.RPYADVBASERATE,
					T1.RPYADVMARGIN,
					T1.RPYADVPFTRATE,
					T1.ROLLOVERFINANCE,
					T1.ROLLOVERFRQ,
					T1.DOWNPAYRULE,
					T59.RULECODE DOWNPAYRULECODE,
					T59.RULECODEDESC DOWNPAYRULEDESC,
					T1.FINSUSPTRIGGER,
					T1.FINSUSPREMARKS,
					T1.ALWMULTIPARTYDISB,
					T1.COLLATERALTYPE,
					T1.TDSAPPLICABLE,
					T1.MANUALSCHEDULE,
					T1.APPLYGRCPRICING,
					T1.GRCPRICINGMETHOD,
					T1.APPLYRPYPRICING,
					T1.RPYPRICINGMETHOD,
					T1.RPYHIERARCHY,
					T67.RULECODE GRCPRICINGMETHODDESC,
					T68.RULECODE RPYPRICINGMETHODDESC,
					T1.DROPLINEOD,
					T1.DROPPINGMETHOD,
					T1.RATECHGANYDAY,
					T1.FINREPAYPFTONFRQ,
					T1.ALWBPI,
					T1.BPITREATMENT,
					T1.PFTDUESCHON,
					T1.PLANEMIHALW,
					T1.PLANEMIHMETHOD,
					T1.PLANEMIHMAXPERYEAR,
					T1.PLANEMIHMAX,
					T1.PLANEMIHLOCKPERIOD,
					T1.PLANEMICPZ,
					T1.UNPLANEMIHLOCKPERIOD,
					T1.UNPLANEMICPZ,
					T1.REAGECPZ,
					T1.FDDLOCKPERIOD,
					T1.ALWDRPYMETHODS,
					T1.MAXUNPLANNEDEMI,
					T1.MAXREAGEHOLIDAYS,
					T1.ROUNDINGMODE,
					T1.ROUNDINGTARGET,
					T1.FREQUENCYDAYS,
					T1.QUICKDISB,
					T1.ALWMAXDISBCHECKREQ,
					T1.ALWREAGE,
					T1.ALWUNPLANEMIHOLIDAY,
					T1.PROFITCENTERID,
					T69.PROFITCENTERCODE,
					T69.PROFITCENTERDESC,
					T1.PRODUCTCATEGORY,
					T2.PRODUCTDESC FINCATEGORYDESC,
					T1.DEVELOPERFINANCE,
					T1.COSTOFFUNDS,
					T1.CHEQUECAPTUREREQ,
					T1.FINLTVCHECK,
					T1.PARTIALLYSECURED,
					T1.ALWADVEMI,
					T1.ADVEMIMINTERMS,
					T1.ADVEMIMAXTERMS,
					T1.ADVEMIDFTTERMS,
					T1.ADVEMISCHDMTHD,
					T1.BPIPFTDAYSBASIS,
					T1.ELIGIBILITYMETHODS,
					T1.ALWHYBRIDRATE,
					T1.FIXEDRATETENOR,
					T1.ODMINCAPAMOUNT,
					T1.ODRULECODE,
					T1.ALWZEROINTACC,
					T1.AUTOREJECTIONDAYS,
					T1.TAXNOMAND,
					T1.PUTCALLREQUIRED,
					T1.GRCADVINTERSETREQ,
					T1.GRCADVTYPE,
					T1.GRCADVMINTERMS,
					T1.GRCADVMAXTERMS,
					T1.GRCADVDEFAULTTERMS,
					T1.ADVINTERSETREQ,
					T1.ADVTYPE,
					T1.ADVMINTERMS,
					T1.ADVMAXTERMS,
					T1.ADVDEFAULTTERMS,
					T1.ADVSTAGE,
					T1.DSFREQ,
					T1.CASHCOLLATERALREQ,
					T1.TDSALLOWTOMODIFY,
					T1.TDSAPPLICABLETO,
					T1.ALWVAN,
					T1.VANALLOCATIONMETHOD,
					T1.ALLOWDRAWINGPOWER,
					T1.ALLOWREVOLVING,
					T1.ALWSANCTIONAMT,
					T1.ALWSANCTIONAMTOVERRIDE,
					T1.SANBSDSCHDLE,
					T1.FINISRATERVWATGRCEND,
					T1.SCHDONPMTCAL,
					T1.AUTOAPPROVE,
					T1.ALWPLANNEDEMIINGRC,
					T1.GRCADJREQ,
					T1.GRCPERIODAFTRFULLDISB,
					T1.AUTOINCRGRCENDDATE,
					T1.GRCAUTOINCRMONTHS,
					T1.MAXAUTOINCRALLOWED,
					T1.THRLDTOMAINTAINGRCPRD,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.SUBVENTIONREQ
				FROM RMTFINANCETYPES T1
				LEFT JOIN BMTPRODUCT T2 ON T1.FINCATEGORY = T2.PRODUCTCODE
				LEFT JOIN RMTACCOUNTTYPES T4 ON T1.FINCONTINGENTACTYPE = T4.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T38 ON T1.FINBANKCONTINGENTACTYPE = T38.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T39 ON T1.FINPROVISIONACTYPE = T39.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T5 ON T1.FINACTYPE = T5.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T31 ON T1.PFTPAYACTYPE = T31.ACTYPE
				LEFT JOIN SMTDIVISIONDETAIL T48 ON T1.FINDIVISION = T48.DIVISIONCODE
				LEFT JOIN RMTACCOUNTTYPES T49 ON T1.FINSUSPACTYPE = T49.ACTYPE
				LEFT JOIN RULES T59 ON T1.DOWNPAYRULE = T59.RULEID
				LEFT JOIN RULES T67 ON T1.GRCPRICINGMETHOD = T67.RULEID
				LEFT JOIN RULES T68 ON T1.RPYPRICINGMETHOD = T68.RULEID
				LEFT JOIN PROFITCENTERS T69 ON T69.PROFITCENTERID = T1.PROFITCENTERID
				WHERE NOT (EXISTS ( SELECT 1 AS EXPR1 FROM RMTFINANCETYPES_TEMP
					WHERE RMTFINANCETYPES_TEMP.FINTYPE = T1.FINTYPE))
			]]>
		</createView>
	</changeSet>

	<changeSet id="95_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'rmtfinancetypes_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="96_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'rmtfinancetypes_aview');
		 	]]>
		</sql>
	</changeSet>

	<changeSet id="96" author="Gopal.p">
		<createView viewName="RMTFINANCETYPES_AVIEW" replaceIfExists="true">
		   <![CDATA[
				SELECT T1.FINTYPE,
					T1.FINCATEGORY,
					T1.FINTYPEDESC,
					T1.FINCCY,
					T1.FINDAYSCALTYPE,
					T1.FINACTYPE,
					T1.FINCONTINGENTACTYPE,
					T1.FINISGENREF,
					T1.FINMAXAMOUNT,
					T1.FINMINAMOUNT,
					T1.FINISOPENNEWFINAC,
					T1.FINDFTSTMTFRQ,
					T1.FINISALWMD,
					T1.FINSCHDMTHD,
					T1.FINISALWGRACE,
					T1.FINHISTRETENSION,
					T1.EQUALREPAYMENT,
					T1.FINRATETYPE,
					T1.FINBASERATE,
					T1.FINSPLRATE,
					T1.FININTRATE,
					T1.FINMINRATE,
					T1.FINMAXRATE,
					T1.FINDFTINTFRQ,
					T1.FINISINTCPZ,
					T1.FINCPZFRQ,
					T1.FINISRVWALW,
					T1.FINRVWFRQ,
					T1.FINGRCRATETYPE,
					T1.FINGRCBASERATE,
					T1.FINGRCSPLRATE,
					T1.FINGRCINTRATE,
					T1.FINGRCMINRATE,
					T1.FINGRCMAXRATE,
					T1.FINGRCDFTINTFRQ,
					T1.FINGRCISINTCPZ,
					T1.FINGRCCPZFRQ,
					T1.FINGRCISRVWALW,
					T1.FINGRCRVWFRQ,
					T1.FINMINTERM,
					T1.FINMAXTERM,
					T1.FINDFTTERMS,
					T1.FINRPYFRQ,
					T1.FINREPAYMETHOD,
					T1.FINISALWPARTIALRPY,
					T1.FINISALWDIFFERMENT,
					T1.FINMAXDIFFERMENT,
					T1.FINISALWEARLYRPY,
					T1.FINISALWEARLYSETTLE,
					T1.FINODRPYTRIES,
					T1.FINEARLYPAYRULE,
					T1.FINEARLYSETTLERULE,
					T1.FINDEPOSITRESTRICTEDTO,
					T1.FINAEBUYORINCEPTION,
					T1.FINAESELLORMATURITY,
					T1.FINISACTIVE,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T1.STEPFINANCE,
					T1.STEPPINGMANDATORY,
					T1.ALWMANUALSTEPS,
					T1.ALWDSTEPPOLICIES,
					T1.DFTSTEPPOLICY,
					T4.ACTYPEDESC LOVDESCFINCONTINGENTACTYPENAME,
					T5.ACTYPEDESC LOVDESCFINACTYPENAME,
					T1.FINISDWPAYREQUIRED,
					T1.FINRVWRATEAPPLFOR,
					T1.FINALWRATECHANGEANYDATE,
					T1.FINISINTCPZATGRCEND,
					T1.FINELGRULECODE,
					T1.LIMITELGRULECODE,
					T1.FINSCHCALCODEONRVW,
					T1.ALWPLANDEFERMENT,
					T1.PLANDEFERCOUNT,
					T1.FINASSETTYPE,
					T1.PFTPAYACTYPE,
					T1.FINISOPENPFTPAYACC,
					T31.ACTYPEDESC LOVDESCPFTPAYACTYPENAME,
					T1.FINISALWGRCREPAY,
					T1.FINGRCSCHDMTHD,
					T1.FINGRCMARGIN,
					T1.FINMARGIN,
					T1.FINSCHEDULEON,
					T1.FINGRCSCHEDULEON,
					T1.FINCOMMITMENTREQ,
					T1.FINCOLLATERALREQ,
					T1.FINDEPRECIATIONREQ,
					T1.FINDEPRECIATIONFRQ,
					T1.FINBANKCONTINGENTACTYPE,
					T1.FINPROVISIONACTYPE,
					T38.ACTYPEDESC LOVDESCFINBANKCONTACTYPENAME,
					T39.ACTYPEDESC LOVDESCFINPROVISIONACTYPENAME,
					T1.ALLOWRIAINVESTMENT,
					T1.OVERRIDELIMIT,
					T1.LIMITREQUIRED,
					T1.FINCOMMITMENTOVRRIDE,
					T1.FINCOLLATERALOVRRIDE,
					T1.FINPFTUNCHANGED,
					T1.APPLYODPENALTY,
					T1.ODINCGRCDAYS,
					T1.ODCHARGETYPE,
					T1.ODGRACEDAYS,
					T1.ODCHARGECALON,
					T1.ODCHARGEAMTORPERC,
					T1.ODALLOWWAIVER,
					T1.ODMAXWAIVERPERC,
					T1.FINDIVISION,
					T48.DIVISIONCODEDESC LOVDESCFINDIVISIONNAME,
					T48.ENTITYCODE LOVDESCENTITYCODE,
					T1.FINSUSPACTYPE,
					T49.ACTYPEDESC LOVDESCFINSUSPACTYPENAME,
					T1.PRODUCT,
					T1.STARTDATE,
					T1.ENDDATE,
					T1.ALLOWDOWNPAYPGM,
					T1.REMARKS,
					T1.ALWEARLYPAYMETHODS,
					T1.PASTDUEPFTCALMTHD,
					T1.PASTDUEPFTMARGIN,
					T1.ALWADVANCERENT,
					T1.GRCADVBASERATE,
					T1.GRCADVMARGIN,
					T1.GRCADVPFTRATE,
					T1.RPYADVBASERATE,
					T1.RPYADVMARGIN,
					T1.RPYADVPFTRATE,
					T1.ROLLOVERFINANCE,
					T1.ROLLOVERFRQ,
					T1.DOWNPAYRULE,
					T59.RULECODE DOWNPAYRULECODE,
					T59.RULECODEDESC DOWNPAYRULEDESC,
					T1.FINSUSPTRIGGER,
					T1.FINSUSPREMARKS,
					T1.ALWMULTIPARTYDISB,
					T1.COLLATERALTYPE,
					T1.TDSAPPLICABLE,
					T1.MANUALSCHEDULE,
					T1.APPLYGRCPRICING,
					T1.GRCPRICINGMETHOD,
					T1.APPLYRPYPRICING,
					T1.RPYPRICINGMETHOD,
					T1.RPYHIERARCHY,
					T67.RULECODE GRCPRICINGMETHODDESC,
					T68.RULECODE RPYPRICINGMETHODDESC,
					T1.DROPLINEOD,
					T1.DROPPINGMETHOD,
					T1.RATECHGANYDAY,
					T1.FINREPAYPFTONFRQ,
					T1.ALWBPI,
					T1.BPITREATMENT,
					T1.PFTDUESCHON,
					T1.PLANEMIHALW,
					T1.PLANEMIHMETHOD,
					T1.PLANEMIHMAXPERYEAR,
					T1.PLANEMIHMAX,
					T1.PLANEMIHLOCKPERIOD,
					T1.PLANEMICPZ,
					T1.UNPLANEMIHLOCKPERIOD,
					T1.UNPLANEMICPZ,
					T1.REAGECPZ,
					T1.FDDLOCKPERIOD,
					T1.ALWDRPYMETHODS,
					T1.MAXUNPLANNEDEMI,
					T1.MAXREAGEHOLIDAYS,
					T1.ROUNDINGMODE,
					T1.ROUNDINGTARGET,
					T1.FREQUENCYDAYS,
					T1.QUICKDISB,
					T1.ALWREAGE,
					T1.ALWUNPLANEMIHOLIDAY,
					T1.ALWMAXDISBCHECKREQ,
					T1.FINTYPEDESC LOVDESCPROMOFINTYPEDESC,
					T1.PROFITCENTERID,
					T69.PROFITCENTERCODE,
					T69.PROFITCENTERDESC,
					T1.PRODUCTCATEGORY,
					T2.PRODUCTDESC FINCATEGORYDESC,
					T1.DEVELOPERFINANCE,
					T1.COSTOFFUNDS,
					T1.CHEQUECAPTUREREQ,
					T1.FINLTVCHECK,
					T1.PARTIALLYSECURED,
					T1.ALWADVEMI,
					T1.ADVEMIMINTERMS,
					T1.ADVEMIMAXTERMS,
					T1.ADVEMIDFTTERMS,
					T1.ADVEMISCHDMTHD,
					T1.BPIPFTDAYSBASIS,
					T1.ELIGIBILITYMETHODS,
					T1.ALWHYBRIDRATE,
					T1.FIXEDRATETENOR,
					T1.ODMINCAPAMOUNT,
					T1.ODRULECODE,
					T1.ALWZEROINTACC,
					T1.AUTOREJECTIONDAYS,
					T1.TAXNOMAND,
					T1.PUTCALLREQUIRED,
					T1.GRCADVINTERSETREQ,
					T1.GRCADVTYPE,
					T1.GRCADVMINTERMS,
					T1.GRCADVMAXTERMS,
					T1.GRCADVDEFAULTTERMS,
					T1.ADVINTERSETREQ,
					T1.ADVTYPE,
					T1.ADVMINTERMS,
					T1.ADVMAXTERMS,
					T1.ADVDEFAULTTERMS,
					T1.ADVSTAGE,
					T1.DSFREQ,
					T1.CASHCOLLATERALREQ,
					T1.TDSALLOWTOMODIFY,
					T1.TDSAPPLICABLETO,
					T1.ALWVAN,
					T1.VANALLOCATIONMETHOD,
					T1.ALLOWDRAWINGPOWER,
					T1.ALLOWREVOLVING,
					T1.ALWSANCTIONAMT,
					T1.ALWSANCTIONAMTOVERRIDE,
					T1.SANBSDSCHDLE,
					T1.FINISRATERVWATGRCEND,
					T1.SCHDONPMTCAL,
					T1.AUTOAPPROVE,
					T1.ALWPLANNEDEMIINGRC,
					T1.GRCADJREQ,
					T1.GRCPERIODAFTRFULLDISB,
					T1.AUTOINCRGRCENDDATE,
					T1.GRCAUTOINCRMONTHS,
					T1.MAXAUTOINCRALLOWED,
					T1.THRLDTOMAINTAINGRCPRD,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.SUBVENTIONREQ
				FROM RMTFINANCETYPES T1
				LEFT JOIN BMTPRODUCT T2 ON T1.FINCATEGORY = T2.PRODUCTCODE
				LEFT JOIN RMTACCOUNTTYPES T4 ON T1.FINCONTINGENTACTYPE = T4.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T38 ON T1.FINBANKCONTINGENTACTYPE = T38.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T39 ON T1.FINPROVISIONACTYPE = T39.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T5 ON T1.FINACTYPE = T5.ACTYPE
				LEFT JOIN RMTACCOUNTTYPES T31 ON T1.PFTPAYACTYPE = T31.ACTYPE
				LEFT JOIN SMTDIVISIONDETAIL T48 ON T1.FINDIVISION = T48.DIVISIONCODE
				LEFT JOIN RMTACCOUNTTYPES T49 ON T1.FINSUSPACTYPE = T49.ACTYPE
				LEFT JOIN RULES T59 ON T1.DOWNPAYRULE = T59.RULEID
				LEFT JOIN RULES T67 ON T1.GRCPRICINGMETHOD = T67.RULEID
				LEFT JOIN RULES T68 ON T1.RPYPRICINGMETHOD = T68.RULEID
				LEFT JOIN PROFITCENTERS T69 ON T69.PROFITCENTERID = T1.PROFITCENTERID
			]]>
		</createView>
	</changeSet>

	<changeSet id="96_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'rmtfinancetypes_aview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="97_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'rmtfinancetypes_orgview');
		 	]]>
		</sql>
	</changeSet>

	<changeSet id="97" author="Gopal.p">
		<createView viewName="RMTFINANCETYPES_ORGVIEW" replaceIfExists="true">
		   <![CDATA[
				SELECT T1.FINTYPE,
					T1.FINCATEGORY,
					T1.FINTYPEDESC,
					T1.FINCCY,
					T1.FINDAYSCALTYPE,
					T1.FINACTYPE,
					T1.FINCONTINGENTACTYPE,
					T1.FINISGENREF,
					T1.FINMAXAMOUNT,
					T1.FINMINAMOUNT,
					T1.FINISOPENNEWFINAC,
					T1.FINISALWMD,
					T1.FINSCHDMTHD,
					T1.FINISALWGRACE,
					T1.EQUALREPAYMENT,
					T1.FINRATETYPE,
					T1.FINBASERATE,
					T1.FINSPLRATE,
					T1.FININTRATE,
					T1.FINMINRATE,
					T1.FINMAXRATE,
					T1.FINDFTINTFRQ,
					T1.FINISINTCPZ,
					T1.FINCPZFRQ,
					T1.FINISRVWALW,
					T1.FINRVWFRQ,
					T1.FINGRCRATETYPE,
					T1.FINGRCBASERATE,
					T1.FINGRCSPLRATE,
					T1.FINGRCINTRATE,
					T1.FINGRCMINRATE,
					T1.FINGRCMAXRATE,
					T1.FINGRCDFTINTFRQ,
					T1.FINGRCISINTCPZ,
					T1.FINGRCCPZFRQ,
					T1.FINGRCISRVWALW,
					T1.FINGRCRVWFRQ,
					T1.FINMINTERM,
					T1.FINMAXTERM,
					T1.FINDFTTERMS,
					T1.FINRPYFRQ,
					T1.FINREPAYMETHOD,
					T1.FINISALWDIFFERMENT,
					T1.FINMAXDIFFERMENT,
					T1.FINISACTIVE,
					T1.STEPFINANCE,
					T1.STEPPINGMANDATORY,
					T1.ALWMANUALSTEPS,
					T1.ALWDSTEPPOLICIES,
					T1.DFTSTEPPOLICY,
					T1.FINISDWPAYREQUIRED,
					T1.FINRVWRATEAPPLFOR,
					T1.FINALWRATECHANGEANYDATE,
					T1.FINISINTCPZATGRCEND,
					T1.FINSCHCALCODEONRVW,
					T1.ALWPLANDEFERMENT,
					T1.PLANDEFERCOUNT,
					T1.PFTPAYACTYPE,
					T1.FINISOPENPFTPAYACC,
					T1.FINISALWGRCREPAY,
					T1.FINGRCSCHDMTHD,
					T1.FINGRCMARGIN,
					T1.FINMARGIN,
					T1.FINCOMMITMENTREQ,
					T1.FINCOLLATERALREQ,
					T1.FINDEPRECIATIONREQ,
					T1.FINDEPRECIATIONFRQ,
					T1.FINBANKCONTINGENTACTYPE,
					T1.FINPROVISIONACTYPE,
					T1.ALLOWRIAINVESTMENT,
					T1.OVERRIDELIMIT,
					T1.LIMITREQUIRED,
					T1.FINCOMMITMENTOVRRIDE,
					T1.FINCOLLATERALOVRRIDE,
					T1.FINREPAYPFTONFRQ,
					T1.FINPFTUNCHANGED,
					T1.APPLYODPENALTY,
					T1.ODINCGRCDAYS,
					T1.ODCHARGETYPE,
					T1.ODGRACEDAYS,
					T1.ODCHARGECALON,
					T1.ODCHARGEAMTORPERC,
					T1.ODALLOWWAIVER,
					T1.ODMAXWAIVERPERC,
					T1.FINDIVISION,
					T3.DIVISIONCODEDESC LOVDESCFINDIVISIONNAME,
					T1.FINSUSPACTYPE,
					T1.PRODUCT,
					T1.STARTDATE,
					T1.ENDDATE,
					T1.ALLOWDOWNPAYPGM,
					T1.FINTYPEDESC LOVDESCPROMOFINTYPEDESC,
					T1.REMARKS,
					T4.POLICYDESC LOVDESCDFTSTEPPOLICYNAME,
					T1.PASTDUEPFTCALMTHD,
					T1.PASTDUEPFTMARGIN,
					T1.ALWADVANCERENT,
					T1.GRCADVBASERATE,
					T1.GRCADVMARGIN,
					T1.GRCADVPFTRATE,
					T1.RPYADVBASERATE,
					T1.RPYADVMARGIN,
					T1.RPYADVPFTRATE,
					T1.ROLLOVERFINANCE,
					T1.ROLLOVERFRQ,
					T1.DOWNPAYRULE,
					T1.ALWMULTIPARTYDISB,
					T1.COLLATERALTYPE,
					T1.TDSAPPLICABLE,
					T5.RULECODE DOWNPAYRULECODE,
					T5.RULECODEDESC DOWNPAYRULEDESC,
					T1.APPLYGRCPRICING,
					T1.APPLYRPYPRICING,
					T6.RULECODE GRCPRICINGMETHODDESC,
					T7.RULECODE RPYPRICINGMETHODDESC,
					T1.DROPLINEOD,
					T1.DROPPINGMETHOD,
					T1.RATECHGANYDAY,
					T4.STEPTYPE DFTSTEPPOLICYTYPE,
					T1.MANUALSCHEDULE,
					T1.ALWBPI,
					T1.BPITREATMENT,
					T1.PFTDUESCHON,
					T1.PLANEMIHALW,
					T1.PLANEMIHMETHOD,
					T1.PLANEMIHMAXPERYEAR,
					T1.PLANEMIHMAX,
					T1.PLANEMIHLOCKPERIOD,
					T1.PLANEMICPZ,
					T1.UNPLANEMIHLOCKPERIOD,
					T1.UNPLANEMICPZ,
					T1.REAGECPZ,
					T1.FDDLOCKPERIOD,
					T1.ALWDRPYMETHODS,
					T1.MAXUNPLANNEDEMI,
					T1.MAXREAGEHOLIDAYS,
					T1.ROUNDINGMODE,
					T1.ROUNDINGTARGET,
					T1.FREQUENCYDAYS,
					T1.QUICKDISB,
					T1.ALWREAGE,
					T1.ALWUNPLANEMIHOLIDAY,
					T1.ALWMAXDISBCHECKREQ,
					T1.PRODUCTCATEGORY,
					T1.RPYHIERARCHY,
					T1.DEVELOPERFINANCE,
					T3.ENTITYCODE LOVDESCENTITYCODE,
					T8.ENTITYDESC LOVDESCENTITYDESC,
					T1.COSTOFFUNDS,
					T1.CHEQUECAPTUREREQ,
					T1.FINLTVCHECK,
					T1.PARTIALLYSECURED,
					T1.ALWADVEMI,
					T1.ADVEMIMINTERMS,
					T1.ADVEMIMAXTERMS,
					T1.ADVEMIDFTTERMS,
					T1.ADVEMISCHDMTHD,
					T1.BPIPFTDAYSBASIS,
					T1.ELIGIBILITYMETHODS,
					T1.ALWHYBRIDRATE,
					T1.FIXEDRATETENOR,
					T1.ODMINCAPAMOUNT,
					T1.ODRULECODE,
					T1.ALWZEROINTACC,
					T1.FINISALWPARTIALRPY,
					T1.AUTOREJECTIONDAYS,
					T1.TAXNOMAND,
					T1.PUTCALLREQUIRED,
					T1.GRCADVINTERSETREQ,
					T1.GRCADVTYPE,
					T1.GRCADVMINTERMS,
					T1.GRCADVMAXTERMS,
					T1.GRCADVDEFAULTTERMS,
					T1.ADVINTERSETREQ,
					T1.ADVTYPE,
					T1.ADVMINTERMS,
					T1.ADVMAXTERMS,
					T1.ADVDEFAULTTERMS,
					T1.ADVSTAGE,
					T1.DSFREQ,
					T1.CASHCOLLATERALREQ,
					T1.ALWEARLYPAYMETHODS,
					T1.TDSALLOWTOMODIFY,
					T1.TDSAPPLICABLETO,
					T1.ALWVAN,
					T1.VANALLOCATIONMETHOD,
					T1.ALLOWDRAWINGPOWER,
					T1.ALLOWREVOLVING,
					T1.ALWSANCTIONAMT,
					T1.ALWSANCTIONAMTOVERRIDE,
					T1.SANBSDSCHDLE,
					T1.FINISRATERVWATGRCEND,
					T1.SCHDONPMTCAL,
					T1.AUTOAPPROVE,
					T1.ALWPLANNEDEMIINGRC,
					T1.GRCADJREQ,
					T1.GRCPERIODAFTRFULLDISB,
					T1.AUTOINCRGRCENDDATE,
					T1.GRCAUTOINCRMONTHS,
					T1.MAXAUTOINCRALLOWED,
					T1.THRLDTOMAINTAINGRCPRD,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.SUBVENTIONREQ
				FROM RMTFINANCETYPES T1
				JOIN SMTDIVISIONDETAIL T3 ON T1.FINDIVISION = T3.DIVISIONCODE
				LEFT JOIN STEPPOLICYHEADER T4 ON T1.DFTSTEPPOLICY = T4.POLICYCODE
				LEFT JOIN RULES T5 ON T1.DOWNPAYRULE = T5.RULEID
				LEFT JOIN RULES T6 ON T1.GRCPRICINGMETHOD = T6.RULEID
				LEFT JOIN RULES T7 ON T1.RPYPRICINGMETHOD = T7.RULEID
				LEFT JOIN ENTITY T8 ON T3.ENTITYCODE = T8.ENTITYCODE
			]]>
		</createView>
	</changeSet>

	<changeSet id="97_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'rmtfinancetypes_orgview');
			]]>
		</sql>
	</changeSet>


	<changeSet id="98_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financemain_lfview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="98" author="Gopal.p">
		<createView viewName="FINANCEMAIN_LFVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT F.FINREFERENCE, 
					F.CUSTID, 
					C.CUSTCIF LOVDESCCUSTCIF, 
					C.CUSTSHRTNAME LOVDESCCUSTSHRTNAME,
					F.FINTYPE, 
					F.FINISACTIVE, 
					SD.ENTITYCODE,
					F.RCDMAINTAINSTS,
					F.RECORDSTATUS,
					F.QUICKDISB
				FROM FINANCEMAIN_TEMP F 
				INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID AND F.QUICKDISB = 1 AND F.RECORDSTATUS = 'Submitted'
				INNER JOIN RMTFINANCETYPES FT ON FT.FINTYPE = F.FINTYPE
				INNER JOIN SMTDivisiondetail SD On FT.FINDIVISION = SD.DivisionCode
				UNION ALL
				SELECT 	F.FINREFERENCE, 
					F.CUSTID, 
					C.CUSTCIF LOVDESCCUSTCIF, 
					C.CUSTSHRTNAME LOVDESCCUSTSHRTNAME, 
					F.FINTYPE, 
					F.FINISACTIVE, 
					SD.ENTITYCODE, 
					F.RCDMAINTAINSTS,
					F.RECORDSTATUS,
					F.QUICKDISB
				FROM FINANCEMAIN F INNER JOIN CUSTOMERS C ON F.CUSTID = C.CUSTID
				INNER JOIN RMTFINANCETYPES FT ON FT.FINTYPE = F.FINTYPE
				INNER JOIN SMTDIVISIONDETAIL SD ON FT.FINDIVISION = SD.DIVISIONCODE
				WHERE (NOT EXISTS (SELECT 1 EXPR1 FROM FINANCEMAIN_TEMP WHERE (FINREFERENCE = F.FINREFERENCE)))
			]]>	
		</createView>
	</changeSet>

	<changeSet id="98_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'financemain_lfview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="99_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financemaintenance_aview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="99" author="Gopal.p">
		<createView viewName="FINANCEMAINTENANCE_AVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.FINREFERENCE,
					T1.FINBRANCH,
					T1.FINTYPE,
					T1.FINCCY,
					T1.SCHEDULEMETHOD,
					T1.PROFITDAYSBASIS,
					T1.FINSTARTDATE,
					T1.NUMBEROFTERMS,
					T1.CUSTID,
					T1.FINAMOUNT,
					T1.MATURITYDATE,
					T1.FINREPAYMENTAMOUNT,
					T1.FINISACTIVE,
					T1.BLACKLISTED,
					T1.FEECHARGEAMT,
					T1.INSURANCEAMT,
					T1.GRACETERMS,
					T1.ALLOWGRCPERIOD,
					T1.GRCPERIODENDDATE,
					T1.ALWMULTIDISB,
					T1.DEFFERMENTS,
					T1.NEXTROLECODE,
					T1.RECORDSTATUS,
					T1.RECORDTYPE,
					T1.ALLOWGRCPFTRVW,
					T1.ALLOWREPAYRVW,
					T1.LASTREPAYDATE,
					T1.LASTREPAYPFTDATE,
					T1.ALLOWEDDEFRPYCHANGE,
					T1.AVAILEDDEFRPYCHANGE,
					T1.MIGRATEDFINANCE,
					T1.RCDMAINTAINSTS,
					T1.CLOSINGSTATUS,
					T1.REPAYRATEBASIS,
					T1.MANUALSCHEDULE,
					T1.TAKEOVERFINANCE,
					T1.NEXTROLLOVERDATE,
					T1.DOWNPAYMENT,
					T1.PLANEMIHALW,
					T1.FINCURRASSETVALUE,
					T1.FINASSETVALUE,
					T2.CUSTCIF LOVDESCCUSTCIF,
					T3.FINCATEGORY LOVDESCPRODUCTCODENAME,
					T3.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
					T4.PRODUCTCATEGORY,
					T1.SAMPLINGREQUIRED,
					T1.ADVANCEEMI,
					T1.ADVEMITERMS,
					T1.BPIPFTDAYSBASIS BPIRATEBASIS,
					T1.SANBSDSCHDLE,
					T1.PROMOTIONSEQID,
					T1.SVAMOUNT,
					T1.CBAMOUNT,
					T5.ENTITYCODE
				FROM FINANCEMAIN T1
				JOIN CUSTOMERS T2 ON T1.CUSTID = T2.CUSTID
				JOIN RMTFINANCETYPES T3 ON T1.FINTYPE = T3.FINTYPE
				JOIN BMTPRODUCT T4 ON T3.FINCATEGORY = T4.PRODUCTCODE
				LEFT OUTER JOIN SMTDIVISIONDETAIL T5 ON T3.FINDIVISION = T5.DIVISIONCODE
			]]>	
		</createView>
	</changeSet>

	<changeSet id="99_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'financemaintenance_aview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="100_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financeenquiry_tview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="100" author="Gopal.p">
		<comment>SUBVENTIONFROM, MANUFACTURERDEALER - (ID, NAME, CODE) columns are added</comment>
		<createView viewName="FINANCEENQUIRY_TVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.FINREFERENCE,
					T1.FINBRANCH,
					T1.FINTYPE,
					T1.FINCCY,
					T1.SCHEDULEMETHOD,
					T1.PROFITDAYSBASIS,
					T1.FINSTARTDATE,
					T1.CALTERMS NUMBEROFTERMS,
					T1.CUSTID,
					T1.FINAMOUNT,
					T1.GRCPERIODENDDATE,
					T1.MATURITYDATE,
					T1.FINREPAYMENTAMOUNT,
					T1.FINISACTIVE,
					T1.ALLOWGRCPERIOD,
					T1.DOWNPAYMENT,
					T1.MIGRATEDFINANCE,
					T1.LASTREPAYDATE,
					T1.LASTREPAYPFTDATE,
					T1.FINCURRASSETVALUE,
					T1.BLACKLISTED,
					T1.FEECHARGEAMT,
					T1.CLOSINGSTATUS,
					T1.GRACETERMS,
					T1.ALWMULTIDISB,
					T1.DEFFERMENTS,
					T1.FINSTATUS,
					T1.MANDATEID,
					T1.FINREPAYMETHOD,
					T1.FINASSETVALUE,
					T1.FINCURRASSETVALUE + T1.FEECHARGEAMT + T1.INSURANCEAMT FINANCINGAMOUNT,
					T1.FINCURRASSETVALUE - T1.FINREPAYMENTAMOUNT + T1.FEECHARGEAMT + T1.INSURANCEAMT CURFINAMOUNT,
					T2.FINTYPEDESC LOVDESCFINTYPENAME,
					T2.FINSCHEDULEON LOVDESCFINSCHEDULEON,
					T2.FINDIVISION LOVDESCFINDIVISION,
					T2.FINCATEGORY LOVDESCPRODUCTCODENAME,
					T2.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
					T3.CUSTCIF LOVDESCCUSTCIF,
					T3.CUSTSHRTNAME LOVDESCCUSTSHRTNAME,
					T4.BRANCHDESC LOVDESCFINBRANCHNAME,
					T5.CUSTTYPECTG,
					COALESCE(T9.NOINST, 0)  NOINST,
					T1.TOTALCPZ,
					T1.ALWGRCADJ,
					T1.ENDGRCPERIODAFTRFULLDISB,
					T1.AUTOINCGRCENDDATE,
					T1.WRITEOFFLOAN,
					T1.RESTRUCTURE,
					T1.SUBVENTIONFROM,
					T1.MANUFACTURERDEALERID,
					T10.DEALERNAME MANUFACTURERDEALERNAME,
					T10.CODE MANUFACTURERDEALERCODE
				FROM FINANCEMAIN_TEMP T1
				JOIN RMTFINANCETYPES T2 ON T1.FINTYPE = T2.FINTYPE
				JOIN CUSTOMERS T3 ON T1.CUSTID = T3.CUSTID
				JOIN RMTBRANCHES T4 ON T1.FINBRANCH = T4.BRANCHCODE
				JOIN RMTCUSTTYPES T5 ON T3.CUSTTYPECODE = T5.CUSTTYPECODE
				LEFT JOIN FINPFTDETAILS T9 ON T1.FINREFERENCE = T9.FINREFERENCE
				LEFT JOIN AMTVEHICLEDEALER T10 ON T1.MANUFACTURERDEALERID = T10.DEALERID
			]]>
		</createView>
	</changeSet>

	<changeSet id="100_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'financeenquiry_tview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="101_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financeenquiry_view');
		 	]]>
		</sql>
	</changeSet>

	<changeSet id="101" author="Gopal.p">
		<comment>SUBVENTIONFROM, MANUFACTURERDEALER - (ID, NAME, CODE) columns are added</comment>
		<createView viewName="FINANCEENQUIRY_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT t1.finreference,
					T1.FINBRANCH,
					T1.FINTYPE,
					T1.FINCCY,
					T1.SCHEDULEMETHOD,
					T1.PROFITDAYSBASIS,
					T1.FINSTARTDATE,
					T1.CALTERMS NUMBEROFTERMS,
					T1.CUSTID,
					T1.FINAMOUNT,
					T1.GRCPERIODENDDATE,
					T1.MATURITYDATE,
					T1.FINREPAYMENTAMOUNT,
					T1.FINISACTIVE,
					T1.ALLOWGRCPERIOD,
					T1.DOWNPAYMENT,
					T1.MIGRATEDFINANCE,
					T1.LASTREPAYDATE,
					T1.LASTREPAYPFTDATE,
					T1.FINCURRASSETVALUE,
					T1.BLACKLISTED,
					T1.FEECHARGEAMT,
					T1.CLOSINGSTATUS,
					T1.GRACETERMS,
					T1.ALWMULTIDISB,
					T1.DEFFERMENTS,
					T1.FINSTATUS ,
					T1.MANDATEID,
					T1.FINREPAYMETHOD,
					T1.FINASSETVALUE,
					T1.INSURANCEAMT,
					T1.SANBSDSCHDLE,
					T1.PROMOTIONSEQID,
					T1.SVAMOUNT,
					T1.CBAMOUNT,
					(T1.FINCURRASSETVALUE+ T1.FEECHARGEAMT+T1.INSURANCEAMT) FINANCINGAMOUNT,
					(T1.FINCURRASSETVALUE- T1.FINREPAYMENTAMOUNT+ T1.FEECHARGEAMT+T1.INSURANCEAMT) CURFINAMOUNT,
					T2.FINTYPEDESC LOVDESCFINTYPENAME,
					T2.FINSCHEDULEON LOVDESCFINSCHEDULEON,
					T2.FINDIVISION LOVDESCFINDIVISION,
					T2.FINCATEGORY LOVDESCPRODUCTCODENAME,
					T2.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
					T3.CUSTCIF LOVDESCCUSTCIF,
					T3.CUSTSHRTNAME LOVDESCCUSTSHRTNAME,
					T4.BRANCHDESC LOVDESCFINBRANCHNAME,
					T5.CUSTTYPECTG,
					COALESCE(T9.NOINST,0) NOINST,
					T1.TOTALCPZ,
					T1.ALWGRCADJ,
					T1.ENDGRCPERIODAFTRFULLDISB,
					T1.AUTOINCGRCENDDATE,
					T1.RECORDSTATUS,
					T1.WRITEOFFLOAN,
					T1.RESTRUCTURE,
					T1.SUBVENTIONFROM,
					T1.MANUFACTURERDEALERID,
					T10.DEALERNAME MANUFACTURERDEALERNAME,
					T10.CODE MANUFACTURERDEALERCODE
				FROM FINANCEMAIN T1
				INNER JOIN RMTFINANCETYPES T2 ON T1.FINTYPE = T2.FINTYPE
				INNER JOIN CUSTOMERS T3 ON T1.CUSTID = T3.CUSTID
				INNER JOIN RMTBRANCHES T4 ON T1.FINBRANCH = T4.BRANCHCODE
				INNER JOIN RMTCUSTTYPES T5 ON T3.CUSTTYPECODE = T5.CUSTTYPECODE
				LEFT JOIN FINPFTDETAILS T9 ON T1.FINREFERENCE = T9.FINREFERENCE
				LEFT JOIN AMTVEHICLEDEALER T10 ON T1.MANUFACTURERDEALERID = T10.DEALERID
			]]>
		</createView>
	</changeSet>

	<changeSet id="101_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'financeenquiry_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="102_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financemain_tview');
		 	]]>
		</sql>
	</changeSet>

	<changeSet id="102" author="Gopal.p">
		<comment>SUBVENTIONFROM, MANUFACTURERDEALER - (ID, NAME, CODE) columns are added</comment>
		<createView viewName="FINANCEMAIN_TVIEW" replaceIfExists="true">
		   <![CDATA[
				SELECT T1.FINREFERENCE,
					T1.INVESTMENTREF,
					T1.NUMBEROFTERMS,
					T1.GRCPERIODENDDATE,
					T1.ALLOWGRCPERIOD,
					T1.GRACEBASERATE,
					T1.GRACESPECIALRATE,
					T1.GRCPFTRATE,
					T1.GRCPFTFRQ,
					T1.NEXTGRCPFTDATE,
					T1.ALLOWGRCPFTRVW,
					T1.GRCPFTRVWFRQ,
					T1.NEXTGRCPFTRVWDATE,
					T1.ALLOWGRCCPZ,
					T1.GRCCPZFRQ,
					T1.NEXTGRCCPZDATE,
					T1.REPAYBASERATE,
					T1.REPAYSPECIALRATE,
					T1.REPAYPROFITRATE,
					T1.REPAYFRQ,
					T1.NEXTREPAYDATE,
					T1.REPAYPFTFRQ,
					T1.NEXTREPAYPFTDATE,
					T1.ALLOWREPAYRVW,
					T1.REPAYRVWFRQ,
					T1.NEXTREPAYRVWDATE,
					T1.ALLOWREPAYCPZ,
					T1.REPAYCPZFRQ,
					T1.NEXTREPAYCPZDATE,
					T1.MATURITYDATE,
					T1.CPZATGRACEEND,
					T1.DOWNPAYMENT,
					T1.GRACEFLATAMOUNT,
					T1.REQREPAYAMOUNT,
					T1.TOTALPROFIT,
					T1.TOTALCPZ,
					T1.TOTALGROSSPFT,
					T1.TOTALGROSSGRCPFT,
					T1.TOTALGRACEPFT,
					T1.TOTALGRACECPZ,
					T1.GRCRATEBASIS,
					T1.REPAYRATEBASIS,
					T1.FINTYPE,
					T1.FINREMARKS,
					T1.FINCCY,
					T1.SCHEDULEMETHOD,
					T1.PROFITDAYSBASIS,
					T1.REQMATURITY,
					T1.CALTERMS,
					T1.CALMATURITY,
					T1.FIRSTREPAY,
					T1.LASTREPAY,
					T1.FINSTARTDATE,
					T1.FINAMOUNT,
					T1.FINAMOUNT + T1.FEECHARGEAMT - T1.DOWNPAYMENT LOVDESCFINANCINGAMOUNT,
					T1.FINREPAYMENTAMOUNT,
					T1.CUSTID,
					T1.DEFFERMENTS,
					T1.PLANDEFERCOUNT,
					T1.FINBRANCH,
					T1.FINSOURCEID,
					T1.ALLOWEDDEFRPYCHANGE,
					T1.AVAILEDDEFRPYCHANGE,
					T1.ALLOWEDDEFFRQCHANGE,
					T1.AVAILEDDEFFRQCHANGE,
					T1.RECALTYPE,
					T1.FINASSETVALUE,
					T1.DISBACCOUNTID,
					T1.REPAYACCOUNTID,
					T1.FINISACTIVE,
					T1.LIMITVALID,
					T1.OVERRIDELIMIT,
					T1.SECURITYDEPOSIT,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T7.FINTYPEDESC LOVDESCFINTYPENAME,
					T7.FINMAXAMOUNT LOVDESCFINMAXAMT,
					T7.FINMINAMOUNT LOVDESCFINMINAMOUNT,
					T1.MINDOWNPAYPERC,
					T7.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
					T7.FINISDWPAYREQUIRED LOVDESCDWNPAYREQ,
					T7.FINMAXDIFFERMENT LOVDESCFINMAXDIFFERMENT,
					T12.BRANCHDESC LOVDESCFINBRANCHNAME,
					T12.BRANCHPROVINCE FINBRANCHPROVINCECODE,
					T1.LASTREPAYDATE,
					T1.LASTREPAYPFTDATE,
					T1.LASTREPAYRVWDATE,
					T1.LASTREPAYCPZDATE,
					T1.ALLOWGRCREPAY,
					T1.GRCSCHDMTHD,
					T1.GRCMARGIN,
					T1.REPAYMARGIN,
					T1.FINCURRASSETVALUE,
					T1.FINCOMMITMENTREF,
					T1.FINLIMITREF,
					T1.DEPRECIATIONFRQ,
					T1.FINCONTRACTDATE,
					T1.NEXTDEPDATE,
					T1.LASTDEPDATE,
					T1.FINACCOUNT,
					T1.FINCUSTPFTACCOUNT,
					T17.ACRTILLLBD LOVDESCACCRUEDTILLLBD,
					T7.FINRVWRATEAPPLFOR,
					T1.TOTALREPAYAMT,
					T1.CLOSINGSTATUS,
					T1.FINAPPROVEDDATE,
					T1.FEECHARGEAMT,
					T1.BLACKLISTED,
					T1.FINREPAYPFTONFRQ,
					T1.ANUALIZEDPERCRATE,
					T1.EFFECTIVERATEOFRETURN,
					T1.MIGRATEDFINANCE,
					T1.SCHEDULEMAINTAINED,
					T1.SCHEDULEREGENERATED,
					T1.FINPURPOSE,
					T39.LOANPURPOSEDESC LOVDESCFINPURPOSENAME,
					T1.FINSTATUS,
					T1.FINSTSREASON,
					T1.INITIATEUSER,
					T1.BANKNAME,
					T1.IBAN,
					T1.ACCOUNTTYPE,
					T1.DDAREFERENCENO,
					T7.FINSCHEDULEON LOVDESCFINSCHEDULEON,
					T1.CUSTDSR,
					T1.JOINTACCOUNT,
					T1.JOINTCUSTID,
					T1.DOWNPAYBANK,
					T1.DOWNPAYSUPL,
					T1.DOWNPAYACCOUNT,
					T1.SECURITYCOLLATERAL,
					T1.APPROVED,
					T1.DISCREPANCY,
					T1.LIMITAPPROVED,
					T1.GRACETERMS,
					T7.FINDIVISION LOVDESCFINDIVISION,
					T1.RCDMAINTAINSTS,
					T1.FINREPAYMETHOD,
					T1.GRCPROFITDAYSBASIS,
					T1.STEPFINANCE,
					T1.STEPTYPE,
					T1.STEPPOLICY,
					T1.ALWMANUALSTEPS,
					T1.NOOFSTEPS,
					T1.LINKEDFINREF,
					T1.NEXTUSERID,
					T1.PRIORITY,
					T24.POLICYDESC LOVDESCSTEPPOLICYNAME,
					T1.GRCMINRATE,
					T1.GRCMAXRATE,
					T1.RPYMINRATE,
					T1.RPYMAXRATE,
					T1.DEVIATIONAPPROVAL,
					T1.MANUALSCHEDULE,
					T1.TAKEOVERFINANCE,
					T1.GRCADVBASERATE,
					T1.GRCADVMARGIN,
					T1.GRCADVPFTRATE,
					T1.RPYADVBASERATE,
					T1.RPYADVMARGIN,
					T1.RPYADVPFTRATE,
					T1.SUPPLEMENTRENT,
					T1.INCREASEDCOST,
					T1.CREDITINSAMT,
					T1.ROLLOVERFRQ,
					T1.NEXTROLLOVERDATE,
					T27.CUSTSTSDESCRIPTION,
					T1.SHARIASTATUS,
					T1.INITIATEDATE,
					T1.FINPREAPPROVEDREF,
					T1.MMAID,
					T1.ACCOUNTSOFFICER,
					T1.FEEACCOUNTID,
					T1.FINCANCELAC,
					T28.DEALERNAME LOVDESCACCOUNTSOFFICER,
					T28.DEALERCITY LOVDESCSOURCECITY,
					T1.DSACODE,
					T30.ROFFICERDESC DSACODEDESC,
					T1.TDSAPPLICABLE,
					T1.MANDATEID,
					T1.DROPLINEFRQ,
					T1.FIRSTDROPLINEDATE,
					T1.PFTSERVICINGODLIMIT,
					T1.INSURANCEAMT,
					T1.DEDUCTINSDISB,
					T1.ALWBPI,
					T1.BPITREATMENT,
					T1.PLANEMIHALW,
					T1.PLANEMIHMETHOD,
					T1.PLANEMIHMAXPERYEAR,
					T1.PLANEMIHMAX,
					T1.PLANEMIHLOCKPERIOD,
					T1.PLANEMICPZ,
					T1.CALROUNDINGMODE,
					T1.ALWMULTIDISB,
					T1.APPLICATIONNO,
					T1.REFERRALID,
					T33.ROFFICERDESC REFERRALIDDESC,
					T1.DMACODE,
					T34.ROFFICERDESC DMACODEDESC,
					T1.SALESDEPARTMENT,
					T35.DEPTDESC SALESDEPARTMENTDESC,
					T1.QUICKDISB,
					T1.WIFREFERENCE,
					T1.UNPLANEMIHLOCKPERIOD,
					T1.UNPLANEMICPZ,
					T1.REAGECPZ,
					T1.MAXUNPLANNEDEMI,
					T1.MAXREAGEHOLIDAYS,
					T1.AVAILEDUNPLANEMI,
					T1.AVAILEDREAGEH,
					T1.BPIAMOUNT,
					T1.DEDUCTFEEDISB,
					T1.RVWRATEAPPLFOR,
					T1.SCHCALONRVW,
					T1.PASTDUEPFTCALMTHD,
					T1.PASTDUEPFTMARGIN,
					T1.DROPPINGMETHOD,
					T1.RATECHGANYDAY,
					T1.PROMOTIONCODE,
					T1.RESTRUCTURELOAN,
					T1.OLDFINREFERENCE,
					T1.REAGEBUCKET,
					T1.FINCATEGORY,
					T1.PRODUCTCATEGORY,
					T1.ROUNDINGTARGET,
					T36.ENTITYCODE LOVDESCENTITYCODE,
					T1.ELIGIBILITYMETHOD,
					T38.FIELDCODEVALUE LOVELIGIBILITYMETHOD,
					T38.VALUEDESC LOVDESCELIGIBILITYMETHOD,
					T1.EMPLOYEENAME,
					T37.ROFFICERDESC EMPLOYEENAMEDESC,
					T1.SAMPLINGREQUIRED,
					T1.LEGALREQUIRED,
					T1.GRCMAXAMOUNT,
					T1.CONNECTOR,
					T40.DEALERNAME CONNECTORCODE,
					T40.DEALERCITY CONNECTORDESC,
					T1.ADVANCEEMI,
					T1.ADVEMITERMS,
					T1.BPIPFTDAYSBASIS,
					T1.FIXEDRATETENOR,
					T1.FIXEDTENORRATE,
					T12.BRANCHTEL FINBRANCHCONTACT,
					T1.PROCESSATTRIBUTES,
					T1.BUSINESSVERTICAL,
					BV.CODE BUSINESSVERTICALCODE,
					BV.DESCRIPTION BUSINESSVERTICALDESC,
					T1.GRCADVTYPE,
					T1.GRCADVTERMS,
					T1.ADVTYPE,
					T1.ADVTERMS,
					T1.ADVSTAGE,
					T1.TDSPERCENTAGE,
					T1.TDSSTARTDATE,
					T1.TDSENDDATE,
					T1.TDSLIMITAMT,
					T1.VANREQ,
					T1.VANCODE,
					T1.ALLOWDRAWINGPOWER,
					T1.ALLOWREVOLVING,
					T1.SANBSDSCHDLE,
					T1.PROMOTIONSEQID,
					T1.SVAMOUNT,
					T1.CBAMOUNT,
					T1.APPLIEDLOANAMT,
					T1.FINISRATERVWATGRCEND,
					T1.PLANEMIHALWINGRACE,
					T1.ALWGRCADJ,
					T1.ENDGRCPERIODAFTRFULLDISB,
					T1.AUTOINCGRCENDDATE,
					T1.WRITEOFFLOAN,
					T1.RESTRUCTURE,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.NOOFGRCSTEPS,
					T1.SCHDVERSION,
					T1.SUBVENTIONFROM,
					T1.MANUFACTURERDEALERID,
					T41.DEALERNAME MANUFACTURERDEALERNAME,
					T41.CODE MANUFACTURERDEALERCODE
				FROM FINANCEMAIN_TEMP T1
				JOIN RMTFINANCETYPES T7 ON T1.FINTYPE  = T7.FINTYPE 
				LEFT JOIN RMTBRANCHES T12 ON T1.FINBRANCH  = T12.BRANCHCODE 
				LEFT JOIN FINPFTDETAILS T17 ON T17.FINREFERENCE  = T1.FINREFERENCE 
				LEFT JOIN STEPPOLICYHEADER T24 ON T1.STEPPOLICY  = T24.POLICYCODE 
				LEFT JOIN BMTCUSTSTATUSCODES T27 ON T1.FINSTATUS  = T27.CUSTSTSCODE 
				LEFT JOIN AMTVEHICLEDEALER T28 ON T1.ACCOUNTSOFFICER = T28.DEALERID
				LEFT JOIN RELATIONSHIPOFFICERS T30 ON T1.DSACODE  = T30.ROFFICERCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T33 ON T1.REFERRALID  = T33.ROFFICERCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T34 ON T1.DMACODE  = T34.ROFFICERCODE 
				LEFT JOIN BMTDEPARTMENTS T35 ON T1.SALESDEPARTMENT  = T35.DEPTCODE 
				LEFT JOIN SMTDIVISIONDETAIL T36 ON T7.FINDIVISION  = T36.DIVISIONCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T37 ON T1.EMPLOYEENAME  = T37.ROFFICERCODE 
				LEFT JOIN RMTLOVFIELDDETAIL T38 ON T1.ELIGIBILITYMETHOD = T38.FIELDCODEID AND T38.FIELDCODE  = 'ELGMETHOD' 
				LEFT JOIN LOANPURPOSES T39 ON T1.FINPURPOSE  = T39.LOANPURPOSECODE 
				LEFT JOIN AMTVEHICLEDEALER T40 ON T1.CONNECTOR = T40.DEALERID
				LEFT JOIN BUSINESS_VERTICAL BV ON BV.ID = T1.BUSINESSVERTICAL
				LEFT JOIN AMTVEHICLEDEALER T41 ON T1.MANUFACTURERDEALERID = T41.DEALERID
			]]>
		</createView>
	</changeSet>

	<changeSet id="102_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financemain_tview');
		 	]]>
		</sql>
	</changeSet>

	<changeSet id="103_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financemain_aview');
		 	]]>
		</sql>
	</changeSet>

	<changeSet id="103" author="Gopal.p">
		<comment>SUBVENTIONFROM, MANUFACTURERDEALER - (ID, NAME, CODE) columns are added</comment>
		<createView viewName="FINANCEMAIN_AVIEW" replaceIfExists="true">
			<![CDATA[ 
				SELECT T1.FINREFERENCE,
					T1.INVESTMENTREF,
					T1.NUMBEROFTERMS,
					T1.GRCPERIODENDDATE,
					T1.ALLOWGRCPERIOD,
					T1.GRACEBASERATE,
					T1.GRACESPECIALRATE,
					T1.GRCPFTRATE,
					T1.GRCPFTFRQ,
					T1.NEXTGRCPFTDATE,
					T1.ALLOWGRCPFTRVW,
					T1.GRCPFTRVWFRQ,
					T1.NEXTGRCPFTRVWDATE,
					T1.ALLOWGRCCPZ,
					T1.GRCCPZFRQ,
					T1.NEXTGRCCPZDATE,
					T1.REPAYBASERATE,
					T1.REPAYSPECIALRATE,
					T1.REPAYPROFITRATE,
					T1.REPAYFRQ,
					T1.NEXTREPAYDATE,
					T1.REPAYPFTFRQ,
					T1.NEXTREPAYPFTDATE,
					T1.ALLOWREPAYRVW,
					T1.REPAYRVWFRQ,
					T1.NEXTREPAYRVWDATE,
					T1.ALLOWREPAYCPZ,
					T1.REPAYCPZFRQ,
					T1.NEXTREPAYCPZDATE,
					T1.MATURITYDATE,
					T1.CPZATGRACEEND,
					T1.DOWNPAYMENT,
					T1.GRACEFLATAMOUNT,
					T1.REQREPAYAMOUNT,
					T1.TOTALPROFIT,
					T1.TOTALCPZ,
					T1.TOTALGROSSPFT,
					T1.TOTALGROSSGRCPFT,
					T1.TOTALGRACEPFT,
					T1.TOTALGRACECPZ,
					T1.GRCRATEBASIS,
					T1.REPAYRATEBASIS,
					T1.FINTYPE,
					T1.FINREMARKS,
					T1.FINCCY,
					T1.SCHEDULEMETHOD,
					T1.PROFITDAYSBASIS,
					T1.REQMATURITY,
					T1.CALTERMS,
					T1.CALMATURITY,
					T1.FIRSTREPAY,
					T1.LASTREPAY,
					T1.FINSTARTDATE,
					T1.FINAMOUNT,
					T1.FINAMOUNT + T1.FEECHARGEAMT - T1.DOWNPAYMENT LOVDESCFINANCINGAMOUNT,
					T1.FINREPAYMENTAMOUNT,
					T1.CUSTID,
					T1.DEFFERMENTS,
					T1.PLANDEFERCOUNT,
					T1.FINBRANCH,
					T1.FINSOURCEID,
					T1.ALLOWEDDEFRPYCHANGE,
					T1.AVAILEDDEFRPYCHANGE,
					T1.ALLOWEDDEFFRQCHANGE,
					T1.AVAILEDDEFFRQCHANGE,
					T1.RECALTYPE,
					T1.FINASSETVALUE,
					T1.DISBACCOUNTID,
					T1.REPAYACCOUNTID,
					T1.FINISACTIVE,
					T1.LIMITVALID,
					T1.OVERRIDELIMIT,
					T1.SECURITYDEPOSIT,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T7.FINTYPEDESC LOVDESCFINTYPENAME,
					T7.FINMAXAMOUNT LOVDESCFINMAXAMT,
					T7.FINMINAMOUNT LOVDESCFINMINAMOUNT,
					T1.MINDOWNPAYPERC,
					T7.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
					T7.FINISDWPAYREQUIRED LOVDESCDWNPAYREQ,
					T7.FINMAXDIFFERMENT LOVDESCFINMAXDIFFERMENT,
					T12.BRANCHDESC LOVDESCFINBRANCHNAME,
					T12.BRANCHPROVINCE FINBRANCHPROVINCECODE,
					T1.LASTREPAYDATE,
					T1.LASTREPAYPFTDATE,
					T1.LASTREPAYRVWDATE,
					T1.LASTREPAYCPZDATE,
					T1.ALLOWGRCREPAY,
					T1.GRCSCHDMTHD,
					T1.GRCMARGIN,
					T1.REPAYMARGIN,
					T1.FINCURRASSETVALUE,
					T1.FINCOMMITMENTREF,
					T1.FINLIMITREF,
					T1.DEPRECIATIONFRQ,
					T1.FINCONTRACTDATE,
					T1.NEXTDEPDATE,
					T1.LASTDEPDATE,
					T1.FINACCOUNT,
					T1.FINCUSTPFTACCOUNT,
					T17.ACRTILLLBD LOVDESCACCRUEDTILLLBD,
					T7.FINRVWRATEAPPLFOR,
					T1.TOTALREPAYAMT,
					T1.CLOSINGSTATUS,
					T1.FINAPPROVEDDATE,
					T1.FEECHARGEAMT,
					T1.BLACKLISTED,
					T1.FINREPAYPFTONFRQ,
					T1.ANUALIZEDPERCRATE,
					T1.EFFECTIVERATEOFRETURN,
					T1.MIGRATEDFINANCE,
					T1.SCHEDULEMAINTAINED,
					T1.SCHEDULEREGENERATED,
					T1.FINPURPOSE,
					T39.LOANPURPOSEDESC LOVDESCFINPURPOSENAME,
					T1.FINSTATUS,
					T1.FINSTSREASON,
					T1.INITIATEUSER,
					T1.BANKNAME,
					T1.IBAN,
					T1.ACCOUNTTYPE,
					T1.DDAREFERENCENO,
					T7.FINSCHEDULEON LOVDESCFINSCHEDULEON,
					T1.CUSTDSR,
					T1.JOINTACCOUNT,
					T1.JOINTCUSTID,
					T1.DOWNPAYBANK,
					T1.DOWNPAYSUPL,
					T1.DOWNPAYACCOUNT,
					T1.SECURITYCOLLATERAL,
					T1.APPROVED,
					T1.DISCREPANCY,
					T1.LIMITAPPROVED,
					T1.GRACETERMS,
					T7.FINDIVISION LOVDESCFINDIVISION,
					T1.RCDMAINTAINSTS,
					T1.FINREPAYMETHOD,
					T1.GRCPROFITDAYSBASIS,
					T1.STEPFINANCE,
					T1.STEPTYPE,
					T1.STEPPOLICY,
					T1.ALWMANUALSTEPS,
					T1.NOOFSTEPS,
					T1.LINKEDFINREF,
					T1.NEXTUSERID,
					T1.PRIORITY,
					T24.POLICYDESC LOVDESCSTEPPOLICYNAME,
					T1.GRCMINRATE,
					T1.GRCMAXRATE,
					T1.RPYMINRATE,
					T1.RPYMAXRATE,
					T1.DEVIATIONAPPROVAL,
					T1.MANUALSCHEDULE,
					T1.TAKEOVERFINANCE,
					T1.GRCADVBASERATE,
					T1.GRCADVMARGIN,
					T1.GRCADVPFTRATE,
					T1.RPYADVBASERATE,
					T1.RPYADVMARGIN,
					T1.RPYADVPFTRATE,
					T1.SUPPLEMENTRENT,
					T1.INCREASEDCOST,
					T1.CREDITINSAMT,
					T1.ROLLOVERFRQ,
					T1.NEXTROLLOVERDATE,
					T27.CUSTSTSDESCRIPTION,
					T1.SHARIASTATUS,
					T1.INITIATEDATE,
					T1.FINPREAPPROVEDREF,
					T1.MMAID,
					T1.ACCOUNTSOFFICER,
					T1.FEEACCOUNTID,
					T1.FINCANCELAC,
					T28.DEALERNAME LOVDESCACCOUNTSOFFICER,
					T28.DEALERCITY LOVDESCSOURCECITY,
					T1.DSACODE,
					T30.ROFFICERDESC DSACODEDESC,
					T1.TDSAPPLICABLE,
					T1.MANDATEID,
					T1.DROPLINEFRQ,
					T1.FIRSTDROPLINEDATE,
					T1.PFTSERVICINGODLIMIT,
					T1.INSURANCEAMT,
					T1.DEDUCTINSDISB,
					T1.ALWBPI,
					T1.BPITREATMENT,
					T1.PLANEMIHALW,
					T1.PLANEMIHMETHOD,
					T1.PLANEMIHMAXPERYEAR,
					T1.PLANEMIHMAX,
					T1.PLANEMIHLOCKPERIOD,
					T1.PLANEMICPZ,
					T1.CALROUNDINGMODE,
					T1.ALWMULTIDISB,
					T1.APPLICATIONNO,
					T1.REFERRALID,
					T33.ROFFICERDESC REFERRALIDDESC,
					T1.DMACODE,
					T34.ROFFICERDESC DMACODEDESC,
					T1.SALESDEPARTMENT,
					T35.DEPTDESC SALESDEPARTMENTDESC,
					T1.QUICKDISB,
					T1.WIFREFERENCE,
					T1.UNPLANEMIHLOCKPERIOD,
					T1.UNPLANEMICPZ,
					T1.REAGECPZ,
					T1.MAXUNPLANNEDEMI,
					T1.MAXREAGEHOLIDAYS,
					T1.AVAILEDUNPLANEMI,
					T1.AVAILEDREAGEH,
					T1.BPIAMOUNT,
					T1.DEDUCTFEEDISB,
					T1.RVWRATEAPPLFOR,
					T1.SCHCALONRVW,
					T1.PASTDUEPFTCALMTHD,
					T1.PASTDUEPFTMARGIN,
					T1.DROPPINGMETHOD,
					T1.RATECHGANYDAY,
					T1.PROMOTIONCODE,
					T1.RESTRUCTURELOAN,
					T1.OLDFINREFERENCE,
					T1.REAGEBUCKET,
					T1.FINCATEGORY,
					T1.PRODUCTCATEGORY,
					T1.ROUNDINGTARGET,
					T36.ENTITYCODE LOVDESCENTITYCODE,
					T1.ELIGIBILITYMETHOD,
					T38.FIELDCODEVALUE LOVELIGIBILITYMETHOD,
					T38.VALUEDESC LOVDESCELIGIBILITYMETHOD,
					T1.EMPLOYEENAME,
					T37.ROFFICERDESC EMPLOYEENAMEDESC,
					T1.SAMPLINGREQUIRED,
					T1.LEGALREQUIRED,
					T1.GRCMAXAMOUNT,
					T1.CONNECTOR,
					T40.DEALERNAME CONNECTORCODE,
					T40.DEALERCITY CONNECTORDESC,
					T1.ADVANCEEMI,
					T1.ADVEMITERMS,
					T1.BPIPFTDAYSBASIS,
					T1.FIXEDRATETENOR,
					T1.FIXEDTENORRATE,
					T12.BRANCHTEL FINBRANCHCONTACT,
					T1.PROCESSATTRIBUTES,
					T1.BUSINESSVERTICAL,
					BV.CODE BUSINESSVERTICALCODE,
					BV.DESCRIPTION BUSINESSVERTICALDESC,
					T1.GRCADVTYPE,
					T1.GRCADVTERMS,
					T1.ADVTYPE,
					T1.ADVTERMS,
					T1.ADVSTAGE,
					T1.TDSPERCENTAGE,
					T1.TDSSTARTDATE,
					T1.TDSENDDATE,
					T1.TDSLIMITAMT,
					T1.VANREQ,
					T1.VANCODE,
					T1.ALLOWDRAWINGPOWER,
					T1.ALLOWREVOLVING,
					T1.SANBSDSCHDLE,
					T1.PROMOTIONSEQID,
					T1.SVAMOUNT,
					T1.CBAMOUNT,
					T1.APPLIEDLOANAMT,
					T1.FINISRATERVWATGRCEND,
					T1.PLANEMIHALWINGRACE,
					T1.ALWGRCADJ,
					T1.ENDGRCPERIODAFTRFULLDISB,
					T1.AUTOINCGRCENDDATE,
					C.CUSTCIF LOVDESCCUSTCIF,
					T1.WRITEOFFLOAN,
					T1.RESTRUCTURE,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.NOOFGRCSTEPS,
					T1.SCHDVERSION,
					T1.SUBVENTIONFROM,
					T1.MANUFACTURERDEALERID,
					T41.DEALERNAME MANUFACTURERDEALERNAME,
					T41.CODE MANUFACTURERDEALERCODE				
				FROM FINANCEMAIN T1
				JOIN RMTFINANCETYPES T7 ON T1.FINTYPE = T7.FINTYPE 
				LEFT JOIN RMTBRANCHES T12 ON T1.FINBRANCH  = T12.BRANCHCODE 
				LEFT JOIN FINPFTDETAILS T17 ON T17.FINREFERENCE  = T1.FINREFERENCE 
				LEFT JOIN STEPPOLICYHEADER T24 ON T1.STEPPOLICY  = T24.POLICYCODE 
				LEFT JOIN BMTCUSTSTATUSCODES T27 ON T1.FINSTATUS  = T27.CUSTSTSCODE 
				LEFT JOIN AMTVEHICLEDEALER T28 ON T1.ACCOUNTSOFFICER = T28.DEALERID
				LEFT JOIN RELATIONSHIPOFFICERS T30 ON T1.DSACODE  = T30.ROFFICERCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T33 ON T1.REFERRALID  = T33.ROFFICERCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T34 ON T1.DMACODE  = T34.ROFFICERCODE 
				LEFT JOIN BMTDEPARTMENTS T35 ON T1.SALESDEPARTMENT  = T35.DEPTCODE 
				LEFT JOIN SMTDIVISIONDETAIL T36 ON T7.FINDIVISION  = T36.DIVISIONCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T37 ON T1.EMPLOYEENAME  = T37.ROFFICERCODE 
				LEFT JOIN RMTLOVFIELDDETAIL T38 ON T1.ELIGIBILITYMETHOD = T38.FIELDCODEID AND T38.FIELDCODE  = 'ELGMETHOD' 
				LEFT JOIN LOANPURPOSES T39 ON T1.FINPURPOSE  = T39.LOANPURPOSECODE 
				LEFT JOIN AMTVEHICLEDEALER T40 ON T1.CONNECTOR = T40.DEALERID
				LEFT JOIN BUSINESS_VERTICAL BV ON BV.ID = T1.BUSINESSVERTICAL
				INNER JOIN CUSTOMERS C ON C.CUSTID = t1.CUSTID
				LEFT JOIN AMTVEHICLEDEALER T41 ON T1.MANUFACTURERDEALERID = T41.DEALERID
			]]>
		</createView>
	</changeSet>

	<changeSet id="103_post" author="Gopal.p" dbms="postgresql">
		<sql>	
			<![CDATA[
				select deps_restore_dependencies ('plf', 'financemain_aview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="104_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financemain_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="104" author="Gopal.p">
		<comment>SUBVENTIONFROM, MANUFACTURERDEALER - (ID, NAME, CODE) columns are added</comment>
		<createView viewName="FINANCEMAIN_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.FINREFERENCE,
				    T1.INVESTMENTREF,
				    T1.NUMBEROFTERMS,
				    T1.GRCPERIODENDDATE,
				    T1.ALLOWGRCPERIOD,
				    T1.GRACEBASERATE,
				    T1.GRACESPECIALRATE,
				    T1.GRCPFTRATE,
				    T1.GRCPFTFRQ,
				    T1.NEXTGRCPFTDATE,
				    T1.ALLOWGRCPFTRVW,
				    T1.GRCPFTRVWFRQ,
				    T1.NEXTGRCPFTRVWDATE,
				    T1.ALLOWGRCCPZ,
				    T1.GRCCPZFRQ,
				    T1.NEXTGRCCPZDATE,
				    T1.REPAYBASERATE,
				    T1.REPAYSPECIALRATE,
				    T1.REPAYPROFITRATE,
				    T1.REPAYFRQ,
				    T1.NEXTREPAYDATE,
				    T1.REPAYPFTFRQ,
				    T1.NEXTREPAYPFTDATE,
				    T1.ALLOWREPAYRVW,
				    T1.REPAYRVWFRQ,
				    T1.NEXTREPAYRVWDATE,
				    T1.ALLOWREPAYCPZ,
				    T1.REPAYCPZFRQ,
				    T1.NEXTREPAYCPZDATE,
				    T1.MATURITYDATE,
				    T1.CPZATGRACEEND,
				    T1.DOWNPAYMENT,
				    T1.GRACEFLATAMOUNT,
				    T1.REQREPAYAMOUNT,
				    T1.TOTALPROFIT,
				    T1.TOTALCPZ,
				    T1.TOTALGROSSPFT,
				    T1.TOTALGROSSGRCPFT,
				    T1.TOTALGRACEPFT,
				    T1.TOTALGRACECPZ,
				    T1.GRCRATEBASIS,
				    T1.REPAYRATEBASIS,
				    T1.FINTYPE,
				    T1.FINREMARKS,
				    T1.FINCCY,
				    T1.SCHEDULEMETHOD,
				    T1.PROFITDAYSBASIS,
				    T1.REQMATURITY,
				    T1.CALTERMS,
				    T1.CALMATURITY,
				    T1.FIRSTREPAY,
				    T1.LASTREPAY,
				    T1.FINSTARTDATE,
				    T1.FINAMOUNT,
				    T1.FINAMOUNT + T1.FEECHARGEAMT - T1.DOWNPAYMENT LOVDESCFINANCINGAMOUNT,
				    T1.FINREPAYMENTAMOUNT,
				    T1.CUSTID,
				    T1.DEFFERMENTS,
				    T1.PLANDEFERCOUNT,
				    T1.FINBRANCH,
				    T1.FINSOURCEID,
				    T1.ALLOWEDDEFRPYCHANGE,
				    T1.AVAILEDDEFRPYCHANGE,
				    T1.ALLOWEDDEFFRQCHANGE,
				    T1.AVAILEDDEFFRQCHANGE,
				    T1.RECALTYPE,
				    T1.FINASSETVALUE,
				    T1.DISBACCOUNTID,
				    T1.REPAYACCOUNTID,
				    T1.FINISACTIVE,
				    T1.LIMITVALID,
				    T1.OVERRIDELIMIT,
				    T1.SECURITYDEPOSIT,
				    T1.VERSION,
				    T1.LASTMNTBY,
				    T1.LASTMNTON,
				    T1.RECORDSTATUS,
				    T1.ROLECODE,
				    T1.NEXTROLECODE,
				    T1.TASKID,
				    T1.NEXTTASKID,
				    T1.RECORDTYPE,
				    T1.WORKFLOWID,
				    T7.FINTYPEDESC LOVDESCFINTYPENAME,
				    T7.FINMAXAMOUNT LOVDESCFINMAXAMT,
				    T7.FINMINAMOUNT LOVDESCFINMINAMOUNT,
				    T1.MINDOWNPAYPERC,
				    T7.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
				    T7.FINISDWPAYREQUIRED LOVDESCDWNPAYREQ,
				    T7.FINMAXDIFFERMENT LOVDESCFINMAXDIFFERMENT,
				    T12.BRANCHDESC LOVDESCFINBRANCHNAME,
				    T12.BRANCHPROVINCE FINBRANCHPROVINCECODE,
				    T1.LASTREPAYDATE,
				    T1.LASTREPAYPFTDATE,
				    T1.LASTREPAYRVWDATE,
				    T1.LASTREPAYCPZDATE,
				    T1.ALLOWGRCREPAY,
				    T1.GRCSCHDMTHD,
				    T1.GRCMARGIN,
				    T1.REPAYMARGIN,
				    T1.FINCURRASSETVALUE,
				    T1.FINCOMMITMENTREF,
				    T1.FINLIMITREF,
				    T1.DEPRECIATIONFRQ,
				    T1.FINCONTRACTDATE,
				    T1.NEXTDEPDATE,
				    T1.LASTDEPDATE,
				    T1.FINACCOUNT,
				    T1.FINCUSTPFTACCOUNT,
				    T17.ACRTILLLBD LOVDESCACCRUEDTILLLBD,
				    T7.FINRVWRATEAPPLFOR,
				    T1.TOTALREPAYAMT,
				    T1.CLOSINGSTATUS,
				    T1.FINAPPROVEDDATE,
				    T1.FEECHARGEAMT,
				    T1.BLACKLISTED,
				    T1.FINREPAYPFTONFRQ,
				    T1.ANUALIZEDPERCRATE,
				    T1.EFFECTIVERATEOFRETURN,
				    T1.MIGRATEDFINANCE,
				    T1.SCHEDULEMAINTAINED,
				    T1.SCHEDULEREGENERATED,
				    T1.FINPURPOSE,
				    T39.LOANPURPOSEDESC LOVDESCFINPURPOSENAME,
				    T1.FINSTATUS,
				    T1.FINSTSREASON,
				    T1.INITIATEUSER,
				    T1.BANKNAME,
				    T1.IBAN,
				    T1.ACCOUNTTYPE,
				    T1.DDAREFERENCENO,
				    T7.FINSCHEDULEON LOVDESCFINSCHEDULEON,
				    T1.CUSTDSR,
				    T1.JOINTACCOUNT,
				    T1.JOINTCUSTID,
				    T1.DOWNPAYBANK,
				    T1.DOWNPAYSUPL,
				    T1.DOWNPAYACCOUNT,
				    T1.SECURITYCOLLATERAL,
				    T1.APPROVED,
				    T1.DISCREPANCY,
				    T1.LIMITAPPROVED,
				    T1.GRACETERMS,
				    T7.FINDIVISION LOVDESCFINDIVISION,
				    T1.RCDMAINTAINSTS,
				    T1.FINREPAYMETHOD,
				    T1.GRCPROFITDAYSBASIS,
				    T1.STEPFINANCE,
				    T1.STEPTYPE,
				    T1.STEPPOLICY,
				    T1.ALWMANUALSTEPS,
				    T1.NOOFSTEPS,
				    T1.LINKEDFINREF,
				    T1.NEXTUSERID,
				    T1.PRIORITY,
				    T24.POLICYDESC LOVDESCSTEPPOLICYNAME,
				    T1.GRCMINRATE,
				    T1.GRCMAXRATE,
				    T1.RPYMINRATE,
				    T1.RPYMAXRATE,
				    T1.DEVIATIONAPPROVAL,
				    T1.MANUALSCHEDULE,
				    T1.TAKEOVERFINANCE,
				    T1.GRCADVBASERATE,
				    T1.GRCADVMARGIN,
				    T1.GRCADVPFTRATE,
				    T1.RPYADVBASERATE,
				    T1.RPYADVMARGIN,
				    T1.RPYADVPFTRATE,
				    T1.SUPPLEMENTRENT,
				    T1.INCREASEDCOST,
				    T1.CREDITINSAMT,
				    T1.ROLLOVERFRQ,
				    T1.NEXTROLLOVERDATE,
				    T27.CUSTSTSDESCRIPTION,
				    T1.SHARIASTATUS,
				    T1.INITIATEDATE,
				    T1.FINPREAPPROVEDREF,
				    T1.MMAID,
				    T1.ACCOUNTSOFFICER,
				    T1.FEEACCOUNTID,
				    T1.FINCANCELAC,
				    T28.DEALERNAME LOVDESCACCOUNTSOFFICER,
				    T28.DEALERCITY LOVDESCSOURCECITY,
				    T1.DSACODE,
				    T30.ROFFICERDESC DSACODEDESC,
				    T1.TDSAPPLICABLE,
				    T1.MANDATEID,
				    T1.DROPLINEFRQ,
				    T1.FIRSTDROPLINEDATE,
				    T1.PFTSERVICINGODLIMIT,
				    T1.INSURANCEAMT,
				    T1.DEDUCTINSDISB,
				    T1.ALWBPI,
				    T1.BPITREATMENT,
				    T1.PLANEMIHALW,
				    T1.PLANEMIHMETHOD,
				    T1.PLANEMIHMAXPERYEAR,
				    T1.PLANEMIHMAX,
				    T1.PLANEMIHLOCKPERIOD,
				    T1.PLANEMICPZ,
				    T1.CALROUNDINGMODE,
				    T1.ALWMULTIDISB,
				    T1.APPLICATIONNO,
				    T1.REFERRALID,
				    T33.ROFFICERDESC REFERRALIDDESC,
				    T1.DMACODE,
				    T34.ROFFICERDESC DMACODEDESC,
				    T1.SALESDEPARTMENT,
				    T35.DEPTDESC SALESDEPARTMENTDESC,
				    T1.QUICKDISB,
				    T1.WIFREFERENCE,
				    T1.UNPLANEMIHLOCKPERIOD,
				    T1.UNPLANEMICPZ,
				    T1.REAGECPZ,
				    T1.MAXUNPLANNEDEMI,
				    T1.MAXREAGEHOLIDAYS,
				    T1.AVAILEDUNPLANEMI,
				    T1.AVAILEDREAGEH,
				    T1.BPIAMOUNT,
				    T1.DEDUCTFEEDISB,
				    T1.RVWRATEAPPLFOR,
				    T1.SCHCALONRVW,
				    T1.PASTDUEPFTCALMTHD,
				    T1.PASTDUEPFTMARGIN,
				    T1.DROPPINGMETHOD,
				    T1.RATECHGANYDAY,
				    T1.PROMOTIONCODE,
				    T1.RESTRUCTURELOAN,
				    T1.OLDFINREFERENCE,
				    T1.REAGEBUCKET,
				    T1.FINCATEGORY,
				    T1.PRODUCTCATEGORY,
				    T1.ROUNDINGTARGET,
				    T36.ENTITYCODE LOVDESCENTITYCODE,
				    T1.ELIGIBILITYMETHOD,
				    T38.FIELDCODEVALUE LOVELIGIBILITYMETHOD,
				    T38.VALUEDESC LOVDESCELIGIBILITYMETHOD,
				    T1.EMPLOYEENAME,
				    T37.ROFFICERDESC EMPLOYEENAMEDESC,
				    T1.SAMPLINGREQUIRED,
				    T1.LEGALREQUIRED,
				    T1.GRCMAXAMOUNT,
				    T1.CONNECTOR,
				    T40.DEALERNAME CONNECTORCODE,
				    T40.DEALERCITY CONNECTORDESC,
				    T1.ADVANCEEMI,
				    T1.ADVEMITERMS,
				    T1.BPIPFTDAYSBASIS,
				    T1.FIXEDRATETENOR,
				    T1.FIXEDTENORRATE,
				    T12.BRANCHTEL FINBRANCHCONTACT,
				    T1.PROCESSATTRIBUTES,
				    T1.BUSINESSVERTICAL,
				    BV.CODE BUSINESSVERTICALCODE,
				    BV.DESCRIPTION BUSINESSVERTICALDESC,
				    T1.GRCADVTYPE,
				    T1.GRCADVTERMS,
				    T1.ADVTYPE,
				    T1.ADVTERMS,
				    T1.ADVSTAGE,
				    T1.TDSPERCENTAGE,
				    T1.TDSSTARTDATE,
				    T1.TDSENDDATE,
				    T1.TDSLIMITAMT,
				    T1.VANREQ,
				    T1.VANCODE,
				    T1.ALLOWDRAWINGPOWER,
				    T1.ALLOWREVOLVING,
				    T1.SANBSDSCHDLE,
				    T1.PROMOTIONSEQID,
				    T1.SVAMOUNT,
				    T1.CBAMOUNT,
				    T1.APPLIEDLOANAMT,
				    T1.FINISRATERVWATGRCEND,
					T1.PLANEMIHALWINGRACE,
					T1.ALWGRCADJ,
					T1.ENDGRCPERIODAFTRFULLDISB,
					T1.AUTOINCGRCENDDATE,
					T1.WRITEOFFLOAN,
					T1.RESTRUCTURE,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.NOOFGRCSTEPS,
					T1.SCHDVERSION,
					T1.SUBVENTIONFROM,
					T1.MANUFACTURERDEALERID,
					T41.DEALERNAME MANUFACTURERDEALERNAME,
					T41.CODE MANUFACTURERDEALERCODE
				FROM FINANCEMAIN_TEMP T1
				JOIN RMTFINANCETYPES T7 ON T1.FINTYPE  = T7.FINTYPE 
				LEFT JOIN RMTBRANCHES T12 ON T1.FINBRANCH  = T12.BRANCHCODE 
				LEFT JOIN FINPFTDETAILS T17 ON T17.FINREFERENCE  = T1.FINREFERENCE 
				LEFT JOIN STEPPOLICYHEADER T24 ON T1.STEPPOLICY  = T24.POLICYCODE 
				LEFT JOIN BMTCUSTSTATUSCODES T27 ON T1.FINSTATUS  = T27.CUSTSTSCODE 
				LEFT JOIN AMTVEHICLEDEALER T28 ON T1.ACCOUNTSOFFICER = T28.DEALERID
				LEFT JOIN RELATIONSHIPOFFICERS T30 ON T1.DSACODE  = T30.ROFFICERCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T33 ON T1.REFERRALID  = T33.ROFFICERCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T34 ON T1.DMACODE  = T34.ROFFICERCODE 
				LEFT JOIN BMTDEPARTMENTS T35 ON T1.SALESDEPARTMENT  = T35.DEPTCODE 
				LEFT JOIN SMTDIVISIONDETAIL T36 ON T7.FINDIVISION  = T36.DIVISIONCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T37 ON T1.EMPLOYEENAME  = T37.ROFFICERCODE 
				LEFT JOIN RMTLOVFIELDDETAIL T38 ON T1.ELIGIBILITYMETHOD = T38.FIELDCODEID AND T38.FIELDCODE  = 'ELGMETHOD' 
				LEFT JOIN LOANPURPOSES T39 ON T1.FINPURPOSE  = T39.LOANPURPOSECODE 
				LEFT JOIN AMTVEHICLEDEALER T40 ON T1.CONNECTOR = T40.DEALERID
				LEFT JOIN BUSINESS_VERTICAL BV ON BV.ID = T1.BUSINESSVERTICAL
				LEFT JOIN AMTVEHICLEDEALER T41 ON T1.MANUFACTURERDEALERID = T41.DEALERID
				UNION ALL
				SELECT T1.FINREFERENCE,
				    T1.INVESTMENTREF,
				    T1.NUMBEROFTERMS,
				    T1.GRCPERIODENDDATE,
				    T1.ALLOWGRCPERIOD,
				    T1.GRACEBASERATE,
				    T1.GRACESPECIALRATE,
				    T1.GRCPFTRATE,
				    T1.GRCPFTFRQ,
				    T1.NEXTGRCPFTDATE,
				    T1.ALLOWGRCPFTRVW,
				    T1.GRCPFTRVWFRQ,
				    T1.NEXTGRCPFTRVWDATE,
				    T1.ALLOWGRCCPZ,
				    T1.GRCCPZFRQ,
				    T1.NEXTGRCCPZDATE,
				    T1.REPAYBASERATE,
				    T1.REPAYSPECIALRATE,
				    T1.REPAYPROFITRATE,
				    T1.REPAYFRQ,
				    T1.NEXTREPAYDATE,
				    T1.REPAYPFTFRQ,
				    T1.NEXTREPAYPFTDATE,
				    T1.ALLOWREPAYRVW,
				    T1.REPAYRVWFRQ,
				    T1.NEXTREPAYRVWDATE,
				    T1.ALLOWREPAYCPZ,
				    T1.REPAYCPZFRQ,
				    T1.NEXTREPAYCPZDATE,
				    T1.MATURITYDATE,
				    T1.CPZATGRACEEND,
				    T1.DOWNPAYMENT,
				    T1.GRACEFLATAMOUNT,
				    T1.REQREPAYAMOUNT,
				    T1.TOTALPROFIT,
				    T1.TOTALCPZ,
				    T1.TOTALGROSSPFT,
				    T1.TOTALGROSSGRCPFT,
				    T1.TOTALGRACEPFT,
				    T1.TOTALGRACECPZ,
				    T1.GRCRATEBASIS,
				    T1.REPAYRATEBASIS,
				    T1.FINTYPE,
				    T1.FINREMARKS,
				    T1.FINCCY,
				    T1.SCHEDULEMETHOD,
				    T1.PROFITDAYSBASIS,
				    T1.REQMATURITY,
				    T1.CALTERMS,
				    T1.CALMATURITY,
				    T1.FIRSTREPAY,
				    T1.LASTREPAY,
				    T1.FINSTARTDATE,
				    T1.FINAMOUNT,
				    T1.FINAMOUNT + T1.FEECHARGEAMT - T1.DOWNPAYMENT LOVDESCFINANCINGAMOUNT,
				    T1.FINREPAYMENTAMOUNT,
				    T1.CUSTID,
				    T1.DEFFERMENTS,
				    T1.PLANDEFERCOUNT,
				    T1.FINBRANCH,
				    T1.FINSOURCEID,
				    T1.ALLOWEDDEFRPYCHANGE,
				    T1.AVAILEDDEFRPYCHANGE,
				    T1.ALLOWEDDEFFRQCHANGE,
				    T1.AVAILEDDEFFRQCHANGE,
				    T1.RECALTYPE,
				    T1.FINASSETVALUE,
				    T1.DISBACCOUNTID,
				    T1.REPAYACCOUNTID,
				    T1.FINISACTIVE,
				    T1.LIMITVALID,
				    T1.OVERRIDELIMIT,
				    T1.SECURITYDEPOSIT,
				    T1.VERSION,
				    T1.LASTMNTBY,
				    T1.LASTMNTON,
				    T1.RECORDSTATUS,
				    T1.ROLECODE,
				    T1.NEXTROLECODE,
				    T1.TASKID,
				    T1.NEXTTASKID,
				    T1.RECORDTYPE,
				    T1.WORKFLOWID,
				    T7.FINTYPEDESC LOVDESCFINTYPENAME,
				    T7.FINMAXAMOUNT LOVDESCFINMAXAMT,
				    T7.FINMINAMOUNT LOVDESCFINMINAMOUNT,
				    T1.MINDOWNPAYPERC,
				    T7.FINISALWDIFFERMENT LOVDESCFINALWDEFERMENT,
				    T7.FINISDWPAYREQUIRED LOVDESCDWNPAYREQ,
				    T7.FINMAXDIFFERMENT LOVDESCFINMAXDIFFERMENT,
				    T12.BRANCHDESC LOVDESCFINBRANCHNAME,
				    T12.BRANCHPROVINCE FINBRANCHPROVINCECODE,
				    T1.LASTREPAYDATE,
				    T1.LASTREPAYPFTDATE,
				    T1.LASTREPAYRVWDATE,
				    T1.LASTREPAYCPZDATE,
				    T1.ALLOWGRCREPAY,
				    T1.GRCSCHDMTHD,
				    T1.GRCMARGIN,
				    T1.REPAYMARGIN,
				    T1.FINCURRASSETVALUE,
				    T1.FINCOMMITMENTREF,
				    T1.FINLIMITREF,
				    T1.DEPRECIATIONFRQ,
				    T1.FINCONTRACTDATE,
				    T1.NEXTDEPDATE,
				    T1.LASTDEPDATE,
				    T1.FINACCOUNT,
				    T1.FINCUSTPFTACCOUNT,
				    T17.ACRTILLLBD LOVDESCACCRUEDTILLLBD,
				    T7.FINRVWRATEAPPLFOR,
				    T1.TOTALREPAYAMT,
				    T1.CLOSINGSTATUS,
				    T1.FINAPPROVEDDATE,
				    T1.FEECHARGEAMT,
				    T1.BLACKLISTED,
				    T1.FINREPAYPFTONFRQ,
				    T1.ANUALIZEDPERCRATE,
				    T1.EFFECTIVERATEOFRETURN,
				    T1.MIGRATEDFINANCE,
				    T1.SCHEDULEMAINTAINED,
				    T1.SCHEDULEREGENERATED,
				    T1.FINPURPOSE,
				    T39.LOANPURPOSEDESC LOVDESCFINPURPOSENAME,
				    T1.FINSTATUS,
				    T1.FINSTSREASON,
				    T1.INITIATEUSER,
				    T1.BANKNAME,
				    T1.IBAN,
				    T1.ACCOUNTTYPE,
				    T1.DDAREFERENCENO,
				    T7.FINSCHEDULEON LOVDESCFINSCHEDULEON,
				    T1.CUSTDSR,
				    T1.JOINTACCOUNT,
				    T1.JOINTCUSTID,
				    T1.DOWNPAYBANK,
				    T1.DOWNPAYSUPL,
				    T1.DOWNPAYACCOUNT,
				    T1.SECURITYCOLLATERAL,
				    T1.APPROVED,
				    T1.DISCREPANCY,
				    T1.LIMITAPPROVED,
				    T1.GRACETERMS,
				    T7.FINDIVISION LOVDESCFINDIVISION,
				    T1.RCDMAINTAINSTS,
				    T1.FINREPAYMETHOD,
				    T1.GRCPROFITDAYSBASIS,
				    T1.STEPFINANCE,
				    T1.STEPTYPE,
				    T1.STEPPOLICY,
				    T1.ALWMANUALSTEPS,
				    T1.NOOFSTEPS,
				    T1.LINKEDFINREF,
				    T1.NEXTUSERID,
				    T1.PRIORITY,
				    T24.POLICYDESC LOVDESCSTEPPOLICYNAME,
				    T1.GRCMINRATE,
				    T1.GRCMAXRATE,
				    T1.RPYMINRATE,
				    T1.RPYMAXRATE,
				    T1.DEVIATIONAPPROVAL,
				    T1.MANUALSCHEDULE,
				    T1.TAKEOVERFINANCE,
				    T1.GRCADVBASERATE,
				    T1.GRCADVMARGIN,
				    T1.GRCADVPFTRATE,
				    T1.RPYADVBASERATE,
				    T1.RPYADVMARGIN,
				    T1.RPYADVPFTRATE,
				    T1.SUPPLEMENTRENT,
				    T1.INCREASEDCOST,
				    T1.CREDITINSAMT,
				    T1.ROLLOVERFRQ,
				    T1.NEXTROLLOVERDATE,
				    T27.CUSTSTSDESCRIPTION,
				    T1.SHARIASTATUS,
				    T1.INITIATEDATE,
				    T1.FINPREAPPROVEDREF,
				    T1.MMAID,
				    T1.ACCOUNTSOFFICER,
				    T1.FEEACCOUNTID,
				    T1.FINCANCELAC,
				    T28.DEALERNAME LOVDESCACCOUNTSOFFICER,
				    T28.DEALERCITY LOVDESCSOURCECITY,
				    T1.DSACODE,
				    T30.ROFFICERDESC DSACODEDESC,
				    T1.TDSAPPLICABLE,
				    T1.MANDATEID,
				    T1.DROPLINEFRQ,
				    T1.FIRSTDROPLINEDATE,
				    T1.PFTSERVICINGODLIMIT,
				    T1.INSURANCEAMT,
				    T1.DEDUCTINSDISB,
				    T1.ALWBPI,
				    T1.BPITREATMENT,
				    T1.PLANEMIHALW,
				    T1.PLANEMIHMETHOD,
				    T1.PLANEMIHMAXPERYEAR,
				    T1.PLANEMIHMAX,
				    T1.PLANEMIHLOCKPERIOD,
				    T1.PLANEMICPZ,
				    T1.CALROUNDINGMODE,
				    T1.ALWMULTIDISB,
				    T1.APPLICATIONNO,
				    T1.REFERRALID,
				    T33.ROFFICERDESC REFERRALIDDESC,
				    T1.DMACODE,
				    T34.ROFFICERDESC DMACODEDESC,
				    T1.SALESDEPARTMENT,
				    T35.DEPTDESC SALESDEPARTMENTDESC,
				    T1.QUICKDISB,
				    T1.WIFREFERENCE,
				    T1.UNPLANEMIHLOCKPERIOD,
				    T1.UNPLANEMICPZ,
				    T1.REAGECPZ,
				    T1.MAXUNPLANNEDEMI,
				    T1.MAXREAGEHOLIDAYS,
				    T1.AVAILEDUNPLANEMI,
				    T1.AVAILEDREAGEH,
				    T1.BPIAMOUNT,
				    T1.DEDUCTFEEDISB,
				    T1.RVWRATEAPPLFOR,
				    T1.SCHCALONRVW,
				    T1.PASTDUEPFTCALMTHD,
				    T1.PASTDUEPFTMARGIN,
				    T1.DROPPINGMETHOD,
				    T1.RATECHGANYDAY,
				    T1.PROMOTIONCODE,
				    T1.RESTRUCTURELOAN,
				    T1.OLDFINREFERENCE,
				    T1.REAGEBUCKET,
				    T1.FINCATEGORY,
				    T1.PRODUCTCATEGORY,
				    T1.ROUNDINGTARGET,
				    T36.ENTITYCODE LOVDESCENTITYCODE,
				    T1.ELIGIBILITYMETHOD,
				    T38.FIELDCODEVALUE LOVELIGIBILITYMETHOD,
				    T38.VALUEDESC LOVDESCELIGIBILITYMETHOD,
				    T1.EMPLOYEENAME,
				    T37.ROFFICERDESC EMPLOYEENAMEDESC,
				    T1.SAMPLINGREQUIRED,
				    T1.LEGALREQUIRED,
				    T1.GRCMAXAMOUNT,
				    T1.CONNECTOR,
				    T40.DEALERNAME CONNECTORCODE,
				    T40.DEALERCITY CONNECTORDESC,
				    T1.ADVANCEEMI,
				    T1.ADVEMITERMS,
				    T1.BPIPFTDAYSBASIS,
				    T1.FIXEDRATETENOR,
				    T1.FIXEDTENORRATE,
				    T12.BRANCHTEL FINBRANCHCONTACT,
				    T1.PROCESSATTRIBUTES,
				    T1.BUSINESSVERTICAL,
				    BV.CODE BUSINESSVERTICALCODE,
				    BV.DESCRIPTION BUSINESSVERTICALDESC,
				    T1.GRCADVTYPE,
				    T1.GRCADVTERMS,
				    T1.ADVTYPE,
				    T1.ADVTERMS,
				    T1.ADVSTAGE,
				    T1.TDSPERCENTAGE,
				    T1.TDSSTARTDATE,
				    T1.TDSENDDATE,
				    T1.TDSLIMITAMT,
				    T1.VANREQ,
				    T1.VANCODE,
				    T1.ALLOWDRAWINGPOWER,
				    T1.ALLOWREVOLVING,
				    T1.SANBSDSCHDLE,
				    T1.PROMOTIONSEQID,
				    T1.SVAMOUNT,
				    T1.CBAMOUNT,
				    T1.APPLIEDLOANAMT,
				    T1.FINISRATERVWATGRCEND,
					T1.PLANEMIHALWINGRACE,
					T1.ALWGRCADJ,
					T1.ENDGRCPERIODAFTRFULLDISB,
					T1.AUTOINCGRCENDDATE,
					T1.WRITEOFFLOAN,
					T1.RESTRUCTURE,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.NOOFGRCSTEPS,
					T1.SCHDVERSION,
					T1.SUBVENTIONFROM,
					T1.MANUFACTURERDEALERID,
					T41.DEALERNAME MANUFACTURERDEALERNAME,
					T41.CODE MANUFACTURERDEALERCODE
				FROM FINANCEMAIN T1
				JOIN RMTFINANCETYPES T7 ON T1.FINTYPE  = T7.FINTYPE 
				LEFT JOIN RMTBRANCHES T12 ON T1.FINBRANCH  = T12.BRANCHCODE 
				LEFT JOIN FINPFTDETAILS T17 ON T17.FINREFERENCE  = T1.FINREFERENCE 
				LEFT JOIN STEPPOLICYHEADER T24 ON T1.STEPPOLICY  = T24.POLICYCODE 
				LEFT JOIN BMTCUSTSTATUSCODES T27 ON T1.FINSTATUS  = T27.CUSTSTSCODE 
				LEFT JOIN AMTVEHICLEDEALER T28 ON T1.ACCOUNTSOFFICER = T28.DEALERID
				LEFT JOIN RELATIONSHIPOFFICERS T30 ON T1.DSACODE  = T30.ROFFICERCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T33 ON T1.REFERRALID  = T33.ROFFICERCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T34 ON T1.DMACODE  = T34.ROFFICERCODE 
				LEFT JOIN BMTDEPARTMENTS T35 ON T1.SALESDEPARTMENT  = T35.DEPTCODE 
				LEFT JOIN SMTDIVISIONDETAIL T36 ON T7.FINDIVISION  = T36.DIVISIONCODE 
				LEFT JOIN RELATIONSHIPOFFICERS T37 ON T1.EMPLOYEENAME  = T37.ROFFICERCODE 
				LEFT JOIN RMTLOVFIELDDETAIL T38 ON T1.ELIGIBILITYMETHOD = T38.FIELDCODEID AND T38.FIELDCODE  = 'ELGMETHOD' 
				LEFT JOIN LOANPURPOSES T39 ON T1.FINPURPOSE  = T39.LOANPURPOSECODE 
				LEFT JOIN AMTVEHICLEDEALER T40 ON T1.CONNECTOR = T40.DEALERID
				LEFT JOIN BUSINESS_VERTICAL BV ON BV.ID = T1.BUSINESSVERTICAL
				LEFT JOIN AMTVEHICLEDEALER T41 ON T1.MANUFACTURERDEALERID = T41.DEALERID
				WHERE NOT (EXISTS ( SELECT 1 FROM FINANCEMAIN_TEMP 
					WHERE FINANCEMAIN_TEMP.FINREFERENCE  = T1.FINREFERENCE ))
			]]>
		</createView>
	</changeSet>

<!-- 	<changeSet id="104_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'financemain_view');
			]]>
		</sql>
	</changeSet> -->

	<changeSet id="105_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financemain_lview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="105" author="Gopal.p">
		<comment>SUBVENTIONFROM, MANUFACTURERDEALER - (ID, NAME, CODE) columns are added</comment>
		<createView viewName="FINANCEMAIN_LVIEW" replaceIfExists="true">
			<![CDATA[
			 	SELECT T1.FINREFERENCE,
				    T1.INVESTMENTREF,
				    T1.FINTYPE,
				    T1.FINCCY,
				    T1.FINAMOUNT,
				    T1.DOWNPAYMENT,
				    T1.FEECHARGEAMT,
				    T1.SCHEDULEMETHOD,
				    T1.NUMBEROFTERMS,
				    T1.RECORDSTATUS,
				    T1.RECORDTYPE,
				    T1.ROLECODE,
				    T1.NEXTROLECODE,
				    T1.FINBRANCH,
				    T1.FINCONTRACTDATE,
				    T1.LINKEDFINREF,
				    T1.NEXTUSERID,
				    T1.PRIORITY,
				    T1.WORKFLOWID,
				    T1.TASKID,
				    T1.NEXTTASKID,
				    T1.FINPREAPPROVEDREF,
				    T1.RCDMAINTAINSTS,
				    T1.INSURANCEAMT,
				    T1.FINCURRASSETVALUE,
				    T1.CALTERMS,
				    T1.DEVIATIONAPPROVAL,
				    T1.FINPURPOSE,
				    T1.INITIATEDATE,
				    T1.FINASSETVALUE,
				    T2.CUSTID,
				    T2.CUSTCIF LOVDESCCUSTCIF,
				    T2.CUSTSHRTNAME LOVDESCCUSTSHRTNAME,
				    T2.CUSTPASSPORTNO LOVDESCCUSTPASSPORTNO,
				    T2.CUSTDOB LOVDESCCUSTDOB,
				    T2.CUSTCRCPR LOVDESCCUSTCRCPR,
				    T2.PHONENUMBER,
				    T3.FINCATEGORY LOVDESCPRODUCTCODENAME,
				    T3.FINDIVISION LOVDESCFINDIVISION,
				    T3.PRODUCT LOVDESCFINPRODUCT,
				    T3.FINTYPEDESC LOVDESCFINTYPENAME,
				    COALESCE(T4.ROLEDESC, ${add.schema} FN_GET_ROLEDESC(T1.NEXTROLECODE)) LOVDESCREQUESTSTAGE,
				    T1.SAMPLINGREQUIRED,
				    T1.ADVANCEEMI,
				    T1.ADVEMITERMS,
				    T1.BPIPFTDAYSBASIS,
				    T1.GRACETERMS,
				    T1.PRODUCTCATEGORY,
				    T1.VERSION,
				    T1.TDSAPPLICABLE,
				    T1.WRITEOFFLOAN,
					T1.RESTRUCTURE,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.NOOFGRCSTEPS,
					T1.SCHDVERSION,
					T1.SUBVENTIONFROM,
					T1.MANUFACTURERDEALERID,
					T5.DEALERNAME MANUFACTURERDEALERNAME,
					T5.CODE MANUFACTURERDEALERCODE
			    FROM FINANCEMAIN_TEMP T1
			    JOIN CUSTOMERS T2 ON T1.CUSTID = T2.CUSTID
			    JOIN RMTFINANCETYPES T3 ON T3.FINTYPE = T1.FINTYPE
			    LEFT JOIN SECROLES T4 ON T1.NEXTROLECODE = T4.ROLECD
			    LEFT JOIN AMTVEHICLEDEALER T5 ON T1.MANUFACTURERDEALERID = T5.DEALERID
			]]>
		</createView>
	</changeSet>

	<changeSet id="105_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'financemain_lview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="106_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financemain_dataview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="106" author="Gopal.p">
		<comment>SUBVENTIONFROM, MANUFACTURERDEALER - (ID, NAME, CODE) columns are added</comment>
		<createView viewName="FINANCEMAIN_DATAVIEW" replaceIfExists="true"> 
			<![CDATA[
				SELECT T1.FINREFERENCE,
					T1.FINTYPE,
					T2.CUSTCIF LOVDESCCUSTCIF,
					T1.CUSTID,
					T1.CLOSINGSTATUS,
					T1.FINISACTIVE,
					T1.MATURITYDATE,
					T1.PRODUCTCATEGORY,
					T1.WRITEOFFLOAN,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.NOOFGRCSTEPS,
					T1.SCHDVERSION,
					T1.SUBVENTIONFROM,
					T1.MANUFACTURERDEALERID,
					T5.DEALERNAME MANUFACTURERDEALERNAME,
					T5.CODE MANUFACTURERDEALERCODE
				FROM FINANCEMAIN T1
				JOIN CUSTOMERS T2 ON T1.CUSTID = T2.CUSTID
				JOIN RMTFINANCETYPES T3 ON T3.FINTYPE = T1.FINTYPE
				LEFT JOIN AMTVEHICLEDEALER T5 ON T1.MANUFACTURERDEALERID = T5.DEALERID
				WHERE T1.CLOSINGSTATUS IS NULL OR T1.CLOSINGSTATUS <> 'C'
			]]>
		</createView>
	</changeSet>

	<changeSet id="106_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'financemain_dataview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="107_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financemain_dview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="107" author="Gopal.p">
		<comment>SUBVENTIONFROM, MANUFACTURERDEALER - (ID, NAME, CODE) columns are added</comment>
		<createView replaceIfExists="true" viewName="FINANCEMAIN_DVIEW">
			<![CDATA[
				SELECT T1.FINREFERENCE,
					T1.INVESTMENTREF,
					T1.FINTYPE,
					T1.FINCCY,
					T1.FINAMOUNT,
					T1.DOWNPAYMENT,
					T1.FEECHARGEAMT,
					T1.SCHEDULEMETHOD,
					T1.RECORDSTATUS,
					T1.RECORDTYPE,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.FINBRANCH,
					T1.FINASSETVALUE,
					T2.CUSTCIF AS LOVDESCCUSTCIF,
					T2.CUSTSHRTNAME AS LOVDESCCUSTSHRTNAME,
					T2.CUSTID,
					T2.CUSTCIF,
					T3.FINCATEGORY AS LOVDESCPRODUCTCODENAME,
					T3.FINDIVISION AS LOVDESCFINDIVISION,
					T1.SAMPLINGREQUIRED,
					T1.LEGALREQUIRED,
					T1.CALCOFSTEPS,
					T1.STEPSAPPLIEDFOR,
					T1.NOOFGRCSTEPS,
					T1.SCHDVERSION,
					T1.SUBVENTIONFROM,
					T1.MANUFACTURERDEALERID,
					T5.DEALERNAME MANUFACTURERDEALERNAME,
					T5.CODE MANUFACTURERDEALERCODE
				FROM FINANCEMAIN_TEMP T1
				JOIN CUSTOMERS T2 ON T1.CUSTID = T2.CUSTID
				JOIN RMTFINANCETYPES T3 ON T3.FINTYPE = T1.FINTYPE
				JOIN INVESTMENTFINHEADER T4 ON T4.INVESTMENTREF = T1.INVESTMENTREF
				LEFT JOIN AMTVEHICLEDEALER T5 ON T1.MANUFACTURERDEALERID = T5.DEALERID
		  	]]>
		</createView>
	</changeSet>

	<changeSet id="107_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'financemain_dview');
			]]>
		</sql>
	</changeSet>

	<changeSet id="108_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'int_disbursement_request_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="108" author="Gopal.p">
		<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT FA.PAYMENTID,
					FA.FINREFERENCE,
					'D' CHANNEL,
					0 PROVIDERID,
					CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N'
						WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R'
						WHEN FA.PAYMENTTYPE = 'DD' THEN 'D'
						WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C'
						WHEN FA.PAYMENTTYPE = 'IFT' THEN 'I'
						ELSE FA.PAYMENTTYPE END DISBURSEMENT_TYPE,
					FA.AMTTOBERELEASED,
					FA.DISBDATE,
					FA.LLDATE,
					FA.PAYABLELOC,
					FA.PRINTINGLOC,
					CU.CUSTCIF,
					CU.CUSTSHRTNAME,
					'' CUSTOMER_MOBILE,
					CE.CUSTEMAIL CUSTOMER_EMAIL,
					CS.CPPROVINCENAME CUSTOMER_STATE,
					CC.PCCITYNAME CUSTOMER_CITY,
					'' CUSTOMER_ADDRESS1,
					'' CUSTOMER_ADDRESS2,
					'' CUSTOMER_ADDRESS3,
					'' CUSTOMER_ADDRESS4,
					'' CUSTOMER_ADDRESS5,
					BD.BANKNAME,
					BB.BRANCHCODE,
					BB.BRANCHDESC,
					PBD.CPPROVINCENAME BENFICIARY_BRANCH_STATE,
					PBD.PCCITYNAME BENFICIARY_BRANCH_CITY,
					BB.MICR MICR_CODE,
					BB.IFSC IFSC_CODE,
					FA.BENEFICIARYACCNO,
					CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR FA.PAYMENTTYPE = 'DD'
						THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
					(FA.PHONECOUNTRYCODE ${call.concatenate} FA.PHONEAREACODE) ${call.concatenate} FA.PHONENUMBER BENEFICIARY_MOBILE,
					BCE.CUSTEMAIL BENFICIRY_EMAIL,
					BRS.CPPROVINCENAME BENFICIARY_STATE,
					BRC.PCCITYNAME BENFICIARY_CITY,
					BRCA.CUSTADDRHNBR ${call.concatenate}','${call.concatenate} BRCA.CUSTADDRSTREET ${call.concatenate}','${call.concatenate} BRC.PCCITYNAME ${call.concatenate}','${call.concatenate} BRS.CPPROVINCENAME  BENFICIARY_ADDRESS1,
					'' BENFICIARY_ADDRESS2,
					'' BENFICIARY_ADDRESS3,
					'' BENFICIARY_ADDRESS4,
					BRCA.CUSTADDRZIP BENFICIARY_ADDRESS5,
					'' PAYMENT_DETAIL1,
					'' PAYMENT_DETAIL2,
					'' PAYMENT_DETAIL3,
					'' PAYMENT_DETAIL4,
					'' PAYMENT_DETAIL5,
					FA.PAYMENTDETAIL PAYMENT_DETAIL6,
					'' PAYMENT_DETAIL7,
					FA.STATUS,
					FA.DESCRIPTION REMARKS,
					FA.PAYMENTTYPE,
					FM.FINTYPE,
					PB.PARTNERBANKID
					PARTNERBANK_ID,
					PB.PARTNERBANKCODE PARTNERBANK_CODE,
					FA.INPUTDATE,
					PB.ALWFILEDOWNLOAD,
					PB.DOWNLOADTYPE,
					PB.FILENAME,
					FM.FINISACTIVE,
					FM.FINAMOUNT,
					SMD.ENTITYCODE,
					FA.HOLDDISBURSEMENT HOLDDISBURSEMENT,
					PB.ACCOUNTNO PARTNERBANK_ACCOUNT,
					CASE WHEN FA.PAYMENTTYPE = 'NEFT' OR FA.PAYMENTTYPE   = 'RTGS' THEN 'LBT'
						WHEN FA.PAYMENTTYPE = 'IMPS' THEN 'BT' ELSE '' END TRANSACTION_TYPE_CODE
				FROM FINADVANCEPAYMENTS FA
				JOIN (SELECT FINANCEMAIN_TEMP.CUSTID,
						FINANCEMAIN_TEMP.FINREFERENCE,
						FINANCEMAIN_TEMP.FINTYPE,
						FINANCEMAIN_TEMP.FINISACTIVE,
						FINANCEMAIN_TEMP.FINAMOUNT
					FROM FINANCEMAIN_TEMP
					UNION ALL
					SELECT T2.CUSTID,
						T2.FINREFERENCE,
						T2.FINTYPE,
						T2.FINISACTIVE,
						T2.FINAMOUNT
					FROM FINANCEMAIN T2
					WHERE NOT (EXISTS (SELECT 1 FROM FINANCEMAIN_TEMP T3 WHERE T3.FINREFERENCE = T2.FINREFERENCE))) FM
				ON FM.FINREFERENCE = FA.FINREFERENCE
				JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID	
				JOIN RMTCURRENCIES CCY ON CCY.CCYCODE	= FA.DISBCCY
				JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
				LEFT JOIN CUSTOMEREMAILS CE	ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 5
				LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID	AND CA.CUSTADDRPRIORITY = 5
				LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
				LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
				LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE =	BB.BANKCODE
				LEFT JOIN (SELECT PB_1.PARTNERBANKID,	
						PBD_1.BANKNAME,
						PBB.BRANCHDESC,
						PBBRC.PCCITYNAME,
						PBBRS.CPPROVINCENAME FROM PARTNERBANKS PB_1
					JOIN BANKBRANCHES PBB ON PBB.BRANCHCODE = PB_1.BANKBRANCHCODE AND PBB.BANKCODE = PB_1.BANKCODE
					JOIN BMTBANKDETAIL PBD_1 ON PBD_1.BANKCODE = PBB.BANKCODE
					LEFT JOIN RMTPROVINCEVSCITY PBBRC ON PBBRC.PCCITY = PBB.CITY
					LEFT JOIN RMTCOUNTRYVSPROVINCE PBBRS ON PBBRS.CPPROVINCE = PBBRC.PCPROVINCE
					) PBD ON PBD.PARTNERBANKID = PB.PARTNERBANKID
				LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO AND BR.CUSTID = FM.CUSTID
				LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 5
				LEFT JOIN CUSTOMERADDRESSES	BRCA ON	BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				LEFT JOIN RMTPROVINCEVSCITY BRC	ON BRC.PCCITY =	BRCA.CUSTADDRCITY
				LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				LEFT JOIN RMTFINANCETYPES RFT ON FM.FINTYPE = RFT.FINTYPE
				LEFT JOIN SMTDIVISIONDETAIL SMD	ON RFT.FINDIVISION = SMD.DIVISIONCODE 
					WHERE FA.STATUS = 'APPROVED' AND NOT (FA.PAYMENTID IN ( 
						SELECT DISBURSEMENT_REQUESTS.DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS))
						AND NOT	(FA.PAYMENTID IN ( SELECT FINADVANCEPAYMENTS_TEMP.PAYMENTID FROM FINADVANCEPAYMENTS_TEMP))
				UNION ALL
				SELECT
					PI.PAYMENTINSTRUCTIONID PAYMENTID,
					PH.FINREFERENCE,
					PH.PAYMENTTYPE CHANNEL,
					0 PROVIDERID,
					CASE
					WHEN PI.PAYMENTTYPE =
					'NEFT'
					THEN 'N'
					WHEN PI.PAYMENTTYPE = 'RTGS'
					THEN 'R'
					WHEN PI.PAYMENTTYPE = 'DD'
					THEN 'D'
					WHEN PI.PAYMENTTYPE = 'CHEQUE'
					THEN 'C'
					WHEN PI.PAYMENTTYPE = 'IFT'
					THEN 'I'
					ELSE PI.PAYMENTTYPE
					END DISBURSEMENT_TYPE,
					PI.PAYMENTAMOUNT  AMTTOBERELEASED,
					PI.POSTDATE
					DISBDATE,
					PI.POSTDATE LLDATE,
					PI.PAYABLELOC,
					PI.PRINTINGLOC,
					CU.CUSTCIF,
					CU.CUSTSHRTNAME,
					'' CUSTOMER_MOBILE,
					CE.CUSTEMAIL
					CUSTOMER_EMAIL,
					CS.CPPROVINCENAME CUSTOMER_STATE,
					CC.PCCITYNAME CUSTOMER_CITY,
					'' CUSTOMER_ADDRESS1,
					'' CUSTOMER_ADDRESS2,
					'' CUSTOMER_ADDRESS3,
					'' CUSTOMER_ADDRESS4,
					'' CUSTOMER_ADDRESS5,
					BD.BANKNAME,
					BB.BRANCHCODE,
					BB.BRANCHDESC,
					BBRS.CPPROVINCENAME BENFICIARY_BRANCH_STATE,
					BBRC.PCCITYNAME BENFICIARY_BRANCH_CITY,
					BB.MICR MICR_CODE,
					BB.IFSC IFSC_CODE,
					PI.ACCOUNTNO BENEFICIARYACCNO,
					CASE
					WHEN PI.PAYMENTTYPE = 'CHEQUE'
					OR PI.PAYMENTTYPE = 'DD'
					THEN
					PI.FAVOURNAME
					ELSE PI.ACCTHOLDERNAME
					END BENEFICIARYNAME,
					PI.PHONECOUNTRYCODE ${call.concatenate} PI.PHONENUMBER BENEFICIARY_MOBILE,
					BCE.CUSTEMAIL BENFICIRY_EMAIL,
					BRS.CPPROVINCENAME BENFICIARY_STATE,
					BRC.PCCITYNAME BENFICIARY_CITY,
					'' BENFICIARY_ADDRESS1,
					'' BENFICIARY_ADDRESS2,
					'' BENFICIARY_ADDRESS3,
					'' BENFICIARY_ADDRESS4,
					BRCA.CUSTADDRZIP BENFICIARY_ADDRESS5,
					'' PAYMENT_DETAIL1,
					'' PAYMENT_DETAIL2,
					'' PAYMENT_DETAIL3,
					'' PAYMENT_DETAIL4,
					'' PAYMENT_DETAIL5,
					'' PAYMENT_DETAIL6,
					'' PAYMENT_DETAIL7,
					PI.STATUS,
					PI.REMARKS,
					PI.PAYMENTTYPE,
					FM.FINTYPE,
					PB.PARTNERBANKID PARTNERBANK_ID,
					PB.PARTNERBANKCODE
					PARTNERBANK_CODE,
					PI.POSTDATE INPUTDATE,
					PB.ALWFILEDOWNLOAD,
					PB.DOWNLOADTYPE,
					PB.FILENAME,
					FM.FINISACTIVE,
					FM.FINAMOUNT,
					SMD.ENTITYCODE,
					0 HOLDDISBURSEMENT,
					PB.ACCOUNTNO PARTNERBANK_ACCOUNTNO,
					CASE WHEN PI.PAYMENTTYPE = 'NEFT' OR PI.PAYMENTTYPE   = 'RTGS' THEN 'LBT'
						WHEN PI.PAYMENTTYPE = 'IMPS' THEN 'BT' 
						ELSE '' END TRANSACTION_TYPE_CODE
				FROM PAYMENTINSTRUCTIONS PI
				JOIN PAYMENTHEADER PH ON PH.PAYMENTID = PI.PAYMENTID
				JOIN (SELECT
					FINANCEMAIN.CUSTID,
					FINANCEMAIN.FINREFERENCE,
					FINANCEMAIN.FINTYPE,
					FINANCEMAIN.FINISACTIVE,
					FINANCEMAIN.FINAMOUNT
					FROM FINANCEMAIN
					UNION ALL
					SELECT T2.CUSTID,
					T2.FINREFERENCE,
						T2.FINTYPE,
						T2.FINISACTIVE,
						T2.FINAMOUNT
					FROM FINANCEMAIN_TEMP T2
					WHERE NOT (EXISTS (SELECT 1 FROM FINANCEMAIN_TEMP T3 WHERE T3.FINREFERENCE = T2.FINREFERENCE))) FM ON FM.FINREFERENCE = PH.FINREFERENCE
				JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = PI.PAYMENTCCY
				JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = PI.PARTNERBANKID
				LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 5
				LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
				LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5
				LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = PI.BANKBRANCHID
				LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
				LEFT JOIN RMTPROVINCEVSCITY	BBRC ON BBRC.PCCITY = BB.CITY
				LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS	ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
				LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = PI.BANKBRANCHID AND BR.ACCNUMBER = PI.ACCOUNTNO	AND BR.CUSTID = FM.CUSTID
				LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				LEFT JOIN CUSTOMEREMAILS BCE ON	BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 5
				LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID	AND	BRCA.CUSTADDRPRIORITY = 5
				LEFT JOIN RMTPROVINCEVSCITY BRC	ON BRC.PCCITY = BRCA.CUSTADDRCITY
				LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				LEFT JOIN RMTFINANCETYPES RFT ON FM.FINTYPE = RFT.FINTYPE
				LEFT JOIN SMTDIVISIONDETAIL SMD	ON RFT.FINDIVISION = SMD.DIVISIONCODE
				WHERE PI.STATUS = 'APPROVED' AND NOT (PI.PAYMENTINSTRUCTIONID IN
					(SELECT DISBURSEMENT_REQUESTS.DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS))
				UNION ALL
				SELECT PI.ID PAYMENTID,
					VR.PRIMARYLINKREF FINREFERENCE,
					'I' CHANNEL,
					PI.PROVIDERID,
					CASE WHEN PI.PAYMENTTYPE = 'NEFT' THEN 'N'
						WHEN PI.PAYMENTTYPE = 'RTGS' THEN 'R'
						WHEN PI.PAYMENTTYPE = 'DD' THEN 'D'
						WHEN PI.PAYMENTTYPE = 'CHEQUE' THEN 'C'
						WHEN PI.PAYMENTTYPE = 'IFT' THEN 'I'
						ELSE PI.PAYMENTTYPE END DISBURSEMENT_TYPE,
					PI.PAYMENTAMOUNT AMTTOBERELEASED,
					PI.PAYMENTDATE DISBDATE,
					PI.PAYMENTDATE LLDATE,
					'' PAYABLELOC,
					'' PRINTINGLOC,
					C.CUSTCIF,
					'' CUSTSHRTNAME,
					'' CUSTOMER_MOBILE,
					'' CUSTOMER_EMAIL,
					'' CUSTOMER_STATE,
					'' CUSTOMER_CITY,
					'' CUSTOMER_ADDRESS1,
					'' CUSTOMER_ADDRESS2,
					'' CUSTOMER_ADDRESS3,
					'' CUSTOMER_ADDRESS4,
					'' CUSTOMER_ADDRESS5,
					BD.BANKNAME,
					BB.BRANCHCODE,
					BB.BRANCHDESC,
					BBRS.CPPROVINCENAME BENFICIARY_BRANCH_STATE,
					BBRC.PCCITYNAME BENFICIARY_BRANCH_CITY,
					BB.MICR MICR_CODE,
					BB.IFSC IFSC_CODE,
					VPA.ACCOUNTNUMBER BENEFICIARYACCNO,
					AVD.DEALERNAME BENEFICIARYNAME,
					AVD.DEALERTELEPHONE
					BENEFICIARY_MOBILE,
					AVD.EMAIL BENFICIRY_EMAIL,
					BRS.CPPROVINCENAME BENFICIARY_STATE,
					BRC.PCCITYNAME BENFICIARY_CITY,
					AVD.DEALERADDRESS1 BENFICIARY_ADDRESS1,
					AVD.DEALERADDRESS2 BENFICIARY_ADDRESS2,
					AVD.DEALERADDRESS3 BENFICIARY_ADDRESS3,
					'' BENFICIARY_ADDRESS4,
					AVD.ZIPCODE BENFICIARY_ADDRESS5,
					'' PAYMENT_DETAIL1,
					'' PAYMENT_DETAIL2,
					'' PAYMENT_DETAIL3,
					'' PAYMENT_DETAIL4,
					'' PAYMENT_DETAIL5,
					'' PAYMENT_DETAIL6,
					'' PAYMENT_DETAIL7,
					PI.STATUS,
					PI.REMARKS,
					PI.PAYMENTTYPE,
					'' FINTYPE,
					PB.PARTNERBANKID PARTNERBANK_ID,
					PB.PARTNERBANKCODE PARTNERBANK_CODE,
					PI.PAYMENTDATE INPUTDATE,
					PB.ALWFILEDOWNLOAD,
					PB.DOWNLOADTYPE,
					PB.FILENAME,
					1 FINISACTIVE,
					0 FINAMOUNT,
					PI.ENTITYCODE,
					0 HOLDDISBURSEMENT,
					PB.ACCOUNTNO PARTNERBANK_ACCOUNT,
					CASE WHEN PI.PAYMENTTYPE = 'NEFT' OR PI.PAYMENTTYPE   = 'RTGS' THEN 'LBT'
						WHEN PI.PAYMENTTYPE = 'IMPS' THEN 'BT' 
						ELSE '' END TRANSACTION_TYPE_CODE
				FROM INSURANCEPAYMENTINSTRUCTIONS PI
				JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = PI.PAYMENTCCY
				JOIN PARTNERBANKS PB ON	PB.PARTNERBANKID = PI.PARTNERBANKID
				JOIN VASPROVIDERACCDETAIL VPA ON VPA.PROVIDERID = PI.PROVIDERID
				JOIN AMTVEHICLEDEALER AVD ON AVD.DEALERID = VPA.PROVIDERID
				JOIN VASRECORDING VR ON VR.PAYMENTINSID = PI.ID
				LEFT JOIN FINANCEMAIN FM ON FM.FINREFERENCE = VR.PRIMARYLINKREF
				LEFT JOIN CUSTOMERS C ON FM.CUSTID = C.CUSTID
				LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = VPA.BANKBRANCHID
				LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
				LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY	= BB.CITY
				LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS	ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
				LEFT JOIN RMTPROVINCEVSCITY BRC	ON BRC.PCCITY =	AVD.DEALERCITY
				LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				WHERE PI.STATUS = 'APPROVED' AND PI.PAYMENTAMOUNT > 0 AND NOT (PI.ID IN 
					(SELECT DISBURSEMENT_REQUESTS.DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS))
			 ]]>
		</createView>
	</changeSet>

	<changeSet id="108_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'int_disbursement_request_view');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="109" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				CREATE  INDEX IDX_AMTVD_IDTYPE ON AMTVehicleDealer (DealerType, DealerId);
			]]>
		</sql>
	</changeSet>
	
		
	<changeSet id="109" author="Gopal.p" dbms="mssql">
		<sql>
			<![CDATA[
				create  nonclustered  index idx_amtvd_idtype on AMTVehicleDealer (DealerType, DealerId);		
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="109" author="Gopal.p" dbms="oracle">
		<sql>
			<![CDATA[
				create index idx_amtvd_idtype on AMTVehicleDealer (DealerType, DealerId);
			]]>
		</sql>
	</changeSet>

	<!-- ST#293 :: Presentment Response Enhancements changes start -->
	
	<changeSet id="ST#293.1.1" author="murthy.y">
		<createTable tableName="PRESENTMENT_RESP_HEADER">
			<column name="Id" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="DE_Execution_ID" type="bigint" />
			<column name="Batch_Name" type="varchar(100)" />
			<column name="Entity_Code" type="varchar(8)" />
			<column name="Event" type="varchar(8)" />
			<column name="Total_Records" type="int" />
			<column name="Sucess_Records" type="int" />
			<column name="Failure_Records" type="int" />
			<column name="Start_Time" type="datetime" />
			<column name="End_Time" type="datetime" />
			<column name="Status" type="char(1)" />
			<column name="Remarks" type="varchar(4000)" />
		</createTable>
	</changeSet>

	<changeSet id="ST#293.1.2" author="murthy.y">
		<addPrimaryKey tableName="PRESENTMENT_RESP_HEADER" constraintName="PK_PRESENTMENT_RESP_HDR_ID"
			columnNames="Id" />
	</changeSet>

	<changeSet id="ST#293.1.3" author="murthy.y">
		<addUniqueConstraint tableName="PRESENTMENT_RESP_HEADER" constraintName="UK_PRSNTMNT_RSP_HDR_BN_EC_ENT"
			columnNames="Batch_Name, Entity_Code, Event" />
	</changeSet>

	<changeSet id="ST#293.1.4" author="murthy.y">
		<sql>
			<![CDATA[
				INSERT INTO PRESENTMENT_RESP_HEADER (Batch_Name, Entity_Code, Event, Total_Records, Sucess_Records, Failure_Records, Start_Time, End_Time, Status, Remarks)
				Select FileName, (select SysParmValue from SMTParameters where sysParmCode = 'ENTITYCODE'), 'IMPORT', TotalRecords, SucessRecords, FailedRecords, StartTime, EndTime, NULL, Remarks from BatchFileHeader
				where ProcessName = 'PRESENTMENT_IMPORT' and (FileName <> '' or FileName <> null) and TotalRecords > 0;
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#293.1.5" author="murthy.y">
		<sql>
			<![CDATA[
				update PRESENTMENT_RESP_HEADER set Total_Records = 0 where Total_Records is null;
				update PRESENTMENT_RESP_HEADER set Sucess_Records = 0 where Sucess_Records is null;
				update PRESENTMENT_RESP_HEADER set Failure_Records = 0 where Failure_Records is null;
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#293.1.6" author="murthy.y" dbms="postgresql, oracle">
		<addDefaultValue columnName="Total_Records" tableName="PRESENTMENT_RESP_HEADER" defaultValue="0" />
		<addDefaultValue columnName="Sucess_Records" tableName="PRESENTMENT_RESP_HEADER" defaultValue="0" />
		<addDefaultValue columnName="Failure_Records" tableName="PRESENTMENT_RESP_HEADER" defaultValue="0" />
	</changeSet>

	<changeSet id="ST#293.1.6" author="murthy.y" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE PRESENTMENT_RESP_HEADER add constraint DF_PRES_RESP_HEADER_TR default 0 for Total_Records;
				ALTER TABLE PRESENTMENT_RESP_HEADER add constraint DF_PRES_RESP_HEADER_SR default 0 for Sucess_Records;
				ALTER TABLE PRESENTMENT_RESP_HEADER add constraint DF_PRES_RESP_HEADER_FR default 0 for Failure_Records;
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#293.2.1" author="murthy.y">
		<createTable tableName="PRESENTMENT_RESP_DTLS">
			<column name="Id" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="Header_ID" type="bigint" />
			<column name="Presentment_Reference" type="varchar(50)" />
			<column name="FinReference" type="varchar(20)" />
			<column name="Host_Reference" type="varchar(20)" />
			<column name="Instalment_No" type="int" />
			<column name="Amount_Cleared" type="varchar(14)" />
			<column name="Clearing_Date" type="datetime" />
			<column name="Clearing_status" type="char(1)" />
			<column name="Bounce_Code" type="varchar(8)" />
			<column name="Bounce_Remarks" type="varchar(1000)" />
			<column name="Reason_Code" type="varchar(100)" />
			<column name="Bank_Code" type="varchar(8)" />
			<column name="Bank_Name" type="varchar(50)" />
			<column name="Branch_Code" type="varchar(8)" />
			<column name="Branch_Name" type="varchar(50)" />
			<column name="Partner_Bank_Code" type="varchar(50)" />
			<column name="Partner_Bank_Name" type="varchar(50)" />
			<column name="Bank_Address" type="varchar(50)" />
			<column name="Account_Number" type="varchar(50)" />
			<column name="Ifsc_Code" type="varchar(20)" />
			<column name="Umrn_No" type="varchar(20)" />
			<column name="Micr_Code" type="varchar(20)" />
			<column name="Cheque_Serial_No" type="varchar(20)" />
			<column name="Corporate_User_No" type="varchar(50)" />
			<column name="Corporate_User_Name" type="varchar(100)" />
			<column name="Dest_Acc_Holder" type="varchar(50)" />
			<column name="Debit_Credit_Flag" type="char(1)" />
			<column name="Process_Flag" type="int" />
			<column name="Thread_ID" type="int" />
		</createTable>
	</changeSet>

	<changeSet id="ST#293.2.2" author="murthy.y">
		<addPrimaryKey tableName="PRESENTMENT_RESP_DTLS" constraintName="PK_PRESENTMENT_RESP_DTLS_ID"
			columnNames="Id" />
	</changeSet>

	<changeSet id="ST#293.2.3" author="murthy.y">
		<addForeignKeyConstraint constraintName="FK_PRES_RESP_DTLS_HEADERID" baseTableName="PRESENTMENT_RESP_DTLS"
			baseColumnNames="Header_ID" referencedColumnNames="Id" referencedTableName="PRESENTMENT_RESP_HEADER" />
	</changeSet>

	<changeSet id="ST#293.2.4" author="murthy.y">
		<createIndex indexName="IDX_PRES_RESP_DTL_PR" tableName="PRESENTMENT_RESP_DTLS">
			<column name="PRESENTMENT_REFERENCE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.2.5" author="murthy.y">
		<createIndex indexName="IDX_PRES_RESP_DTL_HEADER_ID" tableName="PRESENTMENT_RESP_DTLS">
			<column name="Header_ID" />
		</createIndex>
	</changeSet>
	<changeSet id="ST#293.2.6" author="murthy.y">
		<createIndex indexName="IDX_PRES_RESP_DTL_Thread_ID" tableName="PRESENTMENT_RESP_DTLS">
			<column name="Thread_ID" />
		</createIndex>
	</changeSet>
	<changeSet id="ST#293.2.7" author="murthy.y">
		<createIndex indexName="IDX_PRES_RESP_DTL_HID_TID" tableName="PRESENTMENT_RESP_DTLS">
			<column name="Header_ID" />
			<column name="Thread_ID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.2.8" author="murthy.y" dbms="postgresql, oracle">
		<addDefaultValue columnName="Instalment_No" tableName="PRESENTMENT_RESP_DTLS" defaultValue="0" />
		<addDefaultValue columnName="Process_Flag" tableName="PRESENTMENT_RESP_DTLS" defaultValue="0" />
		<addDefaultValue columnName="Thread_ID" tableName="PRESENTMENT_RESP_DTLS" defaultValue="0" />
	</changeSet>

	<changeSet id="ST#293.2.8" author="murthy.y" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE PRESENTMENT_RESP_DTLS add constraint DF_PRESENTMENT_RESP_DTLS_INSTNO default 0 for Instalment_No;
				ALTER TABLE PRESENTMENT_RESP_DTLS add constraint DF_PRESENTMENT_RESP_DTLS_PROCFG default 0 for Process_Flag;
				ALTER TABLE PRESENTMENT_RESP_DTLS add constraint DF_PRESENTMENT_RESP_DTLS_THREADID default 0 for Thread_ID;
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#293.3.1" author="murthy.y">
		<createTable tableName="PRESENTMENT_RESP_DTLS_ERRORS">
			<column name="Id" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="Header_ID" type="bigint" />
			<column name="Detail_ID" type="bigint" />
			<column name="Error_Code" type="varchar(10)" />
			<column name="Error_Description" type="varchar(2000)" />
		</createTable>
	</changeSet>

	<changeSet id="ST#293.3.2" author="murthy.y">
		<addPrimaryKey tableName="PRESENTMENT_RESP_DTLS_ERRORS" constraintName="PK_PRSNTMNT_RESP_DTLS_ERS_ID"
			columnNames="Id" />
	</changeSet>

	<changeSet id="ST#293.3.3" author="murthy.y">
		<createIndex indexName="IDX_PRES_RESP_DTLS_E_LOG_DID" tableName="PRESENTMENT_RESP_DTLS_ERRORS">
			<column name="Detail_Id" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.4.1" author="murthy.y">
		<createTable tableName="PRESENTMENT_RESP_DTLS_LOG">
			<column name="Id" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="Header_ID" type="bigint" />
			<column name="Presentment_Reference" type="varchar(50)" />
			<column name="FinReference" type="varchar(20)" />
			<column name="Host_Reference" type="varchar(20)" />
			<column name="Instalment_No" type="int" />
			<column name="Amount_Cleared" type="varchar(14)" />
			<column name="Clearing_Date" type="datetime" />
			<column name="Clearing_status" type="char(1)" />
			<column name="Bounce_Code" type="varchar(8)" />
			<column name="Bounce_Remarks" type="varchar(1000)" />
			<column name="Reason_Code" type="varchar(100)" />
			<column name="Bank_Code" type="varchar(8)" />
			<column name="Bank_Name" type="varchar(50)" />
			<column name="Branch_Code" type="varchar(8)" />
			<column name="Branch_Name" type="varchar(50)" />
			<column name="Partner_Bank_Code" type="varchar(50)" />
			<column name="Partner_Bank_Name" type="varchar(50)" />
			<column name="Bank_Address" type="varchar(50)" />
			<column name="Account_Number" type="varchar(50)" />
			<column name="Ifsc_Code" type="varchar(20)" />
			<column name="Umrn_No" type="varchar(20)" />
			<column name="Micr_Code" type="varchar(20)" />
			<column name="Cheque_Serial_No" type="varchar(20)" />
			<column name="Corporate_User_No" type="varchar(50)" />
			<column name="Corporate_User_Name" type="varchar(100)" />
			<column name="Dest_Acc_Holder" type="varchar(50)" />
			<column name="Debit_Credit_Flag" type="char(1)" />
			<column name="Process_Flag" type="int" />
			<column name="Thread_ID" type="int" />
		</createTable>
	</changeSet>

	<changeSet id="ST#293.4.2" author="murthy.y">
		<addPrimaryKey tableName="PRESENTMENT_RESP_DTLS_LOG" constraintName="PK_PRSNTMNT_RESP_DTLS_LOG_ID"
			columnNames="Id" />
	</changeSet>

	<changeSet id="ST#293.4.3" author="murthy.y">
		<addForeignKeyConstraint constraintName="FK_PRES_RESP_DTLS_L_HEADER_ID" baseTableName="PRESENTMENT_RESP_DTLS_LOG"
			baseColumnNames="Header_ID" referencedColumnNames="Id" referencedTableName="PRESENTMENT_RESP_HEADER" />
	</changeSet>

	<changeSet id="ST#293.4.4" author="murthy.y">
		<createIndex indexName="IDX_PRES_RESP_DTL_L_PR" tableName="PRESENTMENT_RESP_DTLS_LOG">
			<column name="PRESENTMENT_REFERENCE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.4.5" author="murthy.y">
		<createIndex indexName="IDX_PRES_RESP_DTL_L_HEADER_ID" tableName="PRESENTMENT_RESP_DTLS_LOG">
			<column name="Header_ID" />
		</createIndex>
	</changeSet>
	<changeSet id="ST#293.4.6" author="murthy.y">
		<createIndex indexName="IDX_PRES_RESP_DTL_L_Thread_ID" tableName="PRESENTMENT_RESP_DTLS_LOG">
			<column name="Thread_ID" />
		</createIndex>
	</changeSet>
	<changeSet id="ST#293.4.7" author="murthy.y">
		<createIndex indexName="IDX_PRES_RESP_DTL_L_HID_TID" tableName="PRESENTMENT_RESP_DTLS_LOG">
			<column name="Header_ID" />
			<column name="Thread_ID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.4.8" author="murthy.y" dbms="postgresql, oracle">
		<addDefaultValue columnName="Instalment_No" tableName="PRESENTMENT_RESP_DTLS_LOG" defaultValue="0" />
		<addDefaultValue columnName="Process_Flag" tableName="PRESENTMENT_RESP_DTLS_LOG" defaultValue="0" />
		<addDefaultValue columnName="Thread_ID" tableName="PRESENTMENT_RESP_DTLS_LOG" defaultValue="0" />
	</changeSet>

	<changeSet id="ST#293.4.8" author="murthy.y" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE PRESENTMENT_RESP_DTLS_LOG add constraint DF_PRESENTMENT_RESP_DTLS_L_INSTNO default 0 for Instalment_No;
				ALTER TABLE PRESENTMENT_RESP_DTLS_LOG add constraint DF_PRESENTMENT_RESP_DTLS_L_PROCFG default 0 for Process_Flag;
				ALTER TABLE PRESENTMENT_RESP_DTLS_LOG add constraint DF_PRESENTMENT_RESP_DTLS_L_THREADID default 0 for Thread_ID;
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#293.5.1" author="murthy.y">
		<sql>
			<![CDATA[
				DELETE FROM SMTPARAMETERS WHERE SYSPARMCODE = 'PRESENTMENT_RESP_PROCESS_THREAD_COUNT';
				INSERT INTO SMTPARAMETERS (SYSPARMCODE, SYSPARMDESC, SYSPARMTYPE, SYSPARMMAINT, SYSPARMVALUE, SYSPARMLENGTH, SYSPARMDEC, SYSPARMLIST, SYSPARMVALDMOD, SYSPARMDESCRIPTION, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ('PRESENTMENT_RESP_PROCESS_THREAD_COUNT', 'Thread count for presentment response process.', 'int ', 1, 1, 10, 0, null, null, 'Thread count for presentment response process.', 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#293.6.1" author="murthy.y">
		<createIndex indexName="IDX_PRESENTMENTDETAILS_PID" tableName="PRESENTMENTDETAILS">
			<column name="PRESENTMENTID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.2" author="murthy.y">
		<createIndex indexName="IDX_PRESENTMENTDETAILS_FR" tableName="PRESENTMENTDETAILS">
			<column name="FINREFERENCE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.3" author="murthy.y">
		<createIndex indexName="IDX_FINANCEMAIN_FR_ISACTIVE" tableName="FINANCEMAIN">
			<column name="FINREFERENCE" />
			<column name="FINISACTIVE" />
		</createIndex>
	</changeSet>

	<!-- <changeSet id="ST#293.6.4" author="murthy.y">
		<createIndex indexName="IDX_FINODDETAILS_FR" tableName="FINODDETAILS">
			<column name="FINREFERENCE" />
		</createIndex>
	</changeSet> -->

	<changeSet id="ST#293.6.5" author="murthy.y">
		<createIndex indexName="IDX_FINPFTDETAILS_FR_ISACTIVE" tableName="FINPFTDETAILS">
			<column name="FINREFERENCE" />
			<column name="FINISACTIVE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.6" author="murthy.y">
		<createIndex indexName="IDX_FINDISBURSEMENTDETAILS_FR" tableName="FINDISBURSEMENTDETAILS">
			<column name="FINREFERENCE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.7" author="murthy.y">
		<createIndex indexName="IDX_FINREPAYINSTRUCTION_FR" tableName="FINREPAYINSTRUCTION">
			<column name="FINREFERENCE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.8" author="murthy.y">
		<createIndex indexName="IDX_FINSUSPHEAD_FR_FINISINSUSP" tableName="FINSUSPHEAD">
			<column name="FINREFERENCE" />
			<column name="FINISINSUSP" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.9" author="murthy.y">
		<createIndex indexName="IDX_IRRSCHEDULEDETAIL_FR" tableName="IRRSCHEDULEDETAIL">
			<column name="FINREFERENCE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.10" author="murthy.y">
		<createIndex indexName="IDX_FINEXCESSAMT_EID_RESAMT" tableName="FINEXCESSAMOUNT">
			<column name="EXCESSID" />
			<column name="RESERVEDAMT" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.11" author="murthy.y">
		<createIndex indexName="IDX_FINEXCSSAMTRSR_RSID_PTYP" tableName="FINEXCESSAMOUNTRESERVE">
			<column name="RECEIPTSEQID" />
			<column name="PAYMENTTYPE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.12" author="murthy.y">
		<createIndex indexName="IDX_FXCSAMTRSR_RSID_PTYP_EXID" tableName="FINEXCESSAMOUNTRESERVE">
			<column name="RECEIPTSEQID" />
			<column name="PAYMENTTYPE" />
			<column name="EXCESSID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.13" author="murthy.y">
		<createIndex indexName="IDX_MANUALADVISE_ADVID_BALAMT" tableName="MANUALADVISE">
			<column name="ADVISEID" />
			<column name="BALANCEAMT" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.14" author="murthy.y">
		<createIndex indexName="IDX_MNULADVSRSRV_RECSEQID" tableName="MANUALADVISERESERVE">
			<column name="RECEIPTSEQID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.15" author="murthy.y">
		<createIndex indexName="IDX_FNEXCSSAMN_FINREF_AMTTYPE" tableName="FINEXCESSAMOUNT">
			<column name="FINREFERENCE" />
			<column name="AMOUNTTYPE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.16" author="murthy.y">
		<createIndex indexName="IDX_FINFESCHDULDTL_FEEID" tableName="FINFEESCHEDULEDETAIL">
			<column name="FEEID" />
		</createIndex>
	</changeSet>


	<!-- <changeSet id="ST#293.6.17" author="murthy.y"> <createIndex indexName="IDX_FINSCHFRQINSRNC_REF_INSDT" tableName="FINSCHFRQINSURANCE"> 
		<column name="REFERENCE" /> <column name="INSSCHDATE" /> </createIndex> </changeSet> -->

	<changeSet id="ST#293.6.18" author="murthy.y">
		<createIndex indexName="IDX_LIMITHEADER_CUSTID" tableName="LIMITHEADER">
			<column name="CUSTOMERID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.19" author="murthy.y">
		<createIndex indexName="IDX_LIMITHEADER_CUSTGRP" tableName="LIMITHEADER">
			<column name="CUSTOMERGROUP" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.20" author="murthy.y">
		<createIndex indexName="IDX_LMTTRNDET_RC_RN_TT_HD_SQ" tableName="LIMITTRANSACTIONDETAILS">
			<column name="HEADERID" />
			<column name="REFERENCECODE" />
			<column name="REFERENCENUMBER" />
			<column name="TRANSACTIONTYPE" />
			<column name="SCHSEQ" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.21" author="murthy.y">
		<createIndex indexName="IDX_DATA_ENGINE_LOG_STID_KID" tableName="DATA_ENGINE_LOG">
			<column name="STATUSID" />
			<column name="KEYID" />
		</createIndex>
	</changeSet>

<!-- 	<changeSet id="ST#293.6.22" author="murthy.y">
		<createIndex indexName="IDX_FINRECEIPTDETAIL_RID" tableName="FINRECEIPTDETAIL">
			<column name="RECEIPTID" />
		</createIndex>
	</changeSet> -->

	<!-- <changeSet id="ST#293.6.23" author="murthy.y">
		<createIndex indexName="IDX_FINREPAYDETAILS_FREF" tableName="FINREPAYDETAILS">
			<column name="FINREFERENCE" />
		</createIndex>
	</changeSet> -->

	<changeSet id="ST#293.6.24" author="murthy.y">
		<createIndex indexName="IDX_FINREPAYDETAILS_LID" tableName="FINREPAYDETAILS">
			<column name="LINKEDTRANID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.25" author="murthy.y">
		<createIndex indexName="IDX_FINREPAYDETAILS_FREF_LID" tableName="FINREPAYDETAILS">
			<column name="LINKEDTRANID" />
			<column name="FINREFERENCE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.26" author="murthy.y">
		<createIndex indexName="IDX_FINREPAYDETAILS_FREF_SCDT" tableName="FINREPAYDETAILS">
			<column name="FINREFERENCE" />
			<column name="FINSCHDDATE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.27" author="murthy.y">
		<createIndex indexName="IDX_FINODDETAILS_FR_FODSCDT" tableName="FINODDETAILS">
			<column name="FINREFERENCE" />
			<column name="FINODSCHDDATE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.28" author="murthy.y">
		<createIndex indexName="IDX_POSTINGS_PSTS_PREF" tableName="POSTINGS">
			<column name="POSTSTATUS" />
			<column name="POSTREF" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.29" author="murthy.y">
		<createIndex indexName="IDX_FINSTGACCTINGLOG_RCNO" tableName="FINSTAGEACCOUNTINGLOG">
			<column name="RECEIPTNO" />
		</createIndex>
	</changeSet>


	<!-- <changeSet id="ST#293.6.30" author="murthy.y">
		<createIndex indexName="IDX_POSTINGS_LINTRANID" tableName="POSTINGS">
			<column name="LINKEDTRANID" />
		</createIndex>
	</changeSet> -->

	<changeSet id="ST#293.6.31" author="murthy.y">
		<createIndex indexName="IDX_MANULADVMTS_RID_RSID_ADID" tableName="MANUALADVISEMOVEMENTS">
			<column name="RECEIPTID" />
			<column name="RECEIPTSEQID" />
			<column name="ADVISEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.32" author="murthy.y">
		<createIndex indexName="IDX_FLEDT_LK_FR_RC" tableName="FINLOGENTRYDETAIL">
			<column name="LOGKEY" />
			<column name="FINREFERENCE" />
			<column name="REVERSALCOMPLETED" />
		</createIndex>
	</changeSet>

	<!-- <changeSet id="ST#293.6.33" author="murthy.y">
		<createIndex indexName="IDX_FINRPYDTL_LID_FR" tableName="FINREPAYDETAILS">
			<column name="LINKEDTRANID" />
			<column name="FINREFERENCE" />
		</createIndex>
	</changeSet> -->

	<changeSet id="ST#293.6.34" author="murthy.y">
		<createIndex indexName="IDX_FINLGENTRYDTL_LK_RR" tableName="FINLOGENTRYDETAIL">
			<column name="LOGKEY" />
			<column name="REVERSALCOMPLETED" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.35" author="murthy.y">
		<createIndex indexName="IDX_MANULADVMTS_RID_RSID" tableName="MANUALADVISEMOVEMENTS">
			<column name="RECEIPTID" />
			<column name="RECEIPTSEQID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.36" author="murthy.y">
		<createIndex indexName="IDX_FINODAMZTAXDTL_FR_VD_TR" tableName="FINODAMZTAXDETAIL">
			<column name="FINREFERENCE" />
			<column name="VALUEDATE" />
			<column name="TAXFOR" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.37" author="murthy.y">
		<createIndex indexName="IDX_DEPOSITMOVEMENTS_RID" tableName="DEPOSITMOVEMENTS">
			<column name="RECEIPTID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.38" author="murthy.y">
		<createIndex indexName="IDX_DEPOSITCHEQUES_RID" tableName="DEPOSITCHEQUES">
			<column name="RECEIPTID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.39" author="murthy.y">
		<createIndex indexName="IDX_DEPOSITCHEQUES_MID_RID" tableName="DEPOSITCHEQUES">
			<column name="MOVEMENTID" />
			<column name="RECEIPTID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.40" author="murthy.y">
		<createIndex indexName="IDX_PD_FR_SCDT_ER_STS" tableName="PRESENTMENTDETAILS">
			<column name="FINREFERENCE" />
			<column name="SCHDATE" />
			<column name="STATUS" />
			<column name="EXCLUDEREASON" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.41" author="murthy.y">
		<createIndex indexName="IDX_PRSNTMNT_RSP_DTL_HI_PR" tableName="PRESENTMENT_RESP_DTLS">
			<column name="HEADER_ID" />
			<column name="PRESENTMENT_REFERENCE" />
		</createIndex>
	</changeSet>

	<!-- <changeSet id="ST#293.6.42" author="murthy.y">
		<createIndex indexName="IDX_FINMAIN_CUSTID" tableName="FINANCEMAIN">
			<column name="CUSTID" />
		</createIndex>
	</changeSet> -->

	<changeSet id="ST#293.6.43" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_CANRSN" tableName="FINRECEIPTHEADER">
			<column name="CANCELREASON" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.44" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_COLAGNTID" tableName="FINRECEIPTHEADER">
			<column name="COLLECTIONAGENTID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.45" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_FINDVSN" tableName="FINRECEIPTHEADER">
			<column name="FINDIVISION" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.46" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_PSTBRNCH" tableName="FINRECEIPTHEADER">
			<column name="POSTBRANCH" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.47" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_CSRBRNCH" tableName="FINRECEIPTHEADER">
			<column name="CASHIERBRANCH" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.48" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_CLSRTYPID" tableName="FINRECEIPTHEADER">
			<column name="CLOSURETYPEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.49" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_T_CANRSN" tableName="FINRECEIPTHEADER_TEMP">
			<column name="CANCELREASON" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.50" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_T_COLAGNTID" tableName="FINRECEIPTHEADER_TEMP">
			<column name="COLLECTIONAGENTID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.51" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_T_FINDVSN" tableName="FINRECEIPTHEADER_TEMP">
			<column name="FINDIVISION" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.52" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_T_PSTBRNCH" tableName="FINRECEIPTHEADER_TEMP">
			<column name="POSTBRANCH" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.53" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_T_CSRBRNCH" tableName="FINRECEIPTHEADER_TEMP">
			<column name="CASHIERBRANCH" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.54" author="murthy.y">
		<createIndex indexName="IDX_FINRCPHDR_T_CLSRTYPID" tableName="FINRECEIPTHEADER_TEMP">
			<column name="CLOSURETYPEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.55" author="murthy.y">
		<createIndex indexName="IDX_FINRCPTDTL_BNKCD" tableName="FINRECEIPTDETAIL">
			<column name="BANKCODE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.56" author="murthy.y">
		<createIndex indexName="IDX_FINRCPTDTL_FNDGACNT" tableName="FINRECEIPTDETAIL">
			<column name="FUNDINGAC" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.57" author="murthy.y">
		<createIndex indexName="IDX_FINRCPTDTL_PAYAGNSTID" tableName="FINRECEIPTDETAIL">
			<column name="PAYAGAINSTID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.58" author="murthy.y">
		<createIndex indexName="IDX_FINRCPTDTL_PAYMNTYP" tableName="FINRECEIPTDETAIL">
			<column name="PAYMENTTYPE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.59" author="murthy.y">
		<createIndex indexName="IDX_FINRCPTDTL_BNKBRNCHID" tableName="FINRECEIPTDETAIL">
			<column name="BANKBRANCHID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.60" author="murthy.y">
		<createIndex indexName="IDX_FINRCPTDTL_PAYAGTID_PYMTYP" tableName="FINRECEIPTDETAIL">
			<column name="PAYAGAINSTID" />
			<column name="PAYMENTTYPE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.61" author="murthy.y">
		<createIndex indexName="IDX_MANULADV_T_FETYPID" tableName="MANUALADVISE_TEMP">
			<column name="FEETYPEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.62" author="murthy.y">
		<createIndex indexName="IDX_MANULADV_T_BOUNCEID" tableName="MANUALADVISE_TEMP">
			<column name="BOUNCEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.63" author="murthy.y">
		<createIndex indexName="IDX_FINFEERCPTS_RCPTID" tableName="FINFEERECEIPTS">
			<column name="RECEIPTID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.64" author="murthy.y">
		<createIndex indexName="IDX_FINFEERCPTS_FEEID" tableName="FINFEERECEIPTS">
			<column name="FEEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.65" author="murthy.y">
		<createIndex indexName="IDX_FINFEERCPTS_ID" tableName="FINFEERECEIPTS">
			<column name="ID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.66" author="murthy.y">
		<createIndex indexName="IDX_FINFEERCPTS_T_RCPTID" tableName="FINFEERECEIPTS_TEMP">
			<column name="RECEIPTID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.67" author="murthy.y">
		<createIndex indexName="IDX_FINFEERCPTS_T_FEEID" tableName="FINFEERECEIPTS_TEMP">
			<column name="FEEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.68" author="murthy.y">
		<createIndex indexName="IDX_FINFEERCPTS_T_ID" tableName="FINFEERECEIPTS_TEMP">
			<column name="ID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.69" author="murthy.y">
		<createIndex indexName="IDX_FINFEEDTL_FEETYPID" tableName="FINFEEDETAIL">
			<column name="FEETYPEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.70" author="murthy.y">
		<createIndex indexName="IDX_FINFEEDTL_VASREFRNCE" tableName="FINFEEDETAIL">
			<column name="VASREFERENCE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.71" author="murthy.y">
		<createIndex indexName="IDX_FINFEEDTL_T_FEETYPID" tableName="FINFEEDETAIL_TEMP">
			<column name="FEETYPEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.72" author="murthy.y">
		<createIndex indexName="IDX_FINFEEDTL_T_VASREFRNCE" tableName="FINFEEDETAIL_TEMP">
			<column name="VASREFERENCE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.73" author="murthy.y">
		<createIndex indexName="IDX_FFDTL_FR_ACAMT_FSM_OF" tableName="FINFEEDETAIL">
			<column name="FINREFERENCE" />
			<column name="ACTUALAMOUNT" />
			<column name="FEESCHEDULEMETHOD" />
			<column name="ORIGINATIONFEE" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.74" author="murthy.y">
		<createIndex indexName="IDX_FFDTL_T_FR_ACAMT_FSM_OF" tableName="FINFEEDETAIL_TEMP">
			<column name="FINREFERENCE" />
			<column name="ACTUALAMOUNT" />
			<column name="FEESCHEDULEMETHOD" />
			<column name="ORIGINATIONFEE" />
		</createIndex>
	</changeSet>

	<!-- <changeSet id="ST#293.6.75" author="murthy.y">
		<createIndex indexName="IDX_TAXDTLS_T_RFRNCID" tableName="TAX_DETAILS_TEMP">
			<column name="REFERENCEID" />
		</createIndex>
	</changeSet>
 -->
	<changeSet id="ST#293.6.76" author="murthy.y">
		<createIndex indexName="IDX_FINMAIN_BUSVER" tableName="FINANCEMAIN">
			<column name="BUSINESSVERTICAL" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.77" author="murthy.y">
		<createIndex indexName="IDX_FINMAIN_T_BUSVER" tableName="FINANCEMAIN_TEMP">
			<column name="BUSINESSVERTICAL" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.78" author="murthy.y">
		<createIndex indexName="IDX_MANULADV_FETYPID" tableName="MANUALADVISE">
			<column name="FEETYPEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.79" author="murthy.y">
		<createIndex indexName="IDX_MANULADV_BOUNCEID" tableName="MANUALADVISE">
			<column name="BOUNCEID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.80" author="murthy.y">
		<createIndex indexName="IDX_DEPOSITMOVEMENTS_PTNRBNKID" tableName="DEPOSITMOVEMENTS">
			<column name="PARTNERBANKID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.81" author="murthy.y">
		<createIndex indexName="IDX_DEPOSITMOVEMENTS_DPSTID" tableName="DEPOSITMOVEMENTS">
			<column name="DEPOSITID" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#293.6.82" author="murthy.y">
		<createIndex indexName="IDX_DEPOSITDETAILS_BRNCHCD" tableName="DEPOSITDETAILS">
			<column name="BRANCHCODE" />
		</createIndex>
	</changeSet>

	<!-- <changeSet id="ST#293.6.83" author="murthy.y" context="Dropping Duplicate indexes">
		<dropIndex tableName="FINREPAYSCHEDULEDETAIL" indexName="IX_FAIL_FINREFERENCE" />
		<dropIndex tableName="AMORTIZATIONQUEUING" indexName="AMORTIZATIONQUEUING_NLS_IDX" />

		<dropUniqueConstraint constraintName="UK_Comm_Comm_CT_Cd_HSNC" tableName="COMMODITIES" />
		<dropUniqueConstraint constraintName="UQ__COMMODIT__0E0AE3D321746B58" tableName="COMMODITIES_TEMP" />

		<dropIndex tableName="CUSTOMERS" indexName="TEST_CUST_ID" />
		<dropIndex tableName="CUSTOMERS" indexName="IX_CUST_CAT" />
		<dropIndex tableName="CUSTOMERS" indexName="IX_CUST_ID_CRCPR" />
		<dropIndex tableName="CUSTOMERS" indexName="IX_CUST_TYPE" />
		<dropIndex tableName="CUSTOMERS_TEMP" indexName="IX_TCUST_CAT" />
		<dropIndex tableName="CUSTOMERS_TEMP" indexName="IX_TCUST_TYPE" />
		<dropIndex tableName="CUSTOMERS_TEMP" indexName="IX_CUST_T_ID_CRCPR" />

		<dropUniqueConstraint constraintName="UK_ENTITY" tableName="ENTITY" />


		<dropIndex tableName="FINANCEMAIN" indexName="IDX$$_08E00002" />
		<dropIndex tableName="FINANCEMAIN" indexName="IX_FM_CUI_FINR" />
		<dropIndex tableName="FINANCEMAIN_TEMP" indexName="IX_FINTEMP_BRANCH" />
		<dropIndex tableName="FINANCEMAIN_TEMP" indexName="IX_TFM_FT" />
		<dropIndex tableName="FINREPAYDETAILS" indexName="IDX_FINRPYDTL_LID_FR" />
		<dropIndex tableName="FINSERVICEINSTRUCTION" indexName="IX_FIN_FINREF" />
		<dropIndex tableName="LINK_CUST_INCOMES" indexName="IX_CUST_INCOMES_CUSTID" />

		<dropUniqueConstraint constraintName="UK_EXTERNAL_LIABILIT_CID_LID" tableName="LINK_CUST_LIABILITIES" />


		<dropUniqueConstraint constraintName="UQ__MANUALDE__A25C5AA73AD6EAAC" tableName="MANUALDEVIATIONS" />
		<dropUniqueConstraint constraintName="UQ__MANUALDE__A25C5AA742780C74" tableName="MANUALDEVIATIONS_TEMP" />

		<dropIndex tableName="PROJECTEDACCRUALS_WORK" indexName="PROJECTEDACCRUALS_WORK_NLS_IDX" />

		<dropIndex tableName="RMTBRANCHES" indexName="IX_RMTBRS_BRCD" />
		<dropIndex tableName="SECGROUPRIGHTS" indexName="IX_SGR" />

		<dropUniqueConstraint constraintName="IDXSECROLES_ROLDECODE_U_NC" tableName="SECROLES" />
	</changeSet> -->

	<changeSet id="ST#293.6.84" author="murthy.y">
		<createIndex indexName="IDX_POSTINGS_POSTREF" tableName="POSTINGS">
			<column name="POSTREF" />
		</createIndex>
	</changeSet>
    
    <!-- ST#293 :: Presentment Response Enhancements changes end -->
    
    <changeSet id="DE#283_pre" author="Venkatesh.CH" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'financededup_view');
			]]>
		</sql>
	</changeSet>
	
    <changeSet id="DE#283" author="Venkatesh.CH">
		<createView viewName="FINANCEDEDUP_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.FINREFERENCE, 
					T1.FINREFERENCE DUPREFERENCE, 
					T1.CUSTID,
		            T2.CUSTCIF, 
		            T2.CUSTFNAME, 
		            T2.CUSTLNAME, 
		            T2.CUSTMNAME, 
		            T2.CUSTSHRTNAME, 
		            T2.CUSTDOB, 
		            T2.CUSTNATIONALITY, 
	                T2.CUSTPARENTCOUNTRY, 
	                T2.CUSTCRCPR, 
	                T1.FINSTARTDATE STARTDATE,
	                T1.FINAMOUNT FINANCEAMOUNT, 
	                T1.TOTALGROSSPFT PROFITAMOUNT,
	                T1.NEXTROLECODE STAGE, 
	                T4.ROLEDESC STAGEDESC, 
	                '' DEDUPERULE, 
	                T1.FINTYPE FINANCETYPE, 
	                T2.CUSTTRADELICENCENUM TRADELICENCENO,
	                T1.FINLIMITREF, 
	                COALESCE(CASE WHEN T2.PHONENUMBER = ' ' THEN NULL ELSE T2.PHONENUMBER
			        	END, T3.PHONENUMBER) MOBILENUMBER,
	                T2.CUSTMOTHERMAIDEN FATHERNAME, 
	                T2.CUSTSHRTNAMELCLLNG MOTHERNAME,
	                CDA.CUSTDOCTITLE AADHARNUMBER,
			        CDP.CUSTDOCTITLE PANNUMBER,
	                CDVI.CUSTDOCTITLE VOTERID,
	                CDRC.CUSTDOCTITLE RATIONCARD,
	                CDLPG.CUSTDOCTITLE LPGNUMBER,
	                CDPP.CUSTDOCTITLE CUSTPASSPORTNO, 
	                CDDL.CUSTDOCTITLE DRIVINGLICENCENO
				FROM FINANCEMAIN_TEMP T1 
	            INNER JOIN CUSTOMERS T2 ON T1.CUSTID = T2.CUSTID  
	            LEFT OUTER JOIN SECROLES T4 ON T1.NEXTROLECODE = T4.ROLECD
	            LEFT JOIN CUSTOMERDOCUMENTS CDA ON CDA.CUSTID = T2.CUSTID AND CDA.CUSTDOCCATEGORY in (
	            	((SELECT MASTER_DEF.KEY_CODE FROM MASTER_DEF WHERE MASTER_DEF.MASTER_TYPE = 'DOC_TYPE' AND MASTER_DEF.KEY_TYPE = 'AADHAAR')))
	            LEFT JOIN CUSTOMERDOCUMENTS CDP ON CDP.CUSTID = T2.CUSTID AND CDP.CUSTDOCCATEGORY in (
	           		((SELECT MASTER_DEF.KEY_CODE FROM MASTER_DEF WHERE MASTER_DEF.MASTER_TYPE = 'DOC_TYPE' AND MASTER_DEF.KEY_TYPE = 'PAN')))
		        LEFT JOIN CUSTOMERDOCUMENTS CDPP ON CDPP.CUSTID = T2.CUSTID AND CDPP.CUSTDOCCATEGORY in (
		       		((SELECT MASTER_DEF.KEY_CODE FROM MASTER_DEF WHERE MASTER_DEF.MASTER_TYPE = 'DOC_TYPE' AND MASTER_DEF.KEY_TYPE = 'PASSPORT')))
	            LEFT JOIN CUSTOMERDOCUMENTS CDVI ON CDVI.CUSTID = T2.CUSTID AND CDVI.CUSTDOCCATEGORY in (
	           		((SELECT MASTER_DEF.KEY_CODE FROM MASTER_DEF WHERE MASTER_DEF.MASTER_TYPE = 'DOC_TYPE' AND MASTER_DEF.KEY_TYPE = 'VOTER_ID')))
	            LEFT JOIN CUSTOMERDOCUMENTS CDRC ON CDRC.CUSTID = T2.CUSTID AND CDRC.CUSTDOCCATEGORY in (
	           		((SELECT MASTER_DEF.KEY_CODE FROM MASTER_DEF WHERE MASTER_DEF.MASTER_TYPE = 'DOC_TYPE' AND MASTER_DEF.KEY_TYPE = 'RATION_CARD')))
	            LEFT JOIN CUSTOMERDOCUMENTS CDLPG ON CDLPG.CUSTID = T2.CUSTID AND CDLPG.CUSTDOCCATEGORY in (
	           		((SELECT MASTER_DEF.KEY_CODE FROM MASTER_DEF WHERE MASTER_DEF.MASTER_TYPE = 'DOC_TYPE' AND MASTER_DEF.KEY_TYPE = 'LPG_NUMBER')))
	            LEFT JOIN CUSTOMERDOCUMENTS CDDL ON CDDL.CUSTID = T2.CUSTID AND CDDL.CUSTDOCCATEGORY in (
	           		((SELECT MASTER_DEF.KEY_CODE FROM MASTER_DEF WHERE MASTER_DEF.MASTER_TYPE = 'DOC_TYPE' AND MASTER_DEF.KEY_TYPE = 'DRIVING_LICENCE')))
	            LEFT JOIN CUSTOMERPHONENUMBERS T3 ON T2.CUSTID = T3.PHONECUSTID
           ]]>
       </createView>
	</changeSet>
	
	<changeSet id="DE#283_post" author="Venkatesh.CH" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'financededup_view');
			]]>
		</sql>
	</changeSet>
	
    <changeSet id="ST#279" author="venkatesh.CH">
		<createTable tableName="PAYMENTMETHOD_UPLOAD_HEADER">
			<column name="Id" type="bigint" autoIncrement="true">
				<constraints nullable="false"/>
			</column>
			<column name="FileName" type="varchar(100)"/>
			<column name="TotalRecords" type="int" />
			<column name="SucessRecords" type="int" />
			<column name="FailureRecords" type="int" />
			<column name="Status" type="char(1)" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#279.1" author="venkatesh.CH">
		<addPrimaryKey tableName="PAYMENTMETHOD_UPLOAD_HEADER" constraintName="PK_PAYMENTMETHOD_UPLD_HDR_ID" columnNames="Id"/>
	</changeSet>
	
	<changeSet id="ST#279.2" author="venkatesh.CH">
		<addUniqueConstraint tableName="PAYMENTMETHOD_UPLOAD_HEADER" constraintName="UK_PAYMENTMETHOD_UPLD_HDR_FN" columnNames="FileName"/>
	</changeSet>
	
	<changeSet id="ST#279.3" author="venkatesh.CH">
		<createTable tableName="PAYMENTMETHOD_UPLOAD_DETAIL">
			<column name="Id" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="BatchId" type="bigint" />
			<column name="FinReference" type="varchar(20)" />
			<column name="MandateId" type="bigint" />
			<column name="FinRepayMethod" type="varchar(8)" />
			<column name="Status" type="char(1)" />
			<column name="UploadStatusRemarks" type="varchar(2000)" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#279.4" author="venkatesh.CH">
		<addPrimaryKey tableName="PAYMENTMETHOD_UPLOAD_DETAIL" constraintName="PK_PAYMENTMETHOD_UPLD_DTL_ID" columnNames="Id"/>
	</changeSet>
	
	<changeSet id="ST#279.5" author="venkatesh.CH">
		<addForeignKeyConstraint constraintName="FK_PAYMENTMETHOD_UPLD_BATCHID"
			baseTableName="PAYMENTMETHOD_UPLOAD_DETAIL" baseColumnNames="BatchId" referencedColumnNames="Id"
			referencedTableName="PAYMENTMETHOD_UPLOAD_HEADER" />
	</changeSet>
	
	<changeSet id="ST#279.6" author="venkatesh.CH">
		<createIndex indexName="IDX_PMUD_FinRef" tableName="PAYMENTMETHOD_UPLOAD_DETAIL"> <column name="FinReference" />
		</createIndex>
	</changeSet>

	<changeSet id="ST#279.7" author="venkatesh.CH">
		<createIndex indexName="IDX_PMUD_BatchId" tableName="PAYMENTMETHOD_UPLOAD_DETAIL">
			<column name="BatchId" />
		</createIndex>
	</changeSet>
	
	<changeSet id="ST#279.8" author="venkatesh.CH">
		<createTable tableName="PAYMENTMETHOD_UPLOAD_LOG">
			<column name="Id" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="DetailId" type="bigint" />
			<column name="ErrorCode" type="varchar(10)" />
			<column name="ErrorDescription" type="varchar(2000)" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#279.9" author="venkatesh.CH">
		<addPrimaryKey tableName="PAYMENTMETHOD_UPLOAD_LOG" constraintName="PK_PAYMENTMETHOD_UPLOAD_LOG_ID" columnNames="Id"/>
	</changeSet>
	
	<changeSet id="ST#279.10" author="venkatesh.CH">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'PAYMENT_METHOD_UPLOAD'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PAYMENT_METHOD_UPLOAD');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'PAYMENT_METHOD_UPLOAD';
	
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'PAYMENT_METHOD_UPLOAD', 'CHANGE_PAYMENT_UPLOAD', 12, 'ChangePaymentUpload', '', '', '', 0, 1, '', 'Loan Reference,Mandate ID,Repay Method', '', 'C', '/opt/Veritas/PFF/ChangePaymentUpload', 'ChangePaymnetUplaodReq', '.xlsx', 0,current_timestamp, '${SEQ_FILE},_${yyyyMMddHHmmss}', '', 0, '', 1, 1);
	 
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select ID FROM DATA_ENGINE_CONFIG WHERE Name = 'PAYMENT_METHOD_UPLOAD'), 'PAYMENTMETHOD_UPLOAD_DETAIL', 1, ' ', null, null, null, null, null, null, null, 3, 0, 0);
		
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'PAYMENTMETHOD_UPLOAD_DETAIL' and CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PAYMENT_METHOD_UPLOAD')), 'BATCHID', 0, 'N', null, null, '${BATCHID}', null, 0, null,null, null, null, 'M');
	
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'PAYMENTMETHOD_UPLOAD_DETAIL' and CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PAYMENT_METHOD_UPLOAD')), 'FINREFERENCE', 0, 'N', null, null, null, null, 0, null,null, null, null, 'M');
	
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'PAYMENTMETHOD_UPLOAD_DETAIL' and CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PAYMENT_METHOD_UPLOAD')), 'MANDATEID', 0, 'N', null, null, null,  null, 1, null,null, null, null, 'O');
	
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'PAYMENTMETHOD_UPLOAD_DETAIL' and CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PAYMENT_METHOD_UPLOAD')), 'FinRepayMethod', 0, 'N', null, null, null,  null, 2, null,null, null, null, 'M'); 
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#279.11" author="venkatesh.CH">
		<sql>
		  <![CDATA[
		 		DELETE FROM SECOPERATIONROLES WHERE OPRID = (SELECT OPRID FROM SECOPERATIONS WHERE OPRCODE = 'PAYMENTMETHOD_UPLOAD_DETAILS') AND ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'PAYMENTMETHOD_UPLOAD_DETAILS');
				
				DELETE FROM SECOPERATIONS WHERE OPRCODE = 'PAYMENTMETHOD_UPLOAD_DETAILS';
				
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PAYMENTMETHOD_UPLOAD_DETAILS') AND ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'PAYMENTMETHOD_UPLOAD_DETAILS');
				
				DELETE FROM SECROLES WHERE  ROLECD = 'PAYMENTMETHOD_UPLOAD_DETAILS';	
				
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID IN (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_PaymentMethodUpload');			
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'PAYMENTMETHOD_UPLOAD_DETAILS';
				
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_PaymentMethodUpload';
					
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_PaymentMethodUpload', 'MENU', 0, 1000, current_timestamp, 'Approved', '', '', '', '', '', 0);
	
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'PAYMENTMETHOD_UPLOAD_DETAILS', 'ChangePayment upload details', 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
					
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PAYMENTMETHOD_UPLOAD_DETAILS'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_PaymentMethodUpload'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
	
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'PAYMENTMETHOD_UPLOAD_DETAILS', 'Change Payment upload details', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
	
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'PAYMENTMETHOD_UPLOAD_DETAILS'), (SELECT  ROLEID  FROM SECROLES WHERE ROLECD = 'PAYMENTMETHOD_UPLOAD_DETAILS'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0); 
								
				INSERT INTO SECOPERATIONS (OPRID, OPRCODE, OPRDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(OPRID)+1 FROM SECOPERATIONS), 'PAYMENTMETHOD_UPLOAD_DETAILS', 'Change Payment upload details', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0);
	
				INSERT INTO SECOPERATIONROLES (OPRROLEID, OPRID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(OPRROLEID)+1 FROM SECOPERATIONROLES), (SELECT OPRID FROM SECOPERATIONS WHERE OPRCODE = 'PAYMENTMETHOD_UPLOAD_DETAILS'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'PAYMENTMETHOD_UPLOAD_DETAILS'), 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0);
		  ]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#280" author="venkatesh.CH">
		<sql>
           <![CDATA[
           		DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanWiseMandateDetails');
		   		DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanWiseMandateDetails';

           		INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((SELECT MAX(REPORTID)+1 FROM REPORTCONFIGURATION), 'Excel:Loan Wise Mandate Details', 'Loan Wise Mandate Details', 1, 'LoanWiseMandateDetails', 'dataSource', 1, 'menu_Item_LoanWiseMandateDetails', 1, 1000, '', '', '', '', '', '', 0, CURRENT_TIMESTAMP, 0, 1, 0);
          	    INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_LoanWiseMandateDetails'),1,'FinReference','LOVSEARCH','Loan Reference','finreference','','FinanceMain','getFinReference','getFinReference',1,0,0,0,1,0,'','','','',250,0,'=',1,1000,'','','','','','',0,CURRENT_TIMESTAMP,'');
           ]]>
	   </sql>
	</changeSet>
	
	<changeSet id="ST#280.1" author="venkatesh.CH">
		<sql>
			<![CDATA[
				DELETE FROM SECOPERATIONROLES WHERE OPRID = (SELECT OPRID FROM SECOPERATIONS WHERE OPRCODE = 'REPORTS_LOANWISE_MANDATE_DETAILS') AND ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'REPORTS_LOANWISE_MANDATE_DETAILS');
				
				DELETE FROM SECOPERATIONS WHERE OPRCODE = 'REPORTS_LOANWISE_MANDATE_DETAILS';
				
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'REPORTS_LOANWISE_MANDATE_DETAILS') AND ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'REPORTS_LOANWISE_MANDATE_DETAILS');
				
				DELETE FROM SECROLES WHERE  ROLECD = 'REPORTS_LOANWISE_MANDATE_DETAILS';
				
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID IN (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LoanWise_MandateDetails');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'REPORTS_LOANWISE_MANDATE_DETAILS';
				
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LoanWise_MandateDetails';									
												
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_LoanWise_MandateDetails', 'MENU', 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'REPORTS_LOANWISE_MANDATE_DETAILS', 'LoanWise Mandate Details', 0, 1000, CURRENT_TIMESTAMP, '', '', null, '', '', '', 0);
				
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'REPORTS_LOANWISE_MANDATE_DETAILS'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LoanWise_MandateDetails'), 1, 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'REPORTS_LOANWISE_MANDATE_DETAILS', 'LoanWise Mandate Details', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'REPORTS_LOANWISE_MANDATE_DETAILS'), (SELECT ROLEID  FROM SECROLES WHERE ROLECD = 'REPORTS_LOANWISE_MANDATE_DETAILS'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0); 			
				
				INSERT INTO SECOPERATIONS (OPRID, OPRCODE, OPRDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(OPRID)+1 FROM SECOPERATIONS), 'REPORTS_LOANWISE_MANDATE_DETAILS', 'LoanWise Mandate Details', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0);
				
				INSERT INTO SECOPERATIONROLES (OPRROLEID, OPRID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(OPRROLEID)+1 FROM SECOPERATIONROLES), (SELECT OPRID FROM SECOPERATIONS WHERE OPRCODE = 'REPORTS_LOANWISE_MANDATE_DETAILS'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'REPORTS_LOANWISE_MANDATE_DETAILS'), 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#281.1" author="Pavankalyan.s">
		<sql>
	    	<![CDATA[
			    DELETE FROM SECUSEROPERATIONS WHERE OPRID = (SELECT OPRID FROM SECOPERATIONS WHERE OPRCODE = 'Reschedule_Report_Details') AND USRID = (SELECT USRID FROM SECUSERS WHERE USRLOGIN = 'ADMIN');
		       
		        DELETE FROM SECGROUPRIGHTS WHERE RIGHTID IN (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_RescheduleReport');
			   
			    DELETE FROM SECOPERATIONROLES WHERE OPRID = (SELECT OPRID FROM SECOPERATIONS WHERE OPRCODE = 'Reschedule_Report_Details') AND ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'Reschedule_Report_Details');
			   
			    DELETE FROM SECOPERATIONS WHERE OPRCODE = 'Reschedule_Report_Details';
			   
			    DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'Reschedule_Report_Details') AND ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'Reschedule_Report_Details');
			   
			    DELETE FROM SECROLES WHERE  ROLECD = 'Reschedule_Report_Details';
			   
			    DELETE FROM SECGROUPRIGHTS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'Reschedule_Report_Details') AND RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_RescheduleReport');
			   
			    DELETE FROM SECGROUPS WHERE GRPCODE = 'Reschedule_Report_Details';
			   
			    DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_RescheduleReport';
			    									
			    INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((select max(RIGHTID)+1 from SECRIGHTS), 0, 'menuItem_RescheduleReport', 'MENU', 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			    
			    INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((select max(GRPID)+1 from SECGROUPS), 'Reschedule_Report_Details', 'Reschedule Report Details Screen', 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			    
			    INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'Reschedule_Report_Details'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_RescheduleReport'), 1, 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			    
			    INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'Reschedule_Report_Details', 'Reschedule Report Details Screen', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			   
			    INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'Reschedule_Report_Details'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'Reschedule_Report_Details'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0); 
			    				
			    INSERT INTO SECOPERATIONS (OPRID, OPRCODE, OPRDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(OPRID)+1 FROM SECOPERATIONS), 'Reschedule_Report_Details', 'Reschedule Report Details Screen', 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			   
			    INSERT INTO SECOPERATIONROLES (OPRROLEID, OPRID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(OPRROLEID)+1 FROM SECOPERATIONROLES), (SELECT OPRID FROM SECOPERATIONS WHERE OPRCODE = 'Reschedule_Report_Details'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'Reschedule_Report_Details'), 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			    
			    INSERT INTO SECUSEROPERATIONS (USROPRID, USRID, OPRID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(USROPRID)+1 FROM SECUSEROPERATIONS), (SELECT USRID FROM SECUSERS WHERE USRLOGIN = 'ADMIN'), (SELECT OPRID FROM SECOPERATIONS WHERE OPRCODE = 'Reschedule_Report_Details'), 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
	    	]]>
		</sql>
    </changeSet>
	
   <changeSet id="ST#281.2" author="Pavankalyan.s">
	<addColumn tableName="FinServiceInstruction_Temp">
		<column name="LogKey" type="bigint" />
	</addColumn>
    </changeSet>
		
    <changeSet id="ST#281.3" author="Pavankalyan.s">
	<addColumn tableName="FinServiceInstruction">
		<column name="LogKey" type="bigint" />
	</addColumn>
    </changeSet>
    
    <changeSet id="110" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SOURCING_VENDOR_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SOURCING_VENDOR_MAKER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'SOURCING_VENDOR_MAKER';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SOURCING_VENDOR_MAKER', 'Role for Sourcing Vendor Maker', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SOURCING_VENDOR_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SOURCING_VENDOR_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="111" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'LOAN_BY_MATURITY_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'LOAN_BY_MATURITY_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'LOAN_BY_MATURITY_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'LOAN_BY_MATURITY_APPROVER';
				
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LoanbyMaturityDtls') and GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_MAKER');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LoanbyMaturityDtls') and GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_APPROVER');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_MAKER';
				DELETE FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_APPROVER';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'LOAN_BY_MATURITY_MAKER', 'Role for LOAN BY MATURITY Maker', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'LOAN_BY_MATURITY_APPROVER', 'Role for LOAN BY MATURITY approver', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((Select MAX(GrpID)+1 From SecGroups), 'LOAN_BY_MATURITY_MAKER', 'Group for LOAN BY MATURITY Maker', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((Select MAX(GrpID)+1 From SecGroups), 'LOAN_BY_MATURITY_APPROVER', 'Group for LOAN BY MATURITY approver', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LoanbyMaturityDtls'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LoanbyMaturityDtls'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'LOAN_BY_MATURITY_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'LOAN_BY_MATURITY_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>

	<changeSet id="112" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'RECEIPT_DETAILS_MAKER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_MAKER');
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'RECEIPT_DETAILS_APPROVER') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_APPROVER');
			
				DELETE FROM SECROLES WHERE ROLECD = 'RECEIPT_DETAILS_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'RECEIPT_DETAILS_APPROVER';
				
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LMSReceiptReport') and GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_MAKER');
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LMSReceiptReport') and GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_APPROVER');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_MAKER';
				DELETE FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_APPROVER';
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'RECEIPT_DETAILS_MAKER', 'Role for RECEIPT DETAILS Maker', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'RECEIPT_DETAILS_APPROVER', 'Role for RECEIPT DETAILS approver', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((Select MAX(GrpID)+1 From SecGroups), 'RECEIPT_DETAILS_MAKER', 'Group for RECEIPT DETAILS Maker', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((Select MAX(GrpID)+1 From SecGroups), 'RECEIPT_DETAILS_APPROVER', 'Group for RECEIPT DETAILS approver', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LMSReceiptReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LMSReceiptReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'RECEIPT_DETAILS_MAKER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'RECEIPT_DETAILS_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="113" author="saisandeep.b">
		<sql>
			<![CDATA[
				delete from smtparameters where sysparmcode = 'FEE_LOS_PROCESSING';
				INSERT INTO SMTparameters (SysParmCode, SysParmDesc, SysParmType, SysParmMaint, SysParmValue, SysParmLength, SysParmDec,SysParmList, SysParmValdMod, SysParmDescription, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NexttaskId, RecordType, WorkflowId) VALUES ('FEE_LOS_PROCESSING', 'Processing Fee Code', 'String', '1', 'PROCFEE', 50, 0, NULL, NULL, '', 1, 1000, CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="114" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SECGROUPS SET GRPCODE = 'COLLATERAL_DELINK_MAKER' WHERE GRPCODE = 'COLLATERALDELINK_MAKER';
				UPDATE SECGROUPS SET GRPCODE = 'COLLATERAL_DELINK_APPROVER' WHERE GRPCODE = 'COLLATERALDELINK_APPROVER';
				
				UPDATE SECROLES SET ROLECD = 'COLLATERAL_DELINK_MAKER' WHERE ROLECD = 'COLLATERALDELINK_MAKER';
				UPDATE SECROLES SET ROLECD = 'COLLATERAL_DELINK_APPROVER' WHERE ROLECD = 'COLLATERALDELINK_APPROVER';
				
				UPDATE SECGROUPS SET GRPCODE = 'LINKED_FINANCES_MAKER' WHERE GRPCODE = 'LINKEDFINANCES_MAKER';
				UPDATE SECGROUPS SET GRPCODE = 'LINKED_FINANCES_APPROVER' WHERE GRPCODE = 'LINKEDFINANCES_APPROVER';
				
				UPDATE SECROLES SET ROLECD = 'LINKED_FINANCES_MAKER' WHERE ROLECD = 'LINKEDFINANCES_MAKER';
				UPDATE SECROLES SET ROLECD = 'LINKED_FINANCES_APPROVER' WHERE ROLECD = 'LINKEDFINANCES_APPROVER';
				
				UPDATE SECGROUPS SET GRPCODE = 'SUBVENTION_PROCESS_UPLOAD_MAKER' WHERE GRPCODE = 'SUBVENTIONPROCESS_UPLOAD_MAKER';
				UPDATE SECGROUPS SET GRPCODE = 'SUBVENTION_PROCESS_UPLOAD_APPROVER' WHERE GRPCODE = 'SUBVENTIONPROCESS_UPLOAD_APPROVER';
				
				UPDATE SECROLES SET ROLECD = 'SUBVENTION_PROCESS_UPLOAD_MAKER' WHERE ROLECD = 'SUBVENTIONPROCESS_UPLOAD_MAKER';
				UPDATE SECROLES SET ROLECD = 'SUBVENTION_PROCESS_UPLOAD_APPROVER' WHERE ROLECD = 'SUBVENTIONPROCESS_UPLOAD_APPROVER';
		
				UPDATE SECGROUPS SET GRPCODE = 'PAYMENT_METHOD_UPLOAD' WHERE GRPCODE = 'PAYMENTMETHOD_UPLOAD_DETAILS';
				
				UPDATE SECROLES SET ROLECD = 'PAYMENT_METHOD_UPLOAD' WHERE ROLECD = 'PAYMENTMETHOD_UPLOAD_DETAILS';
				
				UPDATE SECRIGHTS SET RIGHTNAME = 'menu_Item_CovenantStatusReport' WHERE RIGHTNAME = 'menuItem_CustomerTemplates_CovenantStatusReport';
				
				UPDATE SECGROUPS SET GRPCODE = 'COVENANTS_STATUS_REPORTS' WHERE GRPCODE = 'COVENANTSLOD_REPORTS';
				
				UPDATE SECROLES SET ROLECD = 'COVENANTS_STATUS_REPORTS' WHERE ROLECD = 'COVENANTSLOD_REPORTS';
				
				DELETE FROM SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'COVENANTS_REPORTS') AND GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'COVENANTS_REPORTS');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'COVENANTS_REPORTS';
			
				DELETE FROM SECROLES WHERE ROLECD = 'COVENANTS_REPORTS';
			
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'COVENANTS_REPORTS', 'Group for Covenants LOD Reports', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'COVENANTS_REPORTS'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_CovenantReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);
				
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'COVENANTS_REPORTS', 'Role for Covenant Reports', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
			
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'COVENANTS_REPORTS'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'COVENANTS_REPORTS'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				
				
				
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionUploadStsRpt');
				
				DELETE FROM SECGROUPRIGHTS WHERE  GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_UPLOAD_STATUS_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_UPLOAD_STATUS_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_UPLOAD_STATUS_REPORT');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_UPLOAD_STATUS_REPORT';
				
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTION_UPLOAD_STATUS_REPORT';
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SUBVENTION_UPLOAD_STATUS_REPORT', 'Group for subvention upload report', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);

				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTION_UPLOAD_STATUS_REPORT', 'Role for subvention upload report', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_UPLOAD_STATUS_REPORT'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionUploadStsRpt'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);

				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_UPLOAD_STATUS_REPORT'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_UPLOAD_STATUS_REPORT'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				
				
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionMISReport');
				
				DELETE FROM SECGROUPRIGHTS WHERE  GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MIS_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MIS_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_MIS_REPORT');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MIS_REPORT';
				
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTION_MIS_REPORT';
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SUBVENTION_MIS_REPORT', 'Group for subvention upload report', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);

				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTION_MIS_REPORT', 'Role for subvention upload report', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MIS_REPORT'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionMISReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);

				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_MIS_REPORT'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_MIS_REPORT'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
				
				
				
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionAmortReport');
				
				DELETE FROM SECGROUPRIGHTS WHERE  GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_AMORT_REPORT');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT';
				
				DELETE FROM SECROLES WHERE ROLECD = 'SUBVENTION_AMORT_REPORT';
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SUBVENTION_AMORT_REPORT', 'Group for subvention upload report', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);

				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SUBVENTION_AMORT_REPORT', 'Role for subvention upload report', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionAmortReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);

				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'SUBVENTION_AMORT_REPORT'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SUBVENTION_AMORT_REPORT'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			
			
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LoanbyMaturityDtls');

				DELETE FROM SECGROUPRIGHTS WHERE  GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'LOAN_BY_MATURITY_REPORT');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_REPORT';
				
				DELETE FROM SECROLES WHERE ROLECD = 'LOAN_BY_MATURITY_REPORT';
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'LOAN_BY_MATURITY_REPORT', 'Group for subvention upload report', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
			
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'LOAN_BY_MATURITY_REPORT', 'Role for subvention upload report', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_REPORT'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_SubventionAmortReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);

				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'LOAN_BY_MATURITY_REPORT'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'LOAN_BY_MATURITY_REPORT'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			
				
				
				UPDATE SECGROUPS SET GRPCODE = 'MANDATE_LOANWISE_REPORT' WHERE GRPCODE = 'REPORTS_LOANWISE_MANDATE_DETAILS';
				
				UPDATE SECROLES SET ROLECD = 'MANDATE_LOANWISE_REPORT' WHERE ROLECD = 'REPORTS_LOANWISE_MANDATE_DETAILS';
				
			
			
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_InterestAccrualReport');

				DELETE FROM SECGROUPRIGHTS WHERE  GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'INTEREST_ACCRUAL_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'INTEREST_ACCRUAL_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'INTEREST_ACCRUAL_REPORT');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'INTEREST_ACCRUAL_REPORT';
				
				DELETE FROM SECROLES WHERE ROLECD = 'INTEREST_ACCRUAL_REPORT';
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'INTEREST_ACCRUAL_REPORT', 'Group for subvention upload report', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
			
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'INTEREST_ACCRUAL_REPORT', 'Role for subvention upload report', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'INTEREST_ACCRUAL_REPORT'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_InterestAccrualReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);

				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'INTEREST_ACCRUAL_REPORT'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'INTEREST_ACCRUAL_REPORT'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			
			
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LMSReceiptReport');

				DELETE FROM SECGROUPRIGHTS WHERE  GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_REPORT');
				
				DELETE FROM SECROLEGROUPS WHERE ROLEID = (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'RECEIPT_DETAILS_REPORT');
				
				DELETE FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_REPORT';
				
				DELETE FROM SECROLES WHERE ROLECD = 'RECEIPT_DETAILS_REPORT';
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'RECEIPT_DETAILS_REPORT', 'Group for subvention upload report', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 0);
			
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'RECEIPT_DETAILS_REPORT', 'Role for subvention upload report', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0) ;
				
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_REPORT'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_LMSReceiptReport'), 1, 1, 1000, current_timestamp, '', '', '', '', '', '', 0);

				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'RECEIPT_DETAILS_REPORT'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'RECEIPT_DETAILS_REPORT'), 0, 1000, CURRENT_TIMESTAMP, '', '', '', '', '', '', 0);
			
				UPDATE SECGROUPS SET GRPCODE = 'RESCHEDULE_DETAILS_REPORT' WHERE GRPCODE = 'Reschedule_Report_Details';
				
				UPDATE SECROLES SET ROLECD = 'RESCHEDULE_DETAILS_REPORT' WHERE ROLECD = 'Reschedule_Report_Details';
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="CI#30.1" author="Gopal.p">
        <preConditions onFail="MARK_RAN">
            <not>
                <columnExists tableName="FINANCEMAIN" columnName="MIGRDATE"/>
            </not>
        </preConditions>
        <addColumn tableName="FINANCEMAIN">
            <column name="MIGRDATE" type="datetime"/>
        </addColumn>
	</changeSet>
	
	<changeSet id="CI#30.2" author="Gopal.p">
        <preConditions onFail="MARK_RAN">
            <not>
                <columnExists tableName="FINANCEMAIN_TEMP" columnName="MIGRDATE"/>
            </not>
        </preConditions>
        <addColumn tableName="FINANCEMAIN_TEMP">
            <column name="MIGRDATE" type="datetime"/>
        </addColumn>
	</changeSet>
	
	<changeSet id="CI#30.3" author="Gopal.p">
        <preConditions onFail="MARK_RAN">
            <not>
                <columnExists tableName="REJECTFINANCEMAIN" columnName="MIGRDATE"/>
            </not>
        </preConditions>
        <addColumn tableName="REJECTFINANCEMAIN">
            <column name="MIGRDATE" type="datetime"/>
        </addColumn>
	</changeSet>
	
    <changeSet id="ST#217.1" author="Gopal.p">
		<addColumn tableName="PRESENTMENT_FILEIMPORT">
			<column name="Corporate_User_No" type="VARCHAR(50)" />
			<column name="Corporate_Name" type="VARCHAR(50)" />
			<column name="UMRN_NO" type="VARCHAR(20)" />
			<column name="DEST_ACC_HOLDER" type="VARCHAR(50)" />
			<column name="BANK_NAME" type="VARCHAR(50)" />
			<column name="IFSC" type="VARCHAR(20)" />
			<column name="AccNumber" type="VARCHAR(50)" />
			<column name="PARTNER_BANK" type="VARCHAR(50)" />
			<column name="ChequeSerialNo" type="VARCHAR(20)" />
			<column name="BANK_ADDRESS" type="VARCHAR(50)" />
			<column name="MICR_CODE" type="VARCHAR(20)" />
			<column name="BOUNCE_REMARKS" type="varchar(100)"/>
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#217.2" author="Gopal.p">
		<addColumn tableName="PRESENTMENT_FILEIMPORT">
			<column name="HEADER_ID" type="bigint" />
		</addColumn>
	</changeSet>
		
	<changeSet id="57.1_pre" author="Gopal.p">
		<addColumn tableName="PRESENTMENT_RESP_DTLS">
			<column name="UTR_NUMBER" type="varchar(50)" />
		</addColumn>
	</changeSet>
	
	<changeSet id="57.2_pre" author="Gopal.p">
		<addColumn tableName="PRESENTMENT_RESP_DTLS_LOG">
			<column name="UTR_NUMBER" type="varchar(50)" />
		</addColumn>
	</changeSet>
	
	<changeSet id="57.3.0_pre" author="Gopal.p" dbms="mssql">
    	<dropDefaultValue columnDataType="int" columnName="INSTALMENT_NO" tableName="PRESENTMENT_RESP_DTLS"/>
    	<dropDefaultValue columnDataType="int" columnName="INSTALMENT_NO" tableName="PRESENTMENT_RESP_DTLS_LOG"/>
	</changeSet>	
	
	<changeSet id="57.3_pre" author="Gopal.p">
		<modifyDataType tableName="PRESENTMENT_RESP_DTLS" columnName="INSTALMENT_NO" newDataType="char(10)"/>
		<modifyDataType tableName="PRESENTMENT_RESP_DTLS_LOG" columnName="INSTALMENT_NO" newDataType="char(10)"/>
	</changeSet>
	
	<changeSet id="57.3.0_post" author="Gopal.p" dbms="mssql">
	  <sql>
			<![CDATA[
				ALTER TABLE PRESENTMENT_RESP_DTLS add constraint DF_PRESENTMENT_RESP_DTLS_INSTNO default 0 for Instalment_No;
				ALTER TABLE PRESENTMENT_RESP_DTLS_LOG add constraint DF_PRESENTMENT_RESP_DTLS_L_INSTNO default 0 for Instalment_No;
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="PSD#175219.1_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'legaldetails_tview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="PSD#175219.1" author="Gopal.p">
		<createView viewName="LEGALDETAILS_TVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.LEGALID, 
					T1.LEGALREFERENCE, 
					T1.LOANREFERENCE, 
					T1.COLLATERALREFERENCE, 
					T1.BRANCH, 
					T1.LEGALDATE, 
					T1.SCHEDULELEVELAREA, 
					T1.LEGALDECISION, 
					T1.LEGALREMARKS,
					T1.PROPERTYDETAILMODT, 
					T1.PROPERTYDETAILECDATE, 
					T1.ECPROPERTYOWNERNAME, 
					T1.ACTIVE, 
					T1.MODULE, 
					T1.VERSION , 
					T1.LASTMNTBY, 
					T1.LASTMNTON,
					T1.RECORDSTATUS, 
					T1.ROLECODE, 
					T1.NEXTROLECODE, 
					T1.TASKID, 
					T1.NEXTTASKID, 
					T1.RECORDTYPE, 
					T1.WORKFLOWID,
					T2.BRANCHDESC, 
					T3.FINBRANCH, 
					T4.FINDIVISION,
					COALESCE(T5.ROLEDESC, ${add.schema}FN_GET_ROLEDESC(T1.NEXTROLECODE)) REQUESTSTAGE,
					COALESCE(T6.PROPERTYOWNERSNAME, T7.CUSTSHRTNAME) APPLICANTNAME
				FROM LEGALDETAILS_TEMP T1 
				INNER JOIN RMTBRANCHES T2 ON T1.BRANCH = T2.BRANCHCODE
				INNER JOIN FINANCEMAIN_TEMP T3 ON T3.FINREFERENCE = T1.LOANREFERENCE
				INNER JOIN RMTFINANCETYPES T4 ON T4.FINTYPE = T3.FINTYPE
				INNER JOIN SECROLES T5 ON T5.ROLECD = T1.NEXTROLECODE
				LEFT JOIN (SELECT PROPERTYOWNERSNAME, LEGALID FROM LEGALAPPLICANTDETAILS_TEMP LDT1 
					WHERE LDT1.LEGALAPPLICANTID = (SELECT MIN(LDT2.LEGALAPPLICANTID) FROM LEGALAPPLICANTDETAILS_TEMP LDT2 
						WHERE LDT2.LEGALID = LDT1.LEGALID)) T6 ON T6.LEGALID = T1.LEGALID
				INNER JOIN CUSTOMERS T7 ON T7.CUSTID = T3.CUSTID
			]]>          		
        </createView>
	</changeSet>
	
	<changeSet id="PSD#175219.1_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'legaldetails_tview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="PSD#175219.2_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'legaldetails_view');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="PSD#175219.2" author="Gopal.p">
		<createView viewName="LEGALDETAILS_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.LEGALID,
					T1.LEGALREFERENCE,
					T1.LOANREFERENCE,
					T1.COLLATERALREFERENCE,
					T1.BRANCH,
					T1.LEGALDATE,
					T1.SCHEDULELEVELAREA,
					T1.LEGALDECISION,
					T1.LEGALREMARKS,
					T1.PROPERTYDETAILMODT,
					T1.PROPERTYDETAILECDATE,
					T1.ECPROPERTYOWNERNAME,
					T1.ACTIVE,
					T1.MODULE,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T2.BRANCHDESC,
					T3.FINBRANCH,
					T4.FINDIVISION,
					COALESCE(T5.ROLEDESC, ${add.schema}FN_GET_ROLEDESC(T1.NEXTROLECODE)) REQUESTSTAGE,
					COALESCE(T6.PROPERTYOWNERSNAME, T7.CUSTSHRTNAME) APPLICANTNAME
				FROM LEGALDETAILS_TEMP T1
				JOIN RMTBRANCHES T2 ON T1.BRANCH = T2.BRANCHCODE
				JOIN FINANCEMAIN_TEMP T3 ON T3.FINREFERENCE = T1.LOANREFERENCE
				JOIN RMTFINANCETYPES T4 ON T4.FINTYPE = T3.FINTYPE
				INNER JOIN SECROLES T5 ON T5.ROLECD = T1.NEXTROLECODE
				LEFT JOIN (SELECT PROPERTYOWNERSNAME, LEGALID FROM LEGALAPPLICANTDETAILS_TEMP LDT1 
					WHERE LDT1.LEGALAPPLICANTID = (SELECT MIN(LDT2.LEGALAPPLICANTID) FROM LEGALAPPLICANTDETAILS_TEMP LDT2 
						WHERE LDT2.LEGALID = LDT1.LEGALID)) T6 ON T6.LEGALID = T1.LEGALID
				INNER JOIN CUSTOMERS T7 ON T7.CUSTID = T3.CUSTID
				UNION ALL
				SELECT T1.LEGALID,
					T1.LEGALREFERENCE,
					T1.LOANREFERENCE,
					T1.COLLATERALREFERENCE,
					T1.BRANCH,
					T1.LEGALDATE,
					T1.SCHEDULELEVELAREA,
					T1.LEGALDECISION,
					T1.LEGALREMARKS,
					T1.PROPERTYDETAILMODT,
					T1.PROPERTYDETAILECDATE,
					T1.ECPROPERTYOWNERNAME,
					T1.ACTIVE,
					T1.MODULE,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T2.BRANCHDESC,
					T3.FINBRANCH,
					T4.FINDIVISION,
					COALESCE(T5.ROLEDESC, ${add.schema}FN_GET_ROLEDESC(T1.NEXTROLECODE)) REQUESTSTAGE,
					COALESCE(T6.PROPERTYOWNERSNAME, T7.CUSTSHRTNAME) APPLICANTNAME
				FROM LEGALDETAILS T1
				JOIN RMTBRANCHES T2 ON T1.BRANCH = T2.BRANCHCODE
				JOIN FINANCEMAIN_VIEW T3 ON T3.FINREFERENCE = T1.LOANREFERENCE
				JOIN RMTFINANCETYPES T4 ON T4.FINTYPE = T3.FINTYPE
				INNER JOIN SECROLES T5 ON T5.ROLECD = T1.NEXTROLECODE
				LEFT JOIN (SELECT PROPERTYOWNERSNAME, LEGALID FROM LEGALAPPLICANTDETAILS LDT1
					WHERE LDT1.LEGALAPPLICANTID = (SELECT MIN(LDT2.LEGALAPPLICANTID) FROM LEGALAPPLICANTDETAILS LDT2 
						WHERE LDT2.LEGALID = LDT1.LEGALID)) T6 ON T6.LEGALID = T1.LEGALID
				INNER JOIN CUSTOMERS T7 ON T7.CUSTID = T3.CUSTID
				WHERE NOT (EXISTS ( SELECT 1 FROM LEGALDETAILS_TEMP WHERE LEGALDETAILS_TEMP.LEGALID = T1.LEGALID))
			]]>          		
        </createView>
	</changeSet>
	
	<changeSet id="PSD#175219.2_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'legaldetails_view');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="PSD#175219.3_pre" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'legaldetails_aview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="PSD#175219.3" author="Gopal.p">
		<createView viewName="LEGALDETAILS_AVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.LEGALID,
				    T1.LEGALREFERENCE,
				    T1.LOANREFERENCE,
				    T1.COLLATERALREFERENCE,
				    T1.BRANCH,
				    T1.LEGALDATE,
				    T1.SCHEDULELEVELAREA,
				    T1.LEGALDECISION,
				    T1.LEGALREMARKS,
				    T1.PROPERTYDETAILMODT,
				    T1.PROPERTYDETAILECDATE,
				    T1.ECPROPERTYOWNERNAME,
				    T1.ACTIVE,
				    T1.MODULE,
				    T1.VERSION,
				    T1.LASTMNTBY,
				    T1.LASTMNTON,
				    T1.RECORDSTATUS,
				    T1.ROLECODE,
				    T1.NEXTROLECODE,
				    T1.TASKID,
				    T1.NEXTTASKID,
				    T1.RECORDTYPE,
				    T1.WORKFLOWID,
				    T2.BRANCHDESC,
				    T3.FINBRANCH,
					T4.FINDIVISION,
					COALESCE(T5.ROLEDESC, ${add.schema}FN_GET_ROLEDESC(T1.NEXTROLECODE)) REQUESTSTAGE,
					COALESCE(T6.PROPERTYOWNERSNAME, T7.CUSTSHRTNAME) APPLICANTNAME
   				FROM LEGALDETAILS T1
     			JOIN RMTBRANCHES T2 ON T1.BRANCH = T2.BRANCHCODE
				INNER JOIN FINANCEMAIN T3 ON T3.FINREFERENCE = T1.LOANREFERENCE
				INNER JOIN RMTFINANCETYPES T4 ON T4.FINTYPE = T3.FINTYPE
				INNER JOIN SECROLES T5 ON T5.ROLECD = T1.NEXTROLECODE
				LEFT JOIN (SELECT PROPERTYOWNERSNAME, LEGALID FROM LEGALAPPLICANTDETAILS LDT1 
					WHERE LDT1.LEGALAPPLICANTID = (SELECT MIN(LDT2.LEGALAPPLICANTID) FROM LEGALAPPLICANTDETAILS LDT2 
						WHERE LDT2.LEGALID = LDT1.LEGALID)) T6 ON T6.LEGALID = T1.LEGALID
				INNER JOIN CUSTOMERS T7 ON T7.CUSTID = T3.CUSTID
			]]>          		
        </createView>
	</changeSet>
	
	<changeSet id="PSD#175219.3_post" author="Gopal.p" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'legaldetails_aview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="PSD#175431.1" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_FeeAmzReferenceReport');

				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_FeeAmzReferenceReport';

				INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((select max(reportid)+1 from REPORTCONFIGURATION), 'Excel: Fee Amortization Reference', 'Fee Amortization Reference', 1, 'FeeAmortizationDetailsRpt_Header', 'dataSource', 0, 'menu_Item_FeeAmzReferenceReport', 1, '1000', '', '', '', '', '', '', '0', current_timestamp, 0, 1, 0);

				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_FeeAmzReferenceReport'), '1', 'Entity', 'LOVSEARCH', 'Entity', 'EntityCode', '', 'Entity', 'getEntityCode', 'getEntityDesc', 0, 0, 0, 0, 1, 1, '', '', '', '', '150', 0, '=', 1, '1000', 'Approved', '', '', '', '', '', '0', current_timestamp, '');

				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_FeeAmzReferenceReport'), '2', 'FinReference', 'LOVSEARCH', 'Loan Reference', 'FinReference', '', 'FinanceMain', 'getFinReference', 'getFinReference', 0, 0, 0, 0, 2, 1, ' ', ' ', ' ', ' ', '250', 0, '=', 1, '1000', 'Approved', '', '', '', '', '', '0', current_timestamp, '');

				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_FeeAmzReferenceReport'), '3', 'Date', 'DATE', 'Date', 'MONTHENDDATE', '', '---Select----', '', '', 0, 0, 0, 0, 3, 1, '', '', '', '', '150', 0, '=', 3, '1000', 'Approved', '', '', '', '', '', '0', current_timestamp, '');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="PSD#175431.2" author="Gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_FeeAmzLoanTypeReport');

				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_FeeAmzLoanTypeReport';

				INSERT INTO REPORTCONFIGURATION (REPORTID, REPORTNAME, REPORTHEADING, PROMPTREQUIRED, REPORTJASPERNAME, DATASOURCENAME, SHOWTEMPLIBRARY, MENUITEMCODE, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, ALWMULTIFORMAT, WHERECONDITION, SCHEDULEREQ) VALUES ((select max(reportid)+1 from REPORTCONFIGURATION), 'Excel: Fee Amortization Loan Type', 'Fee Amortization Loan Type', 1, 'FeeAmortizationDetailsRpt_Header_fintype', 'dataSource', 0, 'menu_Item_FeeAmzLoanTypeReport', 1, '1000', '', '', '', '', '', '', '0', current_timestamp, 0, 1, 0);

				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_FeeAmzLoanTypeReport'), '1', 'Entity', 'LOVSEARCH', 'Entity', 'EntityCode', '', 'Entity', 'getEntityCode', 'getEntityDesc', 0, 0, 0, 0, 1, 1, '', '', '', '', '150', 0, '=', 1, '1000', 'Approved', '', '', '', '', '', '0', current_timestamp, '');

				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_FeeAmzLoanTypeReport'), '2', 'FinType', 'LOVSEARCH', 'Loan Type', 'T1.FinType', '', 'FinanceType', 'getFinType', 'getFinType', 0, 0, 0, 0, 2, 1, ' ', ' ', ' ', ' ', '250', 0, '=', 1, '1000', 'Approved', '', '', '', '', '', '0', current_timestamp, '');

				INSERT INTO REPORTFILTERFIELDS (REPORTID, FIELDID, FIELDNAME, FIELDTYPE, FIELDLABEL, FIELDDBNAME, APPUTILMETHODNAME, MODULENAME, LOVHIDDENFIELDMETHOD, LOVTEXTFIELDMETHOD, MULTISELECTSEARCH, FIELDLENGTH, FIELDMAXVALUE, FIELDMINVALUE, SEQORDER, MANDATORY, FIELDCONSTRAINT, FIELDERRORMESSAGE, WHERECONDITION, STATICVALUE, FIELDWIDTH, FILTERREQUIRED, DEFAULTFILTER, VERSION, LASTMNTBY, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, LASTMNTON, FILTERFILEDS) VALUES ((SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_FeeAmzLoanTypeReport'), '3', 'Date', 'DATE', 'Date', 'MONTHENDDATE', '', '---Select----', '', '', 0, 0, 0, 0, 3, 1, '', '', '', '', '150', 0, '=', 3, '1000', 'Approved', '', '', '', '', '', '0', current_timestamp, '');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#2469.1" author="kavya.n">
		<sql>
			<![CDATA[
				Update REPORTFILTERFIELDS set lovtextfieldmethod='getCustShrtName' where reportid=179 and fieldid=1;
			]]>
		</sql>
	</changeSet>
	
	
</databaseChangeLog>