<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />

	<!-- <changeSet id="110" author="yelladas.n"> <dropUniqueConstraint tableName="CD_SCHEME_PRODUCTGROUP" constraintName="UK_CD_SCHEME_PRDCTGRP_CODE" 
		/> <dropUniqueConstraint tableName="CD_SCHEME_PRODUCTGROUP_TEMP" constraintName="UK_CDSCHM_PRDCTGRP_TEMP_CODE" /> </changeSet> -->

	 <changeSet id="111" author="yelladas.n"> <addUniqueConstraint columnNames="PromotionId,PRODUCTGROUPCODE" constraintName="UK_CDSCHM_PRDGRP_PROMID_CODE" 
		tableName="CD_SCHEME_PRODUCTGROUP" /> <addUniqueConstraint columnNames="PromotionId,PRODUCTGROUPCODE" constraintName="UK_CDSCHM_PRDGRP_PROMID_T_CODE" 
		tableName="CD_SCHEME_PRODUCTGROUP_Temp" /> </changeSet> 
	<changeSet id="112" author="yelladas.n">
		<addColumn tableName="Promotions">
			<column name="cbFrmMnf" type="number(19,0)" />
			<column name="mnfCbToCust" type="number(19,0)" />
			<column name="dlrCbToCust" type="number(19,0)" />
			<column name="cbPyt" type="varchar(60)" />
			<column name="dbd" type="boolean" />
			<column name="mbd" type="boolean" />
			<column name="dbdPerc " type="number(19,0)" />
			<column name="dbdPercCal" type="varchar(60)" />
			<column name="dbdRtnd" type="boolean" />
			<column name="mbdRtnd" type="boolean" />
			<column name="knckOffDueAmt" type="boolean" />
			<column name="dbdFeeTypId" type="number(19,0)" />
			<column name="mbdFeeTypId" type="number(19,0)" />
			<column name="dbdAndMbdFeeTypId" type="number(19,0)" />
		</addColumn>
	</changeSet>


	<changeSet id="113" author="yelladas.n">
		<addColumn tableName="Promotions_Temp">
			<column name="cbFrmMnf" type="number(19,0)" />
			<column name="mnfCbToCust" type="number(19,0)" />
			<column name="dlrCbToCust" type="number(19,0)" />
			<column name="cbPyt" type="varchar(60)" />
			<column name="dbd" type="boolean" />
			<column name="mbd" type="boolean" />
			<column name="dbdPerc " type="number(19,0)" />
			<column name="dbdPercCal" type="varchar(60)" />
			<column name="dbdRtnd" type="boolean" />
			<column name="mbdRtnd" type="boolean" />
			<column name="knckOffDueAmt" type="boolean" />
			<column name="dbdFeeTypId" type="number(19,0)" />
			<column name="mbdFeeTypId" type="number(19,0)" />
			<column name="dbdAndMbdFeeTypId" type="number(19,0)" />
		</addColumn>
	</changeSet>

	<changeSet id="114" author="yelladas.n">
		<sql>
			<![CDATA[
				UPDATE Promotions Set cbFrmMnf = 0  where cbFrmMnf is null;
				UPDATE Promotions Set mnfCbToCust = 0 where mnfCbToCust is null;
				UPDATE Promotions Set dlrCbToCust = 0 where dlrCbToCust is null;
				UPDATE Promotions Set dbd = 0 where dbd is null;
				UPDATE Promotions Set mbd = 0 where mbd is null;
				UPDATE Promotions Set dbdPerc = 0 where dbdPerc is null;
				UPDATE Promotions Set dbdRtnd = 0 where dbdRtnd is null;
				UPDATE Promotions Set mbdRtnd = 0 where mbdRtnd is null;
				UPDATE Promotions Set knckOffDueAmt = 0 where knckOffDueAmt is null;
				UPDATE Promotions Set dbdFeeTypId = 0 where dbdFeeTypId is null;
				UPDATE Promotions Set mbdFeeTypId = 0 where mbdFeeTypId is null;
				UPDATE Promotions Set dbdAndMbdFeeTypId = 0 where dbdAndMbdFeeTypId is null;
				UPDATE Promotions_Temp Set cbFrmMnf = 0  where cbFrmMnf is null;
				UPDATE Promotions_Temp Set mnfCbToCust = 0 where mnfCbToCust is null;
				UPDATE Promotions_Temp Set dlrCbToCust = 0 where dlrCbToCust is null;
				UPDATE Promotions_Temp Set dbd = 0 where dbd is null;
				UPDATE Promotions_Temp Set mbd = 0 where mbd is null;
				UPDATE Promotions_Temp Set dbdPerc = 0 where dbdPerc is null;
				UPDATE Promotions_Temp Set dbdRtnd = 0 where dbdRtnd is null;
				UPDATE Promotions_Temp Set mbdRtnd = 0 where mbdRtnd is null;
				UPDATE Promotions_Temp Set knckOffDueAmt = 0 where knckOffDueAmt is null;
				UPDATE Promotions_Temp Set dbdFeeTypId = 0 where dbdFeeTypId is null;
				UPDATE Promotions_Temp Set mbdFeeTypId = 0 where mbdFeeTypId is null;
				UPDATE Promotions_Temp Set dbdAndMbdFeeTypId = 0 where dbdAndMbdFeeTypId is null;
				
			]]>
		</sql>
	</changeSet>

	<changeSet id="115" author="yelladas.n" dbms="mssql">
		<sql>
			<![CDATA[	
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_CFRMF DEFAULT 0 FOR cbFrmMnf;
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_MFBTC DEFAULT 0 FOR mnfCbToCust;
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_DCTCT DEFAULT 0 FOR dlrCbToCust;
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_DBD DEFAULT 0 FOR dbd;
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_MBD DEFAULT 0 FOR mbd;
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_DBRTD DEFAULT 0 FOR dbdRtnd;
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_MBRTD DEFAULT 0 FOR mbdRtnd;
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_PRSQ DEFAULT 0 FOR knckOffDueAmt;
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_DBFTID DEFAULT 0 FOR dbdFeeTypId;
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_MBFTID DEFAULT 0 FOR mbdFeeTypId;
				ALTER TABLE Promotions ADD CONSTRAINT DF_Promotions_DBMFTID DEFAULT 0 FOR dbdAndMbdFeeTypId;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_CFRMF DEFAULT 0 FOR cbFrmMnf;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_MFBTC DEFAULT 0 FOR mnfCbToCust;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_DCTCT DEFAULT 0 FOR dlrCbToCust;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_DBD DEFAULT 0 FOR dbd;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_MBD DEFAULT 0 FOR mbd;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_DBRTD DEFAULT 0 FOR dbdRtnd;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_MBRTD DEFAULT 0 FOR mbdRtnd;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_PRSQ DEFAULT 0 FOR knckOffDueAmt;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_DBFTID DEFAULT 0 FOR dbdFeeTypId;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_MBFTID DEFAULT 0 FOR mbdFeeTypId;
				ALTER TABLE Promotions_Temp ADD CONSTRAINT DF_Promotions_Temp_DBMFTID DEFAULT 0 FOR dbdAndMbdFeeTypId;
			]]>
		</sql>
	</changeSet>

	<changeSet id="116" author="yelladas.n" dbms="postgresql, oracle">
		<addDefaultValue columnName="cbFrmMnf" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="mnfCbToCust" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="dlrCbToCust" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="dbd" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="mbd" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="dbdRtnd" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="mbdRtnd" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="knckOffDueAmt" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="dbdFeeTypId" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="mbdFeeTypId" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="dbdAndMbdFeeTypId" tableName="Promotions" defaultValue="0" />
		<addDefaultValue columnName="cbFrmMnf" tableName="Promotions_Temp" defaultValue="0" />
		<addDefaultValue columnName="mnfCbToCust" tableName="Promotions_Temp" defaultValue="0" />
		<addDefaultValue columnName="dlrCbToCust" tableName="Promotions_Temp" defaultValue="0" />
		<addDefaultValue columnName="dbd" tableName="Promotions_Temp" defaultValue="0" />
		<addDefaultValue columnName="mbd" tableName="Promotions_Temp" defaultValue="0" />
		<addDefaultValue columnName="dbdRtnd" tableName="Promotions_Temp" defaultValue="0" />
		<addDefaultValue columnName="mbdRtnd" tableName="Promotions_Temp" defaultValue="0" />
		<addDefaultValue columnName="knckOffDueAmt" tableName="Promotions_Temp" defaultValue="0" />
		<addDefaultValue columnName="dbdFeeTypId" tableName="Promotions_Temp" defaultValue="0" />
		<addDefaultValue columnName="mbdFeeTypId" tableName="Promotions_Temp" defaultValue="0" />
		<addDefaultValue columnName="dbdAndMbdFeeTypId" tableName="Promotions_Temp" defaultValue="0" />
	</changeSet>

	<changeSet id="117" author="yelladas.n">
		<createView viewName="PROMOTIONS_AVIEW" replaceIfExists="true">
		<![CDATA[
                SELECT t1.promotionid,
			    t1.promotioncode,
			    t1.promotiondesc,
			    t1.fintype,
			    t1.startdate,
			    t1.enddate,
			    t1.finisdwpayrequired,
			    t1.downpayrule,
			    t1.actualinterestrate,
			    t1.finbaserate,
			    t1.finsplrate,
			    t1.finmargin,
			    t1.applyrpypricing,
			    t1.rpypricingmethod,
			    t1.finminterm,
			    t1.finmaxterm,
			    t1.finminamount,
			    t1.finmaxamount,
			    t1.finminrate,
			    t1.finmaxrate,
			    t1.active,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t2.finccy,
			    t2.fincategory,
			    t2.fintypedesc,
			    t3.rulecode AS downpayrulecode,
			    t3.rulecodedesc AS downpayruledesc,
			    t4.rulecode AS rpypricingcode,
			    t4.rulecodedesc AS rpypricingdesc,
			    t1.ReferenceID,   
				t1.OpenBalOnPV, 
				t1.Tenor, 
				t1.AdvEMITerms, 
				t1.PftDaysBasis, 
				t1.SubventionRate,
			    t1.TaxApplicable, 
				t1.cashBackFromDealer, 
				t1.cashBackToCustomer, 
				t2.ProductCategory, 
				t1.specialScheme,
				t1.remarks,
                t1.mnfCbToCust,
				t1.dlrCbToCust,
				t1.cbPyt,
				t1.dbd,
				t1.mbd,
				t1.dbdPerc,
				t1.dbdPercCal,
				t1.dbdRtnd,
				t1.mbdRtnd,
				t1.knckOffDueAmt,
				t1.dbdFeeTypId,
				t1.mbdFeeTypId,
				t1.dbdAndMbdFeeTypId
			   FROM promotions t1
			     JOIN rmtfinancetypes t2 ON t1.fintype = t2.fintype
			     LEFT JOIN rules t3 ON t1.downpayrule = t3.ruleid
			     LEFT JOIN rules t4 ON t1.rpypricingmethod = t4.ruleid;
           
			
        ]]>
	</createView>
	</changeSet>

	<changeSet id="118" author="yelladas.n">
		<createView viewName="PROMOTIONS_TVIEW" replaceIfExists="true">
		<![CDATA[
		      
                SELECT t1.promotionid,
			    t1.promotioncode,
			    t1.promotiondesc,
			    t1.fintype,
			    t1.startdate,
			    t1.enddate,
			    t1.finisdwpayrequired,
			    t1.downpayrule,
			    t1.actualinterestrate,
			    t1.finbaserate,
			    t1.finsplrate,
			    t1.finmargin,
			    t1.applyrpypricing,
			    t1.rpypricingmethod,
			    t1.finminterm,
			    t1.finmaxterm,
			    t1.finminamount,
			    t1.finmaxamount,
			    t1.finminrate,
			    t1.finmaxrate,
			    t1.active,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t2.finccy,
			    t2.fincategory,
			    t2.fintypedesc,
			    t3.rulecode AS downpayrulecode,
			    t3.rulecodedesc AS downpayruledesc,
			    t4.rulecode AS rpypricingcode,
			    t4.rulecodedesc AS rpypricingdesc,
			    t1.ReferenceID, 
				t1.OpenBalOnPV, 
				t1.Tenor,
				t1.AdvEMITerms,
				t1.PftDaysBasis, 
				t1.SubventionRate,
			    t1.TaxApplicable,
				t1.cashBackFromDealer, 
				t1.cashBackToCustomer, 
				t2.ProductCategory,
				t1.specialScheme,
				t1.remarks,
                t1.mnfCbToCust,
				t1.dlrCbToCust,
				t1.cbPyt,
				t1.dbd,
				t1.mbd,
				t1.dbdPerc,
				t1.dbdPercCal,
				t1.dbdRtnd,
				t1.mbdRtnd,
				t1.knckOffDueAmt,
				t1.dbdFeeTypId,
				t1.mbdFeeTypId,
				t1.dbdAndMbdFeeTypId
			   FROM promotions_temp t1
			     JOIN rmtfinancetypes t2 ON t1.fintype = t2.fintype
			     LEFT JOIN rules t3 ON t1.downpayrule = t3.ruleid
			     LEFT JOIN rules t4 ON t1.rpypricingmethod = t4.ruleid;
        ]]>
	</createView>
	</changeSet>

	<changeSet id="119" author="yelladas.n" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'promotions_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="119" author="yelladas.n">
		<createView viewName="Promotions_VIEW" replaceIfExists="true">
		<![CDATA[
	      SELECT t1.promotionid,
			    t1.promotioncode,
			    t1.promotiondesc,
			    t1.fintype,
			    t1.startdate,
			    t1.enddate,
			    t1.finisdwpayrequired,
			    t1.downpayrule,
			    t1.actualinterestrate,
			    t1.finbaserate,
			    t1.finsplrate,
			    t1.finmargin,
			    t1.applyrpypricing,
			    t1.rpypricingmethod,
			    t1.finminterm,
			    t1.finmaxterm,
			    t1.finminamount,
			    t1.finmaxamount,
			    t1.finminrate,
			    t1.finmaxrate,
			    t1.active,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t2.finccy,
			    t2.fincategory,
			    t2.fintypedesc,
			    t3.rulecode AS downpayrulecode,
			    t3.rulecodedesc AS downpayruledesc,
			    t4.rulecode AS rpypricingcode,
			    t4.rulecodedesc AS rpypricingdesc,
			    t1.ReferenceID, 
				t1.OpenBalOnPV, 
				t1.Tenor, 
				t1.AdvEMITerms, 
				t1.PftDaysBasis, 
				t1.SubventionRate,
			    t1.TaxApplicable, 
				t1.cashBackFromDealer, 
				t1.cashBackToCustomer, 
				t2.ProductCategory,
				t1.specialScheme,
				t1.remarks,
                t1.mnfCbToCust,
				t1.dlrCbToCust,
				t1.cbPyt,
				t1.dbd,
				t1.mbd,
				t1.dbdPerc,
				t1.dbdPercCal,
				t1.dbdRtnd,
				t1.mbdRtnd,
				t1.knckOffDueAmt,
				t1.dbdFeeTypId,
				t1.mbdFeeTypId,
				t1.dbdAndMbdFeeTypId
			   FROM promotions_temp t1
			     JOIN rmtfinancetypes t2 ON t1.fintype = t2.fintype
			     LEFT JOIN rules t3 ON t1.downpayrule = t3.ruleid
			     LEFT JOIN rules t4 ON t1.rpypricingmethod = t4.ruleid
			UNION ALL
			 SELECT t1.promotionid,
			    t1.promotioncode,
			    t1.promotiondesc,
			    t1.fintype,
			    t1.startdate,
			    t1.enddate,
			    t1.finisdwpayrequired,
			    t1.downpayrule,
			    t1.actualinterestrate,
			    t1.finbaserate,
			    t1.finsplrate,
			    t1.finmargin,
			    t1.applyrpypricing,
			    t1.rpypricingmethod,
			    t1.finminterm,
			    t1.finmaxterm,
			    t1.finminamount,
			    t1.finmaxamount,
			    t1.finminrate,
			    t1.finmaxrate,
			    t1.active,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t2.finccy,
			    t2.fincategory,
			    t2.fintypedesc,
			    t3.rulecode AS downpayrulecode,
			    t3.rulecodedesc AS downpayruledesc,
			    t4.rulecode AS rpypricingcode,
			    t4.rulecodedesc AS rpypricingdesc,
			    t1.ReferenceID,
				t1.OpenBalOnPV, 
				t1.Tenor, 
				t1.AdvEMITerms, 
				t1.PftDaysBasis, 
				t1.SubventionRate,
			    t1.TaxApplicable, 
				t1.cashBackFromDealer, 
				t1.cashBackToCustomer, 
				t2.ProductCategory,
				t1.specialScheme,
				t1.remarks,
                t1.mnfCbToCust,
				t1.dlrCbToCust,
				t1.cbPyt,
				t1.dbd,
				t1.mbd,
				t1.dbdPerc,
				t1.dbdPercCal,
				t1.dbdRtnd,
				t1.mbdRtnd,
				t1.knckOffDueAmt,
				t1.dbdFeeTypId,
				t1.mbdFeeTypId,
				t1.dbdAndMbdFeeTypId
			   FROM promotions t1
			     JOIN rmtfinancetypes t2 ON t1.fintype = t2.fintype
			     LEFT JOIN rules t3 ON t1.downpayrule = t3.ruleid
			     LEFT JOIN rules t4 ON t1.rpypricingmethod = t4.ruleid
			  WHERE NOT (EXISTS ( SELECT 1
			           FROM promotions_temp
			          WHERE promotions_temp.promotioncode = t1.promotioncode AND promotions_temp.promotionid = t1.promotionid));

        ]]>
     </createView>
	</changeSet>

	<changeSet id="119" author="yelladas.n" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'promotions_view');
			]]>
		</sql>
	</changeSet>

	<changeSet id="120" author="yelladas.n">
		<sql>
			<![CDATA[
			
			    UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
				
			       					
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'PromotionDialog_CashBackFromTheManufacturer','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
				     INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'PromotionDialog_ManufacturerCashbackToTheCustomer','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
				     INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_DealerCashBackToTheCustomer','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
				     INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_CashBackPayoutOptions','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_DBD','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_MBD','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_DBDPercentage','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_DBDPercentageCalculationOn','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_DBDRetained','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_MBDRetained','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_KnockoffOverDueAmountWithCashbackAmount','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_DBDFeeType','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_MBDFeeType','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					 INSERT INTO SECRIGHTS values ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'PromotionDialog_DBDAndMBDFeeType','PromotionDialog',0,1000,CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
					
					 INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_CashBackFromTheManufacturer'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_ManufacturerCashbackToTheCustomer'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_DealerCashBackToTheCustomer'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_CashBackPayoutOptions'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_DBD'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_MBD'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_DBDPercentage'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_DBDPercentageCalculationOn'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_DBDRetained'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_MBDRetained'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_KnockoffOverDueAmountWithCashbackAmount'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_DBDFeeType'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_MBDFeeType'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				     INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PROMOTION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PromotionDialog_DBDAndMBDFeeType'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				   
				     UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS);
				     UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			   ]]>
		</sql>
	</changeSet>

</databaseChangeLog>