<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />


	<changeSet id="pre_run_for_pgp" author="Adarsh" runAlways="true" dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>

	<changeSet id="1.1" author="vijaya.a">
		<sql>
			<![CDATA[
				UPDATE RBFIELDDETAILS SET MODULECODE = 'CustomerCategory', RBFLDDESC = 'Customer Category' WHERE RBFLDDESC = 'Customer Catery' AND RBFLDNAME  = 'ct_custCtgCode' AND RBMODULE = 'LTVRULE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="1" author="gopal.p">
		<sql>
			<![CDATA[
			    DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_EXPORT_HDFC');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_EXPORT_HDFC');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_EXPORT_HDFC';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'DISB_EXPORT_HDFC', 'HDFC Bank Disbursements[NEFT/RTGS/CHEQUE/DD] Download.', 2, null, null, null, ',', 0, 0, null, null, null,'A', '/opt/pff/hdfc/disbursements/request', 'HDFC_', '.csv', 1, current_timestamp, '${ddmm},.${SEQ_DATE_FILE}', null, '0', null, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC'), 'DISBURSEMENT_REQUESTS', 0, 'ID', 'HEADER_ID IN (:HEADER_ID), DISBURSEMENT_TYPE = :DISBURSEMENT_TYPE', NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'DISBURSEMENT_TYPE',       0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'CUSTCIF',                 0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ACCOUNT',      0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'DISBURSEMENT_AMOUNT',     0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_NAME',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'DRAWEE_LOCATION',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PRINT_LOCATION',          0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ADDRESS1',	  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ADDRESS2',	  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ADDRESS3',	  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ADDRESS4',	  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ADDRESS5',	  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'FinReference',			  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'ID',					  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL1',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL2',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL3',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL4',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL5',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL6',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL7',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'CHEQUE_NUMBER',           0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'DISBURSEMENT_DATE',       0,'N', NULL, NULL, '${SYS_DATE}', NULL, '0', NULL, NULL, NULL, 'DATE:dd/MM/yyyy', 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'MICR_CODE',               0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'IFSC_CODE',               0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_BANK',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_BRANCH',       0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIRY_EMAIL',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
			 ]]>
		</sql>
	</changeSet>


	<changeSet id="2.1" author="gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_HDFC_IMPORT');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_HDFC_IMPORT');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_HDFC_IMPORT';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT';

				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'DISB_HDFC_IMPORT', 'HDFC Disbursement Response File.', 1, null, null, null, ',', 0, 0, null, null, null, 'C', '/opt/pff/hdfc/disbursements/reponse', 'HDFC_', '.csv', 0, current_timestamp, '${ddmm},.${SEQ_DATE_FILE}', null, '0', '', 1, 1);

				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT'), 'DISBURSEMENT_REQUESTS', 2, 'ID', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 14, 0, 0);
								
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')), 'RESP_BATCH_ID',       0, 'N', NULL, NULL,'${FILE_ID}',NULL,'0',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'DISBURSEMENT_TYPE',  0, 'N', NULL, NULL,   NULL,     NULL,'0',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'CUSTCIF',            0, 'N', NULL, NULL,   NULL,     NULL,'1',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'BENFICIARY_NAME',    0, 'N', NULL, NULL,   NULL,     NULL,'2',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'DISBURSEMENT_AMOUNT',0, 'N', NULL, NULL,   NULL,     NULL,'3',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'CHEQUE_NUMBER',      0, 'N', NULL, NULL,   NULL,     NULL,'4',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'DISBURSEMENT_DATE',  0, 'N', NULL, NULL,   NULL,     NULL,'5',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'ID',                 0, 'N', NULL, NULL,   NULL,     NULL,'6',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'PAYMENT_DETAIL1',    0, 'N', NULL, NULL,   NULL,     NULL,'7',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'PAYMENT_DETAIL2',    0, 'N', NULL, NULL,   NULL,     NULL,'8',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'BENFICIARY_ACCOUNT', 0, 'N', NULL, NULL,   NULL,     NULL,'9',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'TRANSACTIONREF',     0, 'N', NULL, NULL,   NULL,     NULL,'10', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'STATUS',             0, 'N', NULL, NULL,   NULL,     NULL,'11', NULL, NULL, NULL, NULL, 'CHECK:E,R,P');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'REJECT_REASON',      0, 'N', NULL, NULL,   NULL,     NULL,'12', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'IFSC_CODE',          0, 'N', NULL, NULL,   NULL,     NULL,'13', NULL, NULL, NULL, NULL, 'O');		
 			]]>
		</sql>
	</changeSet>


	<changeSet id="3.1" author="gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT';
							
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT';
							
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'MANDATES_EXPORT', 'Mandates export', 3, 'Mandates', NULL, NULL, ',' , 0, 0, NULL, 'ROW:{Sr.no.,Start Date,End Date,Client code,Unique reference no.,Account No.,Account Holder name,Account type,Bank Name,Bank Branch,Amount,Finreference}',  '', 'A', '/opt/pff/hdfc/mandates', 'MANDATE_', '.xlsx', '1', current_timestamp, '${ddMMYYYYHms}', NULL, 0, NULL, 1, 1);

				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT'), 'MANDATE_REQUESTS',  0, 'ID', 'PROCESS_ID = :PROCESS_ID', 'UPDATE MANDATE_REQUESTS SET BATCH_ID = :FILEID, STATUS = ''AC'' WHERE PROCESS_ID = :PROCESS_ID QUERY:UPDATE MANDATES SET STATUS =  ''AC'' WHERE MANDATEID IN (SELECT MANDATEID FROM MANDATE_REQUESTS WHERE PROCESS_ID = :PROCESS_ID AND STATUS =  ''AC'')', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'BANK_SEQ',			0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'START_DATE',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, 'YYYYMMDD', 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'END_DATE',			0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, 'YYYYMMDD', 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'CUSTCIF',			0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'MANDATEID',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'ACCT_NUMBER',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'ACCT_HOLDER_NAME',	0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'ACCT_TYPE',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'BANK_NAME',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'BRANCH_NAME',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'UPPER_LIMIT',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'FINREFERENCE',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');									
			]]>
		</sql>
	</changeSet>

	<changeSet id="4.1" author="gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT';
							
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT';
													
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'MANDATES_IMPORT', 'Mandate Response file', 12, 'Mandates', NULL, NULL, NULL, 0, 1, NULL, NULL, NULL, 'C', '/opt/pff/hdfc/mandates', 'Mandates_', '.xlsx', 0, current_timestamp, NULL, NULL, '0', NULL, 1, 1);
																
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'),'MANDATE_RESPONSE', 1, 'ID', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 14, 0, 0);
												
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'RESP_BATCH_ID',		0, 'N', NULL, NULL, '${FILE_ID}', 	NULL, '0', NULL, NULL, NULL, NULL, 'M');												
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'START_DATE', 			0, 'N', NULL, NULL, NULL,		  	NULL, '1', NULL, NULL, NULL, 'dd-MMM-yyyy', 'M');			
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'END_DATE', 			0, 'N', NULL, NULL, NULL, 			NULL, '2', NULL, NULL, NULL, 'dd-MMM-yyyy', 'O');			
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CUSTCIF', 			0, 'N', NULL, NULL, NULL, 			NULL, '3', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MANDATEID', 			0, 'N', NULL, NULL, NULL, 			NULL, '4', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'ACCT_NUMBER', 		0, 'N', NULL, NULL, NULL, 			NULL, '5', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'ACCT_HOLDER_NAME', 	0, 'N', NULL, NULL, NULL, 			NULL, '6', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'ACCT_TYPE', 			0, 'N', NULL, NULL, NULL, 			NULL, '7', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'BANK_NAME', 			0, 'N', NULL, NULL, NULL, 			NULL, '8', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'BRANCH_NAME', 		0, 'N', NULL, NULL, NULL, 			NULL, '9', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'UPPER_LIMIT', 		0, 'N', NULL, NULL, NULL, 			NULL, '10', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'FINREFERENCE', 		0, 'N', NULL, NULL, NULL, 			NULL, '11', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'STATUS', 				0, 'N', NULL, NULL, NULL, 			NULL, '12', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MANDATE_REG_NO', 		0, 'N', NULL, NULL, NULL, 			NULL, '13', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'REMARKS', 			0, 'N', NULL, NULL, NULL, 			NULL, '14', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>

	<changeSet id="6" author="gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'Y' WHERE SYSPARMCODE = 'MANDATE_ALW_PARTNER_BANK';				
			]]>
		</sql>
	</changeSet>

	<changeSet id="9" author="gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'Y' WHERE SYSPARMCODE = 'ALLOW_MANUAL_ADV_DUE_CREATION';			
			]]>
		</sql>
	</changeSet>

	<changeSet id="10.1" author="vijaya.a">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_CONSOLIDATE');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_CONSOLIDATE');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_CONSOLIDATE';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'TRIAL_BALANCE_EXPORT_CONSOLIDATE', 'Trial balance consolidate report', 2, null, null, null, ',', 0, 0, null, 'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{PARENT GROUP,PLF LEDGER, DESCRIPTION, SAP GL,OPENINGBALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}', null, 'A', '/opt/pff/hdfc', '${ENTITY_CODE}', '.csv', 0, current_timestamp, '${START_DATE}, _${END_DATE},_${HEADER_ID}', null, '0', null, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE'), 'TRIAL_BALANCE_CONSOLIDATE_VIEW', 0, 'HEADERID', null, 'UPDATE TRIAL_BALANCE_HEADER SET FILENAME = :FILE_NAME WHERE ID = :ID AND DIMENSION = :DIMENSION', null, null, null, null, null, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'ACTYPEGRPID',       0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'ACCOUNT',           0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'DESCRIPTION',       0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'HOSTACCOUNT',       0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'OPENINGBAL',        0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'OPENINGBALTYPE',    0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'DEBITAMOUNT',       0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'CREDITAMOUNT',	     0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'CLOSINGBAL',	     0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'CLOSINGBALTYPE',	 0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'FINTYPE',	  		 0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>

	<changeSet id="11.1" author="vijaya.a">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_STATE');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_STATE');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_STATE';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'TRIAL_BALANCE_EXPORT_STATE', 'SAP GL Trial Balance Report', 2, null, null, null, ',', 0, 0, null, 'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{STATE,PARENT GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}', null, 'A', '/opt/pff/hdfc/SAPGL', '${ENTITY_CODE}', '.csv', 0, current_timestamp, '${START_DATE},_${END_DATE},_${HEADER_ID}', null, '0', null, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE'), 'TRIAL_BALANCE_REPORT_FILE_VIEW', 0, 'HEADERID', null, 'UPDATE TRIAL_BALANCE_HEADER SET FILENAME = :FILE_NAME WHERE ID = :ID AND DIMENSION = :DIMENSION', null, null, null, null, null, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'STATE',       	0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')),  'ACTYPEGRPID',   0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'ACCOUNT',        0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'DESCRIPTION',    0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'HOSTACCOUNT',    0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'OPENINGBAL',     0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'OPENINGBALTYPE', 0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'DEBITAMOUNT',	0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'CREDITAMOUNT',	0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'CLOSINGBAL',	    0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'CLOSINGBALTYPE',	0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'PRODUCTFLAG',	0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>

	<changeSet id="TK#11864" author="vijaya.a">
		<sql>
           <![CDATA[
                ALTER TABLE PROMOTIONS DROP CONSTRAINT uk_promotions;
                ALTER TABLE PROMOTIONS_TEMP DROP CONSTRAINT uk_promotions_temp;
            ]]>
		</sql>
	</changeSet>

	<changeSet id="TK#11895" author="vijaya.a">
		<sql>
           <![CDATA[
                Delete from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'ADDDBSP' and RBFLDNAME = 'fm_finBranchProvinceCode';
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES', 'ADDDBSP', 'fm_finBranchProvinceCode', 'Branch Province Code', 'nvarchar', 8, '0', '1', 'RMTCountryVsProvince', 'dbvalue', 'Province');
            ]]>
		</sql>
	</changeSet>

	<changeSet id="DE#3831.3 " author="praveena" dbms="oracle">
		<sql>
			<![CDATA[
               update DATA_ENGINE_COLUMN set ruleforvalue ='if((ACTUALRATE == '''')){Result = 0;  return;}else {Result = ACTUALRATE;  return;}' where name='ACTUALRATE' and tableid in (select id from data_engine_table where configid in (select id from data_engine_config where name = 'RATE_CHANGE_UPLOAD'));
			]]>
		</sql>
	</changeSet>
	<changeSet id="DE#3831.4" author="praveena.v">
		<sql>
			<![CDATA[
				update reportfilterfields set FIELDDBNAME='P.PostDate' where reportid in (select reportid from reportconfiguration  where menuitemcode='menu_Item_LoanwiseVoucherDetail') AND FIELDID = 1;
			]]>
		</sql>
	</changeSet>

	<changeSet id="DE#3831.5" author="praveena.v">
		<sql>
			<![CDATA[
				update reportfilterfields set FIELDDBNAME='P.FinBranch' where reportid in (select reportid from reportconfiguration  where menuitemcode='menu_Item_LoanwiseVoucherDetail') AND FIELDID = 3;
			]]>
		</sql>
	</changeSet>

	<changeSet id="DE#3831.6" author="praveena.v">
		<sql>
			<![CDATA[
				update reportfilterfields set FIELDDBNAME='P.FinIsActive' where reportid in (select reportid from reportconfiguration  where menuitemcode='menu_Item_LoanwiseVoucherDetail') AND FIELDID = 4;
			]]>
		</sql>
	</changeSet>

	<changeSet id="DE#3831.7" author="praveena.v">
		<sql>
			<![CDATA[
				update reportfilterfields set FIELDDBNAME='P.fintype' where reportid in (select reportid from reportconfiguration  where menuitemcode='menu_Item_LoanwiseVoucherDetail') AND FIELDID = 5;
			]]>
		</sql>
	</changeSet>

	<changeSet id="01" author="saisandeep.b">
		<dropNotNullConstraint tableName="COVENANT_TYPES_TEMP" columnName="DOCTYPE"
			columnDataType="varchar(100)" />
		<dropNotNullConstraint tableName="COVENANT_TYPES" columnName="DOCTYPE"
			columnDataType="varchar(100)" />
	</changeSet>

	<changeSet id="01.1" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 5, AUTOEXTRACTION = 1 WHERE CODE = 'NACH';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 5, AUTOEXTRACTION = 1 WHERE CODE = 'EMNDT';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 5, AUTOEXTRACTION = 1 WHERE CODE = 'ECS';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 0, AUTOEXTRACTION = 1 WHERE CODE = 'SI';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 0, AUTOEXTRACTION = 1 WHERE CODE = 'DAS';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 3, AUTOEXTRACTION = 1 WHERE CODE = 'PDC';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 3, AUTOEXTRACTION = 1 WHERE CODE = 'IPDC';
			]]>
		</sql>
	</changeSet>

	<changeSet id="02" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = '0' WHERE SYSPARMCODE = 'NUMBEROF_UNDATED_CHEQUES';
			]]>
		</sql>
	</changeSet>

	<changeSet id="03" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'N' WHERE SYSPARMCODE = 'EOM_ON_EOD';
			]]>
		</sql>
	</changeSet>

	<changeSet id="04" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE JOB_DETAILS SET ENABLED = 1 WHERE JOBKEY = 'USER_AUTO_LOCKING_JOB';
			]]>
		</sql>
	</changeSet>

	<changeSet id="05" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE ='240' WHERE SYSPARMCODE ='BANK_CODE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="06" author="saikrishna.b">
		<sql>
			<![CDATA[
				DELETE FROM RULES WHERE RULEMODULE = 'LMTLINE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="07" author="saikrishna.b">
		<sql>
			<![CDATA[
				UPDATE DOCUMENTDETAILS SET DOCURI = NULL;
				UPDATE DOCUMENTMANAGER SET DOCURI = NULL;
				UPDATE CUSTOMERDOCUMENTS SET DOCURI = NULL;
			]]>
		</sql>
	</changeSet>

	<changeSet id="08" author="gopal.p">
		<sql>
			<![CDATA[
				UPDATE DUE_EXTRACTION_HEADER SET RECORDSTATUS = 'Approved';
				UPDATE DUE_EXTRACTION_CONFIG SET RECORDSTATUS = 'Approved';
			]]>
		</sql>
	</changeSet>

	<changeSet id="09.0" author="gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_RESPONSE');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_RESPONSE');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_RESPONSE';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'PRESENTMENT_RESPONSE', 'Presentment Default Response file.', 12, 'Presentment', NULL, NULL, NULL, 0, 1, NULL,  'Corporate User No, Corporate Name, UMRN, Customer to be debited, Customer IFSC, Customer Debit AC, Transaction ID/REF, Amount (Rs), Date of Txn, File No, Status Description, Reason Description', NULL, 'C', '/opt/pff/hdfc/presentment/response', 'Presentment_', '.xlsx', 0, current_timestamp, NULL, NULL, 0, NULL, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE'), 'PRESENTMENT_FILEIMPORT', 0, 'BatchId', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'BATCHID',         0, 'N', NULL, NULL, NULL, 			  NULL, '0',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'UMRN_NO',         0, 'N', NULL, NULL, NULL, 			  NULL, '1',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'AMOUNTCLEARED',   0, 'N', NULL, NULL, NULL, 			  NULL, '2',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'CLEARINGDATE',    0, 'N', NULL, NULL, NULL, 			  NULL, '3',  NULL, NULL,  NULL, 'dd-MMM-yyyy',     'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'BFLREFERENCENO',  0, 'N', NULL, NULL, NULL, 			  NULL, '4',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'BRANCHCODE', 	   0, 'N', NULL, NULL, NULL, 			  NULL, '5',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'AGREEMENTNO', 	   0, 'N', NULL, NULL, NULL, 			  NULL, '6',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'STATUS', 		   0, 'N', NULL, NULL, NULL, 			  NULL, '7',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'REASONCODE', 	   0, 'N', NULL, NULL, NULL, 			  NULL, '8',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'BOUNCE_REMARKS',  0, 'N', NULL, NULL, NULL, 			  NULL, '9',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'UTR_NUMBER', 	   0, 'N', NULL, NULL, NULL, 			  NULL, '10', NULL, NULL,  NULL,  NULL, 		    'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'FATECORRECTION', 0, 'N', NULL, NULL, NULL,  		  	  NULL, '11', NULL, NULL,  NULL,  NULL, 			'CHECK:Y,N');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'HEADER_ID', 	   0, 'N', NULL, NULL, '${HEADER_ID}',    NULL, '0',  NULL, NULL,  NULL,  NULL, 		    'M');
			]]>
		</sql>
	</changeSet>

	<changeSet id="10" author="gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_REQUEST');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_REQUEST');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_REQUEST';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'PRESENTMENT_REQUEST', 'PresentmentRequest.', 3, NULL, NULL, NULL, NULL, 0, 0, NULL,  'ROW:{Name, Batch ID, UMRN NO, Amount, Settelement Date, Account Type, Dealer Code, Payment Due Date, Loan Reference,}', NULL, 'A', '/opt/pff/hdfc/presentment/request', 'Presentment_', '.xlsx', 121, current_timestamp, '${SEQ_FILE},_${yyyyMMddHHmmss}', NULL, 0, NULL, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST'), 'PRESENTMENT_REQ_DETAILS', 0, 'JOB_ID', 'JOB_ID = :JOB_ID', NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'DEST_ACC_HOLDER',        0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'BATCHID',      		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'UMRN_NO',       		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'CHEQUEAMOUNT',       	  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'CycleDate',      		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, 'DATE:dd-MM-yyyy', 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'ACC_TYPE',      		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'BR_CODE',      		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'CycleDate',      		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, 'DATE:dd-MM-yyyy', 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'AGREEMENTNO',      	  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 			'O');		
			]]>
		</sql>
	</changeSet>

	<changeSet id="11" author="gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'PRESENTMENT_REQUEST' WHERE SYSPARMCODE LIKE  'PRESENTMENT_REQUEST_PDC';		
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#84.47" author="saikrishna.b">
		<sql>
			<![CDATA[
				DELETE FROM RMTLOVFIELDDETAIL WHERE FIELDCODE = 'SU_DISABLE_REASON';
				
				INSERT INTO RMTLOVFIELDDETAIL (FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_DISABLE_REASON', 'INCORRECT PASSWORD', 'INCORRECT PASSWORD', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);

				INSERT INTO RMTLOVFIELDDETAIL (FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_DISABLE_REASON', 'DORMANT', 'DORMANT', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);

				INSERT INTO RMTLOVFIELDDETAIL (FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_DISABLE_REASON', 'HR EXIT', 'HR EXIT', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#84.48" author="saikrishna.b">
		<sql>
			<![CDATA[
				DELETE FROM RMTLOVFIELDDETAIL WHERE FIELDCODE = 'SU_EMP_TYPE';
				
				INSERT INTO RMTLOVFIELDDETAIL(FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_EMP_TYPE', 'HDFC Staff', 'HDFC Staff', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);

				INSERT INTO RMTLOVFIELDDETAIL(FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_EMP_TYPE', 'HDB Staff', 'HDB Staff', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);

				INSERT INTO RMTLOVFIELDDETAIL(FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_EMP_TYPE', 'Contractual', 'Contractual', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208465" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'Y' WHERE SYSPARMCODE = 'ALLOW_DIVISION_BASED_CLUSTER';
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'Y' WHERE SYSPARMCODE ='ALLOW_ORGANISATIONAL_STRUCTURE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208579_01" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_CONFIG SET UPLOADPATH = '/opt/PFF/BASE/mandates/request' WHERE NAME = 'MANDATES_EXPORT';
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208579.1" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_CONFIG SET UPLOADPATH = '/opt/PFF/BASE/presentment/request' WHERE NAME = 'PRESENTMENT_REQUEST';
				UPDATE DATA_ENGINE_CONFIG SET UPLOADPATH = '/opt/PFF/BASE/presentment/response' WHERE NAME = 'PRESENTMENT_RESPONSE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208852.1" author="saikrishna.b">
		<sql>
			<![CDATA[
				DELETE FROM RMTLOVFIELDDETAIL WHERE FIELDCODE = 'MANDATE_HOLD_REASON';
				
				INSERT INTO RMTLOVFIELDDETAIL(FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'MANDATE_HOLD_REASON', 'CONSECUTIVE BOUNCE', 'CONSECUTIVE BOUNCE', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208579.2" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_CONFIG SET FILEEXTENSION ='.xls'  WHERE NAME ='MANDATES_IMPORT';
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208579.3" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_CONFIG SET FILEEXTENSION ='.xls' WHERE NAME ='PRESENTMENT_RESPONSE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="002" author="goutham.ch">
		<sql>
				<![CDATA[
					INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_PRMNT_RESPONSE_READING_JOB', 	'Reading SI, SIInternal and ACH response.', 						'EXT_PRMNT_RESPONSE_READING_JOB_TRIGGER', 	        '0 0/1 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
					INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_PRMNT_FILE_EXTRACTOR_JOB', 	'Reading SI, SIInternal and ACH response file data and process.', 	'EXT_PRMNT_FILE_EXTRACTOR_JOB_TRIGGER', 		    '0 0/2 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
					INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_PRMNT_FILE_PROCESSOR_JOB', 	'Reading SI, SIInternal and ACH response file record processing.', 	'EXT_PRMNT_FILE_PROCESSOR_JOB', 		            '0 0/3 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
				]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#212858" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_COLUMN SET CONSTRAINTTYPE = 'M' WHERE NAME = 'MANDATE_REG_NO' AND  TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'));
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#213507.1" author="goutham.ch">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_CONFIG), 'MANDATES_IMPORT', 'Mandate Response file upload.', '1', 'Mandates', NULL, NULL, ',', 0, 1, NULL, NULL, NULL, 'C', '/opt/pff/hdfc/mandates', 'MANDATE_', '.csv', 0, CURRENT_TIMESTAMP, NULL, NULL, '0', NULL, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'), 'MANDATE_RESPONSE', 1, 'ID', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MSG_ID', 				1, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CREATION_DATE', 		1, 'N', NULL, NULL, NULL, NULL, '1', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'INST_MEM_ID', 			1, 'N', NULL, NULL, NULL, NULL, '2', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'INST_AGENT', 			1, 'N', NULL, NULL, NULL, NULL, '3', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'INSTD_MEM_ID', 		1, 'N', NULL, NULL, NULL, NULL, '4', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'INSTD_AGENT', 			1, 'N', NULL, NULL, NULL, NULL, '5', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MANDATE_REG_NO', 		0, 'N', NULL, 'INR', NULL, NULL, '6', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MANDATE_REQ_ID', 		1, 'N', NULL, NULL, NULL, NULL, '7', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'PROPRIETARY_TYPE', 	1, 'N', NULL, NULL, NULL, NULL, '8', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'TRANS_SEQ', 			1, 'N', NULL, NULL, NULL, NULL, '9', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'FREQUENCY', 			1, 'N', NULL, NULL, NULL, NULL, '10', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'START_DATE', 			1, 'N', NULL, '', NULL, NULL, '11', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'END_DATE', 			1, 'N', NULL, NULL, NULL, NULL, '12', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CURRENCY' , 			1, 'N', NULL, NULL, NULL, NULL, '13', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'COLLECTION' , 			1, 'N', NULL, NULL, NULL, NULL, '14', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MAX_CURRENCY', 		1, 'N', NULL, NULL, NULL, NULL, '15', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'UPPER_LIMIT', 			1, 'N', NULL, NULL, NULL, NULL, '16', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'SERVICE_PROVIDER', 	1, 'N', NULL, NULL, NULL, NULL, '17', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'SP_UTILITY_CODE', 		1, 'N', NULL, NULL, NULL, NULL, '18', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CREDITOR_AGENT_ID', 	1, 'N', NULL, NULL, NULL, NULL, '19', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'DEBTOR_NAME', 			1, 'N', NULL, NULL, NULL, NULL, '20', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'FINREFERENCE', 		0, 'N', NULL, NULL, NULL, NULL, '21', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'SCHEME_NAME', 			1, 'N', NULL, NULL, NULL, NULL, '22', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'PHONE_NO', 			1, 'N', NULL, NULL, NULL, NULL, '23', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MOBILE_NO', 			1, 'N', NULL, NULL, NULL, NULL, '24', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'EMAIL_ID', 			1, 'N', NULL, NULL, NULL, NULL, '25', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MANDATEID', 			0, 'N', NULL, NULL, NULL, NULL, '26', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'ACCT_NUMBER', 			0, 'N', NULL, NULL, NULL, NULL, '27', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'DEBTOR_ACCT_TYPE', 	1, 'N', NULL, NULL, NULL, NULL, '28', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'DEBTOR_AGENT_ID', 		1, 'N', NULL, '', NULL, NULL, '29', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'STATUS', 				0, 'N', NULL, NULL, NULL, NULL, '30', NULL, 'if((STATUS == ''ACCEPTED'')){Result = ''N'';  return;} else if((STATUS == ''REJECTED'')) {Result = ''Y'';  return;} else if((STATUS == ''REJECT'')) {Result = ''Y'';  return;}else if((STATUS == ''CANCELLED'')) {Result = ''Y'';  return;}' , NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'REMARKS', 				0, 'N', NULL, NULL, NULL, NULL, '31', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'DEBTOR_AGENT_INST', 	1, 'N', NULL, NULL, NULL, NULL, '32', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MARKER_ID', 			1, 'N', NULL, NULL, NULL, NULL, '33', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MARKER_DATE', 			1, 'N', NULL, NULL, NULL, NULL, '34', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CHECKER_ID', 			1, 'N', NULL, NULL, NULL, NULL, '35', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CHECKER_DATE', 		1, 'N', NULL, NULL, NULL, NULL, '36', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'ACH_STATUS', 			1, 'N', NULL, NULL, NULL, NULL, '37', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'EVENT', 				1, 'N', NULL, NULL, NULL, NULL, '38', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'RESP_BATCH_ID', 		0, 'N', NULL, NULL, '${FILE_ID}', NULL, '39', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'VERIFICATION_DATE', 	1, 'N', NULL, NULL, NULL, NULL, '40', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#213507.2" author="goutham.ch">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_CONFIG), 'MANDATES_EXPORT', 'Mandate Download.', '2', 'Mandates', NULL, NULL, ',', 0, 0, NULL, 'Mandate Date,Sponsor Bank Code,Utility Code,Name of Utility/Biller/Bank/Company,Action,Ac Type,Legal Account Number,Name of the destination bank with Branch,IFSC Code/ Micr Code,Debit Amt of/ Upto Maximum Amt,Amount,Consumer Reference Number,Scheme/Plan Reference No,Frequency,Start date,End Date,Account Holder Name,Customer Additional Information,Telephone No,Mobile Number,E Mail ID,Image Name,Category Code', NULL, 'A', '/opt/PFF/BASE/mandates/request', 'MANDATE_', '.csv', 1, CURRENT_TIMESTAMP, '${ddMMYYYYHms}', NULL, '0', NULL, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT'), 'MANDATE_REQUESTS', 0, 'ID', 'PROCESS_ID = :PROCESS_ID', 'UPDATE MANDATE_REQUESTS SET BATCH_ID = :FILEID, STATUS = ''AC'' WHERE PROCESS_ID = :PROCESS_ID QUERY:UPDATE MANDATES SET STATUS =  ''AC'' WHERE MANDATEID IN (SELECT MANDATEID FROM MANDATE_REQUESTS WHERE PROCESS_ID = :PROCESS_ID AND STATUS =  ''AC'')', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'MANDATE_DATE', 		0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'SPONSOR_BANK', 		0, 'N', NULL, 'HDFC0000015', NULL, NULL, '1', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'UTILITY_CODE', 		0, 'N', NULL, 'HDFC00017000001103', NULL, NULL, '2', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'NAME_OF_COMPANY', 		0, 'N', NULL, 'HDFC BANK LIMITED', NULL, NULL, '3', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'ACTION', 				0, 'N', NULL, NULL, NULL, NULL, '4', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'ACCT_TYPE', 			0, 'N', NULL, NULL, NULL, NULL, '5', NULL, 'if((ACCT_TYPE == ''savings account'')){Result = ''SAVINGS'';  return;} else if((ACCT_TYPE == ''current account'')) {Result = ''CURRENT'';  return;} else if((ACCT_TYPE == ''cash credit account'')) {Result = ''CC'';  return;}', NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'ACCT_NUMBER', 			1, 'N', NULL, 'INR', NULL, NULL, '6', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'BANK_NAME', 			0, 'N', NULL, NULL, NULL, NULL, '7', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'IFSC_CODE', 			0, 'N', NULL, NULL, NULL, NULL, '8', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'UPPER_LIMIT', 			0, 'N', NULL, NULL, NULL, NULL, '9', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'AMOUNT',			 	0, 'N', NULL, NULL, NULL, NULL, '10', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'FINREFERENCE', 		1, 'N', NULL, '', NULL, NULL, '11', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'FINTYPE', 				0, 'N', NULL, NULL, NULL, NULL, '12', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'FREQUENCY', 			0, 'N', NULL, NULL, NULL, NULL, '13', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'START_DATE', 			0, 'N', NULL, NULL, NULL, NULL, '14', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'END_DATE', 			0, 'N', NULL, NULL, NULL, NULL, '15', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'ACCT_HOLDER_NAME', 	0, 'N', NULL, NULL, NULL, NULL, '16', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'MANDATEID', 			0, 'N', NULL, NULL, NULL, NULL, '17', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'TELEPHONE_NO', 		0, 'N', NULL, NULL, NULL, NULL, '18', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'CUSTOMER_PHONE', 		0, 'N', NULL, NULL, NULL, NULL, '19', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'CUSTOMER_EMAIL', 		0, 'N', NULL, NULL, NULL, NULL, '20', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'IMAGE_NAME', 			0, 'N', NULL, NULL, NULL, NULL, '21', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'CAT_CODE', 			0, 'N', NULL, '0001', NULL, NULL, '22', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="002.1" author="goutham.ch">
		<sql>
			<![CDATA[
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_PRMNT_STAGE_PROCESSOR_JOB', 'Reading External PDC response.', 'EXT_PRMNT_STAGE_PROCESSOR_JOB_TRIGGER', '0 0/3 * 1/1 * ? *', 1, 0, 1, 0, NULL, 0, 0, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="002.2" author="goutham.ch">
		<sql>
			<![CDATA[
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'SI_LIEN_MARKING_JOB',      'Fetch all SI accounts as a dump.',       'SI_LIEN_MARKING_JOB_TRIGGER',      '0 0/2 * 1/1 * ? *', 1, 0, 1, 0, NULL, 0, 0, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1);
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'SI_LIEN_FILE_WRITING_JOB', 'Write Lien request file to a location.', 'SI_LIEN_FILE_WRITING_JOB_TRIGGER', '0 0/5 * 1/1 * ? *', 1, 0, 1, 0, NULL, 0, 0, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1);
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'SI_LIEN_RESPONSE_JOB',     'Process Lien response file data.',       'SI_LIEN_RESPONSE_JOB_TRIGGER',     '0 0/4 * 1/1 * ? *', 1, 0, 1, 0, NULL, 0, 0, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1);
			]]>
		</sql>
	</changeSet>
	
	
	<changeSet id="003.2" author="goutham.ch">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_CONFIG SET PARSER = 12, WORKSHEET = 'MANDATE', FILEEXTENSION = '.xls', POSTEVENT = 'SHARE_TO_SFTP' WHERE NAME = 'MANDATES_IMPORT';
				UPDATE DATA_ENGINE_CONFIG SET PARSER = 3, HEADER = 'ROW:{Mandate Date,Sponsor Bank Code,Utility Code,Name of Utility/Biller/Bank/Company,Action,Ac Type,Legal Account Number,Name of the destination bank with Branch,IFSC Code/ Micr Code,Debit Amt of/ Upto Maximum Amt,Amount,Consumer Reference Number,Scheme/Plan Reference No,Frequency,Start date,End Date,Account Holder Name,Customer Additional Information,Telephone No,Mobile Number,E Mail ID,Image Name,Category Code}', FILEEXTENSION = '.xls' WHERE NAME = 'MANDATES_EXPORT';
				
				UPDATE DATA_ENGINE_COLUMN SET FORMAT='DATE:dd-MMM-yyyy' WHERE TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')) AND ID = (SELECT ID FROM DATA_ENGINE_COLUMN WHERE NAME = 'MANDATE_DATE' AND TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')));
				UPDATE DATA_ENGINE_COLUMN SET FORMAT='DATE:dd-MMM-yyyy' WHERE TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')) AND ID = (SELECT ID FROM DATA_ENGINE_COLUMN WHERE NAME = 'START_DATE' AND TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')));
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="PSD#215851" author="goutham.ch">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_EVENT_PROPERTIES WHERE CONFIG_ID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT') AND STORAGE_TYPE IN ('SHARE_TO_SFTP', 'SFTP');
				
				INSERT INTO DATA_ENGINE_EVENT_PROPERTIES (CONFIG_ID, STORAGE_TYPE, REGION_NAME, BUCKET_NAME, ACCESS_KEY, SECRET_KEY, PREFIX, SSE_ALGORITHM, HOST_NAME, PORT, PRIVATE_KEY) VALUES ((SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'), 'SHARE_TO_SFTP', NULL, '/sftpuser/PLF/HDFC/QC',        'sftpuser', 'Zxcvbn$@123', NULL, NULL, 'sftpserver', 22, NULL);	
				INSERT INTO DATA_ENGINE_EVENT_PROPERTIES (CONFIG_ID, STORAGE_TYPE, REGION_NAME, BUCKET_NAME, ACCESS_KEY, SECRET_KEY, PREFIX, SSE_ALGORITHM, HOST_NAME, PORT, PRIVATE_KEY) VALUES ((SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'), 'SFTP',          NULL, '/sftpuser/PLF/HDFC/QC/BackUp', 'sftpuser', 'Zxcvbn$@123', NULL, NULL, 'sftpserver', 22, NULL);
			]]>
		</sql>
	</changeSet>
	
	
	<changeSet id="PSD#207349.1" author="saikrishna.b">
		<sql>
			<![CDATA[
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0 0/1 1/1 * ? *' WHERE JOBKEY = 'USER_AUTO_LOCKING_JOB';
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="PSD#2160471.1" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'N' WHERE SYSPARMCODE = 'RECEIPTS_SHOW_ACCOUNTING_TAB';
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="002.2_post" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE JOB_DETAILS SET ENABLED = 0 WHERE JOBKEY IN ('SI_LIEN_MARKING_JOB', 'SI_LIEN_FILE_WRITING_JOB', 'SI_LIEN_RESPONSE_JOB');
			]]>
		</sql>
	</changeSet>
		
	<changeSet id="002.3_post" author="SaiKrian.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_COLUMN SET CONSTRAINTTYPE = 'O' WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID IN(SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')) AND NAME = 'REMARKS';
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="UDGAP#72.1" author="Gireesh.G">
		<sql>
			<![CDATA[
			    DELETE FROM PSLCATEGORY;
			    DELETE FROM PSLWEAKERSECTION;
			    DELETE FROM PSLPURPOSE;
			
				INSERT INTO PSLCATEGORY (CODE, DESCRIPTION) VALUES ('AGRI', 'Agriculture');
				INSERT INTO PSLCATEGORY (CODE, DESCRIPTION) VALUES ('MSME', 'MSME');
				INSERT INTO PSLCATEGORY (CODE, DESCRIPTION) VALUES ('HF', 'Housing');
				INSERT INTO PSLCATEGORY (CODE, DESCRIPTION) VALUES ('GNL', 'General');
				INSERT INTO PSLCATEGORY (CODE, DESCRIPTION) VALUES ('NPSL', 'Non-PSL');
				
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('01', 'Artisans / Village and Cottage Industries');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('02', 'Beneficiaries under differential rate of interest scheme');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('03', 'Beneficiaries under Govt. Sponsored Schemes');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('04', 'Distressed Farmers');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('05', 'Distressed Persons [other than farmers]');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('06', 'Individual Women');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('07', 'Minority (Notified)');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('08', 'Not exceeding Rs 1 lakh');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('09', 'Overdraft up to Rs.5000 under PMJDY');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('10', 'Person with Disabilities');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('11', 'SC/ST');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('12', 'Self Help Groups');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('13', 'Small and Marginal Farmers');
				
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '101', 'Farm Irrigation & related activities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '102', 'Growing of  Crops ');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '103', 'Growing of Plantation crops ');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '104', 'Purchase of Agri Inputs');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '105', 'Purchase of  Farm Machinery & Implements');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '106', 'Purchase of Farm transport Vehicles / accessories');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '107', 'Soil/Land/Farm Development Activities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '108', 'Harvesting and activities related to harvesting');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '109', 'Agricultural land purchase');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '110', 'Other allied activities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '111', 'Construction of Storage & Market yards');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '112', 'Loans to repay the debt of informal sector/ non-institutional lenders');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '113', 'Plant tissue culture and Agri-biotechnology');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '114', 'Seed production');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '115', 'Production of bio-pesticides'','' bio-fertilizer'','' and vermi composting');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '116', 'Setting up of Agriclinics and Agribusiness Centres');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '117', 'Food and Agro-processing ');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '118', 'Loans to Custom Service Units ');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '119', 'Loans  for on-lending to societies'','' NGOs & MFIs');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '120', 'Farming of Animals'','' Poultry'','' Silk worms  including sericulture');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '121', 'Animal Husbandry');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '122', 'Forestry'','' Logging & Related Service Activities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '123', 'Fishing & related activities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '201', 'Setting up new manufacturing unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '202', 'Modernization and renovation of existing manufacturing units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '203', 'Purchase of land & construction of factory shed');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '204', 'Erection of  plant & Machinery'','' equipments'','' etc.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '205', 'Purchase of fixed assets viz.'','' land'','' building'','' vehicles & equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '206', 'Working capital needs');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '207', 'Setting up new trading/service unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '208', 'Modernization and renovation of existing service units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '209', 'Business expansion');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '210', 'Construction of Warehouse  /Godown');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '211', 'Construction of factory shed');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '212', 'Purchase of commercial space for business');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '213', 'Providing assistance in supply & Marketing');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '214', 'Installation of equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('HF',   NULL, '301', 'Home Loan - Purchasing of dwelling unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('HF',   NULL, '302', 'Home Improvement Loan-Repairs to damaged dwelling unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('HF',   NULL, '303', 'Home Loan Balance Transfer');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '401', 'Pre-shipment activities -Procurement of raw materials');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '402', 'Pre-shipment activities -To carry out manufacturing process');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '403', 'Pre-shipment activities -Provide a secure warehouse for goods and raw materials.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '404', 'Preshipment activities - Process and pack the goods');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '405', 'Preshipment activities - Meet other financial cost of the business.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '406', 'Post - shipment activities-Purchase of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '407', 'Post - shipment activities-Discount of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '408', 'Post - shipment activities-Negotiation of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '409', 'Post - shipment activities-advance against  undrawn balance on export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '410', 'Post - shipment activities-advance against retention money');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '411', 'Post - shipment activities-advance against duty draw back');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '412', 'Post - shipment activities-advance against deemed exports');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '413', 'Post - shipment activities-advance against export of goods for exhibition and sale');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'ED', '451', 'Vocational purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'ED', '452', 'Non-vocational purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '501', 'Setting up new  unit - schools');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '502', 'Modernization and renovation of existing  units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '503', 'Purchase of land & construction -school');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '504', 'Erecting equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '505', 'Construction/ refurbishment of household toilets');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '506', 'Construction/ refurbishment of household level water improvements');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '507', 'Setting up new  unit - healthcare facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '508', 'Modernization and renovation of existing  units-health care facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '509', 'Purchase of land & construction - healthcare facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '551', 'Purchase and installation of solar based power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '552', 'Purchase and installation of bio-mass based power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '553', 'Purchase and installation of wind mills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '554', 'carrying out relevant activities for purchase & Installation');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '555', 'Street lighting system');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '556', 'Remote village electrification');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '557', 'Purchase and installation of micro-hydel power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '558', 'Purchase and installation of non-conventional power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'OT', '601', 'Loans to distressed persons [other than farmers  to prepay debt to non-institutional lenders');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'OT', '602', 'Purchase and supply of inputs and/or the marketing of the outputs  of beneficiaries of  state sponsored org for SC/ST');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'OT', '603', 'Miscellaneous purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '701', 'Setting up new manufacturing unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '702', 'Modernization and renovation of existing manufacturing units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '703', 'Purchase of land & construction of factory shed');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '704', 'Erection of  plant & Machinery'','' equipments'','' etc.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '705', 'Purchase of fixed assets viz.'','' land'','' building'','' vehicles & equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '706', 'Working capital needs');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '707', 'Setting up new trading/service unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '708', 'Modernization and renovation of existing service units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '709', 'Business expansion');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '710', 'Construction of Warehouse  /Godown');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '711', 'Construction of factory shed');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '712', 'Purchase of commercial space for business');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '713', 'Providing assistance in supply & Marketing');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '714', 'Installation of equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '715', 'Pre-shipment activities -Procurement of raw materials');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '716', 'Pre-shipment activities -To carry out manufacturing process');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '717', 'Pre-shipment activities -Provide a secure warehouse for goods and raw materials.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '718', 'Preshipment activities - Process and pack the goods');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '719', 'Preshipment activities - Meet other financial cost of the business.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '720', 'Post - shipment activities-Purchase of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '721', 'Post - shipment activities-Discount of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '722', 'Post - shipment activities-Negotiation of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '723', 'Post - shipment activities-advance against  undrawn balance on export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '724', 'Post - shipment activities-advance against retention money');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '725', 'Post - shipment activities-advance against duty draw back');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '726', 'Post - shipment activities-advance against deemed exports');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '727', 'Post - shipment activities-advance against export of goods for exhibition and sale');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '728', 'Vocational purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '729', 'Non-vocational purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '730', 'Setting up new  unit - schools');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '731', 'Modernization and renovation of existing  units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '732', 'Purchase of land & construction -school');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '733', 'Erecting equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '734', 'Construction/ refurbishment of household toilets');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '735', 'Construction/ refurbishment of household level water improvements');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '736', 'Setting up new  unit - healthcare facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '737', 'Modernization and renovation of existing  units-health care facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '738', 'Purchase of land & construction - healthcare facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '739', 'Purchase and installation of solar based power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '740', 'Purchase and installation of bio-mass based power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '741', 'Purchase and installation of wind mills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '742', 'carrying out relevant activities for purchase & Installation');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '743', 'Street lighting system');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '744', 'Remote village electrification');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '745', 'Purchase and installation of micro-hydel power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '746', 'Purchase and installation of non-conventional power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '747', 'Loans to distressed persons [other than farmers  to prepay debt to non-institutional lenders');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '748', 'Purchase and supply of inputs and/or the marketing of the outputs  of beneficiaries of  state sponsored org for SC/ST');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '749', 'Home Loan - Purchasing of dwelling unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '750', 'Home Improvement Loan-Repairs to damaged dwelling unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '751', 'Home Loan Balance Transfer');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '752', 'Miscellaneous purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '753', 'Consumption purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '754', 'Marriage expenses');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '755', 'Personal needs');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '756', 'Medical expenses');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '757', 'Travel expenses');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="UDGAP#72.2" author="Gireesh.G">
		<sql>
			<![CDATA[
				DELETE FROM PSLENDUSE;
				
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1001', 'Farm Irrigation - Borewell');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1002', 'Farm Irrigation - Drip irrigation / sprinkler irrigation');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1003', 'Farm Irrigation - Dug well');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1004', 'Farm Irrigation - Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1005', 'Farm Irrigation - Pumpset');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1006', 'Farm Irrigation - Tube well irrigation');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1007', 'Construction of pump houses');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1008', 'Development of irrigation potentials');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1009', 'Digging'','' repairs and cleaning of wells and'','' ponds');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1010', 'Finance to dealers in drip irrigation/ sprinkler irrigation system/ agricultural machinery');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1101', 'Growing of cereals');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1102', 'Growing of pulses');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1103', 'Growing of oilseeds including peanuts or soya beans');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1104', 'Growing of sugarcane or sugar beet');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1105', 'Growing of cotton');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1106', 'Growing of Jute'','' Mesta'','' Sun hemp or other kindred/ other vegetable textile fibre plants ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1107', 'Growing of tobacco');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1108', 'Growing of vegetables (Olericulture)'','' Including Singhara'','' Makhana'','' Chillies and Mushroom cultivation');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1109', 'Growing of flowers (Floriculture)'','' horticultural specialties and nursery products');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1110', 'Growing of plants used chiefly in pharmacy (medicinal plants) or for insecticide'','' fungicidal or similar purposes');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1111', 'Growing of other food & cash crops');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1201', 'Growing of tea or mate leaves by tea estates/gardens ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1202', 'Growing of coffee or cocoa beans');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1203', 'Growing of rubber trees');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1204', 'Harvesting of latex and treatment on the plantation of the liquid latex for the purpose of transport or preservation');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1205', 'Growing of fruit crops including setting up and maintenance of orchard');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1206', 'Growing of edible nuts including coconuts');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1207', 'Growing of spice crops ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1208', 'Growing of any other plantation crops');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('104', '1301', 'Manures & Fertilizers');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('104', '1302', 'Seeds');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('104', '1303', 'Insecticides / Pesticides');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('104', '1304', 'Diesel / Oil');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('104', '1305', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('105', '1401', 'Purchase of tractors');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('105', '1402', 'Purchase of  harvesters');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('105', '1403', 'Purchase of  transplanters');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('105', '1404', 'Purchase of Power tillers');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('105', '1405', 'Agricultural implements & tools'','' accessories');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('106', '1501', 'Purchase of trucks'','' mini trucks'','' jeeps');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('106', '1502', 'Purchase of  pick up vans'','' trailers'','' semi-trailers ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('106', '1503', 'Other transport equipments to assist the transport of agricultural inputs and farm products');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1601', 'Land leveling');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1602', 'Bunding/ soil conservation'',''');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1603', 'Reclamation of land');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1604', 'Watershed development');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1605', 'Water management');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1606', 'Organic farming');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1701', 'Spraying');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1702', 'Weeding');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1703', 'Harvesting');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1704', 'Sorting');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1705', 'Grading');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1706', 'Transporting of own farm produce');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('109', '1801', 'Loans to small and marginal farmers for purchase of land for agricultural purposes. ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('109', '1802', 'Loans to other farmers for purchase of land for agricultural purposes');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1901', 'Transporting of agricultural produce');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1902', 'Marketing of agriculture produce');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1903', 'Purchase of bullocks and other animals');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1904', 'Purchase of bullock cart');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1905', 'Pledge/hypothecation of agricultural produce (including warehouse receipts)');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1906', 'Loans to farmers under the Kisan Credit Card Scheme. ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1907', 'Cotton Ginning'','' Cleaning and Bailing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('111', '2001', 'Loans for construction and running of warehouses');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('111', '2002', 'Loans for construction and running of  godowns');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('111', '2003', 'Loans for construction and running of  silos/market yards ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('111', '2004', 'Loans for construction and running of  Cold storages');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('112', '2101', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('113', '2201', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('114', '2301', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('115', '2401', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('116', '2501', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('117', '2601', 'Dairy'','' Fruit & vegetable processing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('117', '2602', 'Grain Processing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('117', '2603', 'Meat & poultry Processing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('117', '2607', 'Consumer Foods including Packaged Foods');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('118', '2701', 'To undertake farm work for farmers on contract basis. ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('119', '2801', 'Primary Agricultural Credit Societies (PACS)'','' ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('119', '2802', 'Farmers Service Societies (FSS) ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('119', '2803', 'Large-sized Adivasi MultiPurpose Societies (LAMPS) ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('119', '2804', 'Loans to NCDC/ NGOs/ MFIs for on-lending to agriculture and allied activities');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2901', 'Dairying--Cow'','' buffalo'','' Including Cattle  breeding');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2902', 'commercial dairy'','' production of raw milk  and bovine semen');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2903', 'Construction of cattle sheds');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2904', 'Dairying -  rearing and ranching');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2905', 'Rearing of goats'','' production of milk ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2906', 'Sheep'','' Production of shorn wool');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2907', 'Raising of poultry (including broiler) and other domesticated birds');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2908', 'Production of eggs and operation of poultry hatcheries ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2909', 'Construction of poultry sheds');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2910', 'Raising of silk worms including production of silk worm cocoons');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2911', 'Sericulture');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2912', 'Other animal farming ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3001', 'Activities to promote propagation'','' growth and output of animals and to obtain animal products');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3002', 'Egg cleaning and grading');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3003', 'Animal skinning and related activities');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3004', 'Herd testing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3005', 'Poultry caponizing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3006', 'Coop cleaning');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3007', 'Dung gathering');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3008', 'Others animal Husbandry activities');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3101', 'Growing of standing timber');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3102', 'Social Forestry');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3103', 'Operation of tree nurseries');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3104', 'Logging camps and loggers primarily engaged in felling timber and producing wood in the rough form');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3105', 'Timber cruising'','' timber evaluation');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3106', 'Fire fighting and forest management');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3107', 'Transport of logs in association with logging chiefly within the forest');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3108', 'Other forestry related activities');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('123', '3201', 'Aquaculture');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('123', '3202', 'Fishing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('123', '3203', 'Operation of fish hatcheries and fish farms');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('123', '3203', 'Service activities incidental to fishing');

		]]>
		</sql>
	</changeSet>
	
</databaseChangeLog>