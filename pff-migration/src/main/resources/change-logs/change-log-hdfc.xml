<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />


	<changeSet id="pre_run_for_pgp" author="Adarsh" runAlways="true" dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>

	<changeSet id="1.1" author="vijaya.a">
		<sql>
			<![CDATA[
				UPDATE RBFIELDDETAILS SET MODULECODE = 'CustomerCategory', RBFLDDESC = 'Customer Category' WHERE RBFLDDESC = 'Customer Catery' AND RBFLDNAME  = 'ct_custCtgCode' AND RBMODULE = 'LTVRULE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="1" author="gopal.p">
		<sql>
			<![CDATA[
			    DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_EXPORT_HDFC');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_EXPORT_HDFC');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_EXPORT_HDFC';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'DISB_EXPORT_HDFC', 'HDFC Bank Disbursements[NEFT/RTGS/CHEQUE/DD] Download.', 2, null, null, null, ',', 0, 0, null, null, null,'A', '/opt/pff/hdfc/disbursements/request', 'HDFC_', '.csv', 1, current_timestamp, '${ddmm},.${SEQ_DATE_FILE}', null, '0', null, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC'), 'DISBURSEMENT_REQUESTS', 0, 'ID', 'HEADER_ID IN (:HEADER_ID), DISBURSEMENT_TYPE = :DISBURSEMENT_TYPE', NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'DISBURSEMENT_TYPE',       0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'CUSTCIF',                 0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ACCOUNT',      0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'DISBURSEMENT_AMOUNT',     0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_NAME',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'DRAWEE_LOCATION',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PRINT_LOCATION',          0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ADDRESS1',	  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ADDRESS2',	  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ADDRESS3',	  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ADDRESS4',	  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_ADDRESS5',	  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'FinReference',			  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'ID',					  0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL1',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL2',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL3',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL4',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL5',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL6',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'PAYMENT_DETAIL7',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'CHEQUE_NUMBER',           0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'DISBURSEMENT_DATE',       0,'N', NULL, NULL, '${SYS_DATE}', NULL, '0', NULL, NULL, NULL, 'DATE:dd/MM/yyyy', 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'MICR_CODE',               0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'IFSC_CODE',               0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_BANK',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIARY_BRANCH',       0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_EXPORT_HDFC')), 'BENFICIRY_EMAIL',         0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
			 ]]>
		</sql>
	</changeSet>


	<changeSet id="2.1" author="gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_HDFC_IMPORT');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_HDFC_IMPORT');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_HDFC_IMPORT';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT';

				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'DISB_HDFC_IMPORT', 'HDFC Disbursement Response File.', 1, null, null, null, ',', 0, 0, null, null, null, 'C', '/opt/pff/hdfc/disbursements/reponse', 'HDFC_', '.csv', 0, current_timestamp, '${ddmm},.${SEQ_DATE_FILE}', null, '0', '', 1, 1);

				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT'), 'DISBURSEMENT_REQUESTS', 2, 'ID', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 14, 0, 0);
								
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')), 'RESP_BATCH_ID',       0, 'N', NULL, NULL,'${FILE_ID}',NULL,'0',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'DISBURSEMENT_TYPE',  0, 'N', NULL, NULL,   NULL,     NULL,'0',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'CUSTCIF',            0, 'N', NULL, NULL,   NULL,     NULL,'1',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'BENFICIARY_NAME',    0, 'N', NULL, NULL,   NULL,     NULL,'2',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'DISBURSEMENT_AMOUNT',0, 'N', NULL, NULL,   NULL,     NULL,'3',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'CHEQUE_NUMBER',      0, 'N', NULL, NULL,   NULL,     NULL,'4',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'DISBURSEMENT_DATE',  0, 'N', NULL, NULL,   NULL,     NULL,'5',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'ID',                 0, 'N', NULL, NULL,   NULL,     NULL,'6',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'PAYMENT_DETAIL1',    0, 'N', NULL, NULL,   NULL,     NULL,'7',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'PAYMENT_DETAIL2',    0, 'N', NULL, NULL,   NULL,     NULL,'8',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'BENFICIARY_ACCOUNT', 0, 'N', NULL, NULL,   NULL,     NULL,'9',  NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'TRANSACTIONREF',     0, 'N', NULL, NULL,   NULL,     NULL,'10', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'STATUS',             0, 'N', NULL, NULL,   NULL,     NULL,'11', NULL, NULL, NULL, NULL, 'CHECK:E,R,P');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'REJECT_REASON',      0, 'N', NULL, NULL,   NULL,     NULL,'12', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_HDFC_IMPORT')),  'IFSC_CODE',          0, 'N', NULL, NULL,   NULL,     NULL,'13', NULL, NULL, NULL, NULL, 'O');		
 			]]>
		</sql>
	</changeSet>


	<changeSet id="3.1" author="gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT';
							
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT';
							
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'MANDATES_EXPORT', 'Mandates export', 3, 'Mandates', NULL, NULL, ',' , 0, 0, NULL, 'ROW:{Sr.no.,Start Date,End Date,Client code,Unique reference no.,Account No.,Account Holder name,Account type,Bank Name,Bank Branch,Amount,Finreference}',  '', 'A', '/opt/pff/hdfc/mandates', 'MANDATE_', '.xlsx', '1', current_timestamp, '${ddMMYYYYHms}', NULL, 0, NULL, 1, 1);

				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT'), 'MANDATE_REQUESTS',  0, 'ID', 'PROCESS_ID = :PROCESS_ID', 'UPDATE MANDATE_REQUESTS SET BATCH_ID = :FILEID, STATUS = ''AC'' WHERE PROCESS_ID = :PROCESS_ID QUERY:UPDATE MANDATES SET STATUS =  ''AC'' WHERE MANDATEID IN (SELECT MANDATEID FROM MANDATE_REQUESTS WHERE PROCESS_ID = :PROCESS_ID AND STATUS =  ''AC'')', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'BANK_SEQ',			0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'START_DATE',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, 'YYYYMMDD', 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'END_DATE',			0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, 'YYYYMMDD', 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'CUSTCIF',			0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'MANDATEID',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'ACCT_NUMBER',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'ACCT_HOLDER_NAME',	0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'ACCT_TYPE',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'BANK_NAME',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'BRANCH_NAME',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'UPPER_LIMIT',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')),	'FINREFERENCE',		0,'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');									
			]]>
		</sql>
	</changeSet>

	<changeSet id="4.1" author="gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT';
							
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT';
													
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'MANDATES_IMPORT', 'Mandate Response file', 12, 'Mandates', NULL, NULL, NULL, 0, 1, NULL, NULL, NULL, 'C', '/opt/pff/hdfc/mandates', 'Mandates_', '.xlsx', 0, current_timestamp, NULL, NULL, '0', NULL, 1, 1);
																
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'),'MANDATE_RESPONSE', 1, 'ID', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 14, 0, 0);
												
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'RESP_BATCH_ID',		0, 'N', NULL, NULL, '${FILE_ID}', 	NULL, '0', NULL, NULL, NULL, NULL, 'M');												
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'START_DATE', 			0, 'N', NULL, NULL, NULL,		  	NULL, '1', NULL, NULL, NULL, 'dd-MMM-yyyy', 'M');			
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'END_DATE', 			0, 'N', NULL, NULL, NULL, 			NULL, '2', NULL, NULL, NULL, 'dd-MMM-yyyy', 'O');			
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CUSTCIF', 			0, 'N', NULL, NULL, NULL, 			NULL, '3', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MANDATEID', 			0, 'N', NULL, NULL, NULL, 			NULL, '4', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'ACCT_NUMBER', 		0, 'N', NULL, NULL, NULL, 			NULL, '5', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'ACCT_HOLDER_NAME', 	0, 'N', NULL, NULL, NULL, 			NULL, '6', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'ACCT_TYPE', 			0, 'N', NULL, NULL, NULL, 			NULL, '7', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'BANK_NAME', 			0, 'N', NULL, NULL, NULL, 			NULL, '8', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'BRANCH_NAME', 		0, 'N', NULL, NULL, NULL, 			NULL, '9', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'UPPER_LIMIT', 		0, 'N', NULL, NULL, NULL, 			NULL, '10', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'FINREFERENCE', 		0, 'N', NULL, NULL, NULL, 			NULL, '11', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'STATUS', 				0, 'N', NULL, NULL, NULL, 			NULL, '12', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MANDATE_REG_NO', 		0, 'N', NULL, NULL, NULL, 			NULL, '13', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'MANDATE_RESPONSE' AND CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'REMARKS', 			0, 'N', NULL, NULL, NULL, 			NULL, '14', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>

	<changeSet id="6" author="gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'Y' WHERE SYSPARMCODE = 'MANDATE_ALW_PARTNER_BANK';				
			]]>
		</sql>
	</changeSet>

	<changeSet id="9" author="gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'Y' WHERE SYSPARMCODE = 'ALLOW_MANUAL_ADV_DUE_CREATION';			
			]]>
		</sql>
	</changeSet>

	<changeSet id="10.1" author="vijaya.a">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_CONSOLIDATE');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_CONSOLIDATE');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_CONSOLIDATE';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'TRIAL_BALANCE_EXPORT_CONSOLIDATE', 'Trial balance consolidate report', 2, null, null, null, ',', 0, 0, null, 'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{PARENT GROUP,PLF LEDGER, DESCRIPTION, SAP GL,OPENINGBALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}', null, 'A', '/opt/pff/hdfc', '${ENTITY_CODE}', '.csv', 0, current_timestamp, '${START_DATE}, _${END_DATE},_${HEADER_ID}', null, '0', null, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE'), 'TRIAL_BALANCE_CONSOLIDATE_VIEW', 0, 'HEADERID', null, 'UPDATE TRIAL_BALANCE_HEADER SET FILENAME = :FILE_NAME WHERE ID = :ID AND DIMENSION = :DIMENSION', null, null, null, null, null, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'ACTYPEGRPID',       0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'ACCOUNT',           0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'DESCRIPTION',       0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'HOSTACCOUNT',       0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'OPENINGBAL',        0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'OPENINGBALTYPE',    0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'DEBITAMOUNT',       0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'CREDITAMOUNT',	     0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'CLOSINGBAL',	     0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'CLOSINGBALTYPE',	 0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')), 'FINTYPE',	  		 0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>

	<changeSet id="11.1" author="vijaya.a">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_STATE');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_STATE');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='TRIAL_BALANCE_EXPORT_STATE';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'TRIAL_BALANCE_EXPORT_STATE', 'SAP GL Trial Balance Report', 2, null, null, null, ',', 0, 0, null, 'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{STATE,PARENT GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}', null, 'A', '/opt/pff/hdfc/SAPGL', '${ENTITY_CODE}', '.csv', 0, current_timestamp, '${START_DATE},_${END_DATE},_${HEADER_ID}', null, '0', null, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE'), 'TRIAL_BALANCE_REPORT_FILE_VIEW', 0, 'HEADERID', null, 'UPDATE TRIAL_BALANCE_HEADER SET FILENAME = :FILE_NAME WHERE ID = :ID AND DIMENSION = :DIMENSION', null, null, null, null, null, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'STATE',       	0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')),  'ACTYPEGRPID',   0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'ACCOUNT',        0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'DESCRIPTION',    0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'HOSTACCOUNT',    0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'OPENINGBAL',     0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'OPENINGBALTYPE', 0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'DEBITAMOUNT',	0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'CREDITAMOUNT',	0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'CLOSINGBAL',	    0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'CLOSINGBALTYPE',	0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'TRIAL_BALANCE_REPORT_FILE_VIEW' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'TRIAL_BALANCE_EXPORT_STATE')), 'PRODUCTFLAG',	0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>

	<changeSet id="TK#11864" author="vijaya.a">
		<sql>
           <![CDATA[
                ALTER TABLE PROMOTIONS DROP CONSTRAINT uk_promotions;
                ALTER TABLE PROMOTIONS_TEMP DROP CONSTRAINT uk_promotions_temp;
            ]]>
		</sql>
	</changeSet>

	<changeSet id="TK#11895" author="vijaya.a">
		<sql>
           <![CDATA[
                Delete from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'ADDDBSP' and RBFLDNAME = 'fm_finBranchProvinceCode';
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES', 'ADDDBSP', 'fm_finBranchProvinceCode', 'Branch Province Code', 'nvarchar', 8, '0', '1', 'RMTCountryVsProvince', 'dbvalue', 'Province');
            ]]>
		</sql>
	</changeSet>

	<changeSet id="DE#3831.3 " author="praveena" dbms="oracle">
		<sql>
			<![CDATA[
               update DATA_ENGINE_COLUMN set ruleforvalue ='if((ACTUALRATE == '''')){Result = 0;  return;}else {Result = ACTUALRATE;  return;}' where name='ACTUALRATE' and tableid in (select id from data_engine_table where configid in (select id from data_engine_config where name = 'RATE_CHANGE_UPLOAD'));
			]]>
		</sql>
	</changeSet>
	<changeSet id="DE#3831.4" author="praveena.v">
		<sql>
			<![CDATA[
				update reportfilterfields set FIELDDBNAME='P.PostDate' where reportid in (select reportid from reportconfiguration  where menuitemcode='menu_Item_LoanwiseVoucherDetail') AND FIELDID = 1;
			]]>
		</sql>
	</changeSet>

	<changeSet id="DE#3831.5" author="praveena.v">
		<sql>
			<![CDATA[
				update reportfilterfields set FIELDDBNAME='P.FinBranch' where reportid in (select reportid from reportconfiguration  where menuitemcode='menu_Item_LoanwiseVoucherDetail') AND FIELDID = 3;
			]]>
		</sql>
	</changeSet>

	<changeSet id="DE#3831.6" author="praveena.v">
		<sql>
			<![CDATA[
				update reportfilterfields set FIELDDBNAME='P.FinIsActive' where reportid in (select reportid from reportconfiguration  where menuitemcode='menu_Item_LoanwiseVoucherDetail') AND FIELDID = 4;
			]]>
		</sql>
	</changeSet>

	<changeSet id="DE#3831.7" author="praveena.v">
		<sql>
			<![CDATA[
				update reportfilterfields set FIELDDBNAME='P.fintype' where reportid in (select reportid from reportconfiguration  where menuitemcode='menu_Item_LoanwiseVoucherDetail') AND FIELDID = 5;
			]]>
		</sql>
	</changeSet>

	<changeSet id="01" author="saisandeep.b">
		<dropNotNullConstraint tableName="COVENANT_TYPES_TEMP" columnName="DOCTYPE"
			columnDataType="varchar(100)" />
		<dropNotNullConstraint tableName="COVENANT_TYPES" columnName="DOCTYPE"
			columnDataType="varchar(100)" />
	</changeSet>

	<changeSet id="01.1" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 5, AUTOEXTRACTION = 1 WHERE CODE = 'NACH';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 5, AUTOEXTRACTION = 1 WHERE CODE = 'EMNDT';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 5, AUTOEXTRACTION = 1 WHERE CODE = 'ECS';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 0, AUTOEXTRACTION = 1 WHERE CODE = 'SI';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 0, AUTOEXTRACTION = 1 WHERE CODE = 'DAS';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 3, AUTOEXTRACTION = 1 WHERE CODE = 'PDC';
				UPDATE INSTRUMENT_TYPES SET EXTRACTIONDAYS = 3, AUTOEXTRACTION = 1 WHERE CODE = 'IPDC';
			]]>
		</sql>
	</changeSet>

	<changeSet id="02" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = '0' WHERE SYSPARMCODE = 'NUMBEROF_UNDATED_CHEQUES';
			]]>
		</sql>
	</changeSet>

	<changeSet id="03" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'N' WHERE SYSPARMCODE = 'EOM_ON_EOD';
			]]>
		</sql>
	</changeSet>

	<changeSet id="04" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE JOB_DETAILS SET ENABLED = 1 WHERE JOBKEY = 'USER_AUTO_LOCKING_JOB';
			]]>
		</sql>
	</changeSet>

	<changeSet id="05" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE ='240' WHERE SYSPARMCODE ='BANK_CODE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="06" author="saikrishna.b">
		<sql>
			<![CDATA[
				DELETE FROM RULES WHERE RULEMODULE = 'LMTLINE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="07" author="saikrishna.b">
		<sql>
			<![CDATA[
				UPDATE DOCUMENTDETAILS SET DOCURI = NULL;
				UPDATE DOCUMENTMANAGER SET DOCURI = NULL;
				UPDATE CUSTOMERDOCUMENTS SET DOCURI = NULL;
			]]>
		</sql>
	</changeSet>

	<changeSet id="08" author="gopal.p">
		<sql>
			<![CDATA[
				UPDATE DUE_EXTRACTION_HEADER SET RECORDSTATUS = 'Approved';
				UPDATE DUE_EXTRACTION_CONFIG SET RECORDSTATUS = 'Approved';
			]]>
		</sql>
	</changeSet>

	<changeSet id="09.0" author="gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_RESPONSE');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_RESPONSE');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_RESPONSE';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'PRESENTMENT_RESPONSE', 'Presentment Default Response file.', 12, 'Presentment', NULL, NULL, NULL, 0, 1, NULL,  'Corporate User No, Corporate Name, UMRN, Customer to be debited, Customer IFSC, Customer Debit AC, Transaction ID/REF, Amount (Rs), Date of Txn, File No, Status Description, Reason Description', NULL, 'C', '/opt/pff/hdfc/presentment/response', 'Presentment_', '.xlsx', 0, current_timestamp, NULL, NULL, 0, NULL, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE'), 'PRESENTMENT_FILEIMPORT', 0, 'BatchId', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'BATCHID',         0, 'N', NULL, NULL, NULL, 			  NULL, '0',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'UMRN_NO',         0, 'N', NULL, NULL, NULL, 			  NULL, '1',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'AMOUNTCLEARED',   0, 'N', NULL, NULL, NULL, 			  NULL, '2',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'CLEARINGDATE',    0, 'N', NULL, NULL, NULL, 			  NULL, '3',  NULL, NULL,  NULL, 'dd-MMM-yyyy',     'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'BFLREFERENCENO',  0, 'N', NULL, NULL, NULL, 			  NULL, '4',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'BRANCHCODE', 	   0, 'N', NULL, NULL, NULL, 			  NULL, '5',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'AGREEMENTNO', 	   0, 'N', NULL, NULL, NULL, 			  NULL, '6',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'STATUS', 		   0, 'N', NULL, NULL, NULL, 			  NULL, '7',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'REASONCODE', 	   0, 'N', NULL, NULL, NULL, 			  NULL, '8',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'BOUNCE_REMARKS',  0, 'N', NULL, NULL, NULL, 			  NULL, '9',  NULL, NULL,  NULL,  NULL, 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'UTR_NUMBER', 	   0, 'N', NULL, NULL, NULL, 			  NULL, '10', NULL, NULL,  NULL,  NULL, 		    'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'FATECORRECTION', 0, 'N', NULL, NULL, NULL,  		  	  NULL, '11', NULL, NULL,  NULL,  NULL, 			'CHECK:Y,N');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_RESPONSE')), 'HEADER_ID', 	   0, 'N', NULL, NULL, '${HEADER_ID}',    NULL, '0',  NULL, NULL,  NULL,  NULL, 		    'M');
			]]>
		</sql>
	</changeSet>

	<changeSet id="10" author="gopal.p">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_REQUEST');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_REQUEST');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='PRESENTMENT_REQUEST';
 				
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'PRESENTMENT_REQUEST', 'PresentmentRequest.', 3, NULL, NULL, NULL, NULL, 0, 0, NULL,  'ROW:{Name, Batch ID, UMRN NO, Amount, Settelement Date, Account Type, Dealer Code, Payment Due Date, Loan Reference,}', NULL, 'A', '/opt/pff/hdfc/presentment/request', 'Presentment_', '.xlsx', 121, current_timestamp, '${SEQ_FILE},_${yyyyMMddHHmmss}', NULL, 0, NULL, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST'), 'PRESENTMENT_REQ_DETAILS', 0, 'JOB_ID', 'JOB_ID = :JOB_ID', NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'DEST_ACC_HOLDER',        0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'BATCHID',      		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'UMRN_NO',       		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'CHEQUEAMOUNT',       	  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'CycleDate',      		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, 'DATE:dd-MM-yyyy', 			'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'ACC_TYPE',      		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'BR_CODE',      		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'CycleDate',      		  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, 'DATE:dd-MM-yyyy', 							'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'PRESENTMENT_REQUEST')), 'AGREEMENTNO',      	  0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 			'O');		
			]]>
		</sql>
	</changeSet>

	<changeSet id="11" author="gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'PRESENTMENT_REQUEST' WHERE SYSPARMCODE LIKE  'PRESENTMENT_REQUEST_PDC';		
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#84.47" author="saikrishna.b">
		<sql>
			<![CDATA[
				DELETE FROM RMTLOVFIELDDETAIL WHERE FIELDCODE = 'SU_DISABLE_REASON';
				
				INSERT INTO RMTLOVFIELDDETAIL (FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_DISABLE_REASON', 'INCORRECT PASSWORD', 'INCORRECT PASSWORD', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);

				INSERT INTO RMTLOVFIELDDETAIL (FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_DISABLE_REASON', 'DORMANT', 'DORMANT', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);

				INSERT INTO RMTLOVFIELDDETAIL (FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_DISABLE_REASON', 'HR EXIT', 'HR EXIT', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#84.48" author="saikrishna.b">
		<sql>
			<![CDATA[
				DELETE FROM RMTLOVFIELDDETAIL WHERE FIELDCODE = 'SU_EMP_TYPE';
				
				INSERT INTO RMTLOVFIELDDETAIL(FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_EMP_TYPE', 'HDFC Staff', 'HDFC Staff', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);

				INSERT INTO RMTLOVFIELDDETAIL(FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_EMP_TYPE', 'HDB Staff', 'HDB Staff', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);

				INSERT INTO RMTLOVFIELDDETAIL(FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'SU_EMP_TYPE', 'Contractual', 'Contractual', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208465" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'Y' WHERE SYSPARMCODE = 'ALLOW_DIVISION_BASED_CLUSTER';
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'Y' WHERE SYSPARMCODE ='ALLOW_ORGANISATIONAL_STRUCTURE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208579_01" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_CONFIG SET UPLOADPATH = '/opt/PFF/BASE/mandates/request' WHERE NAME = 'MANDATES_EXPORT';
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208579.1" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_CONFIG SET UPLOADPATH = '/opt/PFF/BASE/presentment/request' WHERE NAME = 'PRESENTMENT_REQUEST';
				UPDATE DATA_ENGINE_CONFIG SET UPLOADPATH = '/opt/PFF/BASE/presentment/response' WHERE NAME = 'PRESENTMENT_RESPONSE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208852.1" author="saikrishna.b">
		<sql>
			<![CDATA[
				DELETE FROM RMTLOVFIELDDETAIL WHERE FIELDCODE = 'MANDATE_HOLD_REASON';
				
				INSERT INTO RMTLOVFIELDDETAIL(FIELDCODEID, FIELDCODE, FIELDCODEVALUE, VALUEDESC, ISACTIVE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, SYSTEMDEFAULT)values ((Select max(FieldCodeId)+1 from RMTLOVFIELDDETAIL_VIEW), 'MANDATE_HOLD_REASON', 'CONSECUTIVE BOUNCE', 'CONSECUTIVE BOUNCE', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0, 1);
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208579.2" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_CONFIG SET FILEEXTENSION ='.xls'  WHERE NAME ='MANDATES_IMPORT';
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#208579.3" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_CONFIG SET FILEEXTENSION ='.xls' WHERE NAME ='PRESENTMENT_RESPONSE';
			]]>
		</sql>
	</changeSet>

	<changeSet id="002" author="goutham.ch">
		<sql>
				<![CDATA[
					INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_PRMNT_RESPONSE_READING_JOB', 	'Reading SI, SIInternal and ACH response.', 						'EXT_PRMNT_RESPONSE_READING_JOB_TRIGGER', 	        '0 0/1 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
					INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_PRMNT_FILE_EXTRACTOR_JOB', 	'Reading SI, SIInternal and ACH response file data and process.', 	'EXT_PRMNT_FILE_EXTRACTOR_JOB_TRIGGER', 		    '0 0/2 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
					INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_PRMNT_FILE_PROCESSOR_JOB', 	'Reading SI, SIInternal and ACH response file record processing.', 	'EXT_PRMNT_FILE_PROCESSOR_JOB', 		            '0 0/3 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
				]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#212858" author="saikiran.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_COLUMN SET CONSTRAINTTYPE = 'M' WHERE NAME = 'MANDATE_REG_NO' AND  TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'));
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#213507.1" author="goutham.ch">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_CONFIG), 'MANDATES_IMPORT', 'Mandate Response file upload.', '1', 'Mandates', NULL, NULL, ',', 0, 1, NULL, NULL, NULL, 'C', '/opt/pff/hdfc/mandates', 'MANDATE_', '.csv', 0, CURRENT_TIMESTAMP, NULL, NULL, '0', NULL, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'), 'MANDATE_RESPONSE', 1, 'ID', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MSG_ID', 				1, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CREATION_DATE', 		1, 'N', NULL, NULL, NULL, NULL, '1', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'INST_MEM_ID', 			1, 'N', NULL, NULL, NULL, NULL, '2', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'INST_AGENT', 			1, 'N', NULL, NULL, NULL, NULL, '3', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'INSTD_MEM_ID', 		1, 'N', NULL, NULL, NULL, NULL, '4', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'INSTD_AGENT', 			1, 'N', NULL, NULL, NULL, NULL, '5', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MANDATE_REG_NO', 		0, 'N', NULL, 'INR', NULL, NULL, '6', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MANDATE_REQ_ID', 		1, 'N', NULL, NULL, NULL, NULL, '7', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'PROPRIETARY_TYPE', 	1, 'N', NULL, NULL, NULL, NULL, '8', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'TRANS_SEQ', 			1, 'N', NULL, NULL, NULL, NULL, '9', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'FREQUENCY', 			1, 'N', NULL, NULL, NULL, NULL, '10', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'START_DATE', 			1, 'N', NULL, '', NULL, NULL, '11', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'END_DATE', 			1, 'N', NULL, NULL, NULL, NULL, '12', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CURRENCY' , 			1, 'N', NULL, NULL, NULL, NULL, '13', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'COLLECTION' , 			1, 'N', NULL, NULL, NULL, NULL, '14', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MAX_CURRENCY', 		1, 'N', NULL, NULL, NULL, NULL, '15', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'UPPER_LIMIT', 			1, 'N', NULL, NULL, NULL, NULL, '16', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'SERVICE_PROVIDER', 	1, 'N', NULL, NULL, NULL, NULL, '17', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'SP_UTILITY_CODE', 		1, 'N', NULL, NULL, NULL, NULL, '18', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CREDITOR_AGENT_ID', 	1, 'N', NULL, NULL, NULL, NULL, '19', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'DEBTOR_NAME', 			1, 'N', NULL, NULL, NULL, NULL, '20', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'FINREFERENCE', 		0, 'N', NULL, NULL, NULL, NULL, '21', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'SCHEME_NAME', 			1, 'N', NULL, NULL, NULL, NULL, '22', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'PHONE_NO', 			1, 'N', NULL, NULL, NULL, NULL, '23', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MOBILE_NO', 			1, 'N', NULL, NULL, NULL, NULL, '24', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'EMAIL_ID', 			1, 'N', NULL, NULL, NULL, NULL, '25', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MANDATEID', 			0, 'N', NULL, NULL, NULL, NULL, '26', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'ACCT_NUMBER', 			0, 'N', NULL, NULL, NULL, NULL, '27', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'DEBTOR_ACCT_TYPE', 	1, 'N', NULL, NULL, NULL, NULL, '28', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'DEBTOR_AGENT_ID', 		1, 'N', NULL, '', NULL, NULL, '29', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'STATUS', 				0, 'N', NULL, NULL, NULL, NULL, '30', NULL, 'if((STATUS == ''ACCEPTED'')){Result = ''N'';  return;} else if((STATUS == ''REJECTED'')) {Result = ''Y'';  return;} else if((STATUS == ''REJECT'')) {Result = ''Y'';  return;}else if((STATUS == ''CANCELLED'')) {Result = ''Y'';  return;}' , NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'REMARKS', 				0, 'N', NULL, NULL, NULL, NULL, '31', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'DEBTOR_AGENT_INST', 	1, 'N', NULL, NULL, NULL, NULL, '32', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MARKER_ID', 			1, 'N', NULL, NULL, NULL, NULL, '33', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'MARKER_DATE', 			1, 'N', NULL, NULL, NULL, NULL, '34', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CHECKER_ID', 			1, 'N', NULL, NULL, NULL, NULL, '35', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'CHECKER_DATE', 		1, 'N', NULL, NULL, NULL, NULL, '36', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'ACH_STATUS', 			1, 'N', NULL, NULL, NULL, NULL, '37', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'EVENT', 				1, 'N', NULL, NULL, NULL, NULL, '38', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'RESP_BATCH_ID', 		0, 'N', NULL, NULL, '${FILE_ID}', NULL, '39', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')), 'VERIFICATION_DATE', 	1, 'N', NULL, NULL, NULL, NULL, '40', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#213507.2" author="goutham.ch">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT';
				
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_CONFIG), 'MANDATES_EXPORT', 'Mandate Download.', '2', 'Mandates', NULL, NULL, ',', 0, 0, NULL, 'Mandate Date,Sponsor Bank Code,Utility Code,Name of Utility/Biller/Bank/Company,Action,Ac Type,Legal Account Number,Name of the destination bank with Branch,IFSC Code/ Micr Code,Debit Amt of/ Upto Maximum Amt,Amount,Consumer Reference Number,Scheme/Plan Reference No,Frequency,Start date,End Date,Account Holder Name,Customer Additional Information,Telephone No,Mobile Number,E Mail ID,Image Name,Category Code', NULL, 'A', '/opt/PFF/BASE/mandates/request', 'MANDATE_', '.csv', 1, CURRENT_TIMESTAMP, '${ddMMYYYYHms}', NULL, '0', NULL, 1, 1);
				
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT'), 'MANDATE_REQUESTS', 0, 'ID', 'PROCESS_ID = :PROCESS_ID', 'UPDATE MANDATE_REQUESTS SET BATCH_ID = :FILEID, STATUS = ''AC'' WHERE PROCESS_ID = :PROCESS_ID QUERY:UPDATE MANDATES SET STATUS =  ''AC'' WHERE MANDATEID IN (SELECT MANDATEID FROM MANDATE_REQUESTS WHERE PROCESS_ID = :PROCESS_ID AND STATUS =  ''AC'')', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'MANDATE_DATE', 		0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'SPONSOR_BANK', 		0, 'N', NULL, 'HDFC0000015', NULL, NULL, '1', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'UTILITY_CODE', 		0, 'N', NULL, 'HDFC00017000001103', NULL, NULL, '2', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'NAME_OF_COMPANY', 		0, 'N', NULL, 'HDFC BANK LIMITED', NULL, NULL, '3', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'ACTION', 				0, 'N', NULL, NULL, NULL, NULL, '4', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'ACCT_TYPE', 			0, 'N', NULL, NULL, NULL, NULL, '5', NULL, 'if((ACCT_TYPE == ''savings account'')){Result = ''SAVINGS'';  return;} else if((ACCT_TYPE == ''current account'')) {Result = ''CURRENT'';  return;} else if((ACCT_TYPE == ''cash credit account'')) {Result = ''CC'';  return;}', NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'ACCT_NUMBER', 			1, 'N', NULL, 'INR', NULL, NULL, '6', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'BANK_NAME', 			0, 'N', NULL, NULL, NULL, NULL, '7', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'IFSC_CODE', 			0, 'N', NULL, NULL, NULL, NULL, '8', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'UPPER_LIMIT', 			0, 'N', NULL, NULL, NULL, NULL, '9', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'AMOUNT',			 	0, 'N', NULL, NULL, NULL, NULL, '10', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'FINREFERENCE', 		1, 'N', NULL, '', NULL, NULL, '11', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'FINTYPE', 				0, 'N', NULL, NULL, NULL, NULL, '12', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'FREQUENCY', 			0, 'N', NULL, NULL, NULL, NULL, '13', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'START_DATE', 			0, 'N', NULL, NULL, NULL, NULL, '14', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'END_DATE', 			0, 'N', NULL, NULL, NULL, NULL, '15', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'ACCT_HOLDER_NAME', 	0, 'N', NULL, NULL, NULL, NULL, '16', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'MANDATEID', 			0, 'N', NULL, NULL, NULL, NULL, '17', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'TELEPHONE_NO', 		0, 'N', NULL, NULL, NULL, NULL, '18', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'CUSTOMER_PHONE', 		0, 'N', NULL, NULL, NULL, NULL, '19', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'CUSTOMER_EMAIL', 		0, 'N', NULL, NULL, NULL, NULL, '20', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'IMAGE_NAME', 			0, 'N', NULL, NULL, NULL, NULL, '21', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT MAX(ID)+1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')), 'CAT_CODE', 			0, 'N', NULL, '0001', NULL, NULL, '22', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>

	<changeSet id="002.1" author="goutham.ch">
		<sql>
			<![CDATA[
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_PRMNT_STAGE_PROCESSOR_JOB', 'Reading External PDC response.', 'EXT_PRMNT_STAGE_PROCESSOR_JOB_TRIGGER', '0 0/3 * 1/1 * ? *', 1, 0, 1, 0, NULL, 0, 0, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1);
			]]>
		</sql>
	</changeSet>

	<changeSet id="002.2" author="goutham.ch">
		<sql>
			<![CDATA[
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'SI_LIEN_MARKING_JOB',      'Fetch all SI accounts as a dump.',       'SI_LIEN_MARKING_JOB_TRIGGER',      '0 0/2 * 1/1 * ? *', 1, 0, 1, 0, NULL, 0, 0, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1);
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'SI_LIEN_FILE_WRITING_JOB', 'Write Lien request file to a location.', 'SI_LIEN_FILE_WRITING_JOB_TRIGGER', '0 0/5 * 1/1 * ? *', 1, 0, 1, 0, NULL, 0, 0, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1);
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'SI_LIEN_RESPONSE_JOB',     'Process Lien response file data.',       'SI_LIEN_RESPONSE_JOB_TRIGGER',     '0 0/4 * 1/1 * ? *', 1, 0, 1, 0, NULL, 0, 0, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 1);
			]]>
		</sql>
	</changeSet>


	<changeSet id="003.2" author="goutham.ch">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_CONFIG SET PARSER = 12, WORKSHEET = 'MANDATE', FILEEXTENSION = '.xls', POSTEVENT = 'SHARE_TO_SFTP' WHERE NAME = 'MANDATES_IMPORT';
				UPDATE DATA_ENGINE_CONFIG SET PARSER = 3, HEADER = 'ROW:{Mandate Date,Sponsor Bank Code,Utility Code,Name of Utility/Biller/Bank/Company,Action,Ac Type,Legal Account Number,Name of the destination bank with Branch,IFSC Code/ Micr Code,Debit Amt of/ Upto Maximum Amt,Amount,Consumer Reference Number,Scheme/Plan Reference No,Frequency,Start date,End Date,Account Holder Name,Customer Additional Information,Telephone No,Mobile Number,E Mail ID,Image Name,Category Code}', FILEEXTENSION = '.xls' WHERE NAME = 'MANDATES_EXPORT';
				
				UPDATE DATA_ENGINE_COLUMN SET FORMAT='DATE:dd-MMM-yyyy' WHERE TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')) AND ID = (SELECT ID FROM DATA_ENGINE_COLUMN WHERE NAME = 'MANDATE_DATE' AND TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')));
				UPDATE DATA_ENGINE_COLUMN SET FORMAT='DATE:dd-MMM-yyyy' WHERE TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')) AND ID = (SELECT ID FROM DATA_ENGINE_COLUMN WHERE NAME = 'START_DATE' AND TABLEID = (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_EXPORT')));
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#215851" author="goutham.ch">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_EVENT_PROPERTIES WHERE CONFIG_ID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT') AND STORAGE_TYPE IN ('SHARE_TO_SFTP', 'SFTP');
				
				INSERT INTO DATA_ENGINE_EVENT_PROPERTIES (CONFIG_ID, STORAGE_TYPE, REGION_NAME, BUCKET_NAME, ACCESS_KEY, SECRET_KEY, PREFIX, SSE_ALGORITHM, HOST_NAME, PORT, PRIVATE_KEY) VALUES ((SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'), 'SHARE_TO_SFTP', NULL, '/sftpuser/PLF/HDFC/QC',        'sftpuser', 'Zxcvbn$@123', NULL, NULL, 'sftpserver', 22, NULL);	
				INSERT INTO DATA_ENGINE_EVENT_PROPERTIES (CONFIG_ID, STORAGE_TYPE, REGION_NAME, BUCKET_NAME, ACCESS_KEY, SECRET_KEY, PREFIX, SSE_ALGORITHM, HOST_NAME, PORT, PRIVATE_KEY) VALUES ((SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT'), 'SFTP',          NULL, '/sftpuser/PLF/HDFC/QC/BackUp', 'sftpuser', 'Zxcvbn$@123', NULL, NULL, 'sftpserver', 22, NULL);
			]]>
		</sql>
	</changeSet>


	<changeSet id="PSD#207349.1" author="saikrishna.b">
		<sql>
			<![CDATA[
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0 0/1 1/1 * ? *' WHERE JOBKEY = 'USER_AUTO_LOCKING_JOB';
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#2160471.1" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE SMTPARAMETERS SET SYSPARMVALUE = 'N' WHERE SYSPARMCODE = 'RECEIPTS_SHOW_ACCOUNTING_TAB';
			]]>
		</sql>
	</changeSet>

	<changeSet id="002.2_post" author="Gopal.p">
		<sql>
			<![CDATA[
				UPDATE JOB_DETAILS SET ENABLED = 0 WHERE JOBKEY IN ('SI_LIEN_MARKING_JOB', 'SI_LIEN_FILE_WRITING_JOB', 'SI_LIEN_RESPONSE_JOB');
			]]>
		</sql>
	</changeSet>

	<changeSet id="002.3_post" author="SaiKrian.n">
		<sql>
			<![CDATA[
				UPDATE DATA_ENGINE_COLUMN SET CONSTRAINTTYPE = 'O' WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID IN(SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'MANDATES_IMPORT')) AND NAME = 'REMARKS';
			]]>
		</sql>
	</changeSet>

	<changeSet id="UDGAP#72.1" author="Gireesh.G">
		<sql>
			<![CDATA[
			    DELETE FROM PSLCATEGORY;
			    DELETE FROM PSLWEAKERSECTION;
			    DELETE FROM PSLPURPOSE;
			
				INSERT INTO PSLCATEGORY (CODE, DESCRIPTION) VALUES ('AGRI', 'Agriculture');
				INSERT INTO PSLCATEGORY (CODE, DESCRIPTION) VALUES ('MSME', 'MSME');
				INSERT INTO PSLCATEGORY (CODE, DESCRIPTION) VALUES ('HF', 'Housing');
				INSERT INTO PSLCATEGORY (CODE, DESCRIPTION) VALUES ('GNL', 'General');
				INSERT INTO PSLCATEGORY (CODE, DESCRIPTION) VALUES ('NPSL', 'Non-PSL');
				
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('01', 'Artisans / Village and Cottage Industries');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('02', 'Beneficiaries under differential rate of interest scheme');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('03', 'Beneficiaries under Govt. Sponsored Schemes');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('04', 'Distressed Farmers');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('05', 'Distressed Persons [other than farmers]');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('06', 'Individual Women');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('07', 'Minority (Notified)');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('08', 'Not exceeding Rs 1 lakh');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('09', 'Overdraft up to Rs.5000 under PMJDY');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('10', 'Person with Disabilities');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('11', 'SC/ST');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('12', 'Self Help Groups');
				INSERT INTO PSLWEAKERSECTION (CODE, DESCRIPTION) VALUES ('13', 'Small and Marginal Farmers');
				
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '101', 'Farm Irrigation & related activities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '102', 'Growing of  Crops ');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '103', 'Growing of Plantation crops ');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '104', 'Purchase of Agri Inputs');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '105', 'Purchase of  Farm Machinery & Implements');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '106', 'Purchase of Farm transport Vehicles / accessories');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '107', 'Soil/Land/Farm Development Activities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '108', 'Harvesting and activities related to harvesting');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '109', 'Agricultural land purchase');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '110', 'Other allied activities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '111', 'Construction of Storage & Market yards');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '112', 'Loans to repay the debt of informal sector/ non-institutional lenders');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '113', 'Plant tissue culture and Agri-biotechnology');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '114', 'Seed production');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '115', 'Production of bio-pesticides'','' bio-fertilizer'','' and vermi composting');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '116', 'Setting up of Agriclinics and Agribusiness Centres');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '117', 'Food and Agro-processing ');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '118', 'Loans to Custom Service Units ');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '119', 'Loans  for on-lending to societies'','' NGOs & MFIs');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '120', 'Farming of Animals'','' Poultry'','' Silk worms  including sericulture');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '121', 'Animal Husbandry');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '122', 'Forestry'','' Logging & Related Service Activities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('AGRI', NULL, '123', 'Fishing & related activities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '201', 'Setting up new manufacturing unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '202', 'Modernization and renovation of existing manufacturing units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '203', 'Purchase of land & construction of factory shed');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '204', 'Erection of  plant & Machinery'','' equipments'','' etc.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '205', 'Purchase of fixed assets viz.'','' land'','' building'','' vehicles & equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '206', 'Working capital needs');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '207', 'Setting up new trading/service unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '208', 'Modernization and renovation of existing service units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '209', 'Business expansion');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '210', 'Construction of Warehouse  /Godown');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '211', 'Construction of factory shed');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '212', 'Purchase of commercial space for business');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '213', 'Providing assistance in supply & Marketing');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('MSME', NULL, '214', 'Installation of equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('HF',   NULL, '301', 'Home Loan - Purchasing of dwelling unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('HF',   NULL, '302', 'Home Improvement Loan-Repairs to damaged dwelling unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('HF',   NULL, '303', 'Home Loan Balance Transfer');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '401', 'Pre-shipment activities -Procurement of raw materials');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '402', 'Pre-shipment activities -To carry out manufacturing process');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '403', 'Pre-shipment activities -Provide a secure warehouse for goods and raw materials.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '404', 'Preshipment activities - Process and pack the goods');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '405', 'Preshipment activities - Meet other financial cost of the business.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '406', 'Post - shipment activities-Purchase of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '407', 'Post - shipment activities-Discount of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '408', 'Post - shipment activities-Negotiation of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '409', 'Post - shipment activities-advance against  undrawn balance on export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '410', 'Post - shipment activities-advance against retention money');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '411', 'Post - shipment activities-advance against duty draw back');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '412', 'Post - shipment activities-advance against deemed exports');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'EC', '413', 'Post - shipment activities-advance against export of goods for exhibition and sale');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'ED', '451', 'Vocational purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'ED', '452', 'Non-vocational purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '501', 'Setting up new  unit - schools');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '502', 'Modernization and renovation of existing  units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '503', 'Purchase of land & construction -school');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '504', 'Erecting equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '505', 'Construction/ refurbishment of household toilets');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '506', 'Construction/ refurbishment of household level water improvements');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '507', 'Setting up new  unit - healthcare facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '508', 'Modernization and renovation of existing  units-health care facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'SI', '509', 'Purchase of land & construction - healthcare facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '551', 'Purchase and installation of solar based power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '552', 'Purchase and installation of bio-mass based power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '553', 'Purchase and installation of wind mills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '554', 'carrying out relevant activities for purchase & Installation');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '555', 'Street lighting system');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '556', 'Remote village electrification');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '557', 'Purchase and installation of micro-hydel power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'RE', '558', 'Purchase and installation of non-conventional power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'OT', '601', 'Loans to distressed persons [other than farmers  to prepay debt to non-institutional lenders');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'OT', '602', 'Purchase and supply of inputs and/or the marketing of the outputs  of beneficiaries of  state sponsored org for SC/ST');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('GNL',  'OT', '603', 'Miscellaneous purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '701', 'Setting up new manufacturing unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '702', 'Modernization and renovation of existing manufacturing units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '703', 'Purchase of land & construction of factory shed');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '704', 'Erection of  plant & Machinery'','' equipments'','' etc.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '705', 'Purchase of fixed assets viz.'','' land'','' building'','' vehicles & equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '706', 'Working capital needs');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '707', 'Setting up new trading/service unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '708', 'Modernization and renovation of existing service units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '709', 'Business expansion');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '710', 'Construction of Warehouse  /Godown');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '711', 'Construction of factory shed');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '712', 'Purchase of commercial space for business');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '713', 'Providing assistance in supply & Marketing');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '714', 'Installation of equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '715', 'Pre-shipment activities -Procurement of raw materials');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '716', 'Pre-shipment activities -To carry out manufacturing process');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '717', 'Pre-shipment activities -Provide a secure warehouse for goods and raw materials.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '718', 'Preshipment activities - Process and pack the goods');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '719', 'Preshipment activities - Meet other financial cost of the business.');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '720', 'Post - shipment activities-Purchase of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '721', 'Post - shipment activities-Discount of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '722', 'Post - shipment activities-Negotiation of export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '723', 'Post - shipment activities-advance against  undrawn balance on export bills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '724', 'Post - shipment activities-advance against retention money');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '725', 'Post - shipment activities-advance against duty draw back');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '726', 'Post - shipment activities-advance against deemed exports');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '727', 'Post - shipment activities-advance against export of goods for exhibition and sale');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '728', 'Vocational purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '729', 'Non-vocational purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '730', 'Setting up new  unit - schools');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '731', 'Modernization and renovation of existing  units');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '732', 'Purchase of land & construction -school');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '733', 'Erecting equipments');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '734', 'Construction/ refurbishment of household toilets');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '735', 'Construction/ refurbishment of household level water improvements');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '736', 'Setting up new  unit - healthcare facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '737', 'Modernization and renovation of existing  units-health care facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '738', 'Purchase of land & construction - healthcare facilities');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '739', 'Purchase and installation of solar based power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '740', 'Purchase and installation of bio-mass based power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '741', 'Purchase and installation of wind mills');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '742', 'carrying out relevant activities for purchase & Installation');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '743', 'Street lighting system');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '744', 'Remote village electrification');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '745', 'Purchase and installation of micro-hydel power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '746', 'Purchase and installation of non-conventional power generators');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '747', 'Loans to distressed persons [other than farmers  to prepay debt to non-institutional lenders');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '748', 'Purchase and supply of inputs and/or the marketing of the outputs  of beneficiaries of  state sponsored org for SC/ST');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '749', 'Home Loan - Purchasing of dwelling unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '750', 'Home Improvement Loan-Repairs to damaged dwelling unit');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '751', 'Home Loan Balance Transfer');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '752', 'Miscellaneous purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '753', 'Consumption purpose');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '754', 'Marriage expenses');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '755', 'Personal needs');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '756', 'Medical expenses');
				INSERT INTO PSLPURPOSE (CATEGORYCODE, SUBCATEGORYCODE, CODE, DESCRIPTION) VALUES ('NPSL', NULL, '757', 'Travel expenses');
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#1470.1_01" author="saikrihna.b">
		<sql>
		   <![CDATA[
		   		DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('AMZ_W', 'AMZ_N', 'AMZ_S');
		   		
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('AMZ_W', 'C', 1, 1, 3);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('AMZ_N', 'C', 1, 1, 3);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('AMZ_S', 'C', 1, 1, 3);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('AMZ_W', 'F', 1, 1, 4);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('AMZ_N', 'F', 1, 1, 4);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('AMZ_S', 'F', 1, 1, 4);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('AMZ_W', 'O', 1, 1, 4);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('AMZ_N', 'O', 1, 1, 4);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('AMZ_S', 'O', 1, 1, 4);
				
				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('EARLYPAY_W', 'EARLYPAY_N', 'EARLYPAY_S');
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYPAY_W', 'F', 1, 1, 7);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYPAY_N', 'F', 1, 1, 7);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYPAY_S', 'F', 1, 1, 7);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYPAY_W', 'O', 1, 1, 79);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYPAY_N', 'O', 1, 1, 79);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYPAY_S', 'O', 1, 1, 79);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYPAY_W', 'C', 1, 1, 84);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYPAY_N', 'C', 1, 1, 84);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYPAY_S', 'C', 1, 1, 84);
				
				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('EARLYSTL_W', 'EARLYSTL_N', 'EARLYSTL_S');
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYSTL_W', 'F', 1, 1, 8);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYSTL_N', 'F', 1, 1, 8);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYSTL_S', 'F', 1, 1, 8);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYSTL_W', 'O', 1, 1, 90);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYSTL_N', 'O', 1, 1, 90);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYSTL_S', 'O', 1, 1, 90);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYSTL_W', 'C', 1, 1, 6);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYSTL_N', 'C', 1, 1, 6);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EARLYSTL_S', 'C', 1, 1, 6);
				
				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('EMIDAY_W', 'EMIDAY_N', 'EMIDAY_S');
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EMIDAY_W', 'F', 1, 1, 9);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EMIDAY_N', 'F', 1, 1, 9);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('EMIDAY_S', 'F', 1, 1, 9);
				
				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('INSTDATE_W', 'INSTDATE_N', 'INSTDATE_S');
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('INSTDATE_W', 'F', 1, 1, 11);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('INSTDATE_N', 'F', 1, 1, 11);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('INSTDATE_S', 'F', 1, 1, 11);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('INSTDATE_W', 'O', 1, 0, 80);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('INSTDATE_N', 'O', 1, 0, 80);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('INSTDATE_S', 'O', 1, 0, 80);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('INSTDATE_W', 'C', 1, 1, 7);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('INSTDATE_N', 'C', 1, 1, 7);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('INSTDATE_S', 'C', 1, 1, 7);
				
				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('LATEPAY_W', 'LATEPAY_N', 'LATEPAY_S');
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('LATEPAY_W', 'F', 1, 1, 13);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('LATEPAY_N', 'F', 1, 1, 13);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('LATEPAY_S', 'F', 1, 1, 13);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('LATEPAY_W', 'O', 1, 1, 10);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('LATEPAY_N', 'O', 1, 1, 10);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('LATEPAY_S', 'O', 1, 1, 10);

				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('LATEPAY_W', 'C', 1, 1, 5);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('LATEPAY_N', 'C', 1, 1, 5);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('LATEPAY_S', 'C', 1, 1, 5);
				
				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('WRITEOFF_W', 'WRITEOFF_N', 'WRITEOFF_S');
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('WRITEOFF_N', 'F', 1, 1, 22);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('WRITEOFF_S', 'F', 1, 1, 22);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('WRITEOFF_N', 'O', 1, 1, 21);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('WRITEOFF_S', 'O', 1, 1, 21);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('WRITEOFF_N', 'C', 1, 1, 8);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('WRITEOFF_S', 'C', 1, 1, 8);
				
				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('REPAY_W', 'REPAY_N', 'REPAY_S');
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REPAY_W', 'C', 1, 1, 4);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REPAY_N', 'C', 1, 1, 4);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REPAY_S', 'C', 1, 1, 4);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REPAY_W', 'F', 1, 1, 18);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REPAY_N', 'F', 1, 1, 18);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REPAY_S', 'F', 1, 1, 18);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REPAY_W', 'O', 1, 1, 19);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REPAY_N', 'O', 1, 1, 19);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REPAY_S', 'O', 1, 1, 19);
				
				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('NPACHNG_W', 'NPACHNG_N', 'NPACHNG_S');
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('NPACHNG_S', 'C', 1, 1, 85);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('NPACHNG_S', 'F', 1, 1, 85);
				
				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('PAYMTINS_W', 'PAYMTINS_N', 'PAYMTINS_S');
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('PAYMTINS_W', 'C', 1, 1, 3);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('PAYMTINS_N', 'C', 1, 1, 3);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('PAYMTINS_S', 'C', 1, 1, 3);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('PAYMTINS_W', 'F', 1, 1, 4);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('PAYMTINS_N', 'F', 1, 1, 4);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('PAYMTINS_S', 'F', 1, 1, 4);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('PAYMTINS_W', 'O', 1, 1, 4);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('PAYMTINS_N', 'O', 1, 1, 4);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('PAYMTINS_S', 'O', 1, 1, 4);
		   ]]>
		</sql>
	</changeSet>

	<changeSet id="UDGAP#72.2" author="Gireesh.G">
		<sql>
			<![CDATA[
				DELETE FROM PSLENDUSE;
				
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1001', 'Farm Irrigation - Borewell');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1002', 'Farm Irrigation - Drip irrigation / sprinkler irrigation');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1003', 'Farm Irrigation - Dug well');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1004', 'Farm Irrigation - Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1005', 'Farm Irrigation - Pumpset');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1006', 'Farm Irrigation - Tube well irrigation');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1007', 'Construction of pump houses');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1008', 'Development of irrigation potentials');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1009', 'Digging'','' repairs and cleaning of wells and'','' ponds');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('101', '1010', 'Finance to dealers in drip irrigation/ sprinkler irrigation system/ agricultural machinery');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1101', 'Growing of cereals');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1102', 'Growing of pulses');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1103', 'Growing of oilseeds including peanuts or soya beans');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1104', 'Growing of sugarcane or sugar beet');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1105', 'Growing of cotton');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1106', 'Growing of Jute'','' Mesta'','' Sun hemp or other kindred/ other vegetable textile fibre plants ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1107', 'Growing of tobacco');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1108', 'Growing of vegetables (Olericulture)'','' Including Singhara'','' Makhana'','' Chillies and Mushroom cultivation');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1109', 'Growing of flowers (Floriculture)'','' horticultural specialties and nursery products');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1110', 'Growing of plants used chiefly in pharmacy (medicinal plants) or for insecticide'','' fungicidal or similar purposes');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('102', '1111', 'Growing of other food & cash crops');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1201', 'Growing of tea or mate leaves by tea estates/gardens ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1202', 'Growing of coffee or cocoa beans');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1203', 'Growing of rubber trees');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1204', 'Harvesting of latex and treatment on the plantation of the liquid latex for the purpose of transport or preservation');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1205', 'Growing of fruit crops including setting up and maintenance of orchard');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1206', 'Growing of edible nuts including coconuts');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1207', 'Growing of spice crops ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('103', '1208', 'Growing of any other plantation crops');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('104', '1301', 'Manures & Fertilizers');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('104', '1302', 'Seeds');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('104', '1303', 'Insecticides / Pesticides');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('104', '1304', 'Diesel / Oil');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('104', '1305', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('105', '1401', 'Purchase of tractors');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('105', '1402', 'Purchase of  harvesters');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('105', '1403', 'Purchase of  transplanters');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('105', '1404', 'Purchase of Power tillers');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('105', '1405', 'Agricultural implements & tools'','' accessories');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('106', '1501', 'Purchase of trucks'','' mini trucks'','' jeeps');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('106', '1502', 'Purchase of  pick up vans'','' trailers'','' semi-trailers ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('106', '1503', 'Other transport equipments to assist the transport of agricultural inputs and farm products');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1601', 'Land leveling');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1602', 'Bunding/ soil conservation'',''');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1603', 'Reclamation of land');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1604', 'Watershed development');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1605', 'Water management');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('107', '1606', 'Organic farming');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1701', 'Spraying');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1702', 'Weeding');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1703', 'Harvesting');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1704', 'Sorting');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1705', 'Grading');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('108', '1706', 'Transporting of own farm produce');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('109', '1801', 'Loans to small and marginal farmers for purchase of land for agricultural purposes. ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('109', '1802', 'Loans to other farmers for purchase of land for agricultural purposes');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1901', 'Transporting of agricultural produce');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1902', 'Marketing of agriculture produce');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1903', 'Purchase of bullocks and other animals');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1904', 'Purchase of bullock cart');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1905', 'Pledge/hypothecation of agricultural produce (including warehouse receipts)');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1906', 'Loans to farmers under the Kisan Credit Card Scheme. ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('110', '1907', 'Cotton Ginning'','' Cleaning and Bailing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('111', '2001', 'Loans for construction and running of warehouses');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('111', '2002', 'Loans for construction and running of  godowns');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('111', '2003', 'Loans for construction and running of  silos/market yards ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('111', '2004', 'Loans for construction and running of  Cold storages');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('112', '2101', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('113', '2201', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('114', '2301', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('115', '2401', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('116', '2501', 'Others');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('117', '2601', 'Dairy'','' Fruit & vegetable processing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('117', '2602', 'Grain Processing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('117', '2603', 'Meat & poultry Processing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('117', '2607', 'Consumer Foods including Packaged Foods');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('118', '2701', 'To undertake farm work for farmers on contract basis. ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('119', '2801', 'Primary Agricultural Credit Societies (PACS)'','' ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('119', '2802', 'Farmers Service Societies (FSS) ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('119', '2803', 'Large-sized Adivasi MultiPurpose Societies (LAMPS) ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('119', '2804', 'Loans to NCDC/ NGOs/ MFIs for on-lending to agriculture and allied activities');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2901', 'Dairying--Cow'','' buffalo'','' Including Cattle  breeding');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2902', 'commercial dairy'','' production of raw milk  and bovine semen');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2903', 'Construction of cattle sheds');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2904', 'Dairying -  rearing and ranching');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2905', 'Rearing of goats'','' production of milk ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2906', 'Sheep'','' Production of shorn wool');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2907', 'Raising of poultry (including broiler) and other domesticated birds');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2908', 'Production of eggs and operation of poultry hatcheries ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2909', 'Construction of poultry sheds');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2910', 'Raising of silk worms including production of silk worm cocoons');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2911', 'Sericulture');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('120', '2912', 'Other animal farming ');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3001', 'Activities to promote propagation'','' growth and output of animals and to obtain animal products');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3002', 'Egg cleaning and grading');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3003', 'Animal skinning and related activities');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3004', 'Herd testing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3005', 'Poultry caponizing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3006', 'Coop cleaning');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3007', 'Dung gathering');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('121', '3008', 'Others animal Husbandry activities');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3101', 'Growing of standing timber');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3102', 'Social Forestry');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3103', 'Operation of tree nurseries');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3104', 'Logging camps and loggers primarily engaged in felling timber and producing wood in the rough form');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3105', 'Timber cruising'','' timber evaluation');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3106', 'Fire fighting and forest management');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3107', 'Transport of logs in association with logging chiefly within the forest');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('122', '3108', 'Other forestry related activities');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('123', '3201', 'Aquaculture');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('123', '3202', 'Fishing');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('123', '3203', 'Operation of fish hatcheries and fish farms');
				INSERT INTO PSLENDUSE (PURPOSECODE, CODE, DESCRIPTION) VALUES ('123', '3203', 'Service activities incidental to fishing');

		]]>
		</sql>
	</changeSet>

	<changeSet id="UDGAP#72.3" author="Gireesh.G">
		<sql>
			<![CDATA[
				UPDATE REPORTFILTERFIELDS SET MULTISELECTSEARCH = 0 WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_PresentmentFileImport_Report') AND FIELDID = 1;
			]]>
		</sql>
	</changeSet>

	<changeSet id="002.3" author="goutham.ch">
		<sql>
			<![CDATA[
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_UCIC_RESPONSE_JOB', 	'Reading UCIC Response file.','EXT_UCIC_RESPONSE_JOB_TRIGGER','0 0/8 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_UCIC_EOD_REQUEST_JOB', 	'Request file writing to posidex.','EXT_UCIC_EOD_REQUEST_JOB_TRIGGER','0 0/7 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_UCIC_WEEKLY_FILE_JOB','Weekly Request file writing to posidex.','EXT_UCIC_WEEKLY_FILE_JOB_TRIGGER','0 0/10 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
 			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#1528.39" author="Sravani.S">
		<sql>
			<![CDATA[
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'EXCESS_TRANSFER_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'HOLD_REFUND_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'REPRESENTMENT_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'MANDATE_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'FATE_CORRECTION_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'PAY_INS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'LPP_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'CHEQUE_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'CROSSLOAN_KNOCKOFF_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'MANUAL_KNOCKOFF_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'KYC_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'HOST_GL_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'MIS_POST_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'FIN_CAN_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'WAIVER_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'LIEN_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'CREATE_RECEIPT_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'RECEIPT_STATUS_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'WRITE_OFF_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'RE_WRITE_OFF_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'BRANCH_DETAILS_JOB';
				UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'PROVISION_JOB';
 			]]>
		</sql>
	</changeSet>


	<changeSet id="ST#1470.1_02" author="saikrihna.b">
		<sql>
		   <![CDATA[
				DELETE FROM CATEGORYWISEEVENTS WHERE AEEVENTCODE in ('REVWRITE_N', 'REVWRITE_S');
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REVWRITE_N', 'C', 1, 0, 93);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REVWRITE_S', 'C', 1, 0, 93);
				
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REVWRITE_N', 'F', 1, 0, 90);
				INSERT INTO CATEGORYWISEEVENTS (AEEVENTCODE, CATEGORYCODE, ACTIVE, MANDATORY, SEQORDER) VALUES('REVWRITE_S', 'F', 1, 0, 90);
		   ]]>
		</sql>
	</changeSet>
	<changeSet id="002.4" author="goutham.ch">
		<sql>
			<![CDATA[
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_COLLECTION_FOLDER_READER_JOB','Reading Collection Request file.','EXT_COLLECTION_FOLDER_READER_JOB_TRIGGER','0 0/2 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_COLLECTION_FILE_EXTRACTION_JOB','Extract collection request file.','EXT_COLLECTION_FILE_EXTRACTION_JOB_TRIGGER','0 0/4 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_COLLECTION_FILE_PROCESSOR_JOB','Process Collection request file.','EXT_COLLECTION_FILE_PROCESSOR_JOB_TRIGGER','0 0/5 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
				INSERT INTO JOB_DETAILS (ID, JOBKEY, DESCRIPTION, JOBTRIGGER, CRON_EXPRESSION, JOBMODE, STATUS, ENABLED, FAILURE_NOTIFICATION_REQ, HOST_NAME, PORT, JMX_PORT, SMTP_SERVER, NOTIFY_EMAILS, EXECUTION_LOG_REQ, EXECUTION_RETENTION_DAYS, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID, MONITORING_REQ) VALUES ((SELECT MAX(ID)+1 FROM JOB_DETAILS), 'EXT_COLLECTION_RESPONSE_FILE_JOB','Generate collection receipt response file.','EXT_COLLECTION_RESPONSE_FILE_JOB_TRIGGER','0 0/6 * 1/1 * ? *', 1, 0, 1, 0, null, null, 0, null, null, 1, 0, 0, null, null, null, null, null, null, null, null, null, 1);
 			]]>
		</sql>
	</changeSet>
	<changeSet id="002.5" author="sreeram.r">
		<sql>
			<![CDATA[
				INSERT INTO JOB_DETAILS (ID,JOBKEY,DESCRIPTION,JOBTRIGGER,STATUS,CRON_EXPRESSION,JOBMODE,ENABLED,FAILURE_NOTIFICATION_REQ,HOST_NAME,PORT,JMX_PORT,SMTP_SERVER,NOTIFY_EMAILS,EXECUTION_LOG_REQ,EXECUTION_RETENTION_DAYS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,MONITORING_REQ) VALUES (100,'SI_LIEN_FILE_PROCESSING_JOB','PROCESS LIEN RESPONSE FILE DATA.','SI_LIEN_FILE_PROCESSING_JOB_TRIGGER',0,'0 0/3 * 1/1 * ? *',1,1,0,NULL,NULL,0,NULL,NULL,1,1,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,1);
 			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#713.008" author="sainaveen.y">
		<sql>
		 <![CDATA[ 
		 	   UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'LPP_LOAN_JOB';
		 	   UPDATE JOB_DETAILS SET CRON_EXPRESSION = '0 0/2 * 1/1 * ? *', EXECUTION_RETENTION_DAYS = 1 WHERE JOBKEY = 'LPP_LOAN_TYPE_JOB';
		 	 ]]>
		</sql>
	</changeSet>

	<changeSet id="002.6" author="goutham.ch">
		<sql>
			<![CDATA[
				UPDATE JOB_DETAILS SET ENABLED = 1 WHERE JOBKEY IN ('SI_LIEN_RESPONSE_JOB', 'SI_LIEN_FILE_WRITING_JOB', 'SI_LIEN_FILE_PROCESSING_JOB');
			]]>
		</sql>
	</changeSet>

	<changeSet id="PSD#227187" author="nagavamsi.p">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_Provision_Report') and FIELDID=3;
			]]>
		</sql>
	</changeSet>

	<changeSet id="12" author="goutham.ch">
		<createTable tableName="FINCON_GL_STG">
			<column name="ACCOUNT" type="VARCHAR(50)" />
			<column name="BRANCH" type="VARCHAR(50)" />
			<column name="COSTCENTRE" type="VARCHAR(50)" />
			<column name="BUDGET_PROJECT_CODE" type="VARCHAR(50)" />
			<column name="CURRENCY" type="VARCHAR(50)" />
			<column name="MIS1_DIVISION" type="VARCHAR(50)" />
			<column name="MIS2_PSL" type="VARCHAR(50)" />
			<column name="MIS3" type="VARCHAR(50)" />
			<column name="PRODUCT" type="VARCHAR(50)" />
			<column name="CATEGORY" type="VARCHAR(50)" />
			<column name="SPARE1" type="VARCHAR(50)" />
			<column name="SPARE2" type="VARCHAR(50)" />
			<column name="SPARE3" type="VARCHAR(50)" />
			<column name="SPARE4" type="VARCHAR(50)" />
			<column name="CURRENCYCODE" type="VARCHAR(50)" />
			<column name="DR_AMOUNT" type="bigint" />
			<column name="CR_AMOUNT" type="bigint" />
			<column name="EXCHANGE_DATE" type="VARCHAR(50)" />
			<column name="EXCHANGE_RATE_TYPE" type="bigint" />
			<column name="EXCHANGE_RATE" type="bigint" />
			<column name="JOURNAL_SOURCE" type="VARCHAR(50)" />
			<column name="JOURNAL_CATEGORY" type="bigint" />
			<column name="PERIOD" type="bigint" />
			<column name="ACC_DATE" type="datetime" />
			<column name="BATCH_NAME" type="VARCHAR(50)" />
			<column name="BATCH_DESC" type="VARCHAR(50)" />
			<column name="JOURNAL_NAME" type="VARCHAR(50)" />
			<column name="JOURNAL_DESC" type="VARCHAR(50)" />
			<column name="LINE_NARRATION" type="VARCHAR(50)" />
			<column name="SOURCE_GL_CODE" type="VARCHAR(50)" />
			<column name="CONTRACT_NO" type="VARCHAR(50)" />
			<column name="NORMAL_RATE" type="VARCHAR(50)" />
			<column name="PENAL_INTEREST_RATE" type="VARCHAR(50)" />
			<column name="START_DATE" type="datetime" />
			<column name="END_DATE" type="datetime" />
			<column name="CUST_ID" type="VARCHAR(50)" />
			<column name="COUNTRY_OF_EXPOSURE" type="VARCHAR(50)" />
			<column name="GRADING" type="VARCHAR(50)" />
			<column name="INDUSTRY" type="VARCHAR(50)" />
			<column name="SPARE" type="VARCHAR(50)" />
			<column name="BOOKS" type="VARCHAR(50)" />
			<column name="CONST1" type="VARCHAR(50)" />
			<column name="CONST2" type="VARCHAR(50)" />
			<column name="DATE_CREATED" type="datetime" />
			<column name="EMP_NUM" type="VARCHAR(50)" />
		</createTable>
	</changeSet>

	<changeSet id="13" author="SREERAM.R" dbms="oracle">
		<createProcedure>
			CREATE OR REPLACE procedure SP_FINCON_GL(exe_postdate date) AS
			BEGIN
			execute immediate 'truncate table
			FINCON_GL_STG';
			DECLARE
			PERIOD VARCHAR2(20 CHAR);
			ACC_DATE VARCHAR2(20 CHAR);
			BATCH_NAME VARCHAR2(20 CHAR);


			Begin
			SELECT
			TO_CHAR(TO_DATE(SYSPARMVALUE,'YYYY-MM-DD'),'Mon-yy') into PERIOD FROM SMTPARAMETERS where SYSPARMCODE='APP_DATE';
			SELECT TO_CHAR(TO_DATE(SYSPARMVALUE,'YYYY-MM-DD'),'DD-Mon-YY') into ACC_DATE FROM SMTPARAMETERS where
			SYSPARMCODE='APP_DATE';
			SELECT TO_CHAR(TO_DATE(SYSPARMVALUE,'YYYY-MM-DD'),'DD-Mon-yyyy') into BATCH_NAME FROM
			SMTPARAMETERS where
			SYSPARMCODE='APP_DATE';

			INSERT INTO FINCON_GL_STG
			(BRANCH,CURRENCY,CURRENCYCODE,DR_AMOUNT,CR_AMOUNT,JOURNAL_SOURCE,JOURNAL_CATEGORY,SOURCE_GL_CODE,BOOKS,CONST1,CONST2,PERIOD,ACC_DATE,BATCH_NAME,
			JOURNAL_NAME)
			select
			po.postbranch AS BRANCH,
			'INR' AS CURRENCY,
			'INR' AS CURRENCYCODE,
			CASE WHEN PO.DRORCR='D' THEN
			SUM(PO.POSTAMOUNT) ELSE 0 END AS DR_AMOUNT,
			CASE WHEN PO.DRORCR='C' THEN SUM(PO.POSTAMOUNT) ELSE 0 END AS CR_AMOUNT,
			'PN' AS JOURNAL_SOURCE,
			'File 1: Closing TB' AS JOURNAL_CATEGORY,
			PERIOD,
			ACC_DATE,
			'PNFile 1: Closing TB'||BATCH_NAME,
			'PNFile 1: Closing TB'|| TO_CHAR((TO_DATE((ACC_DATE),'DD-Mon-yyyy')-1),'DD-Mon-yyyy') JOURNAL_NAME,
			AM.HOSTACCOUNT AS
			SOURCE_GL_CODE,
			'1' AS BOOKS,
			'NEW' AS CONST1,
			'A' AS CONST2
			From postings PO
			INNER JOIN ACCOUNTMAPPING AM ON PO.ACCOUNT =
			AM.ACCOUNT
			WHERE PO.POSTDATE = exe_postdate GROUP BY
			po.postbranch,PO.DRORCR,AM.HOSTACCOUNT;
			END;
			COMMIT;
			end
			SP_FINCON_GL;
		</createProcedure>
	</changeSet>

	<changeSet id="15" author="goutham.ch">
		<createTable tableName="RBIADFEXTRACT">
			<column name="RNUM" type="bigint" />
			<column name="AGREEMENT_ID" type="VARCHAR(18)" />
			<column name="CUSTOMER_ID" type="VARCHAR(18)" />
			<column name="PRODUCT_CODE" type="VARCHAR(8)" />
			<column name="SCHEME_ID" type="bigint" />
			<column name="CREDIT_PROMO_SCHEME_ID" type="VARCHAR(50)" />
			<column name="CREDIT_PROMO_SCHEME_DESC" type="VARCHAR(50)" />
			<column name="APPLICATION_DATE" type="DATETIME" />
			<column name="APPROVAL_DATE" type="DATETIME" />
			<column name="INSTLMODE" type="VARCHAR(50)" />
			<column name="LOAN_AMT" type="decimal(13,2)" />
			<column name="NO_OF_INSTALLMENTS" type="bigint" />
			<column name="DISBURSAL_DATE" type="DATETIME" />
			<column name="LOAN_START_DATE" type="DATETIME" />
			<column name="CLOSURE_DATE" type="DATETIME" />
			<column name="LOAN_BOARDING_DATE" type="DATETIME" />
			<column name="APP_SERIAL_NO" type="bigint" />
			<column name="TENURE" type="bigint" />
			<column name="TOTAL_DISBURSED_AMT" type="decimal(18,2)" />
			<column name="LOAN_AMT_REQ" type="decimal(18,2)" />
			<column name="LOAN_PURPOSE" type="VARCHAR(50)" />
			<column name="INSTALLMENT_TYPE" type="VARCHAR(50)" />
			<column name="INSTALLMENT_TYPE_DESC" type="VARCHAR(50)" />
			<column name="FREQUENCY" type="VARCHAR(50)" />
			<column name="STS_CD" type="VARCHAR(50)" />
			<column name="LOAN_STATUS" type="VARCHAR(50)" />
			<column name="SECOND_SOURCE" type="VARCHAR(50)" />
			<column name="DPD" type="bigint" />
			<column name="NPA_STAGE_ID" type="VARCHAR(50)" />
			<column name="ASSET_CLASS_ID" type="VARCHAR(50)" />
			<column name="PSL_CATEGORY_ID" type="bigint" />
			<column name="PSL_CATEGORY_DESC" type="VARCHAR(50)" />
			<column name="INTEREST_RATE" type="decimal(10,7)" />
			<column name="MARKUP" type="decimal(10,7)" />
			<column name="RATE_TYPE" type="VARCHAR(50)" />
			<column name="PLR_RATE" type="decimal(10,7)" />
			<column name="PLR_TYPE" type="VARCHAR(50)" />
			<column name="WEAKER_SECTION" type="VARCHAR(50)" />
			<column name="WEAKER_SECTION_DESC" type="VARCHAR(50)" />
			<column name="BANK_RATE" type="decimal(10,7)" />
			<column name="BROKERID" type="bigint" />
			<column name="BRANCH_ID" type="bigint" />
			<column name="PSL_SUB_CATEGORY" type="bigint" />
			<column name="PSL_SUB_CAT_DESC" type="VARCHAR(50)" />
			<column name="SCHEME_DESC" type="int" />
			<column name="LPP_RATE" type="VARCHAR(50)" />
			<column name="PRODUCT_DESC" type="VARCHAR(50)" />
			<column name="PRODUCT_TYPE" type="VARCHAR(50)" />
			<column name="SECURITISED_FLAG" type="VARCHAR(1)" />
			<column name="RUNDATE" type="DATETIME" />
			<column name="UI_LMS_GL" type="bigint" />
			<column name="UI_OFS_GL" type="bigint" />
			<column name="GR_LMS_GL" type="bigint" />
			<column name="GR_OFS_GL" type="bigint" />
			<column name="RE_LMS_GL" type="bigint" />
			<column name="RE_OFS_GL" type="bigint" />
			<column name="EX_LMS_GL" type="bigint" />
			<column name="EX_OFS_GL" type="bigint" />
			<column name="AI_LMS_GL" type="bigint" />
			<column name="AI_OFS_GL" type="bigint" />
			<column name="IS_LMS_GL" type="bigint" />
			<column name="IS_OFS_GL" type="bigint" />
			<column name="AIA_LMS_GL" type="bigint" />
			<column name="AIA_OFS_GL" type="bigint" />
			<column name="LAND_VALUE" type="decimal(18,2)" />
			<column name="DSA_CODE" type="bigint" />
			<column name="DSA_DESC" type="VARCHAR(50)" />
			<column name="HUB_BRANCH_ID" type="bigint" />
			<column name="HUB_BRANCH_DESC" type="VARCHAR(50)" />
			<column name="ADDITIONAL_DISBURSAL_AMT_L" type="decimal(18,2)" />
			<column name="ADDITIONAL_PARTPAID_AMT_L" type="decimal(18,2)" />
			<column name="INTEREST_ACCRUED" type="decimal(13,5)" />
			<column name="SUB_INDUSTRY" type="bigint" />
			<column name="SUB_INDUSTRY_DESC" type="VARCHAR(50)" />
			<column name="LAND_AREA" type="bigint" />
			<column name="LAND_UNIT_CD" type="VARCHAR(50)" />
			<column name="CME" type="VARCHAR(50)" />
			<column name="REAL_ESTATE" type="VARCHAR(50)" />
			<column name="PDC_AC_NO" type="bigint" />
			<column name="TOT_CLOSURE_AMT" type="decimal(18,2)" />
			<column name="TOT_CLOSURE_AMT_COL" type="decimal(18,2)" />
			<column name="TOT_WAIVE_OFF" type="decimal(18,2)" />
			<column name="CLOSURE_AMT" type="decimal(18,2)" />
			<column name="CLOSURE_AMT_COL" type="decimal(18,2)" />
			<column name="WAIVE_OFF" type="decimal(18,2)" />
			<column name="PRINCIPAL_PAID_T" type="decimal(18,2)" />
			<column name="INTEREST_PAID_T" type="decimal(18,2)" />
			<column name="TERMIN_DATE" type="DATETIME" />
			<column name="RESTRUCTURE_FLAG" type="VARCHAR(1)" />
			<column name="RESCHEDULE_FLAG" type="VARCHAR(1)" />
			<column name="RESTRUCTURE_DATE" type="DATETIME" />
			<column name="RESTRUCTURE_TENURE" type="bigint" />
			<column name="RESTRUCTURE_AMOUNT" type="decimal(18,2)" />
			<column name="RESTRUCTURE_TYPE" type="VARCHAR(50)" />
			<column name="BRANCH_DESC" type="VARCHAR(50)" />
			<column name="B_CITY" type="VARCHAR(50)" />
			<column name="B_STATE" type="VARCHAR(50)" />
			<column name="B_PINCODE" type="bigint" />
			<column name="SALUTATION" type="VARCHAR(5)" />
			<column name="CUSTOMER_NAME" type="VARCHAR(50)" />
			<column name="CUSTOMER_TYPE" type="VARCHAR(50)" />
			<column name="GENDER" type="VARCHAR(50)" />
			<column name="MARITAL_STATUS_CD" type="VARCHAR(5)" />
			<column name="RESIDENT_FLAG" type="VARCHAR(50)" />
			<column name="NATIONALITY_CODE" type="VARCHAR(50)" />
			<column name="PROFESSION" type="VARCHAR(50)" />
			<column name="NATURE_OF_BUSINESS" type="VARCHAR(50)" />
			<column name="MB_AC_NO" type="bigint" />
			<column name="DEPENDENTS" type="bigint" />
			<column name="RELIGION" type="VARCHAR(50)" />
			<column name="GROUP_ID" type="bigint" />
			<column name="CUSTOMER_INDUSTRY" type="bigint" />
			<column name="CUSTOMER_INDUSTRY_DESC" type="VARCHAR(100)" />
			<column name="CASTE" type="VARCHAR(50)" />
			<column name="CASTE_DESC" type="VARCHAR(100)" />
			<column name="DOB" type="DATETIME" />
			<column name="DOI" type="DATETIME" />
			<column name="PAN" type="VARCHAR(50)" />
			<column name="VAT_AC_NO" type="bigint" />
			<column name="MONTHLY_INCOME" type="decimal(18,2)" />
			<column name="YEARLY_INCOME" type="decimal(18,2)" />
			<column name="ANNUAL_TURNOVER" type="decimal(18,2)" />
			<column name="CUST_RATING" type="VARCHAR(50)" />
			<column name="CURRENT_COMPANY" type="VARCHAR(200)" />
			<column name="EDUCATION_CODE" type="VARCHAR(50)" />
			<column name="DISABLED_FLAG" type="VARCHAR(50)" />
			<column name="GROUP_DESC" type="VARCHAR(50)" />
			<column name="CONSTITUTION" type="bigint" />
			<column name="CONSTITUTION_DESC" type="VARCHAR(50)" />
			<column name="RESIDENT_SINCE" type="VARCHAR(50)" />
			<column name="M_ADDRESS1" type="VARCHAR(50)" />
			<column name="M_ADDRESS2" type="VARCHAR(50)" />
			<column name="M_ADDRESS3" type="VARCHAR(50)" />
			<column name="M_ADDRESS4" type="VARCHAR(50)" />
			<column name="M_LANDMARK" type="VARCHAR(50)" />
			<column name="M_PHONE1" type="VARCHAR(50)" />
			<column name="M_PHONE2" type="VARCHAR(50)" />
			<column name="M_MOBILE1" type="VARCHAR(50)" />
			<column name="M_MOBILE2" type="VARCHAR(50)" />
			<column name="M_EMAIL" type="VARCHAR(50)" />
			<column name="M_CITY" type="VARCHAR(50)" />
			<column name="M_STATE" type="VARCHAR(50)" />
			<column name="M_PINCODE" type="bigint" />
			<column name="M_DISTRICT" type="VARCHAR(50)" />
			<column name="M_COUNTRY" type="VARCHAR(50)" />
			<column name="POPULATION_CAT" type="bigint" />
			<column name="RELIGION_DESC" type="VARCHAR(50)" />
			<column name="CUST_RATING_DESC" type="VARCHAR(50)" />
			<column name="EDUCATION_DESC" type="VARCHAR(50)" />
			<column name="PROFESSION_DESC" type="VARCHAR(50)" />
			<column name="LAND_UNIT" type="VARCHAR(50)" />
			<column name="NATURE_OF_BUSINESS_DESC" type="VARCHAR(50)" />
			<column name="MARITAL_STATUS" type="VARCHAR(50)" />
			<column name="OVERDUE_EMI_AMT" type="decimal(18,2)" />
			<column name="OVERDUE_EMI_CNT" type="decimal(18,2)" />
			<column name="OVERDUE_PRINCIPAL" type="decimal(18,2)" />
			<column name="OVERDUE_INTEREST" type="decimal(18,2)" />
			<column name="TOTAL_POS" type="decimal(18,2)" />
			<column name="TOTAL_IOS" type="decimal(18,2)" />
			<column name="LAST_EMI_BILLED_ON" type="DATETIME" />
			<column name="BILLED_PROPINSTLID" type="decimal(18,2)" />
			<column name="FUTURE_POS" type="decimal(18,2)" />
			<column name="FUTURE_IOS" type="decimal(18,2)" />
			<column name="MATURITY_DATE" type="DATETIME" />
			<column name="INTEREST_PAID_L" type="decimal(18,2)" />
			<column name="PRINCIPAL_PAID_L" type="decimal(18,2)" />
			<column name="BILLED_EMI_L" type="decimal(18,2)" />
			<column name="EMI_COLLECTED_L" type="decimal(18,2)" />
			<column name="OVERDUE_EMI_AMT_L" type="decimal(18,2)" />
			<column name="LPP_CHARGED" type="decimal(18,2)" />
			<column name="LPP_OUTSTANDING" type="decimal(18,2)" />
			<column name="TOTAL_OTH_CHRG" type="decimal(18,2)" />
			<column name="TOTAL_OTH_CHRG_OS" type="decimal(18,2)" />
			<column name="GR_CR_L" type="decimal(18,2)" />
			<column name="GR_DR_L" type="decimal(18,2)" />
			<column name="RE_CR_L" type="decimal(18,2)" />
			<column name="RE_DR_L" type="decimal(18,2)" />
			<column name="IS_CR_L" type="decimal(18,2)" />
			<column name="IS_DR_L" type="decimal(18,2)" />
			<column name="UI_CR_L" type="decimal(18,2)" />
			<column name="UI_DR_L" type="decimal(18,2)" />
			<column name="AI_CR_L" type="decimal(18,2)" />
			<column name="AI_DR_L" type="decimal(18,2)" />
			<column name="EX_CR_L" type="decimal(18,2)" />
			<column name="EX_DR_L" type="decimal(18,2)" />
			<column name="AIA_CR_L" type="decimal(18,2)" />
			<column name="AIA_DR_L" type="decimal(18,2)" />
			<column name="LAST_PAYMENT_DT" type="DATETIME" />
			<column name="CHQ_BOUNCE" type="bigint" />
			<column name="GR_CR" type="decimal(18,2)" />
			<column name="GR_DR" type="decimal(18,2)" />
			<column name="RE_CR" type="decimal(18,2)" />
			<column name="RE_DR" type="decimal(18,2)" />
			<column name="IS_CR" type="decimal(18,2)" />
			<column name="IS_DR" type="decimal(18,2)" />
			<column name="UI_CR" type="decimal(18,2)" />
			<column name="UI_DR" type="decimal(18,2)" />
			<column name="AI_CR" type="decimal(18,2)" />
			<column name="AI_DR" type="decimal(18,2)" />
			<column name="AIA_CR" type="decimal(18,2)" />
			<column name="AIA_DR" type="decimal(18,2)" />
			<column name="EX_CR" type="decimal(18,2)" />
			<column name="EX_DR" type="decimal(18,2)" />
			<column name="ADDITIONAL_PARTPAID_AMT" type="decimal(18,2)" />
			<column name="PREVIOUS_EMI_DUE" type="decimal(18,2)" />
			<column name="ADDITIONAL_DISBURSAL_AMT" type="decimal(18,2)" />
			<column name="INTEREST_PAID" type="decimal(18,2)" />
			<column name="PRINCIPAL_PAID" type="decimal(18,2)" />
			<column name="BILLED_EMI" type="decimal(18,2)" />
			<column name="EMI_COLLECTED" type="decimal(18,2)" />
		</createTable>
	</changeSet>



	<changeSet id="003" author="goutham.ch">
		<createTable tableName="RBIADFEXTRACTHIST">
			<column name="RNUM" type="bigint" />
			<column name="AGREEMENT_ID" type="VARCHAR(18)" />
			<column name="CUSTOMER_ID" type="VARCHAR(18)" />
			<column name="PRODUCT_CODE" type="VARCHAR(8)" />
			<column name="SCHEME_ID" type="bigint" />
			<column name="CREDIT_PROMO_SCHEME_ID" type="VARCHAR(50)" />
			<column name="CREDIT_PROMO_SCHEME_DESC" type="VARCHAR(50)" />
			<column name="APPLICATION_DATE" type="DATETIME" />
			<column name="APPROVAL_DATE" type="DATETIME" />
			<column name="INSTLMODE" type="VARCHAR(50)" />
			<column name="LOAN_AMT" type="decimal(13,2)" />
			<column name="NO_OF_INSTALLMENTS" type="bigint" />
			<column name="DISBURSAL_DATE" type="DATETIME" />
			<column name="LOAN_START_DATE" type="DATETIME" />
			<column name="CLOSURE_DATE" type="DATETIME" />
			<column name="LOAN_BOARDING_DATE" type="DATETIME" />
			<column name="APP_SERIAL_NO" type="bigint" />
			<column name="TENURE" type="bigint" />
			<column name="TOTAL_DISBURSED_AMT" type="decimal(18,2)" />
			<column name="LOAN_AMT_REQ" type="decimal(18,2)" />
			<column name="LOAN_PURPOSE" type="VARCHAR(50)" />
			<column name="INSTALLMENT_TYPE" type="VARCHAR(50)" />
			<column name="INSTALLMENT_TYPE_DESC" type="VARCHAR(50)" />
			<column name="FREQUENCY" type="VARCHAR(50)" />
			<column name="STS_CD" type="VARCHAR(50)" />
			<column name="LOAN_STATUS" type="VARCHAR(50)" />
			<column name="SECOND_SOURCE" type="VARCHAR(50)" />
			<column name="DPD" type="bigint" />
			<column name="NPA_STAGE_ID" type="VARCHAR(50)" />
			<column name="ASSET_CLASS_ID" type="VARCHAR(50)" />
			<column name="PSL_CATEGORY_ID" type="bigint" />
			<column name="PSL_CATEGORY_DESC" type="VARCHAR(50)" />
			<column name="INTEREST_RATE" type="decimal(10,7)" />
			<column name="MARKUP" type="decimal(10,7)" />
			<column name="RATE_TYPE" type="VARCHAR(50)" />
			<column name="PLR_RATE" type="decimal(10,7)" />
			<column name="PLR_TYPE" type="VARCHAR(50)" />
			<column name="WEAKER_SECTION" type="VARCHAR(50)" />
			<column name="WEAKER_SECTION_DESC" type="VARCHAR(50)" />
			<column name="BANK_RATE" type="decimal(10,7)" />
			<column name="BROKERID" type="bigint" />
			<column name="BRANCH_ID" type="bigint" />
			<column name="PSL_SUB_CATEGORY" type="bigint" />
			<column name="PSL_SUB_CAT_DESC" type="VARCHAR(50)" />
			<column name="SCHEME_DESC" type="int" />
			<column name="LPP_RATE" type="VARCHAR(50)" />
			<column name="PRODUCT_DESC" type="VARCHAR(50)" />
			<column name="PRODUCT_TYPE" type="VARCHAR(50)" />
			<column name="SECURITISED_FLAG" type="VARCHAR(1)" />
			<column name="RUNDATE" type="DATETIME" />
			<column name="UI_LMS_GL" type="bigint" />
			<column name="UI_OFS_GL" type="bigint" />
			<column name="GR_LMS_GL" type="bigint" />
			<column name="GR_OFS_GL" type="bigint" />
			<column name="RE_LMS_GL" type="bigint" />
			<column name="RE_OFS_GL" type="bigint" />
			<column name="EX_LMS_GL" type="bigint" />
			<column name="EX_OFS_GL" type="bigint" />
			<column name="AI_LMS_GL" type="bigint" />
			<column name="AI_OFS_GL" type="bigint" />
			<column name="IS_LMS_GL" type="bigint" />
			<column name="IS_OFS_GL" type="bigint" />
			<column name="AIA_LMS_GL" type="bigint" />
			<column name="AIA_OFS_GL" type="bigint" />
			<column name="LAND_VALUE" type="decimal(18,2)" />
			<column name="DSA_CODE" type="bigint" />
			<column name="DSA_DESC" type="VARCHAR(50)" />
			<column name="HUB_BRANCH_ID" type="bigint" />
			<column name="HUB_BRANCH_DESC" type="VARCHAR(50)" />
			<column name="ADDITIONAL_DISBURSAL_AMT_L" type="decimal(18,2)" />
			<column name="ADDITIONAL_PARTPAID_AMT_L" type="decimal(18,2)" />
			<column name="INTEREST_ACCRUED" type="decimal(13,5)" />
			<column name="SUB_INDUSTRY" type="bigint" />
			<column name="SUB_INDUSTRY_DESC" type="VARCHAR(50)" />
			<column name="LAND_AREA" type="bigint" />
			<column name="LAND_UNIT_CD" type="VARCHAR(50)" />
			<column name="CME" type="VARCHAR(50)" />
			<column name="REAL_ESTATE" type="VARCHAR(50)" />
			<column name="PDC_AC_NO" type="bigint" />
			<column name="TOT_CLOSURE_AMT" type="decimal(18,2)" />
			<column name="TOT_CLOSURE_AMT_COL" type="decimal(18,2)" />
			<column name="TOT_WAIVE_OFF" type="decimal(18,2)" />
			<column name="CLOSURE_AMT" type="decimal(18,2)" />
			<column name="CLOSURE_AMT_COL" type="decimal(18,2)" />
			<column name="WAIVE_OFF" type="decimal(18,2)" />
			<column name="PRINCIPAL_PAID_T" type="decimal(18,2)" />
			<column name="INTEREST_PAID_T" type="decimal(18,2)" />
			<column name="TERMIN_DATE" type="DATETIME" />
			<column name="RESTRUCTURE_FLAG" type="VARCHAR(1)" />
			<column name="RESCHEDULE_FLAG" type="VARCHAR(1)" />
			<column name="RESTRUCTURE_DATE" type="DATETIME" />
			<column name="RESTRUCTURE_TENURE" type="bigint" />
			<column name="RESTRUCTURE_AMOUNT" type="decimal(18,2)" />
			<column name="RESTRUCTURE_TYPE" type="VARCHAR(50)" />
			<column name="BRANCH_DESC" type="VARCHAR(50)" />
			<column name="B_CITY" type="VARCHAR(50)" />
			<column name="B_STATE" type="VARCHAR(50)" />
			<column name="B_PINCODE" type="bigint" />
			<column name="SALUTATION" type="VARCHAR(5)" />
			<column name="CUSTOMER_NAME" type="VARCHAR(50)" />
			<column name="CUSTOMER_TYPE" type="VARCHAR(50)" />
			<column name="GENDER" type="VARCHAR(50)" />
			<column name="MARITAL_STATUS_CD" type="VARCHAR(5)" />
			<column name="RESIDENT_FLAG" type="VARCHAR(50)" />
			<column name="NATIONALITY_CODE" type="VARCHAR(50)" />
			<column name="PROFESSION" type="VARCHAR(50)" />
			<column name="NATURE_OF_BUSINESS" type="VARCHAR(50)" />
			<column name="MB_AC_NO" type="bigint" />
			<column name="DEPENDENTS" type="bigint" />
			<column name="RELIGION" type="VARCHAR(50)" />
			<column name="GROUP_ID" type="bigint" />
			<column name="CUSTOMER_INDUSTRY" type="bigint" />
			<column name="CUSTOMER_INDUSTRY_DESC" type="VARCHAR(100)" />
			<column name="CASTE" type="VARCHAR(50)" />
			<column name="CASTE_DESC" type="VARCHAR(100)" />
			<column name="DOB" type="DATETIME" />
			<column name="DOI" type="DATETIME" />
			<column name="PAN" type="VARCHAR(50)" />
			<column name="VAT_AC_NO" type="bigint" />
			<column name="MONTHLY_INCOME" type="decimal(18,2)" />
			<column name="YEARLY_INCOME" type="decimal(18,2)" />
			<column name="ANNUAL_TURNOVER" type="decimal(18,2)" />
			<column name="CUST_RATING" type="VARCHAR(50)" />
			<column name="CURRENT_COMPANY" type="VARCHAR(200)" />
			<column name="EDUCATION_CODE" type="VARCHAR(50)" />
			<column name="DISABLED_FLAG" type="VARCHAR(50)" />
			<column name="GROUP_DESC" type="VARCHAR(50)" />
			<column name="CONSTITUTION" type="bigint" />
			<column name="CONSTITUTION_DESC" type="VARCHAR(50)" />
			<column name="RESIDENT_SINCE" type="VARCHAR(50)" />
			<column name="M_ADDRESS1" type="VARCHAR(50)" />
			<column name="M_ADDRESS2" type="VARCHAR(50)" />
			<column name="M_ADDRESS3" type="VARCHAR(50)" />
			<column name="M_ADDRESS4" type="VARCHAR(50)" />
			<column name="M_LANDMARK" type="VARCHAR(50)" />
			<column name="M_PHONE1" type="VARCHAR(50)" />
			<column name="M_PHONE2" type="VARCHAR(50)" />
			<column name="M_MOBILE1" type="VARCHAR(50)" />
			<column name="M_MOBILE2" type="VARCHAR(50)" />
			<column name="M_EMAIL" type="VARCHAR(50)" />
			<column name="M_CITY" type="VARCHAR(50)" />
			<column name="M_STATE" type="VARCHAR(50)" />
			<column name="M_PINCODE" type="bigint" />
			<column name="M_DISTRICT" type="VARCHAR(50)" />
			<column name="M_COUNTRY" type="VARCHAR(50)" />
			<column name="POPULATION_CAT" type="bigint" />
			<column name="RELIGION_DESC" type="VARCHAR(50)" />
			<column name="CUST_RATING_DESC" type="VARCHAR(50)" />
			<column name="EDUCATION_DESC" type="VARCHAR(50)" />
			<column name="PROFESSION_DESC" type="VARCHAR(50)" />
			<column name="LAND_UNIT" type="VARCHAR(50)" />
			<column name="NATURE_OF_BUSINESS_DESC" type="VARCHAR(50)" />
			<column name="MARITAL_STATUS" type="VARCHAR(50)" />
			<column name="OVERDUE_EMI_AMT" type="decimal(18,2)" />
			<column name="OVERDUE_EMI_CNT" type="decimal(18,2)" />
			<column name="OVERDUE_PRINCIPAL" type="decimal(18,2)" />
			<column name="OVERDUE_INTEREST" type="decimal(18,2)" />
			<column name="TOTAL_POS" type="decimal(18,2)" />
			<column name="TOTAL_IOS" type="decimal(18,2)" />
			<column name="LAST_EMI_BILLED_ON" type="DATETIME" />
			<column name="BILLED_PROPINSTLID" type="decimal(18,2)" />
			<column name="FUTURE_POS" type="decimal(18,2)" />
			<column name="FUTURE_IOS" type="decimal(18,2)" />
			<column name="MATURITY_DATE" type="DATETIME" />
			<column name="INTEREST_PAID_L" type="decimal(18,2)" />
			<column name="PRINCIPAL_PAID_L" type="decimal(18,2)" />
			<column name="BILLED_EMI_L" type="decimal(18,2)" />
			<column name="EMI_COLLECTED_L" type="decimal(18,2)" />
			<column name="OVERDUE_EMI_AMT_L" type="decimal(18,2)" />
			<column name="LPP_CHARGED" type="decimal(18,2)" />
			<column name="LPP_OUTSTANDING" type="decimal(18,2)" />
			<column name="TOTAL_OTH_CHRG" type="decimal(18,2)" />
			<column name="TOTAL_OTH_CHRG_OS" type="decimal(18,2)" />
			<column name="GR_CR_L" type="decimal(18,2)" />
			<column name="GR_DR_L" type="decimal(18,2)" />
			<column name="RE_CR_L" type="decimal(18,2)" />
			<column name="RE_DR_L" type="decimal(18,2)" />
			<column name="IS_CR_L" type="decimal(18,2)" />
			<column name="IS_DR_L" type="decimal(18,2)" />
			<column name="UI_CR_L" type="decimal(18,2)" />
			<column name="UI_DR_L" type="decimal(18,2)" />
			<column name="AI_CR_L" type="decimal(18,2)" />
			<column name="AI_DR_L" type="decimal(18,2)" />
			<column name="EX_CR_L" type="decimal(18,2)" />
			<column name="EX_DR_L" type="decimal(18,2)" />
			<column name="AIA_CR_L" type="decimal(18,2)" />
			<column name="AIA_DR_L" type="decimal(18,2)" />
			<column name="LAST_PAYMENT_DT" type="DATETIME" />
			<column name="CHQ_BOUNCE" type="bigint" />
			<column name="GR_CR" type="decimal(18,2)" />
			<column name="GR_DR" type="decimal(18,2)" />
			<column name="RE_CR" type="decimal(18,2)" />
			<column name="RE_DR" type="decimal(18,2)" />
			<column name="IS_CR" type="decimal(18,2)" />
			<column name="IS_DR" type="decimal(18,2)" />
			<column name="UI_CR" type="decimal(18,2)" />
			<column name="UI_DR" type="decimal(18,2)" />
			<column name="AI_CR" type="decimal(18,2)" />
			<column name="AI_DR" type="decimal(18,2)" />
			<column name="AIA_CR" type="decimal(18,2)" />
			<column name="AIA_DR" type="decimal(18,2)" />
			<column name="EX_CR" type="decimal(18,2)" />
			<column name="EX_DR" type="decimal(18,2)" />
			<column name="ADDITIONAL_PARTPAID_AMT" type="decimal(18,2)" />
			<column name="PREVIOUS_EMI_DUE" type="decimal(18,2)" />
			<column name="ADDITIONAL_DISBURSAL_AMT" type="decimal(18,2)" />
			<column name="INTEREST_PAID" type="decimal(18,2)" />
			<column name="PRINCIPAL_PAID" type="decimal(18,2)" />
			<column name="BILLED_EMI" type="decimal(18,2)" />
			<column name="EMI_COLLECTED" type="decimal(18,2)" />
		</createTable>
	</changeSet>



	<changeSet id="16" author="goutham.ch">
		<createTable tableName="RBIADFEXTRACTHIST1">
			<column name="RNUM" type="bigint" />
			<column name="AGREEMENT_ID" type="VARCHAR(18)" />
			<column name="CUSTOMER_ID" type="VARCHAR(18)" />
			<column name="PRODUCT_CODE" type="VARCHAR(8)" />
			<column name="SCHEME_ID" type="bigint" />
			<column name="CREDIT_PROMO_SCHEME_ID" type="VARCHAR(50)" />
			<column name="CREDIT_PROMO_SCHEME_DESC" type="VARCHAR(50)" />
			<column name="APPLICATION_DATE" type="DATETIME" />
			<column name="APPROVAL_DATE" type="DATETIME" />
			<column name="INSTLMODE" type="VARCHAR(50)" />
			<column name="LOAN_AMT" type="decimal(13,2)" />
			<column name="NO_OF_INSTALLMENTS" type="bigint" />
			<column name="DISBURSAL_DATE" type="DATETIME" />
			<column name="LOAN_START_DATE" type="DATETIME" />
			<column name="CLOSURE_DATE" type="DATETIME" />
			<column name="LOAN_BOARDING_DATE" type="DATETIME" />
			<column name="APP_SERIAL_NO" type="bigint" />
			<column name="TENURE" type="bigint" />
			<column name="TOTAL_DISBURSED_AMT" type="decimal(18,2)" />
			<column name="LOAN_AMT_REQ" type="decimal(18,2)" />
			<column name="LOAN_PURPOSE" type="VARCHAR(50)" />
			<column name="INSTALLMENT_TYPE" type="VARCHAR(50)" />
			<column name="INSTALLMENT_TYPE_DESC" type="VARCHAR(50)" />
			<column name="FREQUENCY" type="VARCHAR(50)" />
			<column name="STS_CD" type="VARCHAR(50)" />
			<column name="LOAN_STATUS" type="VARCHAR(50)" />
			<column name="SECOND_SOURCE" type="VARCHAR(50)" />
			<column name="DPD" type="bigint" />
			<column name="NPA_STAGE_ID" type="VARCHAR(50)" />
			<column name="ASSET_CLASS_ID" type="VARCHAR(50)" />
			<column name="PSL_CATEGORY_ID" type="bigint" />
			<column name="PSL_CATEGORY_DESC" type="VARCHAR(50)" />
			<column name="INTEREST_RATE" type="decimal(10,7)" />
			<column name="MARKUP" type="decimal(10,7)" />
			<column name="RATE_TYPE" type="VARCHAR(50)" />
			<column name="PLR_RATE" type="decimal(10,7)" />
			<column name="PLR_TYPE" type="VARCHAR(50)" />
			<column name="WEAKER_SECTION" type="VARCHAR(50)" />
			<column name="WEAKER_SECTION_DESC" type="VARCHAR(50)" />
			<column name="BANK_RATE" type="decimal(10,7)" />
			<column name="BROKERID" type="bigint" />
			<column name="BRANCH_ID" type="bigint" />
			<column name="PSL_SUB_CATEGORY" type="bigint" />
			<column name="PSL_SUB_CAT_DESC" type="VARCHAR(50)" />
			<column name="SCHEME_DESC" type="int" />
			<column name="LPP_RATE" type="VARCHAR(50)" />
			<column name="PRODUCT_DESC" type="VARCHAR(50)" />
			<column name="PRODUCT_TYPE" type="VARCHAR(50)" />
			<column name="SECURITISED_FLAG" type="VARCHAR(1)" />
			<column name="RUNDATE" type="DATETIME" />
			<column name="UI_LMS_GL" type="bigint" />
			<column name="UI_OFS_GL" type="bigint" />
			<column name="GR_LMS_GL" type="bigint" />
			<column name="GR_OFS_GL" type="bigint" />
			<column name="RE_LMS_GL" type="bigint" />
			<column name="RE_OFS_GL" type="bigint" />
			<column name="EX_LMS_GL" type="bigint" />
			<column name="EX_OFS_GL" type="bigint" />
			<column name="AI_LMS_GL" type="bigint" />
			<column name="AI_OFS_GL" type="bigint" />
			<column name="IS_LMS_GL" type="bigint" />
			<column name="IS_OFS_GL" type="bigint" />
			<column name="AIA_LMS_GL" type="bigint" />
			<column name="AIA_OFS_GL" type="bigint" />
			<column name="LAND_VALUE" type="decimal(18,2)" />
			<column name="DSA_CODE" type="bigint" />
			<column name="DSA_DESC" type="VARCHAR(50)" />
			<column name="HUB_BRANCH_ID" type="bigint" />
			<column name="HUB_BRANCH_DESC" type="VARCHAR(50)" />
			<column name="ADDITIONAL_DISBURSAL_AMT_L" type="decimal(18,2)" />
			<column name="ADDITIONAL_PARTPAID_AMT_L" type="decimal(18,2)" />
			<column name="INTEREST_ACCRUED" type="decimal(13,5)" />
			<column name="SUB_INDUSTRY" type="bigint" />
			<column name="SUB_INDUSTRY_DESC" type="VARCHAR(50)" />
			<column name="LAND_AREA" type="bigint" />
			<column name="LAND_UNIT_CD" type="VARCHAR(50)" />
			<column name="CME" type="VARCHAR(50)" />
			<column name="REAL_ESTATE" type="VARCHAR(50)" />
			<column name="PDC_AC_NO" type="bigint" />
			<column name="TOT_CLOSURE_AMT" type="decimal(18,2)" />
			<column name="TOT_CLOSURE_AMT_COL" type="decimal(18,2)" />
			<column name="TOT_WAIVE_OFF" type="decimal(18,2)" />
			<column name="CLOSURE_AMT" type="decimal(18,2)" />
			<column name="CLOSURE_AMT_COL" type="decimal(18,2)" />
			<column name="WAIVE_OFF" type="decimal(18,2)" />
			<column name="PRINCIPAL_PAID_T" type="decimal(18,2)" />
			<column name="INTEREST_PAID_T" type="decimal(18,2)" />
			<column name="TERMIN_DATE" type="DATETIME" />
			<column name="RESTRUCTURE_FLAG" type="VARCHAR(1)" />
			<column name="RESCHEDULE_FLAG" type="VARCHAR(1)" />
			<column name="RESTRUCTURE_DATE" type="DATETIME" />
			<column name="RESTRUCTURE_TENURE" type="bigint" />
			<column name="RESTRUCTURE_AMOUNT" type="decimal(18,2)" />
			<column name="RESTRUCTURE_TYPE" type="VARCHAR(50)" />
			<column name="BRANCH_DESC" type="VARCHAR(50)" />
			<column name="B_CITY" type="VARCHAR(50)" />
			<column name="B_STATE" type="VARCHAR(50)" />
			<column name="B_PINCODE" type="bigint" />
			<column name="SALUTATION" type="VARCHAR(5)" />
			<column name="CUSTOMER_NAME" type="VARCHAR(50)" />
			<column name="CUSTOMER_TYPE" type="VARCHAR(50)" />
			<column name="GENDER" type="VARCHAR(50)" />
			<column name="MARITAL_STATUS_CD" type="VARCHAR(5)" />
			<column name="RESIDENT_FLAG" type="VARCHAR(50)" />
			<column name="NATIONALITY_CODE" type="VARCHAR(50)" />
			<column name="PROFESSION" type="VARCHAR(50)" />
			<column name="NATURE_OF_BUSINESS" type="VARCHAR(50)" />
			<column name="MB_AC_NO" type="bigint" />
			<column name="DEPENDENTS" type="bigint" />
			<column name="RELIGION" type="VARCHAR(50)" />
			<column name="GROUP_ID" type="bigint" />
			<column name="CUSTOMER_INDUSTRY" type="bigint" />
			<column name="CUSTOMER_INDUSTRY_DESC" type="VARCHAR(100)" />
			<column name="CASTE" type="VARCHAR(50)" />
			<column name="CASTE_DESC" type="VARCHAR(100)" />
			<column name="DOB" type="DATETIME" />
			<column name="DOI" type="DATETIME" />
			<column name="PAN" type="VARCHAR(50)" />
			<column name="VAT_AC_NO" type="bigint" />
			<column name="MONTHLY_INCOME" type="decimal(18,2)" />
			<column name="YEARLY_INCOME" type="decimal(18,2)" />
			<column name="ANNUAL_TURNOVER" type="decimal(18,2)" />
			<column name="CUST_RATING" type="VARCHAR(50)" />
			<column name="CURRENT_COMPANY" type="VARCHAR(200)" />
			<column name="EDUCATION_CODE" type="VARCHAR(50)" />
			<column name="DISABLED_FLAG" type="VARCHAR(50)" />
			<column name="GROUP_DESC" type="VARCHAR(50)" />
			<column name="CONSTITUTION" type="bigint" />
			<column name="CONSTITUTION_DESC" type="VARCHAR(50)" />
			<column name="RESIDENT_SINCE" type="VARCHAR(50)" />
			<column name="M_ADDRESS1" type="VARCHAR(50)" />
			<column name="M_ADDRESS2" type="VARCHAR(50)" />
			<column name="M_ADDRESS3" type="VARCHAR(50)" />
			<column name="M_ADDRESS4" type="VARCHAR(50)" />
			<column name="M_LANDMARK" type="VARCHAR(50)" />
			<column name="M_PHONE1" type="VARCHAR(50)" />
			<column name="M_PHONE2" type="VARCHAR(50)" />
			<column name="M_MOBILE1" type="VARCHAR(50)" />
			<column name="M_MOBILE2" type="VARCHAR(50)" />
			<column name="M_EMAIL" type="VARCHAR(50)" />
			<column name="M_CITY" type="VARCHAR(50)" />
			<column name="M_STATE" type="VARCHAR(50)" />
			<column name="M_PINCODE" type="bigint" />
			<column name="M_DISTRICT" type="VARCHAR(50)" />
			<column name="M_COUNTRY" type="VARCHAR(50)" />
			<column name="POPULATION_CAT" type="bigint" />
			<column name="RELIGION_DESC" type="VARCHAR(50)" />
			<column name="CUST_RATING_DESC" type="VARCHAR(50)" />
			<column name="EDUCATION_DESC" type="VARCHAR(50)" />
			<column name="PROFESSION_DESC" type="VARCHAR(50)" />
			<column name="LAND_UNIT" type="VARCHAR(50)" />
			<column name="NATURE_OF_BUSINESS_DESC" type="VARCHAR(50)" />
			<column name="MARITAL_STATUS" type="VARCHAR(50)" />
			<column name="OVERDUE_EMI_AMT" type="decimal(18,2)" />
			<column name="OVERDUE_EMI_CNT" type="decimal(18,2)" />
			<column name="OVERDUE_PRINCIPAL" type="decimal(18,2)" />
			<column name="OVERDUE_INTEREST" type="decimal(18,2)" />
			<column name="TOTAL_POS" type="decimal(18,2)" />
			<column name="TOTAL_IOS" type="decimal(18,2)" />
			<column name="LAST_EMI_BILLED_ON" type="DATETIME" />
			<column name="BILLED_PROPINSTLID" type="decimal(18,2)" />
			<column name="FUTURE_POS" type="decimal(18,2)" />
			<column name="FUTURE_IOS" type="decimal(18,2)" />
			<column name="MATURITY_DATE" type="DATETIME" />
			<column name="INTEREST_PAID_L" type="decimal(18,2)" />
			<column name="PRINCIPAL_PAID_L" type="decimal(18,2)" />
			<column name="BILLED_EMI_L" type="decimal(18,2)" />
			<column name="EMI_COLLECTED_L" type="decimal(18,2)" />
			<column name="OVERDUE_EMI_AMT_L" type="decimal(18,2)" />
			<column name="LPP_CHARGED" type="decimal(18,2)" />
			<column name="LPP_OUTSTANDING" type="decimal(18,2)" />
			<column name="TOTAL_OTH_CHRG" type="decimal(18,2)" />
			<column name="TOTAL_OTH_CHRG_OS" type="decimal(18,2)" />
			<column name="GR_CR_L" type="decimal(18,2)" />
			<column name="GR_DR_L" type="decimal(18,2)" />
			<column name="RE_CR_L" type="decimal(18,2)" />
			<column name="RE_DR_L" type="decimal(18,2)" />
			<column name="IS_CR_L" type="decimal(18,2)" />
			<column name="IS_DR_L" type="decimal(18,2)" />
			<column name="UI_CR_L" type="decimal(18,2)" />
			<column name="UI_DR_L" type="decimal(18,2)" />
			<column name="AI_CR_L" type="decimal(18,2)" />
			<column name="AI_DR_L" type="decimal(18,2)" />
			<column name="EX_CR_L" type="decimal(18,2)" />
			<column name="EX_DR_L" type="decimal(18,2)" />
			<column name="AIA_CR_L" type="decimal(18,2)" />
			<column name="AIA_DR_L" type="decimal(18,2)" />
			<column name="LAST_PAYMENT_DT" type="DATETIME" />
			<column name="CHQ_BOUNCE" type="bigint" />
			<column name="GR_CR" type="decimal(18,2)" />
			<column name="GR_DR" type="decimal(18,2)" />
			<column name="RE_CR" type="decimal(18,2)" />
			<column name="RE_DR" type="decimal(18,2)" />
			<column name="IS_CR" type="decimal(18,2)" />
			<column name="IS_DR" type="decimal(18,2)" />
			<column name="UI_CR" type="decimal(18,2)" />
			<column name="UI_DR" type="decimal(18,2)" />
			<column name="AI_CR" type="decimal(18,2)" />
			<column name="AI_DR" type="decimal(18,2)" />
			<column name="AIA_CR" type="decimal(18,2)" />
			<column name="AIA_DR" type="decimal(18,2)" />
			<column name="EX_CR" type="decimal(18,2)" />
			<column name="EX_DR" type="decimal(18,2)" />
			<column name="ADDITIONAL_PARTPAID_AMT" type="decimal(18,2)" />
			<column name="PREVIOUS_EMI_DUE" type="decimal(18,2)" />
			<column name="ADDITIONAL_DISBURSAL_AMT" type="decimal(18,2)" />
			<column name="INTEREST_PAID" type="decimal(18,2)" />
			<column name="PRINCIPAL_PAID" type="decimal(18,2)" />
			<column name="BILLED_EMI" type="decimal(18,2)" />
			<column name="EMI_COLLECTED" type="decimal(18,2)" />
		</createTable>
	</changeSet>

	<changeSet id="17" author="SREERAM.R" dbms="oracle">
		<createProcedure>
			create or replace PROCEDURE SP_RBIADFEXTRACT AS
			BEGIN
			EXECUTE IMMEDIATE 'TRUNCATE TABLE
			RBIADFEXTRACTHIST1';
			EXECUTE IMMEDIATE 'INSERT INTO RBIADFEXTRACTHIST1
			SELECT * FROM RBIADFEXTRACTHIST';
			EXECUTE
			IMMEDIATE 'TRUNCATE TABLE RBIADFEXTRACTHIST';
			EXECUTE IMMEDIATE 'INSERT INTO RBIADFEXTRACTHIST
			SELECT * FROM
			RBIADFEXTRACT';
			EXECUTE IMMEDIATE 'TRUNCATE TABLE RBIADFEXTRACT';
			INSERT INTO
			RBIADFEXTRACT(RNUM,AGREEMENT_ID,CUSTOMER_ID,PRODUCT_CODE,SCHEME_ID,
			CREDIT_PROMO_SCHEME_ID,CREDIT_PROMO_SCHEME_DESC,APPLICATION_DATE,APPROVAL_DATE,INSTLMODE,
			LOAN_AMT,NO_OF_INSTALLMENTS,DISBURSAL_DATE,LOAN_START_DATE,CLOSURE_DATE,LOAN_BOARDING_DATE,
			APP_SERIAL_NO,TENURE,TOTAL_DISBURSED_AMT,LOAN_AMT_REQ,LOAN_PURPOSE,INSTALLMENT_TYPE,
			INSTALLMENT_TYPE_DESC,FREQUENCY,STS_CD,LOAN_STATUS,SECOND_SOURCE,DPD,NPA_STAGE_ID,ASSET_CLASS_ID,
			PSL_CATEGORY_ID,PSL_CATEGORY_DESC,INTEREST_RATE,MARKUP,RATE_TYPE,PLR_RATE,PLR_TYPE,WEAKER_SECTION,
			WEAKER_SECTION_DESC,BANK_RATE,BROKERID,BRANCH_ID,PSL_SUB_CATEGORY,PSL_SUB_CAT_DESC,SCHEME_DESC,
			LPP_RATE,PRODUCT_DESC,PRODUCT_TYPE,SECURITISED_FLAG,RUNDATE,UI_LMS_GL,UI_OFS_GL,GR_LMS_GL,
			GR_OFS_GL,RE_LMS_GL,RE_OFS_GL,EX_LMS_GL,EX_OFS_GL,AI_LMS_GL,AI_OFS_GL,IS_LMS_GL,IS_OFS_GL,
			AIA_LMS_GL,AIA_OFS_GL,LAND_VALUE,DSA_CODE,DSA_DESC,HUB_BRANCH_ID,HUB_BRANCH_DESC,
			ADDITIONAL_DISBURSAL_AMT_L,ADDITIONAL_PARTPAID_AMT_L,INTEREST_ACCRUED,SUB_INDUSTRY,
			SUB_INDUSTRY_DESC,LAND_AREA,LAND_UNIT_CD,CME,REAL_ESTATE,PDC_AC_NO,TOT_CLOSURE_AMT,
			TOT_CLOSURE_AMT_COL,TOT_WAIVE_OFF,CLOSURE_AMT,CLOSURE_AMT_COL,WAIVE_OFF,PRINCIPAL_PAID_T,
			INTEREST_PAID_T,TERMIN_DATE,RESTRUCTURE_FLAG,RESCHEDULE_FLAG,RESTRUCTURE_DATE,RESTRUCTURE_TENURE,
			RESTRUCTURE_AMOUNT,RESTRUCTURE_TYPE,BRANCH_DESC,B_CITY,B_STATE,B_PINCODE,SALUTATION,CUSTOMER_NAME,
			CUSTOMER_TYPE,GENDER,MARITAL_STATUS_CD,RESIDENT_FLAG,NATIONALITY_CODE,PROFESSION,NATURE_OF_BUSINESS,
			MB_AC_NO,DEPENDENTS,RELIGION,GROUP_ID,CUSTOMER_INDUSTRY,CUSTOMER_INDUSTRY_DESC,CASTE,CASTE_DESC,
			DOB,DOI,PAN,VAT_AC_NO,MONTHLY_INCOME,YEARLY_INCOME,ANNUAL_TURNOVER,CUST_RATING,CURRENT_COMPANY,
			EDUCATION_CODE,DISABLED_FLAG,GROUP_DESC,CONSTITUTION,CONSTITUTION_DESC,RESIDENT_SINCE,M_ADDRESS1,
			M_ADDRESS2,M_ADDRESS3,M_ADDRESS4,M_LANDMARK,M_PHONE1,M_PHONE2,M_MOBILE1,M_MOBILE2,M_EMAIL,M_CITY,
			M_STATE,M_PINCODE,M_DISTRICT,M_COUNTRY,POPULATION_CAT,RELIGION_DESC,CUST_RATING_DESC,EDUCATION_DESC,
			PROFESSION_DESC,LAND_UNIT,NATURE_OF_BUSINESS_DESC,MARITAL_STATUS,OVERDUE_EMI_AMT,OVERDUE_EMI_CNT,
			OVERDUE_PRINCIPAL,OVERDUE_INTEREST,TOTAL_POS,TOTAL_IOS,LAST_EMI_BILLED_ON,BILLED_PROPINSTLID,
			FUTURE_POS,FUTURE_IOS,MATURITY_DATE,INTEREST_PAID_L,PRINCIPAL_PAID_L,BILLED_EMI_L,EMI_COLLECTED_L,
			OVERDUE_EMI_AMT_L,LPP_CHARGED,LPP_OUTSTANDING,TOTAL_OTH_CHRG,TOTAL_OTH_CHRG_OS,GR_CR_L,GR_DR_L,
			RE_CR_L,RE_DR_L,IS_CR_L,IS_DR_L,UI_CR_L,UI_DR_L,AI_CR_L,AI_DR_L,EX_CR_L,EX_DR_L,AIA_CR_L,AIA_DR_L,
			LAST_PAYMENT_DT,CHQ_BOUNCE,GR_CR,GR_DR,RE_CR,RE_DR,IS_CR,IS_DR,UI_CR,UI_DR,AI_CR,AI_DR,AIA_CR,
			AIA_DR,EX_CR,EX_DR,ADDITIONAL_PARTPAID_AMT,PREVIOUS_EMI_DUE,ADDITIONAL_DISBURSAL_AMT,INTEREST_PAID,
			PRINCIPAL_PAID,BILLED_EMI,EMI_COLLECTED)
			select SEQ_RBIADF.NEXTVAL RNUM,FPD.FINREFERENCE AGREEMENT_ID,FPD.CUSTCIF
			CUSTOMER_ID,
			FPD.FINTYPE PRODUCT_CODE,FM.PROMOTIONCODE SCHEME_ID,0,'',FM.INITIATEDATE APPLICATION_DATE,
			FM.APPROVEDON
			APPROVAL_DATE,'',FM.FINCURRASSETVALUE LOAN_AMT,FM.NUMBEROFTERMS NO_OF_INSTALLMENTS,
			FM.FINSTARTDATE
			DISBURSAL_DATE,NULL,FM.CLOSEDDATE CLOSURE_DATE,FM.FINAPPROVEDDATE LOAN_BOARDING_DATE,
			FM.APPLICATIONNO
			APP_SERIAL_NO,0,FAD.AMTTOBERELEASED TOTAL_DISBURSED_AMT,0,'','','','','','','',
			FPD.CURODDAYS DPD,(SELECT NPASTAGE
			FROM
			NPA_LOAN_INFO WHERE FINREFERENCE=FPD.FINREFERENCE) NPA_STAGE_ID,
			(SELECT NPACLASSID FROM NPA_LOAN_INFO WHERE
			FINREFERENCE=FPD.FINREFERENCE) ASSET_CLASS_ID,0,'',
			FM.REPAYPROFITRATE INTEREST_RATE,FM.REPAYMARGIN
			MARKUP,FM.REPAYBASERATE RATE_TYPE,0,FM.REPAYBASERATE PLR_TYPE,
			'','',FM.REPAYPROFITRATE BANK_RATE,0,FM.FINBRANCH
			BRANCH_ID,0,'','',(SELECT ODMAXWAIVERPERC FROM FINODPENALTYRATES WHERE
			FINREFERENCE=FPD.FINREFERENCE)
			LPP_RATE,'','','',(SELECT (TO_DATE(SYSPARMVALUE,'YYYY-MM-DD')) FROM SMTPARAMETERS WHERE SYSPARMCODE='APP_DATE')
			RUNDATE,
			0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,FM.DSACODE DSA_CODE,FM.DSACODE DSA_DESC,(SELECT BRANCHSWIFTBANKCDE FROM
			RMTBRANCHES
			WHERE BRANCHCODE=FM.FINBRANCH) HUB_BRANCH_ID,(SELECT BRANCHDESC FROM RMTBRANCHES WHERE
			BRANCHCODE=FM.FINBRANCH) HUB_BRANCH_DESC,(FM.FINCURRASSETVALUE - FM.FINAMOUNT)
			ADDITIONAL_DISBURSAL_AMT_L,(SELECT
			SUM(PARTIALPAIDAMT) FROM FINSCHEDULEDETAILS WHERE FINREFERENCE=FPD.FINREFERENCE)
			ADDITIONAL_PARTPAID_AMT_L,FPD.AMZTILLLBD INTEREST_ACCRUED,0,'',0,'','','',0,0,0,0,0,0,0,0,0,NULL,CASE WHEN ((SELECT
			COUNT(*) FROM RESTRUCTURE_DETAILS WHERE FINREFERENCE=FPD.FINREFERENCE)>0) THEN 'Y' ELSE 'N' END
			RESTRUCTURE_FLAG,'',(SELECT RESTRUCTUREDATE FROM RESTRUCTURE_DETAILS WHERE FINREFERENCE = FPD.FINREFERENCE)
			RESTRUCTURE_DATE,0,0,'',(SELECT
			BRANCHDESC FROM RMTBRANCHES WHERE BRANCHCODE=FM.FINBRANCH) BRANCH_DESC,(SELECT
			BRANCHCITY FROM RMTBRANCHES WHERE BRANCHCODE=FM.FINBRANCH) B_CITY,(SELECT BRANCHPROVINCE FROM RMTBRANCHES WHERE
			BRANCHCODE=FM.FINBRANCH) B_STATE,(SELECT PINCODEID FROM RMTBRANCHES WHERE BRANCHCODE=FM.FINBRANCH)
			B_PINCODE,CUST.CUSTSALUTATIONCODE
			SALUTATION,CUST.CUSTSHRTNAME CUSTOMER_NAME,CUST.CUSTCTGCODE
			CUSTOMER_TYPE,CUST.CUSTGENDERCODE GENDER,CUST.CUSTMARITALSTS MARITAL_STATUS_CD,'',CUST.CUSTNATIONALITY
			NATIONALITY_CODE,CUST.CUSTPROFESSION
			PROFESSION,CUST.NATUREOFBUSINESS NATURE_OF_BUSINESS,0,CUST.NOOFDEPENDENTS
			DEPENDENTS,CUST.RELIGIONID RELIGION,0,CUST.CUSTINDUSTRY CUSTOMER_INDUSTRY,CUST.CUSTINDUSTRY
			CUSTOMER_INDUSTRY,CUST.CASTEID CASTE,CUST.CASTEID CASTE_DESC,CUST.CUSTDOB DOB,CUST.CUSTDOB
			DOI,'',0,0,0,0,'','','','','',0,'','','','','','','','','','','','','','',0,'','',0,CUST.RELIGIONID
			RELIGION_DESC,'','','','',CUST.NATUREOFBUSINESS NATURE_OF_BUSINESS_DESC,CUST.CUSTMARITALSTS MARITAL_STATUS,
			(FPD.ODPROFIT + FPD.ODPRINCIPAL) OVERDUE_EMI_AMT,0 OVERDUE_EMI_CNT,FPD.ODPRINCIPAL OVERDUE_PRINCIPAL,FPD.ODPROFIT
			OVERDUE_INTEREST,FPD.TOTALPRIBAL TOTAL_POS,FPD.TOTALPFTBAL TOTAL_IOS,FPD.LATESTRPYDATE
			LAST_EMI_BILLED_ON,0,(FPD.TOTALPRIBAL-FPD.ODPRINCIPAL) FUTURE_POS,(FPD.TOTALPFTBAL - FPD.ODPROFIT)
			FUTURE_IOS,FM.MATURITYDATE MATURITY_DATE,FPD.TOTALPFTPAID INTEREST_PAID_L,FPD.TOTALPRIPAID
			PRINCIPAL_PAID_L,0,(FPD.TOTALPRIPAID+FPD.TOTALPFTPAID) EMI_COLLECTED_L,(FPD.ODPROFIT + FPD.ODPRINCIPAL)
			OVERDUE_EMI_AMT_L,FPD.PENALTYPAID LPP_CHARGED,FPD.PENALTYDUE
			LPP_OUTSTANDING,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,NULL,(SELECT COUNT(*) FROM MANUALADVISE WHERE BOUNCEID >0 AND
			FINREFERENCE =
			FPD.FINREFERENCE) CHQ_BOUNCE,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
			FROM FINANCEMAIN FM
			INNER JOIN
			FINPFTDETAILS FPD ON FPD.FINREFERENCE=FM.FINREFERENCE
			INNER JOIN FINADVANCEPAYMENTS FAD ON
			FAD.FINREFERENCE=FM.FINREFERENCE
			INNER JOIN RESTRUCTURE_DETAILS RSD ON RSD.FINREFERENCE=FM.FINREFERENCE
			INNER JOIN
			CUSTOMERS CUST ON CUST.CUSTID=FM.CUSTID;
			COMMIT;
			END SP_RBIADFEXTRACT;
		</createProcedure>
	</changeSet>


<changeSet id="18" author="goutham.ch">
	<createTable tableName="UCIC_CUSTOMERS">
		<column name="CUSTID" type="bigint" />
		<column name="CUSTCIF" type="VARCHAR(20)" />
		<column name="FINREFERENCE" type="VARCHAR(20)" />
		<column name="CREATION_DATE" type="datetime" />
		<column name="CUSTCOREBANK" type="VARCHAR(50)" />
		<column name="SOURCE_SYSTEM" type="VARCHAR(10)" />
		<column name="CUSTCTGCODE" type="VARCHAR(8)" />
		<column name="CUSTOMER_TYPE" type="VARCHAR(8)" />
		<column name="SUBCATEGORY" type="NVARCHAR(200)" />
		<column name="CUSTSHRTNAME" type="VARCHAR(200)" />
		<column name="CUSTDOB" type="datetime" />
		<column name="CUSTISBLOCKED" type="VARCHAR(2)" />
		<column name="CLOSEDDATE" type="datetime" />
		<column name="CLOSINGSTATUS" type="VARCHAR(100)" />
		<column name="CUSTMOTHERMAIDEN" type="VARCHAR(50)" />
		<column name="ACCNUMBER" type="VARCHAR(50)" />
		<column name="COMPANYNAME" type="VARCHAR(100)" />
		<column name="EMAIL1" type="VARCHAR(100)" />
		<column name="EMAIL2" type="VARCHAR(100)" />
		<column name="EMAIL3" type="VARCHAR(100)" />
		<column name="MOBILE1" type="VARCHAR(20)" />
		<column name="MOBILE2" type="VARCHAR(20)" />
		<column name="MOBILE3" type="VARCHAR(20)" />
		<column name="LANDLINE1" type="VARCHAR(50)" />
		<column name="LANDLINE2" type="VARCHAR(50)" />
		<column name="LANDLINE3" type="VARCHAR(50)" />
		<column name="PAN" type="VARCHAR(100)" />
		<column name="AADHAAR" type="VARCHAR(100)" />
		<column name="VOTER_ID" type="VARCHAR(100)" />
		<column name="DRIVING_LICENCE" type="VARCHAR(100)" />
		<column name="PASSPORT" type="VARCHAR(100)" />
		<column name="ADDR1TYPE" type="VARCHAR(10)" />
		<column name="ADDR1LINE1" type="VARCHAR(150)" />
		<column name="ADDR1LINE2" type="VARCHAR(150)" />
		<column name="ADDR1LINE3" type="VARCHAR(150)" />
		<column name="ADDR1LINE4" type="VARCHAR(150)" />
		<column name="ADDR1CITY" type="VARCHAR(150)" />
		<column name="ADDR1STATE" type="VARCHAR(150)" />
		<column name="ADDR1PIN" type="VARCHAR(10)" />
		<column name="ADDR2TYPE" type="VARCHAR(10)" />
		<column name="ADDR2LINE1" type="VARCHAR(150)" />
		<column name="ADDR2LINE2" type="VARCHAR(150)" />
		<column name="ADDR2LINE3" type="VARCHAR(150)" />
		<column name="ADDR2LINE4" type="VARCHAR(150)" />
		<column name="ADDR2CITY" type="VARCHAR(150)" />
		<column name="ADDR2STATE" type="VARCHAR(150)" />
		<column name="ADDR2PIN" type="VARCHAR(10)" />
		<column name="ADDR3TYPE" type="VARCHAR(10)" />
		<column name="ADDR3LINE1" type="VARCHAR(150)" />
		<column name="ADDR3LINE2" type="VARCHAR(150)" />
		<column name="ADDR3LINE3" type="VARCHAR(150)" />
		<column name="ADDR3LINE4" type="VARCHAR(150)" />
		<column name="ADDR3CITY" type="VARCHAR(150)" />
		<column name="ADDR3STATE" type="VARCHAR(150)" />
		<column name="ADDR3PIN" type="VARCHAR(10)" />
		<column name="INSERT_UPDATE_FLAG" type="VARCHAR(2)" />
		<column name="LASTMNTON" type="datetime" />
		<column name="PROCESS_DATE" type="datetime" />
		<column name="FINID" type="bigint" />
	</createTable>
</changeSet>


	<changeSet id="19" author="goutham.ch">
		<createTable tableName="UCIC_CUSTOMERS_HISTORY">
			<column name="CUSTID" type="bigint" />
			<column name="CUSTCIF" type="VARCHAR(20)" />
			<column name="FINREFERENCE" type="VARCHAR(20)" />
			<column name="CREATION_DATE" type="datetime" />
			<column name="CUSTCOREBANK" type="VARCHAR(50)" />
			<column name="SOURCE_SYSTEM" type="VARCHAR(10)" />
			<column name="CUSTCTGCODE" type="VARCHAR(8)" />
			<column name="CUSTOMER_TYPE" type="VARCHAR(8)" />
			<column name="SUBCATEGORY" type="NVARCHAR(200)" />
			<column name="CUSTSHRTNAME" type="VARCHAR(200)" />
			<column name="CUSTDOB" type="datetime" />
			<column name="CUSTISBLOCKED" type="VARCHAR(2)" />
			<column name="CLOSEDDATE" type="datetime" />
			<column name="CLOSINGSTATUS" type="VARCHAR(100)" />
			<column name="CUSTMOTHERMAIDEN" type="VARCHAR(50)" />
			<column name="ACCNUMBER" type="VARCHAR(50)" />
			<column name="COMPANYNAME" type="VARCHAR(100)" />
			<column name="EMAIL1" type="VARCHAR(100)" />
			<column name="EMAIL2" type="VARCHAR(100)" />
			<column name="EMAIL3" type="VARCHAR(100)" />
			<column name="MOBILE1" type="VARCHAR(20)" />
			<column name="MOBILE2" type="VARCHAR(20)" />
			<column name="MOBILE3" type="VARCHAR(20)" />
			<column name="LANDLINE1" type="VARCHAR(50)" />
			<column name="LANDLINE2" type="VARCHAR(50)" />
			<column name="LANDLINE3" type="VARCHAR(50)" />
			<column name="PAN" type="VARCHAR(100)" />
			<column name="AADHAAR" type="VARCHAR(100)" />
			<column name="VOTER_ID" type="VARCHAR(100)" />
			<column name="DRIVING_LICENCE" type="VARCHAR(100)" />
			<column name="PASSPORT" type="VARCHAR(100)" />
			<column name="ADDR1TYPE" type="VARCHAR(10)" />
			<column name="ADDR1LINE1" type="VARCHAR(150)" />
			<column name="ADDR1LINE2" type="VARCHAR(150)" />
			<column name="ADDR1LINE3" type="VARCHAR(150)" />
			<column name="ADDR1LINE4" type="VARCHAR(150)" />
			<column name="ADDR1CITY" type="VARCHAR(150)" />
			<column name="ADDR1STATE" type="VARCHAR(150)" />
			<column name="ADDR1PIN" type="VARCHAR(10)" />
			<column name="ADDR2TYPE" type="VARCHAR(10)" />
			<column name="ADDR2LINE1" type="VARCHAR(150)" />
			<column name="ADDR2LINE2" type="VARCHAR(150)" />
			<column name="ADDR2LINE3" type="VARCHAR(150)" />
			<column name="ADDR2LINE4" type="VARCHAR(150)" />
			<column name="ADDR2CITY" type="VARCHAR(150)" />
			<column name="ADDR2STATE" type="VARCHAR(150)" />
			<column name="ADDR2PIN" type="VARCHAR(10)" />
			<column name="ADDR3TYPE" type="VARCHAR(10)" />
			<column name="ADDR3LINE1" type="VARCHAR(150)" />
			<column name="ADDR3LINE2" type="VARCHAR(150)" />
			<column name="ADDR3LINE3" type="VARCHAR(150)" />
			<column name="ADDR3LINE4" type="VARCHAR(150)" />
			<column name="ADDR3CITY" type="VARCHAR(150)" />
			<column name="ADDR3STATE" type="VARCHAR(150)" />
			<column name="ADDR3PIN" type="VARCHAR(10)" />
			<column name="INSERT_UPDATE_FLAG" type="VARCHAR(2)" />
			<column name="LASTMNTON" type="datetime" />
			<column name="LASTMNTON2" type="datetime" />
			<column name="PROCESS_DATE" type="datetime" />
			<column name="FINID" type="bigint " />
		</createTable>
	</changeSet>

	<changeSet id="20" author="goutham.ch">
		<createTable tableName="UCIC_CUSTOMERS_STATUS">

			<column name="CUSTID" type="bigint" />
			<column name="UCICID" type="VARCHAR(200)" />
			<column name="STATUS" type="VARCHAR(20)" />
			<column name="ERROR_DESC" type="VARCHAR(2000)" />
		</createTable>
	</changeSet>

	<changeSet id="21" author="goutham.ch">
		<createTable tableName="UCIC_RESP_FILES">
			<column name="ID" type="bigint" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="FILE_NAME" type="VARCHAR(2000)" />
			<column name="STATUS" type="int" />
			<column name="FILE_LOCATION" type="VARCHAR(2000)" />
			<column name="CREATED_DATE" type="datetime" />
			<column name="EXTRACTION" type="int" />
		</createTable>
	</changeSet>

	<changeSet id="22" author="goutham.ch">
		<createTable tableName="UCIC_RESP_FILE_DATA">

			<column name="UCIC_ID" type="VARCHAR(50)" />
			<column name="CUSTID" type="VARCHAR(50)">
				<constraints nullable="false" />
			</column>
			<column name="PROCESS_FLAG" type="int" />
			<column name="ACK_SENT" type="int" />
			<column name="HEADER_ID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="STATUS" type="int" />
			<column name="PROCESS_DESC" type="VARCHAR(2000)" />
		</createTable>
	</changeSet>

	<changeSet id="23" author="goutham.ch" dbms="ORACLE">
		<createProcedure>
			CREATE OR REPLACE PROCEDURE SP_EXTRACT_UCIC_DATA
			AS
			BEGIN
			DBMS_OUTPUT.PUT_LINE (SYSTIMESTAMP);
			BEGIN
			EXECUTE IMMEDIATE 'DROP TABLE CUSTOMERS_MODIFICATIONS';
			EXCEPTION
			WHEN OTHERS THEN
			IF SQLCODE != -942 THEN
			RAISE;
			END IF;
			END;
			BEGIN
			EXECUTE IMMEDIATE 'CREATE TABLE CUSTOMERS_MODIFICATIONS AS
			SELECT
			CUSTID,FINID,CUSTCIF,FINREFERENCE,TO_DATE(''01-01-23'',''DD-MM-YY'') AS
			CREATION_DATE,CUSTCOREBANK,SOURCE_SYSTEM,CUSTCTGCODE ,CUSTOMER_TYPE,SUBCATEGORY ,CUSTSHRTNAME,CUSTDOB,''NA'' AS
			CUSTISBLOCKED,CLOSEDDATE ,CLOSINGSTATUS,CUSTMOTHERMAIDEN,ACCNUMBER ,COMPANYNAME ,
			EMAIL1,EMAIL2,EMAIL3,MOBILE1,MOBILE2,MOBILE3,LANDLINE1 ,LANDLINE2 ,LANDLINE3 ,PAN ,AADHAAR,VOTER_ID ,DRIVING_LICENCE
			,PASSPORT ,ADDR1TYPE ,ADDR1LINE1 ,ADDR1LINE2 ,ADDR1LINE3 ,ADDR1LINE4 ,ADDR1CITY ,ADDR1STATE ,ADDR1PIN ,ADDR2TYPE ,
			ADDR2LINE1 ,ADDR2LINE2 ,ADDR2LINE3 ,ADDR2LINE4 ,ADDR2CITY ,ADDR2STATE ,ADDR2PIN ,ADDR3TYPE ,ADDR3LINE1 ,ADDR3LINE2
			,ADDR3LINE3 ,ADDR3LINE4 ,ADDR3CITY ,ADDR3STATE ,ADDR3PIN ,LASTMNTON,INSERT_UPDATE_FLAG,
			(SELECT SYSPARMVALUE FROM
			SMTPARAMETERS WHERE SYSPARMCODE = ''APP_DATE'' ) AS PROCESS_DATE FROM
			( SELECT /*+ PARALLEL(4 ) */
			C.CUSTID,FM.FINID,C.CUSTCIF,FM.FINREFERENCE,C.CUSTCOREBANK,''PLF'' AS
			SOURCE_SYSTEM,''NA'' AS LANDLINE1,''NA'' AS
			LANDLINE2, ''NA'' AS LANDLINE3,C.CUSTCTGCODE,''NA'' AS CUSTOMER_TYPE,
			C.SUBCATEGORY,C.CUSTSHRTNAME,C.CUSTDOB,FM.CLOSEDDATE,FM.CLOSINGSTATUS,
			C.CUSTMOTHERMAIDEN,C.LASTMNTON,MD.ACCNUMBER,CE.COMPANYNAME,
			(SELECT CUSTEMAIL FROM CUSTOMEREMAILS EM WHERE
			EM.CUSTEMAILPRIORITY = 5 AND EM.CUSTID = C.CUSTID AND ROWNUM =1) AS EMAIL1,
			(SELECT CUSTEMAIL FROM CUSTOMEREMAILS EM
			WHERE EM.CUSTEMAILPRIORITY = 4 AND EM.CUSTID = C.CUSTID AND ROWNUM =1) AS
			EMAIL2,
			(SELECT CUSTEMAIL FROM CUSTOMEREMAILS
			EM WHERE EM.CUSTEMAILPRIORITY = 3 AND EM.CUSTID = C.CUSTID AND ROWNUM =1) AS EMAIL3,
			(SELECT PHONENUMBER FROM
			CUSTOMERPHONENUMBERS WHERE PHONETYPEPRIORITY = 5 AND PHONECUSTID = C.CUSTID) AS MOBILE1,
			(SELECT PHONENUMBER FROM
			CUSTOMERPHONENUMBERS WHERE PHONETYPEPRIORITY = 4 AND PHONECUSTID = C.CUSTID) AS MOBILE2,
			(SELECT PHONENUMBER FROM
			CUSTOMERPHONENUMBERS WHERE PHONETYPEPRIORITY = 3 AND PHONECUSTID = C.CUSTID) AS MOBILE3,
			(SELECT CUSTDOCTITLE FROM
			CUSTOMERDOCUMENTS CD WHERE CUSTDOCCATEGORY IN (SELECT KEY_TYPE FROM MASTER_DEF WHERE
			KEY_TYPE = ''PAN'') AND CD.CUSTID
			= C.CUSTID) AS PAN ,
			(SELECT CUSTDOCTITLE FROM CUSTOMERDOCUMENTS CD WHERE CUSTDOCCATEGORY IN (SELECT KEY_TYPE FROM
			MASTER_DEF WHERE KEY_TYPE =
			''AADHAAR'') AND CD.CUSTID = C.CUSTID) AS AADHAAR ,
			(SELECT CUSTDOCTITLE FROM
			CUSTOMERDOCUMENTS CD WHERE CUSTDOCCATEGORY IN (SELECT KEY_TYPE FROM MASTER_DEF WHERE KEY_TYPE =
			''VOTER_ID'') AND
			CD.CUSTID = C.CUSTID) AS VOTER_ID ,
			(SELECT CUSTDOCTITLE FROM CUSTOMERDOCUMENTS CD WHERE CUSTDOCCATEGORY IN (SELECT
			KEY_TYPE FROM MASTER_DEF WHERE KEY_TYPE =
			''DRIVING_LICENCE'') AND CD.CUSTID = C.CUSTID) AS DRIVING_LICENCE ,
			(SELECT
			CUSTDOCTITLE FROM CUSTOMERDOCUMENTS CD WHERE CUSTDOCCATEGORY IN (SELECT KEY_TYPE FROM MASTER_DEF WHERE KEY_TYPE =
			''PASSPORT'') AND CD.CUSTID = C.CUSTID) AS PASSPORT ,
			A1.CUSTADDRTYPE ADDR1TYPE ,A1.CUSTADDRLINE1
			ADDR1LINE1,A1.CUSTADDRLINE2 ADDR1LINE2,A1.CUSTADDRLINE3 ADDR1LINE3,A1.CUSTADDRLINE3
			ADDR1LINE4,A1.CUSTADDRCITY
			ADDR1CITY,A1.CUSTADDRPROVINCE ADDR1STATE, A1.CUSTADDRZIP ADDR1PIN,
			A2.CUSTADDRTYPE ADDR2TYPE ,A2.CUSTADDRLINE1
			ADDR2LINE1,A2.CUSTADDRLINE2 ADDR2LINE2,A2.CUSTADDRLINE3 ADDR2LINE3,A2.CUSTADDRLINE3
			ADDR2LINE4,A2.CUSTADDRCITY
			ADDR2CITY,A2.CUSTADDRPROVINCE ADDR2STATE, A2.CUSTADDRZIP ADDR2PIN,
			A3.CUSTADDRTYPE ADDR3TYPE ,A3.CUSTADDRLINE1
			ADDR3LINE1,A3.CUSTADDRLINE2 ADDR3LINE2,A3.CUSTADDRLINE3 ADDR3LINE3,A3.CUSTADDRLINE3
			ADDR3LINE4,A3.CUSTADDRCITY
			ADDR3CITY,A3.CUSTADDRPROVINCE ADDR3STATE, A3.CUSTADDRZIP ADDR3PIN,'' '' AS
			INSERT_UPDATE_FLAG
			FROM CUSTOMERS C
			LEFT JOIN
			(SELECT CUSTID,CUSTADDRTYPE,CUSTADDRLINE1,CUSTADDRLINE2,CUSTADDRLINE3,CUSTADDRCITY,CUSTADDRPROVINCE,CUSTADDRZIP
			FROM
			CUSTOMERADDRESSES WHERE CUSTADDRPRIORITY = 5 ) A1 ON A1.CUSTID = C.CUSTID
			LEFT JOIN (SELECT
			CUSTID,CUSTADDRTYPE,CUSTADDRLINE1,CUSTADDRLINE2,CUSTADDRLINE3,CUSTADDRCITY,CUSTADDRPROVINCE,CUSTADDRZIP
			FROM
			CUSTOMERADDRESSES WHERE CUSTADDRPRIORITY = 4 ) A2 ON A2.CUSTID = C.CUSTID
			LEFT JOIN (SELECT
			CUSTID,CUSTADDRTYPE,CUSTADDRLINE1,CUSTADDRLINE2,''NA'' AS CUSTADDRLINE3,''NA'' AS
			CUSTADDRLINE4,CUSTADDRCITY,CUSTADDRPROVINCE,CUSTADDRZIP
			FROM CUSTOMERADDRESSES WHERE CUSTADDRPRIORITY = 3 ) A3 ON
			A3.CUSTID = C.CUSTID
			INNER JOIN FINANCEMAIN FM ON FM.CUSTID = C.CUSTID
			LEFT JOIN MANDATES MD ON MD.CUSTID = C.CUSTID
			AND MD.MANDATETYPE = ''SI'' AND FM.MANDATEID = MD.MANDATEID
			LEFT JOIN FINGUARANTORSDETAILS G ON G.GUARANTORCIF =
			C.CUSTCIF
			LEFT JOIN FINJOINTACCOUNTDETAILS J ON J.CUSTCIF = C.CUSTCIF
			LEFT JOIN CUSTOMEREMPDETAILS CE ON CE.CUSTID =
			C.CUSTID AND CURRENTEMPLOYER = 1 ) T ';
			END;
			COMMIT;
			DBMS_OUTPUT.PUT_LINE ('CREATED TEMP TABLE
			CUSTOMERS_MODIFICATIONS');

			INSERT INTO UCIC_CUSTOMERS_HISTORY
			(CUSTID,CUSTCIF,FINREFERENCE,CREATION_DATE,CUSTCOREBANK,SOURCE_SYSTEM,CUSTCTGCODE ,CUSTOMER_TYPE,SUBCATEGORY
			,CUSTSHRTNAME,CUSTDOB,CUSTISBLOCKED,CLOSEDDATE ,CLOSINGSTATUS,CUSTMOTHERMAIDEN,ACCNUMBER
			,COMPANYNAME
			,EMAIL1,EMAIL2,EMAIL3,MOBILE1,MOBILE2,MOBILE3,LANDLINE1 ,LANDLINE2 ,LANDLINE3 ,PAN ,AADHAAR,VOTER_ID
			,DRIVING_LICENCE
			,PASSPORT ,ADDR1TYPE ,ADDR1LINE1 ,ADDR1LINE2 ,ADDR1LINE3 ,ADDR1LINE4 ,ADDR1CITY ,ADDR1STATE
			,ADDR1PIN ,ADDR2TYPE
			,ADDR2LINE1 ,ADDR2LINE2 ,ADDR2LINE3 ,ADDR2LINE4 ,ADDR2CITY ,ADDR2STATE ,ADDR2PIN ,ADDR3TYPE
			,ADDR3LINE1 ,ADDR3LINE2
			,ADDR3LINE3 ,ADDR3LINE4 ,ADDR3CITY ,ADDR3STATE ,ADDR3PIN
			,INSERT_UPDATE_FLAG,LASTMNTON,PROCESS_DATE,FINID )
			(SELECT
			CUSTID,CUSTCIF,FINREFERENCE,CREATION_DATE,CUSTCOREBANK,SOURCE_SYSTEM,CUSTCTGCODE ,CUSTOMER_TYPE,SUBCATEGORY
			,CUSTSHRTNAME,CUSTDOB,CUSTISBLOCKED,CLOSEDDATE ,CLOSINGSTATUS,CUSTMOTHERMAIDEN,ACCNUMBER ,COMPANYNAME
			,EMAIL1,EMAIL2,EMAIL3,MOBILE1,MOBILE2,MOBILE3,LANDLINE1 ,LANDLINE2 ,LANDLINE3 ,PAN ,AADHAAR,VOTER_ID ,DRIVING_LICENCE
			,PASSPORT ,ADDR1TYPE ,ADDR1LINE1 ,ADDR1LINE2 ,ADDR1LINE3 ,ADDR1LINE4 ,ADDR1CITY ,ADDR1STATE ,ADDR1PIN ,ADDR2TYPE
			,ADDR2LINE1 ,ADDR2LINE2 ,ADDR2LINE3 ,ADDR2LINE4 ,ADDR2CITY ,ADDR2STATE ,ADDR2PIN ,ADDR3TYPE ,ADDR3LINE1 ,ADDR3LINE2
			,ADDR3LINE3 ,ADDR3LINE4 ,ADDR3CITY ,ADDR3STATE ,ADDR3PIN ,INSERT_UPDATE_FLAG,LASTMNTON,PROCESS_DATE,FINID
			FROM
			UCIC_CUSTOMERS T1
			WHERE (CUSTID,CUSTCIF)
			IN
			(SELECT CUSTID,CUSTCIF
			FROM (SELECT CUSTID,CUSTCIF,CUSTSHRTNAME FROM
			UCIC_CUSTOMERS
			MINUS
			SELECT CUSTID,CUSTCIF,CUSTSHRTNAME FROM CUSTOMERS ) )) ;
			COMMIT;
			DBMS_OUTPUT.PUT_LINE ('INSERTED TO
			UCIC_CUSTOMERS_HISTORY');

			DELETE FROM UCIC_CUSTOMERS WHERE (CUSTID,CUSTCIF) IN(SELECT CUSTID,CUSTCIF FROM
			UCIC_CUSTOMERS
			WHERE (CUSTID,CUSTCIF)
			IN
			(SELECT CUSTID,CUSTCIF
			FROM CUSTOMERS_MODIFICATIONS));
			COMMIT;
			DBMS_OUTPUT.PUT_LINE ('DELETED IN UCIC_CUSTOMERS');
			INSERT INTO UCIC_CUSTOMERS
			(CUSTID,CUSTCIF,FINREFERENCE,CUSTCOREBANK,SOURCE_SYSTEM,CUSTCTGCODE ,CREATION_DATE,CUSTOMER_TYPE,SUBCATEGORY
			,CUSTSHRTNAME,CUSTDOB,CUSTISBLOCKED,CLOSEDDATE
			,CLOSINGSTATUS,CUSTMOTHERMAIDEN,ACCNUMBER ,COMPANYNAME
			,EMAIL1,EMAIL2,EMAIL3,MOBILE1,MOBILE2,MOBILE3,LANDLINE1
			,LANDLINE2 ,LANDLINE3 ,PAN ,AADHAAR,VOTER_ID ,DRIVING_LICENCE
			,PASSPORT ,ADDR1TYPE ,ADDR1LINE1 ,ADDR1LINE2
			,ADDR1LINE3 ,ADDR1LINE4 ,ADDR1CITY ,ADDR1STATE ,ADDR1PIN ,ADDR2TYPE
			,ADDR2LINE1 ,ADDR2LINE2 ,ADDR2LINE3 ,ADDR2LINE4
			,ADDR2CITY ,ADDR2STATE ,ADDR2PIN ,ADDR3TYPE ,ADDR3LINE1 ,ADDR3LINE2
			,ADDR3LINE3 ,ADDR3LINE4 ,ADDR3CITY ,ADDR3STATE
			,ADDR3PIN ,INSERT_UPDATE_FLAG,LASTMNTON,PROCESS_DATE,FINID)
			(SELECT
			CUSTID,CUSTCIF,FINREFERENCE,CUSTCOREBANK,SOURCE_SYSTEM,CUSTCTGCODE
			,TO_DATE(CREATION_DATE,'YYYY-MM-DD
			hh24:mi:ss'),CUSTOMER_TYPE,SUBCATEGORY ,CUSTSHRTNAME,CUSTDOB,CUSTISBLOCKED,CLOSEDDATE
			,CLOSINGSTATUS,CUSTMOTHERMAIDEN,ACCNUMBER ,COMPANYNAME ,EMAIL1,EMAIL2,EMAIL3,MOBILE1,MOBILE2,MOBILE3,LANDLINE1
			,LANDLINE2 ,LANDLINE3 ,PAN ,AADHAAR,VOTER_ID ,DRIVING_LICENCE ,PASSPORT ,ADDR1TYPE ,ADDR1LINE1 ,ADDR1LINE2
			,ADDR1LINE3 ,ADDR1LINE4 ,ADDR1CITY ,ADDR1STATE ,ADDR1PIN ,ADDR2TYPE ,ADDR2LINE1 ,ADDR2LINE2 ,ADDR2LINE3 ,ADDR2LINE4
			,ADDR2CITY ,ADDR2STATE ,ADDR2PIN ,ADDR3TYPE ,ADDR3LINE1 ,ADDR3LINE2 ,ADDR3LINE3 ,ADDR3LINE4 ,ADDR3CITY ,ADDR3STATE
			,ADDR3PIN ,INSERT_UPDATE_FLAG,LASTMNTON,TO_DATE(PROCESS_DATE,'YYYY-MM-DD hh24:mi:ss'),FINID
			FROM
			CUSTOMERS_MODIFICATIONS
			WHERE
			(CUSTID,CUSTCIF)
			NOT IN
			(SELECT CUSTID,CUSTCIF
			FROM UCIC_CUSTOMERS));
			COMMIT;
			DBMS_OUTPUT.PUT_LINE ('INSERTED
			UCIC_CUSTOMERS');

			END SP_EXTRACT_UCIC_DATA;
		</createProcedure>
	</changeSet>


	<changeSet id="24" author="goutham.ch" dbms="ORACLE">
		<createProcedure>
			create or replace Procedure SP_UCIC_WRITE_REQUEST_FILE(aFileName in varchar2)
			as
			fDirectory varchar(30)
			:= 'DIR_PLF';
			pFile Utl_File.file_type;
			fLine Varchar2(1024);
			CUSTCOREBANK NUMBER(19);
			SOURCE_SYSTEM VARCHAR2(100);
			CUSTID NUMBER(19);
			CUSTCTGCODE VARCHAR2(100);
			CUSTOMER_TYPE VARCHAR2(100);
			SUBCATEGORY VARCHAR2(100);
			CUSTSHRTNAME
			VARCHAR2(100);
			CUSTDOB DATE;
			ADDR1TYPE VARCHAR2(100);
			ADDR1LINE2 VARCHAR2(100);
			ADDR1LINE3 VARCHAR2(100);
			ADDR1LINE4
			VARCHAR2(100);
			ADDR1CITY VARCHAR2(100);
			ADDR1STATE VARCHAR2(100);
			ADDR1PIN VARCHAR2(100);
			EMAIL1 VARCHAR2(100);
			EMAIL2
			VARCHAR2(100);
			EMAIL3 VARCHAR2(100);
			MOBILE1 VARCHAR2(100);
			MOBILE2 VARCHAR2(100);
			MOBILE3 VARCHAR2(100);
			LANDLINE1
			VARCHAR2(100);
			LANDLINE2 VARCHAR2(100);
			LANDLINE3 VARCHAR2(100);
			PAN VARCHAR2(100);
			AADHAAR VARCHAR2(100);
			CUSTMOTHERMAIDEN VARCHAR2(100);
			CREATION_DATE DATE;
			LASTMNTON VARCHAR2(100);
			CUSTISBLOCKED VARCHAR2(100);
			CLOSEDDATE
			DATE;
			INSERT_UPDATE_FLAG VARCHAR2(100);
			ADDR2TYPE VARCHAR2(100);
			ADDR2LINE1 VARCHAR2(100);
			ADDR2LINE2 VARCHAR2(100);
			ADDR2LINE3 VARCHAR2(100);
			ADDR2LINE4 VARCHAR2(100);
			ADDR2CITY VARCHAR2(100);
			ADDR2STATE VARCHAR2(100);
			ADDR2PIN
			VARCHAR2(100);
			ADDR3TYPE VARCHAR2(100);
			ADDR3LINE1 VARCHAR2(100);
			ADDR3LINE2 VARCHAR2(100);
			ADDR3LINE3 VARCHAR2(100);
			ADDR3LINE4 VARCHAR2(100);
			ADDR3CITY VARCHAR2(100);
			ADDR3STATE VARCHAR2(100);
			ADDR3PIN VARCHAR2(100);
			COMPANYNAME
			VARCHAR2(100);
			VOTER_ID VARCHAR2(100);
			PASSPORT VARCHAR2(100);
			DRIVING_LICENCE VARCHAR2(100);
			ACCNUMBER VARCHAR2(100);
			FINREFERENCE VARCHAR2(100);
			NEWREC NUMBER(19);
			MODREC NUMBER(19);
			ALLREC NUMBER(19);

			Begin
			pFile :=
			UTL_FILE.fopen(fDirectory, aFileName, 'w');


			SELECT COUNT(*) INTO newRec FROM UCIC_CUSTOMERS WHERE
			INSERT_UPDATE_FLAG = 'N' AND PROCESS_DATE = (SELECT TO_CHAR(
			TO_DATE(SYSPARMVALUE
			,'YYYY-MM-DD')
			,'DD-MM-YY')
			FROM
			SMTPARAMETERS where SYSPARMCODE='APP_DATE');
			SELECT COUNT(*) INTO
			modRec FROM UCIC_CUSTOMERS WHERE
			INSERT_UPDATE_FLAG='M' AND PROCESS_DATE = (SELECT TO_CHAR(
			TO_DATE(SYSPARMVALUE
			,'YYYY-MM-DD')
			,'DD-MM-YY')
			FROM
			SMTPARAMETERS where SYSPARMCODE='APP_DATE');
			SELECT COUNT(*) INTO allRec FROM
			UCIC_CUSTOMERS WHERE PROCESS_DATE =
			(SELECT TO_CHAR(
			TO_DATE(SYSPARMVALUE
			,'YYYY-MM-DD')
			,'DD-MM-YY')
			FROM SMTPARAMETERS
			where SYSPARMCODE='APP_DATE');

			fLine
			:= 'HDR|' || allRec || '|A|' ||newRec || '|M|' || modRec ;
			UTL_FILE.put_line(pFile, convert(fLine, 'WE8ISO8859P1',
			'UTF8'));

			UTL_FILE.put_line(pFile,'UCIC|Source
			system|UniqueID|Customer Category|Customer Type|Customer Type
			Desc|Customer Full
			Name|DOB|AddressType1|Address1|Address1 City|Address1 State|Address1 Pincode|EMail 1|EMail 2|EMail
			3|Mobile
			No1|Mobile
			No2|Mobile No3|Land Phone1|Land Phone2|Land Phone3|PAN No|Aadhar Number|Mothers Maiden
			Name|Creation
			Date|Updation
			date|Blocked Flag|Blocked Code and Desc|Blocked eff. date|Insert Update Flag|Address2
			Type|Address2|Address2
			City|Address2 State|Address2 Pincode|Address3 Type|Address3|Address3 City|Address3
			State|Address3 Pincode|Employer
			Name|Voter ID|Passport No|Drining Lic No|Casa AccountNo|Loan Number');

			For UCIC_CUSTOMERS IN (Select * From UCIC_CUSTOMERS WHERE PROCESS_DATE = (SELECT TO_CHAR(
			TO_DATE(SYSPARMVALUE
			,'YYYY-MM-DD')
			,'DD-MM-YY')
			FROM SMTPARAMETERS where SYSPARMCODE='APP_DATE')) Loop
			UTL_FILE.PUT_LINE(pFile,UCIC_CUSTOMERS.CUSTCOREBANK ||'|"'|| UCIC_CUSTOMERS.SOURCE_SYSTEM ||'"|"'||
			UCIC_CUSTOMERS.CUSTID ||'|"'|| UCIC_CUSTOMERS.CUSTCTGCODE ||'"|"'||
			UCIC_CUSTOMERS.CUSTOMER_TYPE ||'"|"'||
			UCIC_CUSTOMERS.SUBCATEGORY||'"|"'|| UCIC_CUSTOMERS.CUSTSHRTNAME||'"|'||
			UCIC_CUSTOMERS.CUSTDOB||'|"'||
			UCIC_CUSTOMERS.ADDR1TYPE||'"|"'||
			UCIC_CUSTOMERS.ADDR1LINE1||UCIC_CUSTOMERS.ADDR1LINE2|| UCIC_CUSTOMERS.ADDR1LINE3||
			UCIC_CUSTOMERS.ADDR1LINE4||'"|"'||
			UCIC_CUSTOMERS.ADDR1CITY||'"|"'|| UCIC_CUSTOMERS.ADDR1STATE||'"|'||
			UCIC_CUSTOMERS.ADDR1PIN||'|"'||
			UCIC_CUSTOMERS.EMAIL1||'"|"'|| UCIC_CUSTOMERS.EMAIL2||'"|"'||
			UCIC_CUSTOMERS.EMAIL3||'"|'||
			UCIC_CUSTOMERS.MOBILE1||'|'|| UCIC_CUSTOMERS.MOBILE2||'|'||
			UCIC_CUSTOMERS.MOBILE3||'|'||
			UCIC_CUSTOMERS.LANDLINE1||'|'|| UCIC_CUSTOMERS.LANDLINE2||'|'||
			UCIC_CUSTOMERS.LANDLINE3||'|"'||
			UCIC_CUSTOMERS.PAN||'"|'|| UCIC_CUSTOMERS.AADHAAR||'|"'||
			UCIC_CUSTOMERS.CUSTMOTHERMAIDEN||'"|'||
			UCIC_CUSTOMERS.CREATION_DATE||'|'|| UCIC_CUSTOMERS.LASTMNTON||'|"'||
			UCIC_CUSTOMERS.CUSTISBLOCKED||'"|"'||
			UCIC_CUSTOMERS.CUSTISBLOCKED||'"|"'|| UCIC_CUSTOMERS.CLOSEDDATE||'"|"'||
			UCIC_CUSTOMERS.INSERT_UPDATE_FLAG||'"|"'||
			UCIC_CUSTOMERS.ADDR2TYPE||'"|"'|| UCIC_CUSTOMERS.ADDR2LINE1||
			UCIC_CUSTOMERS.ADDR2LINE2||UCIC_CUSTOMERS.ADDR2LINE3||
			UCIC_CUSTOMERS.ADDR2LINE4||'|"'||
			UCIC_CUSTOMERS.ADDR2CITY||'"|"'|| UCIC_CUSTOMERS.ADDR2STATE||'"|'||
			UCIC_CUSTOMERS.ADDR2PIN||'|"'||
			UCIC_CUSTOMERS.ADDR3TYPE||'"|"'|| UCIC_CUSTOMERS.ADDR3LINE1||
			UCIC_CUSTOMERS.ADDR3LINE2|| UCIC_CUSTOMERS.ADDR3LINE3||
			UCIC_CUSTOMERS.ADDR3LINE4 ||'"|"'||
			UCIC_CUSTOMERS.ADDR3CITY||'"|"'|| UCIC_CUSTOMERS.ADDR3STATE||'"|'||
			UCIC_CUSTOMERS.ADDR3PIN||'|"'||
			UCIC_CUSTOMERS.COMPANYNAME||'"|"'|| UCIC_CUSTOMERS.VOTER_ID||'"|"'||
			UCIC_CUSTOMERS.PASSPORT||'"|"'||
			UCIC_CUSTOMERS.DRIVING_LICENCE||'"|'|| UCIC_CUSTOMERS.ACCNUMBER||'|"'||
			UCIC_CUSTOMERS.FINREFERENCE||'"|');

			End Loop;


			fLine := 'EOF';
			UTL_FILE.put_line(pFile, convert(fLine,
			'WE8ISO8859P1', 'UTF8'));
			UTL_FILE.fclose(pFile);
			End;
		</createProcedure>
	</changeSet>

	<changeSet id="25" author="goutham.ch" dbms="oracle">
		<createProcedure>
			CREATE OR REPLACE Procedure SP_UCIC_WRITE_WEEKLY_FILE(aFileName in varchar2)
			Is
			fDirectory varchar(30)
			:= 'DIR_PLF';
			pFile Utl_File.file_type;
			fLine Varchar2(1024);
			SOURCE_SYSTEM VARCHAR2(100);
			CUSTID NUMBER(19);
			CUSTISBLOCKED VARCHAR2(100);
			CUSTCOREBANK VARCHAR2(19);
			PAN VARCHAR2(100);
			AADHAAR VARCHAR2(100);
			CUSTCTGCODE
			VARCHAR2(100);
			CUSTOMER_TYPE VARCHAR2(100);
			CUSTDOB DATE;
			CUSTSHRTNAME VARCHAR2(100);
			MOBILE1 VARCHAR2(100);
			EMAIL1
			VARCHAR2(100);
			CREATION_DATE DATE;
			LASTMNTON VARCHAR2(100);

			allRec NUMBER(19);

			Begin
			pFile := UTL_FILE.fopen(fDirectory,
			aFileName, 'w');


			SELECT COUNT(*) INTO allRec FROM UCIC_CUSTOMERS;

			fLine := 'HDR|' || allRec ;
			UTL_FILE.put_line(pFile, convert(fLine,
			'WE8ISO8859P1', 'UTF8'));

			UTL_FILE.put_line(pFile,'UCIC|Source
			system|UniqueID|Customer Category|Customer Type|Customer
			Type Desc|Customer Full
			Name|DOB|AddressType1|Address1|Address1 City|Address1 State|Address1 Pincode|EMail 1|EMail
			2|EMail 3|Mobile
			No1|Mobile No2|Mobile No3|Land Phone1|Land Phone2|Land Phone3|PAN No|Aadhar Number|Mothers Maiden
			Name|Creation
			Date|Updation date|Blocked Flag|Blocked Code and Desc|Blocked eff. date|Insert Update Flag|Address2
			Type|Address2|Address2 City|Address2 State|Address2 Pincode|Address3 Type|Address3|Address3 City|Address3
			State|Address3 Pincode|Employer Name|Voter ID|Passport No|Drining Lic No|Casa AccountNo|Loan Number');

			For UCIC_CUSTOMERS IN (Select * From UCIC_CUSTOMERS) Loop
			UTL_FILE.PUT_LINE(pFile, '~"'
			||UCIC_CUSTOMERS.SOURCE_SYSTEM||
			'"~"' ||UCIC_CUSTOMERS.CUSTID || '"~"' ||
			UCIC_CUSTOMERS.CUSTISBLOCKED|| '"~"'
			||UCIC_CUSTOMERS.CUSTCOREBANK|| '"~"'
			||UCIC_CUSTOMERS.PAN|| '"~"' ||
			UCIC_CUSTOMERS.AADHAAR|| '"~"' ||
			UCIC_CUSTOMERS.CUSTCTGCODE || '"~"' ||
			UCIC_CUSTOMERS.CUSTOMER_TYPE|| '"~"' ||
			UCIC_CUSTOMERS.CUSTDOB|| '"~"' ||
			UCIC_CUSTOMERS.CUSTSHRTNAME || '"~"' ||
			UCIC_CUSTOMERS.MOBILE1 || '"~"' ||
			UCIC_CUSTOMERS.EMAIL1 || '"~"' ||
			UCIC_CUSTOMERS.CREATION_DATE || '"~"' ||
			UCIC_CUSTOMERS.LASTMNTON ||'"~');
			End Loop;


			fLine := 'EOF';
			UTL_FILE.put_line(pFile, convert(fLine, 'WE8ISO8859P1', 'UTF8'));
			UTL_FILE.fclose(pFile);
			End;

		</createProcedure>
	</changeSet>

	<changeSet id="26" author="goutham.ch" dbms="oracle">
		<createProcedure>
			create or replace PROCEDURE SP_READ_UCIC_RESP_FILE(FILENAME IN VARCHAR2) AS
			BEGIN
			DECLARE
			p_dir
			varchar2(2000):='DIR_PLF';
			p_file_name varchar2(2000):=FILENAME;
			l_file UTL_FILE.file_type;
			fileRecord varchar2(32767);
			cusId varchar2(50);
			ucicId varchar2(50);
			begin
			execute immediate 'TRUNCATE TABLE UCIC_CUSTOMERS_STATUS';
			l_file :=
			UTL_FILE.fopen(p_dir,p_file_name,'r');
			dbms_output.put_line( 'READING FILE' );
			UTL_FILE.get_line(l_file,fileRecord);
			UTL_FILE.get_line(l_file,fileRecord);

			LOOP
			UTL_FILE.get_line(l_file,fileRecord);
			IF
			fileRecord != 'TRAILER 20230302000000'
			THEN
			IF fileRecord != 'EOF'
			THEN
			cusId :=
			regexp_substr(fileRecord,'[^,]+', 1, 1);
			cusId := regexp_replace(cusId, '(^[[:space:]]+)|([[:space:]]+$)',null);
			ucicId :=
			TRIM(regexp_substr(fileRecord,'[^,]+', 1, 2));
			ucicId := regexp_replace(ucicId,
			'(^[[:space:]]+)|([[:space:]]+$)',null);
			DBMS_OUTPUT.put_line('Update custId='||cusId || 'where ucicId=' || ucicId);
			INSERT INTO UCIC_CUSTOMERS_STATUS (CUSTID,UCICID,status) VALUES(cusId,ucicId,'SUCCESS');
			UPDATE CUSTOMERS SET
			CUSTCOREBANK = ucicId WHERE CUSTID = cusId ;
			COMMIT;
			END IF;
			END IF;
			END LOOP;
			UTL_FILE.fclose(l_file);
			EXCEPTION
			WHEN
			UTL_FILE.invalid_operation THEN dbms_output.PUT_LINE('cannot open file invalid name');
			WHEN UTL_FILE.read_error THEN
			dbms_output.PUT_LINE('cannot be read');
			WHEN no_data_found THEN dbms_output.PUT_LINE('end of file');
			UTL_FILE.fclose(l_file);
			END;
			END SP_READ_UCIC_RESP_FILE;
		</createProcedure>
	</changeSet>

	<changeSet id="27" author="goutham.ch" dbms="oracle">
		<createProcedure>
			create or replace Procedure SP_UCIC_WRITE_ACK_FILE(aFileName in varchar2)
			Is
			fDirectory varchar(30) :=
			'DIR_PLF';
			pFile Utl_File.file_type;
			fLine Varchar2(1024);
			CUSTID VARCHAR2(40);
			UCICID VARCHAR2(40);
			STATUS VARCHAR2(40);
			ERROR_DESC VARCHAR2(40);

			allRec NUMBER(19);


			Begin
			pFile := UTL_FILE.fopen(fDirectory, aFileName, 'w');

			SELECT COUNT(*) INTO allRec FROM UCIC_CUSTOMERS_STATUS;
			DBMS_OUTPUT.put_line('allRec:'||allRec);
			fLine := 'HDR|' ||
			allRec ||
			'|1' ;
			UTL_FILE.put_line(pFile, convert(fLine, 'WE8ISO8859P1', 'UTF8'));

			UTL_FILE.PUT_LINE(pFile,'CUSTOMER ID|UCIC|STATUS|REASON REJECTION');
			For UCIC_CUSTOMERS_STATUS IN (Select
			CUSTID,UCICID,STATUS,ERROR_DESC From
			UCIC_CUSTOMERS_STATUS)
			Loop
			UTL_FILE.PUT_LINE(pFile,UCIC_CUSTOMERS_STATUS.CUSTID
			||'|'|| UCIC_CUSTOMERS_STATUS.UCICID
			||'|'|| UCIC_CUSTOMERS_STATUS.STATUS||'|'||UCIC_CUSTOMERS_STATUS.ERROR_DESC );
			End Loop;

			fLine := 'EOF';
			UTL_FILE.put_line(pFile, convert(fLine, 'WE8ISO8859P1', 'UTF8'));
			UTL_FILE.fclose(pFile);
			End;
		</createProcedure>
	</changeSet>
</databaseChangeLog>