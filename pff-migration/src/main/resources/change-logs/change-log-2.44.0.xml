<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.auditdb" value="PFFBFSQCAudit.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />



	<changeSet author="DurgaPrasad G" id="02">
		<sql>
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CL_ORIGINATION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_AssetTypeAssignmentDialog_btnDelete'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);

		</sql>
	</changeSet>
	<changeSet id="1" author="Subbarao">
		<sql>
			INSERT into SecGroups VALUES ((Select MAX(GrpID)+1 From SecGroups), 'PFSPARAMETER_MAKER', 'WF Maker for System Parameter', 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL,0);
			INSERT into SecGroups VALUES ((Select MAX(GrpID)+1 From SecGroups), 'PFSPARAMETER_APPROVER', 'WF Approver for System Parameter', 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL,0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PFSPARAMETER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PFSParameterDialog_sysParmDescription'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PFSPARAMETER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PFSParameterDialog_sysParmValue'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PFSPARAMETER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PFSParameterDialog_btnEdit'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PFSPARAMETER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PFSParameterDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PFSPARAMETER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_SolutionFactory'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PFSPARAMETER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_SolutionFactory_PFSParameter'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PFSPARAMETER_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PFSParameterDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			
			INSERT INTO secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups where GrpCode = 'PFSPARAMETER_MAKER'),(Select RoleID from secRoles where RoleCd = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, null, null,null,null,null,null,0);
			INSERT INTO secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups where GrpCode = 'PFSPARAMETER_APPROVER'),(Select RoleID from secRoles where RoleCd = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, null, null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="4" author="satish">
	<sql>
insert into SMTparameters select 'EOD_THREAD_COUNT','Number of Threads','int',0,1,1,0,null,null,'Number of Threads',1,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0;

update SeqSecRoles set seqno=(select MAX(RoleID) from SecRoles);
update seqSecGroups set seqno=(select MAX(GrpID) from SecGroups);
update seqSecRights set seqno=(select MAX(RIGHTID) from SecRights);
update SeqSecRoleGroups set seqno=(select MAX(RoleGrpID) from SecRoleGroups);
update seqSecGroupRights set seqno=(select MAX(GrpRIGHTID) from SecGroupRights);

INSERT INTO SecGroups SELECT (select (SeqNo+5) from SeqSecGroups), 'EOD', 'Eed of day', 0,1000,'2016-10-18 01:16:33',' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
INSERT INTO SecRights SELECT (select (SeqNo+1) from SeqSecRights),0,'menuItem_EOD_CustomerEOD','MENU',0,1000,'2016-10-18 01:16:33',' ',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (select MAX(GrpRIGHTID)+1 from SecGroupRights),(select grpid from secgroups where GrpCode='EOD'), (select RightID from SecRights where RightName='menuItem_EOD_CustomerEOD'),1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'EOD','End of day','',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
INSERT INTO SecRoleGroups SELECT (select MAX(RoleGrpID)+1 from SecRoleGroups),(select grpid from secgroups where GrpCode='EOD'), (select RoleID from SecRoles where RoleCd='EOD'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;

update SeqSecRoles set seqno=(select MAX(RoleID) from SecRoles);
update seqSecGroups set seqno=(select MAX(GrpID) from SecGroups);
update seqSecRights set seqno=(select MAX(RIGHTID) from SecRights);
update SeqSecRoleGroups set seqno=(select MAX(RoleGrpID) from SecRoleGroups);
update seqSecGroupRights set seqno=(select MAX(GrpRIGHTID) from SecGroupRights);
	
	</sql>
	</changeSet>
	
	
</databaseChangeLog>
