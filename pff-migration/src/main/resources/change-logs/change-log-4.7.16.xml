<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="add.schema" value=" " dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />


	<changeSet id="pre_run_for_pgp" author="Jayant" runAlways="true"
		dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>

	<changeSet id="1" author="Vinay">
		<addColumn tableName="CustomerBankInfo">
			<column name="CreditTranNo" defaultValue="0" type="number(18,0)" />
			<column name="CreditTranAmt" defaultValue="0" type="number(18,0)" />
			<column name="CreditTranAvg" defaultValue="0" type="number(18,0)" />
			<column name="DebitTranNo" defaultValue="0" type="int" />
			<column name="DebitTranAmt" defaultValue="0" type="number(18,0)" />
			<column name="CashDepositNo" defaultValue="0" type="int" />
			<column name="CashDepositAmt" defaultValue="0" type="number(18,0)" />
			<column name="CashWithdrawalNo" defaultValue="0" type="int" />
			<column name="CashWithdrawalAmt" defaultValue="0" type="number(18,0)" />
			<column name="ChqDepositNo" defaultValue="0" type="int" />
			<column name="ChqDepositAmt" defaultValue="0" type="number(18,0)" />
			<column name="ChqIssueNo" defaultValue="0" type="int" />
			<column name="ChqIssueAmt" defaultValue="0" type="number(18,0)" />
			<column name="InwardChqBounceNo" defaultValue="0" type="int" />
			<column name="OutwardChqBounceNo" defaultValue="0" type="int" />
			<column name="EodBalMin" defaultValue="0" type="number(18,0)" />
			<column name="EodBalMax" defaultValue="0" type="number(18,0)" />
			<column name="EodBalAvg" defaultValue="0" type="number(18,0)" />
		</addColumn>
		<addColumn tableName="CustomerBankInfo_Temp">
			<column name="CreditTranNo" defaultValue="0" type="number(18,0)" />
			<column name="CreditTranAmt" defaultValue="0" type="number(18,0)" />
			<column name="CreditTranAvg" defaultValue="0" type="number(18,0)" />
			<column name="DebitTranNo" defaultValue="0" type="int" />
			<column name="DebitTranAmt" defaultValue="0" type="number(18,0)" />
			<column name="CashDepositNo" defaultValue="0" type="int" />
			<column name="CashDepositAmt" defaultValue="0" type="number(18,0)" />
			<column name="CashWithdrawalNo" defaultValue="0" type="int" />
			<column name="CashWithdrawalAmt" defaultValue="0" type="number(18,0)" />
			<column name="ChqDepositNo" defaultValue="0" type="int" />
			<column name="ChqDepositAmt" defaultValue="0" type="number(18,0)" />
			<column name="ChqIssueNo" defaultValue="0" type="int" />
			<column name="ChqIssueAmt" defaultValue="0" type="number(18,0)" />
			<column name="InwardChqBounceNo" defaultValue="0" type="int" />
			<column name="OutwardChqBounceNo" defaultValue="0" type="int" />
			<column name="EodBalMin" defaultValue="0" type="number(18,0)" />
			<column name="EodBalMax" defaultValue="0" type="number(18,0)" />
			<column name="EodBalAvg" defaultValue="0" type="number(18,0)" />
		</addColumn>
	</changeSet>

	<changeSet id="2" author="Vinay">
		<createView viewName="customerbankinfo_aview"
			replaceIfExists="true">
		 SELECT t1.bankid,
    t1.custid,
    t1.bankname,
    t1.accountnumber,
    t1.accounttype,
    t1.salaryaccount,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.bankname AS lovdescbankname,
    t4.valuedesc AS lovdescaccounttype,
	t1.CreditTranNo,
	t1.CreditTranAmt,
	t1.CreditTranAvg,
	t1.DebitTranNo,
	t1.DebitTranAmt,
	t1.CashDepositNo,
	t1.CashDepositAmt,
	t1.CashWithdrawalNo,
	t1.CashWithdrawalAmt,
	t1.ChqDepositNo,
	t1.ChqDepositAmt,
	t1.ChqIssueNo,
	t1.ChqIssueAmt,
	t1.InwardChqBounceNo,
	t1.OutwardChqBounceNo,
	t1.EodBalMin,
	t1.EodBalMax,
	t1.EodBalAvg
   FROM customerbankinfo t1
     JOIN bmtbankdetail t3 ON t3.bankcode = t1.bankname
     JOIN rmtlovfielddetail t4 ON t4.fieldcodevalue = t1.accounttype AND t4.fieldcode = 'ACC_TYPE'
		</createView>

		<createView viewName="customerbankinfo_view"
			replaceIfExists="true">
		SELECT t1.bankid,
    t1.custid,
    t1.bankname,
    t1.accountnumber,
    t1.accounttype,
    t1.salaryaccount,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.bankname AS lovdescbankname,
    t4.valuedesc AS lovdescaccounttype,
	t1.CreditTranNo,
	t1.CreditTranAmt,
	t1.CreditTranAvg,
	t1.DebitTranNo,
	t1.DebitTranAmt,
	t1.CashDepositNo,
	t1.CashDepositAmt,
	t1.CashWithdrawalNo,
	t1.CashWithdrawalAmt,
	t1.ChqDepositNo,
	t1.ChqDepositAmt,
	t1.ChqIssueNo,
	t1.ChqIssueAmt,
	t1.InwardChqBounceNo,
	t1.OutwardChqBounceNo,
	t1.EodBalMin,
	t1.EodBalMax,
	t1.EodBalAvg
   FROM customerbankinfo_temp t1
     JOIN bmtbankdetail t3 ON t3.bankcode = t1.bankname
     JOIN rmtlovfielddetail t4 ON t4.fieldcodevalue = t1.accounttype AND t4.fieldcode = 'ACC_TYPE'
UNION ALL
 SELECT t1.bankid,
    t1.custid,
    t1.bankname,
    t1.accountnumber,
    t1.accounttype,
    t1.salaryaccount,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.bankname AS lovdescbankname,
    t4.valuedesc AS lovdescaccounttype,
	t1.CreditTranNo,
	t1.CreditTranAmt,
	t1.CreditTranAvg,
	t1.DebitTranNo,
	t1.DebitTranAmt,
	t1.CashDepositNo,
	t1.CashDepositAmt,
	t1.CashWithdrawalNo,
	t1.CashWithdrawalAmt,
	t1.ChqDepositNo,
	t1.ChqDepositAmt,
	t1.ChqIssueNo,
	t1.ChqIssueAmt,
	t1.InwardChqBounceNo,
	t1.OutwardChqBounceNo,
	t1.EodBalMin,
	t1.EodBalMax,
	t1.EodBalAvg
   FROM customerbankinfo t1
     JOIN bmtbankdetail t3 ON t3.bankcode = t1.bankname
     JOIN rmtlovfielddetail t4 ON t4.fieldcodevalue = t1.accounttype AND t4.fieldcode = 'ACC_TYPE'
  WHERE NOT (EXISTS ( SELECT 1
           FROM customerbankinfo_temp
          WHERE customerbankinfo_temp.bankid = t1.bankid))
		</createView>
	</changeSet>

	<changeSet id="3" author="Vinay">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM
			SECGROUPRIGHTS);

			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_CreditTranAmt','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_CreditTranAvg','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_DebitTranNo','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_DebitTranAmt','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_CashDepositNo','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_CashDepositAmt','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_CashWithdrawalNo','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_CashWithdrawalAmt','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_ChqDepositNo','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_ChqDepositAmt','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_ChqIssueNo','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_ChqIssueAmt','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_InwardChqBounceNo','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_OutwardChqBounceNo','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_EodBalMin','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_EodBalMax','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerBankInfoDialog_EodBalAvg','CustomerBankInfoDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;

			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_CreditTranAmt'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_CreditTranAvg'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_DebitTranNo'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_DebitTranAmt'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_CashDepositNo'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_CashDepositAmt'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_CashWithdrawalNo'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_CashWithdrawalAmt'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_ChqDepositNo'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_ChqDepositAmt'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_ChqIssueNo'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_ChqIssueAmt'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_InwardChqBounceNo'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_OutwardChqBounceNo'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_EodBalMin'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_EodBalMax'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerBankInfo_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerBankInfoDialog_EodBalAvg'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM
			SECGROUPRIGHTS);
		</sql>
	</changeSet>
	<changeSet id="5" author="Vinay">
		<addColumn tableName="CustomerExtLiability">
			<column name="roi" defaultValue="0" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="tenure" defaultValue="0" type="int">
				<constraints nullable="false" />
			</column>
			<column name="tenureBal" defaultValue="0" type="int">
				<constraints nullable="false" />
			</column>
			<column name="bounceNo" defaultValue="0" type="int" />
			<column name="pos" defaultValue="0" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="overdue" defaultValue="0" type="decimal(18,0)" />
			<column name="isEmiCnsdrForFOIR" defaultValue="0" type="boolean">
				<constraints nullable="false" />
			</column>
			<column name="source" defaultValue="" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
			<column name="checkedBy" defaultValue="" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
			<column name="securityDetail" defaultValue="" type="VARCHAR(50)" />
			<column name="endUseOfFunds" defaultValue="" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
			<column name="repayFrom" defaultValue="" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
		</addColumn>
		<addColumn tableName="CustomerExtLiability_Temp">
			<column name="roi" defaultValue="0" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="tenure" defaultValue="0" type="int">
				<constraints nullable="false" />
			</column>
			<column name="tenureBal" defaultValue="0" type="int">
				<constraints nullable="false" />
			</column>
			<column name="bounceNo" defaultValue="0" type="int" />
			<column name="pos" defaultValue="0" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="overdue" defaultValue="0" type="decimal(18,0)" />
			<column name="isEmiCnsdrForFOIR" defaultValue="0" type="boolean">
				<constraints nullable="false" />
			</column>
			<column name="source" defaultValue="" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
			<column name="checkedBy" defaultValue="" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
			<column name="securityDetail" defaultValue="" type="VARCHAR(50)" />
			<column name="endUseOfFunds" defaultValue="" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
			<column name="repayFrom" defaultValue="" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
		</addColumn>
	</changeSet>

	<changeSet id="6" author="Vinay">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM
			SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT
			MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);

			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_ROI','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_TotalTenure','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_BalanceTenure','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_NoOfBounces','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_POS','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_Overdue','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_EMIFoir','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_Source','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_CheckedBy','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_SecurityDetail','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_EndUseOfFunds','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CustomerExtLiabilityDialog_RepayFrom','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;

			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_ROI'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_TotalTenure'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_BalanceTenure'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_NoOfBounces'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_POS'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_Overdue'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_EMIFoir'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_Source'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_CheckedBy'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_SecurityDetail'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_EndUseOfFunds'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CustomerExtLiabilityDialog_RepayFrom'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE
			SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM
			SECGROUPRIGHTS);
		</sql>
	</changeSet>

	<changeSet id="7" author="Vinay">
		<renameColumn newColumnName="EmiCnsdrForFOIR"
			oldColumnName="IsEmiCnsdrForFOIR" tableName="CustomerExtLiability" />
	</changeSet>
	<changeSet id="8" author="Vinay">
		<renameColumn newColumnName="EmiCnsdrForFOIR"
			oldColumnName="IsEmiCnsdrForFOIR" tableName="CustomerExtLiability_Temp" />
	</changeSet>

	<changeSet id="9" author="Vinay">
		<createView viewName="customerextliability_aview"
			replaceIfExists="true">
			SELECT t1.custid,
		    t1.liabilityseq,
		    t1.findate,
		    t1.fintype,
		    t1.bankname,
		    t1.originalamount,
		    t1.instalmentamount,
		    t1.outstandingbal,
		    t1.finstatus,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t3.bankname AS lovdescbankname,
		    t4.fintypedesc AS lovdescfintype,
		    t5.custstsdescription AS lovdescfinstatus,
			t1.roi,
			t1.tenure,
			t1.tenureBal,
			t1.bounceNo,
			t1.pos,
			t1.overdue,
			t1.emiCnsdrForFOIR,
			t1.source,
			t1.checkedBy,
			t1.securityDetail,
			t1.endUseOfFunds,
			t1.repayFrom,
			t6.loanpurposedesc,
			t7.bankname AS lovdescrepayfrom
		   FROM customerextliability_TEMP t1
			 INNER JOIN bmtbankdetail t3 ON t3.bankcode = t1.bankname
		     INNER JOIN otherbankfinancetype t4 ON t4.fintype = t1.fintype
		     LEFT JOIN bmtcuststatuscodes t5 ON t5.custstscode = t1.finstatus 
			 INNER JOIN LOANPURPOSES t6 ON t6.Loanpurposecode = t1.endUseOfFunds
			 INNER JOIN bmtbankdetail t7 ON t7.bankcode = t1.repayFrom
		</createView>

		<createView viewName="customerextliability_view"
			replaceIfExists="true">
			SELECT t1.custid,
		    t1.liabilityseq,
		    t1.findate,
		    t1.fintype,
		    t1.bankname,
		    t1.originalamount,
		    t1.instalmentamount,
		    t1.outstandingbal,
		    t1.finstatus,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t3.bankname AS lovdescbankname,
		    t4.fintypedesc AS lovdescfintype,
		    t5.custstsdescription AS lovdescfinstatus,
			t1.roi,
			t1.tenure,
			t1.tenureBal,
			t1.bounceNo,
			t1.pos,
			t1.overdue,
			t1.emiCnsdrForFOIR,
			t1.source,
			t1.checkedBy,
			t1.securityDetail,
			t1.endUseOfFunds,
			t1.repayFrom,
			t6.loanpurposedesc,
			t7.bankname AS lovdescrepayfrom
		   FROM customerextliability_temp t1
		     INNER JOIN bmtbankdetail t3 ON t3.bankcode = t1.bankname
		     INNER JOIN otherbankfinancetype t4 ON t4.fintype = t1.fintype
		     LEFT JOIN bmtcuststatuscodes t5 ON t5.custstscode = t1.finstatus
			 INNER JOIN LOANPURPOSES t6 ON t6.Loanpurposecode = t1.endUseOfFunds
			 INNER JOIN bmtbankdetail t7 ON t7.bankcode = t1.repayFrom
		UNION ALL
		 SELECT t1.custid,
		    t1.liabilityseq,
		    t1.findate,
		    t1.fintype,
		    t1.bankname,
		    t1.originalamount,
		    t1.instalmentamount,
		    t1.outstandingbal,
		    t1.finstatus,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t3.bankname AS lovdescbankname,
		    t4.fintypedesc AS lovdescfintype,
		    t5.custstsdescription AS lovdescfinstatus,
			t1.roi,
			t1.tenure,
			t1.tenureBal,
			t1.bounceNo,
			t1.pos,
			t1.overdue,
			t1.emiCnsdrForFOIR,
			t1.source,
			t1.checkedBy,
			t1.securityDetail,
			t1.endUseOfFunds,
			t1.repayFrom,
			t6.loanpurposedesc,
			t7.bankname AS lovdescrepayfrom
			FROM customerextliability t1
		     INNER JOIN bmtbankdetail t3 ON t3.bankcode = t1.bankname
		     INNER JOIN otherbankfinancetype t4 ON t4.fintype = t1.fintype
		     LEFT JOIN bmtcuststatuscodes t5 ON t5.custstscode = t1.finstatus 
			 INNER JOIN LOANPURPOSES t6 ON t6.Loanpurposecode = t1.endUseOfFunds
			 INNER JOIN bmtbankdetail t7 ON t7.bankcode = t1.repayFrom
		  WHERE NOT (EXISTS ( SELECT 1
		           FROM customerextliability_temp
		          WHERE customerextliability_temp.custid = t1.custid AND customerextliability_temp.liabilityseq = t1.liabilityseq))
		</createView>
	</changeSet>

	<changeSet id="10" author="Vinay">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM
			SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM
			SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT
			MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM
			SECROLEGROUPS);

			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2,
			'button_DedupParmList_NewCollateralDedup','DedupParmList',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2,
			'button_DedupParmDialog_btnCollateralSave','DedupParmDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2,
			'button_DedupParmDialog_btnCollateralDelete','DedupParmDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2,
			'button_DedupParmDialog_btnCollateralEdit','DedupParmDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2,
			'button_DedupParmDialog_btnCollateralNew','DedupParmDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'DedupParmDialog_CollateralType','DedupParmDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0,
			'menuItem_RulesFactory_CollateralDedupParm','MENU',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2,
			'button_DedupParmDialog_btnCollateralMaintain','DedupParmDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2,
			'button_DedupParmDialog_btnCollateralDeletion','DedupParmDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;

			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS),
			'COLLATERALDEDUP_MAKER', 'Collateral Dedup Details for Maker',
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS
			WHERE 0=0;
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM
			SECGROUPS), 'COLLATERALDEDUP_APPROVER', 'Collateral Dedup Details for
			Approver', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM
			SEQSECGROUPS WHERE 0=0;

			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='COLLATERALDEDUP_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='button_DedupParmList_NewCollateralDedup'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='COLLATERALDEDUP_MAKER')
			,(SELECT RIGHTID FROM SECRIGHTS WHERE
			RIGHTNAME='button_DedupParmDialog_btnCollateralSave'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='COLLATERALDEDUP_MAKER')
			,(SELECT RIGHTID FROM SECRIGHTS WHERE
			RIGHTNAME='button_DedupParmDialog_btnCollateralDelete'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='COLLATERALDEDUP_MAKER')
			,(SELECT RIGHTID FROM SECRIGHTS WHERE
			RIGHTNAME='button_DedupParmDialog_btnCollateralEdit'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='COLLATERALDEDUP_MAKER')
			,(SELECT RIGHTID FROM SECRIGHTS WHERE
			RIGHTNAME='button_DedupParmDialog_btnCollateralNew'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='COLLATERALDEDUP_MAKER')
			,(SELECT RIGHTID FROM SECRIGHTS WHERE
			RIGHTNAME='menuItem_RulesFactory_CollateralDedupParm'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='COLLATERALDEDUP_MAKER')
			,(SELECT RIGHTID FROM SECRIGHTS WHERE
			RIGHTNAME='DedupParmDialog_CollateralType'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='COLLATERALDEDUP_MAKER')
			,(SELECT RIGHTID FROM SECRIGHTS WHERE
			RIGHTNAME='button_DedupParmDialog_btnCollateralMaintain'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='COLLATERALDEDUP_MAKER')
			,(SELECT RIGHTID FROM SECRIGHTS WHERE
			RIGHTNAME='button_DedupParmDialog_btnCollateralDeletion'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='COLLATERALDEDUP_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='button_DedupParmDialog_btnCollateralSave'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='COLLATERALDEDUP_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='menuItem_RulesFactory_CollateralDedupParm'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From
			SecRoleGroups),(Select GrpId From SecGroups Where
			GrpCode='COLLATERALDEDUP_MAKER'), (Select RoleID From SecRoles Where
			RoleCd='MSTGRP1_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ','
			',' ',0);
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From
			SecRoleGroups),(Select GrpId From SecGroups Where
			GrpCode='COLLATERALDEDUP_APPROVER'), (Select RoleID From SecRoles
			Where RoleCd='MSTGRP1_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ','
			',' ',' ',' ',0);

			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE
			SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE
			SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM
			SECGROUPRIGHTS);
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM
			SECROLEGROUPS);
		</sql>
	</changeSet>
	<changeSet id="11" author="Jayant">
		<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW"
			replaceIfExists="true">
			SELECT FA. PAYMENTID,
				   FA.FINREFERENCE,
				   'D' CHANNEL, 
				   CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   FA.DISBDATE,
	               FA.LLDATE,
				   FA.PAYABLELOC,
				   FA.PRINTINGLOC,
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
	              BD.BANKNAME BANKNAME,
	              BB.BRANCHCODE,
	              BB.BRANCHDESC BRANCHDESC,
				  PBD.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				  PBD.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR             MICR_CODE,
				   BB.IFSC             IFSC_CODE,
				   FA.BENEFICIARYACCNO,
				   CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
				   FA.PHONECOUNTRYCODE${call.concatenate}FA.PHONEAREACODE${call.concatenate}FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
				   BCE.CUSTEMAIL        BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   FA.STATUS           STATUS,
				   FA.DESCRIPTION      REMARKS,
				     FA.PAYMENTTYPE      PAYMENTTYPE,
				     FM.FINTYPE,
				     PB.PARTNERBANKID,
				     PB.PARTNERBANKCODE,
				     FA.INPUTDATE,
				     PB.ALWFILEDOWNLOAD,
	                PB.FILENAME,
				     FM.FINISACTIVE,
					 SMD.ENTITYCODE
				   FROM FINADVANCEPAYMENTS FA
				   INNER JOIN (select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain union all select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain_temp where QUICKDISB=1) FM on FM.FINREFERENCE = FA.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
        		   INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
	         	   LEFT JOIN  (select PB.PARTNERBANKID, PBD.BANKNAME, PBB.BRANCHDESC, PBBRC.PCCITYNAME, PBBRS.CPPROVINCENAME from PARTNERBANKS PB INNER JOIN BANKBRANCHES PBB ON PBB.BRANCHCODE = PB.BANKBRANCHCODE INNER JOIN BMTBANKDETAIL PBD ON PBD.BANKCODE = PBB.BANKCODE LEFT JOIN RMTPROVINCEVSCITY PBBRC ON PBBRC.PCCITY = PBB.CITY LEFT JOIN RMTCOUNTRYVSPROVINCE PBBRS ON PBBRS.CPPROVINCE = PBBRC.PCPROVINCE ) PBD ON PBD.PARTNERBANKID = PB.PARTNERBANKID
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO AND BR.CUSTID = FM.CUSTID
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   LEFT JOIN RMTFINANCETYPES RFT ON  FM.FINTYPE=RFT.FINTYPE
				   LEFT JOIN SMTDIVISIONDETAIL SMD ON RFT.FINDIVISION=SMD.DIVISIONCODE
				   WHERE STATUS='APPROVED' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
				   
				   UNION ALL
				   
				   SELECT PI. PAYMENTINSTRUCTIONID PAYMENTID,
				   PH.FINREFERENCE,
				   PH.PAYMENTTYPE CHANNEL, 
				   CASE WHEN PI.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN PI.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN PI.PAYMENTTYPE = 'DD' THEN 'D' WHEN PI.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  PI.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   PI.PAYMENTAMOUNT/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   PI.POSTDATE DISBDATE, 
				   PI.POSTDATE LLDATE, 
				   PI.PAYABLELOC, 
				   PI.PRINTINGLOC, 
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
				   BD.BANKNAME,
				   BB.BRANCHCODE,
				   BB.BRANCHDESC,
				   BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				   BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR              MICR_CODE,
				   BB.IFSC              IFSC_CODE,
				   PI.ACCOUNTNO BENEFICIARYACCNO,
				   CASE WHEN PI.PAYMENTTYPE = 'CHEQUE' OR  PI.PAYMENTTYPE = 'DD' THEN PI.FAVOURNAME ELSE PI.ACCTHOLDERNAME END BENEFICIARYNAME,
				   PI.PHONECOUNTRYCODE${call.concatenate}PI.PHONENUMBER AS BENEFICIARY_MOBILE,
				   BCE.CUSTEMAIL       BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   PI.STATUS           STATUS, 
				   PI.REMARKS          REMARKS,
				   PI.PAYMENTTYPE      PAYMENTTYPE,
				   FM.FINTYPE,
				   PB.PARTNERBANKID,
				   PB.PARTNERBANKCODE,
				   PI.POSTDATE INPUTDATE, 
				   PB.ALWFILEDOWNLOAD,
				   PB.FILENAME,
				   FM.FINISACTIVE,
				    SMD.ENTITYCODE
				   FROM PAYMENTINSTRUCTIONS PI 
				   INNER JOIN PAYMENTHEADER PH ON PH.PAYMENTID = PI.PAYMENTID
				   INNER JOIN (select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain union all select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain_temp where QUICKDISB=1) FM on FM.FINREFERENCE = PH.FINREFERENCE 
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = PI.PAYMENTCCY
				   INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = PI.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
				   LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = PI.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
				   LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = PI.BANKBRANCHID AND BR.ACCNUMBER = PI.ACCOUNTNO  AND BR.CUSTID = FM.CUSTID
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				    LEFT JOIN RMTFINANCETYPES RFT ON  FM.FINTYPE=RFT.FINTYPE
				   LEFT JOIN SMTDIVISIONDETAIL SMD ON RFT.FINDIVISION=SMD.DIVISIONCODE
				   WHERE PI.STATUS='APPROVED' AND PI.PAYMENTINSTRUCTIONID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
		</createView>
	</changeSet>
	<changeSet id="12" author="Jayant">
		<createView viewName="FINFEEDETAIL_TVIEW" replaceIfExists="true">
			SELECT  	T1.FeeID, T1.FinReference, T1.OriginationFee, T1.FinEvent, T1.FeeTypeID, T1.FeeSeq, T1.FeeOrder, T1.CalculatedAmount, T1.ActualAmount, T1.WaivedAmount, 
						T1.PaidAmount, T1.FeeScheduleMethod, T1.Terms, T1.RemainingFee, T1.PaymentRef, T1.CalculationType, T1.RuleCode, T1.FixedAmount, T1.Percentage, T1.CalculateOn,
						T1.AlwDeviation, T1.MaxWaiverPerc, T1.AlwModifyFee, T1.AlwModifyFeeSchdMthd, T1.VasReference, T1.Status, T1.TaxApplicable, T1.TaxComponent, T1.PaidAmountOriginal, T1.PaidAmountGST,
						T1.NetAmountOriginal, T1.NetAmountGST, T1.NetAmount, T1.RemainingFeeOriginal, T1.RemainingFeeGST, T1.ActualAmountOriginal,T1.ActualAmountGST, T1.FeeAmz, 
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
						T2.FeeTypeCode, T2.FeeTypeDesc
			FROM    	FinFeeDetail_Temp T1 
			LEFT JOIN 	FeeTypes T2 ON T1.FeeTypeID = T2.FeeTypeID
		</createView>
	</changeSet>

	<changeSet id="13" author="Jayant">
		<createView viewName="FINFEEDETAIL_VIEW" replaceIfExists="true">
			SELECT  	T1.FeeID, T1.FinReference, T1.OriginationFee, T1.FinEvent, T1.FeeTypeID, T1.FeeSeq, T1.FeeOrder, T1.CalculatedAmount, T1.ActualAmount, T1.WaivedAmount, 
						T1.PaidAmount, T1.FeeScheduleMethod, T1.Terms, T1.RemainingFee, T1.PaymentRef, T1.CalculationType, T1.RuleCode, T1.FixedAmount, T1.Percentage, T1.CalculateOn,
						T1.AlwDeviation, T1.MaxWaiverPerc, T1.AlwModifyFee, T1.AlwModifyFeeSchdMthd, T1.VasReference, T1.Status, T1.TaxApplicable, T1.TaxComponent, T1.PaidAmountOriginal, T1.PaidAmountGST,
						T1.NetAmountOriginal, T1.NetAmountGST, T1.NetAmount, T1.RemainingFeeOriginal, T1.RemainingFeeGST, T1.ActualAmountOriginal,T1.ActualAmountGST, T1.FeeAmz, 
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
						T2.FeeTypeCode, T2.FeeTypeDesc
			FROM    	FinFeeDetail_Temp T1 
			LEFT JOIN 	FeeTypes T2 ON T1.FeeTypeID = T2.FeeTypeID
			
			UNION ALL
			
			SELECT  	T1.FeeID, T1.FinReference, T1.OriginationFee, T1.FinEvent, T1.FeeTypeID, T1.FeeSeq, T1.FeeOrder, T1.CalculatedAmount, T1.ActualAmount, T1.WaivedAmount, 
						T1.PaidAmount, T1.FeeScheduleMethod, T1.Terms, T1.RemainingFee, T1.PaymentRef, T1.CalculationType, T1.RuleCode, T1.FixedAmount, T1.Percentage, T1.CalculateOn,
						T1.AlwDeviation, T1.MaxWaiverPerc, T1.AlwModifyFee, T1.AlwModifyFeeSchdMthd, T1.VasReference, T1.Status, T1.TaxApplicable, T1.TaxComponent, T1.PaidAmountOriginal, T1.PaidAmountGST,
						T1.NetAmountOriginal, T1.NetAmountGST, T1.NetAmount, T1.RemainingFeeOriginal, T1.RemainingFeeGST, T1.ActualAmountOriginal,T1.ActualAmountGST, T1.FeeAmz, 
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
						T2.FeeTypeCode, T2.FeeTypeDesc
			FROM    	FinFeeDetail T1 
			LEFT JOIN 	FeeTypes T2 ON T1.FeeTypeID = T2.FeeTypeID
			
			WHERE     	NOT EXISTS (SELECT 1 FROM FinFeeDetail_Temp WHERE FeeID = T1.FeeID)
		</createView>
	</changeSet>
	<changeSet id="14" author="Jayant">
		<createView viewName="WIFFINFEEDETAIL_VIEW"
			replaceIfExists="true">
			SELECT  	T1.FeeID, T1.FinReference, T1.FeeSeq, T1.OriginationFee, T1.FinEvent, T1.FeeTypeID, T1.FeeOrder, T1.CalculatedAmount, T1.ActualAmount, T1.WaivedAmount,
						T1.PaidAmount, T1.FeeScheduleMethod, T1.Terms, T1.RemainingFee, T1.PaymentRef, T1.CalculationType, T1.RuleCode, T1.FixedAmount, T1.Percentage, T1.CalculateOn,
						T1.AlwDeviation, T1.MaxWaiverPerc, T1.AlwModifyFee, T1.AlwModifyFeeSchdMthd, T1.VasReference, T1.Status, T1.TaxApplicable, T1.TaxComponent, T1.PaidAmountOriginal, T1.PaidAmountGST,
						T1.NetAmountOriginal, T1.NetAmountGST, T1.NetAmount, T1.RemainingFeeOriginal, T1.RemainingFeeGST, T1.ActualAmountOriginal, T1.ActualAmountGST,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
						T2.FeeTypeCode, T2.FeeTypeDesc
			FROM    	WIFFinFeeDetail_Temp T1 
			LEFT JOIN 	FeeTypes T2 ON T1.FeeTypeID = T2.FeeTypeID
			
			UNION ALL
			
			SELECT  	T1.FeeID, T1.FinReference, T1.FeeSeq, T1.OriginationFee, T1.FinEvent, T1.FeeTypeID, T1.FeeOrder, T1.CalculatedAmount, T1.ActualAmount, T1.WaivedAmount,
						T1.PaidAmount, T1.FeeScheduleMethod, T1.Terms, T1.RemainingFee, T1.PaymentRef, T1.CalculationType, T1.RuleCode, T1.FixedAmount, T1.Percentage, T1.CalculateOn,
						T1.AlwDeviation, T1.MaxWaiverPerc, T1.AlwModifyFee, T1.AlwModifyFeeSchdMthd, T1.VasReference, T1.Status, T1.TaxApplicable, T1.TaxComponent, T1.PaidAmountOriginal, T1.PaidAmountGST,
						T1.NetAmountOriginal, T1.NetAmountGST, T1.NetAmount, T1.RemainingFeeOriginal, T1.RemainingFeeGST, T1.ActualAmountOriginal, T1.ActualAmountGST,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
						T2.FeeTypeCode, T2.FeeTypeDesc
			FROM      	WIFFinFeeDetail T1 
			LEFT JOIN	FeeTypes T2 ON T1.FeeTypeID = T2.FeeTypeID
			WHERE     	NOT EXISTS (SELECT 1 FROM WIFFinFeeDetail_Temp
									WHERE FinReference = T1.FinReference AND OriginationFee = T1.OriginationFee AND FinEvent = T1.FinEvent AND FeeTypeID = T1.FeeTypeID)
		</createView>
	</changeSet>

	<changeSet id="15" author="VijayKumar.I">
		<createView viewName="FINFEEDETAIL_AVIEW" replaceIfExists="true">
			SELECT  	T1.FeeID, T1.FinReference, T1.OriginationFee, T1.FinEvent, T1.FeeTypeID, T1.FeeSeq, T1.FeeOrder, T1.CalculatedAmount, T1.ActualAmount, T1.WaivedAmount, 
						T1.PaidAmount, T1.FeeScheduleMethod, T1.Terms, T1.RemainingFee, T1.PaymentRef, T1.CalculationType, T1.RuleCode, T1.FixedAmount, T1.Percentage, T1.CalculateOn,
						T1.AlwDeviation, T1.MaxWaiverPerc, T1.AlwModifyFee, T1.AlwModifyFeeSchdMthd, T1.VasReference, T1.Status, T1.TaxApplicable, T1.TaxComponent, T1.PaidAmountOriginal, T1.PaidAmountGST,
						T1.NetAmountOriginal, T1.NetAmountGST, T1.NetAmount, T1.RemainingFeeOriginal, T1.RemainingFeeGST, T1.ActualAmountOriginal,T1.ActualAmountGST, T1.FeeAmz, 
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
						T2.FeeTypeCode, T2.FeeTypeDesc
			FROM    	FinFeeDetail T1 
			LEFT JOIN 	FeeTypes T2 ON T1.FeeTypeID = T2.FeeTypeID
		</createView>
	</changeSet>

	<changeSet id="15" author="Ganesh.p">
		<sql>
			INSERT INTO ErrorDetails VALUES('92006','EN','E','{0} is
			mandatory in the
			header.','','Approved','','','','','',0,current_timestamp,1000,0);
		</sql>
	</changeSet>

	<changeSet id="16" author="Ganesh.p">
		<sql>
			INSERT INTO ErrorDetails VALUES('92007','EN','E','{0} is invalid
			in header.','','Approved','','','','','',0,current_timestamp,1000,0);
		</sql>
	</changeSet>

	<changeSet id="17" author="Ganesh.p">
		<sql>
			INSERT INTO ErrorDetails VALUES('92008','EN','E','{0} in header
			should be {1}
			format.','','Approved','','','','','',0,current_timestamp,1000,0);
		</sql>
	</changeSet>
	<!-- <changeSet id="18" author="Vinay">
		<addColumn tableName="COLLATERALSTRUCTURE">
			<column name="valuationFrequency" type="varchar(5)"
				defaultValue="" />
			<column name="nextValuationDate" type="datetime" defaultValue="${call.date}" />
			<column name="valuationPending" type="boolean" defaultValue="0" />
			<column name="queryId" type="number(18,0)" defaultValue="0" />
		</addColumn>
		<addColumn tableName="COLLATERALSTRUCTURE_TEMP">
			<column name="valuationFrequency" type="varchar(5)"
				defaultValue="" />
			<column name="nextValuationDate" type="datetime" defaultValue="${call.date}" />
			<column name="valuationPending" type="boolean" defaultValue="0" />
			<column name="queryId" type="number(18,0)" defaultValue="0" />
		</addColumn>
	</changeSet>
	 -->
	<changeSet id="19" author="Vinay">
		<createView viewName="COLLATERALSTRUCTURE_AVIEW"
			replaceIfExists="true">
			SELECT 	  			T1.CollateralType, T1.CollateralDesc, T1.LtvType, T1.LtvPercentage, T1.MarketableSecurities, T1.PreValidationReq,			
								T1.PostValidationReq, T1.CollateralLocReq, T1.CollateralValuatorReq, T1.Remarks, T1.AllowLtvWaiver,PreValidation, T1.PostValidation,				
								T1.MaxLtvWaiver, T1.ActualBlock, T1.SQLRule, T1.Fields, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
								T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
								T1.ValuationFrequency, T1.nextValuationDate, T1.valuationPending, T1.QueryId,
								T2.QueryCode, T2.QuerySubCode
			FROM 				CollateralStructure T1
			LEFT OUTER JOIN 	DedupParams T2 ON T1.QueryId = T2.QueryId and QueryModule = 'Collateral'
		</createView>

		<createView viewName="COLLATERALSTRUCTURE_VIEW"
			replaceIfExists="true">
			SELECT 	  			T1.CollateralType, T1.CollateralDesc, T1.LtvType, T1.LtvPercentage, T1.MarketableSecurities, T1.PreValidationReq,			
								T1.PostValidationReq, T1.CollateralLocReq, T1.CollateralValuatorReq, T1.Remarks, T1.AllowLtvWaiver,PreValidation, T1.PostValidation,				
								T1.MaxLtvWaiver, T1.ActualBlock, T1.SQLRule, T1.Fields, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
								T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
								T1.ValuationFrequency, T1.nextValuationDate, T1.valuationPending, T1.QueryId,
								T2.QueryCode, T2.QuerySubCode
			FROM 				CollateralStructure_Temp T1
			LEFT OUTER JOIN 	DedupParams T2 ON T1.QueryId = T2.QueryId and QueryModule = 'Collateral'
			
			UNION ALL
			
			SELECT 	  			T1.CollateralType, T1.CollateralDesc, T1.LtvType, T1.LtvPercentage, T1.MarketableSecurities, T1.PreValidationReq,			
								T1.PostValidationReq, T1.CollateralLocReq, T1.CollateralValuatorReq, T1.Remarks, T1.AllowLtvWaiver,PreValidation, T1.PostValidation,				
								T1.MaxLtvWaiver, T1.ActualBlock, T1.SQLRule, T1.Fields, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
								T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
								T1.ValuationFrequency, T1.nextValuationDate, T1.valuationPending, T1.QueryId,
								T2.QueryCode, T2.QuerySubCode
			FROM 				CollateralStructure T1
			LEFT OUTER JOIN 	DedupParams T2 ON T1.QueryId = T2.QueryId and QueryModule = 'Collateral'
			
			WHERE  NOT EXISTS  (SELECT 1 FROM CollateralStructure_Temp  WHERE CollateralType = T1.CollateralType)
		</createView>
	</changeSet>

	<changeSet id="20" author="Vinay">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM
			SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT
			MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);

			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CollateralStructureDialog_CollateralDedup','CollateralStructureDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CollateralStructureDialog_ValuationFrequency','CollateralStructureDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CollateralStructureDialog_ValuationPending','CollateralStructureDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,
			'CollateralStructureDialog_NextValuationDate','CollateralStructureDialog',0,1000,CURRENT_TIMESTAMP,'
			',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;

			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM
			SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='COLLATERALSTRUCTURE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CollateralStructureDialog_CollateralDedup'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='COLLATERALSTRUCTURE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CollateralStructureDialog_ValuationFrequency'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='COLLATERALSTRUCTURE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CollateralStructureDialog_ValuationPending'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO
			SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),
			(SELECT GRPID FROM SECGROUPS WHERE
			GRPCODE='COLLATERALSTRUCTURE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS
			WHERE RIGHTNAME='CollateralStructureDialog_NextValuationDate'), 1,
			0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE
			SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM
			SECGROUPRIGHTS);
		</sql>
	</changeSet>

	<changeSet id="21" author="Durga Prasad D">
		<sql>
			update SeqPinCodes set seqNo = (select max(pincodeid) from
			PinCodes);
		</sql>
	</changeSet>
	<changeSet id="22" author="Srikanth">
		<sql>
			delete from secrolegroups where grpid in (Select grpid from
			secgroups where grpcode='DISBURSEMENT_FILE_UPLOAD_DOWNLOAD') and
			roleid in (Select roleid from secroles where
			rolecd='DISBURSEMENT_FILE_UPLOAD_DOWNLOAD');
			insert into secrolegroups
			values((Select Max(rolegrpid)+1 from secrolegroups),(Select grpid
			from secgroups where
			grpcode='DISBURSEMENT_FILE_UPLOAD_DOWNLOAD'),(Select roleid from
			secroles where
			rolecd='DISBURSEMENT_FILE_UPLOAD_DOWNLOAD'),0,'1000','2018-04-23
			11:22:56','','','','','','','0');
		</sql>
	</changeSet>

	<changeSet id="22" author="Vinay">
		<sql>
			delete from SMTPARAMETERS where sysparmcode='FEESALLOWZRO';
			Insert into SMTPARAMETERS values ('FEESALLOWZERO','Fees allowed
			zero.','String','1','Y',1,0,null,null,'Fees allowed zero when
			calculated type is fixed amount',1,1000,'0001-07-26
			00:00:00.0','Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="23" author="Jayant">
		<sql>
			delete from secrolegroups where grpid in (Select grpid from
			secgroups where grpcode='DATAENGINE_IMPORT') and roleid in (Select
			roleid from secroles where rolecd='DATAENGINE_IMPORT');
			insert into
			secrolegroups values((Select Max(rolegrpid)+1 from
			secrolegroups),(Select grpid from secgroups where
			grpcode='DATAENGINE_IMPORT'),(Select roleid from secroles where
			rolecd='DATAENGINE_IMPORT'),0,'1000','2018-04-23
			11:22:56','','','','','','','0');
		</sql>
	</changeSet>
	<changeSet id="23" author="Vinay">
		<addColumn tableName="FinanceMain">
			<column name="EligibilityMethod" defaultValue="" type="VARCHAR(4)" />
		</addColumn>
		<addColumn tableName="FinanceMain_PA">
			<column name="EligibilityMethod" defaultValue="" type="VARCHAR(4)" />
		</addColumn>
		<addColumn tableName="FinanceMain_Temp">
			<column name="EligibilityMethod" defaultValue="" type="VARCHAR(4)" />
		</addColumn>
	</changeSet>

	<changeSet id="24" author="Vinay">
		<createView viewName="financemain_view" replaceIfExists="true">
			SELECT t1.finreference,
		    t1.investmentref,
		    t1.numberofterms,
		    t1.grcperiodenddate,
		    t1.allowgrcperiod,
		    t1.gracebaserate,
		    t1.gracespecialrate,
		    t1.grcpftrate,
		    t1.grcpftfrq,
		    t1.nextgrcpftdate,
		    t1.allowgrcpftrvw,
		    t1.grcpftrvwfrq,
		    t1.nextgrcpftrvwdate,
		    t1.allowgrccpz,
		    t1.grccpzfrq,
		    t1.nextgrccpzdate,
		    t1.repaybaserate,
		    t1.repayspecialrate,
		    t1.repayprofitrate,
		    t1.repayfrq,
		    t1.nextrepaydate,
		    t1.repaypftfrq,
		    t1.nextrepaypftdate,
		    t1.allowrepayrvw,
		    t1.repayrvwfrq,
		    t1.nextrepayrvwdate,
		    t1.allowrepaycpz,
		    t1.repaycpzfrq,
		    t1.nextrepaycpzdate,
		    t1.maturitydate,
		    t1.cpzatgraceend,
		    t1.downpayment,
		    t1.graceflatamount,
		    t1.reqrepayamount,
		    t1.totalprofit,
		    t1.totalcpz,
		    t1.totalgrosspft,
		    t1.totalgrossgrcpft,
		    t1.totalgracepft,
		    t1.totalgracecpz,
		    t1.grcratebasis,
		    t1.repayratebasis,
		    t1.fintype,
		    t1.finremarks,
		    t1.finccy,
		    t1.schedulemethod,
		    t1.profitdaysbasis,
		    t1.reqmaturity,
		    t1.calterms,
		    t1.calmaturity,
		    t1.firstrepay,
		    t1.lastrepay,
		    t1.finstartdate,
		    t1.finamount,
		    t1.finamount + t1.feechargeamt - t1.downpayment AS lovdescfinancingamount,
		    t1.finrepaymentamount,
		    t1.custid,
		    t1.defferments,
		    t1.plandefercount,
		    t1.finbranch,
		    t1.finsourceid,
		    t1.alloweddefrpychange,
		    t1.availeddefrpychange,
		    t1.alloweddeffrqchange,
		    t1.availeddeffrqchange,
		    t1.recaltype,
		    t1.finassetvalue,
		    t1.disbaccountid,
		    t1.repayaccountid,
		    t1.finisactive,
		    t1.limitvalid,
		    t1.overridelimit,
		    t1.securitydeposit,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t7.fintypedesc AS lovdescfintypename,
		    t7.finmaxamount AS lovdescfinmaxamt,
		    t7.finminamount AS lovdescfinminamount,
		    t1.mindownpayperc,
		    t7.finisalwdifferment AS lovdescfinalwdeferment,
		    t7.finisdwpayrequired AS lovdescdwnpayreq,
		    t7.finmaxdifferment AS lovdescfinmaxdifferment,
		    t12.branchdesc AS lovdescfinbranchname,
		    t1.lastrepaydate,
		    t1.lastrepaypftdate,
		    t1.lastrepayrvwdate,
		    t1.lastrepaycpzdate,
		    t1.allowgrcrepay,
		    t1.grcschdmthd,
		    t1.grcmargin,
		    t1.repaymargin,
		    t1.fincurrassetvalue,
		    t1.fincommitmentref,
		    t1.finlimitref,
		    t1.depreciationfrq,
		    t1.fincontractdate,
		    t1.nextdepdate,
		    t1.lastdepdate,
		    t1.finaccount,
		    t1.fincustpftaccount,
		    t17.acrtilllbd AS lovdescaccruedtilllbd,
		    t7.finrvwrateapplfor,
		    t1.totalrepayamt,
		    t1.closingstatus,
		    t1.finapproveddate,
		    t1.feechargeamt,
		    t1.blacklisted,
		    t1.finrepaypftonfrq,
		    t1.anualizedpercrate,
		    t1.effectiverateofreturn,
		    t1.migratedfinance,
		    t1.schedulemaintained,
		    t1.scheduleregenerated,
		    t1.finpurpose,
		    t1.finstatus,
		    t1.finstsreason,
		    t1.initiateuser,
		    t1.bankname,
		    t1.iban,
		    t1.accounttype,
		    t1.ddareferenceno,
		    t7.finscheduleon AS lovdescfinscheduleon,
		    t1.custdsr,
		    t1.jointaccount,
		    t1.jointcustid,
		    t1.downpaybank,
		    t1.downpaysupl,
		    t1.downpayaccount,
		    t1.securitycollateral,
		    t1.approved,
		    t1.discrepancy,
		    t1.limitapproved,
		    t1.graceterms,
		    t7.findivision AS lovdescfindivision,
		    t1.rcdmaintainsts,
		    t1.finrepaymethod,
		    t1.grcprofitdaysbasis,
		    t1.stepfinance,
		    t1.steptype,
		    t1.steppolicy,
		    t1.alwmanualsteps,
		    t1.noofsteps,
		    t1.linkedfinref,
		    t1.nextuserid,
		    t1.priority,
		    t24.policydesc AS lovdescsteppolicyname,
		    t1.grcminrate,
		    t1.grcmaxrate,
		    t1.rpyminrate,
		    t1.rpymaxrate,
		    t1.deviationapproval,
		    t1.manualschedule,
		    t1.takeoverfinance,
		    t1.grcadvbaserate,
		    t1.grcadvmargin,
		    t1.grcadvpftrate,
		    t1.rpyadvbaserate,
		    t1.rpyadvmargin,
		    t1.rpyadvpftrate,
		    t1.supplementrent,
		    t1.increasedcost,
		    t1.rolloverfrq,
		    t1.nextrolloverdate,
		    t27.custstsdescription,
		    t1.shariastatus,
		    t1.initiatedate,
		    t1.finpreapprovedref,
		    t1.mmaid,
		    t1.accountsofficer,
		    t1.feeaccountid,
		    t1.fincancelac,
		    t28.dealername AS lovdescaccountsofficer,
		    t28.dealercity AS lovdescsourcecity,
		    t1.dsacode,
		    t30.rofficerdesc AS dsacodedesc,
		    t1.tdsapplicable,
		    t1.mandateid,
		    t1.droplinefrq,
		    t1.firstdroplinedate,
		    t1.pftservicingodlimit,
		    t1.insuranceamt,
		    t1.deductinsdisb,
		    t1.alwbpi,
		    t1.bpitreatment,
		    t1.planemihalw,
		    t1.planemihmethod,
		    t1.planemihmaxperyear,
		    t1.planemihmax,
		    t1.planemihlockperiod,
		    t1.planemicpz,
		    t1.calroundingmode,
		    t1.alwmultidisb,
		    t1.applicationno,
		    t1.referralid,
		    t33.rofficerdesc AS referraliddesc,
		    t1.dmacode,
		    t34.rofficerdesc AS dmacodedesc,
		    t1.salesdepartment,
		    t35.gendeptdesc AS salesdepartmentdesc,
		    t1.quickdisb,
		    t1.wifreference,
		    t1.unplanemihlockperiod,
		    t1.unplanemicpz,
		    t1.reagecpz,
		    t1.maxunplannedemi,
		    t1.maxreageholidays,
		    t1.availedunplanemi,
		    t1.availedreageh,
		    t1.bpiamount,
		    t1.deductfeedisb,
		    t1.rvwrateapplfor,
		    t1.schcalonrvw,
		    t1.pastduepftcalmthd,
		    t1.pastduepftmargin,
		    t1.droppingmethod,
		    t1.ratechganyday,
		    t1.promotioncode,
		    t1.restructureloan,
		    t1.oldfinreference,
		    t1.reagebucket,
		    t1.fincategory,
		    t1.productcategory,
		    t1.roundingtarget,
		    t36.entitycode AS lovdescentitycode,
			t1.eligibilitymethod
		   FROM financemain_temp t1
		     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
		     LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode
		     LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference
		     LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode
		     LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode
		     LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid
		     LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode
		     LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode
		     LEFT JOIN relationshipofficers t34 ON t1.dmacode = t34.rofficercode
		     LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment
		     LEFT JOIN smtdivisiondetail t36 ON t7.findivision = t36.divisioncode
		UNION ALL
		 SELECT t1.finreference,
		    t1.investmentref,
		    t1.numberofterms,
		    t1.grcperiodenddate,
		    t1.allowgrcperiod,
		    t1.gracebaserate,
		    t1.gracespecialrate,
		    t1.grcpftrate,
		    t1.grcpftfrq,
		    t1.nextgrcpftdate,
		    t1.allowgrcpftrvw,
		    t1.grcpftrvwfrq,
		    t1.nextgrcpftrvwdate,
		    t1.allowgrccpz,
		    t1.grccpzfrq,
		    t1.nextgrccpzdate,
		    t1.repaybaserate,
		    t1.repayspecialrate,
		    t1.repayprofitrate,
		    t1.repayfrq,
		    t1.nextrepaydate,
		    t1.repaypftfrq,
		    t1.nextrepaypftdate,
		    t1.allowrepayrvw,
		    t1.repayrvwfrq,
		    t1.nextrepayrvwdate,
		    t1.allowrepaycpz,
		    t1.repaycpzfrq,
		    t1.nextrepaycpzdate,
		    t1.maturitydate,
		    t1.cpzatgraceend,
		    t1.downpayment,
		    t1.graceflatamount,
		    t1.reqrepayamount,
		    t1.totalprofit,
		    t1.totalcpz,
		    t1.totalgrosspft,
		    t1.totalgrossgrcpft,
		    t1.totalgracepft,
		    t1.totalgracecpz,
		    t1.grcratebasis,
		    t1.repayratebasis,
		    t1.fintype,
		    t1.finremarks,
		    t1.finccy,
		    t1.schedulemethod,
		    t1.profitdaysbasis,
		    t1.reqmaturity,
		    t1.calterms,
		    t1.calmaturity,
		    t1.firstrepay,
		    t1.lastrepay,
		    t1.finstartdate,
		    t1.finamount,
		    t1.finamount + t1.feechargeamt - t1.downpayment AS lovdescfinancingamount,
		    t1.finrepaymentamount,
		    t1.custid,
		    t1.defferments,
		    t1.plandefercount,
		    t1.finbranch,
		    t1.finsourceid,
		    t1.alloweddefrpychange,
		    t1.availeddefrpychange,
		    t1.alloweddeffrqchange,
		    t1.availeddeffrqchange,
		    t1.recaltype,
		    t1.finassetvalue,
		    t1.disbaccountid,
		    t1.repayaccountid,
		    t1.finisactive,
		    t1.limitvalid,
		    t1.overridelimit,
		    t1.securitydeposit,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t7.fintypedesc AS lovdescfintypename,
		    t7.finmaxamount AS lovdescfinmaxamt,
		    t7.finminamount AS lovdescfinminamount,
		    t1.mindownpayperc,
		    t7.finisalwdifferment AS lovdescfinalwdeferment,
		    t7.finisdwpayrequired AS lovdescdwnpayreq,
		    t7.finmaxdifferment AS lovdescfinmaxdifferment,
		    t12.branchdesc AS lovdescfinbranchname,
		    t1.lastrepaydate,
		    t1.lastrepaypftdate,
		    t1.lastrepayrvwdate,
		    t1.lastrepaycpzdate,
		    t1.allowgrcrepay,
		    t1.grcschdmthd,
		    t1.grcmargin,
		    t1.repaymargin,
		    t1.fincurrassetvalue,
		    t1.fincommitmentref,
		    t1.finlimitref,
		    t1.depreciationfrq,
		    t1.fincontractdate,
		    t1.nextdepdate,
		    t1.lastdepdate,
		    t1.finaccount,
		    t1.fincustpftaccount,
		    t17.acrtilllbd AS lovdescaccruedtilllbd,
		    t7.finrvwrateapplfor,
		    t1.totalrepayamt,
		    t1.closingstatus,
		    t1.finapproveddate,
		    t1.feechargeamt,
		    t1.blacklisted,
		    t1.finrepaypftonfrq,
		    t1.anualizedpercrate,
		    t1.effectiverateofreturn,
		    t1.migratedfinance,
		    t1.schedulemaintained,
		    t1.scheduleregenerated,
		    t1.finpurpose,
		    t1.finstatus,
		    t1.finstsreason,
		    t1.initiateuser,
		    t1.bankname,
		    t1.iban,
		    t1.accounttype,
		    t1.ddareferenceno,
		    t7.finscheduleon AS lovdescfinscheduleon,
		    t1.custdsr,
		    t1.jointaccount,
		    t1.jointcustid,
		    t1.downpaybank,
		    t1.downpaysupl,
		    t1.downpayaccount,
		    t1.securitycollateral,
		    t1.approved,
		    t1.discrepancy,
		    t1.limitapproved,
		    t1.graceterms,
		    t7.findivision AS lovdescfindivision,
		    t1.rcdmaintainsts,
		    t1.finrepaymethod,
		    t1.grcprofitdaysbasis,
		    t1.stepfinance,
		    t1.steptype,
		    t1.steppolicy,
		    t1.alwmanualsteps,
		    t1.noofsteps,
		    t1.linkedfinref,
		    t1.nextuserid,
		    t1.priority,
		    t24.policydesc AS lovdescsteppolicyname,
		    t1.grcminrate,
		    t1.grcmaxrate,
		    t1.rpyminrate,
		    t1.rpymaxrate,
		    t1.deviationapproval,
		    t1.manualschedule,
		    t1.takeoverfinance,
		    t1.grcadvbaserate,
		    t1.grcadvmargin,
		    t1.grcadvpftrate,
		    t1.rpyadvbaserate,
		    t1.rpyadvmargin,
		    t1.rpyadvpftrate,
		    t1.supplementrent,
		    t1.increasedcost,
		    t1.rolloverfrq,
		    t1.nextrolloverdate,
		    t27.custstsdescription,
		    t1.shariastatus,
		    t1.initiatedate,
		    t1.finpreapprovedref,
		    t1.mmaid,
		    t1.accountsofficer,
		    t1.feeaccountid,
		    t1.fincancelac,
		    t28.dealername AS lovdescaccountsofficer,
		    t28.dealercity AS lovdescsourcecity,
		    t1.dsacode,
		    t30.rofficerdesc AS dsacodedesc,
		    t1.tdsapplicable,
		    t1.mandateid,
		    t1.droplinefrq,
		    t1.firstdroplinedate,
		    t1.pftservicingodlimit,
		    t1.insuranceamt,
		    t1.deductinsdisb,
		    t1.alwbpi,
		    t1.bpitreatment,
		    t1.planemihalw,
		    t1.planemihmethod,
		    t1.planemihmaxperyear,
		    t1.planemihmax,
		    t1.planemihlockperiod,
		    t1.planemicpz,
		    t1.calroundingmode,
		    t1.alwmultidisb,
		    t1.applicationno,
		    t1.referralid,
		    t33.rofficerdesc AS referraliddesc,
		    t1.dmacode,
		    t34.rofficerdesc AS dmacodedesc,
		    t1.salesdepartment,
		    t35.gendeptdesc AS salesdepartmentdesc,
		    t1.quickdisb,
		    t1.wifreference,
		    t1.unplanemihlockperiod,
		    t1.unplanemicpz,
		    t1.reagecpz,
		    t1.maxunplannedemi,
		    t1.maxreageholidays,
		    t1.availedunplanemi,
		    t1.availedreageh,
		    t1.bpiamount,
		    t1.deductfeedisb,
		    t1.rvwrateapplfor,
		    t1.schcalonrvw,
		    t1.pastduepftcalmthd,
		    t1.pastduepftmargin,
		    t1.droppingmethod,
		    t1.ratechganyday,
		    t1.promotioncode,
		    t1.restructureloan,
		    t1.oldfinreference,
		    t1.reagebucket,
		    t1.fincategory,
		    t1.productcategory,
		    t1.roundingtarget,
		    t36.entitycode AS lovdescentitycode,
			t1.eligibilitymethod
		   FROM financemain t1
		     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
		     LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode
		     LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference
		     LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode
		     LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode
		     LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid
		     LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode
		     LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode
		     LEFT JOIN relationshipofficers t34 ON t1.dmacode = t34.rofficercode
		     LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment
		     LEFT JOIN smtdivisiondetail t36 ON t7.findivision = t36.divisioncode
		  WHERE NOT (EXISTS ( SELECT 1 AS expr1
		           FROM financemain_temp
		          WHERE financemain_temp.finreference = t1.finreference))
		</createView>

		<createView viewName="financemain_tview" replaceIfExists="true">
			 	SELECT t1.finreference,
			    t1.investmentref,
			    t1.numberofterms,
			    t1.grcperiodenddate,
			    t1.allowgrcperiod,
			    t1.gracebaserate,
			    t1.gracespecialrate,
			    t1.grcpftrate,
			    t1.grcpftfrq,
			    t1.nextgrcpftdate,
			    t1.allowgrcpftrvw,
			    t1.grcpftrvwfrq,
			    t1.nextgrcpftrvwdate,
			    t1.allowgrccpz,
			    t1.grccpzfrq,
			    t1.nextgrccpzdate,
			    t1.repaybaserate,
			    t1.repayspecialrate,
			    t1.repayprofitrate,
			    t1.repayfrq,
			    t1.nextrepaydate,
			    t1.repaypftfrq,
			    t1.nextrepaypftdate,
			    t1.allowrepayrvw,
			    t1.repayrvwfrq,
			    t1.nextrepayrvwdate,
			    t1.allowrepaycpz,
			    t1.repaycpzfrq,
			    t1.nextrepaycpzdate,
			    t1.maturitydate,
			    t1.cpzatgraceend,
			    t1.downpayment,
			    t1.graceflatamount,
			    t1.reqrepayamount,
			    t1.totalprofit,
			    t1.totalcpz,
			    t1.totalgrosspft,
			    t1.totalgrossgrcpft,
			    t1.totalgracepft,
			    t1.totalgracecpz,
			    t1.grcratebasis,
			    t1.repayratebasis,
			    t1.fintype,
			    t1.finremarks,
			    t1.finccy,
			    t1.schedulemethod,
			    t1.profitdaysbasis,
			    t1.reqmaturity,
			    t1.calterms,
			    t1.calmaturity,
			    t1.firstrepay,
			    t1.lastrepay,
			    t1.finstartdate,
			    t1.finamount,
			    t1.finrepaymentamount,
			    t1.custid,
			    t1.defferments,
			    t1.plandefercount,
			    t1.finbranch,
			    t1.finsourceid,
			    t1.alloweddefrpychange,
			    t1.availeddefrpychange,
			    t1.alloweddeffrqchange,
			    t1.availeddeffrqchange,
			    t1.recaltype,
			    t1.finassetvalue,
			    t1.disbaccountid,
			    t1.repayaccountid,
			    t1.finisactive,
			    t1.limitvalid,
			    t1.overridelimit,
			    t1.securitydeposit,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t2.fintypedesc AS lovdescfintypename,
			    t2.finmaxamount AS lovdescfinmaxamt,
			    t2.finminamount AS lovdescfinminamount,
			    t1.mindownpayperc,
			    t4.branchdesc AS lovdescfinbranchname,
			    t1.lastrepaydate,
			    t1.lastrepaypftdate,
			    t1.lastrepayrvwdate,
			    t1.lastrepaycpzdate,
			    t1.allowgrcrepay,
			    t1.grcschdmthd,
			    t1.grcmargin,
			    t1.repaymargin,
			    t1.fincurrassetvalue,
			    t1.fincommitmentref,
			    t1.finlimitref,
			    t1.depreciationfrq,
			    t1.fincontractdate,
			    t1.nextdepdate,
			    t1.lastdepdate,
			    t1.finaccount,
			    t1.fincustpftaccount,
			    t1.totalrepayamt,
			    t1.finapproveddate,
			    t1.feechargeamt,
			    t1.blacklisted,
			    t1.finrepaypftonfrq,
			    t1.anualizedpercrate,
			    t1.effectiverateofreturn,
			    t1.migratedfinance,
			    t1.schedulemaintained,
			    t1.scheduleregenerated,
			    t1.finpurpose,
			    t1.finstatus,
			    t1.finstsreason,
			    t1.initiateuser,
			    t1.bankname,
			    t1.iban,
			    t1.accounttype,
			    t1.ddareferenceno,
			    t1.custdsr,
			    t1.jointaccount,
			    t1.jointcustid,
			    t1.downpaybank,
			    t1.downpaysupl,
			    t1.downpayaccount,
			    t1.securitycollateral,
			    t1.approved,
			    t1.discrepancy,
			    t1.limitapproved,
			    t1.graceterms,
			    t2.findivision AS lovdescfindivision,
			    t1.rcdmaintainsts,
			    t1.finrepaymethod,
			    t1.grcprofitdaysbasis,
			    t1.stepfinance,
			    t1.steptype,
			    t1.steppolicy,
			    t1.alwmanualsteps,
			    t1.noofsteps,
			    t1.linkedfinref,
			    t1.nextuserid,
			    t1.priority,
			    t5.policydesc AS lovdescsteppolicyname,
			    t1.grcminrate,
			    t1.grcmaxrate,
			    t1.rpyminrate,
			    t1.rpymaxrate,
			    t1.deviationapproval,
			    t1.manualschedule,
			    t1.takeoverfinance,
			    t1.grcadvbaserate,
			    t1.grcadvmargin,
			    t1.grcadvpftrate,
			    t1.rpyadvbaserate,
			    t1.rpyadvmargin,
			    t1.rpyadvpftrate,
			    t1.supplementrent,
			    t1.increasedcost,
			    t1.creditinsamt,
			    t1.rolloverfrq,
			    t1.nextrolloverdate,
			    t1.shariastatus,
			    t1.initiatedate,
			    t1.finpreapprovedref,
			    t1.mmaid,
			    t1.accountsofficer,
			    t1.feeaccountid,
			    t1.fincancelac,
			    t6.dealername AS lovdescaccountsofficer,
			    t6.dealercity AS lovdescsourcecity,
			    t1.dsacode,
			    t7.rofficerdesc AS dsacodedesc,
			    t1.tdsapplicable,
			    t1.mandateid,
			    t1.droplinefrq,
			    t1.firstdroplinedate,
			    t1.pftservicingodlimit,
			    t1.insuranceamt,
			    t1.deductinsdisb,
			    t1.alwbpi,
			    t1.bpitreatment,
			    t1.planemihalw,
			    t1.planemihmethod,
			    t1.planemihmaxperyear,
			    t1.planemihmax,
			    t1.planemihlockperiod,
			    t1.planemicpz,
			    t1.calroundingmode,
			    t1.alwmultidisb,
			    t1.applicationno,
			    t1.referralid,
			    t8.rofficerdesc AS referraliddesc,
			    t1.dmacode,
			    t9.rofficerdesc AS dmacodedesc,
			    t1.salesdepartment,
			    t10.gendeptdesc AS salesdepartmentdesc,
			    t1.quickdisb,
			    t1.wifreference,
			    t1.unplanemihlockperiod,
			    t1.unplanemicpz,
			    t1.reagecpz,
			    t1.maxunplannedemi,
			    t1.maxreageholidays,
			    t1.availedunplanemi,
			    t1.availedreageh,
			    t1.bpiamount,
			    t1.deductfeedisb,
			    t1.rvwrateapplfor,
			    t1.schcalonrvw,
			    t1.pastduepftcalmthd,
			    t1.pastduepftmargin,
			    t1.droppingmethod,
			    t1.ratechganyday,
			    t1.promotioncode,
			    t1.restructureloan,
			    t1.oldfinreference,
			    t1.reagebucket,
			    t1.fincategory,
			    t1.productcategory,
			    t1.roundingtarget,
			    t11.entitycode AS lovdescentitycode,
				t1.eligibilitymethod
			   FROM financemain_temp t1
			     JOIN rmtfinancetypes t2 ON t1.fintype = t2.fintype
			     JOIN rmtbranches t4 ON t1.finbranch = t4.branchcode
			     LEFT JOIN steppolicyheader t5 ON t1.steppolicy = t5.policycode
			     LEFT JOIN amtvehicledealer t6 ON t1.accountsofficer = t6.dealerid
			     LEFT JOIN relationshipofficers t7 ON t1.dsacode = t7.rofficercode
			     LEFT JOIN relationshipofficers t8 ON t1.referralid = t8.rofficercode
			     LEFT JOIN relationshipofficers t9 ON t1.dmacode = t9.rofficercode
			     LEFT JOIN rmtgendepartments t10 ON t1.salesdepartment = t10.gendepartment
			     LEFT JOIN smtdivisiondetail t11 ON t2.findivision = t11.divisioncode
		</createView>

		<createView viewName="financemain_aview" replaceIfExists="true">
			SELECT t1.finreference,
		    t1.numberofterms,
		    t1.grcperiodenddate,
		    t1.allowgrcperiod,
		    t1.gracebaserate,
		    t1.gracespecialrate,
		    t1.grcpftrate,
		    t1.grcpftfrq,
		    t1.nextgrcpftdate,
		    t1.allowgrcpftrvw,
		    t1.grcpftrvwfrq,
		    t1.nextgrcpftrvwdate,
		    t1.allowgrccpz,
		    t1.grccpzfrq,
		    t1.nextgrccpzdate,
		    t1.repaybaserate,
		    t1.repayspecialrate,
		    t1.repayprofitrate,
		    t1.repayfrq,
		    t1.nextrepaydate,
		    t1.repaypftfrq,
		    t1.nextrepaypftdate,
		    t1.allowrepayrvw,
		    t1.repayrvwfrq,
		    t1.nextrepayrvwdate,
		    t1.allowrepaycpz,
		    t1.repaycpzfrq,
		    t1.nextrepaycpzdate,
		    t1.maturitydate,
		    t1.cpzatgraceend,
		    t1.downpayment,
		    t1.graceflatamount,
		    t1.reqrepayamount,
		    t1.totalprofit,
		    t1.totalcpz,
		    t1.totalgrosspft,
		    t1.totalgrossgrcpft,
		    t1.totalgracepft,
		    t1.totalgracecpz,
		    t1.grcratebasis,
		    t1.repayratebasis,
		    t1.fintype,
		    t1.finremarks,
		    t1.finccy,
		    t1.schedulemethod,
		    t1.profitdaysbasis,
		    t1.reqmaturity,
		    t1.calterms,
		    t1.calmaturity,
		    t1.firstrepay,
		    t1.lastrepay,
		    t1.finstartdate,
		    t1.finamount,
		    t1.finamount + t1.feechargeamt - t1.downpayment AS lovdescfinancingamount,
		    t1.finrepaymentamount,
		    t1.custid,
		    t1.defferments,
		    t1.plandefercount,
		    t1.finbranch,
		    t1.finsourceid,
		    t1.alloweddefrpychange,
		    t1.availeddefrpychange,
		    t1.alloweddeffrqchange,
		    t1.availeddeffrqchange,
		    t1.recaltype,
		    t1.finassetvalue,
		    t1.disbaccountid,
		    t1.repayaccountid,
		    t1.finisactive,
		    t1.limitvalid,
		    t1.overridelimit,
		    t1.securitydeposit,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t7.fintypedesc AS lovdescfintypename,
		    t7.finmaxamount AS lovdescfinmaxamt,
		    t7.finminamount AS lovdescfinminamount,
		    t1.mindownpayperc,
		    t7.finisalwdifferment AS lovdescfinalwdeferment,
		    t7.finisdwpayrequired AS lovdescdwnpayreq,
		    t7.finmaxdifferment AS lovdescfinmaxdifferment,
		    t12.branchdesc AS lovdescfinbranchname,
		    t1.lastrepaydate,
		    t1.lastrepaypftdate,
		    t1.lastrepayrvwdate,
		    t1.lastrepaycpzdate,
		    t1.allowgrcrepay,
		    t1.grcschdmthd,
		    t1.grcmargin,
		    t1.repaymargin,
		    t1.fincurrassetvalue,
		    t1.fincommitmentref,
		    t1.finlimitref,
		    t1.depreciationfrq,
		    t1.fincontractdate,
		    t1.nextdepdate,
		    t1.lastdepdate,
		    t1.finaccount,
		    t1.fincustpftaccount,
		    t17.acrtilllbd AS lovdescaccruedtilllbd,
		    t7.finrvwrateapplfor,
		    t1.totalrepayamt,
		    t1.closingstatus,
		    t1.finapproveddate,
		    t1.feechargeamt,
		    t1.blacklisted,
		    t1.finrepaypftonfrq,
		    t1.anualizedpercrate,
		    t1.effectiverateofreturn,
		    t1.migratedfinance,
		    t1.schedulemaintained,
		    t1.scheduleregenerated,
		    t1.finpurpose,
		    t1.finstatus,
		    t1.finstsreason,
		    t1.initiateuser,
		    t1.bankname,
		    t1.iban,
		    t1.accounttype,
		    t1.ddareferenceno,
		    t7.finscheduleon AS lovdescfinscheduleon,
		    t1.custdsr,
		    t1.jointaccount,
		    t1.jointcustid,
		    t1.downpaybank,
		    t1.downpaysupl,
		    t1.downpayaccount,
		    t1.securitycollateral,
		    t1.approved,
		    t1.discrepancy,
		    t1.limitapproved,
		    t1.investmentref,
		    t1.graceterms,
		    t7.findivision AS lovdescfindivision,
		    t1.rcdmaintainsts,
		    t1.finrepaymethod,
		    t1.grcprofitdaysbasis,
		    t1.stepfinance,
		    t1.steptype,
		    t1.steppolicy,
		    t1.alwmanualsteps,
		    t1.noofsteps,
		    t1.linkedfinref,
		    t1.nextuserid,
		    t1.priority,
		    t24.policydesc AS lovdescsteppolicyname,
		    t1.grcminrate,
		    t1.grcmaxrate,
		    t1.rpyminrate,
		    t1.rpymaxrate,
		    t1.deviationapproval,
		    t1.manualschedule,
		    t1.takeoverfinance,
		    t1.grcadvbaserate,
		    t1.grcadvmargin,
		    t1.grcadvpftrate,
		    t1.rpyadvbaserate,
		    t1.rpyadvmargin,
		    t1.rpyadvpftrate,
		    t1.supplementrent,
		    t1.increasedcost,
		    t1.rolloverfrq,
		    t1.nextrolloverdate,
		    t27.custstsdescription,
		    t1.shariastatus,
		    t1.initiatedate,
		    t1.finpreapprovedref,
		    t1.mmaid,
		    t1.accountsofficer,
		    t1.feeaccountid,
		    t1.fincancelac,
		    t28.dealername AS lovdescaccountsofficer,
		    t28.dealercity AS lovdescsourcecity,
		    t29.agreename,
		    t29.mmareference AS lovdescmmareference,
		    t1.dsacode,
		    t30.rofficerdesc AS dsacodedesc,
		    t1.tdsapplicable,
		    t1.mandateid,
		    t1.droplinefrq,
		    t1.firstdroplinedate,
		    t1.pftservicingodlimit,
		    t1.insuranceamt,
		    t1.deductinsdisb,
		    t1.alwbpi,
		    t1.bpitreatment,
		    t1.planemihalw,
		    t1.planemihmethod,
		    t1.planemihmaxperyear,
		    t1.planemihmax,
		    t1.planemihlockperiod,
		    t1.planemicpz,
		    t1.calroundingmode,
		    t1.alwmultidisb,
		    t1.applicationno,
		    t1.referralid,
		    t33.rofficerdesc AS referraliddesc,
		    t1.dmacode,
		    t34.rofficerdesc AS dmacodedesc,
		    t1.salesdepartment,
		    t35.gendeptdesc AS salesdepartmentdesc,
		    t1.quickdisb,
		    t1.wifreference,
		    t1.unplanemihlockperiod,
		    t1.unplanemicpz,
		    t1.reagecpz,
		    t1.maxunplannedemi,
		    t1.maxreageholidays,
		    t1.availedunplanemi,
		    t1.availedreageh,
		    t1.bpiamount,
		    t1.deductfeedisb,
		    t1.rvwrateapplfor,
		    t1.schcalonrvw,
		    t1.pastduepftcalmthd,
		    t1.pastduepftmargin,
		    t1.droppingmethod,
		    t1.ratechganyday,
		    t1.promotioncode,
		    t1.restructureloan,
		    t1.oldfinreference,
		    t1.reagebucket,
		    t1.fincategory,
		    t1.productcategory,
		    t1.roundingtarget,
		    t36.entitycode AS lovdescentitycode,
			t1.eligibilitymethod
		   FROM financemain t1
		     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
		     LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode
		     LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference
		     LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode
		     LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode
		     LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid
		     LEFT JOIN mmagreements t29 ON t1.mmaid = t29.mmaid
		     LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode
		     LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode
		     LEFT JOIN relationshipofficers t34 ON t1.dmacode = t34.rofficercode
		     LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment
		     LEFT JOIN smtdivisiondetail t36 ON t7.findivision = t36.divisioncode
		</createView>
	</changeSet>

	<changeSet id="25" author="Vinay">
		<sql>
			Insert into RBFIELDDETAILS values
			('ELGRULE','ELGRULE','eligibilityMethod','Eligibility Method to
			control fileds in finance','nvarchar',4,'0','1',' ','static',' ');
		</sql>
	</changeSet>
	<changeSet id="26" author="vijaykumar.l">
		<sql>
			delete from DATA_ENGINE_CONFIG where name= 'ME_RMTBRANCHES';
			delete from DATA_ENGINE_CONFIG where name= 'ME_BMTBANKDETAIL';
			delete from DATA_ENGINE_CONFIG where name= 'ME_BANKBRANCHES';
			delete from DATA_ENGINE_CONFIG where name= 'ME_RMTCOUNTRYVSPROVINCE';
			delete from DATA_ENGINE_CONFIG where name= 'ME_RMTPROVINCEVSCITY';
			delete from DATA_ENGINE_CONFIG where name= 'ME_BMTCUSTCATEGORIES';
			delete from DATA_ENGINE_CONFIG where name= 'ME_RMTBASERATES';
			delete from DATA_ENGINE_CONFIG where name= 'ME_RMTSPLRATECODES';
			delete from DATA_ENGINE_CONFIG where name= 'ME_RMTSPLRATES';
			delete from DATA_ENGINE_CONFIG where name= 'ME_BMTPRODUCT';
			delete from DATA_ENGINE_CONFIG where name= 'ME_RMTFINANCETYPES';
			delete from DATA_ENGINE_CONFIG where name= 'ME_PROMOTIONS';
			delete from DATA_ENGINE_CONFIG where name= 'ME_FINTYPEPARTNERBANKS';
			delete from DATA_ENGINE_CONFIG where name= 'ME_VASPRODUCTTYPE';
			delete from DATA_ENGINE_CONFIG where name= 'ME_VASSTRUCTURE';
			delete from DATA_ENGINE_CONFIG where name= 'ME_AMTVEHICLEDEALER_VASMANF';
			delete from DATA_ENGINE_CONFIG where name= 'ME_BUILDERGROUP';
			delete from DATA_ENGINE_CONFIG where name= 'ME_BUILDERCOMPANY';
			delete from DATA_ENGINE_CONFIG where name= 'ME_BUILDERPROJCET';
			delete from DATA_ENGINE_CONFIG where name= 'ME_LOCALITY';
		</sql>
	</changeSet>

	<changeSet id="26.1" author="vijaykumar.l">
		<sql>
			delete from DATA_ENGINE_CONFIG where name= 'ME_RMTBASERATECODES';
		</sql>
	</changeSet>
<changeSet id="27" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTBRANCHES', 'Branches extract', 2, '"', '~', 0, 0, 'BranchCode,BranchDesc,BranchAddrLine1,BranchAddrLine2,BranchPOBox,BranchCity,BranchProvince,BranchCountry,BranchTel,BranchIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTBRANCHES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTBRANCHES'), 'RMTBRANCHES', 0, 'BranchCode', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchAddrLine1', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchAddrLine2', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchPOBox', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchCity', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchProvince', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchCountry', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchTel', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="28" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BMTBANKDETAIL', 'Banks extract', 2, '"', '~', 0, 0, 'BankCode,BankName,Active,AccNoLength', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BMTBANKDETAIL_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BMTBANKDETAIL'), 'BMTBANKDETAIL', 0, 'BankCode', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTBANKDETAIL' and configid = (select id from data_engine_config where name = 'ME_BMTBANKDETAIL')), 'BankCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTBANKDETAIL' and configid = (select id from data_engine_config where name = 'ME_BMTBANKDETAIL')), 'BankName', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTBANKDETAIL' and configid = (select id from data_engine_config where name = 'ME_BMTBANKDETAIL')), 'Active', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTBANKDETAIL' and configid = (select id from data_engine_config where name = 'ME_BMTBANKDETAIL')), 'AccNoLength', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="29" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BANKBRANCHES', 'Bank Branches extract', 2, '"', '~', 0, 0, 'BankCode,BranchCode,BranchDesc,City,MICR,IFSC,Active,AddOfBranch', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BANKBRANCHES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BANKBRANCHES'), 'BANKBRANCHES', 0, 'BankCode', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'BankCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'BranchCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'BranchDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'City', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'MICR', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'IFSC', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'Active', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'AddOfBranch', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="30" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTCOUNTRYVSPROVINCE', 'Country States extract', 2, '"', '~', 0, 0, 'CPCountry,CPProvince,CPProvinceName,CPIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTCOUNTRYVSPROVINCE_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE'), 'RMTCOUNTRYVSPROVINCE', 0, 'CPCountry', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTCOUNTRYVSPROVINCE' and configid = (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE')), 'CPCountry', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTCOUNTRYVSPROVINCE' and configid = (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE')), 'CPProvince', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTCOUNTRYVSPROVINCE' and configid = (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE')), 'CPProvinceName', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTCOUNTRYVSPROVINCE' and configid = (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE')), 'CPIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="31" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTPROVINCEVSCITY', 'State Cities extract', 2, '"', '~', 0, 0, 'PCCountry,PCProvince,PCCity,PCCityName,BankRefNo,CITYISACTIVE', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTPROVINCEVSCITY_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY'), 'RMTPROVINCEVSCITY', 0, 'PCCountry', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'PCCountry', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'PCProvince', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'PCCity', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'PCCityName', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'BankRefNo', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'CITYISACTIVE', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="32" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BMTCUSTCATEGORIES', 'Customer Categories extract', 2, '"', '~', 0, 0, 'CustCtgCode,CustCtgDesc,CustCtgType,CustCtgIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BMTCUSTCATEGORIES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES'), 'BMTCUSTCATEGORIES', 0, 'CustCtgCode', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTCUSTCATEGORIES' and configid = (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES')), 'CustCtgCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTCUSTCATEGORIES' and configid = (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES')), 'CustCtgDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTCUSTCATEGORIES' and configid = (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES')), 'CustCtgType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTCUSTCATEGORIES' and configid = (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES')), 'CustCtgIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="33" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTBASERATECODES', 'Base Rate Codes extract', 2, '"', '~', 0, 0, 'BRType,BRTypeDesc,BRTypeIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTBASERATECODES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTBASERATECODES'), 'RMTBASERATECODES', 0, 'BRType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATECODES')), 'BRType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATECODES')), 'BRTypeDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATECODES')), 'BRTypeIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="34" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTBASERATES', 'Base Rates extract', 2, '"', '~', 0, 0, 'BRType,Currency,BREffDate,BRRate,BRTypeIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTBASERATES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTBASERATES'), 'RMTBASERATES', 0, 'BRType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATES')), 'BRType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATES')), 'Currency', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATES')), 'BREffDate', 0, 'N', 0, 'DATE:dd/MM/yyyy');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATES')), 'BRRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATES')), 'BRTypeIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="35" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTSPLRATECODES', 'Special Rate Codes extract', 2, '"', '~', 0, 0, 'SRType,SRTypeDesc,SRIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTSPLRATECODES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTSPLRATECODES'), 'RMTSPLRATECODES', 0, 'SRType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATECODES')), 'SRType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATECODES')), 'SRTypeDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATECODES')), 'SRIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="36" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTSPLRATES', 'Special Rates extract', 2, '"', '~', 0, 0, 'SRType,SREffDate,SRRate', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTSPLRATES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTSPLRATES'), 'RMTSPLRATES', 0, 'SRType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATES')), 'SRType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATES')), 'SREffDate', 0, 'N', 0, 'DATE:dd/MM/yyyy');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATES')), 'SRRate', 0, 'N', 0, 'NUMBER:###0.#########');

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="37" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BMTPRODUCT', 'Products extract', 2, '"', '~', 0, 0, 'ProductCode,ProductDesc', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BMTPRODUCT_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BMTPRODUCT'), 'BMTPRODUCT', 0, 'ProductCode', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTPRODUCT' and configid = (select id from data_engine_config where name = 'ME_BMTPRODUCT')), 'ProductCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTPRODUCT' and configid = (select id from data_engine_config where name = 'ME_BMTPRODUCT')), 'ProductDesc', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="38" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTFINANCETYPES', 'Loan Types extract', 2, '"', '~', 0, 0, 'FinType,FinCategory,FinTypeDesc,FinMaxAmount,FinMinAmount,FinIsAlwMD,FinBaseRate,FinSplRate,FinMargin,FinIntRate,FinSchdMthd,FinGrcBaseRate,FinGrcSplRate,FinGrcMargin,FinGrcIntRate,FinIsAlwGrcRepay,FinGrcSchdMthd,FinRepayMethod,FinIsAlwPartialRpy,FinIsActive,StepFinance,SteppingMandatory,AlwdStepPolicies,PlanEMIHMaxPerYear,PlanEMIHMax,PlanEMIHLockPeriod,UnPlanEMIHLockPeriod,UnPlanEMICpz,MaxUnplannedEmi,AlwUnPlanEmiHoliday,AlwMaxDisbCheckReq', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTFINANCETYPES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTFINANCETYPES'), 'ETL_RMTFINANCETYPES', 0, 'FinType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinCategory', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinTypeDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinMaxAmount', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinMinAmount', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinIsAlwMD', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinBaseRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinSplRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinMargin', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinIntRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinSchdMthd', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinGrcBaseRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinGrcSplRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinGrcMargin', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinGrcIntRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinIsAlwGrcRepay', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinGrcSchdMthd', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinRepayMethod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinIsAlwPartialRpy', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinIsActive', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'StepFinance', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'SteppingMandatory', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'AlwdStepPolicies', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'PlanEMIHMaxPerYear', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'PlanEMIHMax', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'PlanEMIHLockPeriod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'UnPlanEMIHLockPeriod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'UnPlanEMICpz', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'MaxUnplannedEmi', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'AlwUnPlanEmiHoliday', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'AlwMaxDisbCheckReq', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="39" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_PROMOTIONS', 'Promotions extract', 2, '"', '~', 0, 0, 'FinType,FinCategory,FinTypeDesc,FinMaxAmount,FinMinAmount,FinIsAlwMD,FInIsAlwGrace,FinRateType,FinBaseRate,FinSplRate,FinMargin,FinIntRate,FInMinRate,FinMaxRate,FinSchdMthd,FinGrcRateType,FinGrcBaseRate,FinGrcSplRate,FinGrcMargin,FinMinTerm,FinMaxTerm,FInRepayMethod,FinIsActive,StepFinance,SteppingMandatory,AlwManualSteps,AlwdStepPolicies,DftStepPolicy,Product,StartDate,EndDate,AlwMultiPartyDisb,PlanEMIHAlw,PlanEMIHMethod,PlanEMIHMaxPerYear,PlanEMIHMax,PlanEMIHLockPeriod,UnPlanEMIHLockPeriod,UnPlanEMICpz,MaxUnplannedEmi,AlwUnPlanEmiHoliday,AlwMaxDisbCheckReq', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'PROMOTIONS_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_PROMOTIONS'), 'ETL_PROMOTIONS', 0, 'FinType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinCategory', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinTypeDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMaxAmount', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMinAmount', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinIsAlwMD', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FInIsAlwGrace', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinRateType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinBaseRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinSplRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMargin', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinIntRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FInMinRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMaxRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinSchdMthd', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinGrcRateType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinGrcBaseRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinGrcSplRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinGrcMargin', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMinTerm', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMaxTerm', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FInRepayMethod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinIsActive', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'StepFinance', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'SteppingMandatory', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'AlwManualSteps', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'AlwdStepPolicies', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'DftStepPolicy', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'Product', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'StartDate', 0, 'N', 0, 'DATE:dd/MM/yyyy');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'EndDate', 0, 'N', 0, 'DATE:dd/MM/yyyy');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'AlwMultiPartyDisb', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'PlanEMIHAlw', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'PlanEMIHMethod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'PlanEMIHMaxPerYear', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'PlanEMIHMax', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'PlanEMIHLockPeriod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'UnPlanEMIHLockPeriod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'UnPlanEMICpz', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'MaxUnplannedEmi', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'AlwUnPlanEmiHoliday', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'AlwMaxDisbCheckReq', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="40" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_FINTYPEPARTNERBANKS', 'Loan Type Partner Banks extract', 2, '"', '~', 0, 0, 'Id,FinType,Purpose,PaymentMode,PartnerBankID', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'FINTYPEPARTNERBANKS_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS'), 'FINTYPEPARTNERBANKS', 0, 'Id', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'FINTYPEPARTNERBANKS' and configid = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS')), 'Id', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'FINTYPEPARTNERBANKS' and configid = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS')), 'FinType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'FINTYPEPARTNERBANKS' and configid = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS')), 'Purpose', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'FINTYPEPARTNERBANKS' and configid = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS')), 'PaymentMode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'FINTYPEPARTNERBANKS' and configid = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS')), 'PartnerBankID', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="41" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_VASPRODUCTTYPE', 'VAS Product Types extract', 2, '"', '~', 0, 0, 'PRODUCTTYPE,PRODUCTTYPEDESC,PRODUCTCTG,ACTIVE', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'VASPRODUCTTYPE_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE'), 'VASPRODUCTTYPE', 0, 'PRODUCTTYPE', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'VASPRODUCTTYPE' and configid = (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE')), 'PRODUCTTYPE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'VASPRODUCTTYPE' and configid = (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE')), 'PRODUCTTYPEDESC', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'VASPRODUCTTYPE' and configid = (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE')), 'PRODUCTCTG', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'VASPRODUCTTYPE' and configid = (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE')), 'ACTIVE', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="42" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_VASSTRUCTURE', 'VAS Structure extract', 2, '"', '~', 0, 0, 'PRODUCTCODE,PRODUCTTYPE,PRODUCTDESC,FREELOCKPERIOD,REMARKS,ACTIVE,VASFEE,ALLOWFEETOMODIFY,MANUFACTURERID', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'VASSTRUCTURE_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_VASSTRUCTURE'), 'ETL_VASSTRUCTURE', 0, 'PRODUCTCODE', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'PRODUCTCODE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'PRODUCTTYPE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'PRODUCTDESC', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'FREELOCKPERIOD', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'REMARKS', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'ACTIVE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'VASFEE', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'ALLOWFEETOMODIFY', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'MANUFACTURERID', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="43" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_AMTVEHICLEDEALER_VASMANF', 'VAS Manufacturers extract', 2, '"', '~', 0, 0, 'DEALERID,DEALERNAME,DEALERTELEPHONE,DEALERFAX,DEALERADDRESS1,DEALERADDRESS2,DEALERTYPE,DEALERADDRESS3,DEALERCOUNTRY,DEALERPROVINCE,DEALERCITY,EMAIL,POBOX,ZIPCODE,Active', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'AMTVEHICLEDEALER_VASMANF_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF'), 'ETL_VAS_MANUFACTURER', 0, 'DEALERID', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERID', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERNAME', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERTELEPHONE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERFAX', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERADDRESS1', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERADDRESS2', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERTYPE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERADDRESS3', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERCOUNTRY', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERPROVINCE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERCITY', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'EMAIL', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'POBOX', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'ZIPCODE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'Active', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="44" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BUILDERGROUP', 'Builder Groups extract', 2, '"', '~', 0, 0, 'id,name,segmentation', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BUILDERGROUP_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BUILDERGROUP'), 'BUILDERGROUP', 0, 'id', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERGROUP' and configid = (select id from data_engine_config where name = 'ME_BUILDERGROUP')), 'id', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERGROUP' and configid = (select id from data_engine_config where name = 'ME_BUILDERGROUP')), 'name', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERGROUP' and configid = (select id from data_engine_config where name = 'ME_BUILDERGROUP')), 'segmentation', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="45" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BUILDERCOMPANY', 'Builder Companies extract', 2, '"', '~', 0, 0, 'id,name,segmentation,groupId', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BUILDERCOMPANY_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BUILDERCOMPANY'), 'BUILDERCOMPANY', 0, 'id', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERCOMPANY' and configid = (select id from data_engine_config where name = 'ME_BUILDERCOMPANY')), 'id', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERCOMPANY' and configid = (select id from data_engine_config where name = 'ME_BUILDERCOMPANY')), 'name', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERCOMPANY' and configid = (select id from data_engine_config where name = 'ME_BUILDERCOMPANY')), 'segmentation', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERCOMPANY' and configid = (select id from data_engine_config where name = 'ME_BUILDERCOMPANY')), 'groupId', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="46" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BUILDERPROJCET', 'Builder Projects extract', 2, '"', '~', 0, 0, 'id,name,builderId,apfNo', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BUILDERPROJCET_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BUILDERPROJCET'), 'BUILDERPROJCET', 0, 'id', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERPROJCET' and configid = (select id from data_engine_config where name = 'ME_BUILDERPROJCET')), 'id', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERPROJCET' and configid = (select id from data_engine_config where name = 'ME_BUILDERPROJCET')), 'name', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERPROJCET' and configid = (select id from data_engine_config where name = 'ME_BUILDERPROJCET')), 'builderId', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERPROJCET' and configid = (select id from data_engine_config where name = 'ME_BUILDERPROJCET')), 'apfNo', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="47" author="vijaykumar.l">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_LOCALITY', 'Localities extract', 2, '"', '~', 0, 0, 'id,name,city', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'LOCALITY_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_LOCALITY'), 'LOCALITY', 0, 'id', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'LOCALITY' and configid = (select id from data_engine_config where name = 'ME_LOCALITY')), 'id', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'LOCALITY' and configid = (select id from data_engine_config where name = 'ME_LOCALITY')), 'name', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'LOCALITY' and configid = (select id from data_engine_config where name = 'ME_LOCALITY')), 'city', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>

<changeSet id="48" author="vijaykumar.l">
		<sql>
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BANKBRANCHES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BMTBANKDETAIL'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BMTPRODUCT'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BUILDERCOMPANY'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BUILDERGROUP'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BUILDERPROJCET'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_LOCALITY'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_PROMOTIONS'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTBASERATECODES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTBASERATES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTBRANCHES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTFINANCETYPES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTSPLRATECODES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTSPLRATES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_VASPRODUCTTYPE'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_VASSTRUCTURE'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
		</sql>
	</changeSet>
	
	<changeSet id="27" author="Ganesh.p">
<sql>
		Delete from SecRights where Page = 'ChequeDetailDialog' AND RIGHTNAME ='ChequeDetailDialog_ChequeStatus';
		Delete from SecRights where Page = 'ChequeDetailDialog' AND RIGHTNAME ='ChequeDetailDialog_AccountType';
		Delete from SecRights where Page = 'ChequeDetailDialog' AND RIGHTNAME ='ChequeDetailDialog_AccHolderName';
		
		INSERT INTO SecRights Values( (select max(RightId)+1 from SecRights),3,'ChequeDetailDialog_ChequeStatus','ChequeDetailDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 );
		INSERT INTO SecRights Values( (select max(RightId)+1 from SecRights),3,'ChequeDetailDialog_AccountType','ChequeDetailDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 );
		INSERT INTO SecRights Values( (select max(RightId)+1 from SecRights),3,'ChequeDetailDialog_AccHolderName','ChequeDetailDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 );

		INSERT INTO SecGroupRights Values((select max(grprightid)+1 from SecGroupRights), (select grpid from SecGroups where grpcode = 'CHEQUEDETAIL_MAKER' ), (select rightid  from SecRights WHERE RightName='ChequeDetailDialog_ChequeStatus'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
		INSERT INTO SecGroupRights Values((select max(grprightid)+1 from SecGroupRights), (select grpid from SecGroups where grpcode = 'CHEQUEDETAIL_MAKER' ), (select rightid  from SecRights WHERE RightName='ChequeDetailDialog_AccountType'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
		INSERT INTO SecGroupRights Values((select max(grprightid)+1 from SecGroupRights), (select grpid from SecGroups where grpcode = 'CHEQUEDETAIL_MAKER' ), (select rightid  from SecRights WHERE RightName='ChequeDetailDialog_AccHolderName'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
		
		Update SeqSecGroups Set SeqNo = (Select MAX(GrpID) + 1 from SecGroups);
		Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
</sql>
</changeSet>

	<changeSet id="28" author="Ganesh.p">
		<addColumn tableName="CHEQUEDETAIL">
			<column name="chequeStatus" defaultValue="NEW" type="VARCHAR(10)"></column>
			<column name="accountType" type="VARCHAR(20)"></column>
			<column name="accHolderName" type="VARCHAR(200)"></column>
		</addColumn>
	</changeSet>

	<changeSet id="29" author="Ganesh.p">
		<addColumn tableName="CHEQUEDETAIL_TEMP">
			<column name="chequeStatus" defaultValue="NEW" type="VARCHAR(10)"></column>
			<column name="accountType" type="VARCHAR(20)"></column>
			<column name="accHolderName" type="VARCHAR(200)"></column>
		</addColumn>
	</changeSet>

<changeSet id="30" author="Ganesh.p" >
		<createView replaceIfExists="true" viewName="chequedetail_aview">
 SELECT t1.chequedetailsid,
    t1.headerid,
    t1.bankbranchid,
    t2.bankcode,
    t2.branchcode,
    t2.branchdesc,
    t2.micr,
    t2.ifsc,
    t2.city,
    t3.bankname,
    t1.accountno,
    t1.chequeserialno,
    t1.chequedate,
    t1.emirefno,
    t1.amount,
    t1.chequeccy,
    t1.status,
    t1.active,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t1.documentname,
    t1.documentref,
    t1.chequetype,
	t1.chequeStatus,
	t1.accountType,
	t1.accHolderName
   FROM chequedetail t1
     LEFT JOIN bankbranches t2 ON t1.bankbranchid = t2.bankbranchid
     LEFT JOIN bmtbankdetail t3 ON t2.bankcode = t3.bankcode;
	 </createView>
</changeSet>

<changeSet id="31" author="Ganesh.p" >
		<createView replaceIfExists="true" viewName="chequedetail_view">
 SELECT t1.chequedetailsid,
    t1.headerid,
    t1.bankbranchid,
    t2.bankcode,
    t2.branchcode,
    t2.branchdesc,
    t2.micr,
    t2.ifsc,
    t2.city,
    t3.bankname,
    t1.accountno,
    t1.chequeserialno,
    t1.chequedate,
    t1.emirefno,
    t1.amount,
    t1.chequeccy,
    t1.status,
    t1.active,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t1.documentname,
    t1.documentref,
    t1.chequetype,
	t1.chequeStatus,
	t1.accountType,
	t1.accHolderName
   FROM chequedetail_temp t1
     LEFT JOIN bankbranches t2 ON t1.bankbranchid = t2.bankbranchid
     LEFT JOIN bmtbankdetail t3 ON t2.bankcode = t3.bankcode
UNION ALL
 SELECT t1.chequedetailsid,
    t1.headerid,
    t1.bankbranchid,
    t2.bankcode,
    t2.branchcode,
    t2.branchdesc,
    t2.micr,
    t2.ifsc,
    t2.city,
    t3.bankname,
    t1.accountno,
    t1.chequeserialno,
    t1.chequedate,
    t1.emirefno,
    t1.amount,
    t1.chequeccy,
    t1.status,
    t1.active,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t1.documentname,
    t1.documentref,
    t1.chequetype,
	t1.chequeStatus,
	t1.accountType,
	t1.accHolderName
   FROM chequedetail t1
     LEFT JOIN bankbranches t2 ON t1.bankbranchid = t2.bankbranchid
     LEFT JOIN bmtbankdetail t3 ON t2.bankcode = t3.bankcode
  WHERE NOT (EXISTS ( SELECT 1
           FROM chequedetail_temp
          WHERE chequedetail_temp.chequedetailsid = t1.chequedetailsid));
</createView>
</changeSet>

<changeSet id="26" author="Vinay">
		<sql>
			Delete from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYPAY' and RBFLDNAME = 'finAgetilldate';
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
			('FEES','EARLYPAY','finAgetilldate','months between loan start data and app date','int',9,'1','1',' ','static','  '); 
		</sql>
	</changeSet>
<changeSet id="27" author="Srikanth">
<sql>
delete from  reportlist  where module='Chequeheader';
 Insert into REPORTLIST (CODE,MODULE,FIELDLABELS,FIELDVALUES,FIELDTYPE,ADDFIELDS,REPORTFILENAME,REPORTHEADING,MODULETYPE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,FORMATREQ) 
values ('ChequeHeader','ChequeHeader','listheader_FinReference.label,listheader_NoOfCheques.label,listheader_TotalAmount.label','finReference,noOfCheques,totalAmount','String,int,int',' ','ReportList03',' Cheque Maintanance',' Loan Management',3,1001,to_date('07-07-15','DD-MM-RR'),'Approved',' ',' ',' ',' ',' ',0,0);
</sql>
</changeSet>
<changeSet id="25" author="Jayant">
	<comment> New Module : AuthLimits  </comment>
		<createTable tableName="auth_limits">
			<column name="id" type="bigint">
				<constraints nullable="false" primaryKey="true" primaryKeyName="pk_auth_limits"/>
			</column>
			<column name="limittype" type="int">
				<constraints nullable="false"/>
			</column>
			<column name="userid" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="roleid" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="module" type="varchar(8)">
				<constraints nullable="false"/>
			</column>
			<column name="limitamount" type="decimal(18,0)">
				<constraints nullable="false"/>
			</column>
			<column name="startdate" type="datetime"/>
			<column name="expirydate" type="datetime"/>
			<column name="holdstartdate" type="datetime"/>
			<column name="holdexpirydate" type="datetime"/>
			<column name="active" type="boolean"/>
			<column name="version" type="int"/>
			<column name="lastmntby" type="bigint"/>
			<column name="lastmnton" type="datetime"/>
			<column name="recordstatus" type="varchar(50)"/>
			<column name="rolecode" type="varchar(100)"/>
			<column name="nextrolecode" type="varchar(200)"/>
			<column name="taskid" type="varchar(50)"/>
			<column name="nexttaskid" type="varchar(200)"/>
			<column name="recordtype" type="varchar(50)"/>
			<column name="workflowid" type="bigint">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	<changeSet id="26" author="Jayant">
		<addUniqueConstraint tableName="auth_limits" columnNames="limittype, userid, roleid, module" constraintName="uk_auth_limits"/>
	</changeSet>
	<changeSet id="27" author="Jayant">
	<comment> New Module : AuthLimits</comment>
		<createTable tableName="auth_limits_temp">
			<column name="id" type="bigint">
				<constraints nullable="false" primaryKey="true" primaryKeyName="pk_auth_limits_temp"/>
			</column>
			<column name="limittype" type="int">
				<constraints nullable="false"/>
			</column>
			<column name="userid" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="roleid" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="module" type="varchar(8)">
				<constraints nullable="false"/>
			</column>
			<column name="limitamount" type="decimal(18,0)">
				<constraints nullable="false"/>
			</column>
			<column name="startdate" type="datetime"/>
			<column name="expirydate" type="datetime"/>
			<column name="holdstartdate" type="datetime"/>
			<column name="holdexpirydate" type="datetime"/>
			<column name="active" type="boolean"/>
			<column name="version" type="int"/>
			<column name="lastmntby" type="bigint"/>
			<column name="lastmnton" type="datetime"/>
			<column name="recordstatus" type="varchar(50)"/>
			<column name="rolecode" type="varchar(100)"/>
			<column name="nextrolecode" type="varchar(200)"/>
			<column name="taskid" type="varchar(50)"/>
			<column name="nexttaskid" type="varchar(200)"/>
			<column name="recordtype" type="varchar(50)"/>
			<column name="workflowid" type="bigint">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	<changeSet id="28" author="Jayant">
		<addUniqueConstraint tableName="auth_limits_temp" columnNames="limittype, userid, roleid, module" constraintName="uk_auth_limits_temp"/>
	</changeSet>
	<changeSet id="29" author="Jayant">
		<comment> New Module : AuthLimits  </comment>
		<createTable tableName="auth_limits_htemp">
			<column name="id" type="bigint">
				<constraints nullable="false" primaryKey="true" primaryKeyName="pk_auth_limits_htemp"/>
			</column>
			<column name="limittype" type="int">
				<constraints nullable="false"/>
			</column>
			<column name="userid" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="roleid" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="module" type="varchar(8)">
				<constraints nullable="false"/>
			</column>
			<column name="limitamount" type="decimal(18,0)">
				<constraints nullable="false"/>
			</column>
			<column name="startdate" type="datetime"/>
			<column name="expirydate" type="datetime"/>
			<column name="holdstartdate" type="datetime"/>
			<column name="holdexpirydate" type="datetime"/>
			<column name="active" type="boolean"/>
			<column name="version" type="int"/>
			<column name="lastmntby" type="bigint"/>
			<column name="lastmnton" type="datetime"/>
			<column name="recordstatus" type="varchar(50)"/>
			<column name="rolecode" type="varchar(100)"/>
			<column name="nextrolecode" type="varchar(200)"/>
			<column name="taskid" type="varchar(50)"/>
			<column name="nexttaskid" type="varchar(200)"/>
			<column name="recordtype" type="varchar(50)"/>
			<column name="workflowid" type="bigint">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	<changeSet id="30" author="Jayant">
	<comment> New Module : AuthLimits  </comment>
		<createTable tableName="auth_limit_details">
			<column name="id" type="bigint">
				<constraints nullable="false" primaryKey="true" primaryKeyName="pk_auth_limit_details"/>
			</column>
			<column name="authlimitid" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="code" type="varchar(20)">
				<constraints nullable="false"/>
			</column>
			<column name="limitamount" type="decimal(18,0)">
				<constraints nullable="false"/>
			</column>
			<column name="version" type="int"/>
			<column name="lastmntby" type="bigint"/>
			<column name="lastmnton" type="datetime"/>
			<column name="recordstatus" type="varchar(50)"/>
			<column name="rolecode" type="varchar(100)"/>
			<column name="nextrolecode" type="varchar(200)"/>
			<column name="taskid" type="varchar(50)"/>
			<column name="nexttaskid" type="varchar(200)"/>
			<column name="recordtype" type="varchar(50)"/>
			<column name="workflowid" type="bigint">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	<changeSet id="31" author="Jayant">
		<addUniqueConstraint tableName="auth_limit_details" columnNames="authlimitid, code" constraintName="uk_auth_limit_details"/>
	</changeSet>
	<changeSet id="32" author="Jayant">
	<comment> New Module : AuthLimits  </comment>
		<createTable tableName="auth_limit_details_temp">
			<column name="id" type="bigint">
				<constraints nullable="false" primaryKey="true" primaryKeyName="pk_auth_limit_details_temp"/>
			</column>
			<column name="authlimitid" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="code" type="varchar(20)">
				<constraints nullable="false"/>
			</column>
			<column name="limitamount" type="decimal(18,0)">
				<constraints nullable="false"/>
			</column>
			<column name="version" type="int"/>
			<column name="lastmntby" type="bigint"/>
			<column name="lastmnton" type="datetime"/>
			<column name="recordstatus" type="varchar(50)"/>
			<column name="rolecode" type="varchar(100)"/>
			<column name="nextrolecode" type="varchar(200)"/>
			<column name="taskid" type="varchar(50)"/>
			<column name="nexttaskid" type="varchar(200)"/>
			<column name="recordtype" type="varchar(50)"/>
			<column name="workflowid" type="bigint">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	<changeSet id="33" author="Jayant">
		<addUniqueConstraint tableName="auth_limit_details_temp" columnNames="authlimitid, code" constraintName="uk_auth_limit_details_temp"/>
	</changeSet>
	<changeSet id="34" author="Jayant">
		<createSequence sequenceName="seqauth_limits" incrementBy="1" startValue="1" minValue="1" maxValue="999999999999999999"/>
	</changeSet>
	<changeSet id="35" author="Jayant">
		<createSequence sequenceName="seqauth_limit_details" incrementBy="1" startValue="1" minValue="1" maxValue="999999999999999999"/>
	</changeSet>
	<changeSet id="36" author="Jayant">
		<createView viewName="Auth_Limits_AView" replaceIfExists="true">
		 SELECT     T1.id, T1.LimitType, T1.UserID, t2.UsrLogin, t2.UsrFName, t2.UsrMName, t2.UsrLName, T1.RoleId, t3.RoleCd, t3.RoleDesc roleName, T1.Module, 
           T1.LimitAmount, T1.StartDate, T1.ExpiryDate, T1.HoldStartDate, T1.HoldExpiryDate, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
           T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		   FROM       Auth_Limits T1 LEFT OUTER JOIN
           SecRoles t3 ON T1.RoleId = t3.RoleID LEFT OUTER JOIN
           SecUsers t2 ON T1.UserID = t2.UsrID
		</createView>
	</changeSet>
	<changeSet id="37" author="Jayant">
		<createView viewName="Auth_Limits_View" replaceIfExists="true">
			SELECT     T1.id, T1.LimitType, T1.UserID, t2.UsrLogin, t2.UsrFName, t2.UsrMName, t2.UsrLName, T1.RoleId, t3.RoleCd, t3.RoleDesc roleName, T1.Module, 
           T1.LimitAmount, T1.StartDate, T1.ExpiryDate, T1.HoldStartDate, T1.HoldExpiryDate, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
           T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM       Auth_Limits_Temp T1 LEFT OUTER JOIN
           SecRoles t3 ON T1.RoleId = t3.RoleID LEFT OUTER JOIN
           SecUsers t2 ON T1.UserID = t2.UsrID
			UNION ALL

			SELECT     T1.id, T1.LimitType, T1.UserID, t2.UsrLogin, t2.UsrFName, t2.UsrMName, t2.UsrLName, T1.RoleId, t3.RoleCd, t3.RoleDesc roleName, T1.Module, 
           T1.LimitAmount, T1.StartDate, T1.ExpiryDate, T1.HoldStartDate, T1.HoldExpiryDate, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
           T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM       Auth_Limits T1 LEFT OUTER JOIN
           SecRoles t3 ON T1.RoleId = t3.RoleID LEFT OUTER JOIN
           SecUsers t2 ON T1.UserID = t2.UsrID
			WHERE     NOT EXISTS (SELECT 1 FROM Auth_Limits_TEMP WHERE id = T1.id)
		</createView>
	</changeSet>
	<changeSet id="38" author="Jayant">
		<createView viewName="Auth_Limits_HView" replaceIfExists="true">
			SELECT     T1.id, T1.LimitType, T1.UserID, t2.UsrLogin, t2.UsrFName, t2.UsrMName, t2.UsrLName, T1.RoleId, t3.RoleCd, t3.RoleDesc roleName, T1.Module, 
           T1.LimitAmount, T1.StartDate, T1.ExpiryDate, T1.HoldStartDate, T1.HoldExpiryDate, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
           T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM       Auth_Limits_HTemp T1 LEFT OUTER JOIN
           SecRoles t3 ON T1.RoleId = t3.RoleID LEFT OUTER JOIN
           SecUsers t2 ON T1.UserID = t2.UsrID
		UNION ALL

			SELECT     T1.id, T1.LimitType, T1.UserID, t2.UsrLogin, t2.UsrFName, t2.UsrMName, t2.UsrLName, T1.RoleId, t3.RoleCd, t3.RoleDesc roleName, T1.Module, 
           T1.LimitAmount, T1.StartDate, T1.ExpiryDate, T1.HoldStartDate, T1.HoldExpiryDate, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
           T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM       Auth_Limits T1 LEFT OUTER JOIN
           SecRoles t3 ON T1.RoleId = t3.RoleID LEFT OUTER JOIN
           SecUsers t2 ON T1.UserID = t2.UsrID
			WHERE     NOT EXISTS (SELECT 1 FROM Auth_Limits_HTEMP WHERE id = T1.id)
		</createView>
	</changeSet>
	<changeSet id="39" author="Jayant">
		<createView viewName="Auth_Limit_Details_AView" replaceIfExists="true">
			SELECT     T1.id, T1.AuthLimitId, T1.Code, T2.ProductDesc, T3.CollateralDesc, T1.LimitAmount, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
           T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM       Auth_Limit_Details T1 LEFT OUTER JOIN
           BMTProduct T2 ON T1.Code = T2.ProductCode LEFT OUTER JOIN
           CollateralStructure T3 ON T1.Code = T3.CollateralType
		</createView>
	</changeSet>
	<changeSet id="40" author="Jayant">
		<createView viewName="Auth_Limit_Details_View" replaceIfExists="true">
			SELECT     T1.id, T1.AuthLimitId, T1.Code, T2.ProductDesc, T3.CollateralDesc, T1.LimitAmount, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
           T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM       Auth_Limit_Details_Temp T1 LEFT OUTER JOIN
           BMTProduct T2 ON T1.Code = T2.ProductCode LEFT OUTER JOIN
           CollateralStructure T3 ON T1.Code = T3.CollateralType
			UNION ALL
			SELECT     T1.id, T1.AuthLimitId, T1.Code, T2.ProductDesc, T3.CollateralDesc, T1.LimitAmount, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
           T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM       Auth_Limit_Details T1 LEFT OUTER JOIN
           BMTProduct T2 ON T1.Code = T2.ProductCode LEFT OUTER JOIN
           CollateralStructure T3 ON T1.Code = T3.CollateralType
			WHERE     NOT EXISTS (SELECT 1 FROM Auth_Limit_Details_Temp WHERE id = T1.id)
		</createView>
	</changeSet>
	<!-- <changeSet id="41" author="Jayant">
		<sql>
			update SeqSecGroups set seqno = (Select Max(grpid)+1 from Secgroups);
			update SeqSecRights set seqno = (Select Max(rightid)+1 from SecRights);
			update SeqSecGroupRights set seqno = (Select Max(grprightid)+1 from SecGroupRights);
			update SeqSecRoleGroups set seqno = (Select Max(rolegrpid)+1 from SecRoleGroups);
			
			INSERT INTO SecGroups SELECT (select (SeqNo+1) from SeqSecGroups), 'FIN_USER_AUTHORIZATIONLIMIT_MAKER', 'Finance User AuthorizationLimit Maker', 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select (SeqNo+2) from SeqSecGroups), 'FIN_USER_AUTHORIZATIONLIMIT_APPROVER', 'Finance User AuthorizationLimit Approver', 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select (SeqNo+3) from SeqSecGroups), 'FIN_ROLE_AUTHORIZATIONLIMIT_MAKER', 'Finance Role AuthorizationLimit Maker', 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select (SeqNo+4) from SeqSecGroups), 'FIN_ROLE_AUTHORIZATIONLIMIT_APPROVER', 'Finance Role AuthorizationLimit Approver ', 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select (SeqNo+5) from SeqSecGroups), 'FIN_USER_AUTHORIZATIONLIMIT_HOLD_MAKER', 'Finance User AuthorizationLimit Hold Maker ', 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select (SeqNo+6) from SeqSecGroups), 'FIN_USER_AUTHORIZATIONLIMIT_HOLD_APPROVER', 'Finance User AuthorizationLimit Hold Approver', 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select (SeqNo+7) from SeqSecGroups), 'FIN_ROLE_AUTHORIZATIONLIMIT_HOLD_MAKER', 'Finance Role AuthorizationLimit Hold Maker', 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select (SeqNo+8) from SeqSecGroups), 'FIN_ROLE_AUTHORIZATIONLIMIT_HOLD_APPROVER', 'Finance Role AuthorizationLimit Hold Approver', 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			
			INSERT INTO SecRights SELECT (select (SeqNo+1) from SeqSecRights),0,'menu_Category_AuthorizationLimit','MENU',0,1000,'2018-04-06  04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+2) from SeqSecRights),0,'menu_Category_FinanceAuthorizationLimit','MENU',0,1000,'2018-04-06  04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+3) from SeqSecRights),0,'menu_Item_FinanceUserAuthorizationLimit','MENU',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+4) from SeqSecRights),0,'menu_Item_FinanceRoleAuthorizationLimit','MENU',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+5) from SeqSecRights),0,'menuItem_Authorization_FinanceUserAuthorizationLimitHold','MENU',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+6) from SeqSecRights),0,'menuItem_Authorization_FinanceRoleAuthorizationLimitHold','MENU',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			
			INSERT INTO SecRights SELECT (select (SeqNo+7) from SeqSecRights),2,'button_AuthorizationLimitList_PrintList','AuthorizationLimitList',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+8) from SeqSecRights),2,'button_AuthorizationLimitList_NewAuthorizationLimit','AuthorizationLimitList',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+9) from SeqSecRights),2,'button_AuthorizationLimitDialog_btnNew','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+10) from SeqSecRights),2,'button_AuthorizationLimitDialog_btnEdit','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+11) from SeqSecRights),2,'button_AuthorizationLimitDialog_btnDelete','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+12) from SeqSecRights),2,'button_AuthorizationLimitDialog_btnSave','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			
			INSERT INTO SecRights SELECT (select (SeqNo+12+1) from SeqSecRights),3,'AuthorizationLimitDialog_UserID','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+12+2) from SeqSecRights),3,'AuthorizationLimitDialog_RoleId','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+12+3) from SeqSecRights),3,'AuthorizationLimitDialog_LimitAmount','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+12+4) from SeqSecRights),3,'AuthorizationLimitDialog_StartDate','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+12+5) from SeqSecRights),3,'AuthorizationLimitDialog_ExpiryDate','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+12+6) from SeqSecRights),3,'AuthorizationLimitDialog_HoldStartDate','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+12+7) from SeqSecRights),3,'AuthorizationLimitDialog_HoldExpiryDate','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecRights SELECT (select (SeqNo+12+8) from SeqSecRights),3,'AuthorizationLimitDialog_Active','AuthorizationLimitDialog',0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			

			INSERT INTO SecGroupRights SELECT (select (SeqNo+1) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+1) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+2) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+2) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+3) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+3) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+4) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+8) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+5) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+11) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+6) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+12) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+7) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+12+1) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+8) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+12+3) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+9) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+12+4) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+10) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+12+5) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+11) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+12+8) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;

			
			INSERT INTO SecGroupRights SELECT (select (SeqNo+12) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+1) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+13) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+2) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+14) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+3) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+15) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+12) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			

			INSERT INTO SecGroupRights SELECT (select (SeqNo+16) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+1) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+17) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+2) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+18) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+4) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+19) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+8) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+20) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+11) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+21) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+12) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+22) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+12+2) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+23) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+12+3) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+24) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+12+4) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+25) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+12+5) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+26) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+12+8) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			
			INSERT INTO SecGroupRights SELECT (select (SeqNo+27) from SeqSecGroupRights), (select (SeqNo+4) from SeqSecGroups), (select (SeqNo+1) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+28) from SeqSecGroupRights), (select (SeqNo+4) from SeqSecGroups), (select (SeqNo+2) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+29) from SeqSecGroupRights), (select (SeqNo+4) from SeqSecGroups), (select (SeqNo+4) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+30) from SeqSecGroupRights), (select (SeqNo+4) from SeqSecGroups), (select (SeqNo+12) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			

			INSERT INTO SecGroupRights SELECT (select (SeqNo+31) from SeqSecGroupRights), (select (SeqNo+5) from SeqSecGroups), (select (SeqNo+1) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+32) from SeqSecGroupRights), (select (SeqNo+5) from SeqSecGroups), (select (SeqNo+2) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+33) from SeqSecGroupRights), (select (SeqNo+5) from SeqSecGroups), (select (SeqNo+5) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+34) from SeqSecGroupRights), (select (SeqNo+5) from SeqSecGroups), (select (SeqNo+12) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+35) from SeqSecGroupRights), (select (SeqNo+5) from SeqSecGroups), (select (SeqNo+12+6) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+36) from SeqSecGroupRights), (select (SeqNo+5) from SeqSecGroups), (select (SeqNo+12+7) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			

			INSERT INTO SecGroupRights SELECT (select (SeqNo+37) from SeqSecGroupRights), (select (SeqNo+6) from SeqSecGroups), (select (SeqNo+1) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+38) from SeqSecGroupRights), (select (SeqNo+6) from SeqSecGroups), (select (SeqNo+2) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+39) from SeqSecGroupRights), (select (SeqNo+6) from SeqSecGroups), (select (SeqNo+5) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+40) from SeqSecGroupRights), (select (SeqNo+6) from SeqSecGroups), (select (SeqNo+11) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;

			INSERT INTO SecGroupRights SELECT (select (SeqNo+41) from SeqSecGroupRights), (select (SeqNo+7) from SeqSecGroups), (select (SeqNo+1) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+42) from SeqSecGroupRights), (select (SeqNo+7) from SeqSecGroups), (select (SeqNo+2) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+43) from SeqSecGroupRights), (select (SeqNo+7) from SeqSecGroups), (select (SeqNo+6) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+44) from SeqSecGroupRights), (select (SeqNo+7) from SeqSecGroups), (select (SeqNo+12) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+45) from SeqSecGroupRights), (select (SeqNo+7) from SeqSecGroups), (select (SeqNo+12+6) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+56) from SeqSecGroupRights), (select (SeqNo+7) from SeqSecGroups), (select (SeqNo+12+7) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			

			INSERT INTO SecGroupRights SELECT (select (SeqNo+57) from SeqSecGroupRights), (select (SeqNo+8) from SeqSecGroups), (select (SeqNo+1) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+58) from SeqSecGroupRights), (select (SeqNo+8) from SeqSecGroups), (select (SeqNo+2) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+59) from SeqSecGroupRights), (select (SeqNo+8) from SeqSecGroups), (select (SeqNo+6) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+60) from SeqSecGroupRights), (select (SeqNo+8) from SeqSecGroups), (select (SeqNo+11) from SeqSecRights),1,0,10000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			
			update SeqSecGroupRights set SeqNo = (SeqNo+60);
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+1) from SeqSecRoleGroups), (select (SeqNo+1) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_MAKER'), 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+2) from SeqSecRoleGroups), (select (SeqNo+2) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_APPROVER'), 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+3) from SeqSecRoleGroups), (select (SeqNo+3) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_MAKER'), 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+4) from SeqSecRoleGroups), (select (SeqNo+4) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_APPROVER'), 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+5) from SeqSecRoleGroups), (select (SeqNo+5) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_MAKER'), 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+6) from SeqSecRoleGroups), (select (SeqNo+6) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_APPROVER'), 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+7) from SeqSecRoleGroups), (select (SeqNo+7) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_MAKER'), 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+8) from SeqSecRoleGroups), (select (SeqNo+8) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_APPROVER'), 0,1000,'2018-04-06 04:16:21','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			
			update SeqSecRoleGroups set SeqNo = (SeqNo+2) ;
			
			update SeqSecGroups set SeqNo = (SeqNo+8) ;
			update SeqSecRights set SeqNo = (SeqNo+12+8) ;
			
			 Insert into REPORTSLIST (CODE,MODULE,FIELDLABELS,FIELDVALUES,FIELDTYPE,ADDFIELDS,REPORTFILENAME,REPORTHEADING,MODULETYPE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,FORMATREQ) 
			 values ('FinanceUserAuthorizationLimit','FinanceUserAuthorizationLimit','listheader_UserID.label,listheader_LimitName.label,listheader_LimitAmount.label,listheader_ExpiryDate.label,listheader_Active.label','usrLogin,UsrFName,limitAmount,expiryDate,active','String,String,BigDecimal,Date,boolean',' ','ReportList05','User Authorization Limits','Administration',1,1000,to_date('01-05-18','DD-MM-RR'),'Approved',' ',' ',' ',' ',' ',0,0);
		</sql>
	
	
	</changeSet>
 -->	
	<changeSet id="42" author="Vinay">
		<sql>
			delete from REPORTLIST where Code='ErrorDetail';
			Insert into REPORTLIST values ('ErrorDetail','ErrorDetail','listheader_ErrorCode.label,listheader_ErrorLanguage.label,listheader_ErrorSeverity.label,listheader_ErrorMessage.label,listheader_ErrorExtendedMessage.label','code,language,severity,message,extendedMessage','String,String,String,String,String',' ','ReportList05',' Error Details','Administration',1,1001,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0,0);
		</sql>	
	</changeSet>
	
	<changeSet id="43" author="Vinay">
		<sql>
			update data_engine_event_properties set private_key = null;
			update data_engine_config set postevent = null where name  in ('MANDATES_EXPORT','DISB_CITI_EXPORT');
		</sql>	
	</changeSet>

	<changeSet id="44" author="Vinay" dbms="mssql">
		<sql>
			delete from SMTPARAMETERS where sysparmcode='ELGMETHOD';
			Insert into SMTPARAMETERS values ('ELGMETHOD','Eligibility Method field visibility','String','1','Y',1,0,null,null,'Eligibility Method field visibility for Pofectus only.',1,1000,'','Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="44" author="Vinay" dbms="postgresql">
		<sql>
			delete from SMTPARAMETERS where sysparmcode='ELGMETHOD';
			Insert into SMTPARAMETERS values ('ELGMETHOD','Eligibility Method field visibility','String','1','Y',1,0,null,null,'Eligibility Method field visibility for Pofectus only.',1,1000,'0001-07-26
			00:00:00.0','Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="44" author="Vinay" dbms="oracle">
		<sql>
			delete from SMTPARAMETERS where sysparmcode='ELGMETHOD';
			Insert into SMTPARAMETERS values ('ELGMETHOD','Eligibility Method field visibility','String','1','Y',1,0,null,null,'Eligibility Method field visibility for Pofectus only.',1,1000,'0001-07-26
			00:00:00.0','Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	
	<changeSet id="45" author="Vinay">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceMainDialog_eligibilityMethod','FinanceMainDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='LAP_SSO') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_eligibilityMethod'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BFSD_ORIGINATION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_eligibilityMethod'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CL_ORIGINATION_WRM') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_eligibilityMethod'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CL_ORIGINATION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_eligibilityMethod'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		</sql>
	</changeSet>
	
	<changeSet id="46" author="Durga Prasad D" dbms="mssql">
		<sql>
			UPDATE CollateralStructure SET valuationPending = 0;
		</sql>
	</changeSet>
	<changeSet id="46" author="Durga Prasad D" dbms="oracle">
		<sql>
			UPDATE CollateralStructure SET valuationPending = 0;
		</sql>
	</changeSet>
	<changeSet id="46" author="Durga Prasad D" dbms="postgresql">
		<sql>
			UPDATE CollateralStructure SET valuationPending = false;
		</sql>
	</changeSet>
	
	<changeSet id="47" author="Durga Prasad D" dbms="mssql">
		<sql>
		    UPDATE CollateralStructure_Temp SET valuationPending = 0;
		</sql>
	</changeSet>
	<changeSet id="47" author="Durga Prasad D" dbms="oracle">
		<sql>
		    UPDATE CollateralStructure_Temp SET valuationPending = 0;
		</sql>
	</changeSet>
	<changeSet id="47" author="Durga Prasad D" dbms="postgresql">
		<sql>
		    UPDATE CollateralStructure_Temp SET valuationPending = false;
		</sql>
	</changeSet>
	<changeSet id="48" author="Jayant">
		<insert tableName="ErrorDetails">
			<column name="Code">AUL01</column>
			<column name="Language">EN</column>
			<column name="Severity">E</column>
			<column name="Message">Authorization Limits Not Exists for {0}.</column>
			<column name="ExtendedMessage"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="LastMntOn"></column>
			<column name="LastMntBy">1000</column>
			<column name="Version">0</column>
		</insert>	
	</changeSet>
	<changeSet id="49" author="Jayant">
	<insert tableName="ErrorDetails">
			<column name="Code">AUL02</column>
			<column name="Language">EN</column>
			<column name="Severity">E</column>
			<column name="Message">Authorization Limits Not Exists for {0} and Product {1}.</column>
			<column name="ExtendedMessage"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="LastMntOn"></column>
			<column name="LastMntBy">1000</column>
			<column name="Version">0</column>
		</insert>
	</changeSet>
	<changeSet id="50" author="Jayant">		
	<insert tableName="ErrorDetails">
			<column name="Code">AUL03</column>
			<column name="Language">EN</column>
			<column name="Severity">E</column>
			<column name="Message">Insufficient Authorization Limits for {0} and Product {1}.</column>
			<column name="ExtendedMessage"></column>
			<column name="RecordStatus">Approved</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType"></column>
			<column name="WorkflowId">0</column>
			<column name="LastMntOn"></column>
			<column name="LastMntBy">1000</column>
			<column name="Version">0</column>
		</insert>
	</changeSet>
	
	<changeSet id="51" author="Manoj">
		<sql>
			Delete from ErrorDetails where code in ('AUL01','AUL02','AUL03');
			Delete from ErrorDetails where code in ('93002','93001','93003', '93004');
			INSERT INTO ErrorDetails VALUES('93002','EN','E','The loan amount exceeds your authorization limit please submit to the next stage.','','Approved','','','','','',0,current_timestamp,1000,0);
			INSERT INTO ErrorDetails VALUES('93001','EN','E','No authorization limit provided, please submit to the next stage.','','Approved','','','','','',0,current_timestamp,1000,0);
			INSERT INTO ErrorDetails VALUES('93003','EN','E','Your authorization limit has been expired.','','Approved','','','','','',0,current_timestamp,1000,0);
			INSERT INTO ErrorDetails VALUES('93004','EN','E','Your authorization limit has been expired.','','Approved','','','','','',0,current_timestamp,1000,0);
		</sql>
	</changeSet>
	
	<changeSet id="52" author="Vinay" dbms="postgresql">
		<comment>Repay heirarchy on NPA cases, for core version</comment>
		<sql>
			delete from SMTPARAMETERS where sysparmcode='ALW_DIFF_RPYHCY_NPA';
			Insert into SMTPARAMETERS values ('ALW_DIFF_RPYHCY_NPA','Allow different repay heirarchy on NPA','String','1','Y',1,0,null,null,'Allow different repay heirarchy on NPA',1,1000,'0001-07-26	00:00:00.0','Approved',null,null,null,null,null,0);
			
			delete from SMTPARAMETERS where sysparmcode='RPYHCY_ON_NPA';
			Insert into SMTPARAMETERS values ('RPYHCY_ON_NPA','Repay heirarchy on NPA','String','1','PICF',4,0,null,null,'Repay heirarchy on NPA',1,1000,'0001-07-26	00:00:00.0','Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="52" author="Vinay" dbms="mssql">
		<comment>Repay heirarchy on NPA cases, for core version</comment>
		<sql>
			delete from SMTPARAMETERS where sysparmcode='ALW_DIFF_RPYHCY_NPA';
			Insert into SMTPARAMETERS values ('ALW_DIFF_RPYHCY_NPA','Allow different repay heirarchy on NPA','String','1','Y',1,0,null,null,'Allow different repay heirarchy on NPA',1,1000,'','Approved',null,null,null,null,null,0);
			
			delete from SMTPARAMETERS where sysparmcode='RPYHCY_ON_NPA';
			Insert into SMTPARAMETERS values ('RPYHCY_ON_NPA','Repay heirarchy on NPA','String','1','PICF',4,0,null,null,'Repay heirarchy on NPA',1,1000,'','Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="52" author="Vinay" dbms="oracle">
		<comment>Repay heirarchy on NPA cases, for core version</comment>
		<sql>
			delete from SMTPARAMETERS where sysparmcode='ALW_DIFF_RPYHCY_NPA';
			Insert into SMTPARAMETERS values ('ALW_DIFF_RPYHCY_NPA','Allow different repay heirarchy on NPA','String','1','Y',1,0,null,null,'Allow different repay heirarchy on NPA',1,1000,'0001-07-26	00:00:00.0','Approved',null,null,null,null,null,0);
			
			delete from SMTPARAMETERS where sysparmcode='RPYHCY_ON_NPA';
			Insert into SMTPARAMETERS values ('RPYHCY_ON_NPA','Repay heirarchy on NPA','String','1','PICF',4,0,null,null,'Repay heirarchy on NPA',1,1000,'0001-07-26	00:00:00.0','Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="53" author="Vinay">
		<comment>Cancel Loan Information Report Scripts, for core version</comment>
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_FinDeptReports_ClosedLoans','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='REPORTS_ADMIN') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinDeptReports_ClosedLoans'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			
			delete from REPORTFILTERFIELDS where reportid=(select reportid from reportconfiguration where menuitemcode='menu_Item_ClosedLoans');
			delete from REPORTCONFIGURATION where menuitemcode='menu_Item_ClosedLoans';
			
			Insert into REPORTCONFIGURATION 
			values ((select max(reportid)+1 from REPORTCONFIGURATION),'Closed Loans Informtion','Closed Loans Informtion',1,'ClosedLoans','dataSource',1,'menu_Item_ClosedLoans',1,1000,null,null,null,null,null,null,0,current_timestamp,1,0);
			
			Insert into REPORTFILTERFIELDS 
			values ((select reportid from reportconfiguration where menuitemcode='menu_Item_ClosedLoans'),7,'Status','STATICLIST','Status','t1.closingstatus','getFinanceClosingStatusList',null,null,null,0,0,0,0,1,0,null,null,null,null,250,0,'=',3,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
		</sql>
	</changeSet>
	
	<changeSet id="54" author="Vinay">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_Disbursements_FullyPartialDisbursment','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_CustomerTemplates_ForeclosureTerminationReport','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_CustomerTemplates_IndemnityReport','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='REPORTS_ADMIN') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menu_Item_Disbursements_FullyPartialDisbursment'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='REPORTS_ADMIN') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_CustomerTemplates_ForeclosureTerminationReport'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='REPORTS_ADMIN') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_CustomerTemplates_IndemnityReport'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		</sql>
	</changeSet>
	<changeSet author="Kesav" id="54">
	<comment> Purpose: GST_INVOICE </comment>
	<createTable tableName="GST_INVOICE_DTL">
		<column name="TRANSACTION_DATE" type="DATETIME"/> 
		<column name="HOST_TRANSID" type="VARCHAR(100)"/> 
		<column name="TRANS_TYPE" type="VARCHAR(1)"/> 
		<column name="INVOICENO" type="VARCHAR(50)"/> 
		<column name="SFDC_DEALID" type="VARCHAR(20)"/> 
		<column name="BUSINESS_AREA" type="VARCHAR(2)"/> 
		<column name="SOURCE_SYS" type="VARCHAR(2)"/> 
		<column name="COMPANY_CODE" type="DECIMAL(8,0)"/> 
		<column name="CUST_NAME" type="VARCHAR(300)"/> 
		<column name="CUST_GSTIN" type="VARCHAR(15)"/> 
		<column name="CUST_ID" type="DECIMAL(8,0)"/> 
		<column name="HSN_SAC_CODE" type="VARCHAR(20)"/> 
		<column name="LEDGER_CODE" type="VARCHAR(12)"/> 
		<column name="NATURE_OF_SERVICE" type="VARCHAR(50)"/> 
		<column name="LOAN_ACC_NO" type="VARCHAR(20)"/> 
		<column name="PAN_NO" type="VARCHAR(30)"/> 
		<column name="PRODUCT_CODE" type="VARCHAR(8)"/> 
		<column name="CHARGECODE" type="DECIMAL(8,0)"/> 
		<column name="CUST_ADD" type="VARCHAR(1000)"/> 
		<column name="CUST_STATE_CODE" type="VARCHAR(2)"/> 
		<column name="ADD_CHANGE_DATE" type="DATETIME"/> 
		<column name="LOANBRANCH" type="DECIMAL(8,0)"/> 
		<column name="LOAN_BRANCH_STATE" type="VARCHAR(2)"/> 
		<column name="LOAN_SRV_BRANCH" type="DECIMAL(8,0)"/> 
		<column name="BFL_GSTINNO" type="VARCHAR(15)"/> 
		<column name="BFL_GSTIN_ADDRESS" type="VARCHAR(1000)"/> 
		<column name="TXN_BRANCH_STATE_CODE" type="VARCHAR(2)"/> 
		<column name="TRANS_AMT" type="DECIMAL(19,5)"/> 
		<column name="TAXABLE_AMT" type="DECIMAL(19,5)"/> 
		<column name="CGST_RATE" type="DECIMAL(5,2)"/> 
		<column name="CGST_AMT" type="DECIMAL(19,5)"/> 
		<column name="CGST_SURCHARGE_RATE" type="DECIMAL(5,2)"/> 
		<column name="CGST_SURCHARGE_AMT" type="DECIMAL(19,5)"/> 
		<column name="CGST_CESS_RATE" type="DECIMAL(5,2)"/> 
		<column name="CGST_CESS_AMT" type="DECIMAL(19,5)"/> 
		<column name="SGST_RATE" type="DECIMAL(5,2)"/> 
		<column name="SGST_AMT" type="DECIMAL(19,5)"/> 
		<column name="SGST_SURCHARGE_RATE" type="DECIMAL(5,2)"/> 
		<column name="SGST_SURCHARGE_AMT" type="DECIMAL(19,5)"/> 
		<column name="SGST_CESS_RATE" type="DECIMAL(5,2)"/> 
		<column name="SGST_CESS_AMT" type="DECIMAL(19,5)"/> 
		<column name="IGST_RATE" type="DECIMAL(5,2)"/> 
		<column name="IGST_AMT" type="DECIMAL(19,5)"/> 
		<column name="IGST_SURCHARGE_RATE" type="DECIMAL(5,2)"/> 
		<column name="IGST_SURCHARGE_AMT" type="DECIMAL(19,5)"/> 
		<column name="IGST_CESS_RATE" type="DECIMAL(5,2)"/> 
		<column name="IGST_CESS_AMT" type="DECIMAL(19,5)"/> 
		<column name="UTGST_RATE" type="DECIMAL(5,2)"/> 
		<column name="UTGST_AMT" type="DECIMAL(19,5)"/> 
		<column name="UTGST_SURCHARGE_RATE" type="DECIMAL(5,2)"/> 
		<column name="UTGST_SURCHARGE_AMT" type="DECIMAL(19,5)"/> 
		<column name="UTGST_CESS_RATE" type="DECIMAL(5,2)"/> 
		<column name="UTGST_CESS_AMT" type="DECIMAL(19,5)"/> 
		<column name="REGISTERED_CUSTOMER" type="VARCHAR(1)"/> 
		<column name="REVERSE_CHARGE_APPL" type="VARCHAR(1)"/> 
		<column name="INVOICETYPE" type="VARCHAR(1)"/> 
		<column name="ORG_INVOICENO" type="VARCHAR(50)"/>
		</createTable>
</changeSet>
<changeSet id="55" author="Prasad">
	<sql>
		delete from REPORTFILTERFIELDS where reportid in (select reportid from reportconfiguration where menuitemcode='menu_Item_ClosedLoans');
		delete from reportconfiguration where menuitemcode='menu_Item_ClosedLoans';
		
		Insert into REPORTCONFIGURATION 
		values ((select max(reportid)+1 from REPORTCONFIGURATION),'Closed Loans','Closed Loans',1,'ClosedLoans','datasource',1,'menu_Item_ClosedLoans',1,1000,null,null,null,null,null,null,0,current_timestamp,1,0);
		
		Insert into REPORTFILTERFIELDS 
		values ((select reportid from reportconfiguration where menuitemcode='menu_Item_ClosedLoans'),1,'FinReference','LOVSEARCH','Loan Reference','t1.finreference',null,'FinanceMain','getFinReference','getFinReference',0,0,0,0,1,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
		
		Insert into REPORTFILTERFIELDS 
		values ((select reportid from reportconfiguration where menuitemcode='menu_Item_ClosedLoans'),2,'FinType','LOVSEARCH','Loan Type','t1.fintype',null,'FinanceType','getFinType','getFinTypeDesc',0,0,0,0,2,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
		
		delete from REPORTFILTERFIELDS where reportid in (select reportid from reportconfiguration where menuitemcode='menu_Item_FullyPartialDisbursment');
		delete from reportconfiguration where menuitemcode='menu_Item_FullyPartialDisbursment';
		
		Insert into REPORTCONFIGURATION 
		values ((select max(reportid)+1 from REPORTCONFIGURATION),'Fully/Partial Disbursment','Fully/Partial Disbursment',1,'FullyPartlyDisbursmentReport','datasource',1,'menu_Item_FullyPartialDisbursment',1,1000,null,null,null,null,null,null,0,current_timestamp,1,0);	
		
		Insert into REPORTFILTERFIELDS 
		values ((select reportid from reportconfiguration where menuitemcode='menu_Item_FullyPartialDisbursment'),1,'FinReference','LOVSEARCH','Loan Reference','t1.finreference',null,'FinanceMain','getFinReference','getFinReference',0,0,0,0,1,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
		
		Insert into REPORTFILTERFIELDS 
		values ((select reportid from reportconfiguration where menuitemcode='menu_Item_FullyPartialDisbursment'),2,'FinType','LOVSEARCH','Loan Type','t1.fintype',null,'FinanceType','getFinType','getFinTypeDesc',0,0,0,0,2,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
		
		Insert into REPORTFILTERFIELDS 
		values ((select reportid from reportconfiguration where menuitemcode='menu_Item_FullyPartialDisbursment'),3,'FinStartDate','DATERANGE','Loan Start Date','t1.FinStartDate',null,'---Select----',null,null,0,0,0,0,3,0,null,null,null,null,150,0,'=',3,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
		
		delete from REPORTFILTERFIELDS where reportid in (select reportid from reportconfiguration where menuitemcode='menu_Item_ForeclosureTerminationReport');
		delete from reportconfiguration where menuitemcode='menu_Item_ForeclosureTerminationReport';
		
		
		Insert into REPORTCONFIGURATION 
		values ((select max(reportid)+1 from REPORTCONFIGURATION),'Foreclosure Termination Report','Foreclosure Termination Report',1,'ForeclosureTerminationReport','datasource',1,'menu_Item_ForeclosureTerminationReport',1,1000,null,null,null,null,null,null,0,current_timestamp,1,1);
		
		
		Insert into REPORTFILTERFIELDS 
		values ((select reportid from reportconfiguration where menuitemcode='menu_Item_ForeclosureTerminationReport'),1,'FinReference','LOVSEARCH','Loan Reference','t1.finreference',null,'FinanceMain','getFinReference','getFinReference',0,0,0,0,1,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
		
		delete from REPORTFILTERFIELDS where reportid in (select reportid from reportconfiguration where menuitemcode='menu_Item_IndemnityReport');
		delete from reportconfiguration where menuitemcode='menu_Item_IndemnityReport';
		
		Insert into REPORTCONFIGURATION 
		values ((select max(reportid)+1 from REPORTCONFIGURATION),'Indemnity Report','Indemnity Report',1,'IndemnityReport','datasource',1,'menu_Item_IndemnityReport',1,1000,null,null,null,null,null,null,0,current_timestamp,1,1);
		
		Insert into REPORTFILTERFIELDS 
		values ((select reportid from reportconfiguration where menuitemcode='menu_Item_IndemnityReport'),1,'FinReference','LOVSEARCH','Loan Reference','t1.finreference',null,'FinanceMain','getFinReference','getFinReference',0,0,0,0,1,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
				
	</sql>
</changeSet>
<changeSet id="56" author="Jayant">
	<sql>
		update reportconfiguration set datasourcename='dataSource' where datasourcename in ('datasource','pfsDatasource');
	</sql>
</changeSet>
<changeSet id="57" author="Appalaswamy">
<comment>SeverityName display issue fix</comment>
	<createView viewName="productdeviations_aview" replaceIfExists="true">
 	SELECT t1.productdevid,
    t1.deviationid,
    t1.productcode,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.code AS deviationcode,
    t2.description AS deviationdesc,
    t2.severity,
    T3.FieldCodeValue SeverityCode,
    T3.ValueDesc SeverityName 
   	FROM productdeviations t1
    JOIN manualdeviations t2 ON t1.deviationid = t2.deviationid 
    INNER JOIN RMTLovFieldDetail t3 ON t2.Severity = t3.fieldcodeid
 	</createView>
 	</changeSet>
 	
 	<changeSet id="58" author="Vinay">
 		<comment>Update scripts for existing data</comment>
 		<sql>
 			update CustomerBankInfo set creditTranNo      =0 where creditTranNo       is null;
			update CustomerBankInfo set debitTranNo       =0 where debitTranNo        is null;
			update CustomerBankInfo set cashDepositNo     =0 where cashDepositNo      is null;
			update CustomerBankInfo set cashWithdrawalNo  =0 where cashWithdrawalNo   is null;
			update CustomerBankInfo set chqDepositNo      =0 where chqDepositNo       is null;
			update CustomerBankInfo set chqIssueNo        =0 where chqIssueNo         is null;
			update CustomerBankInfo set inwardChqBounceNo =0 where inwardChqBounceNo  is null;
			update CustomerBankInfo set outwardChqBounceNo=0 where outwardChqBounceNo is null;
			
		</sql>
	</changeSet>
		
	<changeSet id="59" author="Vinay">
 		<comment>Update scripts for existing data</comment>
 		<sql>
			update CustomerBankInfo_Temp set creditTranNo      =0 where creditTranNo       is null;
			update CustomerBankInfo_Temp set debitTranNo       =0 where debitTranNo        is null;
			update CustomerBankInfo_Temp set cashDepositNo     =0 where cashDepositNo      is null;
			update CustomerBankInfo_Temp set cashWithdrawalNo  =0 where cashWithdrawalNo   is null;
			update CustomerBankInfo_Temp set chqDepositNo      =0 where chqDepositNo       is null;
			update CustomerBankInfo_Temp set chqIssueNo        =0 where chqIssueNo         is null;
			update CustomerBankInfo_Temp set inwardChqBounceNo =0 where inwardChqBounceNo  is null;
			update CustomerBankInfo_Temp set outwardChqBounceNo=0 where outwardChqBounceNo is null;
 		</sql>
 	</changeSet>
 	
 	<changeSet id="60" author="Vinay">
 		<comment>Update scripts for existing data</comment>
 		<sql>
 			update CustomerExtLiability set tenure         =0 where tenure          is null;
			update CustomerExtLiability set tenureBal      =0 where tenureBal       is null;
			update CustomerExtLiability set bounceNo       =0 where bounceNo        is null;
			update CustomerExtLiability set emiCnsdrForFOIR=0 where emiCnsdrForFOIR is null;
		</sql>
	</changeSet>
	
	<changeSet id="61" author="Vinay">
 		<comment>Update scripts for existing data</comment>
 		<sql>
			update CustomerExtLiability_temp set tenure         =0 where tenure          is null;
			update CustomerExtLiability_temp set tenureBal      =0 where tenureBal       is null;
			update CustomerExtLiability_temp set bounceNo       =0 where bounceNo        is null;
			update CustomerExtLiability_temp set emiCnsdrForFOIR=0 where emiCnsdrForFOIR is null;
 		</sql>
 	</changeSet>
 	
 	<changeSet id="62" author="Vinay">
 	<comment>Security Rights added for CorporateCreditReview menu</comment>
 		<sql>
 			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_CorpCreditAppReview','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_CreditApplicationReviewMaintinence','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CREDITAPPREVIEW_MAKER', 'Credit Application Review for maker ', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CREDITAPPREVIEW_APPROVER', 'Credit Application Review for approver', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CREDITAPPREVIEW_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_CorpCreditAppReview'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CREDITAPPREVIEW_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_CreditApplicationReviewMaintinence'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CREDITAPPREVIEW_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_CorpCreditAppReview'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CREDITAPPREVIEW_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_CreditApplicationReviewMaintinence'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='CREDITAPPREVIEW_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='MSTGRP1_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='CREDITAPPREVIEW_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='MSTGRP1_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
 		</sql>
 	</changeSet>
 	
 	<changeSet id="63" author="Vinay" dbms="oracle">
 		<sql>
 			Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage","recordstatus","rolecode","nextrolecode","taskid","nexttaskid","recordtype","workflowid","lastmnton","lastmntby","version") values ('WFEE08','EN','E','{0} Should not be empty.',null,'Approved',null,null,null,null,null,0,to_timestamp('0001-02-27 00:00:00.0','null'),1000,0);
			Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage","recordstatus","rolecode","nextrolecode","taskid","nexttaskid","recordtype","workflowid","lastmnton","lastmntby","version") values ('WFEE09','EN','E','Missing argument in {0} parameter.',null,'Approved',null,null,null,null,null,0,to_timestamp('0001-02-27 00:00:00.0','null'),1000,0);
			Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage","recordstatus","rolecode","nextrolecode","taskid","nexttaskid","recordtype","workflowid","lastmnton","lastmntby","version") values ('WFEE10','EN','E','Signature of {0} parameter should be (String,Object,Long,Long).',null,'Approved',null,null,null,null,null,0,to_timestamp('0001-02-27 00:00:00.0','null'),1000,0);
 		</sql>
 	</changeSet>
 	<changeSet id="63" author="Vinay" dbms="mssql">
 		<sql>
 			Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage","recordstatus","rolecode","nextrolecode","taskid","nexttaskid","recordtype","workflowid","lastmnton","lastmntby","version") values ('WFEE08','EN','E','{0} Should not be empty.',null,'Approved',null,null,null,null,null,0,'',1000,0);
			Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage","recordstatus","rolecode","nextrolecode","taskid","nexttaskid","recordtype","workflowid","lastmnton","lastmntby","version") values ('WFEE09','EN','E','Missing argument in {0} parameter.',null,'Approved',null,null,null,null,null,0,'',1000,0);
			Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage","recordstatus","rolecode","nextrolecode","taskid","nexttaskid","recordtype","workflowid","lastmnton","lastmntby","version") values ('WFEE10','EN','E','Signature of {0} parameter should be (String,Object,Long,Long).',null,'Approved',null,null,null,null,null,0,'',1000,0);
 		</sql>
 	</changeSet>
 	<changeSet id="63" author="Vinay" dbms="postgresql">
 		<sql>
 			Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage","recordstatus","rolecode","nextrolecode","taskid","nexttaskid","recordtype","workflowid","lastmnton","lastmntby","version") values ('WFEE08','EN','E','{0} Should not be empty.',null,'Approved',null,null,null,null,null,0,to_timestamp('0001-02-27 00:00:00.0','null'),1000,0);
			Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage","recordstatus","rolecode","nextrolecode","taskid","nexttaskid","recordtype","workflowid","lastmnton","lastmntby","version") values ('WFEE09','EN','E','Missing argument in {0} parameter.',null,'Approved',null,null,null,null,null,0,to_timestamp('0001-02-27 00:00:00.0','null'),1000,0);
			Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage","recordstatus","rolecode","nextrolecode","taskid","nexttaskid","recordtype","workflowid","lastmnton","lastmntby","version") values ('WFEE10','EN','E','Signature of {0} parameter should be (String,Object,Long,Long).',null,'Approved',null,null,null,null,null,0,to_timestamp('0001-02-27 00:00:00.0','null'),1000,0);
 		</sql>
 	</changeSet>
<!--  	<changeSet id="64" author="Prasad">
	<comment>missed assettypeid column while testing </comment>
	<createView viewName="finassettypes_tview" replaceIfExists="true">
 	 SELECT t1.finassettypeid AS assettypeid,
    t1.assettype,
    t1.seqno,
    t1.reference,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid
   FROM finassettypes_temp t1
 	</createView>
 	</changeSet> -->
 		<changeSet id="58" author="lakshmi.n">
		<comment>Rename the column from finassettypeid to assettypeid </comment>
		<renameColumn tableName="finassettypes" oldColumnName="finassettypeid"
			newColumnName="assettypeid" />
		<renameColumn tableName="finassettypes_temp"
			oldColumnName="finassettypeid" newColumnName="assettypeid" />
	</changeSet>
	
	<changeSet id="58.1" author="lakshmi.n">
	<createView viewName="finassettypes_tview" replaceIfExists="true">
	SELECT t1.assettypeid,
    t1.assettype,
    t1.seqno,
    t1.reference,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid
   FROM finassettypes_temp t1;
	</createView>
	</changeSet>
	<changeSet id="58.2" author="lakshmi.n">
	<comment> Add a event column in extendedfieldheader_temp and extendedfieldheader </comment>
	<addColumn tableName="extendedfieldheader_temp">
		<column name="event" type="VARCHAR(20)" />
	</addColumn>
	<addColumn tableName="extendedfieldheader">
		<column name="event" type="VARCHAR(20)"></column>
	</addColumn>
	</changeSet>
	<changeSet id="58.3" author="lakshmi.n">
		<createView viewName="extendedfieldheader_aview"
			replaceIfExists="true">
	SELECT extendedfieldheader.moduleid,
	    extendedfieldheader.modulename,
	    extendedfieldheader.submodulename,
	    extendedfieldheader.tabheading,
	    extendedfieldheader.numberofcolumns,
	    extendedfieldheader.version,
	    extendedfieldheader.lastmntby,
	    extendedfieldheader.lastmnton,
	    extendedfieldheader.recordstatus,
	    extendedfieldheader.rolecode,
	    extendedfieldheader.nextrolecode,
	    extendedfieldheader.taskid,
	    extendedfieldheader.nexttaskid,
	    extendedfieldheader.recordtype,
	    extendedfieldheader.workflowid,
	    extendedfieldheader.postvalidation,
	    extendedfieldheader.prevalidation,
	    extendedfieldheader.postvalidationreq,
	    extendedfieldheader.prevalidationreq,
	    extendedfieldheader.event
	   FROM extendedfieldheader;
		</createView>
	</changeSet>
	<changeSet id="58.4" author="lakshmi.n">
		<createView viewName="extendedfieldheader_view"
		replaceIfExists="true">
	 SELECT t1.moduleid,
	    t1.modulename,
	    t1.submodulename,
	    t1.tabheading,
	    t1.numberofcolumns,
	    t1.version,
	    t1.lastmntby,
	    t1.lastmnton,
	    t1.recordstatus,
	    t1.rolecode,
	    t1.nextrolecode,
	    t1.taskid,
	    t1.nexttaskid,
	    t1.recordtype,
	    t1.workflowid,
	    t1.postvalidation,
	    t1.prevalidation,
	    t1.postvalidationreq,
	    t1.prevalidationreq,
	    t1.event
	   FROM extendedfieldheader_temp t1
	UNION ALL
	 SELECT t1.moduleid,
	    t1.modulename,
	    t1.submodulename,
	    t1.tabheading,
	    t1.numberofcolumns,
	    t1.version,
	    t1.lastmntby,
	    t1.lastmnton,
	    t1.recordstatus,
	    t1.rolecode,
	    t1.nextrolecode,
	    t1.taskid,
	    t1.nexttaskid,
	    t1.recordtype,
	    t1.workflowid,
	    t1.postvalidation,
	    t1.prevalidation,
	    t1.postvalidationreq,
	    t1.prevalidationreq,
	    t1.event
	   FROM extendedfieldheader t1
	  WHERE NOT (EXISTS ( SELECT 1
	           FROM extendedfieldheader_temp
	          WHERE extendedfieldheader_temp.moduleid = t1.moduleid));
		</createView>
	</changeSet>
	<changeSet id="58.5" author="lakshmi.n">
	<sql>
		<![CDATA[
		update extendedfieldheader set event='Origination' where modulename='LOAN';
		update extendedfieldheader_temp set event='Origination' where modulename='LOAN';
		]]>
	</sql>
	</changeSet>
	<changeSet id="59" author="Jayant">
		<sql>
			delete from REPORTFILTERFIELDS where reportid in (Select reportid from reportconfiguration where reportjaspername='ClosedLoans') and FIELDID=3;
			Insert into REPORTFILTERFIELDS (REPORTID,FIELDID,FIELDNAME,FIELDTYPE,FIELDLABEL,FIELDDBNAME,APPUTILMETHODNAME,MODULENAME,LOVHIDDENFIELDMETHOD,LOVTEXTFIELDMETHOD,MULTISELECTSEARCH,FIELDLENGTH,FIELDMAXVALUE,FIELDMINVALUE,SEQORDER,MANDATORY,FIELDCONSTRAINT,FIELDERRORMESSAGE,WHERECONDITION,STATICVALUE,FIELDWIDTH,FILTERREQUIRED,DEFAULTFILTER,VERSION,LASTMNTBY,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,LASTMNTON,FILTERFILEDS) 
			values ((Select reportid from reportconfiguration where reportjaspername='ClosedLoans'),3,'Status','STATICLIST','Status','t3.closingstatus','getFinanceClosingStatusList',
        	null,null,null,0,0,0,0,3,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,CURRENT_TIMESTAMP,null);
		</sql>
	</changeSet>
	<changeSet id="59" author="Durgaprasad G">
		  <sql>
		  	 <![CDATA[
			delete from REPORTLIST Where Code = 'TechnicalVerification';
			 INSERT INTO REPORTLIST  
			 Values ('TechnicalVerification','TechnicalVerification','listheader_CIF.label,listheader_CollateralType.label,listheader_CollateralReference.label,listheader_LoanReference.label',
			 'cif,collateralType,collateralRef,keyReference','String,String,String,String',' ','ReportList04','Technical Verification','Technical Verification',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0,0);
			  	 	 ]]>
		   </sql>
	  </changeSet>
	  <changeSet id="60" author="Jayant" dbms="oracle">
	  	<comment> Procedure For Renaming TableName where EXTENDEDFIELDHEADER has Module LOAN</comment>
	  	<sql splitStatements="false" stripComments="true"> 
			DECLARE countT int;
				begin
				  for i in (Select SUBMODULENAME from extendedfieldheader where modulename='LOAN')
				    loop
				        begin
				            Select COUNT(*) into countT from user_tables where table_name='LOAN_'||i.SUBMODULENAME||'_ED';
				        if(countT >0) then
				         execute immediate 'rename LOAN_'||i.SUBMODULENAME||'_ED'||' to LOAN_'||i.SUBMODULENAME||'_ORG_ED';
				         else
				         DBMS_OUTPUT.PUT_LINE('TableName : LOAN_'||i.SUBMODULENAME||'_ED NOT FOUND !!!');
				        end if;
				        end;
				      begin
				            Select COUNT(*) into countT from user_tables where table_name='LOAN_'||i.SUBMODULENAME||'_ED_TEMP';
				        if(countT >0) then
				         execute immediate 'rename LOAN_'||i.SUBMODULENAME||'_ED_TEMP'||' to LOAN_'||i.SUBMODULENAME||'_ORG_ED_TEMP';
				         else
				         DBMS_OUTPUT.PUT_LINE('TableName : LOAN_'||i.SUBMODULENAME||'_ED_TEMP NOT FOUND !!!');
				        end if;
				        end;
				    end loop;
				end;
		</sql>
	  </changeSet>
	  <changeSet id="61" author="SreeKanth" dbms="postgresql">
	  	<comment> Procedure For Renaming TableName where EXTENDEDFIELDHEADER has Module LOAN</comment>
	  	<sql splitStatements="false" stripComments="true"> 
	  		DO
			$do$
				DECLARE
				row record;
				BEGIN
				     
				    FOR row IN Select SUBMODULENAME From EXTENDEDFIELDHEADER WHERE  MODULENAME = 'LOAN'
					
				    LOOP
					    EXECUTE 'ALTER TABLE IF EXISTS LOAN_'||row.SUBMODULENAME||'_ED RENAME TO LOAN_'||row.SUBMODULENAME||'_ORG_ED';
					    EXECUTE 'ALTER TABLE IF EXISTS LOAN_'||row.SUBMODULENAME||'_ED_TEMP RENAME TO LOAN_'||row.SUBMODULENAME||'_ORG_ED_TEMP';
						RAISE NOTICE '%', row.SUBMODULENAME;
				    END LOOP;
					
					END;
				$do$;
	  	</sql>
	  </changeSet>
	  	<changeSet id="28" author="Prasad" dbms="postgresql">
	  	<comment> FOR : Maintaining PRESENTMENT FILE IMPORT RESPONSE </comment>
		<createTable tableName="PRESENTMENT_FILEIMPORT">
			<column name="BranchCode" type="char(3)" />
			<column name="AgreementNo" type="char(14)" />
			<column name="InstalmentNo" type="char(3)" />
			<column name="BFLReferenceNo" type="char(3)" />
			<column name="Batchid" type="char(29)" />
			<column name="AmountCleared" type="char(14)" />
			<column name="ClearingDate" type="datetime" />
			<column name="Status" type="char(1)" />
			<column name="ReasonCode" type="char(3)" />
		</createTable>
	</changeSet>
	<changeSet id="62" author="Pruthvi">
		<comment>  Created and assigned menu rights for the menu items that doesn’t specify any right name </comment>
		<sql>
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='REPORTS_ADMIN') and rightid=(select rightid from secrights where rightname='menu_Item_AccountMappingReport');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='REPORTS_CLLIMITS') and rightid=(select rightid from secrights where rightname='menu_Item_LimitDetails');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='REPORTS_CLLIMITS') and rightid=(select rightid from secrights where rightname='menu_Item_MandateDetails');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='REPORTS_CLLIMITS') and rightid=(select rightid from secrights where rightname='menu_Item_CollateralDetails');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='REPORTS_ADMIN') and rightid=(select rightid from secrights where rightname='menu_Item_NoObjectionCertificate');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='REPORTS_ADMIN') and rightid=(select rightid from secrights where rightname='menu_Item_WelcomeLetter');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='REPORTS_DAILYDISBRPT') and rightid=(select rightid from secrights where rightname='menu_Item_Disbursment');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='REPORTS_ADMIN') and rightid=(select rightid from secrights where rightname='menu_Item_VasDetails');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='REPORTS_ADMIN') and rightid=(select rightid from secrights where rightname='menu_Item_WriteoffReport');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='REPORTS_ADMIN') and rightid=(select rightid from secrights where rightname='menuItem_AdminReports_UserRoles');
			
			delete from secrights where rightname='menu_Item_AccountMappingReport';
			delete from secrights where rightname='menu_Item_LimitDetails';
			delete from secrights where rightname='menu_Item_MandateDetails';
			delete from secrights where rightname='menu_Item_CollateralDetails';
			delete from secrights where rightname='menu_Item_NoObjectionCertificate';
			delete from secrights where rightname='menu_Item_WelcomeLetter';
			delete from secrights where rightname='menu_Item_Disbursment';
			delete from secrights where rightname='menu_Item_VasDetails';
			delete from secrights where rightname='menu_Item_WriteoffReport';
			delete from secrights where rightname='menuItem_AdminReports_UserRoles';
			
			Insert into SECRIGHTS 
			values ((select max(rightid)+1 from SECRIGHTS),0,'menu_Item_AccountMappingReport','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			Insert into SECRIGHTS 
			values ((select max(rightid)+1 from SECRIGHTS),0,'menu_Item_LimitDetails','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			Insert into SECRIGHTS 
			values ((select max(rightid)+1 from SECRIGHTS),0,'menu_Item_MandateDetails','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			Insert into SECRIGHTS 
			values ((select max(rightid)+1 from SECRIGHTS),0,'menu_Item_CollateralDetails','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			Insert into SECRIGHTS 
			values ((select max(rightid)+1 from SECRIGHTS),0,'menu_Item_NoObjectionCertificate','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			Insert into SECRIGHTS 
			values ((select max(rightid)+1 from SECRIGHTS),0,'menu_Item_WelcomeLetter','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			Insert into SECRIGHTS 
			values ((select max(rightid)+1 from SECRIGHTS),0,'menu_Item_Disbursment','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			Insert into SECRIGHTS 
			values ((select max(rightid)+1 from SECRIGHTS),0,'menu_Item_VasDetails','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			Insert into SECRIGHTS 
			values ((select max(rightid)+1 from SECRIGHTS),0,'menu_Item_WriteoffReport','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			Insert into SECRIGHTS 
			values ((select max(rightid)+1 from SECRIGHTS),0,'menuItem_AdminReports_UserRoles','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			
			
			update seqSECRIGHTS set seqno=(select max(rightid)+1 from SECRIGHTS);
		</sql>
	</changeSet>
	<changeSet id="63" author="Pruthvi">
		<comment>  Created and assigned menu rights for the menu items that doesn’t specify any right name </comment>
		<sql>
			Insert into SECGROUPRIGHTS 
			values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='REPORTS_ADMIN'),(select rightid from secrights where rightname='menu_Item_AccountMappingReport'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			Insert into SECGROUPRIGHTS 
			values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='REPORTS_CLLIMITS'),(select rightid from secrights where rightname='menu_Item_LimitDetails'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			Insert into SECGROUPRIGHTS 
			values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='REPORTS_CLLIMITS'),(select rightid from secrights where rightname='menu_Item_MandateDetails'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			Insert into SECGROUPRIGHTS 
			values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='REPORTS_CLLIMITS'),(select rightid from secrights where rightname='menu_Item_CollateralDetails'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			Insert into SECGROUPRIGHTS 
			values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='REPORTS_ADMIN'),(select rightid from secrights where rightname='menu_Item_NoObjectionCertificate'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			Insert into SECGROUPRIGHTS 
			values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='REPORTS_ADMIN'),(select rightid from secrights where rightname='menu_Item_WelcomeLetter'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			Insert into SECGROUPRIGHTS 
			values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='REPORTS_DAILYDISBRPT'),(select rightid from secrights where rightname='menu_Item_Disbursment'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			Insert into SECGROUPRIGHTS 
			values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='REPORTS_ADMIN'),(select rightid from secrights where rightname='menu_Item_VasDetails'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			Insert into SECGROUPRIGHTS 
			values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='REPORTS_ADMIN'),(select rightid from secrights where rightname='menu_Item_WriteoffReport'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			Insert into SECGROUPRIGHTS 
			values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='REPORTS_ADMIN'),(select rightid from secrights where rightname='menuItem_AdminReports_UserRoles'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			
			update seqSECGROUPRIGHTS set seqno=(select max(GRPRIGHTID)+1 from SECGROUPRIGHTS); 
		</sql>
	</changeSet>
	<changeSet id="67" author="Vinay">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		  	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	  	
	  		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_dealerName','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_dealerFax','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_dealerAddress1','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_dealerAddress2','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_dealerAddress3','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_dealerCountry','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_dealerCity','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_dealerProvince','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_PaymentMode','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_Email','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_PoBox','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_ZipCode','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DSA_Active','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_dealerName','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_dealerFax','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_dealerAddress1','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_dealerAddress2','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_dealerAddress3','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_dealerAddress4','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_dealerCountry','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_dealerCity','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_dealerProvince','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_Email','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_PoBox','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_ZipCode','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_DMA_Active','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
						  		
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_dealerName'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_dealerFax'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_dealerAddress1'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_dealerAddress2'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_dealerAddress3'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_dealerAddress4'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_dealerCountry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_dealerCity'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_dealerProvince'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_Email'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_PoBox'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_ZipCode'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_Active'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
					
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_dealerName'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_dealerFax'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_dealerAddress1'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_dealerAddress2'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_dealerAddress3'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_dealerCountry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_dealerCity'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_dealerProvince'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_PaymentMode'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_Email'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_PoBox'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_ZipCode'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_Active'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
							
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		  	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
		</sql>
	</changeSet>
	<changeSet id="68" author="Vinay">
		<comment> USD Currency for Coorporate Credit Review </comment>
		<sql>
			Delete From RMTCURRENCIES where CCYCODE='USD';
			Insert into RMTCURRENCIES values ('USD','840','US Dollar','USD',2,100,'A/A_360','A360',0,66.6116,1,3.672,3.673,0,0,0,0,0,1,null,null,0,1000,null,' ',null,null,null,null,null,0);
		</sql>
	</changeSet>
	
	<changeSet id="69" author="Manoj">
		<comment>Data engine configuration changes for Profectus for mandates and disbursement downloads</comment>
			<sql>
				update data_engine_config set name = 'DISB_HDFC_EXPORT' where name = 'DISB_CITI_EXPORT';
				update data_engine_config set postevent = null;
				update partnerbanks set alwfiledownload = 0;
				update data_engine_config set filesequenceno = 1 where name = 'DISB_HDFC_EXPORT';
				update data_engine_config set filenameformat = '${ddmm},.${SEQ_DATE_FILE}' where name = 'DISB_HDFC_EXPORT';
				update data_engine_Config set  fileprefixname = 'PROFECTUSPAY' where name = 'DISB_HDFC_EXPORT';
				update data_Engine_config set name = 'DISB_HDFC_IMPORT' where name = 'DISB_CITI_IMPORT';
				update data_Engine_config set name = 'PROFECTUSMAN' where name = 'MANDATES_EXPORT';	
			</sql>
	</changeSet>
	<changeSet id="70" author="Jayant" dbms="mssql">
		<sql splitStatements="false" stripComments="true">
			DECLARE @SUBMODULENAME varchar(100)
			DECLARE @oldTableName VARCHAR(100)
			DECLARE @newTableName VARCHAR(100)
			DECLARE @CNT int
			DECLARE NAMEREADER CURSOR FAST_FORWARD FOR 
				SELECT SUBMODULENAME FROM EXTENDEDFIELDHEADER WHERE MODULENAME='LOAN'
			OPEN NAMEREADER
				FETCH NEXT FROM NAMEREADER INTO @SUBMODULENAME
				WHILE @@FETCH_STATUS = 0
					BEGIN
						SELECT @CNT=COUNT(*) from INFORMATION_SCHEMA.TABLES where TABLE_NAME='LOAN_'+@SUBMODULENAME+'_ED';
						IF @CNT>0  OR @CNT IS NOT NULL
							BREAK
							SET @oldTableName = 'LOAN_'+@SUBMODULENAME+'_ED'
							SET @newTableName = 'LOAN_'+@SUBMODULENAME+'_ORG_ED'
							EXEC sp_rename @oldTableName,@newTableName
							FETCH NEXT FROM NAMEREADER INTO @SUBMODULENAME
					END
			CLOSE NAMEREADER
			DEALLOCATE NAMEREADER
		</sql>
	</changeSet>
	 <changeSet id="71" author="Vasu" dbms="postgresql">
		<sql>
			 delete from REPORTLIST where code='FinanceUserAuthorizationLimit' and MODULE='FinanceUserAuthorizationLimit' and FIELDLABELS='listheader_UserID.label,listheader_LimitName.label,listheader_LimitAmount.label,listheader_ExpiryDate.label,listheader_Active.label';
			 Insert into REPORTLIST (CODE,MODULE,FIELDLABELS,FIELDVALUES,FIELDTYPE,ADDFIELDS,REPORTFILENAME,REPORTHEADING,MODULETYPE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,FORMATREQ) values ('FinanceUserAuthorizationLimit','FinanceUserAuthorizationLimit','listheader_UserID.label,listheader_LimitName.label,listheader_LimitAmount.label,listheader_ExpiryDate.label,listheader_Active.label','usrLogin,UsrFName,limitAmount,expiryDate,active','String,String,BigDecimal,Date,boolean',' ','ReportList05','User Authorization Limits','Administration',1,1000,to_date('01-05-18','DD-MM-RR'),'Approved',' ',' ',' ',' ',' ',0,0);
		</sql>
	</changeSet> 
	<changeSet id="71" author="Vasu" dbms="oracle">
		<sql>
			 delete from REPORTLIST where code='FinanceUserAuthorizationLimit' and MODULE='FinanceUserAuthorizationLimit' and FIELDLABELS='listheader_UserID.label,listheader_LimitName.label,listheader_LimitAmount.label,listheader_ExpiryDate.label,listheader_Active.label';
			 Insert into REPORTLIST (CODE,MODULE,FIELDLABELS,FIELDVALUES,FIELDTYPE,ADDFIELDS,REPORTFILENAME,REPORTHEADING,MODULETYPE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,FORMATREQ) values ('FinanceUserAuthorizationLimit','FinanceUserAuthorizationLimit','listheader_UserID.label,listheader_LimitName.label,listheader_LimitAmount.label,listheader_ExpiryDate.label,listheader_Active.label','usrLogin,UsrFName,limitAmount,expiryDate,active','String,String,BigDecimal,Date,boolean',' ','ReportList05','User Authorization Limits','Administration',1,1000,to_date('01-05-18','DD-MM-RR'),'Approved',' ',' ',' ',' ',' ',0,0);
		</sql>
	</changeSet> 
	<changeSet id="71" author="Vasu" dbms="mssql">
		<sql>
			 delete from REPORTLIST where code='FinanceUserAuthorizationLimit' and MODULE='FinanceUserAuthorizationLimit' and FIELDLABELS='listheader_UserID.label,listheader_LimitName.label,listheader_LimitAmount.label,listheader_ExpiryDate.label,listheader_Active.label';
			 Insert into REPORTLIST (CODE,MODULE,FIELDLABELS,FIELDVALUES,FIELDTYPE,ADDFIELDS,REPORTFILENAME,REPORTHEADING,MODULETYPE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,FORMATREQ) values ('FinanceUserAuthorizationLimit','FinanceUserAuthorizationLimit','listheader_UserID.label,listheader_LimitName.label,listheader_LimitAmount.label,listheader_ExpiryDate.label,listheader_Active.label','usrLogin,UsrFName,limitAmount,expiryDate,active','String,String,BigDecimal,Date,boolean',' ','ReportList05','User Authorization Limits','Administration',1,1000,'','Approved',' ',' ',' ',' ',' ',0,0);
		</sql>
	</changeSet> 
	<changeSet id="72" author="Vinay">
		<sql>
			 Update ReportFilterFields set FIELDCONSTRAINT='REGEX_NUMERIC',fielderrormessage='Financial Year' Where FIELDID=2 And REPORTID=(select reportid from reportconfiguration where menuitemcode='menu_Item_InterestStatement');
		</sql>
	</changeSet>
	
	<changeSet id="73" author="Manoj">
		<comment>story #360 Externalize customer primary identity</comment>
		<sql>
			delete from smtparameters where sysparmcode in ('CUST_PRIMARY_ID_RETL','CUST_PRIMARY_ID_CORP','CUST_PRIMARY_ID_REQ','CUST_PRIMARY_ID_RETL_DOC_TYPE','CUST_PRIMARY_ID_CORP_DOC_TYPE') ;
			INSERT INTO SMTPARAMETERS VALUES ('CUST_PRIMARY_ID_RETL', 'Retail Customer Primary ID (PAN, AADHAAR, EID)', 'String', 0, 'PAN', '50', 0, NULL, NULL, 'Retail Customer Primary ID', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
			INSERT INTO SMTPARAMETERS VALUES ('CUST_PRIMARY_ID_CORP', 'Corporate Customer Primary ID (PAN, AADHAAR, EID)', 'String', 0, 'PAN', '50', 0, NULL, NULL, 'Corporate Customer Primary ID', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
			INSERT INTO SMTPARAMETERS VALUES ('CUST_PRIMARY_ID_REQ', 'Customer Primary ID Required (Y, N)', 'String', 0, 'Y', 1, 0, NULL, NULL, 'Customer Primary ID Required', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
			INSERT INTO SMTPARAMETERS VALUES ('CUST_PRIMARY_ID_RETL_DOC_TYPE', 'Customer Primary ID DocType for Retl', 'String', 0, 'PAN', '50', 0, NULL, NULL, 'Retail Customer Primary ID', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
			INSERT INTO SMTPARAMETERS VALUES ('CUST_PRIMARY_ID_CORP_DOC_TYPE', 'Customer Primary ID DocType for Corp', 'String', 0, 'PAN', '50', 0, NULL, NULL, 'Corp Customer Primary ID', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
			
		</sql>
	</changeSet>
	<changeSet id="74.01" author="Prasad">
	<sql>drop view irrfeetypes_view</sql>
	</changeSet>
	<changeSet id="74.02" author="Prasad">
	<sql>drop view irrfeetypes_aview</sql>
	</changeSet>
	<changeSet id="74_Pre1" author="Jayant" dbms="postgresql">
		<sql>
			SELECT public.deps_save_and_drop_dependencies('plf','irrfeetypes');
			SELECT public.deps_save_and_drop_dependencies('plf','irrfeetypes_temp');
		</sql>
	</changeSet>
	 <changeSet id="74" author="Vinay">
		<modifyDataType tableName="IRRFeeTypes" columnName="feepercentage" newDataType="decimal(5,2)"/>
		<modifyDataType tableName="IRRFeeTypes_Temp" columnName="feepercentage" newDataType="decimal(5,2)"/>
	</changeSet>
	<changeSet id="74_Post" author="Jayant" dbms="postgresql">
		<sql>
			SELECT public.deps_restore_dependencies('plf','irrfeetypes');
			SELECT public.deps_restore_dependencies('plf','irrfeetypes_temp');
		</sql>
	</changeSet>
	<changeSet id="74.1" author="Prasad">
		<createView viewName="irrfeetypes_view" replaceIfExists="true">
			SELECT t1.irrid,
    t1.feetypeid,
    t3.feetypecode,
    t3.feetypedesc,
    t1.feepercentage,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid
   FROM irrfeetypes_temp t1
     JOIN feetypes t3 ON t1.feetypeid = t3.feetypeid
UNION ALL
 SELECT t1.irrid,
    t1.feetypeid,
    t3.feetypecode,
    t3.feetypedesc,
    t1.feepercentage,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid
   FROM irrfeetypes t1
     JOIN feetypes t3 ON t1.feetypeid = t3.feetypeid
  WHERE NOT (EXISTS ( SELECT 1
           FROM irrfeetypes_temp
          WHERE irrfeetypes_temp.irrid = t1.irrid AND irrfeetypes_temp.feetypeid = t1.feetypeid))
		</createView>
	</changeSet>
	
		<changeSet id="74.2" author="Prasad">
		<createView viewName="irrfeetypes_aview" replaceIfExists="true">
				SELECT t1.irrid,
    t2.irrcode,
    t2.irrcodedesc,
    t1.feetypeid,
    t3.feetypecode,
    t3.feetypedesc,
    t1.feepercentage,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid
   FROM irrfeetypes t1
     JOIN irrcodes t2 ON t1.irrid = t2.irrid
     JOIN feetypes t3 ON t1.feetypeid = t3.feetypeid
		</createView>
	</changeSet>
	<changeSet id="75" author="Vijaykumar.l" dbms="postgresql">
		<sql>
		 Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage",   "recordstatus","rolecode","nextrolecode","taskid","nexttaskid", "recordtype","workflowid","lastmnton","lastmntby","version") 
           values ('30901','EN','E','The application cannot be submitted to the selected stage with pending/rejected deviations.',null,'Approved',null,null,null,null,null,0,to_timestamp('2018-05-01 00:00:00.0','null'),1000,0);
		</sql>
	</changeSet>
		<changeSet id="75" author="Vijaykumar.l" dbms="mssql">
		<sql>
		 Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage",   "recordstatus","rolecode","nextrolecode","taskid","nexttaskid", "recordtype","workflowid","lastmnton","lastmntby","version") 
           values ('30901','EN','E','The application cannot be submitted to the selected stage with pending/rejected deviations.',null,'Approved',null,null,null,null,null,0,'',1000,0);
		</sql>
	</changeSet>
	<changeSet id="75" author="Vijaykumar.l" dbms="oracle">
		<sql>
		 Insert into ERRORDETAILS ("code","language","severity","message","extendedmessage",   "recordstatus","rolecode","nextrolecode","taskid","nexttaskid", "recordtype","workflowid","lastmnton","lastmntby","version") 
           values ('30901','EN','E','The application cannot be submitted to the selected stage with pending/rejected deviations.',null,'Approved',null,null,null,null,null,0,to_timestamp('2018-05-01 00:00:00.0','null'),1000,0);
		</sql>
	</changeSet>
	<changeSet id="75" author="Vinay">
	<comment> FinIRRDetails for schedule calculator </comment>
		<createTable tableName="FinIRRDetails">
			<column name="IRRID" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="FINREFERENCE" type="varchar(20)">
				<constraints nullable="false"/>
			</column>
			<column name="IRR" type="decimal(13,9)">
				<constraints nullable="false"/>
			</column>
			<column name="version" type="int"/>
			<column name="lastmntby" type="bigint"/>
			<column name="lastmnton" type="datetime"/>
			<column name="recordstatus" type="varchar(50)"/>
			<column name="rolecode" type="varchar(100)"/>
			<column name="nextrolecode" type="varchar(200)"/>
			<column name="taskid" type="varchar(50)"/>
			<column name="nexttaskid" type="varchar(200)"/>
			<column name="recordtype" type="varchar(50)"/>
			<column name="workflowid" type="bigint">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="76" author="Vinay">
	<comment> FinIRRDetails for schedule calculator </comment>
		<createTable tableName="FinIRRDetails_Temp">
			<column name="IRRID" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="FINREFERENCE" type="varchar(20)">
				<constraints nullable="false"/>
			</column>
			<column name="IRR" type="decimal(13,9)">
				<constraints nullable="false"/>
			</column>
			<column name="version" type="int"/>
			<column name="lastmntby" type="bigint"/>
			<column name="lastmnton" type="datetime"/>
			<column name="recordstatus" type="varchar(50)"/>
			<column name="rolecode" type="varchar(100)"/>
			<column name="nextrolecode" type="varchar(200)"/>
			<column name="taskid" type="varchar(50)"/>
			<column name="nexttaskid" type="varchar(200)"/>
			<column name="recordtype" type="varchar(50)"/>
			<column name="workflowid" type="bigint">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="77" author="Vinay">
		<addPrimaryKey columnNames="IRRID, FINREFERENCE"
			constraintName="PK_FinIRRDetails" tableName="FinIRRDetails" />
		<addPrimaryKey columnNames="IRRID, FINREFERENCE"
			constraintName="PK_FinIRRDetails_Temp" tableName="FinIRRDetails_Temp" />
	</changeSet>
	
	
	
	<changeSet id="80" author="Vinay">
		<createView viewName="FinIRRDetails_View" replaceIfExists="true">
			select T1.IRRID,T1.FINREFERENCE,T2.IRRCode , T2.IrrCodeDesc , 
				T1.IRR,T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 			T1.RecordType, T1.WorkflowId
		from FinIRRDetails_Temp T1 INNER JOIN
		        IRRCODES  T2 ON T1.IRRID = T2.IRRID
		UNION ALL
		select T1.IRRID,T1.FINREFERENCE,T2.IRRCode , T2.IrrCodeDesc , 
				T1.IRR,T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 			T1.RecordType, T1.WorkflowId
		from FinIRRDetails T1 INNER JOIN
		        IRRCODES  T2 ON T1.IRRID = T2.IRRID
		WHERE     NOT EXISTS (SELECT 1 FROM FinIRRDetails_Temp WHERE IRRID = T1.IRRID)
		</createView>
	</changeSet>
	<changeSet id="81" author="SrinivasaVarma">
			<addColumn tableName="ExtendedFieldDetail">
				<column name="allowInRule" type="Boolean"></column>	
			</addColumn>
			<addColumn tableName="ExtendedFieldDetail_Temp">
				<column name="allowInRule" type="Boolean"></column>	
			</addColumn>
	</changeSet>
	<changeSet id="82" author="SrinivasaVarma" dbms="mssql">
		<sql>
			alter table ExtendedFieldDetail add constraint df_extendedfdetl_alwinrule default 0 for allowInRule;
			alter table ExtendedFieldDetail_Temp add constraint df_extendedfdetl_t_alwinrule default 0 for allowInRule;
		</sql>	
	</changeSet>
	<changeSet id="82" author="SrinivasaVarma" dbms="oracle">
		<addDefaultValue tableName="ExtendedFieldDetail" columnName="allowInRule" defaultValue="0"/>
		<addDefaultValue tableName="ExtendedFieldDetail_Temp" columnName="allowInRule" defaultValue="0"/>
	</changeSet>
	<changeSet id="82" author="SrinivasaVarma" dbms="postgresql">
		<addDefaultValue tableName="ExtendedFieldDetail" columnName="allowInRule" defaultValue="0"/>
		<addDefaultValue tableName="ExtendedFieldDetail_Temp" columnName="allowInRule" defaultValue="0"/>
	</changeSet>
	<changeSet id="83" author="SrinivasaVarma">
		<comment> New Column added allowInRule </comment>
		<createView viewName="extendedfielddetail_aview" replaceIfExists="true">
			select t1.moduleid,  t1.fieldname,  t2.modulename as lovdescmodulename, t2.submodulename as lovdescsubmodulename,
			t1.fieldtype, t1.fieldlength,  t1.fieldprec, t1.fieldlabel, t1.fieldmandatory,
			t1.fieldconstraint,  t1.fieldseqorder, t1.fieldlist, t1.fielddefaultvalue,
			t1.fieldminvalue, t1.fieldmaxvalue, t1.fieldunique, t1.extendedtype, t1.version,
			t1.lastmntby, t1.lastmnton,  t1.recordstatus,  t1.rolecode, t1.nextrolecode,
			t1.taskid,  t1.nexttaskid, t1.recordtype,  t1.workflowid, t1.multiline,  t1.parenttag,
			t1.inputelement, t1.editable,t1.allowInRule
			from extendedfielddetail t1 join extendedfieldheader t2 on t1.moduleid = t2.moduleid;
		</createView>
	</changeSet>
	
	<changeSet id="84" author="SrinivasaVarma">
		<comment> New Column added allowInRule </comment>
		<createView viewName="extendedfielddetail_view" replaceIfExists="true">
			SELECT t1.moduleid, t1.fieldname, t2.modulename AS lovdescmodulename, t2.submodulename AS lovdescsubmodulename,
		    t1.fieldtype, t1.fieldlength, t1.fieldprec, t1.fieldlabel,
		    t1.fieldmandatory,
		    t1.fieldconstraint,
		    t1.fieldseqorder,
		    t1.fieldlist,
		    t1.fielddefaultvalue,
		    t1.fieldminvalue,
		    t1.fieldmaxvalue,
		    t1.fieldunique,
		    t1.extendedtype,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t1.multiline,
		    t1.parenttag,
		    t1.inputelement,
		    t1.editable,
		    t1.allowInRule
		   FROM extendedfielddetail_temp t1 JOIN extendedfieldheader_temp t2 ON t1.moduleid = t2.moduleid
		UNION ALL
		 SELECT t1.moduleid,
		    t1.fieldname,
		    t2.modulename AS lovdescmodulename,
		    t2.submodulename AS lovdescsubmodulename,
		    t1.fieldtype,
		    t1.fieldlength,
		    t1.fieldprec,
		    t1.fieldlabel,
		    t1.fieldmandatory,
		    t1.fieldconstraint,
		    t1.fieldseqorder,
		    t1.fieldlist,
		    t1.fielddefaultvalue,
		    t1.fieldminvalue,
		    t1.fieldmaxvalue,
		    t1.fieldunique,
		    t1.extendedtype,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t1.multiline,
		    t1.parenttag,
		    t1.inputelement,
		    t1.editable,
		    t1.allowInRule
		   FROM extendedfielddetail t1 JOIN extendedfieldheader t2 ON t1.moduleid = t2.moduleid
		   WHERE NOT (EXISTS ( SELECT 1 FROM extendedfielddetail_temp WHERE extendedfielddetail_temp.moduleid = t1.moduleid AND extendedfielddetail_temp.fieldname = t1.fieldname));
		</createView>
	</changeSet>
	<changeSet id="85" author="Jayant">
		<sql>
			update extendedfielddetail set allowInRule = 0 where allowInRule is null;
			update extendedfielddetail_temp set allowInRule = 0 where allowInRule is null;
		</sql>
	</changeSet>
	
		<changeSet id="86" author="Jayant">
		<sql>
  		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'ExtendedFieldDetailDialog_AllowInRule','ExtendedFieldDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
  	
  		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),1116,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ExtendedFieldDetailDialog_AllowInRule'),
		 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
	  	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
		</sql>
	</changeSet>
	
	<changeSet id="87" author="vinay">
		<comment> New view for Presentment exclude header module for report </comment>
		<createView viewName="presentmentexcludehdr_view" replaceIfExists="true">
			select id,reference from presentmentheader
		</createView>
		</changeSet>
		<changeSet id="88" author="vinay">
		<sql>
		delete from REPORTFILTERFIELDS where reportid=(select reportid from reportconfiguration where menuitemcode='menu_Item_PresentmentExcludeReport');
		delete from REPORTCONFIGURATION where menuitemcode='menu_Item_PresentmentExcludeReport';
		
		Insert into REPORTCONFIGURATION 
		values ((select max(reportid)+1 from REPORTCONFIGURATION),'Excel:Presentment Exclude Report','Presentment Exclude Report',1,'PresentmentExcludeReport','dataSource',1,'menu_Item_PresentmentExcludeReport',1,1000,null,null,null,null,null,null,0,current_timestamp,0,1);
		
		
		Insert into REPORTFILTERFIELDS 
		values ((select reportid from reportconfiguration where menuitemcode='menu_Item_PresentmentExcludeReport'),1,'Reference','LOVSEARCH','Reference','T4.reference',null,'PresentmentExcludeHeader','getReference','getReference',0,0,0,0,1,1,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp,null);
		
		</sql>
	</changeSet>
	<changeSet id="89" author="Subba Rao">
		<createView viewName="CustomersDedup_View" replaceIfExists="true">
			SELECT t1.custid,
		    t1.custcif,
		    t1.custfname,
		    t1.custlname,
		    t1.custcrcpr,
		    t1.custpassportno,
		    t1.custshrtname,
		    t1.custdob,
		    t1.custnationality,
		    t1.phonenumber AS mobilenumber,
		    t1.custctgcode,
		    t1.custdftbranch,
		    t1.custtypecode,
		    t1.custsector,
		    t1.custsubsector,
		    T1.SubCategory, 
		    T1.CasteId,
		    T1.ReligionId,
		    T3.CasteCode,
		    T3.CasteDesc,
		    T4.ReligionCode,
		    T4.ReligionDesc,
		    t2.custtypectg AS lovdesccustctgtype,
			T5.CustDocTitle PanNumber,
			T6.CustEmail CustEMail
		   FROM customers_temp t1
		     LEFT JOIN rmtcusttypes t2 ON t1.custtypecode = t2.custtypecode
		     LEFT JOIN Caste T3 ON T1.CasteId = T3.CasteId  
			 LEFT OUTER JOIN Religion T4 ON T1.ReligionId = T4.ReligionId
			 LEFT OUTER JOIN CustomerDocuments T5 ON T1.CustID = T5.CustID And CustDocCategory = 'PAN'
			 LEFT OUTER JOIN CustomerEmails T6 ON T1.CustID = T6.CustID And T6.CustEMailPriority = '5'
		UNION ALL
		 SELECT t1.custid,
		    t1.custcif,
		    t1.custfname,
		    t1.custlname,
		    t1.custcrcpr,
		    t1.custpassportno,
		    t1.custshrtname,
		    t1.custdob,
		    t1.custnationality,
		    t1.phonenumber AS mobilenumber,
		    t1.custctgcode,
		    t1.custdftbranch,
		    t1.custtypecode,
		    t1.custsector,
		    t1.custsubsector,
		    T1.SubCategory, 
		    T1.CasteId,
		    T1.ReligionId,
		    T3.CasteCode,
		    T3.CasteDesc,
		    T4.ReligionCode,
		    T4.ReligionDesc,
		    t2.custtypectg AS lovdesccustctgtype,
			T5.CustDocTitle PanNumber,
			T6.CustEmail CustEMail
		   FROM customers t1
		     LEFT JOIN rmtcusttypes t2 ON t1.custtypecode = t2.custtypecode
		     LEFT JOIN Caste T3 ON T1.CasteId = T3.CasteId  
			 LEFT OUTER JOIN Religion T4 ON T1.ReligionId = T4.ReligionId
			 LEFT OUTER JOIN CustomerDocuments T5 ON T1.CustID = T5.CustID And CustDocCategory = 'PAN'
			 LEFT OUTER JOIN CustomerEmails T6 ON T1.CustID = T6.CustID And T6.CustEMailPriority = '5'
		  WHERE NOT (EXISTS ( SELECT 1
		           FROM customers_temp
		          WHERE customers_temp.custid = t1.custid))
		</createView>
	</changeSet>
	<changeSet id="90" author="SubbaRao">
		<sql>
			delete from DedupFields where FieldName = 'Email';
			Insert into DedupFields Values ('PanNumber', 'PAN Number', 'varchar', 'RETAILCustomer',1,1005,CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0 );
			Insert into DedupFields Values ('CustEMail', 'Email ID', 'varchar', 'RETAILCustomer',1,1005,CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0 );
		</sql>
	</changeSet>
	 <changeSet id="91" author="srikanth">
		<addColumn tableName="financedeviations_temp">
			<column name="markDeleted" type="boolean"/>
		</addColumn>
	</changeSet>
	<changeSet id="92" author="srikanth">
		<addColumn tableName="financedeviations">
			<column name="markDeleted" type="boolean"/>
		</addColumn>
	</changeSet>
	<changeSet id="93" author="srikanth">
	<sql>
		update financedeviations_temp set markdeleted = 0;
		update financedeviations set markdeleted = 0;
	</sql>
</changeSet>
	<changeSet id="94" author="Srikanth" dbms="postgresql">
		<addDefaultValue tableName="financedeviations_temp"
			columnName="markdeleted" defaultValue="0" />
		<addDefaultValue tableName="financedeviations"
			columnName="markdeleted" defaultValue="0" />
	</changeSet>
	<changeSet id="94" author="Srikanth" dbms="oracle">
		<addDefaultValue tableName="financedeviations_temp"
			columnName="markdeleted" defaultValue="0" />
		<addDefaultValue tableName="financedeviations"
			columnName="markdeleted" defaultValue="0" />
	</changeSet>
	<changeSet id="94" author="Jayant" dbms="mssql">
		<sql>
			ALTER TABLE financedeviations_temp ADD CONSTRAINT DF_markdeleted_T DEFAULT 0 FOR markdeleted;
			ALTER TABLE financedeviations ADD CONSTRAINT DF_markdeleted DEFAULT 0 FOR markdeleted;
		</sql>
	</changeSet>
<changeSet id="95" author="Srikanth">
<!--  Deleting the manual deviation severities as these will be moved to application static list. -->
<sql>
delete from RMTLovFieldDetail where FieldCode = 'MDEV_SEV';
delete from BMTLovFieldCode where FieldCode = 'MDEV_SEV';

insert into limitcodedetail values ((select max(limitid) + 1 from limitcodedetail)
	,'MDAAL1', 'Manual Deviation Allowed Authorities for Level 1', 1);
insert into limitcodedetail values ((select max(limitid) + 1 from limitcodedetail)
	,'MDAAL2', 'Manual Deviation Allowed Authorities for Level 2', 1);
insert into limitcodedetail values ((select max(limitid) + 1 from limitcodedetail)
	,'MDAAL3', 'Manual Deviation Allowed Authorities for Level 3', 1);
insert into limitcodedetail values ((select max(limitid) + 1 from limitcodedetail)
	,'MDAAL4', 'Manual Deviation Allowed Authorities for Level 4', 1);
insert into limitcodedetail values ((select max(limitid) + 1 from limitcodedetail)
	,'MDAAL5', 'Manual Deviation Allowed Authorities for Level 5', 1);
</sql></changeSet>
	<changeSet id="96" author="SubbaRao">
		<sql>
			Insert into SECRIGHTS values ((select max(rightid)+1 from SECRIGHTS),0,'menuItem_Administration_UserpasswordReset','MENU',1,1000,current_timestamp,null,null,null,null,null,null,0);
			Insert into SECGROUPRIGHTS values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='SECURITYUSER_MAKER'),(select rightid from secrights where rightname='menuItem_Administration_UserpasswordReset'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			Insert into SECGROUPRIGHTS values ((select max(GRPRIGHTID)+1 from SECGROUPRIGHTS),(select grpid from secgroups where grpcode='SECURITYUSER_APPROVER'),(select rightid from secrights where rightname='menuItem_Administration_UserpasswordReset'),1,0,10000,current_timestamp,' ',null,null,null,null,null,0);
			
			update seqSECRIGHTS set seqno=(select max(RIGHTID)+1 from SECRIGHTS); 
			update seqSECGROUPRIGHTS set seqno=(select max(GRPRIGHTID)+1 from SECGROUPRIGHTS);
			
		</sql>
	</changeSet> 
	
	<changeSet id="97" author="Vinay">
		<comment>Eligibility Method values from table in Loan Origination</comment>
		<sql>
			delete from RMTLOVFIELDDETAIL where fieldcode='ELGMETHOD';
			delete from BMTLOVFIELDCODE where fieldcode='ELGMETHOD';
			
			update financemain_temp set eligibilitymethod='' where eligibilitymethod='#';
			update financemain set eligibilitymethod='' where eligibilitymethod='#';
			
			Insert into BMTLOVFIELDCODE values ('ELGMETHOD',' Eligibility Method','String','0','1',1,1007,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0);
			Insert into RMTLOVFIELDDETAIL values ((select max(seqno)+1 from  seqRMTLOVFIELDDETAIL),'ELGMETHOD','CP','CashFlow',1,3,1000,CURRENT_TIMESTAMP,' ',null,null,null,null,null,0,1);
			Insert into RMTLOVFIELDDETAIL values ((select max(seqno)+2 from  seqRMTLOVFIELDDETAIL),'ELGMETHOD','GTP','GrossTurnover',1,3,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0,0);
			Insert into RMTLOVFIELDDETAIL values ((select max(seqno)+3 from  seqRMTLOVFIELDDETAIL),'ELGMETHOD','BS','BankingSurrogate',1,3,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0,0);
			Insert into RMTLOVFIELDDETAIL values ((select max(seqno)+4 from  seqRMTLOVFIELDDETAIL),'ELGMETHOD','BT','BankingTurnover',1,3,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0,0);
			Insert into RMTLOVFIELDDETAIL values ((select max(seqno)+5 from  seqRMTLOVFIELDDETAIL),'ELGMETHOD','TL','Turnover',1,3,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0,0);
		</sql>
	</changeSet>
	 <changeSet id="98" author="Sai Krishna"> 
	 	<comment>Add opening balance column as not null.</comment>
		<addColumn tableName="AccountsHistory">
			<column name="OpeningBal" type="decimal(18,0)"/>
		</addColumn>
	</changeSet>
	<changeSet id="99" author="Sai Krishna">
		<comment>The existing records' opening balance will be updated 0. These has to be corrected.</comment>
		<sql>
			update AccountsHistory set OpeningBal = 0;
		</sql>
	</changeSet>
	<changeSet id="100" author="Sai Krishna" dbms="oracle">
		<addNotNullConstraint tableName="AccountsHistory" columnName="OpeningBal" />
	</changeSet>
	<changeSet id="100" author="Sai Krishna" dbms="postgresql">
		<addNotNullConstraint tableName="AccountsHistory" columnName="OpeningBal" />
	</changeSet>
	<changeSet id="100" author="Sai Krishna" dbms="mssql">
		<addNotNullConstraint tableName="AccountsHistory" columnName="OpeningBal" columnDataType="decimal(18,0)"/>
	</changeSet>
		<changeSet id="101" author="Jayant">
		<createTable tableName="BMTQueryCategories">
			<column name="Id" type="bigint"/>
			<column name="Code" type="varchar(10)"/>
			<column name="Description" type="varchar(50)"/>
			<column name="Active" type="boolean"/>
			<column name="version" type="int"/>
			<column name="lastmntby" type="bigint"/>
			<column name="lastmnton" type="datetime"/>
			<column name="recordstatus" type="varchar(50)"/>
			<column name="rolecode" type="varchar(100)"/>
			<column name="nextrolecode" type="varchar(200)"/>
			<column name="taskid" type="varchar(50)"/>
			<column name="nexttaskid" type="varchar(200)"/>
			<column name="recordtype" type="varchar(50)"/>
			<column name="workflowid" type="bigint">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	<changeSet id="102" author="Jayant">
		<createTable tableName="BMTQueryCategories_Temp">
	<column name="Id" type="bigint"/>
	<column name="Code" type="varchar(10)"/>
	<column name="Description" type="varchar(50)"/>
	<column name="Active" type="boolean"/>
	<column name="version" type="int"/>
	<column name="lastmntby" type="bigint"/>
	<column name="lastmnton" type="datetime"/>
	<column name="recordstatus" type="varchar(50)"/>
	<column name="rolecode" type="varchar(100)"/>
	<column name="nextrolecode" type="varchar(200)"/>
	<column name="taskid" type="varchar(50)"/>
	<column name="nexttaskid" type="varchar(200)"/>
	<column name="recordtype" type="varchar(50)"/>
	<column name="workflowid" type="bigint">
		<constraints nullable="false"/>
	</column>

</createTable>
	</changeSet>
	<changeSet id="103" author="Jayant">
		<comment> New View added : BMTQueryCategories_View</comment>
		<createView viewName="BMTQueryCategories_AView" replaceIfExists="true">

SELECT		T1.Id, T1.Code, T1.Description, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BMTQueryCategories T1 
</createView>

	</changeSet>
	<changeSet id="104" author="Jayant">
		<comment> New View added : BMTQueryCategories_View</comment>
		<createView viewName="BMTQueryCategories_View" replaceIfExists="true">
SELECT		T1.Id, T1.Code, T1.Description, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BMTQueryCategories_Temp T1 
UNION ALL
SELECT		T1.Id, T1.Code, T1.Description, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BMTQueryCategories T1 
WHERE     NOT EXISTS (SELECT 1 FROM BMTQueryCategories_TEMP WHERE Id = T1.Id)
</createView>
</changeSet>
	<changeSet id="105" author="Jayant">
		<createSequence sequenceName="seqBMTQueryCategories" incrementBy="1" startValue="1" minValue="1" maxValue="999999999999999999"/>
	</changeSet>
	<changeSet id="106" author="srikanth">
	<sql>
	delete from SMTPARAMETERS where sysParmcode='DEV_HIGHER_APPROVAL';
	INSERT INTO SMTPARAMETERS VALUES ('DEV_HIGHER_APPROVAL', 'Allow top level hierarchical approval Required (Y, N)', 'String', 0, 'N', 1, 0, NULL, NULL, 'Allow top level hierarchical approval Required', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
	</sql>
	</changeSet>
	
	<changeSet id="107" author="Vinay">
	<comment>Credit Review Tab visibility purpose</comment>
		<sql>
			delete from SMTParameters where sysparmcode='IS_CREDITREVIEW_TAB_REQ';
			Insert into SMTParameters values ('IS_CREDITREVIEW_TAB_REQ','Credit Review Details Tab','String','1','Y',1,0,null,null,'Credit Review Details Tab required.',1,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	
	<changeSet id="107" author="Kesav">
		<addDefaultValue tableName="AccountsHistory" defaultValueNumeric="0" columnName="OpeningBal" columnDataType="decimal(18,0)"/>
	</changeSet>
	
	<changeSet id="108" author="Vinay">
	<comment>New ErrorDetails added</comment>
		<sql>
			delete from ERRORDETAILS where code='41101';
			Insert into ERRORDETAILS values ('41101','EN','E','Not allowed to approve loan with Disbursement type : {0} and Covenant type : {1}','test','Approved',null,null,null,null,null,0,CURRENT_TIMESTAMP,1000,34);
			
			delete from ERRORDETAILS where code='41102';
			Insert into ERRORDETAILS values ('41102','EN','E','NOC can not be issued for this loan ','test','Approved',null,null,null,null,null,0,CURRENT_TIMESTAMP,1000,34);
			
			
			Insert into FLAGS values ('NONOC','No NOC','1',1,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0);
		</sql>
	</changeSet>
	<changeSet id="109" author="DSK">
	<createTable tableName="QUERYDETAIL">
		<column name="Id" type="bigint"/>
		<column name="FinReference" type="varchar"/>
		<column name="CategoryId" type="bigint"/>
		<column name="QryNotes" type="varchar"/>
		<column name="AssignedRole" type="varchar"/>
		<column name="NotifyTo" type="varchar"/>
		<column name="Status" type="varchar"/>
		<column name="RaisedBy" type="bigint"/>
		<column name="RaisedOn" type="datetime"/>
		<column name="ResponsNotes" type="varchar"/>
		<column name="ResponseBy" type="bigint"/>
		<column name="ResponseOn" type="datetime"/>
		<column name="CloserNotes" type="nchar"/>
		<column name="CloserBy" type="bigint"/>
		<column name="CloserOn" type="datetime"/>
		<column name="version" type="int"/>
		<column name="lastmntby" type="bigint"/>
		<column name="lastmnton" type="datetime"/>
		<column name="recordstatus" type="varchar(50)"/>
		<column name="rolecode" type="varchar(100)"/>
		<column name="nextrolecode" type="varchar(200)"/>
		<column name="taskid" type="varchar(50)"/>
		<column name="nexttaskid" type="varchar(200)"/>
		<column name="recordtype" type="varchar(50)"/>
		<column name="workflowid" type="bigint">
			<constraints nullable="false"/>
		</column>
	</createTable>
</changeSet>

<changeSet id="110" author="DSK">
	<createTable tableName="QUERYDETAIL_Temp">
		<column name="Id" type="bigint"/>
		<column name="FinReference" type="varchar"/>
		<column name="CategoryId" type="bigint"/>
		<column name="QryNotes" type="varchar"/>
		<column name="AssignedRole" type="varchar"/>
		<column name="NotifyTo" type="varchar"/>
		<column name="Status" type="varchar"/>
		<column name="RaisedBy" type="bigint"/>
		<column name="RaisedOn" type="datetime"/>
		<column name="ResponsNotes" type="varchar"/>
		<column name="ResponseBy" type="bigint"/>
		<column name="ResponseOn" type="datetime"/>
		<column name="CloserNotes" type="nchar"/>
		<column name="CloserBy" type="bigint"/>
		<column name="CloserOn" type="datetime"/>
		<column name="version" type="int"/>
		<column name="lastmntby" type="bigint"/>
		<column name="lastmnton" type="datetime"/>
		<column name="recordstatus" type="varchar(50)"/>
		<column name="rolecode" type="varchar(100)"/>
		<column name="nextrolecode" type="varchar(200)"/>
		<column name="taskid" type="varchar(50)"/>
		<column name="nexttaskid" type="varchar(200)"/>
		<column name="recordtype" type="varchar(50)"/>
		<column name="workflowid" type="bigint">
			<constraints nullable="false"/>
		</column>
	</createTable>
</changeSet>
<changeSet id="112" author="DSK">

	<createView viewName="QUERYDETAIL_AView" replaceIfExists="true">
		SELECT		T1.Id, T1.FinReference, T1.CategoryId, T1.QryNotes, T1.AssignedRole, T1.NotifyTo, T1.Status, T1.RaisedBy, T1.RaisedOn, T1.ResponsNotes, T1.ResponseBy, T1.ResponseOn, T1.CloserNotes, T1.CloserBy, T1.CloserOn		
					, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM    	QUERYDETAIL T1 
	</createView>

</changeSet>
<changeSet id="113" author="DSK">
	<createView viewName="QUERYDETAIL_View" replaceIfExists="true">
		SELECT		T1.Id, T1.FinReference, T1.CategoryId, T1.QryNotes, T1.AssignedRole, T1.NotifyTo, T1.Status, T1.RaisedBy, T1.RaisedOn, T1.ResponsNotes, T1.ResponseBy, T1.ResponseOn, T1.CloserNotes, T1.CloserBy, T1.CloserOn		
					, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM    	QUERYDETAIL_Temp T1 
		UNION ALL
	
		SELECT		T1.Id, T1.FinReference, T1.CategoryId, T1.QryNotes, T1.AssignedRole, T1.NotifyTo, T1.Status, T1.RaisedBy, T1.RaisedOn, T1.ResponsNotes, T1.ResponseBy, T1.ResponseOn, T1.CloserNotes, T1.CloserBy, T1.CloserOn		
					, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM    	QUERYDETAIL T1 
		WHERE     NOT EXISTS (SELECT 1 FROM QUERYDETAIL_TEMP WHERE Id = T1.Id)
	</createView>

</changeSet>
<changeSet id="114" author="DSK">
	<createSequence sequenceName="seqQUERYDETAIL" incrementBy="1" startValue="1" minValue="1" maxValue="999999999999999999"/>
</changeSet>
<changeSet id="106"  author="DSK">
	<sql>
	<!--  Give Rights for Query Management Module Newly Created on 08052018 by DSK -->
		update SeqPTMenuDetails set SeqNo = (SeqNo+2) ;
		update SeqSecGroups set SeqNo = (SeqNo+3) ;
		update SeqSecRights set SeqNo = (SeqNo+10+4) ;
		update SeqSecGroupRights set SeqNo = (SeqNo+11+4) ;
		update SeqSecRoleGroups set SeqNo = (SeqNo+2) ;
		
		insert into secrights values ((select max(rightid)+1 from secrights),0,'menuCat_LoanQueryEnquiry','MENU',1,'1000',CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
		insert into secrights values ((select max(rightid)+1 from secrights),0,'menuCat_LoanQuery','MENU',1,'1000',CURRENT_TIMESTAMP,null,null,null,null,null,null,0);
		INSERT INTO SecGroups SELECT (select (SeqNo+1) from SeqSecGroups), 'QUERYCATEGORY_VIEW', 'Allow to view QueryCategory', 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
		INSERT INTO SecGroups SELECT (select (SeqNo+2) from SeqSecGroups), 'QUERYCATEGORY_MAKER', 'WF Maker for QueryCategory', 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
		INSERT INTO SecGroups SELECT (select (SeqNo+3) from SeqSecGroups), 'QUERYCATEGORY_APPROVER', 'WF Approver for QueryCategory', 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+3) from SeqSecRights),0,'menuItem_LoanQuery_QueryCategory','MENU',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+4) from SeqSecRights),0,'menuItem_LoanQuery_QueryCategoryEnquiry','MENU',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+5) from SeqSecRights),2,'button_QueryCategoryList_PrintList','QueryCategoryList',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+6) from SeqSecRights),2,'button_QueryCategoryList_NewQueryCategory','QueryCategoryList',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+7) from SeqSecRights),2,'button_QueryCategoryDialog_btnNew','QueryCategoryDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+8) from SeqSecRights),2,'button_QueryCategoryDialog_btnEdit','QueryCategoryDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+9) from SeqSecRights),2,'button_QueryCategoryDialog_btnDelete','QueryCategoryDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+10) from SeqSecRights),2,'button_QueryCategoryDialog_btnSave','QueryCategoryDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+10+1) from SeqSecRights),3,'QueryCategoryDialog_Id','QueryCategoryDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+10+2) from SeqSecRights),3,'QueryCategoryDialog_Code','QueryCategoryDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+10+3) from SeqSecRights),3,'QueryCategoryDialog_Description','QueryCategoryDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecRights SELECT (select (SeqNo+10+4) from SeqSecRights),3,'QueryCategoryDialog_Active','QueryCategoryDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+1) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select RightID from SecRights WHERE RightName='menuCat_LoanQueryEnquiry'),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+2) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+4) from SeqSecRights),1,0,10000,current_timestamp,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+3) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select RightID from SecRights WHERE RightName='menuCat_LoanQuery'),1,0,10000,current_timestamp,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+4) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+3) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+5) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+6) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+6) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+9) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+7) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+8+1) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+1) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+8+2) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+2) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+8+3) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+3) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+8+4) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+4) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+9+4) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select RightID from SecRights WHERE RightName='menuCat_LoanQuery'),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+10+4) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+3) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+11+4) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+10) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		update SeqSecGroupRights set SeqNo = (SeqNo+11+4) ;
		INSERT INTO SecRoleGroups SELECT (select (SeqNo+1) from SeqSecRoleGroups), (select (SeqNo+2) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_MAKER'), 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
		INSERT INTO SecRoleGroups SELECT (select (SeqNo+2) from SeqSecRoleGroups), (select (SeqNo+3) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_APPROVER'), 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
		update SeqSecRoleGroups set SeqNo = (SeqNo+2) ;
		INSERT INTO PTMenuDetails SELECT (select (SeqNo+1) from SeqPTMenuDetails),(SELECT AppID FROM PTApplicationDetails WHERE AppCode='PFS'),'QueryCategory','menu_Item_QueryCategory','/WEB-INF/pages/LoanQuery/QueryCategory/QueryCategoryList.zul',0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0,'menuItem_LoanQuery_QueryCategory' FROM SeqPTMenuDetails WHERE 0=0;
		INSERT INTO PTMenuDetails SELECT (select (SeqNo+2) from SeqPTMenuDetails),(SELECT AppID FROM PTApplicationDetails WHERE AppCode='PFS'),'QueryCategoryEnquiry','menu_Item_QueryCategoryEnquiry?enqiryModule=Y" ','/WEB-INF/pages/LoanQuery/QueryCategory/QueryCategoryEnquiryList.zul',0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0,'menuItem_LoanQuery_QueryCategory' FROM SeqPTMenuDetails WHERE 0=0;
		update SeqPTMenuDetails set SeqNo = (SeqNo+2) ;
		update SeqSecGroups set SeqNo = (SeqNo+3) ;
		update SeqSecRights set SeqNo = (SeqNo+10+4) ;
</sql>
</changeSet>

<!-- 	<changeSet id="107" author="Durgaprasad G" >
		<dropView viewName="reasontypes_view" />
	</changeSet>

	<changeSet id="108" author="Durgaprasad G">
		<dropView viewName="reasontypes_aview" />
	</changeSet>

	<changeSet id="109" author="Durgaprasad G">
		<dropView viewName="reasons_view" />
	</changeSet>

	<changeSet id="110" author="Durgaprasad G">
		<dropView viewName="reasons_aview" />
	</changeSet> -->


	<changeSet id="111_Pre" author="Durgaprasad G" dbms="postgresql">
		<sql>
			SELECT public.deps_save_and_drop_dependencies('plf','reasontypes');
		</sql>
	</changeSet>

	<changeSet id="112_Pre" author="Durgaprasad G" dbms="postgresql">
		<sql>
			SELECT public.deps_save_and_drop_dependencies('plf','reasontypes_temp');
		</sql>
	</changeSet>

	<changeSet id="113" author="Durgaprasad G" dbms="postgresql">
		<modifyDataType tableName="REASONTYPES" columnName="Code" newDataType="varchar(10)" />
	</changeSet>

	<changeSet id="114" author="Durgaprasad G" dbms="postgresql">
		<modifyDataType tableName="REASONTYPES_TEMP" columnName="Code" newDataType="varchar(10)" />
	</changeSet>

	<changeSet id="115_Post" author="Durgaprasad G" dbms="postgresql">
		<sql>
			SELECT public.deps_restore_dependencies('plf','reasontypes');
		</sql>
	</changeSet>
	
	<changeSet id="116_Post" author="Durgaprasad G" dbms="postgresql">
		<sql>
			SELECT public.deps_restore_dependencies('plf','reasontypes_temp');
		</sql>
	</changeSet>
	
	<changeSet id="117_Pre" author="Durgaprasad G" dbms="postgresql">
		<sql>
			SELECT public.deps_save_and_drop_dependencies('plf','reasoncategory');
		</sql>
	</changeSet>
	<changeSet id="118_Pre" author="Durgaprasad G" dbms="postgresql">
		<sql>
			SELECT public.deps_save_and_drop_dependencies('plf','reasoncategory_temp');
		</sql>
	</changeSet>

	<changeSet id="119" author="Durgaprasad G" dbms="postgresql">
		<modifyDataType tableName="reasoncategory" columnName="Code" newDataType="varchar(10)" />
		<modifyDataType tableName="reasoncategory_temp" columnName="Code" newDataType="varchar(10)" />
	</changeSet>

	<changeSet id="120_Post" author="Durgaprasad G" dbms="postgresql">
		<sql>
			SELECT public.deps_restore_dependencies('plf','reasoncategory');
		</sql>
	</changeSet>
	
	<changeSet id="121_Post" author="Durgaprasad G" dbms="postgresql">
		<sql>
			SELECT public.deps_restore_dependencies('plf','reasoncategory_temp');
		</sql>
	</changeSet>

	<changeSet id="122" author="Durgaprasad G">
		<createView viewName="reasontypes_view" replaceIfExists="true">
			 SELECT t1.id,
			    t1.code,
			    t1.description,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid
			   FROM reasontypes_temp t1
			UNION ALL
			 SELECT t1.id,
			    t1.code,
			    t1.description,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid
			   FROM reasontypes t1
			  WHERE NOT (EXISTS ( SELECT 1
			           FROM reasontypes_temp
			          WHERE reasontypes_temp.id = t1.id))
      </createView>
	</changeSet>
	
	<changeSet id="123" author="Durgaprasad G">
		<createView viewName="reasontypes_aview" replaceIfExists="true">
			SELECT t1.id,
		    t1.code,
		    t1.description,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid
		   FROM reasontypes t1
	      </createView>
	</changeSet>
	
	<changeSet id="124" author="Durgaprasad G">
		<createView viewName="reasons_view" replaceIfExists="true">
			SELECT t1.id,
		    t1.reasontypeid,
		    t1.reasoncategoryid,
		    t1.code,
		    t1.description,
		    t1.active,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t2.code AS reasoncategorycode,
		    t3.code AS reasontypecode
		   FROM reasons_temp t1
		     JOIN reasoncategory t2 ON t1.reasoncategoryid = t2.id
		     JOIN reasontypes t3 ON t1.reasontypeid = t3.id
		UNION ALL
		 SELECT t1.id,
		    t1.reasontypeid,
		    t1.reasoncategoryid,
		    t1.code,
		    t1.description,
		    t1.active,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t2.code AS reasoncategorycode,
		    t3.code AS reasontypecode
		   FROM reasons t1
		     JOIN reasoncategory t2 ON t1.reasoncategoryid = t2.id
		     JOIN reasontypes t3 ON t1.reasontypeid = t3.id
		  WHERE NOT (EXISTS ( SELECT 1
		           FROM reasons_temp
		          WHERE reasons_temp.id = t1.id))
	     </createView>
	</changeSet>
	<changeSet id="125_Pre" author="Durgaprasad G" dbms="postgresql">
		<sql>
			SELECT public.deps_save_and_drop_dependencies('plf','reasons_aview');
		</sql>
	</changeSet>
	<changeSet id="125" author="Durgaprasad G">
		<createView viewName="reasons_aview" replaceIfExists="true">
			SELECT t1.id,
		    t1.reasontypeid,
		    t1.reasoncategoryid,
		    t1.code,
		    t1.description,
		    t1.active,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t2.code AS reasoncategorycode,
		    t3.code AS reasontypecode
		   FROM reasons t1
		     JOIN reasoncategory t2 ON t1.reasoncategoryid = t2.id
		     JOIN reasontypes t3 ON t1.reasontypeid = t3.id;
	     </createView>
	</changeSet>
		<changeSet id="125_Post" author="Durgaprasad G" dbms="postgresql">
		<sql>
			SELECT public.deps_restore_dependencies('plf','reasons_aview');
		</sql>
	</changeSet>
	<changeSet id="126" author="Amit">
		<createTable tableName="BatchUploadConfig">
			<column name="Label" type="nvarchar(50)">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="Url" type="VARCHAR2(500)" >
			<constraints primaryKey="false" nullable="false" />
			</column>
			<column name="IsActive" type="NUMBER(1,0)" defaultValue="1"/>
		</createTable>
	</changeSet>
	
	<changeSet id="127" author="Amit" >
		<sql>
		<![CDATA[Update Bmtdocumenttypes set doctypecode='MOA & AOA' where doctypecode='MOA';]]>
		</sql>
	</changeSet>
	
	<changeSet id="128" author="Amit">
     <addColumn tableName="BatchUploadConfig">
     	<column name="ExtraHeader" type="nvarchar(50)"/>
     </addColumn>
    </changeSet>
    <changeSet id="113" author="Amit">
		<sql>
			Insert into batchuploadconfig values ('ManualPayment','/finInstructionRest/loanInstructionService/manualPayment',1,'');
		</sql>
	</changeSet>
	<changeSet id="129"  author="DSK">
	<createTable tableName="QueryDocumentInfo">
		<column name="DocId" type="bigint"/>
		<column name="QueryDetailId" type="bigint"/>
		<column name="ManagerId" type="bigint"/>
		<column name="FileName" type="nchar"/>
		<column name="Remarks" type="varchar"/>
		<column name="UploadedBy" type="bigint"/>
		<column name="UploadedOn" type="datetime"/>
		<column name="version" type="int"/>
		<column name="lastmntby" type="bigint"/>
		<column name="lastmnton" type="datetime"/>
		<column name="recordstatus" type="varchar(50)"/>
		<column name="rolecode" type="varchar(100)"/>
		<column name="nextrolecode" type="varchar(200)"/>
		<column name="taskid" type="varchar(50)"/>
		<column name="nexttaskid" type="varchar(200)"/>
		<column name="recordtype" type="varchar(50)"/>
		<column name="workflowid" type="bigint">
			<constraints nullable="false"/>
		</column>
	</createTable>
</changeSet>

<changeSet id="130" author="DSK">
	<createTable tableName="QueryDocumentInfo_Temp">
		<column name="DocId" type="bigint"/>
		<column name="QueryDetailId" type="bigint"/>
		<column name="ManagerId" type="bigint"/>
		<column name="FileName" type="nchar"/>
		<column name="Remarks" type="varchar"/>
		<column name="UploadedBy" type="bigint"/>
		<column name="UploadedOn" type="datetime"/>
		<column name="version" type="int"/>
		<column name="lastmntby" type="bigint"/>
		<column name="lastmnton" type="datetime"/>
		<column name="recordstatus" type="varchar(50)"/>
		<column name="rolecode" type="varchar(100)"/>
		<column name="nextrolecode" type="varchar(200)"/>
		<column name="taskid" type="varchar(50)"/>
		<column name="nexttaskid" type="varchar(200)"/>
		<column name="recordtype" type="varchar(50)"/>
		<column name="workflowid" type="bigint">
			<constraints nullable="false"/>
		</column>
	</createTable>
</changeSet>

<changeSet id="121" author="DSK">
<sql>
	INSERT INTO SecGroups SELECT (select (SeqNo+1) from SeqSecGroups), 'QUERYDETAIL_VIEW', 'Allow to view QueryDetail', 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
	INSERT INTO SecGroups SELECT (select (SeqNo+2) from SeqSecGroups), 'QUERYDETAIL_MAKER', 'WF Maker for QueryDetail', 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
	INSERT INTO SecGroups SELECT (select (SeqNo+3) from SeqSecGroups), 'QUERYDETAIL_APPROVER', 'WF Approver for QueryDetail', 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+3) from SeqSecRights),0,'menuItem_LoanQuery_QueryDetail','MENU',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+4) from SeqSecRights),0,'menuItem_LoanQuery_QueryDetailEnquiry','MENU',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+5) from SeqSecRights),2,'button_QueryDetailList_PrintList','QueryDetailList',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+6) from SeqSecRights),2,'button_QueryDetailList_NewQueryDetail','QueryDetailList',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+7) from SeqSecRights),2,'button_QueryDetailDialog_btnNew','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+8) from SeqSecRights),2,'button_QueryDetailDialog_btnEdit','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+9) from SeqSecRights),2,'button_QueryDetailDialog_btnDelete','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10) from SeqSecRights),2,'button_QueryDetailDialog_btnSave','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+1) from SeqSecRights),3,'QueryDetailDialog_Id','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+2) from SeqSecRights),3,'QueryDetailDialog_FinReference','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+3) from SeqSecRights),3,'QueryDetailDialog_CategoryId','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+4) from SeqSecRights),3,'QueryDetailDialog_QryNotes','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+5) from SeqSecRights),3,'QueryDetailDialog_AssignedRole','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+6) from SeqSecRights),3,'QueryDetailDialog_NotifyTo','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+7) from SeqSecRights),3,'QueryDetailDialog_Status','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+8) from SeqSecRights),3,'QueryDetailDialog_RaisedBy','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+9) from SeqSecRights),3,'QueryDetailDialog_RaisedOn','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+10) from SeqSecRights),3,'QueryDetailDialog_ResponsNotes','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+11) from SeqSecRights),3,'QueryDetailDialog_ResponseBy','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+12) from SeqSecRights),3,'QueryDetailDialog_ResponseOn','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+13) from SeqSecRights),3,'QueryDetailDialog_CloserNotes','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+14) from SeqSecRights),3,'QueryDetailDialog_CloserBy','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecRights SELECT (select (SeqNo+10+15) from SeqSecRights),3,'QueryDetailDialog_CloserOn','QueryDetailDialog',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+1) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select max(RightID) from SecRights WHERE RightName='menuCat_LoanQueryEnquiry'),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+2) from SeqSecGroupRights), (select (SeqNo+1) from SeqSecGroups), (select (SeqNo+4) from SeqSecRights),1,0,10000,current_timestamp,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+3) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select max(RightID) from SecRights WHERE RightName='menuCat_LoanQuery'),1,0,10000,current_timestamp,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+4) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+3) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+5) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+6) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+6) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+9) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+7) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+1) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+1) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+2) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+2) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+3) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+3) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+4) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+4) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+5) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+5) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+6) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+6) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+7) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+7) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+8) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+8) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+9) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+9) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+10) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+10) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+11) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+11) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+12) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+12) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+13) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+13) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+14) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+14) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+8+15) from SeqSecGroupRights), (select (SeqNo+2) from SeqSecGroups), (select (SeqNo+10+15) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+9+15) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select max(RightID) from SecRights WHERE RightName='menuCat_LoanQuery'),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+10+15) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+3) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	INSERT INTO SecGroupRights SELECT (select (SeqNo+11+15) from SeqSecGroupRights), (select (SeqNo+3) from SeqSecGroups), (select (SeqNo+10) from SeqSecRights),1,0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
	update SeqSecGroupRights set SeqNo = (SeqNo+11+15) ;
	INSERT INTO SecRoleGroups SELECT (select (SeqNo+1) from SeqSecRoleGroups), (select (SeqNo+2) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_MAKER'), 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
	INSERT INTO SecRoleGroups SELECT (select (SeqNo+2) from SeqSecRoleGroups), (select (SeqNo+3) from SeqSecGroups), (select roleid from SecRoles where RoleCd='MSTGRP1_APPROVER'), 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
	update SeqSecRoleGroups set SeqNo = (SeqNo+2) ;
	INSERT INTO PTMenuDetails SELECT (select (SeqNo+1) from SeqPTMenuDetails),(SELECT AppID FROM PTApplicationDetails WHERE AppCode='PFS'),'QueryDetail','menu_Item_QueryDetail','/WEB-INF/pages/LoanQuery/QueryDetail/QueryDetailList.zul',0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0,'menuItem_LoanQuery_QueryDetail' FROM SeqPTMenuDetails WHERE 0=0;
	INSERT INTO PTMenuDetails SELECT (select (SeqNo+2) from SeqPTMenuDetails),(SELECT AppID FROM PTApplicationDetails WHERE AppCode='PFS'),'QueryDetailEnquiry','menu_Item_QueryDetailEnquiry?enqiryModule=Y" ','/WEB-INF/pages/LoanQuery/QueryDetail/QueryDetailEnquiryList.zul',0,10000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0,'menuItem_LoanQuery_QueryDetail' FROM SeqPTMenuDetails WHERE 0=0;
	update SeqPTMenuDetails set SeqNo = (SeqNo+2) ;
	update SeqSecGroups set SeqNo = (SeqNo+3) ;
	update SeqSecRights set SeqNo = (SeqNo+10+15) ;
	</sql>
</changeSet>
  <changeSet id="122" author="vijaykumar.L">
		<sql>
			update RejectFinanceMain set duebucket=0 where duebucket is null;
		</sql>
	</changeSet>
	<changeSet id="123" author="saikrishna.p">
		<sql>
		insert into ProcessEditorDetail (ModuleId, ModuleName, ModuleDesc) values (1, 'Cheque', 'Customer Return Cheques');
		</sql>
	</changeSet>
	
	<changeSet id="124" author="Vinay">
	<comment>Disbursement download for IMPS configurations</comment>
		<createTable tableName="INT_DSBIMPS_RESPONSE">
			<column name="CHANNELPARTNERREFNO" type="varchar(10)">
				<constraints nullable="false" />
			</column>
			<column name="TRANSACTIONID" type="varchar(15)">
				<constraints nullable="false"/>
			</column>
			<column name="STATUS" type="decimal(10,0)">
				<constraints nullable="false"/>
			</column>
			<column name="DESCRIPTION" type="varchar(200)">
				<constraints nullable="false"/>
			</column>
			<column name="PROCESSFLAG" type="varchar(1)">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="125" author="Vinay">
		<createTable tableName="INT_DSBIMPS_REQUEST">
			<column name="CHANNELPARTNERID" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="BCAGENTID" type="varchar(50)">
			</column>
			<column name="SENDERID" type="varchar(50)">
			</column>
			<column name="RECEIVERNAME" type="varchar(300)">
				<constraints nullable="false"/>
			</column>
			<column name="RECEIVERMOBILENO" type="varchar(105)">
			</column>
			<column name="RECEIVEREMAILID" type="varchar(105)">
			</column>
			<column name="IFSCODE" type="varchar(20)">
				<constraints nullable="false"/>
			</column>
			<column name="BANK" type="varchar(50)">
				<constraints nullable="false"/>
			</column>
			<column name="RECEVIERBANKSTATE" type="varchar(105)">
			</column>
			<column name="RECEVIERBANKCITY" type="varchar(35)">
			</column>
			<column name="RECEVIERBANKBRANCH" type="varchar(50)">
				<constraints nullable="false"/>
			</column>
			<column name="RECEVIERACCOUNTNUMBER" type="varchar(20)">
				<constraints nullable="false"/>
			</column>
			<column name="AMOUNT" type="decimal(16,2)">
				<constraints nullable="false"/>
			</column>
			<column name="REMARKS" type="varchar(10)">
			</column>
			<column name="CHANNELPARTNERREFNO" type="varchar(10)">
				<constraints nullable="false"/>
			</column>
			<column name="PICKUPFLAG" type="varchar(1)">
				<constraints nullable="false"/>
			</column>
			<column name="AGREEMENTID" type="bigint">
				<constraints nullable="false"/>
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="126" author="Vinay" dbms="oracle">
	<dropNotNullConstraint tableName="INT_DSBIMPS_REQUEST" columnName="CHANNELPARTNERID"/>
	</changeSet>
		<changeSet id="126" author="Vinay" dbms="postgresql">
	<dropNotNullConstraint tableName="INT_DSBIMPS_REQUEST" columnName="CHANNELPARTNERID"/>
	</changeSet>
		<changeSet id="126" author="Vinay" dbms="mssql">
	<dropNotNullConstraint tableName="INT_DSBIMPS_REQUEST" columnName="CHANNELPARTNERID" columnDataType="varchar(50)"/>
	</changeSet>
	
		<changeSet id="127" author="Vinay">
		<createView viewName="manualdeviations_view" replaceIfExists="true">
			SELECT t1.deviationid,
		    t1.code,
		    t1.description,
		    t1.module,
		    t1.categorization,
		    t1.severity,
		    t1.active,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t2.fieldcodevalue AS categorizationcode,
		    t2.valuedesc AS categorizationname
		   FROM manualdeviations_temp t1
		     JOIN rmtlovfielddetail t2 ON t1.categorization = t2.fieldcodeid
		UNION ALL
		 SELECT t1.deviationid,
		    t1.code,
		    t1.description,
		    t1.module,
		    t1.categorization,
		    t1.severity,
		    t1.active,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t2.fieldcodevalue AS categorizationcode,
		    t2.valuedesc AS categorizationname
		   FROM manualdeviations t1
		     JOIN rmtlovfielddetail t2 ON t1.categorization = t2.fieldcodeid
		  WHERE NOT (EXISTS ( SELECT 1
		           FROM manualdeviations_temp
		          WHERE manualdeviations_temp.deviationid = t1.deviationid))
		</createView>
		
		<createView viewName="manualdeviations_aview" replaceIfExists="true"> 
			SELECT t1.deviationid,
		    t1.code,
		    t1.description,
		    t1.module,
		    t1.categorization,
		    t1.severity,
		    t1.active,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t2.fieldcodevalue AS categorizationcode,
		    t2.valuedesc AS categorizationname
		   FROM manualdeviations t1
		     JOIN rmtlovfielddetail t2 ON t1.categorization = t2.fieldcodeid
		</createView>
	</changeSet>
	
	<changeSet id="128" author="Durgaprasad G">
	  <modifyDataType tableName="PRESENTMENT_REQ_DETAILS_TEMP" columnName="accountno" newDataType="varchar(50)" />
   </changeSet>
   
   <changeSet id="129" author="Durgaprasad G">
	  <modifyDataType tableName="PRESENTMENT_REQ_DETAILS" columnName="accountno" newDataType="varchar(50)" />
   </changeSet>
   <changeSet id="130" author="Madhubabu">
   <comment>changed the search criteria from code MOBILE to property </comment>
   	<createView viewName="Customers_AEView" replaceIfExists="true">
   		SELECT t1.custid,
	    t1.custcif,
	    t1.custcorebank,
	    t1.custctgcode,
	    t1.custtypecode,
	    t1.custshrtname,
	    t1.custfname,
	    t1.custlname,
	    t1.custdob,
	    t1.custnationality,
	    t1.custsector,
	    t1.custsubsector,
	    t2.phonenumber,
	    t2.phoneareacode,
	    t2.phonecountrycode,
	    t1.custcrcpr,
	    t1.custpassportno,
	    t3.custemail AS emailid,
	    t1.custaddlvar82,
	    t4.custtypedesc AS lovdesccusttypecodename,
	    t1.custbaseccy,
	    t4.custtypectg AS lovdesccustctgtype,
	    t5.custctgdesc AS lovdesccustctgcodename,
	    t6.custstsdescription AS lovdesccuststsname,
	    t1.custdftbranch,
	    t7.branchdesc AS lovdesccustdftbranchname,
	    T1.SubCategory,
	    T1.CasteId,
	    T1.ReligionId,
	    T8.CasteCode,
	    T8.CasteDesc, 
	    T9.ReligionCode,
	    T9.ReligionDesc,
	    COALESCE(t32.roledesc, ${add.schema}fn_get_roledesc(t1.nextrolecode)) AS lovdescrequeststage
	   	FROM customers t1
	     LEFT JOIN customerphonenumbers t2 ON t1.custid = t2.phonecustid AND t2.phonetypepriority = 5
	     LEFT JOIN customeremails t3 ON t1.custid = t3.custid AND t3.custemailtypecode = 'OFFICE'
	     LEFT JOIN rmtcusttypes t4 ON t1.custtypecode = t4.custtypecode
	     LEFT JOIN bmtcustcategories t5 ON t1.custctgcode = t5.custctgcode
	     LEFT JOIN bmtcuststatuscodes t6 ON t1.custsts = t6.custstscode
	     LEFT JOIN rmtbranches t7 ON t1.custdftbranch = t7.branchcode
	    LEFT JOIN Caste T8 ON T1.CasteId = T8.CasteId  LEFT OUTER JOIN
	    Religion T9 ON T1.ReligionId = T9.ReligionId
     LEFT JOIN secroles t32 ON t1.nextrolecode = t32.rolecd
   	</createView>
   </changeSet>
   <changeSet id="131" author="Madhubabu">
   <comment>  Department data optional through API </comment>
   	<createView viewName="customerempdetails_view" replaceIfExists="true">
   		SELECT ce.custempid,
	    ce.custid,
	    ce.custempname,
	    ce.custempfrom,
	    ce.custempto,
	    ce.custempdesg,
	    de.gendesgdesc AS lovdesccustempdesgname,
	    ce.custempdept,
	    dp.gendeptdesc AS lovdesccustempdeptname,
	    ce.custemptype,
	    et.emptypedesc AS lovdesccustemptypename,
	    ce.version,
	    ce.lastmntby,
	    ce.lastmnton,
	    ce.recordstatus,
	    ce.rolecode,
	    ce.nextrolecode,
	    ce.taskid,
	    ce.nexttaskid,
	    ce.recordtype,
	    ce.workflowid,
	    emp.empname AS lovdesccustempname,
	    ce.currentemployer
	   FROM customerempdetails_temp ce
	     JOIN rmtgendesignations de ON ce.custempdesg = de.gendesignation
	     LEFT JOIN rmtgendepartments dp ON ce.custempdept = dp.gendepartment
	     JOIN rmtemptypes et ON ce.custemptype = et.emptype
	     JOIN employerdetail emp ON ce.custempname = emp.employerid
	UNION ALL
	 SELECT ce.custempid,
	    ce.custid,
	    ce.custempname,
	    ce.custempfrom,
	    ce.custempto,
	    ce.custempdesg,
	    de.gendesgdesc AS lovdesccustempdesgname,
	    ce.custempdept,
	    dp.gendeptdesc AS lovdesccustempdeptname,
	    ce.custemptype,
	    et.emptypedesc AS lovdesccustemptypename,
	    ce.version,
	    ce.lastmntby,
	    ce.lastmnton,
	    ce.recordstatus,
	    ce.rolecode,
	    ce.nextrolecode,
	    ce.taskid,
	    ce.nexttaskid,
	    ce.recordtype,
	    ce.workflowid,
	    emp.empname AS lovdesccustempname,
	    ce.currentemployer
	   FROM customerempdetails ce
	     JOIN rmtgendesignations de ON ce.custempdesg = de.gendesignation
	     LEFT JOIN rmtgendepartments dp ON ce.custempdept = dp.gendepartment
	     JOIN rmtemptypes et ON ce.custemptype = et.emptype
	     JOIN employerdetail emp ON ce.custempname = emp.employerid
	  WHERE NOT (EXISTS ( SELECT 1 AS expr1
           FROM customerempdetails_temp
          WHERE customerempdetails_temp.custid = ce.custid))
   	</createView>
   </changeSet>
   <changeSet id="132" author="Srikanth">
   <sql>
   update ManualDeviations set severity = 5 where severity is null;
   </sql>
   </changeSet>
   
      <changeSet id="133" author="Durgaprasad g">
      <comment>Work flow roles for verificationssss</comment>
	   <sql>
			Update SeqSecRoles set seqno = (Select Max(roleid) from Secroles);
			delete from Secroles Where Rolecd = 'VERIFICATION_MAKER';
			delete from Secroles Where Rolecd = 'VERIFICATION_APPROVER';
			INSERT INTO SecRoles SELECT (select Max(roleid)+1 from Secroles), 1, 'VERIFICATION_MAKER', 'Verification Maker role Details','',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			INSERT INTO SecRoles SELECT (select Max(roleid)+1 from Secroles), 1, 'VERIFICATION_APPROVER', 'Verification Approver role Details','',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			Update SeqSecRoles set seqno = (Select Max(roleid) from Secroles);
	   </sql>
   </changeSet>
   <changeSet id="134" author="Jayant">
<sql>
update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_PROCESS';
</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)"/>
			<column name="WorkFlowType">VERIFICATION_PROCESS</column>
			<column name="WorkFlowSubType">Verification Workflow Process</column>
			<column name="WorkFlowDesc">Maker and checker work flow for verification modules.</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
            <column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_MAKER;VERIFICATION_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">5</column>
			<column name="LastMntBy">1000</column>		
			<column name="LastMntOn" valueDate="current_timestamp"/>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>	
     		<column name="RecordType">NULL</column>		
		</insert>	
	</changeSet>
	<changeSet id="135" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":800,"properties":{"process_id":"VERIFICATION_PROCESS","name":"Verification Workflow Process","documentation":"Maker and checker work flow for verification modules.","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-4DD5C3E3-D342-485C-94FC-9A6A7B1A2DD1"}],"bounds":{"lowerRight":{"x":150,"y":189.5},"upperLeft":{"x":120,"y":159.5}},"dockers":[]},{"resourceId":"sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_MAKER","firstName":"VERIFICATION_MAKER","fullName":"VERIFICATION_MAKER","id":"VERIFICATION_MAKER","roledesc":"Verification Maker","$$hashKey":"object:1604"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-D414966B-C869-4D64-AC2B-7CC9E5371054"},{"resourceId":"sid-7313B620-994A-46FC-96C0-A4699151BE4E"}],"bounds":{"lowerRight":{"x":321,"y":212},"upperLeft":{"x":225,"y":137}},"dockers":[]},{"resourceId":"sid-4DD5C3E3-D342-485C-94FC-9A6A7B1A2DD1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62"}],"bounds":{"lowerRight":{"x":224.5625,"y":174.5},"upperLeft":{"x":150.015625,"y":174.5}},"dockers":[{"x":15,"y":15},{"x":48,"y":37.5}],"target":{"resourceId":"sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62"}},{"resourceId":"sid-91391699-DC2A-4661-8A8F-F36343F42D85","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_APPROVER","firstName":"VERIFICATION_APPROVER","fullName":"VERIFICATION_APPROVER","id":"VERIFICATION_APPROVER","roledesc":"Verification Approver","$$hashKey":"object:3077"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-829CDF91-3B6C-4490-937A-F43F25D3529F"}],"bounds":{"lowerRight":{"x":529,"y":214.5},"upperLeft":{"x":429,"y":134.5}},"dockers":[]},{"resourceId":"sid-E17BB812-88D3-46BC-82D5-F6A234A2CECC","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":898,"y":188.5},"upperLeft":{"x":870,"y":160.5}},"dockers":[]},{"resourceId":"sid-AC357BD3-81B4-4D28-8EA3-6739CA835A1C","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-61E91B10-F7A7-43CF-A79F-112C17FB4FCC"},{"resourceId":"sid-43C4F6B3-4D2C-4D13-9708-8024E6EE0D4D"},{"resourceId":"sid-AA39A643-C7A0-4692-9CE5-BE7B41D5EA18"}],"bounds":{"lowerRight":{"x":640,"y":194.5},"upperLeft":{"x":600,"y":154.5}},"dockers":[]},{"resourceId":"sid-829CDF91-3B6C-4490-937A-F43F25D3529F","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-AC357BD3-81B4-4D28-8EA3-6739CA835A1C"}],"bounds":{"lowerRight":{"x":599.2656396088837,"y":174.88521967356152},"upperLeft":{"x":529.7226416411163,"y":174.50931157643848}},"dockers":[{"x":99,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-AC357BD3-81B4-4D28-8EA3-6739CA835A1C"}},{"resourceId":"sid-43C4F6B3-4D2C-4D13-9708-8024E6EE0D4D","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA"}],"bounds":{"lowerRight":{"x":620.4177083695018,"y":254.62500868044253},"upperLeft":{"x":620.1682291304982,"y":194.74999131955747}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA"}},{"resourceId":"sid-AA39A643-C7A0-4692-9CE5-BE7B41D5EA18","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A7F20BB0-E2D1-4D10-BC95-80D2466CDC56"}],"bounds":{"lowerRight":{"x":719.9453180927317,"y":174.93415553709943},"upperLeft":{"x":640.1874944072683,"y":174.66740696290057}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-A7F20BB0-E2D1-4D10-BC95-80D2466CDC56"}},{"resourceId":"sid-61E91B10-F7A7-43CF-A79F-112C17FB4FCC","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62"}],"bounds":{"lowerRight":{"x":624,"y":158.03125},"upperLeft":{"x":273,"y":92}},"dockers":[{"x":24,"y":20},{"x":624,"y":92},{"x":273,"y":92},{"x":48,"y":37.5}],"target":{"resourceId":"sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62"}},{"resourceId":"sid-D414966B-C869-4D64-AC2B-7CC9E5371054","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus='Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":false,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-91391699-DC2A-4661-8A8F-F36343F42D85"}],"bounds":{"lowerRight":{"x":428.109375,"y":174.5},"upperLeft":{"x":321.4765625,"y":174.5}},"dockers":[{"x":48,"y":37.5},{"x":50,"y":40}],"target":{"resourceId":"sid-91391699-DC2A-4661-8A8F-F36343F42D85"}},{"resourceId":"sid-7313B620-994A-46FC-96C0-A4699151BE4E","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus='Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA"}],"bounds":{"lowerRight":{"x":569.525390625,"y":295},"upperLeft":{"x":273,"y":212.21484375}},"dockers":[{"x":48,"y":37.5},{"x":273,"y":295},{"x":50,"y":40}],"target":{"resourceId":"sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA"}},{"resourceId":"sid-433E8F9A-CBBF-4FFE-A767-F3678EBAC2DE","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":634,"y":412},"upperLeft":{"x":606,"y":384}},"dockers":[]},{"resourceId":"sid-9AC9142F-00E6-4F6F-990C-66845C336563","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-433E8F9A-CBBF-4FFE-A767-F3678EBAC2DE"}],"bounds":{"lowerRight":{"x":620,"y":383.3203125},"upperLeft":{"x":620,"y":335.4296875}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-433E8F9A-CBBF-4FFE-A767-F3678EBAC2DE"}},{"resourceId":"sid-A7F20BB0-E2D1-4D10-BC95-80D2466CDC56","properties":{"overrideid":"","name":"Approve","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-43EDB82A-59D8-42C1-B2A2-2D6041A30D8D"}],"bounds":{"lowerRight":{"x":820,"y":214.5},"upperLeft":{"x":720,"y":134.5}},"dockers":[]},{"resourceId":"sid-43EDB82A-59D8-42C1-B2A2-2D6041A30D8D","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-E17BB812-88D3-46BC-82D5-F6A234A2CECC"}],"bounds":{"lowerRight":{"x":869.640625,"y":174.5},"upperLeft":{"x":820.875,"y":174.5}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-E17BB812-88D3-46BC-82D5-F6A234A2CECC"}},{"resourceId":"sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA","properties":{"overrideid":"","name":"Reject","rerunnable":true,"servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9AC9142F-00E6-4F6F-990C-66845C336563"}],"bounds":{"lowerRight":{"x":670,"y":335},"upperLeft":{"x":570,"y":255}},"dockers":[]}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
     		<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="VERIFICATION_PROCESS" name="Verification Workflow Process" isExecutable="true"><documentation>Maker and checker work flow for verification modules.</documentation><startEvent id="startEvent1" name="Start"/><userTask id="sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62" name="Maker" activiti:actor="VERIFICATION_MAKER" activiti:assignmentLevel="Role Queue"/><sequenceFlow id="sid-4DD5C3E3-D342-485C-94FC-9A6A7B1A2DD1" sourceRef="startEvent1" targetRef="sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62" representsUserAction="false" mandateNotes="false" captureReasons="false"/><userTask id="sid-91391699-DC2A-4661-8A8F-F36343F42D85" name="Approver" activiti:actor="VERIFICATION_APPROVER" activiti:assignmentLevel="Role Queue"/><endEvent id="sid-E17BB812-88D3-46BC-82D5-F6A234A2CECC" name="Approved"/><exclusiveGateway id="sid-AC357BD3-81B4-4D28-8EA3-6739CA835A1C"/><sequenceFlow id="sid-829CDF91-3B6C-4490-937A-F43F25D3529F" sourceRef="sid-91391699-DC2A-4661-8A8F-F36343F42D85" targetRef="sid-AC357BD3-81B4-4D28-8EA3-6739CA835A1C" representsUserAction="false" mandateNotes="false" captureReasons="false"/><sequenceFlow id="sid-43C4F6B3-4D2C-4D13-9708-8024E6EE0D4D" name="Reject" sourceRef="sid-AC357BD3-81B4-4D28-8EA3-6739CA835A1C" targetRef="sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-AA39A643-C7A0-4692-9CE5-BE7B41D5EA18" name="Approve" sourceRef="sid-AC357BD3-81B4-4D28-8EA3-6739CA835A1C" targetRef="sid-A7F20BB0-E2D1-4D10-BC95-80D2466CDC56" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-61E91B10-F7A7-43CF-A79F-112C17FB4FCC" name="Resubmit" sourceRef="sid-AC357BD3-81B4-4D28-8EA3-6739CA835A1C" targetRef="sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-D414966B-C869-4D64-AC2B-7CC9E5371054" name="Submit" sourceRef="sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62" targetRef="sid-91391699-DC2A-4661-8A8F-F36343F42D85" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus='Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-7313B620-994A-46FC-96C0-A4699151BE4E" name="Cancel" sourceRef="sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62" targetRef="sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus='Cancelled'</conditionExpression></sequenceFlow><endEvent id="sid-433E8F9A-CBBF-4FFE-A767-F3678EBAC2DE" name="Rejected"/><sequenceFlow id="sid-9AC9142F-00E6-4F6F-990C-66845C336563" sourceRef="sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA" targetRef="sid-433E8F9A-CBBF-4FFE-A767-F3678EBAC2DE" representsUserAction="false" mandateNotes="false" captureReasons="false"/><serviceTask id="sid-A7F20BB0-E2D1-4D10-BC95-80D2466CDC56" name="Approve" activiti:operation="doApprove" activiti:rerunnable="true"/><sequenceFlow id="sid-43EDB82A-59D8-42C1-B2A2-2D6041A30D8D" sourceRef="sid-A7F20BB0-E2D1-4D10-BC95-80D2466CDC56" targetRef="sid-E17BB812-88D3-46BC-82D5-F6A234A2CECC" representsUserAction="false" mandateNotes="false" captureReasons="false"/><serviceTask id="sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA" name="Reject" activiti:operation="doReject" activiti:rerunnable="true"/></process><bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_PROCESS"><bpmndi:BPMNPlane bpmnElement="VERIFICATION_PROCESS" id="BPMNPlane_VERIFICATION_PROCESS"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="120.0" y="159.5"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62" id="BPMNShape_sid-A9E636AA-7E44-4C5D-9DE4-42EB927AEA62"><omgdc:Bounds height="75.0" width="96.0" x="225.0" y="137.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-91391699-DC2A-4661-8A8F-F36343F42D85" id="BPMNShape_sid-91391699-DC2A-4661-8A8F-F36343F42D85"><omgdc:Bounds height="80.0" width="100.0" x="429.0" y="134.5"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-E17BB812-88D3-46BC-82D5-F6A234A2CECC" id="BPMNShape_sid-E17BB812-88D3-46BC-82D5-F6A234A2CECC"><omgdc:Bounds height="28.0" width="28.0" x="870.0" y="160.5"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-AC357BD3-81B4-4D28-8EA3-6739CA835A1C" id="BPMNShape_sid-AC357BD3-81B4-4D28-8EA3-6739CA835A1C"><omgdc:Bounds height="40.0" width="40.0" x="600.0" y="154.5"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-433E8F9A-CBBF-4FFE-A767-F3678EBAC2DE" id="BPMNShape_sid-433E8F9A-CBBF-4FFE-A767-F3678EBAC2DE"><omgdc:Bounds height="28.0" width="28.0" x="606.0" y="384.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-A7F20BB0-E2D1-4D10-BC95-80D2466CDC56" id="BPMNShape_sid-A7F20BB0-E2D1-4D10-BC95-80D2466CDC56"><omgdc:Bounds height="80.0" width="100.0" x="720.0" y="134.5"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA" id="BPMNShape_sid-25743403-BF24-474E-AD9E-C2A36FCB0FDA"><omgdc:Bounds height="80.0" width="100.0" x="570.0" y="255.0"/></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-61E91B10-F7A7-43CF-A79F-112C17FB4FCC" id="BPMNEdge_sid-61E91B10-F7A7-43CF-A79F-112C17FB4FCC"><omgdi:waypoint x="624.0" y="158.5"/><omgdi:waypoint x="624.0" y="92.0"/><omgdi:waypoint x="273.0" y="92.0"/><omgdi:waypoint x="273.0" y="137.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-43EDB82A-59D8-42C1-B2A2-2D6041A30D8D" id="BPMNEdge_sid-43EDB82A-59D8-42C1-B2A2-2D6041A30D8D"><omgdi:waypoint x="820.0" y="174.5"/><omgdi:waypoint x="870.0" y="174.5"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-829CDF91-3B6C-4490-937A-F43F25D3529F" id="BPMNEdge_sid-829CDF91-3B6C-4490-937A-F43F25D3529F"><omgdi:waypoint x="529.0" y="174.5054054054054"/><omgdi:waypoint x="600.3913043478261" y="174.8913043478261"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9AC9142F-00E6-4F6F-990C-66845C336563" id="BPMNEdge_sid-9AC9142F-00E6-4F6F-990C-66845C336563"><omgdi:waypoint x="620.0" y="335.0"/><omgdi:waypoint x="620.0" y="384.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-7313B620-994A-46FC-96C0-A4699151BE4E" id="BPMNEdge_sid-7313B620-994A-46FC-96C0-A4699151BE4E"><omgdi:waypoint x="273.0" y="212.0"/><omgdi:waypoint x="273.0" y="295.0"/><omgdi:waypoint x="570.0" y="295.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-43C4F6B3-4D2C-4D13-9708-8024E6EE0D4D" id="BPMNEdge_sid-43C4F6B3-4D2C-4D13-9708-8024E6EE0D4D"><omgdi:waypoint x="620.4205020920502" y="194.0794979079498"/><omgdi:waypoint x="620.1666666666666" y="255.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-AA39A643-C7A0-4692-9CE5-BE7B41D5EA18" id="BPMNEdge_sid-AA39A643-C7A0-4692-9CE5-BE7B41D5EA18"><omgdi:waypoint x="639.5637583892617" y="174.93624161073825"/><omgdi:waypoint x="720.0" y="174.66722408026754"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-4DD5C3E3-D342-485C-94FC-9A6A7B1A2DD1" id="BPMNEdge_sid-4DD5C3E3-D342-485C-94FC-9A6A7B1A2DD1"><omgdi:waypoint x="150.0" y="174.5"/><omgdi:waypoint x="225.0" y="174.5"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-D414966B-C869-4D64-AC2B-7CC9E5371054" id="BPMNEdge_sid-D414966B-C869-4D64-AC2B-7CC9E5371054"><omgdi:waypoint x="321.0" y="174.5"/><omgdi:waypoint x="429.0" y="174.5"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='VERIFICATION_PROCESS'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="136" author="Jayant">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
</changeSet>

<changeSet id="136" author="vijaykumar.l">
	<sql>
Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'finPurpose';

 Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
('ELGRULE','ELGRULE','finPurpose','Loan Purpose','nvarchar',8,'0','1','LoanPurposes','static,dbvalue','LoanPurpose');

Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Co_Applicants_Count';

Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
('ELGRULE','ELGRULE','Co_Applicants_Count','Loan Co Applicants Count','int',10,'0','0','LoanPurposes','static',null);

Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Guarantors_Bank_CustomerCount';

Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
('ELGRULE','ELGRULE','Guarantors_Bank_CustomerCount','Guarantors Bank Customer Count','int',10,'0','0','LoanPurposes','static',null);


Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Guarantors_Other_CustomerCount';

Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
('ELGRULE','ELGRULE','Guarantors_Other_CustomerCount','Guarantors Other Customer Count','int',10,'0','0','LoanPurposes','static',null);

Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Guarantors_Total_Count';

Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
('ELGRULE','ELGRULE','Guarantors_Total_Count','Guarantors Total Count','int',10,'0','0','LoanPurposes','static',null);

Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Collateral_Bank_Valuation';

Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
('ELGRULE','ELGRULE','Collateral_Bank_Valuation','Collateral Bank Valuation','decimal',18,'0','0','LoanPurposes','static',null);

Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Collaterals_Total_Assigned';

Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
('ELGRULE','ELGRULE','Collaterals_Total_Assigned','Collaterals Total Assigned Amount','decimal',18,'0','0','LoanPurposes','static',null);

Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Collaterals_Total_UN_Assigned';

Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
('ELGRULE','ELGRULE','Collaterals_Total_UN_Assigned','Collaterals Total UN Assigned Amount','decimal',18,'0','0','LoanPurposes','static',null);

	</sql>
   </changeSet>
   
   <changeSet id="137" author="Durga Prasad G">
		   <sql>
					delete from Secroles Where Rolecd = 'VERIFICATION_FI_MAKER';
					delete from Secroles Where Rolecd = 'VERIFICATION_FI_APPROVER';
					delete from Secroles Where Rolecd = 'VERIFICATION_LV_MAKER';
					delete from Secroles Where Rolecd = 'VERIFICATION_LV_APPROVER';
					delete from Secroles Where Rolecd = 'VERIFICATION_TV_MAKER';
					delete from Secroles Where Rolecd = 'VERIFICATION_TV_APPROVER';
					delete from Secroles Where Rolecd = 'VERIFICATION_RCU_MAKER';
					delete from Secroles Where Rolecd = 'VERIFICATION_RCU_APPROVER';
					
					Update SeqSecRoles set seqno = (Select Max(roleid) from Secroles_view);
					INSERT INTO SecRoles SELECT (select seqno+1 from SeqSecRoles), 1, 'VERIFICATION_FI_MAKER', 'Field Invistigation Verification Maker Role',null,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0 FROM SeqSecRoleGroups WHERE 0=0;
					INSERT INTO SecRoles SELECT (select seqno+2 from SeqSecRoles), 1, 'VERIFICATION_FI_APPROVER', 'Field Invistigation Verification Approver Role',null,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0 FROM SeqSecRoleGroups WHERE 0=0;
					INSERT INTO SecRoles SELECT (select seqno+3 from SeqSecRoles), 1, 'VERIFICATION_LV_MAKER', 'Legal Verification  Maker Role',null,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0 FROM SeqSecRoleGroups WHERE 0=0;
					INSERT INTO SecRoles SELECT (select seqno+4 from SeqSecRoles), 1, 'VERIFICATION_LV_APPROVER', 'Legal Verification Approver Role',null,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0 FROM SeqSecRoleGroups WHERE 0=0;
					INSERT INTO SecRoles SELECT (select seqno+5 from SeqSecRoles), 1, 'VERIFICATION_TV_MAKER', 'Technical Verification Maker Role',null,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0 FROM SeqSecRoleGroups WHERE 0=0;
					INSERT INTO SecRoles SELECT (select seqno+6 from SeqSecRoles), 1, 'VERIFICATION_TV_APPROVER', 'Technical Verification Approver Role',null,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0 FROM SeqSecRoleGroups WHERE 0=0;
					INSERT INTO SecRoles SELECT (select seqno+7 from SeqSecRoles), 1, 'VERIFICATION_RCU_MAKER', 'RCU Verification Maker Role',null,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0 FROM SeqSecRoleGroups WHERE 0=0;
					INSERT INTO SecRoles SELECT (select seqno+8 from SeqSecRoles), 1, 'VERIFICATION_RCU_APPROVER', 'RCU Verification Approver Role',null,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0 FROM SeqSecRoleGroups WHERE 0=0;
					Update SeqSecRoles set seqno = (Select Max(roleid) from Secroles_view);
					
							
					Delete from SecRoleGroups where roleid in(Select roleid from secroles where rolecd in('MSTGRP1_MAKER','MSTGRP1_APPROVER')) and grpid in(Select grpid from secgroups where grpcode IN('TECHNICALVERIFICATION_MAKER','TECHNICALVERIFICATION_APPROVER'));
					Delete from SecRoleGroups where roleid in(Select roleid from secroles where rolecd in('MSTGRP1_MAKER','MSTGRP1_APPROVER')) and grpid in(Select grpid from secgroups where grpcode IN('FIELDINVESTIGATION_MAKER','FIELDINVESTIGATION_APPROVER'));
					Delete from SecRoleGroups where roleid in(Select roleid from secroles where rolecd in('MSTGRP1_MAKER','MSTGRP1_APPROVER')) and grpid in(Select grpid from secgroups where grpcode IN('RCU_VERIFICATION_MAKER','RCU_VERIFICATION_APPROVER'));
					Delete from SecRoleGroups where roleid in(Select roleid from secroles where rolecd in('MSTGRP1_MAKER','MSTGRP1_APPROVER')) and grpid in(Select grpid from secgroups where grpcode IN('LEGALVERIFICATION_MAKER','LEGALVERIFICATION_APPROVER'));
					
					UPDATE seqSecRoleGroups SET seqno= (SELECT MAX(rolegrpid) FROM secrolegroups_view);
					Insert into secRoleGroups values ((select seqno+1 from SeqSecRoles),(select GrpID from SecGroups where grpCode='TECHNICALVERIFICATION_MAKER'),(select RoleID from secRoles where RoleCd='VERIFICATION_TV_MAKER'), 0,1000,current_timestamp,'Approved','','','','','',0);
					Insert into secRoleGroups values ((select seqno+2 from SeqSecRoles),(select GrpID from SecGroups where grpCode='TECHNICALVERIFICATION_APPROVER'),(select RoleID from secRoles where RoleCd='VERIFICATION_TV_APPROVER'), 0,1000,current_timestamp,'Approved','','','','','',0);
					Insert into secRoleGroups values((select seqno+3 from SeqSecRoles),(select GrpID from SecGroups where grpCode='RCU_VERIFICATION_MAKER'),(select RoleID from secRoles where RoleCd='VERIFICATION_RCU_MAKER'),0,1000,current_timestamp,'Approved','','','','','',0);
					Insert into secRoleGroups values((select seqno+4 from SeqSecRoles),(select GrpID from SecGroups where grpCode='RCU_VERIFICATION_APPROVER'),(select RoleID from secRoles where RoleCd='VERIFICATION_RCU_APPROVER'),0,1000,current_timestamp,'Approved','','','','','',0);   						
					Insert into secrolegroups values ((select seqno+5 from SeqSecRoles), (select grpid from secgroups where grpcode='FIELDINVESTIGATION_MAKER'), (select roleid from secroles where rolecd='VERIFICATION_FI_MAKER'), 0,1000, current_timestamp,'Approved',' ',' ',' ',' ',' ',0);
					Insert into secrolegroups values ((select seqno+6 from SeqSecRoles), (select grpid from secgroups where grpcode='FIELDINVESTIGATION_APPROVER'), (select roleid from secroles where rolecd='VERIFICATION_FI_APPROVER'), 0,1000, current_timestamp,'Approved',' ',' ',' ',' ',' ',0);
					Insert into secRoleGroups values((select seqno+7 from SeqSecRoles),(select GrpID from SecGroups where grpCode='LEGALVERIFICATION_MAKER'),(select RoleID from secRoles where RoleCd='VERIFICATION_LV_MAKER'),0,1000,current_timestamp,'Approved','','','','','',0);
					Insert into secRoleGroups values((select seqno+8 from SeqSecRoles),(select GrpID from SecGroups where grpCode='LEGALVERIFICATION_APPROVER'),(select RoleID from secRoles where RoleCd='VERIFICATION_LV_APPROVER'),0,1000,current_timestamp,'Approved','','','','','',0);
					update seqsecrolegroups set seqno=(select max(rolegrpid) from secrolegroups_view);
					
					
					Update secgroups Set grpcode = 'VERIFICATION_TV_MAKER' Where grpcode = 'TECHNICALVERIFICATION_MAKER';
					Update secgroups Set grpcode = 'VERIFICATION_TV_APPROVER' Where grpcode = 'TECHNICALVERIFICATION_APPROVER';
					Update secgroups Set grpcode = 'VERIFICATION_RCU_MAKER' Where grpcode = 'RCU_VERIFICATION_MAKER';
					Update secgroups Set grpcode = 'VERIFICATION_RCU_APPROVER' Where grpcode = 'RCU_VERIFICATION_APPROVER';
					Update secgroups Set grpcode = 'VERIFICATION_FI_MAKER' Where grpcode = 'FIELDINVESTIGATION_MAKER';
					Update secgroups Set grpcode = 'VERIFICATION_FI_APPROVER' Where grpcode = 'FIELDINVESTIGATION_APPROVER';
					Update secgroups Set grpcode = 'VERIFICATION_LV_MAKER' Where grpcode = 'LEGALVERIFICATION_MAKER';
					Update secgroups Set grpcode = 'VERIFICATION_LV_APPROVER' Where grpcode = 'LEGALVERIFICATION_APPROVER';
		   </sql>
   </changeSet>
   <changeSet id="138" author="Jayant">
   		<sql>
			update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_FI';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)"/>
			<column name="WorkFlowType">VERIFICATION_FI</column>
			<column name="WorkFlowSubType">VERIFICATION_FI</column>
			<column name="WorkFlowDesc">Field Investigation Verification</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
            <column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_FI_MAKER;VERIFICATION_FI_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_FI_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>		
			<column name="LastMntOn" valueDate="current_timestamp"/>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>	
     		<column name="RecordType">NULL</column>		
		</insert>	
	</changeSet>
	<changeSet id="139" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":"canvas","properties":{"process_id":"VERIFICATION_FI","name":"VERIFICATION_FI","documentation":"Field Investigation Verification","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-2F54590C-F1D2-4447-B487-D13A1AA0D196"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B","properties":{"overrideid":"","name":"VERIFICATION_FI_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_FI_MAKER","firstName":"VERIFICATION_FI_MAKER","fullName":"VERIFICATION_FI_MAKER","id":"VERIFICATION_FI_MAKER","roledesc":"Field Invistigation Verification Maker Role","$$hashKey":"object:3152"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0"},{"resourceId":"sid-873DF7C4-7BCB-4C45-BB35-2299075C20C6"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-2F54590C-F1D2-4447-B487-D13A1AA0D196","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}},{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4","properties":{"overrideid":"","name":"VERIFICATION_FI_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_FI_APPROVER","firstName":"VERIFICATION_FI_APPROVER","fullName":"VERIFICATION_FI_APPROVER","id":"VERIFICATION_FI_APPROVER","roledesc":"Field Invistigation Verification Approver Role","$$hashKey":"object:4005"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB"}],"bounds":{"lowerRight":{"x":550,"y":218},"upperLeft":{"x":450,"y":138}},"dockers":[]},{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C"},{"resourceId":"sid-E82A1014-BBF2-4166-A4DF-433883518CB0"},{"resourceId":"sid-8BBBEB5A-238D-4591-B36C-501CA93FAD59"}],"bounds":{"lowerRight":{"x":685,"y":198},"upperLeft":{"x":645,"y":158}},"dockers":[]},{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-00B5AFB8-379A-48A1-888B-F6E24EC76394"}],"bounds":{"lowerRight":{"x":852.8333435058594,"y":218},"upperLeft":{"x":752.8333435058594,"y":138}},"dockers":[]},{"resourceId":"sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06","properties":{"overrideid":"","name":"Cancel Process","rerunnable":true,"servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-A47409DE-FEAD-4994-B8C6-F8821EC9456A"}],"bounds":{"lowerRight":{"x":715,"y":361},"upperLeft":{"x":615,"y":281}},"dockers":[]},{"resourceId":"sid-8720B4FF-6067-431A-A4E6-3EB31E92E882","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":788,"y":335},"upperLeft":{"x":760,"y":307}},"dockers":[]},{"resourceId":"sid-A47409DE-FEAD-4994-B8C6-F8821EC9456A","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-8720B4FF-6067-431A-A4E6-3EB31E92E882"}],"bounds":{"lowerRight":{"x":759.375,"y":321},"upperLeft":{"x":715.390625,"y":321}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-8720B4FF-6067-431A-A4E6-3EB31E92E882"}},{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":925.8333435058594,"y":192},"upperLeft":{"x":897.8333435058594,"y":164}},"dockers":[]},{"resourceId":"sid-00B5AFB8-379A-48A1-888B-F6E24EC76394","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"}],"bounds":{"lowerRight":{"x":897.2083435058594,"y":178},"upperLeft":{"x":853.2239685058594,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"}},{"resourceId":"sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"}],"bounds":{"lowerRight":{"x":449.78125,"y":178},"upperLeft":{"x":325.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"}},{"resourceId":"sid-873DF7C4-7BCB-4C45-BB35-2299075C20C6","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06"}],"bounds":{"lowerRight":{"x":614.48828125,"y":321},"upperLeft":{"x":275,"y":218.1015625}},"dockers":[{"x":50,"y":40},{"x":275,"y":321},{"x":50,"y":40}],"target":{"resourceId":"sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06"}},{"resourceId":"sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}],"bounds":{"lowerRight":{"x":665.5,"y":157.421875},"upperLeft":{"x":275,"y":50}},"dockers":[{"x":20.5,"y":20.5},{"x":665.5,"y":50},{"x":275,"y":50},{"x":50,"y":40}],"target":{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}},{"resourceId":"sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"}],"bounds":{"lowerRight":{"x":644.4589889386365,"y":178.43643199075117},"upperLeft":{"x":550.1328079363635,"y":178.15145863424883}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"}},{"resourceId":"sid-8BBBEB5A-238D-4591-B36C-501CA93FAD59","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06"}],"bounds":{"lowerRight":{"x":665.430084999669,"y":280.47852178068337},"upperLeft":{"x":665.142180625331,"y":198.4257750943166}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06"}},{"resourceId":"sid-E82A1014-BBF2-4166-A4DF-433883518CB0","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"}],"bounds":{"lowerRight":{"x":752.4791798110018,"y":178.42604674770013},"upperLeft":{"x":685.8124948029508,"y":178.18332825229987}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"}}],"bounds":{"lowerRight":{"x":1200,"y":450},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
     		<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="VERIFICATION_FI" name="VERIFICATION_FI" isExecutable="true"><documentation>Field Investigation Verification</documentation><startEvent id="startEvent1" name="Start"/><userTask id="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" name="VERIFICATION_FI_MAKER" activiti:actor="VERIFICATION_FI_MAKER" activiti:assignmentLevel="Role Queue"/><sequenceFlow id="sid-2F54590C-F1D2-4447-B487-D13A1AA0D196" sourceRef="startEvent1" targetRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" representsUserAction="false" mandateNotes="false" captureReasons="false"/><userTask id="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" name="VERIFICATION_FI_APPROVER" activiti:actor="VERIFICATION_FI_APPROVER" activiti:assignmentLevel="Role Queue"/><exclusiveGateway id="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"/><serviceTask id="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/><serviceTask id="sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/><endEvent id="sid-8720B4FF-6067-431A-A4E6-3EB31E92E882" name="Rejected"/><sequenceFlow id="sid-A47409DE-FEAD-4994-B8C6-F8821EC9456A" sourceRef="sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06" targetRef="sid-8720B4FF-6067-431A-A4E6-3EB31E92E882" representsUserAction="false" mandateNotes="false" captureReasons="false"/><endEvent id="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" name="Approved"/><sequenceFlow id="sid-00B5AFB8-379A-48A1-888B-F6E24EC76394" sourceRef="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" targetRef="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" representsUserAction="false" mandateNotes="false" captureReasons="false"/><sequenceFlow id="sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0" name="Submit" sourceRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" targetRef="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-873DF7C4-7BCB-4C45-BB35-2299075C20C6" name="Cancel" sourceRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" targetRef="sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow><sequenceFlow id="sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C" name="Resubmit" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB" sourceRef="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" targetRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" representsUserAction="false" mandateNotes="false" captureReasons="false"/><sequenceFlow id="sid-8BBBEB5A-238D-4591-B36C-501CA93FAD59" name="Reject" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-E82A1014-BBF2-4166-A4DF-433883518CB0" name="Approve" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow></process><bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_FI"><bpmndi:BPMNPlane bpmnElement="VERIFICATION_FI" id="BPMNPlane_VERIFICATION_FI"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" id="BPMNShape_sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"><omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" id="BPMNShape_sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"><omgdc:Bounds height="80.0" width="100.0" x="450.0" y="138.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" id="BPMNShape_sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"><omgdc:Bounds height="40.0" width="40.0" x="645.0" y="158.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" id="BPMNShape_sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"><omgdc:Bounds height="80.0" width="100.0" x="752.8333435058594" y="138.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06" id="BPMNShape_sid-1CB3D9BE-A213-4687-96F4-FF7FEDB92E06"><omgdc:Bounds height="80.0" width="100.0" x="615.0" y="281.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-8720B4FF-6067-431A-A4E6-3EB31E92E882" id="BPMNShape_sid-8720B4FF-6067-431A-A4E6-3EB31E92E882"><omgdc:Bounds height="28.0" width="28.0" x="760.0" y="307.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" id="BPMNShape_sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"><omgdc:Bounds height="28.0" width="28.0" x="897.8333435058594" y="164.0"/></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C" id="BPMNEdge_sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C"><omgdi:waypoint x="665.5" y="158.5"/><omgdi:waypoint x="665.5" y="50.0"/><omgdi:waypoint x="275.0" y="50.0"/><omgdi:waypoint x="275.0" y="138.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-A47409DE-FEAD-4994-B8C6-F8821EC9456A" id="BPMNEdge_sid-A47409DE-FEAD-4994-B8C6-F8821EC9456A"><omgdi:waypoint x="715.0" y="321.0"/><omgdi:waypoint x="760.0" y="321.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-2F54590C-F1D2-4447-B487-D13A1AA0D196" id="BPMNEdge_sid-2F54590C-F1D2-4447-B487-D13A1AA0D196"><omgdi:waypoint x="130.0" y="178.0"/><omgdi:waypoint x="225.0" y="178.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB" id="BPMNEdge_sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB"><omgdi:waypoint x="550.0" y="178.1510574018127"/><omgdi:waypoint x="645.439393939394" y="178.43939393939394"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-8BBBEB5A-238D-4591-B36C-501CA93FAD59" id="BPMNEdge_sid-8BBBEB5A-238D-4591-B36C-501CA93FAD59"><omgdi:waypoint x="665.4330985915493" y="197.5669014084507"/><omgdi:waypoint x="665.140350877193" y="281.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-E82A1014-BBF2-4166-A4DF-433883518CB0" id="BPMNEdge_sid-E82A1014-BBF2-4166-A4DF-433883518CB0"><omgdi:waypoint x="684.5694275222442" y="178.43057247775582"/><omgdi:waypoint x="752.8333435058594" y="178.18203882146753"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-873DF7C4-7BCB-4C45-BB35-2299075C20C6" id="BPMNEdge_sid-873DF7C4-7BCB-4C45-BB35-2299075C20C6"><omgdi:waypoint x="275.0" y="218.0"/><omgdi:waypoint x="275.0" y="321.0"/><omgdi:waypoint x="615.0" y="321.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-00B5AFB8-379A-48A1-888B-F6E24EC76394" id="BPMNEdge_sid-00B5AFB8-379A-48A1-888B-F6E24EC76394"><omgdi:waypoint x="852.8333435058594" y="178.0"/><omgdi:waypoint x="897.8333435058594" y="178.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0" id="BPMNEdge_sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0"><omgdi:waypoint x="325.0" y="178.0"/><omgdi:waypoint x="450.0" y="178.0"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='VERIFICATION_FI'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="139.1" author="Jayant">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
	</changeSet>
	<changeSet id="140" author="Jayant">
   		<sql>
			update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_LV';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)"/>
			<column name="WorkFlowType">VERIFICATION_LV</column>
			<column name="WorkFlowSubType">VERIFICATION_LV</column>
			<column name="WorkFlowDesc">Legal Verification Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
            <column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_LV_MAKER;VERIFICATION_LV_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_LV_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>		
			<column name="LastMntOn" valueDate="current_timestamp"/>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>	
     		<column name="RecordType">NULL</column>		
		</insert>	
	</changeSet>
	<changeSet id="141" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":"canvas","properties":{"process_id":"VERIFICATION_LV","name":"VERIFICATION_LV","documentation":"Legal Verification Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC","properties":{"overrideid":"","name":"VERIFICATION_LV_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_LV_MAKER","firstName":"VERIFICATION_LV_MAKER","fullName":"VERIFICATION_LV_MAKER","id":"VERIFICATION_LV_MAKER","roledesc":"Legal Verification  Maker Role","$$hashKey":"object:4797"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1"},{"resourceId":"sid-05350A28-2D0E-4073-99FC-C8561810AC3D"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}},{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993","properties":{"overrideid":"","name":"VERIFICATION_LV_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_LV_APPROVER","firstName":"VERIFICATION_LV_APPROVER","fullName":"VERIFICATION_LV_APPROVER","id":"VERIFICATION_LV_APPROVER","roledesc":"Legal Verification Approver Role","$$hashKey":"object:2089"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12"}],"bounds":{"lowerRight":{"x":565,"y":218},"upperLeft":{"x":465,"y":138}},"dockers":[]},{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E"},{"resourceId":"sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC"},{"resourceId":"sid-90C76B6F-9C11-4835-B31E-93B12121065B"}],"bounds":{"lowerRight":{"x":650,"y":198},"upperLeft":{"x":610,"y":158}},"dockers":[]},{"resourceId":"sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"}],"bounds":{"lowerRight":{"x":609.6484468700075,"y":178.4097335362338},"upperLeft":{"x":565.6288968799925,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"}},{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882","properties":{"overrideid":"","name":"Approve","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A"}],"bounds":{"lowerRight":{"x":880,"y":219},"upperLeft":{"x":780,"y":139}},"dockers":[]},{"resourceId":"sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA","properties":{"overrideid":"","name":"Reject","rerunnable":true,"servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-30B0D3B2-9A3D-4331-B02F-9386EFAFD8E8"}],"bounds":{"lowerRight":{"x":679.8333435058594,"y":356},"upperLeft":{"x":579.8333435058594,"y":276}},"dockers":[]},{"resourceId":"sid-B8C9C9B5-D06F-4B44-8DE2-9C4DB992A13B","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":752.8333435058594,"y":330},"upperLeft":{"x":724.8333435058594,"y":302}},"dockers":[]},{"resourceId":"sid-30B0D3B2-9A3D-4331-B02F-9386EFAFD8E8","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8C9C9B5-D06F-4B44-8DE2-9C4DB992A13B"}],"bounds":{"lowerRight":{"x":724.2083435058594,"y":316},"upperLeft":{"x":680.2239685058594,"y":316}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8C9C9B5-D06F-4B44-8DE2-9C4DB992A13B"}},{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":953,"y":193},"upperLeft":{"x":925,"y":165}},"dockers":[]},{"resourceId":"sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"}],"bounds":{"lowerRight":{"x":924.375,"y":179},"upperLeft":{"x":880.390625,"y":179}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"}},{"resourceId":"sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}],"bounds":{"lowerRight":{"x":630.5,"y":157.482421875},"upperLeft":{"x":275,"y":40}},"dockers":[{"x":20.5,"y":20.5},{"x":630.5,"y":40},{"x":275,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}},{"resourceId":"sid-90C76B6F-9C11-4835-B31E-93B12121065B","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA"}],"bounds":{"lowerRight":{"x":630.40140307663,"y":275.25391800333676},"upperLeft":{"x":630.0308972525784,"y":198.83592574666324}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA"}},{"resourceId":"sid-05350A28-2D0E-4073-99FC-C8561810AC3D","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA"}],"bounds":{"lowerRight":{"x":578.9349045753479,"y":316},"upperLeft":{"x":275,"y":218.890625}},"dockers":[{"x":50,"y":40},{"x":275,"y":316},{"x":50,"y":40}],"target":{"resourceId":"sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA"}},{"resourceId":"sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882"}],"bounds":{"lowerRight":{"x":779.125003140669,"y":178.87249374220718},"upperLeft":{"x":650.203121859331,"y":178.54938125779282}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882"}},{"resourceId":"sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"}],"bounds":{"lowerRight":{"x":464.3125,"y":178},"upperLeft":{"x":325.6875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
     		<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="VERIFICATION_LV" name="VERIFICATION_LV" isExecutable="true"><documentation>Legal Verification Process</documentation><startEvent id="startEvent1" name="Start"/><userTask id="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" name="VERIFICATION_LV_MAKER" activiti:actor="VERIFICATION_LV_MAKER" activiti:assignmentLevel="Role Queue"/><sequenceFlow id="sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429" sourceRef="startEvent1" targetRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" representsUserAction="false" mandateNotes="false" captureReasons="false"/><userTask id="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" name="VERIFICATION_LV_APPROVER" activiti:actor="VERIFICATION_LV_APPROVER" activiti:assignmentLevel="Role Queue"/><exclusiveGateway id="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"/><sequenceFlow id="sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12" sourceRef="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" targetRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" representsUserAction="false" mandateNotes="false" captureReasons="false"/><serviceTask id="sid-B6912A57-A720-41C6-9848-F18CD022A882" name="Approve" activiti:operation="doApprove" activiti:rerunnable="true"/><serviceTask id="sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA" name="Reject" activiti:operation="doReject" activiti:rerunnable="true"/><endEvent id="sid-B8C9C9B5-D06F-4B44-8DE2-9C4DB992A13B" name="Rejected"/><sequenceFlow id="sid-30B0D3B2-9A3D-4331-B02F-9386EFAFD8E8" sourceRef="sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA" targetRef="sid-B8C9C9B5-D06F-4B44-8DE2-9C4DB992A13B" representsUserAction="false" mandateNotes="false" captureReasons="false"/><endEvent id="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" name="Approved"/><sequenceFlow id="sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A" sourceRef="sid-B6912A57-A720-41C6-9848-F18CD022A882" targetRef="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" representsUserAction="false" mandateNotes="false" captureReasons="false"/><sequenceFlow id="sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E" name="Resubmit" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-90C76B6F-9C11-4835-B31E-93B12121065B" name="Reject" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-05350A28-2D0E-4073-99FC-C8561810AC3D" name="Cancel" sourceRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" targetRef="sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow><sequenceFlow id="sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC" name="Approve" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-B6912A57-A720-41C6-9848-F18CD022A882" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1" name="Submit" sourceRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" targetRef="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow></process><bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_LV"><bpmndi:BPMNPlane bpmnElement="VERIFICATION_LV" id="BPMNPlane_VERIFICATION_LV"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" id="BPMNShape_sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"><omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" id="BPMNShape_sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"><omgdc:Bounds height="80.0" width="100.0" x="465.0" y="138.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" id="BPMNShape_sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"><omgdc:Bounds height="40.0" width="40.0" x="610.0" y="158.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B6912A57-A720-41C6-9848-F18CD022A882" id="BPMNShape_sid-B6912A57-A720-41C6-9848-F18CD022A882"><omgdc:Bounds height="80.0" width="100.0" x="780.0" y="139.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA" id="BPMNShape_sid-7C3AD770-A0AB-474B-A5B3-370FC508C9BA"><omgdc:Bounds height="80.0" width="100.0" x="579.8333435058594" y="276.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B8C9C9B5-D06F-4B44-8DE2-9C4DB992A13B" id="BPMNShape_sid-B8C9C9B5-D06F-4B44-8DE2-9C4DB992A13B"><omgdc:Bounds height="28.0" width="28.0" x="724.8333435058594" y="302.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" id="BPMNShape_sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"><omgdc:Bounds height="28.0" width="28.0" x="925.0" y="165.0"/></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E" id="BPMNEdge_sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E"><omgdi:waypoint x="630.5" y="158.5"/><omgdi:waypoint x="630.5" y="40.0"/><omgdi:waypoint x="275.0" y="40.0"/><omgdi:waypoint x="275.0" y="138.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429" id="BPMNEdge_sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429"><omgdi:waypoint x="130.0" y="178.0"/><omgdi:waypoint x="225.0" y="178.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC" id="BPMNEdge_sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC"><omgdi:waypoint x="649.4525" y="178.5475"/><omgdi:waypoint x="780.0" y="178.87468671679198"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-05350A28-2D0E-4073-99FC-C8561810AC3D" id="BPMNEdge_sid-05350A28-2D0E-4073-99FC-C8561810AC3D"><omgdi:waypoint x="275.0" y="218.0"/><omgdi:waypoint x="275.0" y="316.0"/><omgdi:waypoint x="579.8333435058594" y="316.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-90C76B6F-9C11-4835-B31E-93B12121065B" id="BPMNEdge_sid-90C76B6F-9C11-4835-B31E-93B12121065B"><omgdi:waypoint x="630.4074313828477" y="197.59256861715235"/><omgdi:waypoint x="630.0272799405185" y="276.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1" id="BPMNEdge_sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1"><omgdi:waypoint x="325.0" y="178.0"/><omgdi:waypoint x="465.0" y="178.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12" id="BPMNEdge_sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12"><omgdi:waypoint x="565.0" y="178.2164502164502"/><omgdi:waypoint x="610.4130434782609" y="178.41304347826087"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A" id="BPMNEdge_sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A"><omgdi:waypoint x="880.0" y="179.0"/><omgdi:waypoint x="925.0" y="179.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-30B0D3B2-9A3D-4331-B02F-9386EFAFD8E8" id="BPMNEdge_sid-30B0D3B2-9A3D-4331-B02F-9386EFAFD8E8"><omgdi:waypoint x="679.8333435058594" y="316.0"/><omgdi:waypoint x="724.8333435058594" y="316.0"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='VERIFICATION_LV'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="141.1" author="Jayant">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
	</changeSet>
	<changeSet id="142" author="Jayant">
   		<sql>
			update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_TV';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)"/>
			<column name="WorkFlowType">VERIFICATION_TV</column>
			<column name="WorkFlowSubType">VERIFICATION_TV</column>
			<column name="WorkFlowDesc">Technical Verification Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
            <column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_TV_MAKER;VERIFICATION_TV_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_TV_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>		
			<column name="LastMntOn" valueDate="current_timestamp"/>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>	
     		<column name="RecordType">NULL</column>		
		</insert>	
	</changeSet>
	<changeSet id="143" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":"canvas","properties":{"process_id":"VERIFICATION_TV","name":"VERIFICATION_TV","documentation":"Technical Verification Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-C9D47264-DAC3-4547-B326-8FD59338A4D3"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C","properties":{"overrideid":"","name":"VERIFICATION_TV_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_TV_MAKER","firstName":"VERIFICATION_TV_MAKER","fullName":"VERIFICATION_TV_MAKER","id":"VERIFICATION_TV_MAKER","roledesc":"Technical Verification Maker Role","$$hashKey":"object:1341"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF"},{"resourceId":"sid-7159C599-BFED-476E-89C2-88C3BB6197B2"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-C9D47264-DAC3-4547-B326-8FD59338A4D3","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}},{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5","properties":{"overrideid":"","name":"VERIFICATION_TV_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_TV_APPROVER","firstName":"VERIFICATION_TV_APPROVER","fullName":"VERIFICATION_TV_APPROVER","id":"VERIFICATION_TV_APPROVER","roledesc":"Technical Verification Approver Role","$$hashKey":"object:2194"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05"}],"bounds":{"lowerRight":{"x":550,"y":218},"upperLeft":{"x":450,"y":138}},"dockers":[]},{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-2F494FD9-CD15-447D-B93F-C5CFF962185E"},{"resourceId":"sid-4FC8496F-3D33-41DD-9597-7DB0202D1CD8"},{"resourceId":"sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3"}],"bounds":{"lowerRight":{"x":640,"y":198},"upperLeft":{"x":600,"y":158}},"dockers":[]},{"resourceId":"sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F"}],"bounds":{"lowerRight":{"x":599.7304773585561,"y":178.41381940812678},"upperLeft":{"x":550.8945226414439,"y":178.21118059187322}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F"}},{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5D097275-7E6E-48F1-B265-A0DC79266F84"}],"bounds":{"lowerRight":{"x":820,"y":218},"upperLeft":{"x":720,"y":138}},"dockers":[]},{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1003,"y":192},"upperLeft":{"x":975,"y":164}},"dockers":[]},{"resourceId":"sid-5D097275-7E6E-48F1-B265-A0DC79266F84","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"}],"bounds":{"lowerRight":{"x":974.3125,"y":178},"upperLeft":{"x":820.6171875,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"}},{"resourceId":"sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB","properties":{"overrideid":"","name":"Cancel Process","rerunnable":true,"servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-A3D070C6-4CE8-4765-A363-7D7FB7933B11"}],"bounds":{"lowerRight":{"x":670,"y":380},"upperLeft":{"x":570,"y":300}},"dockers":[]},{"resourceId":"sid-A3ECE408-D637-4FE5-83BA-C6AD00C5E6E6","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":784,"y":354},"upperLeft":{"x":756,"y":326}},"dockers":[]},{"resourceId":"sid-A3D070C6-4CE8-4765-A363-7D7FB7933B11","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A3ECE408-D637-4FE5-83BA-C6AD00C5E6E6"}],"bounds":{"lowerRight":{"x":755.5234375,"y":340},"upperLeft":{"x":670.21875,"y":340}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-A3ECE408-D637-4FE5-83BA-C6AD00C5E6E6"}},{"resourceId":"sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"}],"bounds":{"lowerRight":{"x":449.78125,"y":178},"upperLeft":{"x":325.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"}},{"resourceId":"sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}],"bounds":{"lowerRight":{"x":620.5,"y":157.38671875},"upperLeft":{"x":275,"y":43}},"dockers":[{"x":20.5,"y":20.5},{"x":620.5,"y":43},{"x":275,"y":43},{"x":50,"y":40}],"target":{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}},{"resourceId":"sid-7159C599-BFED-476E-89C2-88C3BB6197B2","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB"}],"bounds":{"lowerRight":{"x":569.13671875,"y":340},"upperLeft":{"x":275,"y":218.234375}},"dockers":[{"x":50,"y":40},{"x":275,"y":340},{"x":50,"y":40}],"target":{"resourceId":"sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB"}},{"resourceId":"sid-4FC8496F-3D33-41DD-9597-7DB0202D1CD8","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB"}],"bounds":{"lowerRight":{"x":620.4383102896053,"y":299.88672354249684},"upperLeft":{"x":620.1241897103947,"y":198.42577645750313}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB"}},{"resourceId":"sid-2F494FD9-CD15-447D-B93F-C5CFF962185E","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1"}],"bounds":{"lowerRight":{"x":719.9453180927317,"y":178.43415553709943},"upperLeft":{"x":640.1874944072683,"y":178.16740696290057}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
     		<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="VERIFICATION_TV" name="VERIFICATION_TV" isExecutable="true"><documentation>Technical Verification Workflow Process</documentation><startEvent id="startEvent1" name="Start"/><userTask id="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" name="VERIFICATION_TV_MAKER" activiti:actor="VERIFICATION_TV_MAKER" activiti:assignmentLevel="Role Queue"/><sequenceFlow id="sid-C9D47264-DAC3-4547-B326-8FD59338A4D3" sourceRef="startEvent1" targetRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" representsUserAction="false" mandateNotes="false" captureReasons="false"/><userTask id="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" name="VERIFICATION_TV_APPROVER" activiti:actor="VERIFICATION_TV_APPROVER" activiti:assignmentLevel="Role Queue"/><exclusiveGateway id="sid-A2C15554-D562-4730-BB39-F90E5EDA653F"/><sequenceFlow id="sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05" sourceRef="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" targetRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" representsUserAction="false" mandateNotes="false" captureReasons="false"/><serviceTask id="sid-6486A084-E0B9-43D5-85BC-125785D208A1" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/><endEvent id="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" name="Approved"/><sequenceFlow id="sid-5D097275-7E6E-48F1-B265-A0DC79266F84" sourceRef="sid-6486A084-E0B9-43D5-85BC-125785D208A1" targetRef="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" representsUserAction="false" mandateNotes="false" captureReasons="false"/><serviceTask id="sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/><endEvent id="sid-A3ECE408-D637-4FE5-83BA-C6AD00C5E6E6" name="Rejected"/><sequenceFlow id="sid-A3D070C6-4CE8-4765-A363-7D7FB7933B11" sourceRef="sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB" targetRef="sid-A3ECE408-D637-4FE5-83BA-C6AD00C5E6E6" representsUserAction="false" mandateNotes="false" captureReasons="false"/><sequenceFlow id="sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF" name="Submit" sourceRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" targetRef="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3" name="Resubmit" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-7159C599-BFED-476E-89C2-88C3BB6197B2" name="Cancel" sourceRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" targetRef="sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow><sequenceFlow id="sid-4FC8496F-3D33-41DD-9597-7DB0202D1CD8" name="Reject" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-2F494FD9-CD15-447D-B93F-C5CFF962185E" name="Approve" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-6486A084-E0B9-43D5-85BC-125785D208A1" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow></process><bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_TV"><bpmndi:BPMNPlane bpmnElement="VERIFICATION_TV" id="BPMNPlane_VERIFICATION_TV"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" id="BPMNShape_sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"><omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" id="BPMNShape_sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"><omgdc:Bounds height="80.0" width="100.0" x="450.0" y="138.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" id="BPMNShape_sid-A2C15554-D562-4730-BB39-F90E5EDA653F"><omgdc:Bounds height="40.0" width="40.0" x="600.0" y="158.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-6486A084-E0B9-43D5-85BC-125785D208A1" id="BPMNShape_sid-6486A084-E0B9-43D5-85BC-125785D208A1"><omgdc:Bounds height="80.0" width="100.0" x="720.0" y="138.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" id="BPMNShape_sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"><omgdc:Bounds height="28.0" width="28.0" x="975.0" y="164.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB" id="BPMNShape_sid-63A3CA2A-D872-49BE-BCFC-49FDAB91B4EB"><omgdc:Bounds height="80.0" width="100.0" x="570.0" y="300.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-A3ECE408-D637-4FE5-83BA-C6AD00C5E6E6" id="BPMNShape_sid-A3ECE408-D637-4FE5-83BA-C6AD00C5E6E6"><omgdc:Bounds height="28.0" width="28.0" x="756.0" y="326.0"/></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-5D097275-7E6E-48F1-B265-A0DC79266F84" id="BPMNEdge_sid-5D097275-7E6E-48F1-B265-A0DC79266F84"><omgdi:waypoint x="820.0" y="178.0"/><omgdi:waypoint x="975.0" y="178.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-C9D47264-DAC3-4547-B326-8FD59338A4D3" id="BPMNEdge_sid-C9D47264-DAC3-4547-B326-8FD59338A4D3"><omgdi:waypoint x="130.0" y="178.0"/><omgdi:waypoint x="225.0" y="178.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05" id="BPMNEdge_sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05"><omgdi:waypoint x="550.0" y="178.20746887966806"/><omgdi:waypoint x="600.4166666666666" y="178.41666666666666"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF" id="BPMNEdge_sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF"><omgdi:waypoint x="325.0" y="178.0"/><omgdi:waypoint x="450.0" y="178.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-A3D070C6-4CE8-4765-A363-7D7FB7933B11" id="BPMNEdge_sid-A3D070C6-4CE8-4765-A363-7D7FB7933B11"><omgdi:waypoint x="670.0" y="340.0"/><omgdi:waypoint x="756.0" y="340.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3" id="BPMNEdge_sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3"><omgdi:waypoint x="620.5" y="158.5"/><omgdi:waypoint x="620.5" y="43.0"/><omgdi:waypoint x="275.0" y="43.0"/><omgdi:waypoint x="275.0" y="138.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-7159C599-BFED-476E-89C2-88C3BB6197B2" id="BPMNEdge_sid-7159C599-BFED-476E-89C2-88C3BB6197B2"><omgdi:waypoint x="275.0" y="218.0"/><omgdi:waypoint x="275.0" y="340.0"/><omgdi:waypoint x="570.0" y="340.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-4FC8496F-3D33-41DD-9597-7DB0202D1CD8" id="BPMNEdge_sid-4FC8496F-3D33-41DD-9597-7DB0202D1CD8"><omgdi:waypoint x="620.4409937888199" y="197.55900621118013"/><omgdi:waypoint x="620.123839009288" y="300.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-2F494FD9-CD15-447D-B93F-C5CFF962185E" id="BPMNEdge_sid-2F494FD9-CD15-447D-B93F-C5CFF962185E"><omgdi:waypoint x="639.5637583892617" y="178.43624161073825"/><omgdi:waypoint x="720.0" y="178.16722408026754"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='VERIFICATION_TV'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="143.1" author="Jayant">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
	</changeSet>
	<changeSet id="144" author="Jayant">
   		<sql>
			update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_RCU';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)"/>
			<column name="WorkFlowType">VERIFICATION_RCU</column>
			<column name="WorkFlowSubType">VERIFICATION_RCU</column>
			<column name="WorkFlowDesc">RCU Verification Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
            <column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_RCU_MAKER;VERIFICATION_RCU_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_RCU_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>		
			<column name="LastMntOn" valueDate="current_timestamp"/>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>	
     		<column name="RecordType">NULL</column>		
		</insert>	
	</changeSet>
	<changeSet id="145" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":"canvas","properties":{"process_id":"VERIFICATION_RCU","name":"VERIFICATION_RCU","documentation":"RCU Verification Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-F217549F-16A8-4A3D-B25B-E61372BCA670"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA","properties":{"overrideid":"","name":"VERIFICATION_RCU_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_RCU_MAKER","firstName":"VERIFICATION_RCU_MAKER","fullName":"VERIFICATION_RCU_MAKER","id":"VERIFICATION_RCU_MAKER","roledesc":"RCU Verification Maker Role","$$hashKey":"object:1752"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E1B2B81D-D508-4EF3-B494-E90840775928"},{"resourceId":"sid-ECE35C86-C74C-42A7-B762-08AAA2D2EBAB"}],"bounds":{"lowerRight":{"x":280,"y":218},"upperLeft":{"x":180,"y":138}},"dockers":[]},{"resourceId":"sid-F217549F-16A8-4A3D-B25B-E61372BCA670","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}],"bounds":{"lowerRight":{"x":179.5859375,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}},{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61","properties":{"overrideid":"","name":"VERIFICATION_RCU_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_RCU_APPROVER","firstName":"VERIFICATION_RCU_APPROVER","fullName":"VERIFICATION_RCU_APPROVER","id":"VERIFICATION_RCU_APPROVER","roledesc":"RCU Verification Approver Role","$$hashKey":"object:2605"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D"}],"bounds":{"lowerRight":{"x":505,"y":218},"upperLeft":{"x":405,"y":138}},"dockers":[]},{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038"},{"resourceId":"sid-FCA3029F-D902-4EA3-BE2A-AB13A29A6DA0"},{"resourceId":"sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF"}],"bounds":{"lowerRight":{"x":700,"y":198},"upperLeft":{"x":660,"y":158}},"dockers":[]},{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94"}],"bounds":{"lowerRight":{"x":945.8333435058594,"y":220},"upperLeft":{"x":845.8333435058594,"y":140}},"dockers":[]},{"resourceId":"sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF","properties":{"overrideid":"","name":"Cancel Process","rerunnable":true,"servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-689C61F5-5DC8-4D10-BCF9-9C3C95DC0DBF"}],"bounds":{"lowerRight":{"x":730,"y":382},"upperLeft":{"x":630,"y":302}},"dockers":[]},{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1018.8333435058594,"y":194},"upperLeft":{"x":990.8333435058594,"y":166}},"dockers":[]},{"resourceId":"sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"}],"bounds":{"lowerRight":{"x":990.2083435058594,"y":180},"upperLeft":{"x":946.2239685058594,"y":180}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"}},{"resourceId":"sid-42D630D5-98FD-493A-9233-F9B5401F2FF1","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":803,"y":356},"upperLeft":{"x":775,"y":328}},"dockers":[]},{"resourceId":"sid-689C61F5-5DC8-4D10-BCF9-9C3C95DC0DBF","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-42D630D5-98FD-493A-9233-F9B5401F2FF1"}],"bounds":{"lowerRight":{"x":774.375,"y":342},"upperLeft":{"x":730.390625,"y":342}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-42D630D5-98FD-493A-9233-F9B5401F2FF1"}},{"resourceId":"sid-E1B2B81D-D508-4EF3-B494-E90840775928","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"}],"bounds":{"lowerRight":{"x":404.78125,"y":178},"upperLeft":{"x":280.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"}},{"resourceId":"sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"}],"bounds":{"lowerRight":{"x":659.2402368331893,"y":178.4528608355503},"upperLeft":{"x":505.3281225418107,"y":178.1115922894497}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"}},{"resourceId":"sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}],"bounds":{"lowerRight":{"x":680.5,"y":157.51171875},"upperLeft":{"x":230,"y":28}},"dockers":[{"x":20.5,"y":20.5},{"x":680.5,"y":28},{"x":230,"y":28},{"x":50,"y":40}],"target":{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}},{"resourceId":"sid-ECE35C86-C74C-42A7-B762-08AAA2D2EBAB","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF"}],"bounds":{"lowerRight":{"x":629.78125,"y":342},"upperLeft":{"x":230,"y":218.71875}},"dockers":[{"x":50,"y":40},{"x":230,"y":342},{"x":50,"y":40}],"target":{"resourceId":"sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF"}},{"resourceId":"sid-FCA3029F-D902-4EA3-BE2A-AB13A29A6DA0","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF"}],"bounds":{"lowerRight":{"x":680.438348160324,"y":301.40234842596715},"upperLeft":{"x":680.124151839676,"y":198.66015157403282}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF"}},{"resourceId":"sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E"}],"bounds":{"lowerRight":{"x":845.2057612560479,"y":179.64733110005952},"upperLeft":{"x":700.0051849462302,"y":178.63587202494048}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E"}}],"bounds":{"lowerRight":{"x":1200,"y":950},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
     		<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="VERIFICATION_RCU" name="VERIFICATION_RCU" isExecutable="true"><documentation>RCU Verification Workflow Process</documentation><startEvent id="startEvent1" name="Start"/><userTask id="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" name="VERIFICATION_RCU_MAKER" activiti:actor="VERIFICATION_RCU_MAKER" activiti:assignmentLevel="Role Queue"/><sequenceFlow id="sid-F217549F-16A8-4A3D-B25B-E61372BCA670" sourceRef="startEvent1" targetRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" representsUserAction="false" mandateNotes="false" captureReasons="false"/><userTask id="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" name="VERIFICATION_RCU_APPROVER" activiti:actor="VERIFICATION_RCU_APPROVER" activiti:assignmentLevel="Role Queue"/><exclusiveGateway id="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"/><serviceTask id="sid-A389106C-0EE9-4B05-AB86-E175C528734E" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/><serviceTask id="sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/><endEvent id="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" name="Approved"/><sequenceFlow id="sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94" sourceRef="sid-A389106C-0EE9-4B05-AB86-E175C528734E" targetRef="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" representsUserAction="false" mandateNotes="false" captureReasons="false"/><endEvent id="sid-42D630D5-98FD-493A-9233-F9B5401F2FF1" name="Rejected"/><sequenceFlow id="sid-689C61F5-5DC8-4D10-BCF9-9C3C95DC0DBF" sourceRef="sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF" targetRef="sid-42D630D5-98FD-493A-9233-F9B5401F2FF1" representsUserAction="false" mandateNotes="false" captureReasons="false"/><sequenceFlow id="sid-E1B2B81D-D508-4EF3-B494-E90840775928" name="Submit" sourceRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" targetRef="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D" sourceRef="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" targetRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" representsUserAction="false" mandateNotes="false" captureReasons="false"/><sequenceFlow id="sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038" name="Resubmit" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-ECE35C86-C74C-42A7-B762-08AAA2D2EBAB" name="Cancel" sourceRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" targetRef="sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow><sequenceFlow id="sid-FCA3029F-D902-4EA3-BE2A-AB13A29A6DA0" name="Reject" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF" name="Approve" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-A389106C-0EE9-4B05-AB86-E175C528734E" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow></process><bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_RCU"><bpmndi:BPMNPlane bpmnElement="VERIFICATION_RCU" id="BPMNPlane_VERIFICATION_RCU"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" id="BPMNShape_sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"><omgdc:Bounds height="80.0" width="100.0" x="180.0" y="138.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" id="BPMNShape_sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"><omgdc:Bounds height="80.0" width="100.0" x="405.0" y="138.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" id="BPMNShape_sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"><omgdc:Bounds height="40.0" width="40.0" x="660.0" y="158.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-A389106C-0EE9-4B05-AB86-E175C528734E" id="BPMNShape_sid-A389106C-0EE9-4B05-AB86-E175C528734E"><omgdc:Bounds height="80.0" width="100.0" x="845.8333435058594" y="140.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF" id="BPMNShape_sid-6FC92630-6F5C-4DBC-9D4D-AA1104EB40EF"><omgdc:Bounds height="80.0" width="100.0" x="630.0" y="302.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" id="BPMNShape_sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"><omgdc:Bounds height="28.0" width="28.0" x="990.8333435058594" y="166.0"/></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-42D630D5-98FD-493A-9233-F9B5401F2FF1" id="BPMNShape_sid-42D630D5-98FD-493A-9233-F9B5401F2FF1"><omgdc:Bounds height="28.0" width="28.0" x="775.0" y="328.0"/></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-F217549F-16A8-4A3D-B25B-E61372BCA670" id="BPMNEdge_sid-F217549F-16A8-4A3D-B25B-E61372BCA670"><omgdi:waypoint x="130.0" y="178.0"/><omgdi:waypoint x="180.0" y="178.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-FCA3029F-D902-4EA3-BE2A-AB13A29A6DA0" id="BPMNEdge_sid-FCA3029F-D902-4EA3-BE2A-AB13A29A6DA0"><omgdi:waypoint x="680.4417177914111" y="197.55828220858896"/><omgdi:waypoint x="680.1223241590214" y="302.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038" id="BPMNEdge_sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038"><omgdi:waypoint x="680.5" y="158.5"/><omgdi:waypoint x="680.5" y="28.0"/><omgdi:waypoint x="230.0" y="28.0"/><omgdi:waypoint x="230.0" y="138.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-ECE35C86-C74C-42A7-B762-08AAA2D2EBAB" id="BPMNEdge_sid-ECE35C86-C74C-42A7-B762-08AAA2D2EBAB"><omgdi:waypoint x="230.0" y="218.0"/><omgdi:waypoint x="230.0" y="342.0"/><omgdi:waypoint x="630.0" y="342.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94" id="BPMNEdge_sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94"><omgdi:waypoint x="945.8333435058594" y="180.0"/><omgdi:waypoint x="990.8333435058594" y="180.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF" id="BPMNEdge_sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF"><omgdi:waypoint x="699.3685626502862" y="178.63143734971385"/><omgdi:waypoint x="845.8333435058594" y="179.65170280283155"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-689C61F5-5DC8-4D10-BCF9-9C3C95DC0DBF" id="BPMNEdge_sid-689C61F5-5DC8-4D10-BCF9-9C3C95DC0DBF"><omgdi:waypoint x="730.0" y="342.0"/><omgdi:waypoint x="775.0" y="342.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-E1B2B81D-D508-4EF3-B494-E90840775928" id="BPMNEdge_sid-E1B2B81D-D508-4EF3-B494-E90840775928"><omgdi:waypoint x="280.0" y="178.0"/><omgdi:waypoint x="405.0" y="178.0"/></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D" id="BPMNEdge_sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D"><omgdi:waypoint x="505.0" y="178.1108647450111"/><omgdi:waypoint x="660.4555555555555" y="178.45555555555555"/></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='VERIFICATION_RCU'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="146" author="Jayant">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
</changeSet>
<changeSet id="147" author="Sai Krishna">
	<createView viewName="productdeviations_aview" replaceIfExists="true">
		SELECT t1.productdevid,
	    t1.deviationid,
	    t1.productcode,
	    t1.version,
	    t1.lastmntby,
	    t1.lastmnton,
	    t1.recordstatus,
	    t1.rolecode,
	    t1.nextrolecode,
	    t1.taskid,
	    t1.nexttaskid,
	    t1.recordtype,
	    t1.workflowid,
	    t2.code AS deviationcode,
	    t2.description AS deviationdesc,
	    t2.severity
	   	FROM productdeviations t1
     	JOIN manualdeviations t2 ON t1.deviationid = t2.deviationid
	</createView>
</changeSet>
<changeSet id="148" author="pasvarma">
	<comment> specialltv and bankltv added</comment>
	<createView viewName="collateralassignment_aview" replaceIfExists="true">
		SELECT ca.module,
	    ca.reference,
	    ca.collateralref,
	    ca.assignperc,
	    cs.collateralccy,
	    ca.active,
	    cs.collateralvalue,
	    cs.bankvaluation,
	    t.totassignperc - ca.assignperc AS totassignperc,
	    COALESCE(fm.fincurrassetvalue - fm.downpayment + fm.feechargeamt + fm.insuranceamt - fm.finrepaymentamount, cm.cmtutilizedamount) AS utilizedamount,
	    ca.version,
	    ca.lastmntby,
	    ca.lastmnton,
	    ca.recordstatus,
	    ca.rolecode,
	    ca.nextrolecode,
	    ca.taskid,
	    ca.nexttaskid,
	    ca.recordtype,
	    ca.workflowid,
	    cs.specialltv,
	    cs.bankltv
	   FROM collateralassignment ca
     JOIN collateralsetup cs ON ca.collateralref = cs.collateralref
     LEFT JOIN ( SELECT t1.collateralref,
            sum(t1.assignperc) AS totassignperc
           FROM ( SELECT collateralassignment_temp.reference,
                    collateralassignment_temp.collateralref,
                    collateralassignment_temp.assignperc
                   FROM collateralassignment_temp
                UNION
                 SELECT ca_1.reference,
                    ca_1.collateralref,
                    ca_1.assignperc
                   FROM collateralassignment ca_1
                  WHERE NOT (EXISTS ( SELECT 1
                           FROM collateralassignment_temp
                          WHERE collateralassignment_temp.collateralref = ca_1.collateralref AND collateralassignment_temp.module = ca_1.module AND collateralassignment_temp.reference = ca_1.reference))) t1
          GROUP BY t1.collateralref) t ON t.collateralref = ca.collateralref
     LEFT JOIN financemain fm ON ca.reference = fm.finreference
     LEFT JOIN commitments cm ON cm.cmtreference = ca.reference
	</createView>
</changeSet>
<changeSet id="149" author="pasvarma">
	<comment> specialltv and bankltv added</comment>
	<createView viewName="collateralassignment_tview" replaceIfExists="true">
		SELECT ca.module,
	    ca.reference,
	    ca.collateralref,
	    ca.assignperc,
	    cs.collateralccy,
	    ca.active,
	    cs.collateralvalue,
	    cs.bankvaluation,
	    t.totassignperc - ca.assignperc AS totassignperc,
	    fm.fincurrassetvalue - fm.downpayment + fm.feechargeamt + fm.insuranceamt - fm.finrepaymentamount AS utilizedamount,
	    ca.version,
	    ca.lastmntby,
	    ca.lastmnton,
	    ca.recordstatus,
	    ca.rolecode,
	    ca.nextrolecode,
	    ca.taskid,
	    ca.nexttaskid,
	    ca.recordtype,
	    ca.workflowid,
	    cs.specialltv,
	    cs.bankltv
	   FROM collateralassignment_temp ca
     JOIN collateralsetup cs ON ca.collateralref = cs.collateralref
     LEFT JOIN ( SELECT t1.collateralref,
            sum(t1.assignperc) AS totassignperc
           FROM ( SELECT collateralassignment_temp.reference,
                    collateralassignment_temp.collateralref,
                    collateralassignment_temp.assignperc
                   FROM collateralassignment_temp
                UNION
                 SELECT ca_1.reference,
                    ca_1.collateralref,
                    ca_1.assignperc
                   FROM collateralassignment ca_1
                  WHERE NOT (EXISTS ( SELECT 1
                           FROM collateralassignment_temp
                          WHERE collateralassignment_temp.collateralref = ca_1.collateralref AND collateralassignment_temp.module = ca_1.module AND collateralassignment_temp.reference = ca_1.reference))) t1
          GROUP BY t1.collateralref) t ON t.collateralref = ca.collateralref
     LEFT JOIN financemain_temp fm ON ca.reference = fm.finreference
	</createView>
</changeSet>
<changeSet id="150" author="pasvarma">
	<comment> specialltv and bankltv added</comment>
	<createView viewName="collateralassignment_view" replaceIfExists="true">
		SELECT ca.module,
	    ca.reference,
	    ca.collateralref,
	    ca.assignperc,
	    cs.collateralccy,
	    ca.active,
	    cs.collateralvalue,
	    cs.bankvaluation,
	    t.totassignperc - ca.assignperc AS totassignperc,
	    COALESCE(fm.fincurrassetvalue - fm.downpayment + fm.feechargeamt + fm.insuranceamt - fm.finrepaymentamount, cm.cmtutilizedamount) AS utilizedamount,
	    ca.version,
	    ca.lastmntby,
	    ca.lastmnton,
	    ca.recordstatus,
	    ca.rolecode,
	    ca.nextrolecode,
	    ca.taskid,
	    ca.nexttaskid,
	    ca.recordtype,
	    ca.workflowid,
	    cs.specialltv,
	    cs.bankltv
	   FROM collateralassignment_temp ca
     JOIN collateralsetup cs ON ca.collateralref = cs.collateralref
     LEFT JOIN ( SELECT t1.collateralref,
            sum(t1.assignperc) AS totassignperc
           FROM ( SELECT collateralassignment_temp.reference,
                    collateralassignment_temp.collateralref,
                    collateralassignment_temp.assignperc
                   FROM collateralassignment_temp
                UNION
                 SELECT ca_1.reference,
                    ca_1.collateralref,
                    ca_1.assignperc
                   FROM collateralassignment ca_1
                  WHERE NOT (EXISTS ( SELECT 1
                           FROM collateralassignment_temp
                          WHERE collateralassignment_temp.collateralref = ca_1.collateralref AND collateralassignment_temp.module = ca_1.module AND collateralassignment_temp.reference = ca_1.reference))) t1
          GROUP BY t1.collateralref) t ON t.collateralref = ca.collateralref
     LEFT JOIN financemain_temp fm ON ca.reference = fm.finreference
     LEFT JOIN commitments_temp cm ON cm.cmtreference = ca.reference
	UNION ALL
	 SELECT ca.module,
	    ca.reference,
	    ca.collateralref,
	    ca.assignperc,
	    cs.collateralccy,
	    ca.active,
	    cs.collateralvalue,
	    cs.bankvaluation,
	    t.totassignperc - ca.assignperc AS totassignperc,
	    COALESCE(fm.fincurrassetvalue - fm.downpayment + fm.feechargeamt + fm.insuranceamt - fm.finrepaymentamount, cm.cmtutilizedamount) AS utilizedamount,
	    ca.version,
	    ca.lastmntby,
	    ca.lastmnton,
	    ca.recordstatus,
	    ca.rolecode,
	    ca.nextrolecode,
	    ca.taskid,
	    ca.nexttaskid,
	    ca.recordtype,
	    ca.workflowid,
	    cs.specialltv,
	    cs.bankltv
	   FROM collateralassignment ca
     JOIN collateralsetup cs ON ca.collateralref = cs.collateralref
     LEFT JOIN ( SELECT t1.collateralref,
            sum(t1.assignperc) AS totassignperc
           FROM ( SELECT collateralassignment_temp.reference,
                    collateralassignment_temp.collateralref,
                    collateralassignment_temp.assignperc
                   FROM collateralassignment_temp
                UNION
                 SELECT ca_1.reference,
                    ca_1.collateralref,
                    ca_1.assignperc
                   FROM collateralassignment ca_1
                  WHERE NOT (EXISTS ( SELECT 1
                           FROM collateralassignment_temp
                          WHERE collateralassignment_temp.collateralref = ca_1.collateralref AND collateralassignment_temp.module = ca_1.module AND collateralassignment_temp.reference = ca_1.reference))) t1
          GROUP BY t1.collateralref) t ON t.collateralref = ca.collateralref
     LEFT JOIN financemain fm ON ca.reference = fm.finreference
     LEFT JOIN commitments cm ON cm.cmtreference = ca.reference
  		WHERE NOT (EXISTS ( SELECT 1
           FROM collateralassignment_temp
          WHERE collateralassignment_temp.collateralref = ca.collateralref AND collateralassignment_temp.module = ca.module AND collateralassignment_temp.reference = ca.reference))
	</createView>
</changeSet>
<changeSet id="151" author="Satish" dbms="postgresql">	
	<comment> missed in postgresql databases </comment>
		<createTable tableName="FinanceRateReview">
			<column name="FinReference" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="RateType" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="Currency" type="varchar(3)" />
			<column name="ValueDate" type="datetime" />
			<column name="EffectiveDate" type="datetime" />
			<column name="EventFromDate" type="datetime" />
			<column name="EventToDate" type="datetime" />
			<column name="RecalFromdate" type="datetime" />
			<column name="RecalToDate" type="datetime" />
			<column name="EMIAmount" type="decimal(18,0)" />
		</createTable>
	</changeSet>
	<changeSet id="153" author="Madhubabu">
		<comment> Providing group rights to FinCovenantTypeDialog_alwOtc</comment>
		<sql>
			INSERT INTO SMTPARAMETERS VALUES ('FUTUREDAYS_COV_RECEIVED_DATE','covenant max allowed future days','int',1,'10','200',0, NULL, NULL, 'covenant max allowed future days',1,1000,CURRENT_TIMESTAMP,'Approved',NULL,NULL,NULL,NULL,NULL,0);
			INSERT INTO SMTPARAMETERS VALUES ('FUTUREDAYS_SER_COV_RECEIVED_DATE','covenant max allowed future days','int',1,'10','200',0, NULL, NULL, 'covenant max allowed future days',1,1000,CURRENT_TIMESTAMP,'Approved',NULL,	NULL,NULL,NULL,NULL,0);
			
			INSERT INTO SMTPARAMETERS VALUES ('COVENANT_REPAY_OTC_TYPE','Repayment type from covenant to proceed to disbursement ','String',1,'DD,CHEQUE','200',0, NULL, NULL, 'covenant max allowed future days',1,1000,CURRENT_TIMESTAMP,'Approved',NULL,	NULL,NULL,NULL,NULL,0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CL_ORIGINATION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinCovenantTypeDialog_alwOtc'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), 
			(SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMER_DDE_MAKER') ,
			(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinCovenantTypeDialog_alwOtc'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), 
			(SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINCOVENANTDETAIL_SER') ,
			(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinCovenantTypeDialog_alwOtc'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), 
			(SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='LAP_SSO') ,
			(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinCovenantTypeDialog_alwOtc'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO ErrorDetails VALUES('41101','EN','E','{1} are not alowed for Disbursment Type : {0}','','Approved','','','','','',0,NUll,1000,0);
			INSERT INTO ErrorDetails VALUES('S41103','EN','E','Disbursement can’t be done for disbursement type : {0} with pending Covenant PDD Over Due or OTC.','','Approved','','','','','',0,NUll,1000,0);
		</sql>
	</changeSet>
	<changeSet id="154" author="Madhubabu">
		<comment> alwotc added </comment>
		<createView viewName="fincovenanttype_eaview" replaceIfExists="true">
			SELECT t.finreference,
		    t.custid,
		    t.covenanttype,
		    t.description,
		    t.mandrole,
		    t.alwwaiver,
		    t.alwpostpone,
		    t.alwotc,
		    t.postponedays,
		    t.covenanttypedesc,
		    t.categorycode,
		    t.receivabledate,
		    t.version,
		    t.lastmntby,
		    t.lastmnton,
		    t.recordstatus,
		    t.rolecode,
		    t.nextrolecode,
		    t.taskid,
		    t.nexttaskid,
		    t.recordtype,
		    t.workflowid,
        CASE
            WHEN t.docreceiveddate IS NULL THEN cd.lastmnton
            ELSE t.docreceiveddate
        END AS docreceiveddate
   FROM ( SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
         	t1.alwotc,
            t1.postponedays,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate
           FROM fincovenanttype t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory) t
     		LEFT JOIN customerdocuments cd ON cd.custid = t.custid AND t.covenanttype = cd.custdoccategory
		</createView>
	</changeSet>
	<changeSet id="155" author="Madhubabu">
		<comment> alwotc added </comment>
		<createView viewName="fincovenanttype_eview" replaceIfExists="true">
			SELECT t.finreference,
		    t.custid,
		    t.covenanttype,
		    t.description,
		    t.mandrole,
		    t.alwwaiver,
		    t.alwpostpone,
		    t.alwotc,
		    t.postponedays,
		    t.covenanttypedesc,
		    t.categorycode,
		    t.receivabledate,
		    t.version,
		    t.lastmntby,
		    t.lastmnton,
		    t.recordstatus,
		    t.rolecode,
		    t.nextrolecode,
		    t.taskid,
		    t.nexttaskid,
		    t.recordtype,
		    t.workflowid,
        CASE
            WHEN t.docreceiveddate IS NULL THEN cd.lastmnton
            ELSE t.docreceiveddate
        END AS docreceiveddate
   FROM ( SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
            t1.postponedays,
         	t1.alwotc,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate
           FROM fincovenanttype_temp t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory
        UNION ALL
         SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
            t1.postponedays,
         	t1.alwotc,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate
           FROM fincovenanttype t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory
          WHERE NOT (EXISTS ( SELECT 1
                   FROM fincovenanttype_temp
                  WHERE fincovenanttype_temp.finreference = t1.finreference AND fincovenanttype_temp.covenanttype = t1.covenanttype))) t
     LEFT JOIN customerdocuments cd ON cd.custid = t.custid AND t.covenanttype = cd.custdoccategory
		</createView>
	</changeSet>
</databaseChangeLog>
	