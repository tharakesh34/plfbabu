<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PFFBFSQCAudit.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()::timestamp" dbms="postgresql" />
	<changeSet id="1" author="Prasad">
	<createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		  <![CDATA[  Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
			Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount else 0 end Credit,1 Ordby
	   from finscheduledetails T1
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,2 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0
	union 	
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,3 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID		
	union	
		Select REFERENCE,Receiveddate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||CHEQUEACNO ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||CHEQUEACNO ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID			 
	union 	
		Select finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		TotPenaltyAmt Debit, 0 credit,5 Ordby
		From FinODDetails where TOtPenaltyAmt > 0 
  union
    Select T1.Finreference,FInApprovedDate,Feetypedesc||'- Due ('||T1.Finreference||')', RemainingFee Debit, 0 credit,6 Ordby
    from finfeedetail T1 
    inner join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    where Originationfee=1 and feeSchedulemethod='DISB'
  union
    Select T1.Finreference,T2.FInApprovedDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,7 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED'
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
	</changeSet>
	<changeSet id="2" author="Prasad">
	<createView viewName="RPT_SOA_LOAN_VIEW" replaceIfExists="true">
		  <![CDATA[  Select FM.FinReference,FP.TotalPriSchd LoanAmount,
		   FM.RepayBaseRate PLRRate,FM.repaymargin Variance,FM.EffectiveRateOfReturn IRR,FP.CURREDUCINGRATE ROI,
		   FM.CalTerms Tenure,TotalPriPaid EMIReceivedPri ,TotalPftPaid EMIReceivedPft,
		   0.00 PreferredCardLimit,PRVRPYSCHPRI PrevInstAmtPri,PRVRPYSCHPFT PrevInstAmtPft,
		   Case when FM.RvwRateApplFor is null or FM.RvwRateApplFor='#' then 'Fixed' else 'Floating' end intRateType,FP.latestDisbDate LastDisbursalDate,
		   FP.FirstRepayDate FirstDueDate,FP.MaturityDate EndInstallmentDate,
		   '0.00/ 0' AdvInstAmt,FP.FinIsActive,FM.closingstatus,
		   FP.Futureinst FutureInstNo,FP.totalpriSchd FuturePri1,FP.tdSchdPri FuturePri2,
       FP.totalPftSchd FutureRpyPft1,FP.tdSchdPft FutureRpyPft2,
		   FP.totchargespaid Charge_coll_cust,
		   FP.UpFrontFee Upfront_int_cust,	0 Int_paid_Dealer_upfront,0 Pre_emi_Int_Paid,
		   '' Repo_Status,'' Repo_Date,'' Sale_Date,'' Release_Date,FP.LATESTRPYDATE,
       C.ccyMinorccyunits,ccyEditField
	From FinanceMain FM inner join
       FinPftDetails FP on FP.FinReference = FM.FinReference inner join
       RMTCURRENCIES C on C.ccycode= FP.finccy]]>
		</createView>
	</changeSet>
	<changeSet id="3" author="Prasad">
	<sql>Update FinanceMain set ReqMaturity  = MaturityDate</sql>
	</changeSet>
		<changeSet id="4" author="pruthvi">
		<sql>
	update reportlist
set fieldlabels='listheader_RuleCode.label,listheader_RuleCodeDesc.label',
fieldvalues='ruleCode,ruleCodeDesc',
fieldtype='String,String',
ReportFileName='ReportList02'
where code='ScoreRule';
</sql>
</changeSet>
<changeSet id="5" author="Irfan">
		<addColumn tableName="FINRECEIPTDETAIL">
			<column name="ReceiptNo" type="VARCHAR2(50)"/>
		</addColumn>
		<addColumn tableName="FINRECEIPTDETAIL_TEMP">
			<column name="ReceiptNo" type="VARCHAR2(50)"/>
		</addColumn>
	</changeSet>
<changeSet id="6" author="Irfan">
		<createView viewName="FINRECEIPTDETAIL_TVIEW" replaceIfExists="true">
			Select T1.ReceiptID , T1.ReceiptSeqID , T1.ReceiptType , T1.PaymentTo , T1.PaymentType , T1.PayAgainstID  , 
			T1.Amount  , T1.FavourNumber , T1.ValueDate , T1.BankCode , T1.FavourName , T1.DepositDate , T1.DepositNo , T1.PaymentRef , 
			 T1.TransactionRef , T1.ChequeAcNo , T1.FundingAc , T1.ReceivedDate , T1.Status , T1.Remarks  , T2.BankName BankCodeDesc,
			 T3.PartnerBankCode FundingAcDesc , T1.PayOrder, T1.LogKey, T3.AccountNo PartnerBankAc, T3.AcType PartnerBankAcType, T1.ReceiptNo
			 From FinReceiptDetail_Temp T1 LEFT JOIN 
			   BMTBankDetail T2 ON T1.BankCode = T2.BankCode LEFT JOIN 
			   PartnerBanks T3 ON T1.FundingAc  = T3.PartnerBankID
		
		</createView>
	</changeSet>
	<changeSet id="7" author="Irfan">
		<createView viewName="FINRECEIPTDETAIL_AVIEW" replaceIfExists="true">
			Select T1.ReceiptID , T1.ReceiptSeqID , T1.ReceiptType , T1.PaymentTo , T1.PaymentType , T1.PayAgainstID  , 
			T1.Amount  , T1.FavourNumber , T1.ValueDate , T1.BankCode , T1.FavourName , T1.DepositDate , T1.DepositNo , T1.PaymentRef , 
			 T1.TransactionRef , T1.ChequeAcNo , T1.FundingAc , T1.ReceivedDate , T1.Status , T1.Remarks  , T2.BankName BankCodeDesc,
			 T3.PartnerBankCode FundingAcDesc, T1.PayOrder , T1.LogKey, T3.AccountNo PartnerBankAc, T3.AcType PartnerBankAcType, T1.ReceiptNo
			 From FinReceiptDetail T1 LEFT JOIN 
			   BMTBankDetail T2 ON T1.BankCode = T2.BankCode LEFT JOIN 
			   PartnerBanks T3 ON T1.FundingAc  = T3.PartnerBankID
		</createView>
	</changeSet>
	<changeSet id="8" author="Irfan">
		<sql>
		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'ReceiptDialog_receiptNo','ReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
		
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ReceiptDialog_receiptNo'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		
		
		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		</sql>
	</changeSet>
	
	<changeSet id="9" author="Vinay">
		<sql>
			Insert into BMTLovfieldcode(FIELDCODE,FIELDCODEDESC,FIELDCODETYPE,FIELDEDIT,ISACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
			values
			('SEGMENT','Segment','String',0,1,1,1000,'19-FEB-17','Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	
	<changeSet id="10" author="Vinay">
	<sql>
		Insert into RMTLovfielddetail
		(FIELDCODEID,FIELDCODE,FIELDCODEVALUE,VALUEDESC,ISACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,SYSTEMDEFAULT)
		values
		(308,'SEGMENT','A+','A+',1,1,1000,'19-FEB-17','Approved',null,null,null,null,null,0,0);
		
		Insert into RMTLovfielddetail
		(FIELDCODEID,FIELDCODE,FIELDCODEVALUE,VALUEDESC,ISACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,SYSTEMDEFAULT)
		values
		(309,'SEGMENT','A','A',1,1,1000,'19-FEB-17','Approved',null,null,null,null,null,0,0);
		
		 Insert into RMTLovfielddetail
		(FIELDCODEID,FIELDCODE,FIELDCODEVALUE,VALUEDESC,ISACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,SYSTEMDEFAULT)
		values
		(310,'SEGMENT','B','B',1,1,1000,'19-FEB-17','Approved',null,null,null,null,null,0,0);
		
		Insert into RMTLovfielddetail
		(FIELDCODEID,FIELDCODE,FIELDCODEVALUE,VALUEDESC,ISACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,SYSTEMDEFAULT)
		values
		(311,'SEGMENT','C','C',1,1,1000,'19-FEB-17','Approved',null,null,null,null,null,0,0);
		
		Insert into RMTLovfielddetail
		(FIELDCODEID,FIELDCODE,FIELDCODEVALUE,VALUEDESC,ISACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,SYSTEMDEFAULT)
		values
		(312,'SEGMENT','NEGATIVE','NEGATIVE',1,1,1000,'19-FEB-17','Approved',null,null,null,null,null,0,0);
	</sql>
</changeSet>
<changeSet id="11" author="Irfan">
		<sql>
		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'FeeReceiptDialog_receiptNo','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
		
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_receiptNo'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		
		
		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		</sql>
	</changeSet>
	
	<changeSet id="12" author="Siva">
		<createView viewName="FINRECEIPTHEADER_FVIEW" replaceIfExists="true">
			SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive
							FROM         FinReceiptHeader_Temp T1 INNER JOIN
				       FinanceMain_Temp T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
		</createView>
	</changeSet>
	
	<changeSet id="13" author="Manoj.P">
		<sql>
			DELETE FROM DATA_ENGINE_LOG WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT');
			DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY;
			DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT';
			
			DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT'));
			DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT');
			DELETE FROM DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT';
			
			INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'MANDATES_EXPORT', 'Mandates export', 2, NULL, NULL, NULL, ',' , 0, 0, NULL, 'Row:{INSTRUMENT AUTO DATA ENTRY REPORT}Row:{User:${USER_ID}}Row:{Business Date:${SYS_DATE_DD-MMM-YYYY}}Row:{Branch Name:${FILTER_BRANCHCODE}}Row:{FromDate:${FILTER_FROMDATE},  ToDate:${FILTER_TODATE}}ROW:{EMPTY_ROW}ROW:{Mandate Sequence No.,Customer Name,Branch,Product,Application ID,LAN No.,EMI Amount,Open Flag,Account Holder Name,MICR Code,Account No.,Account Type,Updation Date,User ID,First Due Date,EMI End Date,Open End Date,Open Upper Limit,Bank Name,Mandate Debit Amount,Start Date,End Date,Application Form No.,Customer Code,Repayment Mode,Mandate No.}',  '', 'A', '/opt/PFF/mandates/request', 'MANDATE_', '.CSV', 0, NULL, '${ddMMYYYYHms}', NULL, 0, NULL, 1, 1); 
			INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT'), 'MANDATE_REQUESTS',  0, 'ID', 'ID IN (:ID)', 'UPDATE MANDATE_REQUESTS SET BATCH_ID = :FILEID, STATUS = ''AC'' WHERE ID IN (:ID)QUERY:UPDATE MANDATES SET STATUS = ''AC'' WHERE MANDATEID IN (SELECT MANDATEID FROM MANDATE_REQUESTS WHERE ID IN (:ID) AND STATUS = ''AC'')', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
			
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BANK_SEQ',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);	
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'CUSTOMER_NAME',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BRANCH_NAME',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'FINTYPE',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'APPLICATION_NUMBER',	0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'FINREFERENCE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EMI',					0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'OPENFLAG',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_HOLDER_NAME',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MICR_CODE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_NUMBER',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_TYPE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EXTRACTION_DATE',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'USERNAME',				1, 'N', NULL, NULL, '${USER_NAME}', NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EFFECTIVE_DATE',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EMI_ENDDATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'OPEN_ENDDATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'UPPER_LIMIT',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BANK_NAME',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'DEBIT_AMOUNT',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'START_DATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'END_DATE',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'APPLICATION_NUMBER',	0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'CUSTCIF',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MANDATE_TYPE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ID',					0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			
			
			UPDATE SEQ_DATA_ENGINE_CONFIG SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_CONFIG);
			UPDATE SEQ_DATA_ENGINE_TABLE  SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_TABLE);
			UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN);
			UPDATE SEQ_DATA_ENGINE_STATUS SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_STATUS);
						
		</sql>
	</changeSet>
	<changeSet id="14" author="Siva">
		<createView viewName="FINRECEIPTHEADER_FVIEW" replaceIfExists="true">
		SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, T2.ScheduleMethod, T2.ProfitDaysBasis PftDaysBasis
							FROM         FinReceiptHeader_Temp T1 INNER JOIN
				       FinanceMain_Temp T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
		</createView>
	</changeSet>
	
	<changeSet id="15" author="Siva">
	<sql>
		INSERT INTO ErrorDetails VALUES('60209','EN','E','Record not in the Process of approval. Not possible to Cancel the receipt','','Approved','','','','','',0,current_timestamp,1000,0);
	</sql>
	</changeSet>
	<changeSet id="16" author="Irfan">
		<addColumn tableName="FINRECEIPTHEADER">
			<column name="WaviedAmt" type="number(18,0)"/>
		</addColumn>
		<addColumn tableName="FINRECEIPTHEADER_TEMP">
			<column name="WaviedAmt" type="number(18,0)"/>
		</addColumn>
	</changeSet>
	<changeSet id="17" author="Irfan">
		<createView viewName="FINRECEIPTHEADER_VIEW" replaceIfExists="true">
			
			SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, T1.WaviedAmt
							FROM         FinReceiptHeader_Temp T1 INNER JOIN
				       FinanceMain T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
				UNION ALL
				 SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, T1.WaviedAmt
							FROM         FinReceiptHeader T1 INNER JOIN
				       FinanceMain T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
						WHERE     NOT EXISTS
				                          (SELECT     1
				                            FROM          FinReceiptHeader_TEMP 
				                            WHERE      ReceiptID = T1.ReceiptID)
		</createView>
	</changeSet>
	
	<changeSet id="18" author="Irfan">
	<createView viewName="FINRECEIPTHEADER_FVIEW" replaceIfExists="true">
	 SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, T2.ScheduleMethod, T2.ProfitDaysBasis PftDaysBasis, T1.WaviedAmt
							FROM         FinReceiptHeader_Temp T1 INNER JOIN
				       FinanceMain_Temp T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
	
	</createView>
	</changeSet>
	<changeSet id="19" author="Irfan">
	<sql>
		INSERT INTO ErrorDetails VALUES('65014','EN','W','{0} {1} {2}Already Exists {0}. Do you want to proceed?','','Approved','','','','','',0,current_timestamp,1000,0);
	</sql>
	</changeSet>
	<changeSet id="20" author="Irfan">
		<sql>
		INSERT INTO BMTAEEVENTS VALUES('FEEPAY','Accounting on Fee Receipt',1,1000,current_timestamp,'Approved','','','','','',0,1,1,0);
		</sql>
	</changeSet>
	<changeSet id="21" author="Irfan">
		<sql>
			INSERT INTO BMTAMOUNTCODES VALUES('FEEPAY',0,'ae_paidFee','Accounting on Fee Receipt',1,1,1000,current_timestamp,'Approved','','','','','',0);
		</sql>
	</changeSet>
	
	<changeSet id="22" author="durgapraad G">
		<addColumn tableName="MANUALADVISE">
			<column name="RESERVEDAMT" type="NUMBER(18)" />
			<column name="BALANCEAMT" type="NUMBER(18)" />
		</addColumn>
	</changeSet>
	<changeSet id="23" author="Durgaprasad G">
		<addColumn tableName="MANUALADVISE_TEMP">
			<column name="RESERVEDAMT" type="NUMBER(18)" />
			<column name="BALANCEAMT" type="NUMBER(18)" />
		</addColumn>
	</changeSet>
	<changeSet id="24" author="Durgaprasad G">
		<addColumn tableName="MANUALADVISEMOVEMENTS">
			<column name="RESERVEDAMT" type="NUMBER(18)" />
		</addColumn>
	</changeSet>
	<changeSet id="25" author="Durgaprasad G">
		<addColumn tableName="MANUALADVISEMOVEMENTS_TEMP">
			<column name="RESERVEDAMT" type="NUMBER(18)" />
		</addColumn>
	</changeSet>
	<changeSet id="26" author="Irfan">
	<sql>
		delete  from ErrorDetails where errorcode='65015';
		INSERT INTO ErrorDetails VALUES('65015','EN','E','Accounting entries not created to proceed further.','','Approved','','','','','',0,current_timestamp,1000,0);
	</sql>
	</changeSet>
	
	<changeSet id="27" author="Irfan">
	<sql>
		delete  from ErrorDetails where errorcode='65014';
		INSERT INTO ErrorDetails VALUES('65014','EN','W','Fee Receipt on reference:{0} is already exists. Do you want to proceed?','','Approved','','','','','',0,current_timestamp,1000,0);
	</sql>
	</changeSet>
	
	<changeSet id="28" author="Siva">
		<createTable tableName="ManualAdviseReserve">
			<column name="AdviseID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="ReceiptSeqID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="ReservedAmt" type="decimal(18,0)" />
		</createTable>
	</changeSet>
	
	<changeSet id="29" author="Siva">
	<createView viewName="MANUALADVISE_AVIEW" replaceIfExists="true">
 SELECT		T1.AdviseID, T1.AdviseType, T1.FinReference, T1.FeeTypeID, T1.Sequence,
  				T1.AdviseAmount, T1.PaidAmount, T1.WaivedAmount, T1.Remarks, T1.ValueDate, T1.PostDate,
  					T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.FeeTypeDesc, T2.FeeTypeCode, T1.BounceID, T1.ReceiptID,T3.BOUNCECODE, T1.ReservedAmt, T1.BalanceAmt
				FROM    	ManualAdvise  T1
       			LEFT JOIN FEETYPES T2 ON T1.FeeTypeID = T2.FeeTypeID
				LEFT JOIN BOUNCEREASONS T3 ON T1.BounceID = T3.BOUNCEID
	</createView>
	</changeSet>
	
	<changeSet id="30" author="Siva">
	<createView viewName="MANUALADVISE_TVIEW" replaceIfExists="true">
  SELECT		T1.AdviseID, T1.AdviseType, T1.FinReference, T1.FeeTypeID, T1.Sequence, 
  				T1.AdviseAmount, T1.PaidAmount, T1.WaivedAmount, T1.Remarks, T1.ValueDate, T1.PostDate,
  					T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.FeeTypeDesc, T2.FeeTypeCode, T1.BounceID, T1.ReceiptID, T3.BOUNCECODE, T1.ReservedAmt, T1.BalanceAmt
				FROM    	ManualAdvise_Temp  T1
       			LEFT JOIN FEETYPES T2 ON T1.FeeTypeID = T2.FeeTypeID
       			LEFT JOIN BOUNCEREASONS T3 ON T1.BounceID = T3.BOUNCEID
	</createView>
	</changeSet>
	<changeSet id="31" author="Siva">
	<createView viewName="MANUALADVISE_VIEW" replaceIfExists="true">
  SELECT		T1.AdviseID, T1.AdviseType, T1.FinReference, T1.FeeTypeID, T1.Sequence,
  				T1.AdviseAmount, T1.PaidAmount, T1.WaivedAmount, T1.Remarks, T1.ValueDate, T1.PostDate,
  					T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.FeeTypeDesc, T2.FeeTypeCode, T1.BounceID, T1.ReceiptID,T3.BOUNCECODE, T1.ReservedAmt, T1.BalanceAmt
				FROM    	ManualAdvise_Temp  T1
       			LEFT JOIN FEETYPES T2 ON T1.FeeTypeID = T2.FeeTypeID
         		LEFT JOIN BOUNCEREASONS T3 ON T1.BounceID = T3.BOUNCEID
				UNION ALL
SELECT		T1.AdviseID, T1.AdviseType, T1.FinReference, T1.FeeTypeID, T1.Sequence,
  				T1.AdviseAmount, T1.PaidAmount, T1.WaivedAmount, T1.Remarks, T1.ValueDate, T1.PostDate,
  					T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.FeeTypeDesc, T2.FeeTypeCode, T1.BounceID, T1.ReceiptID,T3.BOUNCECODE, T1.ReservedAmt, T1.BalanceAmt
				FROM    	ManualAdvise  T1
       			LEFT JOIN FEETYPES T2 ON T1.FeeTypeID = T2.FeeTypeID
           		LEFT JOIN BOUNCEREASONS T3 ON T1.BounceID = T3.BOUNCEID
				WHERE     NOT EXISTS (SELECT 1 FROM ManualAdvise_TEMP WHERE AdviseID = T1.AdviseID)
	</createView>
	</changeSet>
	
	<changeSet id="32" author="Siva">
	<sql>
		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 

		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'ReceiptDialog_PayableAmount','ReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ReceiptDialog_PayableAmount'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	</sql>
	</changeSet>
	<changeSet id="33" author="Surekha">
		<addColumn tableName="AccountMapping">
			<column name="AccountType" type="varchar(15)"></column>
		</addColumn>
	</changeSet>
	<changeSet id="34" author="Surekha">
		<addColumn tableName="AccountMapping_Temp">
			<column name="AccountType" type="varchar(15)"></column>
		</addColumn>
	</changeSet>
	<changeSet id="35" author="Surekha">
		<sql>
			update AccountMapping set AccountType='DISB';
		</sql>
	</changeSet>
	<changeSet id="36" author="Surekha">
		<addNotNullConstraint tableName="AccountMapping" columnName="AccountType" columnDataType="varchar(15)"/>
	</changeSet>
	<changeSet id="37" author="Surekha">
		<createView viewName="ACCOUNTMAPPING_VIEW" replaceIfExists="true">
			SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				            T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				          	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc
				FROM    	AccountMapping_Temp  T1  INNER JOIN
				         	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  INNER JOIN
				         	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID INNER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType
				UNION ALL
				
				SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				          	T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc
				FROM    	AccountMapping  T1  INNER JOIN
				          	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  INNER JOIN
				          	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID INNER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType
				          
				WHERE     	NOT EXISTS (SELECT 1 FROM AccountMapping_TEMP WHERE Account = T1.Account)
		</createView>
	</changeSet>
	<changeSet id="38" author="Surekha">
		<createView viewName="ACCOUNTMAPPING_AVIEW" replaceIfExists="true">
			SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				            T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				          	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc
				FROM    	AccountMapping  T1  INNER JOIN
				         	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  INNER JOIN
				         	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID INNER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType
		</createView>
	</changeSet>
	<changeSet id="39" author="Irfan">
		<sql>
		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'AccountMappingDialog_AccountType','AccountMappingDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'AccountMappingDialog_FinType','AccountMappingDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'AccountMappingDialog_ProfitCenter','AccountMappingDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'AccountMappingDialog_CostCenter','AccountMappingDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
		
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='ACCOUNTMAPPING_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='AccountMappingDialog_AccountType'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='ACCOUNTMAPPING_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='AccountMappingDialog_FinType'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='ACCOUNTMAPPING_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='AccountMappingDialog_ProfitCenter'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='ACCOUNTMAPPING_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='AccountMappingDialog_CostCenter'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		
		
		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		</sql>
	</changeSet>
	<changeSet id="42" author="Surekha">
		<createView viewName="ACCOUNTMAPPING_VIEW" replaceIfExists="true">
			SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				            T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				          	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc, T5.FinTypeDesc
				FROM    	AccountMapping_Temp  T1  INNER JOIN
				         	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  INNER JOIN
				         	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID INNER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType INNER JOIN 
				         	RMTFinanceTypes T5 ON T1.FinType = T5.FinType
				UNION ALL
				
				SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				          	T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc, T5.FinTypeDesc
				FROM    	AccountMapping  T1  INNER JOIN
				          	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  INNER JOIN
				          	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID INNER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType INNER JOIN 
				         	RMTFinanceTypes T5 ON T1.FinType = T5.FinType
				          
				WHERE     	NOT EXISTS (SELECT 1 FROM AccountMapping_TEMP WHERE Account = T1.Account)
		</createView>
	</changeSet>
	<changeSet id="43" author="Surekha">
		<createView viewName="ACCOUNTMAPPING_AVIEW" replaceIfExists="true">
			SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				            T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				          	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc, T5.FinTypeDesc
				FROM    	AccountMapping  T1  INNER JOIN
				         	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  INNER JOIN
				         	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID INNER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType INNER JOIN 
				         	RMTFinanceTypes T5 ON T1.FinType = T5.FinType
		</createView>
	</changeSet>
	<changeSet id="44" author="Irfan">
		<sql>
			INSERT INTO BMTAMOUNTCODES VALUES('VASFEE',0,'ae_vasFee','Accounting on Vas Fee',1,1,1000,current_timestamp,'Approved','','','','','',0);
		</sql>
	</changeSet>
	
	<changeSet id="40" author="Madhubabu">
		<dropForeignKeyConstraint baseTableName="EMPLOYERDETAIL_TEMP"
			constraintName="FK_EMYRDTL_TEMP_RMTEMPTYPES" />
	</changeSet>
	<changeSet id="41" author="Madhubabu">
		<dropForeignKeyConstraint baseTableName="EMPLOYERDETAIL"
			constraintName="FK_EMYRDTL_RMTEMPTYPES" />
	</changeSet>
	<changeSet id="48" author="Irfan">
		<sql>
			update BMTAMOUNTCODES set amountcode='vf_vasFee' where  amountcode='ae_vasFee';
		</sql>
	</changeSet>
	<changeSet id="45" author="Madhubabu">
	<sql>
		update EMPLOYERDETAIL_TEMP set EMPINDUSTRY=(select industrycode from bmtindustries where industrydesc='MANUFACTURING INDUSTRY');
		update EMPLOYERDETAIL set EMPINDUSTRY=(select industrycode from bmtindustries where industrydesc='MANUFACTURING INDUSTRY');
	</sql>
	</changeSet>
	
	<changeSet id="46" author="Madhubabu">
		<addForeignKeyConstraint constraintName="FK_EMYRDTL_TEMP_BMTINDUSTRY"
			referencedTableName="BMTINDUSTRIES" referencedColumnNames="INDUSTRYCODE"
			baseTableName="EMPLOYERDETAIL_TEMP" baseColumnNames="EMPINDUSTRY" />
	</changeSet>
	
	<changeSet id="47" author="Madhubabu">
		<addForeignKeyConstraint constraintName="FK_EMYRDTL_BMTINDUSTRY"
			referencedTableName="BMTINDUSTRIES" referencedColumnNames="INDUSTRYCODE"
			baseTableName="EMPLOYERDETAIL" baseColumnNames="EMPINDUSTRY" />
	</changeSet>
	<changeSet id="49" author="Madhubabu">
		<createView viewName="EMPLOYERDETAIL_VIEW" replaceIfExists="true">
			SELECT T1.EmployerId ,T1.EmpIndustry ,T1.EmpName ,T1.EstablishDate ,T1.EmpAddrHNbr ,
          T1.EmpFlatNbr ,T1.EmpAddrStreet ,T1.EmpAddrLine1 ,T1.EmpAddrLine2 ,T1.EmpPOBox ,T1.EmpCountry ,T1.EmpPhone ,T1.EmpFax ,T1.EmpTelexNo ,T1.EmpEmailId ,T1.EmpProvince ,T1.EmpCity ,
          T1.EmpWebSite ,T1.ContactPersonName ,T1.ContactPersonNo ,T1.EmpAlocationType ,T1.BankRefNo, T1.EmpIsActive,T1.Version ,T1.LastMntBy ,T1.LastMntOn ,
          T2.UsrLogin ,T2.UsrFName ,T2.UsrMName ,T2.UsrLName ,T1.RecordStatus ,T1.RoleCode ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId ,
          T1.RecordType ,T1.WorkflowId ,T3.INDUSTRYDESC lovDescIndustryDesc,T4.CountryDesc lovDescCountryDesc,T5.CPProvinceName lovDescProvinceName  ,T6.PCCityName lovDescCityName  
     FROM EmployerDetail_Temp T1
            JOIN SecUsers T2   ON T1.LastMntBy = T2.UsrID
            JOIN bmtindustries T3   ON T1.EmpIndustry = T3.Industrycode
            JOIN BMTCountries T4   ON T1.EmpCountry = T4.CountryCode
            JOIN RMTCountryVsProvince T5   ON T1.EmpProvince = T5.CPProvince
            AND T1.EmpCountry = T5.CPCountry
            LEFT JOIN RMTProvinceVsCity T6   ON T1.EmpCity = T6.PCCity
            AND T1.EmpProvince = T6.PCProvince
            AND T1.EmpCountry = T6.PCCountry
   UNION ALL 
  SELECT T1.EmployerId ,T1.EmpIndustry ,T1.EmpName ,T1.EstablishDate ,T1.EmpAddrHNbr ,
          T1.EmpFlatNbr ,T1.EmpAddrStreet ,T1.EmpAddrLine1 ,T1.EmpAddrLine2 ,T1.EmpPOBox ,T1.EmpCountry ,T1.EmpPhone ,T1.EmpFax ,T1.EmpTelexNo ,T1.EmpEmailId ,T1.EmpProvince ,T1.EmpCity ,
          T1.EmpWebSite ,T1.ContactPersonName ,T1.ContactPersonNo ,T1.EmpAlocationType ,T1.BankRefNo, T1.EmpIsActive,T1.Version ,T1.LastMntBy ,T1.LastMntOn ,
          T2.UsrLogin ,T2.UsrFName ,T2.UsrMName ,T2.UsrLName ,T1.RecordStatus ,T1.RoleCode ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId ,
          T1.RecordType ,T1.WorkflowId ,T3.INDUSTRYDESC lovDescIndustryDesc,T4.CountryDesc lovDescCountryDesc,T5.CPProvinceName lovDescProvinceName  ,T6.PCCityName lovDescCityName  
     FROM EmployerDetail T1
            JOIN SecUsers T2   ON T1.LastMntBy = T2.UsrID
            JOIN bmtindustries T3   ON T1.EmpIndustry = T3.Industrycode
            JOIN BMTCountries T4   ON T1.EmpCountry = T4.CountryCode
            JOIN RMTCountryVsProvince T5   ON T1.EmpProvince = T5.CPProvince
            AND T1.EmpCountry = T5.CPCountry
           LEFT JOIN RMTProvinceVsCity T6   ON T1.EmpCity = T6.PCCity
            AND T1.EmpProvince = T6.PCProvince
            AND T1.EmpCountry = T6.PCCountry
     WHERE NOT EXISTS ( SELECT 1 
                        FROM EmployerDetail_Temp 
                          WHERE EmployerId = T1.EmployerId )
		</createView>
	</changeSet>
	<changeSet id="50" author="Madhubabu">
		<createView viewName="EMPLOYERDETAIL_AVIEW" replaceIfExists="true">
			 SELECT T1.EmployerId ,T1.EmpIndustry ,T1.EmpName ,T1.EstablishDate ,T1.EmpAddrHNbr ,
          T1.EmpFlatNbr ,T1.EmpAddrStreet ,T1.EmpAddrLine1 ,T1.EmpAddrLine2 ,T1.EmpPOBox ,T1.EmpCountry ,T1.EmpPhone ,T1.EmpFax ,T1.EmpTelexNo ,T1.EmpEmailId ,T1.EmpProvince ,T1.EmpCity ,
          T1.EmpWebSite ,T1.ContactPersonName ,T1.ContactPersonNo ,T1.EmpAlocationType ,T1.BankRefNo, T1.EmpIsActive, T1.Version ,T1.LastMntBy ,T1.LastMntOn ,
          T2.UsrLogin ,T2.UsrFName ,T2.UsrMName ,T2.UsrLName ,T1.RecordStatus ,T1.RoleCode ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId ,
          T1.RecordType ,T1.WorkflowId ,T3.INDUSTRYDESC lovDescIndustryDesc,T4.CountryDesc lovDescCountryDesc,T5.CPProvinceName lovDescProvinceName  ,T6.PCCityName lovDescCityName  
     FROM EmployerDetail T1
            JOIN SecUsers T2   ON T1.LastMntBy = T2.UsrID
            JOIN bmtindustries T3   ON T1.EmpIndustry = T3.Industrycode
            JOIN BMTCountries T4   ON T1.EmpCountry = T4.CountryCode
            JOIN RMTCountryVsProvince T5   ON T1.EmpProvince = T5.CPProvince
            AND T1.EmpCountry = T5.CPCountry
            LEFT JOIN RMTProvinceVsCity T6   ON T1.EmpCity = T6.PCCity
            AND T1.EmpProvince = T6.PCProvince
            AND T1.EmpCountry = T6.PCCountry
		</createView>
	</changeSet>
	<changeSet id="51" author="Madhubabu">
		<createView viewName="EMPLOYERDETAIL_TVIEW" replaceIfExists="true">
			SELECT T1.EmployerId ,T1.EmpIndustry ,T1.EmpName ,T1.EstablishDate ,T1.EmpAddrHNbr ,
          T1.EmpFlatNbr ,T1.EmpAddrStreet ,T1.EmpAddrLine1 ,T1.EmpAddrLine2 ,T1.EmpPOBox ,T1.EmpCountry ,T1.EmpPhone ,T1.EmpFax ,T1.EmpTelexNo ,T1.EmpEmailId ,T1.EmpProvince ,T1.EmpCity ,
          T1.EmpWebSite ,T1.ContactPersonName ,T1.ContactPersonNo ,T1.EmpAlocationType ,T1.BankRefNo, T1.EmpIsActive, T1.Version ,T1.LastMntBy ,T1.LastMntOn ,
          T2.UsrLogin ,T2.UsrFName ,T2.UsrMName ,T2.UsrLName ,T1.RecordStatus ,T1.RoleCode ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId ,
          T1.RecordType ,T1.WorkflowId ,T3.INDUSTRYDESC lovDescIndustryDesc,T4.CountryDesc lovDescCountryDesc,T5.CPProvinceName lovDescProvinceName  ,T6.PCCityName lovDescCityName  
     FROM EmployerDetail_Temp T1
            JOIN SecUsers T2   ON T1.LastMntBy = T2.UsrID
            JOIN bmtindustries T3   ON T1.EmpIndustry = T3.Industrycode
            JOIN BMTCountries T4   ON T1.EmpCountry = T4.CountryCode
            JOIN RMTCountryVsProvince T5   ON T1.EmpProvince = T5.CPProvince
            AND T1.EmpCountry = T5.CPCountry
            LEFT JOIN RMTProvinceVsCity T6   ON T1.EmpCity = T6.PCCity
            AND T1.EmpProvince = T6.PCProvince
            AND T1.EmpCountry = T6.PCCountry
		</createView>
	</changeSet>
	<changeSet id="52" author="Manoj.P">
		<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
		   	  SELECT   
		      FA. PAYMENTID,
		      FA.FINREFERENCE,
		      CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
		      FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
		      FA.DISBDATE,
         	  FA.LLDATE,
		      FA.PAYABLELOC,
		      FA.PRINTINGLOC,
		      CU.CUSTCIF,            
		      CU.CUSTSHRTNAME,     
		      CM.PHONECOUNTRYCODE||CM.PHONEAREACODE||CM.PHONENUMBER AS CUSTOMER_MOBILE,
		      CE.CUSTEMAIL       CUSTOMER_EMAIL,
		      CS.CPPROVINCENAME  CUSTOMER_STATE,
		      CC.PCCITYNAME      CUSTOMER_CITY,
		      ''                 CUSTOMER_ADDRESS1,
		      ''                 CUSTOMER_ADDRESS2,
		      ''                 CUSTOMER_ADDRESS3,
		      ''                 CUSTOMER_ADDRESS4,
		      ''                 CUSTOMER_ADDRESS5,
		      BD.BANKNAME,
              BB.BRANCHCODE,
		      BB.BRANCHDESC,
		      BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
		      BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
		      BB.MICR             MICR_CODE,
		      BB.IFSC             IFSC_CODE,
		      FA.BENEFICIARYACCNO,
		      FA.BENEFICIARYNAME,
		      FA.PHONECOUNTRYCODE||FA.PHONEAREACODE||FA.PHONENUMBER AS BENEFICIARY_MOBILE,
		      BCE.CUSTEMAIL        BENFICIRY_EMAIL,
		      BRS.CPPROVINCENAME  BENFICIARY_STATE,
		      BRC.PCCITYNAME      BENFICIARY_CITY,
		      ''                  BENFICIARY_ADDRESS1,
		      ''                  BENFICIARY_ADDRESS2,
		      ''                  BENFICIARY_ADDRESS3,
		      ''                  BENFICIARY_ADDRESS4,
		      ''                  BENFICIARY_ADDRESS5,
		      ''				          PAYMENT_DETAIL1,
		      ''                  PAYMENT_DETAIL2,
		      ''                  PAYMENT_DETAIL3,
		      ''                  PAYMENT_DETAIL4,
		      ''                  PAYMENT_DETAIL5,
		      ''                  PAYMENT_DETAIL6,
		      ''                  PAYMENT_DETAIL7,     
		      FA.STATUS           STATUS,
		      FA.DESCRIPTION      REMARKS,
          FA.PAYMENTTYPE      PAYMENTTYPE,
          FM.FINTYPE,
          PB.PARTNERBANKID,
          PB.PARTNERBANKCODE,
          FA.INPUTDATE,
          PB.ALWFILEDOWNLOAD
		      FROM FINADVANCEPAYMENTS FA
		      INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = FA.FINREFERENCE
		      INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
		      INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
          INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
		      LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
		      LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
		      LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
		      LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
		      LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
		      LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
		      LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
		      LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
			    LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
		      LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
		      LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
		      LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
		      LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
		      LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
		      LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
		      WHERE STATUS='Approved' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
		</createView>
	</changeSet>
	
	<changeSet id="53" author="Surekha">
		<createView viewName="ACCOUNTMAPPING_VIEW" replaceIfExists="true">
			  SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				            T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				          	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc, T5.FinTypeDesc
				FROM    	AccountMapping_Temp  T1   LEFT OUTER JOIN
				         	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  LEFT OUTER JOIN
				         	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID  LEFT OUTER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType  LEFT OUTER JOIN
				         	RMTFinanceTypes T5 ON T1.FinType = T5.FinType
				UNION ALL
				
				SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				          	T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc, T5.FinTypeDesc
				FROM    	AccountMapping  T1  INNER JOIN
				          	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  LEFT OUTER JOIN
				          	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID LEFT OUTER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType LEFT OUTER JOIN 
				         	RMTFinanceTypes T5 ON T1.FinType = T5.FinType
				          
				WHERE     	NOT EXISTS (SELECT 1 FROM AccountMapping_TEMP WHERE Account = T1.Account)
		</createView>
	</changeSet>
	<changeSet id="54" author="Surekha">
		<createView viewName="ACCOUNTMAPPING_AVIEW" replaceIfExists="true">
			  SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				            T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				          	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc, T5.FinTypeDesc
				FROM    	AccountMapping  T1   LEFT OUTER JOIN
				         	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  LEFT OUTER JOIN
				         	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID  LEFT OUTER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType  LEFT OUTER JOIN
				         	RMTFinanceTypes T5 ON T1.FinType = T5.FinType
				
		</createView>
	</changeSet>
	<changeSet id="55" author="Surekha">
		<sql>
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='ACCOUNTMAPPING_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_AccountMappingDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		</sql>
	</changeSet>
	
	<changeSet id="56" author="Jayant">
	    <createIndex tableName="BATCH_STEP_EXECUTION" indexName="IX_STEP_JOBID_STEPID">
	        <column name="JOB_EXECUTION_ID" type="bigint"/>
	        <column name="STEP_EXECUTION_ID" type="bigint"/>	      
	    </createIndex>
	</changeSet>
	<changeSet id="57" author="Jayant">
	    <createIndex tableName="BATCH_JOB_EXECUTION_PARAMS" indexName="IX_JOBID">
	        <column name="JOB_EXECUTION_ID" type="bigint"/>
	    </createIndex>
	</changeSet>
	<changeSet id="58" author="Jayant">
	    <createIndex tableName="BATCH_JOB_PARAMS" indexName="IX_JOB_INSTANCE_ID">
	        <column name="JOB_INSTANCE_ID" type="bigint"/>
	    </createIndex>
	</changeSet>
	<changeSet id="59" author="Irfan">
		<sql>
			update BMTAMOUNTCODES set amountcode='vr_vasFee' where  amountcode='vf_vasFee';
		</sql>
	</changeSet>
	<changeSet id="60" author="Surekha">
		<createView viewName="ACCOUNTMAPPING_VIEW" replaceIfExists="true">
			  SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				            T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				          	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc, T5.FinTypeDesc
				FROM    	AccountMapping_Temp  T1   LEFT OUTER JOIN
				         	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  LEFT OUTER JOIN
				         	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID  LEFT OUTER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType  LEFT OUTER JOIN
				         	RMTFinanceTypes T5 ON T1.FinType = T5.FinType
				UNION ALL
				
				SELECT		T1.Account, T1.HostAccount, T1.ProfitCenterID, T1.CostCenterID,	T1.FinType,	T1.AccountType,
				          	T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         	T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				          	T2.PROFITCENTERCODE, T2.PROFITCENTERDESC,
				          	T3.COSTCENTERCODE, T3.COSTCENTERDESC, T4.ACTypeDesc AccountTypeDesc, T5.FinTypeDesc
				FROM    	AccountMapping  T1  LEFT OUTER JOIN
				          	ProfitCenters T2 ON T1.ProfitCenterID = T2.ProfitCenterID  LEFT OUTER JOIN
				          	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID LEFT OUTER JOIN 
				         	RMTAccountTypes T4 ON T1.AccountType = T4.AcType LEFT OUTER JOIN 
				         	RMTFinanceTypes T5 ON T1.FinType = T5.FinType
				          
				WHERE     	NOT EXISTS (SELECT 1 FROM AccountMapping_TEMP WHERE Account = T1.Account)
		</createView>
	</changeSet>
	<changeSet id="61" author="Siva">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
			UPDATE SEQSECOPERATIONS SET SEQNO= (SELECT MAX(OPRID) FROM SECOPERATIONS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
			UPDATE SEQSECOPERATIONROLES SET SEQNO= (SELECT MAX(OPRROLEID) FROM SECOPERATIONROLES);
			UPDATE SEQSECUSEROPERATIONS SET SEQNO= (SELECT MAX(USROPRID) FROM SECUSEROPERATIONS);
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'ReceiptDialog_realizationDate','ReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'RECEIPTWAIVER_APPROVER', 'Receipt Waiver Approver','FINANCE', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'RECEIPTREALIZE_MAKER', 'Receipt Realization Maker','FINANCE', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'RECEIPTREALIZE_APPROVER', 'Receipt Realization Approver','FINANCE', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FIN_RECEIPTWAIVER_APPROVER', 'Receipt Waiver Approver', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FIN_RECEIPTREALIZE_MAKER', 'Receipt Realization Maker', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FIN_RECEIPTREALIZE_APPROVER', 'Receipt Realization Approver', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPTWAIVER_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ReceiptDialog_btnReceipt'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPTWAIVER_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceManagement'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPTWAIVER_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_Receipts'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPTREALIZE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ReceiptDialog_btnReceipt'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPTREALIZE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceManagement'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPTREALIZE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_Receipts'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPTREALIZE_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ReceiptDialog_btnReceipt'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPTREALIZE_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceManagement'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPTREALIZE_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_Receipts'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FIN_RECEIPTREALIZE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ReceiptDialog_realizationDate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='FIN_RECEIPTWAIVER_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='RECEIPTWAIVER_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='FIN_RECEIPTREALIZE_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='RECEIPTREALIZE_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='FIN_RECEIPTREALIZE_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='RECEIPTREALIZE_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			
			INSERT INTO SECOPERATIONS SELECT (SELECT MAX(OPRID)+1 FROM SECOPERATIONS), 'RWA', 'Receipt Waiver Approver', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECOPERATIONS WHERE 0=0;
			INSERT INTO SECOPERATIONS SELECT (SELECT MAX(OPRID)+1 FROM SECOPERATIONS), 'RRLA', 'Receipt Realization Approver', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECOPERATIONS WHERE 0=0;
			INSERT INTO SECOPERATIONS SELECT (SELECT MAX(OPRID)+1 FROM SECOPERATIONS), 'RRLM', 'Receipt Realization Maker', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECOPERATIONS WHERE 0=0;
			
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='RWA'), (Select  RoleID  From SecRoles Where RoleCd='RECEIPTWAIVER_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='RRLM'), (Select  RoleID  From SecRoles Where RoleCd='RECEIPTREALIZE_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='RRLA'), (Select  RoleID  From SecRoles Where RoleCd='RECEIPTREALIZE_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			
			INSERT INTO SecUserOperations values((Select MAX(UsrOprID)+1 From SecUserOperations),(Select UsrId  From SecUsers Where UsrLogin='APPROVER'), (Select  OprID  From SecOperations Where OprCode='RWA'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecUserOperations values((Select MAX(UsrOprID)+1 From SecUserOperations),(Select UsrId  From SecUsers Where UsrLogin='MAKER'), (Select  OprID  From SecOperations Where OprCode='RRLM'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecUserOperations values((Select MAX(UsrOprID)+1 From SecUserOperations),(Select UsrId  From SecUsers Where UsrLogin='APPROVER'), (Select  OprID  From SecOperations Where OprCode='RRLA'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
			UPDATE SEQSECOPERATIONS SET SEQNO= (SELECT MAX(OPRID) FROM SECOPERATIONS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
			UPDATE SEQSECOPERATIONROLES SET SEQNO= (SELECT MAX(OPRROLEID) FROM SECOPERATIONROLES);
			UPDATE SEQSECUSEROPERATIONS SET SEQNO= (SELECT MAX(USROPRID) FROM SECUSEROPERATIONS);
		</sql>
	</changeSet>
	<changeSet id="62" author="Prasad">
		<createView viewName="RPT_SOA_LOAN_VIEW" replaceIfExists="true">
			 <![CDATA[Select FM.FinReference,FP.TotalPriSchd LoanAmount,
		   FM.RepayBaseRate PLRRate,FM.repaymargin Variance,FM.EffectiveRateOfReturn IRR,FP.CURREDUCINGRATE ROI,
		   FM.CalTerms Tenure,TotalPriPaid EMIReceivedPri ,TotalPftPaid EMIReceivedPft,
		   0.00 PreferredCardLimit,PRVRPYSCHPRI PrevInstAmtPri,PRVRPYSCHPFT PrevInstAmtPft,
		   Case when FM.RvwRateApplFor is null or FM.RvwRateApplFor='#' then 'Fixed' else 'Floating' end intRateType,FP.latestDisbDate LastDisbursalDate,
		   FP.FirstRepayDate FirstDueDate,FP.MaturityDate EndInstallmentDate,
		   '0.00/ 0' AdvInstAmt,FP.FinIsActive,FM.closingstatus,
		   FP.Futureinst FutureInstNo,FP.totalpriSchd FuturePri1,FP.tdSchdPri FuturePri2,
       FP.totalPftSchd FutureRpyPft1,FP.tdSchdPft FutureRpyPft2,
		   FP.totchargespaid Charge_coll_cust,
		   FP.UpFrontFee Upfront_int_cust,	0 Int_paid_Dealer_upfront,0 Pre_emi_Int_Paid,
		   '' Repo_Status,'' Repo_Date,'' Sale_Date,'' Release_Date,FP.LATESTRPYDATE,
       C.ccyMinorccyunits,ccyEditField
	From FinanceMain FM inner join
       FinPftDetails FP on FP.FinReference = FM.FinReference inner join
       RMTCURRENCIES C on C.ccycode= FP.finccy]]>
		</createView>
	</changeSet>

	
	<changeSet id="63" author="Madhubabu">
		<createTable tableName="FeePostings">
			<column name="PostId" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="PostAgainst" type="nchar(10)" />
			<column name="Reference" type="varchar(20)" />
			<column name="FeeTyeCode" type="char(10)" />
			<column name="PostingAmount" type="decimal(18,0)"/>
			<column name="PostDate" type="datetime" />
			<column name="ValueDate" type="datetime" />
			<column name="Version" type="NUMBER(10,0)" />
			<column name="Lastmntby" type="NUMBER(19,0)" />
			<column name="Lastmnton" type="datetime" />
			<column name="Recordstatus" type="nvarchar(50)" />
			<column name="Rolecode" type="nvarchar(50)" />
			<column name="Nextrolecode" type="nvarchar(200)" />
			<column name="Taskid" type="nvarchar(50)" />
			<column name="Nexttaskid" type="nvarchar(200)" />
			<column name="Recordtype" type="nvarchar(50)" />
			<column name="Workflowid" type="NUMBER(19,0)" />
			
		</createTable>
	</changeSet>
	
	<changeSet id="64" author="Madhubabu">
		<createTable tableName="FeePostings_Temp">
			<column name="PostId" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="PostAgainst" type="nchar(10)" />
			<column name="Reference" type="varchar(20)" />
			<column name="FeeTyeCode" type="char(10)" />
			<column name="PostingAmount" type="decimal(18,0)"/>
			<column name="PostDate" type="datetime" />
			<column name="ValueDate" type="datetime" />
			<column name="Version" type="NUMBER(10,0)" />
			<column name="Lastmntby" type="NUMBER(19,0)" />
			<column name="Lastmnton" type="datetime" />
			<column name="Recordstatus" type="nvarchar(50)" />
			<column name="Rolecode" type="nvarchar(50)" />
			<column name="Nextrolecode" type="nvarchar(200)" />
			<column name="Taskid" type="nvarchar(50)" />
			<column name="Nexttaskid" type="nvarchar(200)" />
			<column name="Recordtype" type="nvarchar(50)" />
			<column name="Workflowid" type="NUMBER(19,0)" />
			
		</createTable>
	</changeSet>

	
	<changeSet id="65" author="satya">
	<sql>
  			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);



INSERT INTO SecGroups SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'BUILDERCOMPANY_VIEW', 'Allow to view BuilderCompany', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
INSERT INTO SecGroups SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'BUILDERCOMPANY_MAKER', 'WF Maker for BuilderCompany', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
INSERT INTO SecGroups SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'BUILDERCOMPANY_APPROVER', 'WF Maker for BuilderCompany', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;


INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),0,'menuItem_masters_BuilderCompany','MENU',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),0,'menuItem_masters_BuilderCompanyEnquiry','MENU',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;

INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderCompanyList_PrintList','BuilderCompanyList',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderCompanyList_NewBuilderCompany','BuilderCompanyList',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderCompanyDialog_btnNew','BuilderCompanyDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderCompanyDialog_btnEdit','BuilderCompanyDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderCompanyDialog_btnDelete','BuilderCompanyDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderCompanyDialog_btnSave','BuilderCompanyDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;

INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'BuilderCompanyDialog_id','BuilderCompanyDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'BuilderCompanyDialog_name','BuilderCompanyDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'BuilderCompanyDialog_segmentation','BuilderCompanyDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;


INSERT INTO SecRights SELECT (select (SeqNo+10+4) from SeqSecRights),3,'BuilderCompanyDialog_groupId','BuilderCompanyDialog',0,1000,'2017-05-22 09:31:08','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_MAKER'), (select max(RightID) from SecRights WHERE RightName='menuCat_ApplicationMaster'),1,0,10000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_masters_BuilderCompany'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_masters_BuilderCompanyEnquiry'),1,0,10000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_BuilderCompanyList_NewBuilderCompany'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_BuilderCompanyDialog_btnDelete'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_BuilderCompanyDialog_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='BuilderCompanyDialog_id'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='BuilderCompanyDialog_name'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='BuilderCompanyDialog_segmentation'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;

INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_APPROVER'), (select max(RightID) from SecRights WHERE RightName='menuCat_ApplicationMaster'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_masters_BuilderCompany'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_masters_BuilderCompanyEnquiry'),1,0,10000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_BuilderCompanyDialog_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;


INSERT INTO SecRoleGroups SELECT (Select MAX(RoleGrpID)+1 From SecRoleGroups), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_MAKER'), (select roleid from SecRoles where RoleCd='MSTGRP1_MAKER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
INSERT INTO SecRoleGroups SELECT (Select MAX(RoleGrpID)+1 From SecRoleGroups), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERCOMPANY_APPROVER'), (select roleid from SecRoles where RoleCd='MSTGRP1_APPROVER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;

            UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
</sql>
</changeSet>

 <changeSet id="66" author="SreeRavali" >
	<addColumn tableName="FinanceMain_Temp">
		<column name="RestructureLoan" type="boolean"/>
		<column name="RestructureReference" type="nvarchar(20)"/>
	</addColumn>
	</changeSet>
	<changeSet id="67" author="SreeRavali" >
	<addColumn tableName="FinanceMain">
		<column name="RestructureLoan" type="boolean"/>
		<column name="RestructureReference" type="nvarchar(20)"/>
	</addColumn>
	</changeSet>
	<changeSet id="68" author="Irfan">
		<sql>
			update BMTAMOUNTCODES set amountcode='vr_fee' where  amountcode='vr_vasFee';
		</sql>
	</changeSet>
	             <changeSet id="69" author="Satya" >
				<createTable tableName="BUILDERCOMPANY">
			<column name="ID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="NAME" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="SEGMENTATION" type="varchar(50)">
				<constraints nullable="false" />
			</column>
                       <column name="GROUPID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />   
		</createTable> 
	</changeSet>
        <changeSet id="70" author="satya">
		<addForeignKeyConstraint constraintName="FK_BuilderGroup"
			referencedTableName="BUILDERGROUP" referencedColumnNames="ID"
			baseTableName="BUILDERCOMPANY" baseColumnNames="GROUPID" />
	</changeSet>
		<changeSet id="71" author="Satya">
	<createTable tableName="BUILDERCOMPANY_TEMP">
			<column name="ID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="NAME" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="SEGMENTATION" type="varchar(50)">
				<constraints nullable="false" />
			</column>
                       <column name="GROUPID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />   
		</createTable> 
	</changeSet>
<changeSet id="72" author="satya">
		<addForeignKeyConstraint constraintName="FK_BuilderGroup_TEMP"
			referencedTableName="BUILDERGROUP" referencedColumnNames="ID"
			baseTableName="BUILDERCOMPANY_TEMP" baseColumnNames="GROUPID" />
	</changeSet>
	
<changeSet id="73" author="Satya">
	<sql>
		ALTER TABLE BUILDERCOMPANY
		ADD CONSTRAINT UK_BUILDERCOMPANY_NAME UNIQUE (NAME);
	</sql>
</changeSet>
<changeSet id="74" author="Satya">
	<sql>
		ALTER TABLE BUILDERCOMPANY_TEMP
		ADD CONSTRAINT UK_BUILDERCMPY_TMP_NME UNIQUE (NAME);
	</sql>
</changeSet>


<changeSet id="75" author="Satya">
	<createView viewName="BuilderCompany_AView" replaceIfExists="true">
SELECT		T1.Id, T1.Name, T1.Segmentation,T1.GroupId		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BuilderCompany T1
</createView>
</changeSet>

<changeSet id="76" author="Satya">
	<createView viewName="BuilderCompany_TView" replaceIfExists="true">
SELECT		T1.Id, T1.Name, T1.Segmentation,T1.GroupId		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BuilderCompany_Temp T1
</createView>
</changeSet>

	<changeSet id="77" author="Satya">
	<createView viewName="BuilderCompany_View" replaceIfExists="true">
SELECT		T1.Id, T1.Name, T1.Segmentation,T1.GroupId	
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BuilderCompany_Temp  T1 
UNION ALL

SELECT		T1.Id, T1.Name, T1.Segmentation,T1.GroupId	
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BuilderCompany  T1 
WHERE     NOT EXISTS (SELECT 1 FROM BuilderCompany_TEMP WHERE Id = T1.Id)
</createView>
</changeSet>

<changeSet author="Siva" id="78">
	<dropColumn tableName="FinReceiptDetail" columnName="ReceiptNo" />
	<dropColumn tableName="FinReceiptDetail_Temp" columnName="ReceiptNo" />
</changeSet>
	<changeSet id="79" author="Siva">
	<createView viewName="FINRECEIPTDETAIL_AVIEW" replaceIfExists="true">
  Select T1.ReceiptID , T1.ReceiptSeqID , T1.ReceiptType , T1.PaymentTo , T1.PaymentType , T1.PayAgainstID  , 
			T1.Amount  , T1.FavourNumber , T1.ValueDate , T1.BankCode , T1.FavourName , T1.DepositDate , T1.DepositNo , T1.PaymentRef , 
			 T1.TransactionRef , T1.ChequeAcNo , T1.FundingAc , T1.ReceivedDate , T1.Status , T1.Remarks  , T2.BankName BankCodeDesc,
			 T3.PartnerBankCode FundingAcDesc, T1.PayOrder , T1.LogKey, T3.AccountNo PartnerBankAc, T3.AcType PartnerBankAcType
			 From FinReceiptDetail T1 LEFT JOIN 
			   BMTBankDetail T2 ON T1.BankCode = T2.BankCode LEFT JOIN 
			   PartnerBanks T3 ON T1.FundingAc  = T3.PartnerBankID
</createView>
</changeSet>
	<changeSet id="80" author="Siva">
	<createView viewName="FINRECEIPTDETAIL_TVIEW" replaceIfExists="true">
  Select T1.ReceiptID , T1.ReceiptSeqID , T1.ReceiptType , T1.PaymentTo , T1.PaymentType , T1.PayAgainstID  , 
			T1.Amount  , T1.FavourNumber , T1.ValueDate , T1.BankCode , T1.FavourName , T1.DepositDate , T1.DepositNo , T1.PaymentRef , 
			 T1.TransactionRef , T1.ChequeAcNo , T1.FundingAc , T1.ReceivedDate , T1.Status , T1.Remarks  , T2.BankName BankCodeDesc,
			 T3.PartnerBankCode FundingAcDesc , T1.PayOrder, T1.LogKey, T3.AccountNo PartnerBankAc, T3.AcType PartnerBankAcType
			 From FinReceiptDetail_Temp T1 LEFT JOIN 
			   BMTBankDetail T2 ON T1.BankCode = T2.BankCode LEFT JOIN 
			   PartnerBanks T3 ON T1.FundingAc  = T3.PartnerBankID
</createView>
</changeSet>
	<changeSet id="81" author="Siva">
		<sql>
			Update FinReceiptDetail set FavourNumber = ${call.substr}(FavourNumber, 0, 6) WHERE ${call.collength}(FavourNumber) > 6;
			Update FinReceiptDetail_Temp set FavourNumber = ${call.substr}(FavourNumber, 0, 6) WHERE ${call.collength}(FavourNumber) > 6;
		</sql>
	</changeSet>
	<changeSet author="Pruthvi" id="82">
<sql>
update WorkFlowDetails set workflowactive='0' where workflowtype='RECEIPT_PROCESS';
	</sql>
	</changeSet>
<changeSet author="Jayant" id="83">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId"
				valueComputed="(select max(WorkFlowId) + 1 from WorkFlowDetails)" />
			<column name="WorkFlowType">RECEIPT_PROCESS</column>
			<column name="WorkFlowSubType">Receipt Workflow Process</column>
			<column name="WorkFlowDesc">Receipt Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">RECEIPT_MAKER;RECEIPT_APPROVER;DEPOSIT_MAKER;DEPOSIT_APPROVER;RECEIPTWAIVER_APPROVER;RECEIPTREALIZE_MAKER;RECEIPTREALIZE_APPROVER</column>
			<column name="FirstTaskOwner">RECEIPT_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn">23-MAY-2017</column>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode">Null</column>
			<column name="NextRoleCode">Null</column>
			<column name="TaskId">Null</column>
			<column name="NextTaskId">Null</column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	
<changeSet id="84" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":"CCMS_MSTGRP1","properties":{"name":"Receipt Process\n","documentation":"","auditing":"","monitoring":"","executable":"true","package":"","vardefs":"","imports":"","id":"RECEIPT_PROCESS","version":"","author":"","language":"English","namespaces":"","targetnamespace":"http://www.omg.org/bpmn20","expressionlanguage":"http://www.w3.org/1999/XPath","typelanguage":"http://www.w3.org/2001/XMLSchema","creationdate":"","modificationdate":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"_FF9D4911-C022-42B0-B00A-9C353226F4A7","properties":{"name":"Start","documentation":"","auditing":"","monitoring":"","dataoutputassociations":"","dataoutput":"","outputset":"","bgcolor":"#C5F970","trigger":"None"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"}],"bounds":{"lowerRight":{"x":60,"y":138},"upperLeft":{"x":30,"y":108}},"dockers":[]},{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF","properties":{"name":"Receipt Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":false,"assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"RECEIPT_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_B4A70293-13FD-44EB-A4C3-78A38AC643B9"},{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"}],"bounds":{"lowerRight":{"x":190,"y":163},"upperLeft":{"x":90,"y":83}},"dockers":[]},{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":89.2734375,"y":123},"upperLeft":{"x":60.84375,"y":123}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A","properties":{"name":"Receipt Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"RECEIPT_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_00E367A7-32B3-4238-95E1-394CAF4A448E"}],"bounds":{"lowerRight":{"x":640,"y":163},"upperLeft":{"x":540,"y":83}},"dockers":[]},{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"}],"bounds":{"lowerRight":{"x":269.5117242686572,"y":123.43027150919819},"upperLeft":{"x":190.3828069813428,"y":123.16738474080181}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"}},{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53"},{"resourceId":"_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059"}],"bounds":{"lowerRight":{"x":745,"y":143},"upperLeft":{"x":705,"y":103}},"dockers":[]},{"resourceId":"_00E367A7-32B3-4238-95E1-394CAF4A448E","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"}],"bounds":{"lowerRight":{"x":704.3867255581166,"y":123.42209123822184},"upperLeft":{"x":640.7538994418834,"y":123.18728376177816}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"}},{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618","properties":{"name":"Complete Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":" ","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doApprove","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008"}],"bounds":{"lowerRight":{"x":1084,"y":163},"upperLeft":{"x":984,"y":83}},"dockers":[]},{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":983.5917981884055,"y":123.46712925658574},"upperLeft":{"x":745.7812486865945,"y":123.08169886841426}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01","properties":{"name":"Approved","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1288,"y":137},"upperLeft":{"x":1260,"y":109}},"dockers":[]},{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}],"bounds":{"lowerRight":{"x":1259.875,"y":123},"upperLeft":{"x":1084.6875,"y":123}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":725.5,"y":102.53125},"upperLeft":{"x":140,"y":17}},"dockers":[{"x":20.5,"y":20.5},{"x":725.5,"y":17},{"x":140,"y":17},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0","properties":{"name":"Cancel Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doReject","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681"}],"bounds":{"lowerRight":{"x":775,"y":290},"upperLeft":{"x":675,"y":210}},"dockers":[]},{"resourceId":"_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":725.4218287117047,"y":209.46875781130998},"upperLeft":{"x":725.1602025382953,"y":143.27733593869002}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA","properties":{"name":"Rejected","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":649,"y":343},"upperLeft":{"x":621,"y":315}},"dockers":[]},{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}],"bounds":{"lowerRight":{"x":725,"y":329},"upperLeft":{"x":649.359375,"y":290.5}},"dockers":[{"x":50,"y":40},{"x":725,"y":329},{"x":14,"y":14}],"target":{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}},{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038","properties":{"name":"Deposit Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"DEPOSIT_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_1A0972CB-1741-433E-A3FE-77569D3EB20D"},{"resourceId":"_35B25356-FC7E-4293-8C1B-C161F416565E"},{"resourceId":"_875A1CB8-F079-4E62-8E17-DCC7048BD3D9"}],"bounds":{"lowerRight":{"x":595,"y":429},"upperLeft":{"x":495,"y":349}},"dockers":[]},{"resourceId":"_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05","properties":{"name":"Deposit Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"DEPOSIT_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5"}],"bounds":{"lowerRight":{"x":820,"y":429},"upperLeft":{"x":720,"y":349}},"dockers":[]},{"resourceId":"_1A0972CB-1741-433E-A3FE-77569D3EB20D","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"}],"bounds":{"lowerRight":{"x":719.78125,"y":389},"upperLeft":{"x":595.21875,"y":389}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"}},{"resourceId":"_35B25356-FC7E-4293-8C1B-C161F416565E","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":674.78125,"y":348.90625},"upperLeft":{"x":545,"y":250}},"dockers":[{"x":50,"y":40},{"x":545,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_CDBBE246-EF44-40AB-99BF-3B06873BDB20","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":905.5,"y":334.71875},"upperLeft":{"x":775.35546875,"y":250}},"dockers":[{"x":20.5,"y":20.5},{"x":905.5,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_1CA63148-6545-4CC3-86CB-04EB05AF10F2","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":905.5,"y":460},"upperLeft":{"x":545,"y":375.27734375}},"dockers":[{"x":20.5,"y":20.5},{"x":905.5,"y":460},{"x":545,"y":460},{"x":50,"y":40}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_F7B8A61B-F531-4C69-807A-73DF463954F9","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"}],"bounds":{"lowerRight":{"x":1013.34375,"y":355.5},"upperLeft":{"x":925.6484375,"y":355.5}},"dockers":[{"x":20.5,"y":20.5},{"x":20.5,"y":20.5}],"target":{"resourceId":"_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"}},{"resourceId":"_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_F7B8A61B-F531-4C69-807A-73DF463954F9"},{"resourceId":"_CDBBE246-EF44-40AB-99BF-3B06873BDB20"},{"resourceId":"_1CA63148-6545-4CC3-86CB-04EB05AF10F2"}],"bounds":{"lowerRight":{"x":925,"y":375},"upperLeft":{"x":885,"y":335}},"dockers":[]},{"resourceId":"_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D"}],"bounds":{"lowerRight":{"x":885.1328125,"y":389},"upperLeft":{"x":820.62890625,"y":355}},"dockers":[{"x":50,"y":40},{"x":852.5,"y":389},{"x":852.5,"y":355},{"x":20,"y":20}],"target":{"resourceId":"_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D"}},{"resourceId":"_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_E7648A60-BBC5-4B1D-8796-F35679E0FE51"},{"resourceId":"_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF"}],"bounds":{"lowerRight":{"x":310,"y":143},"upperLeft":{"x":270,"y":103}},"dockers":[]},{"resourceId":"_9209E0A4-14BC-4840-AE5E-AF2425159AD0","properties":{"name":"Cancel Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doReject","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_B600CB2F-1566-41FD-BB42-8CC730387820"}],"bounds":{"lowerRight":{"x":190,"y":320},"upperLeft":{"x":90,"y":240}},"dockers":[]},{"resourceId":"_46DBB075-601A-48C5-80F6-7A3C9575CEF5","properties":{"name":"Rejected","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":154,"y":403},"upperLeft":{"x":126,"y":375}},"dockers":[]},{"resourceId":"_B600CB2F-1566-41FD-BB42-8CC730387820","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_46DBB075-601A-48C5-80F6-7A3C9575CEF5"}],"bounds":{"lowerRight":{"x":140,"y":374.375},"upperLeft":{"x":140,"y":320.171875}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_46DBB075-601A-48C5-80F6-7A3C9575CEF5"}},{"resourceId":"_B4A70293-13FD-44EB-A4C3-78A38AC643B9","properties":{"name":"Cancel","documentation":"Cancel=Cancelled","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Cancelled'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_9209E0A4-14BC-4840-AE5E-AF2425159AD0"}],"bounds":{"lowerRight":{"x":140,"y":239.66015625},"upperLeft":{"x":140,"y":163.435546875}},"dockers":[{"x":50,"y":40},{"x":50,"y":48.5}],"target":{"resourceId":"_9209E0A4-14BC-4840-AE5E-AF2425159AD0"}},{"resourceId":"_C2820306-3E6C-4BD7-A4F6-099893B15468","properties":{"name":"Cheque / DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"(vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE' ) &amp;&amp; \nvo.waivedAmt <= 0","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":495,"y":369},"upperLeft":{"x":395.5,"y":143.6796875}},"dockers":[{"x":20.5,"y":20.5},{"x":395.5,"y":369},{"x":1,"y":20}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_E46247E5-509B-4142-A14A-5ABED0386711","properties":{"name":"Others than Cheque && DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptMode != 'DD' &amp;&amp; vo.receiptMode != 'CHEQUE' &amp;&amp; \nvo.waivedAmt <= 0","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}],"bounds":{"lowerRight":{"x":539.6152376792177,"y":123.44860118940673},"upperLeft":{"x":415.49413732078233,"y":123.12952381059327}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}},{"resourceId":"_875A1CB8-F079-4E62-8E17-DCC7048BD3D9","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":495,"y":409},"upperLeft":{"x":165,"y":163.9375}},"dockers":[{"x":1,"y":60},{"x":209,"y":409},{"x":209,"y":222},{"x":165,"y":222},{"x":75,"y":79}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_266A3753-53BE-4B36-803D-564AD4E9D895","properties":{"name":"Waiver Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"RECEIPTWAIVER_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_58EFCBCE-4E80-412E-A115-5B4669864DFD"},{"resourceId":"_8385B547-68BC-4ADD-B5A4-156A981195D4"}],"bounds":{"lowerRight":{"x":340,"y":260},"upperLeft":{"x":240,"y":180}},"dockers":[]},{"resourceId":"_E7648A60-BBC5-4B1D-8796-F35679E0FE51","properties":{"name":"Amounts Waived","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.waivedAmt > 0","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_266A3753-53BE-4B36-803D-564AD4E9D895"}],"bounds":{"lowerRight":{"x":290.39716247239846,"y":179.7968884229089},"upperLeft":{"x":290.20830627760154,"y":143.3476428270911}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_266A3753-53BE-4B36-803D-564AD4E9D895"}},{"resourceId":"_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_E46247E5-509B-4142-A14A-5ABED0386711"},{"resourceId":"_C2820306-3E6C-4BD7-A4F6-099893B15468"}],"bounds":{"lowerRight":{"x":415,"y":143},"upperLeft":{"x":375,"y":103}},"dockers":[]},{"resourceId":"_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF","properties":{"name":"No Waiver","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD"}],"bounds":{"lowerRight":{"x":374.40626144642783,"y":123.40537161577237},"upperLeft":{"x":310.27733230357217,"y":123.09853463422763}},"dockers":[{"x":20.5,"y":20.5},{"x":20,"y":20}],"target":{"resourceId":"_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD"}},{"resourceId":"_4D16E470-104D-4592-9B14-17380F17A1C0","properties":{"name":"Others than Cheque && DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptMode != 'DD' && vo.receiptMode != 'CHEQUE'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}],"bounds":{"lowerRight":{"x":590,"y":329.5},"upperLeft":{"x":310.44140625,"y":163.40625}},"dockers":[{"x":20.5,"y":20.5},{"x":477,"y":329.5},{"x":477,"y":220},{"x":590,"y":220},{"x":50,"y":40}],"target":{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}},{"resourceId":"_4BC339BC-2D3E-4903-909A-FA9A90904CA6","properties":{"name":"Cheque / DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":494.2696739908984,"y":389},"upperLeft":{"x":290.3807308333996,"y":349.0937479909482}},"dockers":[{"x":20.5,"y":20.5},{"x":290.3807308333996,"y":389},{"x":50,"y":40}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_96BEF884-7DA1-4DF3-9D19-BF88157F2093"},{"resourceId":"_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA"}],"bounds":{"lowerRight":{"x":1054,"y":375},"upperLeft":{"x":1014,"y":335}},"dockers":[]},{"resourceId":"_96BEF884-7DA1-4DF3-9D19-BF88157F2093","properties":{"name":"Schedule Payment only","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptPurpose = 'SchdlRepayment'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":1034.4548807173385,"y":334.519533562398},"upperLeft":{"x":1034.0880880326615,"y":163.96093518760196}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB","properties":{"name":"Realization Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"RECEIPTREALIZE_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_14D53AA8-7D4D-4DF1-A796-C911759AFE82"},{"resourceId":"_94D56E95-3CAA-42C4-8793-99B5680F600E"},{"resourceId":"_5DD316D3-913F-4600-9D37-0CEAA3FEBA43"}],"bounds":{"lowerRight":{"x":1285,"y":395},"upperLeft":{"x":1185,"y":315}},"dockers":[]},{"resourceId":"_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9","properties":{"name":"Realization Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"RECEIPTREALIZE_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_179060F8-FE71-4B6D-8DF9-B700C2446E31"}],"bounds":{"lowerRight":{"x":1450,"y":395},"upperLeft":{"x":1350,"y":315}},"dockers":[]},{"resourceId":"_14D53AA8-7D4D-4DF1-A796-C911759AFE82","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"}],"bounds":{"lowerRight":{"x":1349.37109375,"y":355},"upperLeft":{"x":1285.62890625,"y":355}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"}},{"resourceId":"_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA","properties":{"name":"Partial Settlement\nor \nEarly settlement","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptPurpose != 'SchdlRepayment'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}],"bounds":{"lowerRight":{"x":1184.658206234419,"y":355.45063124216813},"upperLeft":{"x":1054.296871890581,"y":355.12554063283187}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}},{"resourceId":"_4121FF63-DD77-4FFB-9923-36E39DD6622D","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}],"bounds":{"lowerRight":{"x":1505.5,"y":452},"upperLeft":{"x":1260,"y":375.34765625}},"dockers":[{"x":20.5,"y":20.5},{"x":1505.5,"y":452},{"x":1260,"y":452},{"x":75,"y":1}],"target":{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}},{"resourceId":"_94D56E95-3CAA-42C4-8793-99B5680F600E","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":1210,"y":465},"upperLeft":{"x":545,"y":395.5546875}},"dockers":[{"x":25,"y":79},{"x":1210,"y":465},{"x":545,"y":465},{"x":50,"y":40}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_7E5B6958-654D-4FEE-84F4-6421844F8D1F","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":1505.5,"y":334.71875},"upperLeft":{"x":775.54345703125,"y":250}},"dockers":[{"x":20.5,"y":20.5},{"x":1505.5,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_5DD316D3-913F-4600-9D37-0CEAA3FEBA43","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":1235,"y":314.625},"upperLeft":{"x":775.8046875,"y":250}},"dockers":[{"x":50,"y":40},{"x":1235,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_921EB85C-0D30-4933-9BA8-E25DC6108252","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":1562,"y":355.5},"upperLeft":{"x":1034,"y":163.84375}},"dockers":[{"x":20.5,"y":20.5},{"x":1562,"y":355.5},{"x":1562,"y":225},{"x":1034,"y":225},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_262A1962-825F-4C56-88B3-206A2B80569F","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_921EB85C-0D30-4933-9BA8-E25DC6108252"},{"resourceId":"_7E5B6958-654D-4FEE-84F4-6421844F8D1F"},{"resourceId":"_4121FF63-DD77-4FFB-9923-36E39DD6622D"}],"bounds":{"lowerRight":{"x":1525,"y":375},"upperLeft":{"x":1485,"y":335}},"dockers":[]},{"resourceId":"_179060F8-FE71-4B6D-8DF9-B700C2446E31","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_262A1962-825F-4C56-88B3-206A2B80569F"}],"bounds":{"lowerRight":{"x":1485.1328125,"y":355},"upperLeft":{"x":1450.21875,"y":355}},"dockers":[{"x":50,"y":40},{"x":20,"y":20}],"target":{"resourceId":"_262A1962-825F-4C56-88B3-206A2B80569F"}},{"resourceId":"_58EFCBCE-4E80-412E-A115-5B4669864DFD","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":239.78125,"y":220},"upperLeft":{"x":164,"y":163.40625}},"dockers":[{"x":50,"y":40},{"x":164,"y":220},{"x":164,"y":163.40625}]},{"resourceId":"_07584E25-8359-4AF3-AB92-3A6FD5B81959","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_4BC339BC-2D3E-4903-909A-FA9A90904CA6"},{"resourceId":"_4D16E470-104D-4592-9B14-17380F17A1C0"}],"bounds":{"lowerRight":{"x":310,"y":349},"upperLeft":{"x":270,"y":309}},"dockers":[]},{"resourceId":"_8385B547-68BC-4ADD-B5A4-156A981195D4","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_07584E25-8359-4AF3-AB92-3A6FD5B81959"}],"bounds":{"lowerRight":{"x":290.40559008755696,"y":308.82422917497405},"upperLeft":{"x":290.18425366244304,"y":260.35155207502595}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_07584E25-8359-4AF3-AB92-3A6FD5B81959"}}],"bounds":{"lowerRight":{"x":3000,"y":2000},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"bpmn2.0pbpm","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns="http://www.omg.org/bpmn20" xmlns:drools="http://www.jboss.org/drools" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="_Sb-DwT-eEeeFm6H4mAmpLA" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd" targetNamespace="http://www.omg.org/bpmn20"><bpmn2:itemDefinition id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" /><bpmn2:itemDefinition id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" /><bpmn2:itemDefinition id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessageType" /><bpmn2:message id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage" itemRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" /><bpmn2:message id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage" itemRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" /><bpmn2:message id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessage" itemRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessageType" /><bpmn2:interface id="_ScBuPj-eEeeFm6H4mAmpLA"><bpmn2:operation id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation" name="doApprove"><bpmn2:inMessageRef>_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:interface id="_ScBuPz-eEeeFm6H4mAmpLA"><bpmn2:operation id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation" name="doReject"><bpmn2:inMessageRef>_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:interface id="_ScBuQD-eEeeFm6H4mAmpLA"><bpmn2:operation id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_ServiceOperation" name="doReject"><bpmn2:inMessageRef>_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:process id="RECEIPT_PROCESS" name="Receipt Process " isExecutable="true"><bpmn2:startEvent id="_FF9D4911-C022-42B0-B00A-9C353226F4A7" drools:bgcolor="#C5F970" name="Start"><bpmn2:outgoing>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:outgoing></bpmn2:startEvent><bpmn2:userTask id="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" drools:bgcolor="#FF6600" name="Receipt Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_875A1CB8-F079-4E62-8E17-DCC7048BD3D9</bpmn2:incoming><bpmn2:incoming>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:incoming><bpmn2:incoming>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:incoming><bpmn2:outgoing>_B4A70293-13FD-44EB-A4C3-78A38AC643B9</bpmn2:outgoing><bpmn2:outgoing>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:outgoing><bpmn2:potentialOwner id="_ScAgAD-eEeeFm6H4mAmpLA"><bpmn2:resourceAssignmentExpression id="_ScAgAT-eEeeFm6H4mAmpLA"><bpmn2:formalExpression id="_ScAgAj-eEeeFm6H4mAmpLA">RECEIPT_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117" sourceRef="_FF9D4911-C022-42B0-B00A-9C353226F4A7" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" /><bpmn2:userTask id="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" drools:bgcolor="#FF6600" name="Receipt Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_E46247E5-509B-4142-A14A-5ABED0386711</bpmn2:incoming><bpmn2:incoming>_4D16E470-104D-4592-9B14-17380F17A1C0</bpmn2:incoming><bpmn2:outgoing>_00E367A7-32B3-4238-95E1-394CAF4A448E</bpmn2:outgoing><bpmn2:potentialOwner id="_ScAgAz-eEeeFm6H4mAmpLA"><bpmn2:resourceAssignmentExpression id="_ScAgBD-eEeeFm6H4mAmpLA"><bpmn2:formalExpression id="_ScAgBT-eEeeFm6H4mAmpLA">RECEIPT_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D" name="Submit" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"><bpmn2:documentation id="_ScAgBj-eEeeFm6H4mAmpLA">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScAgBz-eEeeFm6H4mAmpLA">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_00E367A7-32B3-4238-95E1-394CAF4A448E</bpmn2:incoming><bpmn2:outgoing>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:outgoing><bpmn2:outgoing>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:outgoing><bpmn2:outgoing>_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_00E367A7-32B3-4238-95E1-394CAF4A448E" sourceRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" targetRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" /><bpmn2:serviceTask id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doApprove" name="Complete Process" operationRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation"><bpmn2:incoming>_96BEF884-7DA1-4DF3-9D19-BF88157F2093</bpmn2:incoming><bpmn2:incoming>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:incoming><bpmn2:incoming>_921EB85C-0D30-4933-9BA8-E25DC6108252</bpmn2:incoming><bpmn2:outgoing>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:sequenceFlow id="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56" name="Approve" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:documentation id="_ScAgCD-eEeeFm6H4mAmpLA">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScAgCT-eEeeFm6H4mAmpLA">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:endEvent id="_73682DD6-4D65-497A-BAA5-B80623CB6C01" drools:bgcolor="#F47677" name="Approved"><bpmn2:incoming>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_A921FE66-42C4-42CC-BB5C-15ABAA47A008" sourceRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" targetRef="_73682DD6-4D65-497A-BAA5-B80623CB6C01" /><bpmn2:sequenceFlow id="_2AE689CD-94CB-4752-9CE3-748559E63D53" name="Resubmit" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><bpmn2:documentation id="_ScAgCj-eEeeFm6H4mAmpLA">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_ScAgCz-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScAgDD-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScAgDT-eEeeFm6H4mAmpLA">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:serviceTask id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doReject" name="Cancel Process" operationRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation"><bpmn2:incoming>_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059</bpmn2:incoming><bpmn2:incoming>_5DD316D3-913F-4600-9D37-0CEAA3FEBA43</bpmn2:incoming><bpmn2:incoming>_35B25356-FC7E-4293-8C1B-C161F416565E</bpmn2:incoming><bpmn2:incoming>_CDBBE246-EF44-40AB-99BF-3B06873BDB20</bpmn2:incoming><bpmn2:incoming>_7E5B6958-654D-4FEE-84F4-6421844F8D1F</bpmn2:incoming><bpmn2:outgoing>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:sequenceFlow id="_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059" name="Reject" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_ScAgDj-eEeeFm6H4mAmpLA">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_ScAgDz-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScAgED-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScAgET-eEeeFm6H4mAmpLA">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:endEvent id="_87A46993-91DA-47E0-811B-2F196FBAD6AA" drools:bgcolor="#F47677" name="Rejected"><bpmn2:incoming>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_DAFA463C-32E5-4B16-BC89-284B69E70681" sourceRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" targetRef="_87A46993-91DA-47E0-811B-2F196FBAD6AA" /><bpmn2:userTask id="_5F5413A7-D079-4061-A500-66B805CEF038" drools:bgcolor="#FF6600" name="Deposit Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_C2820306-3E6C-4BD7-A4F6-099893B15468</bpmn2:incoming><bpmn2:incoming>_94D56E95-3CAA-42C4-8793-99B5680F600E</bpmn2:incoming><bpmn2:incoming>_1CA63148-6545-4CC3-86CB-04EB05AF10F2</bpmn2:incoming><bpmn2:incoming>_4BC339BC-2D3E-4903-909A-FA9A90904CA6</bpmn2:incoming><bpmn2:outgoing>_1A0972CB-1741-433E-A3FE-77569D3EB20D</bpmn2:outgoing><bpmn2:outgoing>_35B25356-FC7E-4293-8C1B-C161F416565E</bpmn2:outgoing><bpmn2:outgoing>_875A1CB8-F079-4E62-8E17-DCC7048BD3D9</bpmn2:outgoing><bpmn2:potentialOwner id="_ScAgEj-eEeeFm6H4mAmpLA"><bpmn2:resourceAssignmentExpression id="_ScAgEz-eEeeFm6H4mAmpLA"><bpmn2:formalExpression id="_ScAgFD-eEeeFm6H4mAmpLA">DEPOSIT_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:userTask id="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05" drools:bgcolor="#FF6600" name="Deposit Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_1A0972CB-1741-433E-A3FE-77569D3EB20D</bpmn2:incoming><bpmn2:outgoing>_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5</bpmn2:outgoing><bpmn2:potentialOwner id="_ScBHED-eEeeFm6H4mAmpLA"><bpmn2:resourceAssignmentExpression id="_ScBHET-eEeeFm6H4mAmpLA"><bpmn2:formalExpression id="_ScBHEj-eEeeFm6H4mAmpLA">DEPOSIT_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_1A0972CB-1741-433E-A3FE-77569D3EB20D" name="Submit" sourceRef="_5F5413A7-D079-4061-A500-66B805CEF038" targetRef="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"><bpmn2:documentation id="_ScBHEz-eEeeFm6H4mAmpLA">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHFD-eEeeFm6H4mAmpLA">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_35B25356-FC7E-4293-8C1B-C161F416565E" name="Reject" sourceRef="_5F5413A7-D079-4061-A500-66B805CEF038" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_ScBHFT-eEeeFm6H4mAmpLA">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_ScBHFj-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScBHFz-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHGD-eEeeFm6H4mAmpLA">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_CDBBE246-EF44-40AB-99BF-3B06873BDB20" name="Reject" sourceRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_ScBHGT-eEeeFm6H4mAmpLA">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_ScBHGj-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScBHGz-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHHD-eEeeFm6H4mAmpLA">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_1CA63148-6545-4CC3-86CB-04EB05AF10F2" name="Resubmit" sourceRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:documentation id="_ScBHHT-eEeeFm6H4mAmpLA">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_ScBHHj-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScBHHz-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHID-eEeeFm6H4mAmpLA">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_F7B8A61B-F531-4C69-807A-73DF463954F9" name="Approve" sourceRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" targetRef="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"><bpmn2:documentation id="_ScBHIT-eEeeFm6H4mAmpLA">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHIj-eEeeFm6H4mAmpLA">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5</bpmn2:incoming><bpmn2:outgoing>_F7B8A61B-F531-4C69-807A-73DF463954F9</bpmn2:outgoing><bpmn2:outgoing>_CDBBE246-EF44-40AB-99BF-3B06873BDB20</bpmn2:outgoing><bpmn2:outgoing>_1CA63148-6545-4CC3-86CB-04EB05AF10F2</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5" sourceRef="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05" targetRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" /><bpmn2:exclusiveGateway id="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:incoming><bpmn2:outgoing>_E7648A60-BBC5-4B1D-8796-F35679E0FE51</bpmn2:outgoing><bpmn2:outgoing>_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:serviceTask id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doReject" name="Cancel Process" operationRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_ServiceOperation"><bpmn2:incoming>_B4A70293-13FD-44EB-A4C3-78A38AC643B9</bpmn2:incoming><bpmn2:outgoing>_B600CB2F-1566-41FD-BB42-8CC730387820</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:endEvent id="_46DBB075-601A-48C5-80F6-7A3C9575CEF5" drools:bgcolor="#F47677" name="Rejected"><bpmn2:incoming>_B600CB2F-1566-41FD-BB42-8CC730387820</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_B600CB2F-1566-41FD-BB42-8CC730387820" sourceRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0" targetRef="_46DBB075-601A-48C5-80F6-7A3C9575CEF5" /><bpmn2:sequenceFlow id="_B4A70293-13FD-44EB-A4C3-78A38AC643B9" name="Cancel" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0"><bpmn2:documentation id="_ScBHIz-eEeeFm6H4mAmpLA">Cancel=Cancelled</bpmn2:documentation><bpmn2:auditing id="_ScBHJD-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScBHJT-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHJj-eEeeFm6H4mAmpLA">vo.recordStatus == 'Cancelled'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_C2820306-3E6C-4BD7-A4F6-099893B15468" name="Cheque / DD" sourceRef="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHJz-eEeeFm6H4mAmpLA">(vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE' ) &amp;amp;&amp;amp; 
vo.waivedAmt &lt;= 0</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_E46247E5-509B-4142-A14A-5ABED0386711" name="Others than Cheque &amp;&amp; DD" sourceRef="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" targetRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHKD-eEeeFm6H4mAmpLA">vo.receiptMode != 'DD' &amp;amp;&amp;amp; vo.receiptMode != 'CHEQUE' &amp;amp;&amp;amp; 
vo.waivedAmt &lt;= 0</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_875A1CB8-F079-4E62-8E17-DCC7048BD3D9" name="Resubmit" sourceRef="_5F5413A7-D079-4061-A500-66B805CEF038" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><bpmn2:documentation id="_ScBHKT-eEeeFm6H4mAmpLA">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_ScBHKj-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScBHKz-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHLD-eEeeFm6H4mAmpLA">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:userTask id="_266A3753-53BE-4B36-803D-564AD4E9D895" drools:bgcolor="#FF6600" name="Waiver Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_E7648A60-BBC5-4B1D-8796-F35679E0FE51</bpmn2:incoming><bpmn2:outgoing>_58EFCBCE-4E80-412E-A115-5B4669864DFD</bpmn2:outgoing><bpmn2:outgoing>_8385B547-68BC-4ADD-B5A4-156A981195D4</bpmn2:outgoing><bpmn2:potentialOwner id="_ScBHLT-eEeeFm6H4mAmpLA"><bpmn2:resourceAssignmentExpression id="_ScBHLj-eEeeFm6H4mAmpLA"><bpmn2:formalExpression id="_ScBHLz-eEeeFm6H4mAmpLA">RECEIPTWAIVER_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_E7648A60-BBC5-4B1D-8796-F35679E0FE51" name="Amounts Waived" sourceRef="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5" targetRef="_266A3753-53BE-4B36-803D-564AD4E9D895"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHMD-eEeeFm6H4mAmpLA">vo.waivedAmt &gt; 0</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF</bpmn2:incoming><bpmn2:outgoing>_E46247E5-509B-4142-A14A-5ABED0386711</bpmn2:outgoing><bpmn2:outgoing>_C2820306-3E6C-4BD7-A4F6-099893B15468</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF" name="No Waiver" sourceRef="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5" targetRef="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" /><bpmn2:sequenceFlow id="_4D16E470-104D-4592-9B14-17380F17A1C0" name="Others than Cheque &amp;&amp; DD" sourceRef="_07584E25-8359-4AF3-AB92-3A6FD5B81959" targetRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHMT-eEeeFm6H4mAmpLA">vo.receiptMode != 'DD' &amp;&amp; vo.receiptMode != 'CHEQUE'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_4BC339BC-2D3E-4903-909A-FA9A90904CA6" name="Cheque / DD" sourceRef="_07584E25-8359-4AF3-AB92-3A6FD5B81959" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHMj-eEeeFm6H4mAmpLA">vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_F7B8A61B-F531-4C69-807A-73DF463954F9</bpmn2:incoming><bpmn2:outgoing>_96BEF884-7DA1-4DF3-9D19-BF88157F2093</bpmn2:outgoing><bpmn2:outgoing>_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_96BEF884-7DA1-4DF3-9D19-BF88157F2093" name="Schedule Payment only" sourceRef="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBHMz-eEeeFm6H4mAmpLA">vo.receiptPurpose = 'SchdlRepayment'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:userTask id="_CB84B893-830F-4960-8640-208225B444FB" drools:bgcolor="#FF6600" name="Realization Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA</bpmn2:incoming><bpmn2:incoming>_4121FF63-DD77-4FFB-9923-36E39DD6622D</bpmn2:incoming><bpmn2:outgoing>_14D53AA8-7D4D-4DF1-A796-C911759AFE82</bpmn2:outgoing><bpmn2:outgoing>_94D56E95-3CAA-42C4-8793-99B5680F600E</bpmn2:outgoing><bpmn2:outgoing>_5DD316D3-913F-4600-9D37-0CEAA3FEBA43</bpmn2:outgoing><bpmn2:potentialOwner id="_ScBHND-eEeeFm6H4mAmpLA"><bpmn2:resourceAssignmentExpression id="_ScBHNT-eEeeFm6H4mAmpLA"><bpmn2:formalExpression id="_ScBHNj-eEeeFm6H4mAmpLA">RECEIPTREALIZE_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:userTask id="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9" drools:bgcolor="#FF6600" name="Realization Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_14D53AA8-7D4D-4DF1-A796-C911759AFE82</bpmn2:incoming><bpmn2:outgoing>_179060F8-FE71-4B6D-8DF9-B700C2446E31</bpmn2:outgoing><bpmn2:potentialOwner id="_ScBuID-eEeeFm6H4mAmpLA"><bpmn2:resourceAssignmentExpression id="_ScBuIT-eEeeFm6H4mAmpLA"><bpmn2:formalExpression id="_ScBuIj-eEeeFm6H4mAmpLA">RECEIPTREALIZE_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_14D53AA8-7D4D-4DF1-A796-C911759AFE82" name="Submit" sourceRef="_CB84B893-830F-4960-8640-208225B444FB" targetRef="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"><bpmn2:documentation id="_ScBuIz-eEeeFm6H4mAmpLA">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBuJD-eEeeFm6H4mAmpLA">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA" name="Partial Settlement or  Early settlement" sourceRef="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF" targetRef="_CB84B893-830F-4960-8640-208225B444FB"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBuJT-eEeeFm6H4mAmpLA">vo.receiptPurpose != 'SchdlRepayment'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_4121FF63-DD77-4FFB-9923-36E39DD6622D" name="Resubmit" sourceRef="_262A1962-825F-4C56-88B3-206A2B80569F" targetRef="_CB84B893-830F-4960-8640-208225B444FB"><bpmn2:documentation id="_ScBuJj-eEeeFm6H4mAmpLA">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_ScBuJz-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScBuKD-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBuKT-eEeeFm6H4mAmpLA">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_94D56E95-3CAA-42C4-8793-99B5680F600E" name="Resubmit" sourceRef="_CB84B893-830F-4960-8640-208225B444FB" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:documentation id="_ScBuKj-eEeeFm6H4mAmpLA">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_ScBuKz-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScBuLD-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBuLT-eEeeFm6H4mAmpLA">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_7E5B6958-654D-4FEE-84F4-6421844F8D1F" name="Reject" sourceRef="_262A1962-825F-4C56-88B3-206A2B80569F" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_ScBuLj-eEeeFm6H4mAmpLA">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_ScBuLz-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScBuMD-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBuMT-eEeeFm6H4mAmpLA">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_5DD316D3-913F-4600-9D37-0CEAA3FEBA43" name="Reject" sourceRef="_CB84B893-830F-4960-8640-208225B444FB" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_ScBuMj-eEeeFm6H4mAmpLA">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_ScBuMz-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScBuND-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBuNT-eEeeFm6H4mAmpLA">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_921EB85C-0D30-4933-9BA8-E25DC6108252" name="Approve" sourceRef="_262A1962-825F-4C56-88B3-206A2B80569F" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:documentation id="_ScBuNj-eEeeFm6H4mAmpLA">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBuNz-eEeeFm6H4mAmpLA">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_262A1962-825F-4C56-88B3-206A2B80569F" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_179060F8-FE71-4B6D-8DF9-B700C2446E31</bpmn2:incoming><bpmn2:outgoing>_921EB85C-0D30-4933-9BA8-E25DC6108252</bpmn2:outgoing><bpmn2:outgoing>_7E5B6958-654D-4FEE-84F4-6421844F8D1F</bpmn2:outgoing><bpmn2:outgoing>_4121FF63-DD77-4FFB-9923-36E39DD6622D</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_179060F8-FE71-4B6D-8DF9-B700C2446E31" sourceRef="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9" targetRef="_262A1962-825F-4C56-88B3-206A2B80569F" /><bpmn2:sequenceFlow id="_58EFCBCE-4E80-412E-A115-5B4669864DFD" name="Resubmit" sourceRef="_266A3753-53BE-4B36-803D-564AD4E9D895"><bpmn2:documentation id="_ScBuOD-eEeeFm6H4mAmpLA">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_ScBuOT-eEeeFm6H4mAmpLA"><bpmn2:documentation id="_ScBuOj-eEeeFm6H4mAmpLA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBuOz-eEeeFm6H4mAmpLA">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_07584E25-8359-4AF3-AB92-3A6FD5B81959" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_8385B547-68BC-4ADD-B5A4-156A981195D4</bpmn2:incoming><bpmn2:outgoing>_4BC339BC-2D3E-4903-909A-FA9A90904CA6</bpmn2:outgoing><bpmn2:outgoing>_4D16E470-104D-4592-9B14-17380F17A1C0</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_8385B547-68BC-4ADD-B5A4-156A981195D4" name="Submit" sourceRef="_266A3753-53BE-4B36-803D-564AD4E9D895" targetRef="_07584E25-8359-4AF3-AB92-3A6FD5B81959"><bpmn2:documentation id="_ScBuPD-eEeeFm6H4mAmpLA">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_ScBuPT-eEeeFm6H4mAmpLA">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow></bpmn2:process><bpmndi:BPMNDiagram id="_ScBuQT-eEeeFm6H4mAmpLA"><bpmndi:BPMNPlane id="_ScBuQj-eEeeFm6H4mAmpLA" bpmnElement="RECEIPT_PROCESS"><bpmndi:BPMNShape id="_ScBuQz-eEeeFm6H4mAmpLA" bpmnElement="_FF9D4911-C022-42B0-B00A-9C353226F4A7"><dc:Bounds height="30.0" width="30.0" x="30.0" y="108.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_ScBuRD-eEeeFm6H4mAmpLA" bpmnElement="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><dc:Bounds height="80.0" width="100.0" x="90.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScBuRT-eEeeFm6H4mAmpLA" bpmnElement="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"><di:waypoint xsi:type="dc:Point" x="45.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScBuRj-eEeeFm6H4mAmpLA" bpmnElement="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><dc:Bounds height="80.0" width="100.0" x="540.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScBuRz-eEeeFm6H4mAmpLA" bpmnElement="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScBuSD-eEeeFm6H4mAmpLA" bpmnElement="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"><dc:Bounds height="40.0" width="40.0" x="705.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScBuST-eEeeFm6H4mAmpLA" bpmnElement="_00E367A7-32B3-4238-95E1-394CAF4A448E"><di:waypoint xsi:type="dc:Point" x="590.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVMD-eEeeFm6H4mAmpLA" bpmnElement="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><dc:Bounds height="80.0" width="100.0" x="984.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScCVMT-eEeeFm6H4mAmpLA" bpmnElement="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVMj-eEeeFm6H4mAmpLA" bpmnElement="_73682DD6-4D65-497A-BAA5-B80623CB6C01"><dc:Bounds height="28.0" width="28.0" x="1260.0" y="109.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScCVMz-eEeeFm6H4mAmpLA" bpmnElement="_A921FE66-42C4-42CC-BB5C-15ABAA47A008"><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="1274.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVND-eEeeFm6H4mAmpLA" bpmnElement="_2AE689CD-94CB-4752-9CE3-748559E63D53"><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="17.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="17.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVNT-eEeeFm6H4mAmpLA" bpmnElement="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><dc:Bounds height="80.0" width="100.0" x="675.0" y="210.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScCVNj-eEeeFm6H4mAmpLA" bpmnElement="_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059"><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVNz-eEeeFm6H4mAmpLA" bpmnElement="_87A46993-91DA-47E0-811B-2F196FBAD6AA"><dc:Bounds height="28.0" width="28.0" x="621.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScCVOD-eEeeFm6H4mAmpLA" bpmnElement="_DAFA463C-32E5-4B16-BC89-284B69E70681"><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="635.0" y="329.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVOT-eEeeFm6H4mAmpLA" bpmnElement="_5F5413A7-D079-4061-A500-66B805CEF038"><dc:Bounds height="80.0" width="100.0" x="495.0" y="349.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_ScCVOj-eEeeFm6H4mAmpLA" bpmnElement="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"><dc:Bounds height="80.0" width="100.0" x="720.0" y="349.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScCVOz-eEeeFm6H4mAmpLA" bpmnElement="_1A0972CB-1741-433E-A3FE-77569D3EB20D"><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="770.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVPD-eEeeFm6H4mAmpLA" bpmnElement="_35B25356-FC7E-4293-8C1B-C161F416565E"><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVPT-eEeeFm6H4mAmpLA" bpmnElement="_CDBBE246-EF44-40AB-99BF-3B06873BDB20"><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="905.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVPj-eEeeFm6H4mAmpLA" bpmnElement="_1CA63148-6545-4CC3-86CB-04EB05AF10F2"><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="905.0" y="460.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="460.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVPz-eEeeFm6H4mAmpLA" bpmnElement="_F7B8A61B-F531-4C69-807A-73DF463954F9"><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVQD-eEeeFm6H4mAmpLA" bpmnElement="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D"><dc:Bounds height="40.0" width="40.0" x="885.0" y="335.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScCVQT-eEeeFm6H4mAmpLA" bpmnElement="_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5"><di:waypoint xsi:type="dc:Point" x="770.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="852.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="852.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVQj-eEeeFm6H4mAmpLA" bpmnElement="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"><dc:Bounds height="40.0" width="40.0" x="270.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_ScCVQz-eEeeFm6H4mAmpLA" bpmnElement="_9209E0A4-14BC-4840-AE5E-AF2425159AD0"><dc:Bounds height="80.0" width="100.0" x="90.0" y="240.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_ScCVRD-eEeeFm6H4mAmpLA" bpmnElement="_46DBB075-601A-48C5-80F6-7A3C9575CEF5"><dc:Bounds height="28.0" width="28.0" x="126.0" y="375.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScCVRT-eEeeFm6H4mAmpLA" bpmnElement="_B600CB2F-1566-41FD-BB42-8CC730387820"><di:waypoint xsi:type="dc:Point" x="140.0" y="280.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVRj-eEeeFm6H4mAmpLA" bpmnElement="_B4A70293-13FD-44EB-A4C3-78A38AC643B9"><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="280.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVRz-eEeeFm6H4mAmpLA" bpmnElement="_C2820306-3E6C-4BD7-A4F6-099893B15468"><di:waypoint xsi:type="dc:Point" x="395.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="395.0" y="369.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVSD-eEeeFm6H4mAmpLA" bpmnElement="_E46247E5-509B-4142-A14A-5ABED0386711"><di:waypoint xsi:type="dc:Point" x="395.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="590.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVST-eEeeFm6H4mAmpLA" bpmnElement="_875A1CB8-F079-4E62-8E17-DCC7048BD3D9"><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="209.0" y="409.0" /><di:waypoint xsi:type="dc:Point" x="209.0" y="222.0" /><di:waypoint xsi:type="dc:Point" x="165.0" y="222.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVSj-eEeeFm6H4mAmpLA" bpmnElement="_266A3753-53BE-4B36-803D-564AD4E9D895"><dc:Bounds height="80.0" width="100.0" x="240.0" y="180.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScCVSz-eEeeFm6H4mAmpLA" bpmnElement="_E7648A60-BBC5-4B1D-8796-F35679E0FE51"><di:waypoint xsi:type="dc:Point" x="290.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="220.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVTD-eEeeFm6H4mAmpLA" bpmnElement="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD"><dc:Bounds height="40.0" width="40.0" x="375.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScCVTT-eEeeFm6H4mAmpLA" bpmnElement="_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF"><di:waypoint xsi:type="dc:Point" x="290.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="395.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVTj-eEeeFm6H4mAmpLA" bpmnElement="_4D16E470-104D-4592-9B14-17380F17A1C0"><di:waypoint xsi:type="dc:Point" x="290.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="477.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="477.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="590.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="590.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScCVTz-eEeeFm6H4mAmpLA" bpmnElement="_4BC339BC-2D3E-4903-909A-FA9A90904CA6"><di:waypoint xsi:type="dc:Point" x="290.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVUD-eEeeFm6H4mAmpLA" bpmnElement="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"><dc:Bounds height="40.0" width="40.0" x="1014.0" y="335.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScCVUT-eEeeFm6H4mAmpLA" bpmnElement="_96BEF884-7DA1-4DF3-9D19-BF88157F2093"><di:waypoint xsi:type="dc:Point" x="1034.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScCVUj-eEeeFm6H4mAmpLA" bpmnElement="_CB84B893-830F-4960-8640-208225B444FB"><dc:Bounds height="80.0" width="100.0" x="1185.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_ScC8QD-eEeeFm6H4mAmpLA" bpmnElement="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"><dc:Bounds height="80.0" width="100.0" x="1350.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScC8QT-eEeeFm6H4mAmpLA" bpmnElement="_14D53AA8-7D4D-4DF1-A796-C911759AFE82"><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1400.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScC8Qj-eEeeFm6H4mAmpLA" bpmnElement="_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA"><di:waypoint xsi:type="dc:Point" x="1034.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScC8Qz-eEeeFm6H4mAmpLA" bpmnElement="_4121FF63-DD77-4FFB-9923-36E39DD6622D"><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1505.0" y="452.0" /><di:waypoint xsi:type="dc:Point" x="1260.0" y="452.0" /><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScC8RD-eEeeFm6H4mAmpLA" bpmnElement="_94D56E95-3CAA-42C4-8793-99B5680F600E"><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1210.0" y="465.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="465.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScC8RT-eEeeFm6H4mAmpLA" bpmnElement="_7E5B6958-654D-4FEE-84F4-6421844F8D1F"><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1505.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScC8Rj-eEeeFm6H4mAmpLA" bpmnElement="_5DD316D3-913F-4600-9D37-0CEAA3FEBA43"><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1235.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScC8Rz-eEeeFm6H4mAmpLA" bpmnElement="_921EB85C-0D30-4933-9BA8-E25DC6108252"><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1562.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1562.0" y="225.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="225.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScC8SD-eEeeFm6H4mAmpLA" bpmnElement="_262A1962-825F-4C56-88B3-206A2B80569F"><dc:Bounds height="40.0" width="40.0" x="1485.0" y="335.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScC8ST-eEeeFm6H4mAmpLA" bpmnElement="_179060F8-FE71-4B6D-8DF9-B700C2446E31"><di:waypoint xsi:type="dc:Point" x="1400.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_ScC8Sj-eEeeFm6H4mAmpLA" bpmnElement="_58EFCBCE-4E80-412E-A115-5B4669864DFD"><di:waypoint xsi:type="dc:Point" x="290.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="164.0" y="220.0" /><di:waypoint xsi:type="dc:Point" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_ScC8Sz-eEeeFm6H4mAmpLA" bpmnElement="_07584E25-8359-4AF3-AB92-3A6FD5B81959"><dc:Bounds height="40.0" width="40.0" x="270.0" y="309.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_ScC8TD-eEeeFm6H4mAmpLA" bpmnElement="_8385B547-68BC-4ADD-B5A4-156A981195D4"><di:waypoint xsi:type="dc:Point" x="290.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="329.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram><bpmn2:relationship id="_ScC8TT-eEeeFm6H4mAmpLA" type="jBPMProcessSimulation"><bpmn2:extensionElements><drools:ProcessAnalysisData><drools:Scenario xsi:type="drools:Scenario" id="default" name="Simulationscenario"><drools:ScenarioParameters xsi:type="drools:ScenarioParameters_._type" /><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" id="_ScC8Tj-eEeeFm6H4mAmpLA"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" id="_ScC8Tz-eEeeFm6H4mAmpLA"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5F5413A7-D079-4061-A500-66B805CEF038" id="_ScC8UD-eEeeFm6H4mAmpLA"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_266A3753-53BE-4B36-803D-564AD4E9D895" id="_ScC8UT-eEeeFm6H4mAmpLA"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_9209E0A4-14BC-4840-AE5E-AF2425159AD0" id="_ScC8Uj-eEeeFm6H4mAmpLA"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05" id="_ScC8Uz-eEeeFm6H4mAmpLA"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" id="_ScC8VD-eEeeFm6H4mAmpLA"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9" id="_ScC8VT-eEeeFm6H4mAmpLA"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_CB84B893-830F-4960-8640-208225B444FB" id="_ScC8Vj-eEeeFm6H4mAmpLA"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" id="_ScC8Vz-eEeeFm6H4mAmpLA"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters></drools:Scenario></drools:ProcessAnalysisData></bpmn2:extensionElements><bpmn2:source>_Sb-DwT-eEeeFm6H4mAmpLA</bpmn2:source><bpmn2:target>_Sb-DwT-eEeeFm6H4mAmpLA</bpmn2:target></bpmn2:relationship></bpmn2:definitions>]]></column>
			<where>workflowtype='RECEIPT_PROCESS'and workflowactive=1</where>
		</update>
	</changeSet>
<changeSet id="85" author="Pruthvi">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
</changeSet>
<changeSet id="86" author="Srikanth">
	<sql>
	INSERT INTO ErrorDetails VALUES('90286','EN','E','First Disbursement date is same as Current Business date. Not allowed for Payment.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	update ERRORDETAILS set ErrorMessage = '{0} should between or including {1} and {2}.' where ERRORCODE = '90282';
	update ErrorDetails set ErrorMessage ='Invalid {0}, Available {1} are: {2}.' where Errorcode = '90264';
	INSERT INTO ErrorDetails VALUES('90287','EN','E','{0} Already had one Phone with {1}.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	INSERT INTO ErrorDetails VALUES('90288','EN','E','{0} Already had one Email with {1}.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	</sql>
</changeSet>
<changeSet id="87" author="Irfan">
<sql>
	Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights);
	Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
	
	Delete from SecGroupRights where RightID In (Select RightID from SecRights	where RightName = 'ReceiptDialog_receiptNo');
	Delete from SecGroupRights where RightID In (Select RightID from SecRights	where RightName = 'FeeReceiptDialog_receiptNo');
	Delete from SecRights where RightName ='ReceiptDialog_receiptNo';
	Delete from SecRights where RightName ='FeeReceiptDialog_receiptNo';
	
	Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights);	
	Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
</sql>
</changeSet>
<changeSet author="Pruthvi" id="88">
<sql>
update WorkFlowDetails set workflowactive='0' where workflowtype='FEERECEIPT_PROCESS';
	</sql>
	</changeSet>
<changeSet author="Jayant" id="89">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId"
				valueComputed="(select max(WorkFlowId) + 1 from WorkFlowDetails)" />
			<column name="WorkFlowType">FEERECEIPT_PROCESS</column>
			<column name="WorkFlowSubType">Fee Receipt Workflow Process</column>
			<column name="WorkFlowDesc">Fee Receipt Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">FEERECEIPT_MAKER;FEERECEIPT_APPROVER</column>
			<column name="FirstTaskOwner">FEERECEIPT_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn">23-MAY-2017</column>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode">Null</column>
			<column name="NextRoleCode">Null</column>
			<column name="TaskId">Null</column>
			<column name="NextTaskId">Null</column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	
<changeSet id="90" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":"CCMS_MSTGRP1","properties":{"name":"Fee Receipt Process","documentation":"","auditing":"","monitoring":"","executable":"true","package":"","vardefs":"","imports":"","id":"FEERECEIPT_PROCESS","version":"","author":"","language":"English","namespaces":"","targetnamespace":"http://www.omg.org/bpmn20","expressionlanguage":"http://www.w3.org/1999/XPath","typelanguage":"http://www.w3.org/2001/XMLSchema","creationdate":"","modificationdate":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"_FF9D4911-C022-42B0-B00A-9C353226F4A7","properties":{"name":"Start","documentation":"","auditing":"","monitoring":"","dataoutputassociations":"","dataoutput":"","outputset":"","bgcolor":"#C5F970","trigger":"None"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"}],"bounds":{"lowerRight":{"x":116,"y":138},"upperLeft":{"x":86,"y":108}},"dockers":[]},{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF","properties":{"name":"Fee Receipt Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":false,"assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"FEERECEIPT_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"},{"resourceId":"_14CED7D6-CEC3-49D1-A614-5168AD7F13F6"}],"bounds":{"lowerRight":{"x":250,"y":163},"upperLeft":{"x":150,"y":83}},"dockers":[]},{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":149.5,"y":123},"upperLeft":{"x":116.6953125,"y":123}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A","properties":{"name":"Fee Receipt Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"FEERECEIPT_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_00E367A7-32B3-4238-95E1-394CAF4A448E"}],"bounds":{"lowerRight":{"x":430,"y":163},"upperLeft":{"x":330,"y":83}},"dockers":[]},{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}],"bounds":{"lowerRight":{"x":329.78125,"y":123},"upperLeft":{"x":250.21875,"y":123}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}},{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53"},{"resourceId":"_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059"}],"bounds":{"lowerRight":{"x":515,"y":143},"upperLeft":{"x":475,"y":103}},"dockers":[]},{"resourceId":"_00E367A7-32B3-4238-95E1-394CAF4A448E","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"}],"bounds":{"lowerRight":{"x":474.64844687000755,"y":123.4097335362338},"upperLeft":{"x":430.62889687999245,"y":123.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"}},{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618","properties":{"name":"Complete Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":" ","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doApprove","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008"}],"bounds":{"lowerRight":{"x":700,"y":163},"upperLeft":{"x":600,"y":83}},"dockers":[]},{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":599.5117239866028,"y":123.43426377099223},"upperLeft":{"x":515.8124947633972,"y":123.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01","properties":{"name":"Approved","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":793,"y":137},"upperLeft":{"x":765,"y":109}},"dockers":[]},{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}],"bounds":{"lowerRight":{"x":764.8984375,"y":123},"upperLeft":{"x":700.3828125,"y":123}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":495.5,"y":102.53125},"upperLeft":{"x":200,"y":17}},"dockers":[{"x":20.5,"y":20.5},{"x":495.5,"y":17},{"x":200,"y":17},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0","properties":{"name":"Cancel Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doReject","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681"}],"bounds":{"lowerRight":{"x":545,"y":290},"upperLeft":{"x":445,"y":210}},"dockers":[]},{"resourceId":"_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":495.4218287117048,"y":209.46875781130998},"upperLeft":{"x":495.1602025382952,"y":143.27733593869002}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA","properties":{"name":"Rejected","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":509,"y":358},"upperLeft":{"x":481,"y":330}},"dockers":[]},{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}],"bounds":{"lowerRight":{"x":495,"y":329.78125},"upperLeft":{"x":495,"y":290.65625}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}},{"resourceId":"_14CED7D6-CEC3-49D1-A614-5168AD7F13F6","properties":{"name":"Cancel","documentation":"Cancel=Cancelled","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Cancelled'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":444.44921875,"y":250},"upperLeft":{"x":200,"y":163.6875}},"dockers":[{"x":50,"y":40},{"x":200,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}}],"bounds":{"lowerRight":{"x":3000,"y":2000},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"bpmn2.0pbpm","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns="http://www.omg.org/bpmn20" xmlns:drools="http://www.jboss.org/drools" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="_wKhjED-5Eee0y-B36RTO6w" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd" targetNamespace="http://www.omg.org/bpmn20"><bpmn2:itemDefinition id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" /><bpmn2:itemDefinition id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" /><bpmn2:message id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage" itemRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" /><bpmn2:message id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage" itemRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" /><bpmn2:interface id="_wKiKLD-5Eee0y-B36RTO6w"><bpmn2:operation id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation" name="doApprove"><bpmn2:inMessageRef>_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:interface id="_wKiKLT-5Eee0y-B36RTO6w"><bpmn2:operation id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation" name="doReject"><bpmn2:inMessageRef>_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:process id="FEERECEIPT_PROCESS" name="Fee Receipt Process" isExecutable="true"><bpmn2:startEvent id="_FF9D4911-C022-42B0-B00A-9C353226F4A7" drools:bgcolor="#C5F970" name="Start"><bpmn2:outgoing>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:outgoing></bpmn2:startEvent><bpmn2:userTask id="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" drools:bgcolor="#FF6600" name="Fee Receipt Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:incoming><bpmn2:incoming>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:incoming><bpmn2:outgoing>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:outgoing><bpmn2:outgoing>_14CED7D6-CEC3-49D1-A614-5168AD7F13F6</bpmn2:outgoing><bpmn2:potentialOwner id="_wKhjET-5Eee0y-B36RTO6w"><bpmn2:resourceAssignmentExpression id="_wKhjEj-5Eee0y-B36RTO6w"><bpmn2:formalExpression id="_wKhjEz-5Eee0y-B36RTO6w">FEERECEIPT_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117" sourceRef="_FF9D4911-C022-42B0-B00A-9C353226F4A7" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" /><bpmn2:userTask id="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" drools:bgcolor="#FF6600" name="Fee Receipt Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:incoming><bpmn2:outgoing>_00E367A7-32B3-4238-95E1-394CAF4A448E</bpmn2:outgoing><bpmn2:potentialOwner id="_wKhjFD-5Eee0y-B36RTO6w"><bpmn2:resourceAssignmentExpression id="_wKhjFT-5Eee0y-B36RTO6w"><bpmn2:formalExpression id="_wKhjFj-5Eee0y-B36RTO6w">FEERECEIPT_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D" name="Submit" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><bpmn2:documentation id="_wKhjFz-5Eee0y-B36RTO6w">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_wKhjGD-5Eee0y-B36RTO6w">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_00E367A7-32B3-4238-95E1-394CAF4A448E</bpmn2:incoming><bpmn2:outgoing>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:outgoing><bpmn2:outgoing>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:outgoing><bpmn2:outgoing>_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_00E367A7-32B3-4238-95E1-394CAF4A448E" sourceRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" targetRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" /><bpmn2:serviceTask id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doApprove" name="Complete Process" operationRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation"><bpmn2:incoming>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:incoming><bpmn2:outgoing>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:sequenceFlow id="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56" name="Approve" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:documentation id="_wKhjGT-5Eee0y-B36RTO6w">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_wKhjGj-5Eee0y-B36RTO6w">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:endEvent id="_73682DD6-4D65-497A-BAA5-B80623CB6C01" drools:bgcolor="#F47677" name="Approved"><bpmn2:incoming>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_A921FE66-42C4-42CC-BB5C-15ABAA47A008" sourceRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" targetRef="_73682DD6-4D65-497A-BAA5-B80623CB6C01" /><bpmn2:sequenceFlow id="_2AE689CD-94CB-4752-9CE3-748559E63D53" name="Resubmit" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><bpmn2:documentation id="_wKiKID-5Eee0y-B36RTO6w">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_wKiKIT-5Eee0y-B36RTO6w"><bpmn2:documentation id="_wKiKIj-5Eee0y-B36RTO6w">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_wKiKIz-5Eee0y-B36RTO6w">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:serviceTask id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doReject" name="Cancel Process" operationRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation"><bpmn2:incoming>_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059</bpmn2:incoming><bpmn2:incoming>_14CED7D6-CEC3-49D1-A614-5168AD7F13F6</bpmn2:incoming><bpmn2:outgoing>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:sequenceFlow id="_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059" name="Reject" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_wKiKJD-5Eee0y-B36RTO6w">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_wKiKJT-5Eee0y-B36RTO6w"><bpmn2:documentation id="_wKiKJj-5Eee0y-B36RTO6w">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_wKiKJz-5Eee0y-B36RTO6w">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:endEvent id="_87A46993-91DA-47E0-811B-2F196FBAD6AA" drools:bgcolor="#F47677" name="Rejected"><bpmn2:incoming>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_DAFA463C-32E5-4B16-BC89-284B69E70681" sourceRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" targetRef="_87A46993-91DA-47E0-811B-2F196FBAD6AA" /><bpmn2:sequenceFlow id="_14CED7D6-CEC3-49D1-A614-5168AD7F13F6" name="Cancel" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_wKiKKD-5Eee0y-B36RTO6w">Cancel=Cancelled</bpmn2:documentation><bpmn2:auditing id="_wKiKKT-5Eee0y-B36RTO6w"><bpmn2:documentation id="_wKiKKj-5Eee0y-B36RTO6w">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_wKiKKz-5Eee0y-B36RTO6w">vo.recordStatus == 'Cancelled'</bpmn2:conditionExpression></bpmn2:sequenceFlow></bpmn2:process><bpmndi:BPMNDiagram id="_wKiKLj-5Eee0y-B36RTO6w"><bpmndi:BPMNPlane id="_wKiKLz-5Eee0y-B36RTO6w" bpmnElement="FEERECEIPT_PROCESS"><bpmndi:BPMNShape id="_wKiKMD-5Eee0y-B36RTO6w" bpmnElement="_FF9D4911-C022-42B0-B00A-9C353226F4A7"><dc:Bounds height="30.0" width="30.0" x="86.0" y="108.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_wKiKMT-5Eee0y-B36RTO6w" bpmnElement="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><dc:Bounds height="80.0" width="100.0" x="150.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_wKiKMj-5Eee0y-B36RTO6w" bpmnElement="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"><di:waypoint xsi:type="dc:Point" x="101.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="200.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_wKiKMz-5Eee0y-B36RTO6w" bpmnElement="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><dc:Bounds height="80.0" width="100.0" x="330.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_wKiKND-5Eee0y-B36RTO6w" bpmnElement="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"><di:waypoint xsi:type="dc:Point" x="200.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="380.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_wKiKNT-5Eee0y-B36RTO6w" bpmnElement="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"><dc:Bounds height="40.0" width="40.0" x="475.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_wKiKNj-5Eee0y-B36RTO6w" bpmnElement="_00E367A7-32B3-4238-95E1-394CAF4A448E"><di:waypoint xsi:type="dc:Point" x="380.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="495.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_wKiKNz-5Eee0y-B36RTO6w" bpmnElement="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><dc:Bounds height="80.0" width="100.0" x="600.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_wKiKOD-5Eee0y-B36RTO6w" bpmnElement="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"><di:waypoint xsi:type="dc:Point" x="495.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="650.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_wKiKOT-5Eee0y-B36RTO6w" bpmnElement="_73682DD6-4D65-497A-BAA5-B80623CB6C01"><dc:Bounds height="28.0" width="28.0" x="765.0" y="109.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_wKiKOj-5Eee0y-B36RTO6w" bpmnElement="_A921FE66-42C4-42CC-BB5C-15ABAA47A008"><di:waypoint xsi:type="dc:Point" x="650.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="779.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_wKiKOz-5Eee0y-B36RTO6w" bpmnElement="_2AE689CD-94CB-4752-9CE3-748559E63D53"><di:waypoint xsi:type="dc:Point" x="495.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="495.0" y="17.0" /><di:waypoint xsi:type="dc:Point" x="200.0" y="17.0" /><di:waypoint xsi:type="dc:Point" x="200.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_wKiKPD-5Eee0y-B36RTO6w" bpmnElement="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><dc:Bounds height="80.0" width="100.0" x="445.0" y="210.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_wKiKPT-5Eee0y-B36RTO6w" bpmnElement="_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059"><di:waypoint xsi:type="dc:Point" x="495.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="495.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_wKiKPj-5Eee0y-B36RTO6w" bpmnElement="_87A46993-91DA-47E0-811B-2F196FBAD6AA"><dc:Bounds height="28.0" width="28.0" x="481.0" y="330.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_wKiKPz-5Eee0y-B36RTO6w" bpmnElement="_DAFA463C-32E5-4B16-BC89-284B69E70681"><di:waypoint xsi:type="dc:Point" x="495.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="495.0" y="344.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_wKiKQD-5Eee0y-B36RTO6w" bpmnElement="_14CED7D6-CEC3-49D1-A614-5168AD7F13F6"><di:waypoint xsi:type="dc:Point" x="200.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="200.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="495.0" y="250.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram><bpmn2:relationship id="_wKiKQT-5Eee0y-B36RTO6w" type="jBPMProcessSimulation"><bpmn2:extensionElements><drools:ProcessAnalysisData><drools:Scenario xsi:type="drools:Scenario" id="default" name="Simulationscenario"><drools:ScenarioParameters xsi:type="drools:ScenarioParameters_._type" /><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" id="_wKiKQj-5Eee0y-B36RTO6w"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" id="_wKiKQz-5Eee0y-B36RTO6w"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" id="_wKiKRD-5Eee0y-B36RTO6w"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" id="_wKiKRT-5Eee0y-B36RTO6w"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters></drools:Scenario></drools:ProcessAnalysisData></bpmn2:extensionElements><bpmn2:source>_wKhjED-5Eee0y-B36RTO6w</bpmn2:source><bpmn2:target>_wKhjED-5Eee0y-B36RTO6w</bpmn2:target></bpmn2:relationship></bpmn2:definitions>]]></column>
			<where>workflowtype='FEERECEIPT_PROCESS'and workflowactive=1</where>
		</update>
	</changeSet>
<changeSet id="91" author="Pruthvi">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
</changeSet>
</databaseChangeLog>