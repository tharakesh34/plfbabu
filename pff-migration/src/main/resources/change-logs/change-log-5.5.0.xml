<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />

	<changeSet id="pre_run_for_pgp" author="Adarsh" runAlways="true" dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>

	<changeSet id="ST#394" author="Varaprasad">
		<addColumn tableName="BankInfoDetail_Temp">
			<column name="SettlementNo" type="bigint" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#394.0" author="Varaprasad">
		<addColumn tableName="BankInfoDetail_Temp">
			<column name="settlementCredits" type="decimal(18,0)" />
		</addColumn>
	</changeSet>

	<changeSet id="ST#394.1" author="Varaprasad">
		<addColumn tableName="BankInfoDetail">
			<column name="SettlementNo" type="bigint" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#394.2" author="Varaprasad">
		<addColumn tableName="BankInfoDetail">
			<column name="settlementCredits" type="decimal(18,0)" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#394.3" author="Varaprasad">
		<createView viewName="Bankinfodetail_Aview" replaceIfExists="true">
			<![CDATA[
				SELECT t1.bankid,
				    t1.monthyear,
				    t1.balance,
				    t1.debitno,
				    t1.debitamt,
				    t1.creditno,
				    t1.creditamt,
				    t1.bouncein,
				    t1.bounceout,
				    t1.closingbal,
				    t1.sanctionlimit,
				    t1.avgutilization,
					t1.peakUtilizationLevel,
					t1.settlementNo,
					t1.settlementCredits,
				    t1.odcclimit,
				    t1.version,
				    t1.lastmntby,
				    t1.lastmnton,
				    t1.recordstatus,
				    t1.rolecode,
				    t1.nextrolecode,
				    t1.taskid,
				    t1.nexttaskid,
				    t1.recordtype,
				    t1.workflowid
				   FROM bankinfodetail t1
				  ]]>
		</createView>
	</changeSet>
	<changeSet id="ST#394.4" author="Varaprasad.K">
		<createView viewName="Bankinfodetail_view" replaceIfExists="true">
			<![CDATA[
				SELECT t1.bankid,
				    t1.monthyear,
				    t1.balance,
				    t1.debitno,
				    t1.debitamt,
				    t1.creditno,
				    t1.creditamt,
				    t1.bouncein,
				    t1.bounceout,
				    t1.closingbal,
				    t1.sanctionlimit,
				    t1.avgutilization,
					t1.peakUtilizationLevel,
					t1.settlementNo,
					t1.settlementCredits,
				    t1.odcclimit,
				    t1.version,
				    t1.lastmntby,
				    t1.lastmnton,
				    t1.recordstatus,
				    t1.rolecode,
				    t1.nextrolecode,
				    t1.taskid,
				    t1.nexttaskid,
				    t1.recordtype,
				    t1.workflowid
				   FROM bankinfodetail_temp t1
				UNION ALL
				 SELECT t1.bankid,
				    t1.monthyear,
				    t1.balance,
				    t1.debitno,
				    t1.debitamt,
				    t1.creditno,
				    t1.creditamt,
				    t1.bouncein,
				    t1.bounceout,
				    t1.closingbal,
				    t1.sanctionlimit,
				    t1.avgutilization,
					t1.peakUtilizationLevel,
					t1.settlementNo,
					t1.settlementCredits,
				    t1.odcclimit,
				    t1.version,
				    t1.lastmntby,
				    t1.lastmnton,
				    t1.recordstatus,
				    t1.rolecode,
				    t1.nextrolecode,
				    t1.taskid,
				    t1.nexttaskid,
				    t1.recordtype,
				    t1.workflowid
				   FROM bankinfodetail t1
				  WHERE (NOT (EXISTS ( SELECT 1 AS expr1
				           FROM bankinfodetail_temp
				          WHERE ((bankinfodetail_temp.bankid = t1.bankid) AND (bankinfodetail_temp.monthyear = t1.monthyear)))))
				   ]]>
		</createView>
	</changeSet>
	<changeSet id="ST#395" author="Varaprasad">
		<addColumn tableName="EXTERNAL_LIABILITIES_PD_TEMP">
			<column name="emiClearance" type="varchar(10)">
			</column>
		</addColumn>
	</changeSet>

	<changeSet id="ST#395.1" author="Varaprasad">
		<addColumn tableName="EXTERNAL_LIABILITIES_PD">
			<column name="emiClearance" type="varchar(10)">
			</column>
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#395.2" author="Varaprasad">
		<createView viewName="external_liabilities_pd_view" replaceIfExists="true">
				<![CDATA[
				SELECT  t1.id,
					    t1.liabilityid,
					    t1.emitype,
					    t1.emiClearance,
					    t1.version,
					    t1.lastmntby,
					    t1.lastmnton,
					    t1.recordstatus,
					    t1.rolecode,
					    t1.nextrolecode,
					    t1.taskid,
					    t1.nexttaskid,
					    t1.recordtype,
					    t1.workflowid
					   FROM external_liabilities_pd_temp t1
					UNION ALL
					 SELECT t1.id,
					    t1.liabilityid,
					    t1.emitype,
					    t1.emiClearance,
					    t1.version,
					    t1.lastmntby,
					    t1.lastmnton,
					    t1.recordstatus,
					    t1.rolecode,
					    t1.nextrolecode,
					    t1.taskid,
					    t1.nexttaskid,
					    t1.recordtype,
					    t1.workflowid
					   FROM external_liabilities_pd t1
					  WHERE (NOT (EXISTS ( SELECT 1
					           FROM external_liabilities_pd_temp
					          WHERE (external_liabilities_pd_temp.liabilityid = t1.liabilityid))))
					  ]]>
			</createView>
	</changeSet>
	<changeSet id="ST#395.3" author="Varaprasad.K">
		<sql>
				<![CDATA[
						Alter table EXTERNAL_LIABILITIES_PD drop column installmentcleared;
				]]>
		</sql>
	</changeSet>
	<changeSet id="ST#395.4" author="Varaprasad.K">
		<sql>
				<![CDATA[
						Alter table EXTERNAL_LIABILITIES_PD_TEMP drop column installmentcleared;
				]]>
		</sql>
	</changeSet>
	<changeSet id="ST#395.5" author="Varaprasad.K">
		<sql>
		<![CDATA[
		        DELETE FROM SecRights where RightName='CustomerExtLiabilityDialog_EmiClearance';
				DELETE FROM SECGROUPRIGHTS Where GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='CustomerExtLiability_Maker') AND RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='CustomerExtLiabilityDialog_EmiClearance');
				
				INSERT INTO SecRights values((SELECT max(RightId) + 1 from SecRights), 3,'CustomerExtLiabilityDialog_EmiClearance','CustomerExtLiabilityDialog',0,1000,current_timestamp,'Approved','',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CustomerExtLiability_Maker') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='CustomerExtLiabilityDialog_EmiClearance'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
                
				UPDATE SeqSecGroups SET SeqNo= (SELECT MAX(GRPID) FROM ( SELECT GRPID FROM SECGROUPS UNION SELECT GRPID FROM SECGROUPS_TEMP)t);
				UPDATE SeqSecRights SET SeqNo= (SELECT MAX(rightid) FROM SecRights );	
				UPDATE SeqSecGroupRights SET SeqNo= (SELECT MAX(GRPrightID) FROM (SELECT GRPrightID FROM SecGroupRights UNION SELECT GRPrightID FROM SecGroupRights_Temp)t);
		 ]]>
		</sql>
	</changeSet>

	<changeSet id="ST#477" author="Gopal.P">
		<sql>
		<![CDATA[
			UPDATE LMTFinRefDetail set RecordType = '';
		 ]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#435" author="Varaprasad">
		<addColumn tableName="CustomerDirectorDetail">
			<column name="ShareHolderCustID" type="bigint" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#435.1" author="Varaprasad">
		<addColumn tableName="CustomerDirectorDetail">
			<column name="ShareholderCustomer" type="boolean" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#435.2" author="Varaprasad">
		<addColumn tableName="CustomerDirectorDetail_TEMP">
			<column name="ShareHolderCustID" type="bigint" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#435.3" author="Varaprasad">
		<addColumn tableName="CustomerDirectorDetail_TEMP">
			<column name="ShareholderCustomer" type="boolean" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#435.3.0" author="Varaprasad">
		<sql>
			<![CDATA[
				Update CustomerDirectorDetail set ShareholderCustomer = 0;
				Update CustomerDirectorDetail_TEMP set ShareholderCustomer = 0;
			]]>

		</sql>
	</changeSet>
	
	<changeSet id="ST#435.3.1" author="Varaprasad.K" dbms="postgresql, oracle">
		<addDefaultValue columnName="ShareholderCustomer" tableName="CustomerDirectorDetail" defaultValue="0" />
		<addDefaultValue columnName="ShareholderCustomer" tableName="CustomerDirectorDetail_TEMP" defaultValue="0" />
	</changeSet>

	
		<changeSet id="ST#435.3.1" author="Varaprasad.K" dbms="mssql">
		<sql>
			<![CDATA[
				ALTER TABLE CustomerDirectorDetail ADD CONSTRAINT DF_CstmrDrctrDtl_SharhldrCstmr DEFAULT 0 FOR ShareholderCustomer;
				ALTER TABLE CustomerDirectorDetail_TEMP ADD CONSTRAINT DF_CstmrDrctrDtl_T_ShrhldrCstm DEFAULT 0 FOR ShareholderCustomer;
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#435.4" author="Varaprasad">
		<createView viewName="CustomerDirectorDetail_view" replaceIfExists="true">
				<![CDATA[
				 SELECT t1.directorid,
					    t1.custid,
					    t1.shareHolderCustID,
					    t1.firstname,
					    t1.middlename,
					    t1.lastname,
					    t1.shortname,
					    t1.custgendercode,
					    t1.custsalutationcode,
					    t1.shareperc,
					    t1.custaddrhnbr,
					    t1.custflatnbr,
					    t1.custaddrstreet,
					    t1.custaddrline1,
					    t1.custaddrline2,
					    t1.custpobox,
					    t1.custaddrcity,
					    t1.custaddrprovince,
					    t1.custaddrcountry,
					    t1.custaddrzip,
					    t1.custaddrphone,
					    t1.custaddrfrom,
					    t1.shareholder,
					    t1.shareholderCustomer,
					    t1.director,
					    t1.designation,
					    t1.idtype,
					    t1.idreference,
					    t1.nationality,
					    t1.dob,
					    t1.version,
					    t1.lastmntby,
					    t1.lastmnton,
					    t1.recordstatus,
					    t1.rolecode,
					    t1.nextrolecode,
					    t1.taskid,
					    t1.nexttaskid,
					    t1.recordtype,
					    t1.workflowid,
					    t5.pccityname AS lovdesccustaddrcityname,
					    t6.cpprovincename AS lovdesccustaddrprovincename,
					    t7.countrydesc AS lovdesccustaddrcountryname,
					    t3.genderdesc AS lovdesccustgendercodename,
					    t4.saluationdesc AS lovdesccustsalutationcodename,
					    t8.desgdesc AS lovdescdesignationname,
					    t9.countrydesc AS lovdescnationalityname,
					    t10.doctypedesc AS lovdesccustdoccategoryname,
					    COALESCE((t10.docidnummand), 0) AS idreferencemand,
					    t11.custshrtname AS lovShareHolderCustShrtName,
					    t11.custCIF AS lovDescShareHolderCustCIF
					   FROM ((((((((customerdirectordetail_temp t1
					     LEFT JOIN bmtgenders t3 ON (((t1.custgendercode) = (t3.gendercode))))
					     LEFT JOIN bmtsalutations t4 ON (((t1.custsalutationcode) = (t4.salutationcode))))
					     LEFT JOIN rmtprovincevscity t5 ON (((t1.custaddrcountry = t5.pccountry) AND ((t1.custaddrprovince) = (t5.pcprovince)) AND ((t1.custaddrcity) = (t5.pccity)))))
					     LEFT JOIN rmtcountryvsprovince t6 ON (((t1.custaddrcountry = t6.cpcountry) AND ((t1.custaddrprovince) = (t6.cpprovince)))))
					     JOIN bmtcountries t7 ON ((t1.custaddrcountry = t7.countrycode)))
					     LEFT JOIN bmtdesignations t8 ON (((t1.designation) = (t8.desgcode))))
					     LEFT JOIN bmtcountries t9 ON ((t1.nationality = t9.countrycode)))
					     LEFT JOIN bmtdocumenttypes t10 ON (((t1.idtype) = (t10.doctypecode)))
					     LEFT JOIN customers t11 ON (((t1.shareHolderCustID) = (t11.custid))))
					UNION ALL
					 SELECT t1.directorid,
					    t1.custid,
					    t1.shareHolderCustID,
					    t1.firstname,
					    t1.middlename,
					    t1.lastname,
					    t1.shortname,
					    t1.custgendercode,
					    t1.custsalutationcode,
					    t1.shareperc,
					    t1.custaddrhnbr,
					    t1.custflatnbr,
					    t1.custaddrstreet,
					    t1.custaddrline1,
					    t1.custaddrline2,
					    t1.custpobox,
					    t1.custaddrcity,
					    t1.custaddrprovince,
					    t1.custaddrcountry,
					    t1.custaddrzip,
					    t1.custaddrphone,
					    t1.custaddrfrom,
					    t1.shareholder,
					    t1.shareholderCustomer,
					    t1.director,
					    t1.designation,
					    t1.idtype,
					    t1.idreference,
					    t1.nationality,
					    t1.dob,
					    t1.version,
					    t1.lastmntby,
					    t1.lastmnton,
					    t1.recordstatus,
					    t1.rolecode,
					    t1.nextrolecode,
					    t1.taskid,
					    t1.nexttaskid,
					    t1.recordtype,
					    t1.workflowid,
					    t5.pccityname AS lovdesccustaddrcityname,
					    t6.cpprovincename AS lovdesccustaddrprovincename,
					    t7.countrydesc AS lovdesccustaddrcountryname,
					    t3.genderdesc AS lovdesccustgendercodename,
					    t4.saluationdesc AS lovdesccustsalutationcodename,
					    t8.desgdesc AS lovdescdesignationname,
					    t9.countrydesc AS lovdescnationalityname,
					    t10.doctypedesc AS lovdesccustdoccategoryname,
					    COALESCE((t10.docidnummand), 0) AS idreferencemand,
					    t11.custshrtname AS lovShareHolderCustShrtName,
					    t11.custCIF AS lovDescShareHolderCustCIF
					   FROM ((((((((customerdirectordetail t1
					     LEFT JOIN bmtgenders t3 ON (((t1.custgendercode) = (t3.gendercode))))
					     LEFT JOIN bmtsalutations t4 ON (((t1.custsalutationcode) = (t4.salutationcode))))
					     LEFT JOIN rmtprovincevscity t5 ON (((t1.custaddrcountry = t5.pccountry) AND ((t1.custaddrprovince) = (t5.pcprovince)) AND ((t1.custaddrcity) = (t5.pccity)))))
					     LEFT JOIN rmtcountryvsprovince t6 ON (((t1.custaddrcountry = t6.cpcountry) AND ((t1.custaddrprovince) = (t6.cpprovince)))))
					     JOIN bmtcountries t7 ON ((t1.custaddrcountry = t7.countrycode)))
					     LEFT JOIN bmtdesignations t8 ON (((t1.designation) = (t8.desgcode))))
					     LEFT JOIN bmtcountries t9 ON ((t1.nationality = t9.countrycode)))
					     LEFT JOIN bmtdocumenttypes t10 ON (((t1.idtype) = (t10.doctypecode)))
					     LEFT JOIN customers t11 ON (((t1.shareHolderCustID) = (t11.custid))))
					  WHERE (NOT (EXISTS ( SELECT 1
					           FROM customerdirectordetail_temp
					          WHERE ((customerdirectordetail_temp.directorid = t1.directorid) AND (customerdirectordetail_temp.custid = t1.custid)))))
					  ]]>
			</createView>
	</changeSet>
	<changeSet id="ST#435.5" author="Varaprasad">
		<createView viewName="CustomerDirectorDetail_Aview" replaceIfExists="true">
				<![CDATA[
				SELECT  t1.directorid,
					    t1.custid,
					    t1.shareHolderCustID,
					    t1.firstname,
					    t1.middlename,
					    t1.lastname,
					    t1.shortname,
					    t1.custgendercode,
					    t1.custsalutationcode,
					    t1.shareperc,
					    t1.custaddrhnbr,
					    t1.custflatnbr,
					    t1.custaddrstreet,
					    t1.custaddrline1,
					    t1.custaddrline2,
					    t1.custpobox,
					    t1.custaddrcity,
					    t1.custaddrprovince,
					    t1.custaddrcountry,
					    t1.custaddrzip,
					    t1.custaddrphone,
					    t1.custaddrfrom,
					    t1.shareholder,
						t1.shareholderCustomer,
					    t1.director,
					    t1.designation,
					    t1.idtype,
					    t1.idreference,
					    t1.nationality,
					    t1.dob,
					    t1.version,
					    t1.lastmntby,
					    t1.lastmnton,
					    t1.recordstatus,
					    t1.rolecode,
					    t1.nextrolecode,
					    t1.taskid,
					    t1.nexttaskid,
					    t1.recordtype,
					    t1.workflowid,
					    t5.pccityname AS lovdesccustaddrcityname,
					    t6.cpprovincename AS lovdesccustaddrprovincename,
					    t7.countrydesc AS lovdesccustaddrcountryname,
					    t3.genderdesc AS lovdesccustgendercodename,
					    t4.saluationdesc AS lovdesccustsalutationcodename,
					    t8.desgdesc AS lovdescdesignationname,
					    t9.countrydesc AS lovdescnationalityname,
					    t10.doctypedesc AS lovdesccustdoccategoryname,
					    COALESCE((t10.docidnummand), 0) AS idreferencemand,
					    t11.custshrtname AS lovShareHolderCustShrtName,
					    t11.custCIF AS lovDescShareHolderCustCIF
					   FROM ((((((((customerdirectordetail t1
					     LEFT JOIN bmtgenders t3 ON (((t1.custgendercode) = (t3.gendercode))))
					     LEFT JOIN bmtsalutations t4 ON (((t1.custsalutationcode) = (t4.salutationcode))))
					     LEFT JOIN rmtprovincevscity t5 ON (((t1.custaddrcountry = t5.pccountry) AND ((t1.custaddrprovince) = (t5.pcprovince)) AND ((t1.custaddrcity) = (t5.pccity)))))
					     LEFT JOIN rmtcountryvsprovince t6 ON (((t1.custaddrcountry = t6.cpcountry) AND ((t1.custaddrprovince) = (t6.cpprovince)))))
					     JOIN bmtcountries t7 ON ((t1.custaddrcountry = t7.countrycode)))
					     LEFT JOIN bmtdesignations t8 ON (((t1.designation) = (t8.desgcode))))
					     LEFT JOIN bmtcountries t9 ON ((t1.nationality = t9.countrycode)))
					     LEFT JOIN bmtdocumenttypes t10 ON (((t1.idtype) = (t10.doctypecode)))
					     LEFT JOIN customers t11 ON (((t1.shareHolderCustID) = (t11.custid))))
					  ]]>
			</createView>
	</changeSet>
	<changeSet id="ST#435.6" author="Varaprasad">
		<sql>
		<![CDATA[
		        DELETE FROM SecRights where RightName='DirectorDetailDialog_shareholderCustomer';
				DELETE FROM SecRights where RightName='DirectorDetailDialog_ShareHolderCustCIF';
				DELETE FROM SECGROUPRIGHTS Where GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='CUSTOMER_DDE_MAKER') AND RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='DirectorDetailDialog_shareholderCustomer');
				DELETE FROM SECGROUPRIGHTS Where GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='CUSTOMER_DDE_MAKER') AND RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='DirectorDetailDialog_ShareHolderCustCIF');
				
				INSERT INTO SecRights values((SELECT max(RightId) + 1 from SecRights), 3,'DirectorDetailDialog_shareholderCustomer','DirectorDetailDialog',0,1000,current_timestamp,'Approved','',' ',' ',' ',' ',0);
				INSERT INTO SecRights values((SELECT max(RightId) + 1 from SecRights), 3,'DirectorDetailDialog_ShareHolderCustCIF','DirectorDetailDialog',0,1000,current_timestamp,'Approved','',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMER_DDE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='DirectorDetailDialog_shareholderCustomer'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMER_DDE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='DirectorDetailDialog_ShareHolderCustCIF'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
                
				UPDATE SeqSecGroups SET SeqNo= (SELECT MAX(GRPID) FROM ( SELECT GRPID FROM SECGROUPS UNION SELECT GRPID FROM SECGROUPS_TEMP)t);
				UPDATE SeqSecRights SET SeqNo= (SELECT MAX(rightid) FROM SecRights );	
				UPDATE SeqSecGroupRights SET SeqNo= (SELECT MAX(GRPrightID) FROM (SELECT GRPrightID FROM SecGroupRights UNION SELECT GRPrightID FROM SecGroupRights_Temp)t);
		 ]]>
		</sql>
	</changeSet>

</databaseChangeLog>