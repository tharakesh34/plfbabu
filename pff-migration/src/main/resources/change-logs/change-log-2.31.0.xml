<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.auditdb" value="PFFBFSQCAudit.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	
<changeSet id="1" author="Pruthvi">
		<createView replaceIfExists="true" viewName="RPT_ABGAgingIncDtl_View">
	Select ProductCode,InFlows,UnpaidTotalAmt,Clmn FROM(	
	Select ProductCode,InFlows,SUM(UnpaidTotalAmt)UnpaidTotalAmt,'Received' Clmn from RPT_ABG_AgingOfIncome_View
	Where NoOfDays<![CDATA[<]]>0 Group By InFlows,ProductCode
	UNION
	Select ProductCode,InFlows,SUM(UnpaidTotalAmt)UnpaidTotalAmt,'REC00TO30' Clmn from RPT_ABG_AgingOfIncome_View
	Where NoOfDays<![CDATA[>]]>=0 and NoOfDays<![CDATA[<]]>=30 Group By InFlows,ProductCode
	UNION
	Select ProductCode,InFlows,SUM(UnpaidTotalAmt),'REC31TO60' Clmn from RPT_ABG_AgingOfIncome_View
	Where NoOfDays<![CDATA[>]]>30 and NoOfDays<![CDATA[<]]>=60 Group By InFlows,ProductCode
	UNION
	Select ProductCode,InFlows,SUM(UnpaidTotalAmt),'REC61TO90' Clmn from RPT_ABG_AgingOfIncome_View
	Where NoOfDays<![CDATA[>]]>60 and NoOfDays<![CDATA[<]]>=90 Group By InFlows,ProductCode
	UNION
	Select ProductCode,InFlows,SUM(UnpaidTotalAmt),'RECOVER90' Clmn from RPT_ABG_AgingOfIncome_View
	Where NoOfDays<![CDATA[>]]>90  Group By InFlows,ProductCode ) SourceTable
	</createView>
	</changeSet>
<changeSet id="2" author="Pruthvi" dbms="mssql">
		<createView replaceIfExists="true" viewName="FinanceScoreDetail_View">
		SELECT     T1.HeaderId, T1.SubGroupId, T1.RuleId, T1.MaxScore, T1.ExecScore, T2.GroupDesc SubGrpCodeDesc, T2.CategoryType, 
                      CASE COALESCE(T2.CategoryType, N'R') WHEN N'F' THEN CAST(T4.NFRuleId as Varchar(10))
                       WHEN N'R' THEN T3.RuleCode WHEN N'N' THEN CAST( 
                      T4.NFRuleId as Varchar(10)) END RuleCode, CASE COALESCE(CategoryType, N'R') 
                      WHEN N'F' THEN T4.NFRuleDesc WHEN N'R' THEN T3.RuleCodeDesc 
                      WHEN N'N' THEN T4.NFRuleDesc END RuleCodeDesc
FROM         FinanceScoreDetail T1 LEFT OUTER JOIN
                      CorpScoringGroupDetail T2 ON T1.SubGroupId = T2.GroupId LEFT OUTER JOIN
                      Rules T3 ON T1.RuleId = T3.RuleId LEFT OUTER JOIN
                      NFScoreRuleDetail T4 ON T1.RuleId = T4.NFRuleId AND T1.SubGroupId = T4.GroupId
		</createView>
		</changeSet>
	<changeSet id="3" author="Pruthvi" dbms="mssql">
		<createView replaceIfExists="true" viewName="CustCRAgg_Last4Years_View">	
		SELECT T.CustomerId,T.CategoryId,T.CategoryDesc,T.CreditRevCode,T.SubCategoryDesc,Year1,Year2,Year3,Year4
    FROM(
    Select CustomerId,T3.CategoryId,CategoryDesc,T3.CreditRevCode,T2.SubCategoryDesc
    FROM     FinCreditReviewDetails T INNER JOIN 
			 FinCreditReviewSummary T1 ON T.DetailId = T1.DetailId INNER JOIN
			 FinCreditRevSubCategory T2 ON T1.SubCategoryCode = T2.SubCategoryCode INNER JOIN
			 FinCreditRevCategory T3 ON T3.CategoryID=T2.CategoryID
    where	 AuditYear IN (SELECT YEAR(GETDATE()) YearNum UNION SELECT YEAR(GETDATE()) - 1 UNION SELECT YEAR(GETDATE()) - 2 UNION SELECT YEAR(GETDATE()) - 3 ) 
    GROUP BY CustomerId,T3.CategoryId,CategoryDesc,T3.CreditRevCode,T2.SubCategoryDesc)T LEFT JOIN
    
    (Select CustomerId,T3.CategoryId,CategoryDesc,T3.CreditRevCode,T2.SubCategoryDesc,SUM(ItemValue) Year1
	 FROM     FinCreditReviewDetails T INNER JOIN 
			 FinCreditReviewSummary T1 ON T.DetailId = T1.DetailId INNER JOIN
			 FinCreditRevSubCategory T2 ON T1.SubCategoryCode = T2.SubCategoryCode INNER JOIN
			 FinCreditRevCategory T3 ON T3.CategoryID=T2.CategoryID
    WHERE  AuditYear IN(SELECT YEAR(GETDATE()))
    GROUP BY CustomerId,T3.CategoryId,CategoryDesc,T3.CreditRevCode,T2.SubCategoryDesc )T1 ON T.CustomerId=T1.CustomerId and T.CategoryId
    = T1.CategoryId and T.CreditRevCode=T1.CreditRevCode and T.SubCategoryDesc=T1.SubCategoryDesc LEFT JOIN
    (Select CustomerId,T3.CategoryId,CategoryDesc,T3.CreditRevCode,T2.SubCategoryDesc,SUM(ItemValue) Year2
    FROM     FinCreditReviewDetails T INNER JOIN 
			 FinCreditReviewSummary T1 ON T.DetailId = T1.DetailId INNER JOIN
			 FinCreditRevSubCategory T2 ON T1.SubCategoryCode = T2.SubCategoryCode INNER JOIN
			 FinCreditRevCategory T3 ON T3.CategoryID=T2.CategoryID
    WHERE  AuditYear IN(SELECT YEAR(GETDATE()) - 1)
    GROUP BY CustomerId,T3.CategoryId,CategoryDesc,T3.CreditRevCode,T2.SubCategoryDesc)T2 ON T.CustomerId=T2.CustomerId and T.CategoryId
    = T2.CategoryId and T.CreditRevCode=T2.CreditRevCode and T.SubCategoryDesc=T2.SubCategoryDesc LEFT JOIN
    (Select CustomerId,T3.CategoryId,CategoryDesc,T3.CreditRevCode,T2.SubCategoryDesc,SUM(ItemValue) Year3
    FROM     FinCreditReviewDetails T INNER JOIN 
			 FinCreditReviewSummary T1 ON T.DetailId = T1.DetailId INNER JOIN
			 FinCreditRevSubCategory T2 ON T1.SubCategoryCode = T2.SubCategoryCode INNER JOIN
			 FinCreditRevCategory T3 ON T3.CategoryID=T2.CategoryID
    WHERE  AuditYear IN(SELECT YEAR(GETDATE()) - 2)
    GROUP BY CustomerId,T3.CategoryId,CategoryDesc,T3.CreditRevCode,T2.SubCategoryDesc)T3 ON T.CustomerId=T3.CustomerId and T.CategoryId
    = T3.CategoryId and T.CreditRevCode=T3.CreditRevCode and T.SubCategoryDesc=T3.SubCategoryDesc LEFT JOIN
    (Select CustomerId,T3.CategoryId,CategoryDesc,T3.CreditRevCode,T2.SubCategoryDesc,SUM(ItemValue) Year4
   FROM     FinCreditReviewDetails T INNER JOIN 
			 FinCreditReviewSummary T1 ON T.DetailId = T1.DetailId INNER JOIN
			 FinCreditRevSubCategory T2 ON T1.SubCategoryCode = T2.SubCategoryCode INNER JOIN
			 FinCreditRevCategory T3 ON T3.CategoryID=T2.CategoryID
    WHERE  AuditYear IN(SELECT YEAR(GETDATE()) - 3)
    GROUP BY CustomerId,T3.CategoryId,CategoryDesc,T3.CreditRevCode,T2.SubCategoryDesc)T4 ON T.CustomerId=T4.CustomerId and T.CategoryId
    = T4.CategoryId and T.CreditRevCode=T4.CreditRevCode and T.SubCategoryDesc=T4.SubCategoryDesc	
    </createView>
    </changeSet>
    	<changeSet id="4" author="Pruthvi" dbms="mssql">
		<createView replaceIfExists="true" viewName="RMTScoringMetrics_View">
		SELECT     T1.ScoreGroupId, T1.ScoringId, T1.CategoryType, 
                      CASE T1.CategoryType WHEN N'R' THEN T2.RuleCodeDesc ELSE T3.GroupDesc END lovDescScoringCodeDesc, 
                      CASE T1.CategoryType WHEN N'R' THEN T2.RuleCode ELSE CAST(T3.GroupId as varchar(8)) END lovDescScoringCode, 
                      CASE T1.CategoryType WHEN N'R' THEN T2.SQLRule  END lovDescSQLRule, 
                      CASE T1.CategoryType WHEN N'R' THEN T2.SEQOrder ELSE T3.GroupSeq END lovDescScoreMetricSeq, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         RMTScoringMetrics_Temp T1 LEFT OUTER JOIN
                      Rules T2 ON T2.RuleId = T1.ScoringId AND T2.RuleModule = 'SCORES' LEFT JOIN
                      CorpScoringGroupDetail T3 ON T3.GroupId = T1.ScoringId
UNION ALL
SELECT     T1.ScoreGroupId, T1.ScoringId, T1.CategoryType, 
                      CASE T1.CategoryType WHEN N'R' THEN T2.RuleCodeDesc ELSE T3.GroupDesc END lovDescScoringCodeDesc, 
                      CASE T1.CategoryType WHEN N'R' THEN T2.RuleCode ELSE CAST(T3.GroupId as varchar(8)) END lovDescScoringCode, 
                      CASE T1.CategoryType WHEN N'R' THEN T2.SQLRule  END lovDescSQLRule, 
                      CASE T1.CategoryType WHEN N'R' THEN T2.SEQOrder ELSE T3.GroupSeq END lovDescScoreMetricSeq, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         RMTScoringMetrics T1 LEFT OUTER JOIN
                      Rules T2 ON T2.RuleId = T1.ScoringId AND T2.RuleModule = 'SCORES' LEFT JOIN
                      CorpScoringGroupDetail T3 ON T3.GroupId = T1.ScoringId
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          RMTScoringMetrics_TEMP
                            WHERE      ScoreGroupId = T1.ScoreGroupId AND ScoringId = T1.ScoringId)
		</createView>
		</changeSet>
		<changeSet id="5" author="Pruthvi" dbms="mssql">
<createView replaceIfExists="true" viewName="FinancemainLimitCheck_Tview">
Select  Fm.FinReference,c.CustID, C.CustDftBranch ,C.CustCtgCode ,C.CustTypeCode ,C.custGenderCode ,C.custIsStaff ,C.CustIndustry ,C.CustSector ,C.
CustSubSector ,C.CustEmpSts ,C.CustMaritalSts ,C.CustSegment ,C.CustSubSegment ,C.CustParentCountry ,C.CustRiskCountry ,C.CustNationality ,C.CustAddlVar2 ,
CA.CustAddrProvince,Ft.FinCategory ,Ft.FinDivision ,Fm.FinBranch ,Fm.FinSourceID ,Fm.FinType ,Fm.FinCcy ,Fm.NumberOfTerms ,Fm.ScheduleMethod ,Fm.
SecurityCollateral ,Fm.AllowRepayRvw ,Fm.FinPurpose,DateDiff(MM,Fm.FinStartDate, DateAdd(MM, 0,Fm.MaturityDate)) Tenor 
from Financemain_Temp FM inner join 
Customers C ON c.custid = Fm.custid inner join 
RMTFinanceTypes ft ON ft.FinType=fm.FinType Left outer join 
CustomerAddresses CA ON CA.CustID=C.CustID and CustAddrType='PERM'
</createView>
		</changeSet>
		
<changeSet id="6" author="Pruthvi" dbms="mssql">
<createView replaceIfExists="true" viewName="FinancemainLimitCheck_Aview">
Select  Fm.FinReference,c.CustID, C.CustDftBranch ,C.CustCtgCode ,C.CustTypeCode ,C.custGenderCode ,C.custIsStaff ,C.CustIndustry ,C.CustSector ,C.
CustSubSector ,C.CustEmpSts ,C.CustMaritalSts ,C.CustSegment ,C.CustSubSegment ,C.CustParentCountry ,C.CustRiskCountry ,C.CustNationality ,C.CustAddlVar2 ,
CA.CustAddrProvince,Ft.FinCategory ,Ft.FinDivision ,Fm.FinBranch ,Fm.FinSourceID ,Fm.FinType ,Fm.FinCcy ,Fm.NumberOfTerms ,Fm.ScheduleMethod ,Fm.
SecurityCollateral ,Fm.AllowRepayRvw ,Fm.FinPurpose,DateDiff(MM,Fm.FinStartDate, DateAdd(MM, 0,Fm.MaturityDate)) Tenor 
from Financemain FM inner join 
Customers C ON c.custid = Fm.custid inner join 
RMTFinanceTypes ft ON ft.FinType=fm.FinType Left outer join 
CustomerAddresses CA ON CA.CustID=C.CustID and CustAddrType='PERM'
</createView>
		</changeSet>
<changeSet id="7" author="Pruthvi" dbms="mssql">
<createView replaceIfExists="true" viewName="CustomerAgreementDetail_View">		
SELECT     T1.CustID, T1.CustCIF, T1.CustCoreBank, T1.CustCtgCode, T1.CustTypeCode, T1.CustSalutationCode, T1.CustFName custName, T1.CustDftBranch branch, 
           T1.CustGenderCode, T1.CustDOB, T1.CustSts, T1.CustIsActive, T1.CustSector, T1.CustSubSector, T1.CustTotalIncome, T1.CustTotalExpense, 
           T1.CustNationality ${call.concatenate} ' -' ${call.concatenate} T1.lovDescCustNationalityName CustNationality, T1.CustCRCPR custCPRNo,
           T1.lovDescCustEmpStsName custOccupation, T1.CustCRCPR custDocumentid, T1.lovDescCcyFormatter, T1.NoOfDependents,
           (SELECT  TOP (1) CustEMail FROM CustomerEMails WHERE (CustID = T1.CustID)) custEmail, 
           (SELECT  TOP (1) RTRIM(LTRIM(ISNULL(CustAddrStreet,'')))${call.concatenate}' '${call.concatenate}RTRIM(LTRIM(ISNULL(CustAddrLine1,'')))${call.concatenate}' '${call.concatenate}RTRIM(LTRIM(ISNULL(CustPOBox,''))) FROM CustomerAddresses WHERE (CustID = T1.CustID)) custAddress,
           (SELECT  TOP (1) PhoneNumber FROM CustomerPhoneNumbers WHERE (PhoneCustID = T1.CustID) AND PhoneTypeCode = 'FAX') custFax,
           (SELECT  TOP (1) PhoneNumber FROM CustomerPhoneNumbers WHERE (PhoneCustID = T1.CustID) AND PhoneTypeCode != 'FAX') custPhone,
                            T1.JointCustDob custJointDOB, T1.JointCust, T1.JointCustName
FROM         Customers_AView T1
</createView>
		</changeSet>
<changeSet id="8" author="Pruthvi" dbms="mssql">
<createView replaceIfExists="true" viewName="RPT_FInODDtls_DlyDownload_View">			
Select (Select CAST(SysParmValue as DATETIME) from SMTParameters where SysParmCode='APP_DATE') CurrentDate,T.* from (
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,1 Grade,'Exceptional-Risk Free' Classification,'0' DaysPastDue,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays=0 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,2 Grade,'Excellent-low Risk' Classification,'1-15' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=1 and FinCurODDays<![CDATA[<]]>=15 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,3 Grade,'Superior-Modest Risk' Classification,'16-30' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=16 and FinCurODDays<![CDATA[<]]>=30 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,4 Grade,'Good-Above Average Risk' Classification,'31-45' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=31 and FinCurODDays<![CDATA[<]]>=45 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,5 Grade,'Satisfactory-Average Risk' Classification,'46-60' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=46 and FinCurODDays<![CDATA[<]]>=60 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,6 Grade,'Adequate-Borderline' Classification,'61-70' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=61 and FinCurODDays<![CDATA[<]]>=70 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,7 Grade,'Watch list' Classification,'71-80' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=71 and FinCurODDays<![CDATA[<]]>=80 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,8 Grade,'Special Mention' Classification,'81-90' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=81 and FinCurODDays<![CDATA[<]]>=90 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,9 Grade,'Substandard' Classification,'91-180' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=91 and FinCurODDays<![CDATA[<]]>=180 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,10 Grade,'Doubtful' Classification,'181-365' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=181 and FinCurODDays<![CDATA[<]]>=365 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null) GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,11 Grade,'Loss' Classification,'365>' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(dbo.UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1 With(NoLock) Inner JOin FinPftDetails T2 With(NoLock) ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3 With(NoLock) ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>365 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null) GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision)T
</createView>
		</changeSet>
		<changeSet id="9" author="Pruthvi" dbms="mssql">
<createView replaceIfExists="true" viewName="CoAppBankExpense_View">
Select C.CustCIF,c.CustBaseCcy,c.CustTotalIncome,c.CustTotalExpense,CustRepayBank,CustProcBank from (
Select coalesce(t1.custid,t2.custid_temp)custid,coalesce(t1.CustRepayBank,0)CustRepayBank, coalesce(T2.CustProcBank,0)CustProcBank from (
SELECT CustID,SUM(CustRepayBank)CustRepayBank FROM (
SELECT CustID,${add.schema}UDF_ConvertCurrency(TotalRepayAmt /
       (CASE WHEN DateDiff(MONTH, FinStartDate, MaturityDate) = 0 THEN 1
             ELSE DateDiff(MONTH, FinStartDate, MaturityDate) END),FinCcy ,
        (SELECT SysParmValue FROM SMTParameters WHERE SysParmCode='APP_DFT_CURR')) CustRepayBank
FROM   FinanceMain F  WHERE FinIsActive = 1)T GROUP BY CustID) T1 Left join (
SELECT CustID CustID_temp,SUM(CustRepayBank)CustProcBank FROM (
SELECT CustID, ${add.schema}UDF_ConvertCurrency(TotalRepayAmt /
       (CASE WHEN DateDiff(MONTH, FinStartDate, MaturityDate) = 0 THEN 1
             ELSE DateDiff(MONTH, FinStartDate, MaturityDate) END),FinCcy ,
        (SELECT SysParmValue FROM SMTParameters WHERE SysParmCode='APP_DFT_CURR')) CustRepayBank
FROM   FinanceMain_Temp F  WHERE FinIsActive = 1)T
GROUP BY CustID)T2 on T1.CustID =T2.CustID_temp
union
SELECT CustID,0,coalesce(SUM(CustRepayBank),0)CustProcBank FROM (
SELECT CustID,${add.schema}UDF_ConvertCurrency(TotalRepayAmt /
       (CASE WHEN DateDiff(MONTH, FinStartDate, MaturityDate) = 0 THEN 1
             ELSE DateDiff(MONTH, FinStartDate, MaturityDate) END),FinCcy ,
        (SELECT SysParmValue FROM SMTParameters WHERE SysParmCode='APP_DFT_CURR')) CustRepayBank
FROM   FinanceMain_Temp F WHERE FinIsActive = 1
and F.CustID not in (Select CustID from FinanceMain))T
GROUP BY CustID)T inner join Customers C on c.CustID=T.custid
</createView>
		</changeSet>
<changeSet id="10" author="Pruthvi" dbms="mssql">
<createView replaceIfExists="true" viewName="CustProcExpense_View">		
SELECT CustId,FinReference, ${add.schema}UDF_ConvertCurrency(TotalRepayAmt /
       (CASE WHEN MaturityDate IS NULL THEN 1 
       WHEN DateDiff(MONTH, FinStartDate, MaturityDate) = 0 THEN 1
             ELSE DateDiff(MONTH, FinStartDate, MaturityDate) END),FinCcy ,
        (SELECT SysParmValue FROM SMTParameters WHERE SysParmCode='APP_DFT_CURR')) CustRepayBank
FROM   FinanceMain_Temp WHERE FinIsActive = 1
</createView>
		</changeSet>
<changeSet id="11" author="Pruthvi" dbms="mssql">
<createView replaceIfExists="true" viewName="CustBankExpense_View">				
SELECT CustId,SUM(CustRepayBank)CustRepayBank FROM (
SELECT CustId, ${add.schema}UDF_ConvertCurrency(TotalRepayAmt /
       (CASE WHEN DateDiff(MONTH, FinStartDate, MaturityDate) = 0 THEN 1
             ELSE DateDiff(MONTH, FinStartDate, MaturityDate) END),FinCcy ,
        (SELECT SysParmValue FROM SMTParameters WHERE SysParmCode='APP_DFT_CURR')) CustRepayBank
FROM   FinanceMain WHERE FinIsActive = 1)T
GROUP BY CustId
</createView>
		</changeSet>
		<changeSet id="12" author="Pruthvi" dbms="mssql">
<createView replaceIfExists="true" viewName="RPT_FInODDtls_DlyDownload_View">			
Select (Select CAST(SysParmValue as DATETIME) from SMTParameters where SysParmCode='APP_DATE') CurrentDate,T.* from (
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,1 Grade,'Exceptional-Risk Free' Classification,'0' DaysPastDue,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays=0 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,2 Grade,'Excellent-low Risk' Classification,'1-15' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=1 and FinCurODDays<![CDATA[<]]>=15 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,3 Grade,'Superior-Modest Risk' Classification,'16-30' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=16 and FinCurODDays<![CDATA[<]]>=30 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,4 Grade,'Good-Above Average Risk' Classification,'31-45' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=31 and FinCurODDays<![CDATA[<]]>=45 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,5 Grade,'Satisfactory-Average Risk' Classification,'46-60' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=46 and FinCurODDays<![CDATA[<]]>=60 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,6 Grade,'Adequate-Borderline' Classification,'61-70' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=61 and FinCurODDays<![CDATA[<]]>=70 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,7 Grade,'Watch list' Classification,'71-80' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=71 and FinCurODDays<![CDATA[<]]>=80 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,8 Grade,'Special Mention' Classification,'81-90' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=81 and FinCurODDays<![CDATA[<]]>=90 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,9 Grade,'Substandard' Classification,'91-180' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=91 and FinCurODDays<![CDATA[<]]>=180 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null)	GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,10 Grade,'Doubtful' Classification,'181-365' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>=181 and FinCurODDays<![CDATA[<]]>=365 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null) GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision
		UNION
		SELECT T2.FinBranch,T3.FinDivision,T2.FinType,T3.FinCategory ProductCode,11 Grade,'Loss' Classification,'365>' DPD,
		COUNT(Distinct FinAccount)[NoofAccounts],CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR')) as Decimal(18,3))[AmountBHD],
		CAST(SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) as Decimal(18,3))[AmountUSD]
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where T1.FincurODAmt!=0 and T1.FinCurODDays<![CDATA[>]]>365 AND (T2.ClosingStatus !='C' or T2.ClosingStatus is null) GROUP BY T2.FinBranch,T2.FinType,T3.FinCategory,T3.FinDivision)T
</createView>
		</changeSet>
		
<changeSet id="13" author="Pruthvi" dbms="mssql">
<createView replaceIfExists="true" viewName="RPT_PortfolioBehavior">			
SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,1 Grade,'Exceptional-Risk Free' Classification,'0' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FincurODAmt!=0 and FinCurODDays=0 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
		
		UNION		
		
		SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,2 Grade,'Excellent-low Risk' Classification,'1-15' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FincurODAmt!=0 and FinCurODDays<![CDATA[>]]>=1 and FinCurODDays<![CDATA[<]]>=15 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
		
		UNION		
			
		SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,3 Grade,'Superior-Modest Risk' Classification,'16-30' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FinCurODAmt!=0 and FinCurODDays<![CDATA[>]]>=16 and FinCurODDays<![CDATA[<]]>=30 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
		
		UNION		
		
		SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,4 Grade,'Good-Above Average Risk' Classification,'31-45' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FinCurODAmt!=0 and FinCurODDays<![CDATA[>]]>=31 and FinCurODDays<![CDATA[<]]>=45 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
		
		UNION		
		
		SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,5 Grade,'Satisfactory-Average Risk' Classification,'46-60' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FinCurODAmt!=0 and FinCurODDays<![CDATA[>]]>=46 and FinCurODDays<![CDATA[<]]>=60 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
		
		UNION		
		
		SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,6 Grade,'Adequate-Borderline' Classification,'61-70' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FinCurODAmt!=0 and FinCurODDays<![CDATA[>]]>=61 and FinCurODDays<![CDATA[<]]>=70 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
		
		UNION		
		
		SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,7 Grade,'Watch list' Classification,'71-80' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FinCurODAmt!=0 and FinCurODDays<![CDATA[>]]>=71 and FinCurODDays<![CDATA[<]]>=80 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
		
		UNION		
		
		SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,8 Grade,'Special Mention' Classification,'81-90' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FinCurODAmt!=0 and FinCurODDays<![CDATA[>]]>=81 and FinCurODDays<![CDATA[<]]>=90 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
		
		UNION		
		
		SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,9 Grade,'Substandard' Classification,'91-180' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FinCurODAmt!=0 and FinCurODDays<![CDATA[>]]>=91 and FinCurODDays<![CDATA[<]]>=180 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
		
		UNION	
		
		SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,10 Grade,'Doubtful' Classification,'181-365' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FinCurODAmt!=0 and FinCurODDays<![CDATA[>]]>=181 and FinCurODDays<![CDATA[<]]>=365 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
		
		UNION
		SELECT T3.FinDivision,T2.FinType,T3.FinTypeDesc,11 Grade,'Loss' Classification,'365>' DPD,COUNT(Distinct FinAccount)NoofAccounts,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'INR'))CurOutstandingBHD,
		SUM(${add.schema}UDF_ConvertCurrency(FinCurODPri+FinCurODPft,T2.FinCcy,'USD')) CurOutstandingUSD
		FROM FInODDetails T1   Inner JOin FinPftDetails T2   ON T1.FinReference =T2.FinReference INNER JOIN RMTFinanceTypes T3   ON T2.FinType=T3.FinType
		where FinCurODAmt!=0 and FinCurODDays<![CDATA[>]]>365 AND ISNULL(T2.ClosingStatus,'')!='C'	GROUP BY T2.FinType,T3.FinTypeDesc,T3.FinDivision
</createView>
		</changeSet>
	<changeSet id="14" author="Pruthvi" dbms="mssql">
<createView replaceIfExists="true" viewName="RPT_ABG_AGINGOFINCOME_View">		
Select * from (
		select  T4.FinCategory ProductCode,T6.ProductDesc InFlows,
				${add.schema}UDF_ConvertCurrency((PrincipalSchd+ProfitSchd +DefPrincipalSchd +DefProfitSchd
				- SchdPftPaid -SchdPriPaid - DefSchdPftPaid - DefSchdPriPaid),T2.FinCcy,'INR') UnpaidTotalAmt,
				T1.FinReference,SchDate,
				DATEDIFF(DAY,(Select SysParmValue from SMTparameters where SysParmCode ='APP_VALUEDATE'),SchDate) AS NoofDays
		from    FinScheduleDetails T1    Inner Join FinPftDetails T2   On T1.FinReference=T2.FinReference INNER JOIN
				 RMTFinanceTypes T4   ON T4.FinType=T2.FinType INNER JOIN 
				 BMTProduct T6   ON T6.ProductCode = T4.FinCategory 
		where    (T2.ClosingStatus !='C' or T2.ClosingStatus is null) And T2.FinisActive = '1' AND 
		(PrincipalSchd+ProfitSchd +DefPrincipalSchd +DefProfitSchd - SchdPftPaid -SchdPriPaid - DefSchdPftPaid - DefSchdPriPaid) <![CDATA[>]]> 0)T
		Where UnpaidTotalAmt!=0
</createView>
		</changeSet>
	<changeSet author="Surekha" id="15">
	<createTable tableName="SecRoles_Temp">
		<column name="RoleID " type="bigint">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="RoleApp" type="bigint">
			<constraints nullable="false" />
		</column>
		<column name="RoleCd" type="varchar(100)" >
		<constraints nullable="false" />
		</column>
		<column name="RoleDesc" type="varchar(1000)"/>
		<column name="RoleCategory" type="varchar(100)" />
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="varchar(50)" />
		<column name="RoleCode" type="varchar(100)" />
		<column name="NextRoleCode" type="varchar(200)" />
		<column name="TaskId" type="varchar(50)" />
		<column name="NextTaskId" type="varchar(200)" />
		<column name="RecordType" type="varchar(50)" />
		<column name="WorkflowId" type="bigint" />
		</createTable>
		</changeSet>
		<changeSet author="Surekha" id="16">
	<createTable tableName="SecGroups_Temp">
		<column name="GrpID " type="bigint">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="GrpCode" type="varchar(100)">
			<constraints nullable="false" />
		</column>
		<column name="GrpDesc" type="varchar(1000)" />
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="varchar(50)" />
		<column name="RoleCode" type="varchar(100)" />
		<column name="NextRoleCode" type="varchar(200)" />
		<column name="TaskId" type="varchar(50)" />
		<column name="NextTaskId" type="varchar(200)" />
		<column name="RecordType" type="varchar(50)" />
		<column name="WorkflowId" type="bigint" />
		</createTable>
		</changeSet>
		<changeSet id="17" author="Surekha">
		<sql>
			Update SeqSecGroups set SeqNo = (select MAX(GrpID) from SecGroups);
			Update SeqSecGroupRights set SeqNo = (select MAX(GrpRightID) from SecGroupRights);
			Update SeqSecRoleGroups set SeqNo = (select MAX(RoleGrpID) from SecRoleGroups);
			
			INSERT INTO SecGroups SELECT (select (SeqNo+1) from SeqSecGroups), 'SECURITYROLE_MAKER', 'WF Maker for SECURITYROLE', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select (SeqNo+2) from SeqSecGroups), 'SECURITYROLE_APPROVER', 'WF Approver for SECURITYROLE', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			
			INSERT INTO SecGroupRights SELECT (select (SeqNo+1) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_MAKER'), (select RightId from SecRights where Rightname='menuItem_Administration_SecurityRole'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+2) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_MAKER'), (select RightId from SecRights where Rightname='button_SecurityRoleList_NewSecurityRole'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+3) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_MAKER'), (select RightId from SecRights where Rightname='button_SecurityRoleDialog_btnDelete'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+4) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_MAKER'), (select RightId from SecRights where Rightname='button_SecurityRoleDialog_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+5) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_MAKER'), (select RightId from SecRights where Rightname='SecurityRoleDialog_roleApp'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+6) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_MAKER'), (select RightId from SecRights where Rightname='SecurityRoleDialog_roleCategory'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+7) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_MAKER'), (select RightId from SecRights where Rightname='SecurityRoleDialog_roleCd'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+8) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_MAKER'), (select RightId from SecRights where Rightname='SecurityRoleDialog_roleDesc'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+9) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_MAKER'), (select RightId from SecRights where Rightname='SecurityRoleDialog_roleID'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+10) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_APPROVER'), (select RightId from SecRights where Rightname='menuItem_Administration_SecurityRole'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+11) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYROLE_APPROVER'), (select RightId from SecRights where Rightname='button_SecurityRoleDialog_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+1) from SeqSecRoleGroups), (Select GrpID  from SecGroups Where GrpCode = 'SECURITYROLE_MAKER'), (Select RoleID from SecRoles Where RoleCd = 'MSTGRP1_MAKER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+2) from SeqSecRoleGroups), (Select GrpID  from SecGroups Where GrpCode = 'SECURITYROLE_APPROVER'), (Select RoleID from SecRoles Where RoleCd = 'MSTGRP1_APPROVER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			
			Update SeqSecGroups set SeqNo = (select MAX(GrpID) from SecGroups);
			Update SeqSecGroupRights set SeqNo = (select MAX(GrpRightID) from SecGroupRights);
			Update SeqSecRoleGroups set SeqNo = (select MAX(RoleGrpID) from SecRoleGroups);
			
		</sql>
		</changeSet>
		<changeSet id="18" author="Surekha">
		<sql>
			Update SeqSecGroups set SeqNo = (select MAX(GrpID) from SecGroups);
			Update SeqSecGroupRights set SeqNo = (select MAX(GrpRightID) from SecGroupRights);
			Update SeqSecRoleGroups set SeqNo = (select MAX(RoleGrpID) from SecRoleGroups);
			
			INSERT INTO SecGroups SELECT (select (SeqNo+1) from SeqSecGroups), 'SECURITYGROUP_MAKER', 'WF Maker for SECURITYGROUP', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select (SeqNo+2) from SeqSecGroups), 'SECURITYGROUP_APPROVER', 'WF Approver for SECURITYGROUP', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			
			INSERT INTO SecGroupRights SELECT (select (SeqNo+1) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYGROUP_MAKER'), (select RightId from SecRights where Rightname='menuItem_Administration_SecurityGroup'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+2) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYGROUP_MAKER'), (select RightId from SecRights where Rightname='button_SecurityGroupList_NewSecurityGroup'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+3) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYGROUP_MAKER'), (select RightId from SecRights where Rightname='button_SecurityGroupDialog_btnDelete'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+4) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYGROUP_MAKER'), (select RightId from SecRights where Rightname='button_SecurityGroupDialog_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+5) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYGROUP_MAKER'), (select RightId from SecRights where Rightname='SecurityGroupDialog_grpCode'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+6) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYGROUP_MAKER'), (select RightId from SecRights where Rightname='SecurityGroupDialog_grpDesc'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+7) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYGROUP_MAKER'), (select RightId from SecRights where Rightname='SecurityGroupDialog_grpID'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+10) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYGROUP_APPROVER'), (select RightId from SecRights where Rightname='menuItem_Administration_SecurityGroup'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (select (SeqNo+11) from SeqSecGroupRights), (select GrpId from SecGroups where GrpCode='SECURITYGROUP_APPROVER'), (select RightId from SecRights where Rightname='button_SecurityGroupDialog_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+1) from SeqSecRoleGroups), (Select GrpID  from SecGroups Where GrpCode = 'SECURITYGROUP_MAKER'), (Select RoleID from SecRoles Where RoleCd = 'MSTGRP1_MAKER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			INSERT INTO SecRoleGroups SELECT (select (SeqNo+2) from SeqSecRoleGroups), (Select GrpID  from SecGroups Where GrpCode = 'SECURITYGROUP_APPROVER'), (Select RoleID from SecRoles Where RoleCd = 'MSTGRP1_APPROVER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
			
			Update SeqSecGroups set SeqNo = (select MAX(GrpID) from SecGroups);
			Update SeqSecGroupRights set SeqNo = (select MAX(GrpRightID) from SecGroupRights);
			Update SeqSecRoleGroups set SeqNo = (select MAX(RoleGrpID) from SecRoleGroups);
			
		</sql>
		</changeSet>

				<changeSet author="pruthvi" id="19">
		<dropPrimaryKey constraintName="PK_SeqLimitHeader" tableName="SeqLimitHeader" />
		</changeSet>
		<changeSet author="pruthvi" id="20">
		<dropPrimaryKey constraintName="PK_SeqLimitReferenceMapping" tableName="SeqLimitReferenceMapping" />
		</changeSet>
		<changeSet author="pruthvi" id="21">
		<dropPrimaryKey constraintName="PK_SeqLimitStructureDetails" tableName="SeqLimitStructureDetails" />
		</changeSet>
		<changeSet author="pruthvi" id="22">
		<dropPrimaryKey constraintName="PK_SeqLimitTransactionDetails" tableName="SeqLimitTransactionDetails" />
		</changeSet>
		<changeSet author="pruthvi" id="23">
		<dropPrimaryKey constraintName="PK__SeqDocum__7AFBF48D65DD4B8F" tableName="SeqDocumentManager" />
		</changeSet>
		<changeSet author="pruthvi" id="24">
		<dropPrimaryKey constraintName="PK_SeqInvestMent" tableName="SeqInvestMent" />
		</changeSet>
		<changeSet author="pruthvi" id="25">
		<dropPrimaryKey constraintName="PK_SeqLimitDetails" tableName="SeqLimitDetails" />
		</changeSet>
				

		<changeSet id="s01" author="Surekha">
	 <createView replaceIfExists="true" viewName="SecRoles_View">
				 SELECT  RoleApp,RoleID,AppDescription lovDescRoleAppName,RoleCd,RoleDesc,RoleCategory,T1.Version,
					T1.LastMntBy,T1.LastMntOn,T1.RecordStatus,T1.RoleCode,T1.NextRoleCode,T1.TaskId,
					T1.NextTaskId,T1.RecordType,T1.WorkflowId FROM  
					SecRoles_Temp T1 LEFT JOIN PTApplicationDetails PT
					ON T1.RoleAPP =PT.APPID
				UNION ALL
					SELECT  RoleApp,RoleID,AppDescription lovDescRoleAppName,RoleCd,RoleDesc,RoleCategory,T1.Version,
					T1.LastMntBy,T1.LastMntOn,T1.RecordStatus,T1.RoleCode,T1.NextRoleCode,T1.TaskId,
					T1.NextTaskId,T1.RecordType,T1.WorkflowId FROM  
					SecRoles T1 LEFT JOIN PTApplicationDetails PT
					ON T1.RoleAPP =PT.APPID
				WHERE NOT EXISTS( SELECT 1 FROM SecRoles_Temp  WHERE  RoleApp= T1.RoleApp)
	 </createView>
	 </changeSet>
	 <changeSet id="s02" author="Surekha">
	 <createView replaceIfExists="true" viewName="SecGroups_View">
				 SELECT		T1.GrpID, T1.GrpCode, T1.GrpDesc		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    	SecGroups_Temp T1
				UNION ALL
					SELECT		T1.GrpID, T1.GrpCode, T1.GrpDesc		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    	SecGroups T1
				WHERE NOT EXISTS( SELECT 1 FROM SecGroups_Temp  WHERE  GrpID= T1.GrpID)
	 </createView>
	 </changeSet>
	<changeSet id="26" author="Madhubabu">
		<createView replaceIfExists="true" viewName="SecOperations_RView">
 SELECT     T1.OprID, T1.OprCode, T1.OprDesc, T1.Version, T1.LastMntBy,T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode,T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM          SecOperations_RTemp T1
UNION ALL
SELECT     T1.OprID,T1.OprCode,T1.OprDesc,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM          SecOperations T1
WHERE NOT EXISTS(SELECT 1 FROM SecOperations_RTemp  WHERE OPRID=T1.OPRID)
 </createView>
	</changeSet>
	<changeSet id="s03" author="Surekha">
	 <createView replaceIfExists="true" viewName="SecRoles_View">
				 SELECT  RoleApp,RoleID,AppDescription lovDescRoleAppName,RoleCd,RoleDesc,RoleCategory,T1.Version,
					T1.LastMntBy,T1.LastMntOn,T1.RecordStatus,T1.RoleCode,T1.NextRoleCode,T1.TaskId,
					T1.NextTaskId,T1.RecordType,T1.WorkflowId FROM  
					SecRoles_Temp T1 LEFT JOIN PTApplicationDetails PT
					ON T1.RoleAPP =PT.APPID
				UNION ALL
					SELECT  RoleApp,RoleID,AppDescription lovDescRoleAppName,RoleCd,RoleDesc,RoleCategory,T1.Version,
					T1.LastMntBy,T1.LastMntOn,T1.RecordStatus,T1.RoleCode,T1.NextRoleCode,T1.TaskId,
					T1.NextTaskId,T1.RecordType,T1.WorkflowId FROM  
					SecRoles T1 LEFT JOIN PTApplicationDetails PT
					ON T1.RoleAPP =PT.APPID
				WHERE NOT EXISTS( SELECT 1 FROM SecRoles_Temp  WHERE  RoleID= T1.RoleID)
	 </createView>
	 </changeSet>
	<changeSet id="27" author="Madhubabu">
	 <createView replaceIfExists="true" viewName="SecUsers_RView">
				SELECT T1.UsrID ,
          T1.UsrLogin ,
          T1.UsrPwd ,
          T1.UserStaffID ,
          T1.UsrFName ,
          T1.UsrMName ,
          T1.UsrLName ,
          T1.UsrMobile ,
          T1.UsrEmail ,
          T1.UsrEnabled ,
          T1.UsrCanSignonFrom ,
          T1.UsrCanSignonTo ,
          T1.UsrCanOverrideLimits ,
          T1.UsrAcExp ,
          T1.UsrAcExpDt ,
          T1.UsrCredentialsExp ,
          T1.UsrAcLocked ,
          T1.UsrLanguage ,
          T5.LngDesc LovDescUsrLanguage  ,
          T1.UsrDftAppId ,
          T2.AppCode LovDescUsrDftAppCode  ,
          T2.AppDescription LovDescUsrDftAppCodeName  ,
          T1.UsrBranchCode ,
          T4.BranchDesc LovDescUsrBranchCodeName  ,
          T1.UsrDeptCode ,
          T3.DeptDesc LovDescUsrDeptCodeName  ,
          T1.UsrToken ,
          T1.UsrIsMultiBranch ,
          T1.UsrInvldLoginTries ,
          T1.UsrDesg ,
          T6.DesgDesc LovDescUsrDesg  ,
          T1.Version ,
          T1.LastMntBy ,
          T1.LastMntOn ,
          T1.RecordStatus ,
          T1.RoleCode ,
          T1.NextRoleCode ,
          T1.TaskId ,
          T1.NextTaskId ,
          T1.RecordType ,
          T1.WorkflowId ,
          T1.UsrDftAppCode 
     FROM SecUsers_RTemp T1
            JOIN PTApplicationDetails T2   ON T1.UsrDftAppId = T2.AppID
           JOIN BMTDepartments T3   ON T1.UsrDeptCode = T3.DeptCode
            JOIN RMTBranches T4   ON T1.UsrBranchCode = T4.BranchCode
            JOIN BMTLanguage T5   ON T1.UsrLanguage = T5.LngCode
            JOIN BMTDesignations T6   ON T1.UsrDesg = T6.DesgCode
   UNION ALL 
   SELECT T1.UsrID ,
          T1.UsrLogin ,
          T1.UsrPwd ,
          T1.UserStaffID ,
          T1.UsrFName ,
          T1.UsrMName ,
          T1.UsrLName ,
          T1.UsrMobile ,
          T1.UsrEmail ,
          T1.UsrEnabled ,
          T1.UsrCanSignonFrom ,
          T1.UsrCanSignonTo ,
          T1.UsrCanOverrideLimits ,
          T1.UsrAcExp ,
          T1.UsrAcExpDt ,
          T1.UsrCredentialsExp ,
          T1.UsrAcLocked ,
          T1.UsrLanguage ,
          T5.LngDesc LovDescUsrLanguage  ,
          T1.UsrDftAppId ,
          T2.AppCode LovDescUsrDftAppCode  ,
          T2.AppDescription LovDescUsrDftAppCodeName  ,
          T1.UsrBranchCode ,
          T4.BranchDesc LovDescUsrBranchCodeName  ,
          T1.UsrDeptCode ,
          T3.DeptDesc LovDescUsrDeptCodeName  ,
          T1.UsrToken ,
          T1.UsrIsMultiBranch ,
          T1.UsrInvldLoginTries ,
          T1.UsrDesg ,
          T6.DesgDesc LovDescUsrDesg  ,
          T1.Version ,
          T1.LastMntBy ,
          T1.LastMntOn ,
          T1.RecordStatus ,
          T1.RoleCode ,
          T1.NextRoleCode ,
          T1.TaskId ,
          T1.NextTaskId ,
          T1.RecordType ,
          T1.WorkflowId ,
          T1.UsrDftAppCode 
     FROM SecUsers T1
            JOIN PTApplicationDetails T2   ON T1.UsrDftAppId = T2.AppID
            JOIN BMTDepartments T3   ON T1.UsrDeptCode = T3.DeptCode
            JOIN RMTBranches T4   ON T1.UsrBranchCode = T4.BranchCode
            JOIN BMTLanguage T5   ON T1.UsrLanguage = T5.LngCode
            JOIN BMTDesignations T6   ON T1.UsrDesg = T6.DesgCode
     WHERE NOT EXISTS ( SELECT 1 
                        FROM SecUsers_RTemp 
                          WHERE UsrID = T1.UsrID )
	 </createView>
	 </changeSet>
	<changeSet id="28" author="Madhubabu">
	 <createView replaceIfExists="true" viewName="SecUsers_View">
				SELECT T1.UsrID ,
          T1.UsrLogin ,
          T1.UsrPwd ,
          T1.UserStaffID ,
          T1.UsrFName ,
          T1.UsrMName ,
          T1.UsrLName ,
          T1.UsrMobile ,
          T1.UsrEmail ,
          T1.UsrEnabled ,
          T1.UsrCanSignonFrom ,
          T1.UsrCanSignonTo ,
          T1.UsrCanOverrideLimits ,
          T1.UsrAcExp ,
          T1.UsrAcExpDt ,
          T1.UsrCredentialsExp ,
          T1.UsrAcLocked ,
          T1.UsrLanguage ,
          T5.LngDesc LovDescUsrLanguage  ,
          T1.UsrDftAppId ,
          T2.AppCode LovDescUsrDftAppCode  ,
          T2.AppDescription LovDescUsrDftAppCodeName  ,
          T1.UsrBranchCode ,
          T4.BranchDesc LovDescUsrBranchCodeName  ,
          T1.UsrDeptCode ,
          T3.DeptDesc LovDescUsrDeptCodeName  ,
          T1.UsrToken ,
          T1.UsrIsMultiBranch ,
          T1.UsrInvldLoginTries ,
          T1.UsrDesg ,
          T6.DesgDesc LovDescUsrDesg  ,
          T1.Version ,
          T1.LastMntBy ,
          T1.LastMntOn ,
          T1.RecordStatus ,
          T1.RoleCode ,
          T1.NextRoleCode ,
          T1.TaskId ,
          T1.NextTaskId ,
          T1.RecordType ,
          T1.WorkflowId ,
          T1.UsrDftAppCode 
     FROM SecUsers_Temp T1
            LEFT OUTER JOIN PTApplicationDetails T2   ON T1.UsrDftAppId = T2.AppID
            LEFT OUTER JOIN BMTDepartments T3   ON T1.UsrDeptCode = T3.DeptCode
            LEFT OUTER JOIN RMTBranches T4   ON T1.UsrBranchCode = T4.BranchCode
            LEFT OUTER JOIN BMTLanguage T5   ON T1.UsrLanguage = T5.LngCode
            LEFT OUTER JOIN BMTDesignations T6   ON T1.UsrDesg = T6.DesgCode
   UNION ALL 
   SELECT T1.UsrID ,
          T1.UsrLogin ,
          T1.UsrPwd ,
          T1.UserStaffID ,
          T1.UsrFName ,
          T1.UsrMName ,
          T1.UsrLName ,
          T1.UsrMobile ,
          T1.UsrEmail ,
          T1.UsrEnabled ,
          T1.UsrCanSignonFrom ,
          T1.UsrCanSignonTo ,
          T1.UsrCanOverrideLimits ,
          T1.UsrAcExp ,
          T1.UsrAcExpDt ,
          T1.UsrCredentialsExp ,
          T1.UsrAcLocked ,
          T1.UsrLanguage ,
          T5.LngDesc LovDescUsrLanguage  ,
          T1.UsrDftAppId ,
          T2.AppCode LovDescUsrDftAppCode  ,
          T2.AppDescription LovDescUsrDftAppCodeName  ,
          T1.UsrBranchCode ,
          T4.BranchDesc LovDescUsrBranchCodeName  ,
          T1.UsrDeptCode ,
          T3.Deptdesc LovDescUsrDeptCodeName  ,
          T1.UsrToken ,
          T1.UsrIsMultiBranch ,
          T1.UsrInvldLoginTries ,
          T1.UsrDesg ,
          T6.DesgDesc LovDescUsrDesg  ,
          T1.Version ,
          T1.LastMntBy ,
          T1.LastMntOn ,
          T1.RecordStatus ,
          T1.RoleCode ,
          T1.NextRoleCode ,
          T1.TaskId ,
          T1.NextTaskId ,
          T1.RecordType ,
          T1.WorkflowId ,
          T1.UsrDftAppCode 
     FROM SecUsers T1
            LEFT OUTER JOIN PTApplicationDetails T2   ON T1.UsrDftAppId = T2.AppID
            LEFT OUTER JOIN BMTDepartments T3   ON T1.UsrDeptCode = T3.DeptCode
            LEFT OUTER JOIN RMTBranches T4   ON T1.UsrBranchCode = T4.BranchCode
            LEFT OUTER JOIN BMTLanguage T5   ON T1.UsrLanguage = T5.LngCode
            LEFT OUTER JOIN BMTDesignations T6   ON T1.UsrDesg = T6.DesgCode
     WHERE NOT EXISTS ( SELECT 1 
                        FROM SecUsers_Temp 
                          WHERE UsrID = T1.UsrID )
	 </createView>
	 </changeSet>
	<changeSet id="29" author="Madhubabu">
	 <createView replaceIfExists="true" viewName="SecUsers_AView">
				SELECT T1.UsrID ,
          T1.UsrLogin ,
          T1.UsrPwd ,
          T1.UserStaffID ,
          T1.UsrFName ,
          T1.UsrMName ,
          T1.UsrLName ,
          T1.UsrMobile ,
          T1.UsrEmail ,
          T1.UsrEnabled ,
          T1.UsrCanSignonFrom ,
          T1.UsrCanSignonTo ,
          T1.UsrCanOverrideLimits ,
          T1.UsrAcExp ,
          T1.UsrAcExpDt ,
          T1.UsrCredentialsExp ,
          T1.UsrAcLocked ,
          T1.UsrLanguage ,
          T5.LngDesc LovDescUsrLanguage  ,
          T1.UsrDftAppId ,
          T2.AppCode LovDescUsrDftAppCode  ,
          T2.AppDescription LovDescUsrDftAppCodeName  ,
          T1.UsrBranchCode ,
          T4.BranchDesc LovDescUsrBranchCodeName  ,
          T1.UsrDeptCode ,
          T3.DeptDesc LovDescUsrDeptCodeName  ,
          T1.UsrToken ,
          T1.UsrIsMultiBranch ,
          T1.UsrInvldLoginTries ,
          T1.UsrDesg ,
          T6.DesgDesc LovDescUsrDesg  ,
          T1.Version ,
          T1.LastMntBy ,
          T1.LastMntOn ,
          T1.RecordStatus ,
          T1.RoleCode ,
          T1.NextRoleCode ,
          T1.TaskId ,
          T1.NextTaskId ,
          T1.RecordType ,
          T1.WorkflowId ,
          T1.UsrDftAppCode 
     FROM SecUsers T1
           LEFT OUTER JOIN PTApplicationDetails T2   ON T1.UsrDftAppId = T2.AppID
            LEFT OUTER JOIN BMTDepartments T3   ON T1.UsrDeptCode = T3.DeptCode
            LEFT OUTER JOIN RMTBranches T4   ON T1.UsrBranchCode = T4.BranchCode
            LEFT OUTER JOIN BMTLanguage T5   ON T1.UsrLanguage = T5.LngCode
            LEFT OUTER JOIN BMTDesignations T6   ON T1.UsrDesg = T6.DesgCode
	 </createView>
	 </changeSet>
	 <changeSet id="30" author="Prasad">
	 <dropTable tableName="Secuserroles"/>
	 </changeSet>
	  <changeSet id="31" author="Prasad">
	 <dropView viewName="Secuserroles_View"/>
	 </changeSet>
	  <changeSet id="32" author="Prasad">
	 <dropView viewName="Userroles_View"/>
	 </changeSet>
	  <changeSet id="33" author="Prasad">
	 <dropView viewName="UserRoles_AView"/>
	 </changeSet>
	  <changeSet id="34" author="Prasad">
	 <dropTable tableName="PayOrderAuthDetail"/>
	 </changeSet>
	  <changeSet id="35" author="Prasad">
	 <dropTable tableName="PayOrderAuthDetail_Temp"/>
	 </changeSet>
	  <changeSet id="36" author="Prasad">
	 <dropTable tableName="PayOrderAuthHeader"/>
	 </changeSet>
	  <changeSet id="37" author="Prasad">
	 <dropTable tableName="PayOrderAuthHeader_Temp"/>
	 </changeSet>	 
	   <changeSet id="38" author="Prasad">
	 <dropView viewName="PAYORDERAUTHHEADER_VIEW"/>
	 </changeSet>	 
	   <changeSet id="39" author="Prasad">
	 <dropView viewName="PAYORDERAUTHDETAIL_VIEW"/>
	 </changeSet>
	 	   <changeSet id="40" author="Prasad">
	 	 <createView replaceIfExists="true" viewName="SecOperations_TView">  
	 SELECT     OprID, OprDesc, OprCode, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId
FROM         SecOperations_Temp
</createView>
</changeSet>

<changeSet id="41" author="Madhubabu">
		<addColumn tableName="RMTFinanceTypes_temp">
			<column name="AlwReage" type="boolean" defaultValue="0"/>
			<column name="AlwUnPlanEmiHoliday" type="boolean" defaultValue="0" />
		</addColumn>
</changeSet>

<changeSet id="42" author="Madhubabu">
		<addColumn tableName="RMTFinanceTypes">
			<column name="AlwReage" type="boolean" defaultValue="0" />
			<column name="AlwUnPlanEmiHoliday" type="boolean" defaultValue="0"/>
		</addColumn>
</changeSet>
<changeSet id="43" author="Madhubabu">
<sql>Update RMTFinanceTypes_temp set AlwReage=0 where AlwReage is null;
Update RMTFinanceTypes_temp set AlwUnPlanEmiHoliday=0 where AlwUnPlanEmiHoliday is null;
Update RMTFinanceTypes set AlwReage=0 where AlwReage is null;
Update RMTFinanceTypes set AlwUnPlanEmiHoliday=0 where AlwUnPlanEmiHoliday is null;</sql>
</changeSet>
<changeSet id="44" author="Madhubabu">
<addNotNullConstraint tableName="RMTFinanceTypes_temp" columnName="AlwReage" columnDataType="boolean"/>
<addNotNullConstraint tableName="RMTFinanceTypes_temp" columnName="AlwUnPlanEmiHoliday" columnDataType="boolean"/>
<addNotNullConstraint tableName="RMTFinanceTypes" columnName="AlwReage" columnDataType="boolean"/>
<addNotNullConstraint tableName="RMTFinanceTypes" columnName="AlwUnPlanEmiHoliday" columnDataType="boolean"/>
</changeSet>

	<changeSet id="45" author="Madhubabu">
		<createView replaceIfExists="true" viewName="RMTFinanceTypes_AView">
SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
				           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
						   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
						   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
				           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
						   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
						   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
						   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
						   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
						   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
						   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
				           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
						   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
						   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
				           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
						   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
						   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
				           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
						   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
						   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
				           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
				           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
				           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
				           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
						   T1.FinCommitmentOvrride, T1.FinCollateralOvrride, 
				           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
						   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
						   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
						   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
						   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
				           T53.AddrLine1 + ' ' + T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
						   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
						   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
						   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
				           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
				           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
						   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
						   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
						   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
						   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
						    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
							T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
							T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb,T1.AlwReage,T1.AlwUnPlanEmiHoliday
				FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
				           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
				           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
				           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
				           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
				           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
				           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
				           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
				           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
				           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
				           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
				           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
				           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
				           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
				           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
				           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
				           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
				           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
				           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
				           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
				           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
				           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
				           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
				           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
				           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
				           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
				           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
				           Rules T68 ON T1.RpyPricingMethod = T68.RuleId
		</createView>
	</changeSet>
	<changeSet id="46" author="Madhubabu">
		<createView replaceIfExists="true" viewName="RMTFinanceTypes_ORGView">
SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType, T1.FinIsGenRef, T1.FinMaxAmount, 
			                      T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD, T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, 
			                      T1.EqualRepayment, T1.FinRateType, T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			                      T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate, T1.FInGrcMinRate, T1.FinGrcMaxRate, 
			                      T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, 
			                      T1.FInRepayMethod, T1.FinIsAlwPartialRpy, T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, 
			                      T1.FinEarlyPayRule, T1.FinEarlySettleRule, T1.FinDepositRestrictedTo, T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version, T1.LastMntBy, 
			                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, 
			                      T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, T3.BRTypeDesc lovDescFinBaseRateName, T4.SRTypeDesc lovDescFinSplRateName, 
			                      T5.BRTypeDesc lovDescFinGrcBaseRateName, T6.SRTypeDesc lovDescFinGrcSplRateName, T1.FinIsDwPayRequired, T1.FinRvwRateApplFor, 
			                      T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd, T1.FinElgRuleCode, T1.LimitElgRuleCode, T1.FinSchCalCodeOnRvw, 
			                      T1.AlwPlanDeferment, T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc, T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, 
			                      T1.FinMargin, T1.FinScheduleOn, T1.FinGrcScheduleOn, T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, 
			                      T1.FinBankContingentAcType, T1.FinProvisionAcType,   
			                      T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired, 
			                      T1.FinCommitmentOvrride, T1.FinCollateralOvrride, T1.FinRepayPftOnFrq, T1.FinPftUnChanged, T1.ApplyODPenalty, T1.ODIncGrcDays, T1.ODChargeType, 
			                      T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc, T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision, 
			                      T9.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType, T1.Product, T1.StartDate, T1.EndDate, T1.TakafulMandatory, T1.TakafulReq, 
			                      T1.RemFeeSchdMethod, T1.TakafulProvider, T10.TakafulName lovDescTakafulProviderName, T10.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, 
			                      T2.FinTypeDesc lovDescPromoFinTypeDesc, T10.AddrLine1 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
			                      T12.PolicyDesc lovDescDftStepPolicyName, T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType, T1.PropertyTakafulPayType, 
			                      T1.PropertyTakafulProvider, T1.PastduePftCalMthd, T1.PastduePftMargin, T11.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, 
			                      T11.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
			                      T13.BRTypeDesc GrcAdvBaseRateDesc, T14.BRTypeDesc RpyAdvBaseRateDesc, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule, 
			                      T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb, T1.collateralType, T1.TDSApplicable, T15.RuleCode DownPayRuleDesc, T1.ApplyGrcPricing, 
			                      T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy, T16.RuleCode GrcPricingMethodDesc, 
			                      T17.RuleCode RpyPricingMethodDesc, T1.DroplineOD, T1.DroppingMethod, T1.RateChgAnyDay, T12.StepType DftStepPolicyType, T1.ManualSchedule,T18.ProductCategory,
			                      T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
			 					  T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
			 					  T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb,T1.AlwReage,T1.AlwUnPlanEmiHoliday
			FROM         RMTFinanceTypes T1 LEFT OUTER JOIN
			                      RMTFinanceTypes T2 ON T1.Product = T2.FinType LEFT OUTER JOIN
			                      RMTBaseRateCodes T3 ON T1.FinBaseRate = T3.BRType LEFT OUTER JOIN
			                      RMTSplRateCodes T4 ON T1.FinSplRate = T4.SRType LEFT OUTER JOIN
			                      RMTBaseRateCodes T5 ON T1.FinGrcBaseRate = T5.BRType LEFT OUTER JOIN
			                      RMTSplRateCodes T6 ON T1.FinGrcSplRate = T6.SRType LEFT OUTER JOIN
			                      SMTDivisionDetail T9 ON T1.FinDivision = T9.DivisionCode LEFT OUTER JOIN
			                      TakafulProvider T10 ON T1.TakafulProvider = T10.TakafulCode LEFT OUTER JOIN
			                      TakafulProvider T11 ON T1.PropertyTakafulProvider = T11.TakafulCode LEFT OUTER JOIN
			                      StepPolicyHeader T12 ON T1.DftStepPolicy = T12.PolicyCode LEFT OUTER JOIN
			                      RMTBaseRateCodes T13 ON T1.GrcAdvBaseRate = T13.BRType LEFT OUTER JOIN
			                      RMTBaseRateCodes T14 ON T1.RpyAdvBaseRate = T14.BRType LEFT OUTER JOIN
			                      Rules T15 ON T1.DownPayRule = T15.RuleId LEFT OUTER JOIN
			                      Rules T16 ON T1.GrcPricingMethod = T16.RuleId LEFT OUTER JOIN
			                      Rules T17 ON T1.RpyPricingMethod = T17.RuleId LEFT OUTER JOIN
								  BMTProduct T18 ON T1.FinCategory = T18.ProductCode
		</createView>
	</changeSet>
	<changeSet id="47" author="Madhubabu">
		<createView replaceIfExists="true" viewName="RMTFinanceTypes_View">
SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
			           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
					   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
			           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
					   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
					   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
					   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
					   T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
					   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
					   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
			           T53.AddrLine1 + ' ' + T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
					   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
					   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
			           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb,
						T1.AlwReage,T1.AlwUnPlanEmiHoliday
			FROM       RMTFinanceTypes_Temp T1 LEFT OUTER JOIN
			           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
			           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
			           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
			           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
			           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
			           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
			           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
			           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
			           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
			           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
			           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId 
			UNION ALL
			SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
			           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
					   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
			           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
					   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
					   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
					   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
					   T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
					   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
					   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
			           T53.AddrLine1 + ' ' + T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
					   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
					   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
			           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb,
						T1.AlwReage,T1.AlwUnPlanEmiHoliday
			FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
			           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
			           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
			           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
			           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
			           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
			           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
			           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
			           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
			           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
			           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
			           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId 
			WHERE     (NOT EXISTS
			                          (SELECT     1 Expr1
			                            FROM          RMTFinanceTypes_Temp
			                            WHERE      (FinType = T1.FinType)))
		</createView>
	</changeSet>              
  <changeSet id="48" author="pruthvi Raj">
<createView replaceIfExists="true" viewName="CUSTOMERDIRECTORDETAIL_AVIEW">
SELECT     T1.DirectorId, T1.CustID, T2.CustCIF lovDescCustCIF, T2.CustShrtName lovDescCustShrtName, T1.FirstName, T1.MiddleName, T1.LastName, T1.ShortName, 
                      T1.CustGenderCode, T1.CustSalutationCode, T1.SharePerc, T1.CustAddrHNbr, T1.CustFlatNbr, T1.CustAddrStreet, T1.CustAddrLine1, T1.CustAddrLine2, T1.CustPOBox, 
                      T1.CustAddrCity, T1.CustAddrProvince, T1.CustAddrCountry, T1.CustAddrZIP, T1.CustAddrPhone, T1.CustAddrFrom, T1.Shareholder, T1.Director, T1.Designation, 
                      T1.IDType, T1.IDReference, T1.Nationality, T1.DOB, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.RecordType lovDescCustRecordType, T5.PCCityName lovDescCustAddrCityName, 
                      T6.CPProvinceName lovDescCustAddrProvinceName, T7.CountryDesc lovDescCustAddrCountryName, T3.GenderDesc lovDescCustGenderCodeName, 
                      T4.SaluationDesc lovDescCustSalutationCodeName, T8.DesgDesc lovDescDesignationName, T9.CountryDesc lovDescNationalityName, 
                      T10.DocTypeDesc lovDescCustDocCategoryName,COALESCE(T10.DocIdNumMand,0) IDReferenceMand
FROM          CustomerDirectorDetail T1 INNER JOIN
                       Customers_View T2 ON T1.CustID = T2.CustID LEFT OUTER JOIN
                       BMTGenders T3 ON T1.CustGenderCode = T3.GenderCode LEFT OUTER JOIN
                       BMTSalutations T4 ON T1.CustSalutationCode = T4.SalutationCode LEFT OUTER JOIN
                       RMTProvinceVsCity T5 ON T1.CustAddrCountry = T5.PCCountry AND T1.CustAddrProvince = T5.PCProvince AND T1.CustAddrCity = T5.PCCity LEFT OUTER JOIN
                       RMTCountryVsProvince T6 ON T1.CustAddrCountry = T6.CPCountry AND T1.CustAddrProvince = T6.CPProvince INNER JOIN
                       BMTCountries T7 ON T1.CustAddrCountry = T7.CountryCode LEFT OUTER JOIN
                       BMTDesignations T8 ON T1.Designation = T8.DesgCode LEFT OUTER JOIN
                       BMTCountries T9 ON T1.Nationality = T9.CountryCode LEFT OUTER JOIN
                       BMTDocumentTypes T10 ON T1.IDType = T10.DocTypeCode
                   </createView>
                   </changeSet>
  <changeSet id="49" author="pruthvi Raj">
<createView replaceIfExists="true" viewName="CUSTOMERDIRECTORDETAIL_VIEW">                 
                   
 SELECT     T1.DirectorId, T1.CustID, T2.CustCIF lovDescCustCIF, T2.CustShrtName lovDescCustShrtName, T1.FirstName, T1.MiddleName, T1.LastName, T1.ShortName, 
                      T1.CustGenderCode, T1.CustSalutationCode, T1.SharePerc, T1.CustAddrHNbr, T1.CustFlatNbr, T1.CustAddrStreet, T1.CustAddrLine1, T1.CustAddrLine2, T1.CustPOBox, 
                      T1.CustAddrCity, T1.CustAddrProvince, T1.CustAddrCountry, T1.CustAddrZIP, T1.CustAddrPhone, T1.CustAddrFrom, T1.Shareholder, T1.Director, T1.Designation, 
                      T1.IDType, T1.IDReference, T1.Nationality, T1.DOB, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.RecordType lovDescCustRecordType, T5.PCCityName lovDescCustAddrCityName, 
                      T6.CPProvinceName lovDescCustAddrProvinceName, T7.CountryDesc lovDescCustAddrCountryName, T3.GenderDesc lovDescCustGenderCodeName, 
                      T4.SaluationDesc lovDescCustSalutationCodeName, T8.DesgDesc lovDescDesignationName, T9.CountryDesc lovDescNationalityName, 
                      T10.DocTypeDesc lovDescCustDocCategoryName,COALESCE(T10.DocIdNumMand,0) IDReferenceMand
FROM         CustomerDirectorDetail_TEMP T1 INNER JOIN
                       Customers_View T2 ON T1.CustID = T2.CustID LEFT OUTER JOIN
                       BMTGenders T3 ON T1.CustGenderCode = T3.GenderCode LEFT OUTER JOIN
                       BMTSalutations T4 ON T1.CustSalutationCode = T4.SalutationCode LEFT OUTER JOIN
                       RMTProvinceVsCity T5 ON T1.CustAddrCountry = T5.PCCountry AND T1.CustAddrProvince = T5.PCProvince AND T1.CustAddrCity = T5.PCCity LEFT OUTER JOIN
                       RMTCountryVsProvince T6 ON T1.CustAddrCountry = T6.CPCountry AND T1.CustAddrProvince = T6.CPProvince INNER JOIN
                       BMTCountries T7 ON T1.CustAddrCountry = T7.CountryCode LEFT OUTER JOIN
                       BMTDesignations T8 ON T1.Designation = T8.DesgCode LEFT OUTER JOIN
                       BMTCountries T9 ON T1.Nationality = T9.CountryCode LEFT OUTER JOIN
                       BMTDocumentTypes T10 ON T1.IDType = T10.DocTypeCode
UNION ALL
SELECT     T1.DirectorId, T1.CustID, T2.CustCIF lovDescCustCIF, T2.CustShrtName lovDescCustShrtName, T1.FirstName, T1.MiddleName, T1.LastName, T1.ShortName, 
                      T1.CustGenderCode, T1.CustSalutationCode, T1.SharePerc, T1.CustAddrHNbr, T1.CustFlatNbr, T1.CustAddrStreet, T1.CustAddrLine1, T1.CustAddrLine2, T1.CustPOBox, 
                      T1.CustAddrCity, T1.CustAddrProvince, T1.CustAddrCountry, T1.CustAddrZIP, T1.CustAddrPhone, T1.CustAddrFrom, T1.Shareholder, T1.Director, T1.Designation, 
                      T1.IDType, T1.IDReference, T1.Nationality, T1.DOB, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.RecordType lovDescCustRecordType, T5.PCCityName lovDescCustAddrCityName, 
                      T6.CPProvinceName lovDescCustAddrProvinceName, T7.CountryDesc lovDescCustAddrCountryName, T3.GenderDesc lovDescCustGenderCodeName, 
                      T4.SaluationDesc lovDescCustSalutationCodeName, T8.DesgDesc lovDescDesignationName, T9.CountryDesc lovDescNationalityName, 
                      T10.DocTypeDesc lovDescCustDocCategoryName,COALESCE(T10.DocIdNumMand,0) IDReferenceMand
FROM         CustomerDirectorDetail T1 INNER JOIN
                       Customers_View T2 ON T1.CustID = T2.CustID LEFT OUTER JOIN
                       BMTGenders T3 ON T1.CustGenderCode = T3.GenderCode LEFT OUTER JOIN
                       BMTSalutations T4 ON T1.CustSalutationCode = T4.SalutationCode LEFT OUTER JOIN
                       RMTProvinceVsCity T5 ON T1.CustAddrCountry = T5.PCCountry AND T1.CustAddrProvince = T5.PCProvince AND T1.CustAddrCity = T5.PCCity LEFT OUTER JOIN
                       RMTCountryVsProvince T6 ON T1.CustAddrCountry = T6.CPCountry AND T1.CustAddrProvince = T6.CPProvince INNER JOIN
                       BMTCountries T7 ON T1.CustAddrCountry = T7.CountryCode LEFT OUTER JOIN
                       BMTDesignations T8 ON T1.Designation = T8.DesgCode LEFT OUTER JOIN
                       BMTCountries T9 ON T1.Nationality = T9.CountryCode LEFT OUTER JOIN
                       BMTDocumentTypes T10 ON T1.IDType = T10.DocTypeCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          CustomerDirectorDetail_TEMP
                            WHERE      DirectorId = T1.DirectorId AND CustID = T1.CustID)
                              </createView>
                   </changeSet>
      <changeSet id="50" author="pruthvi Raj">
<createView replaceIfExists="true" viewName="FINODCRECOVERY_AVIEW"> 
SELECT     T1.FinReference, T1.FinODSchdDate, T1.FinODFor, T1.MovementDate, T1.SeqNo, T1.ODDays, T1.FinCurODAmt, T1.FinCurODPri, T1.FinCurODPft, 
                 T1.PenaltyType, T1.PenaltyCalOn, T1.PenaltyAmtPerc, T1.Penalty, T1.MaxWaiver, T1.WaivedAmt, T1.PenaltyPaid, T1.PenaltyBal, 
                  case when T1.RcdCanDel = 1 And T1.PenaltyBal = 0 then 0 else T1.RcdCanDel End RcdCanDel,
                 T3.CcyEditField lovDescFinFormatter
			FROM         FinODCRecovery T1 INNER JOIN
                 FinanceMain T2 ON T1.FinReference = T2.FinReference INNER JOIN
                 RMTCurrencies T3 ON T2.FinCcy = T3.CcyCode
				 </createView>
                   </changeSet>
           <changeSet id="51" author="pruthvi Raj">
<createView replaceIfExists="true" viewName="FINODDETAILS_VIEW">  
        SELECT     OD.FinReference, OD.FinODSchdDate, OD.FinODFor, OD.FinBranch, OD.FinType, OD.CustID, OD.FinODTillDate, OD.FinCurODAmt, OD.FinCurODPri, OD.FinCurODPft, 
                      OD.FinMaxODAmt, OD.FinMaxODPri, OD.FinMaxODPft, OD.GraceDays, OD.IncGraceDays, OD.FinCurODDays, OD.TotPenaltyAmt, OD.TotWaived, OD.TotPenaltyPaid,
                      OD.TotPftAmt,OD.TotPftPaid,OD.TotPftBal, 
                      OD.TotPenaltyBal, OD.FinLMdfDate,COALESCE(PR.ApplyODPenalty,0) ApplyODPenalty, COALESCE(PR.ODIncGrcDays,0) ODIncGrcDays
                      ,COALESCE(PR.ODChargeType,'') ODChargeType, COALESCE(PR.ODGraceDays,0) ODGraceDays, COALESCE(PR.ODChargeCalOn,'') ODChargeCalOn, COALESCE(PR.ODChargeAmtOrPerc,0) ODChargeAmtOrPerc , 
                      COALESCE(PR.ODAllowWaiver,0) ODAllowWaiver, COALESCE(PR.ODMaxWaiverPerc,0) ODMaxWaiverPerc
FROM         FinODDetails OD LEFT OUTER JOIN
             FinODPenalty_Latest_Rates_View PR ON OD.FinReference = PR.FinReference
             </createView>
                   </changeSet>
    <changeSet id="52" author="pruthvi Raj">
<createView replaceIfExists="true" viewName="FACILITYREFERENCEDETAIL_VIEW"> 
SELECT   T1.FinRefDetailId, T1.FinType, T1.FinRefType, T1.FinRefId,
					 T1.IsActive, T1.ShowInStage, T1.MandInputInStage, T1.AllowInputInStage,
					 T1.OverRide, T1.OverRideValue, 
					 T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus,
					 T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId,
					 T1.RecordType, T1.WorkflowId, T2.FacilityDesc   lovDescFinTypeDescName,
           COALESCE (T3.AggName, T5.ScoreGroupName, T6.ScoreGroupName)   lovDescNamelov,
					 COALESCE (T3.AggDesc, T4.CheckListDesc, T5.ScoreGroupName, T6.ScoreGroupName)   lovDescRefDesc,
					 T3.AggReportName   lovDescAggReportName, 
					 T3.AggReportPath   lovDescAggReportPath, T3.AggImage   lovDescAggImage,
					 COALESCE (T3.AggCode, T5.ScoreGroupCode, T6.ScoreGroupCode)   lovDescCodelov,
            Coalesce(T4.Remarks, '0')   lovDescIsRemarksAllowed,
					 Coalesce(T4.CheckMinCount, 0)   lovDescCheckMinCount,
					 Coalesce(T4.CheckMaxCount, 0) 
					   lovDescCheckMaxCount, T41.SQLRule   LovDescElgRuleValue,
					 COALESCE (T5.MinScore, T6.MinScore, '0')   lovDescminScore,
					 COALESCE (T5.IsOverride, T6.IsOverride, 0)   lovDescisoverride,
					 COALESCE (T5.OverrideScore, T6.OverrideScore, '0')   lovDescoverrideScore 
					 
			FROM      LMTFacilityRefDetail   T1 INNER JOIN
					  CAFFacilityTypes   T2 ON T1.FinType = T2.FacilityType LEFT OUTER JOIN
					  BMTAggrementDef   T3 ON T1.FinRefId = T3.AggId AND T1.FinRefType = 2 LEFT OUTER JOIN
					  BMTCheckList   T4 ON T1.FinRefId = T4.CheckListId AND T1.FinRefType = 1 LEFT OUTER JOIN
					  Rules   T41 ON T41.RuleCode = T4.CheckRule AND T41.RuleModule = 'CLRULE' AND T41.RuleEvent = '' LEFT OUTER JOIN
					  RMTScoringGroup   T5 ON T1.FinRefId = T5.ScoreGroupId AND T1.FinRefType = 4 AND T5.CategoryType = 'I' LEFT OUTER JOIN
					  RMTScoringGroup   T6 ON T1.FinRefId = T6.ScoreGroupId AND T1.FinRefType = 7 AND T6.CategoryType = 'C'
				 </createView>
                   </changeSet>
     <changeSet id="53" author="pruthvi Raj">
<createView replaceIfExists="true" viewName="FINGUARANTORSEXPSRDTLS_VIEW"> 
Select FINReference,CUSTCIF,GuarantorCIFName,'BANK CIF' IDtype,GuranteePercentage,COALESCE(CurrentExpoSurePriamry,0)CurrentExpoSurePriamry,
COALESCE(CurrentExpoSureSecondary,0)CurrentExpoSureSecondary,COALESCE(CurrentExpoSureGuarantor,0)CurrentExpoSureGuarantor,
Status,FinStatus WorstStatus,MobileNo FROM (
Select CUSTCIF,CustShrtName,CurrentExpoSurePriamry,CurrentExpoSureSecondary,Status FROM (
SELECT CustCIF,CustShrtName, SUM(CurrentExpoSureinBaseCCY)CurrentExpoSurePriamry,Status FROM	  JointGuarantorFinSummary_View T1 
GROUP BY  CustCIF,CustShrtName,Status ) T LEFT JOIN (SELECT JointCif,SUM(CurrentExpoSureinBaseCCY)CurrentExpoSureSecondary
FROM JointGuarantorFinSummary_View where JointCif is not null  GROUP BY  JointCif)T1 on T1.JointCif=T.CustCIF )T
LEFT JOIN (SELECT GuarantorCif,SUM(CurrentExpoSureinBaseCCY) CurrentExpoSureGuarantor 
FROM	JointGuarantorFinSummary_View T1  where GuarantorCif is not null GROUP BY  GuarantorCif ) T1 on 
T1.GuarantorCif=T.CustCIF INNER JOIN  FinStatusDetail_Aview T2 ON T2.CUSTID=T.CUSTCIF 
Inner Join  FinGuarantorsDetails_View T3 ON CUSTCIF = T3.GuarantorCIF Where  BankCustomer=1
UNION
select FINReference,GuarantorCIF,GuarantorCIFName,IdentityDesc IDtype,GuranteePercentage,0,0,0,null,null,MobileNo
from   FinGuarantorsDetails_View LEFT JOIN  BMTIdentityType ON GuarantorIDType=IdentityType  Where  BankCustomer!=1
				 </createView>
                   </changeSet>
     <changeSet id="54" author="pruthvi Raj">
<createView replaceIfExists="true" viewName="FINGUARANTORSSMRYDTLS_VIEW"> 
SELECT     T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, T1.MobileNo, T1.EmailId, 
                      T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.UsrLogin, T1.UsrFName, T1.UsrMName, T1.UsrLName, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.Remarks, T1.GuarantorCIFName, T1.GuarantorIDTypeName, 
                      T2.CurrentExpoSurePriamry primaryExposure, T2.CurrentExpoSureSecondary secondaryExposure, T2.CurrentExpoSureGuarantor guarantorExposure, 
                      T2.WorstStatus, T2.Status
FROM          FinGuarantorsDetails_View T1 
			LEFT JOIN  FinGuarantorsExpsrDtls_View T2 ON T1.FinReference = T2.FINReference 
			AND T1.BankCustomer = 1
				 </createView>
                   </changeSet>
       <changeSet id="55" author="pruthvi Raj" dbms="mssql">
<createView replaceIfExists="true" viewName="LMTFinanceWorkFlowDef_AView"> 
SELECT T1.FinType , T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName  ,
		T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc,
          T1.FinType lovDescPromotionCode  ,
          T2.FinTypeDesc lovDescPromotionName  ,
          T4.FacilityDesc lovDescFacilityTypeName  ,
          T1.ScreenCode ,
          T1.WorkFlowType ,
          T3.WorkFlowDesc lovDescWorkFlowTypeName  ,
          T1.Version ,
          T1.LastMntBy ,
          T1.LastMntOn ,
          T1.RecordStatus ,
          T1.RoleCode ,
          T1.NextRoleCode ,
          T1.TaskId ,
          T1.NextTaskId ,
          T1.RecordType ,
          T1.WorkflowId ,
          T3.WorkFlowRoles LovDescWorkFlowRolesName  ,
          T2.FinCategory LovdescProductCodeName  ,
          T2.FinDivision lovDescFinDivisionName  ,
          T3.FirstTaskOwner LovDescFirstTaskOwner  ,
          T1.ModuleName ,
         COALESCE(CAST(T2.FinIsActive as bit), T6.Active,CAST(T7.Active as bit),CAST(T8.Active as bit) ) FinIsActive, 
          COALESCE(T2.Product, '') LovDescProductName  ,
          T2.lovDescPromoFinTypeDesc ,
          T2.FinAssetType ,
          T2.StartDate ,
          T2.EndDate ,
          T1.FinEvent,
         COALESCE( T2.LovDescFinFormetter, 0) LovDescFinFormetter,
          T5.ProductCategory
     FROM LMTFinanceWorkFlowDef T1
            LEFT JOIN RMTFinanceTypes_AView T2   ON T1.FinType = T2.FinType
            INNER JOIN WorkFlowDetails T3   ON T1.WorkFlowType = T3.WorkFlowType AND T3.WorkFlowActive = 1
            LEFT JOIN CAFFacilityTypes T4   ON T1.FinType = T4.FacilityType 
            LEFT JOin BMTProduct T5 ON T2.FinCategory = T5.ProductCode
            LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
			LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
			LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode

</createView>
</changeSet>
<changeSet id="55" author="pruthvi Raj" dbms="oracle">
<createView replaceIfExists="true" viewName="LMTFinanceWorkFlowDef_AView"> 
SELECT T1.FinType , T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName  ,
		T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc,
          T1.FinType lovDescPromotionCode  ,
          T2.FinTypeDesc lovDescPromotionName  ,
          T4.FacilityDesc lovDescFacilityTypeName  ,
          T1.ScreenCode ,
          T1.WorkFlowType ,
          T3.WorkFlowDesc lovDescWorkFlowTypeName  ,
          T1.Version ,
          T1.LastMntBy ,
          T1.LastMntOn ,
          T1.RecordStatus ,
          T1.RoleCode ,
          T1.NextRoleCode ,
          T1.TaskId ,
          T1.NextTaskId ,
          T1.RecordType ,
          T1.WorkflowId ,
          T3.WorkFlowRoles LovDescWorkFlowRolesName  ,
          T2.FinCategory LovdescProductCodeName  ,
          T2.FinDivision lovDescFinDivisionName  ,
          T3.FirstTaskOwner LovDescFirstTaskOwner  ,
          T1.ModuleName ,
         COALESCE(CAST(T2.FinIsActive as Number(1)), T6.Active,CAST(T7.Active as Number(1)),CAST(T8.Active as Number(1)) ) FinIsActive, 
          COALESCE(T2.Product, '') LovDescProductName  ,
          T2.lovDescPromoFinTypeDesc ,
          T2.FinAssetType ,
          T2.StartDate ,
          T2.EndDate ,
          T1.FinEvent,
         COALESCE( T2.LovDescFinFormetter, 0) LovDescFinFormetter,
          T5.ProductCategory
     FROM LMTFinanceWorkFlowDef T1
            LEFT JOIN RMTFinanceTypes_AView T2   ON T1.FinType = T2.FinType
            INNER JOIN WorkFlowDetails T3   ON T1.WorkFlowType = T3.WorkFlowType AND T3.WorkFlowActive = 1
            LEFT JOIN CAFFacilityTypes T4   ON T1.FinType = T4.FacilityType 
            LEFT JOin BMTProduct T5 ON T2.FinCategory = T5.ProductCode
            LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
			LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
			LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode

</createView>
</changeSet>
       <changeSet id="56" author="pruthvi Raj" dbms="mssql">
<createView replaceIfExists="true" viewName="LMTFinanceWorkFlowDef_View"> 
SELECT   T1.FinType,T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName , T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc,
				T4.FacilityDesc lovDescFacilityTypeName ,
						 T1.ScreenCode, T1.WorkFlowType ,T3.WorkFlowDesc lovDescWorkFlowTypeName, T1.Version,
						 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         T1.NextTaskId, T1.RecordType, T1.WorkflowId, T3.WorkFlowRoles LovDescWorkFlowRolesName,
				         T2.FinCategory lovDescProductCodeName,T3.FirstTaskOwner LovDescFirstTaskOwner,
				         T1.ModuleName, 
                 COALESCE(CAST(T2.FinIsActive as bit), T6.Active,CAST(T7.Active as bit),CAST(T8.Active as bit) ) FinIsActive,
                 COALESCE(T2.Product,'') LovDescProductName,T2.FinAssetType,
				         T1.FinEvent, T5.ProductCategory
				FROM     LMTFinanceWorkFlowDef_Temp T1 
						 LEFT JOIN RMTFinanceTypes T2 ON T1.FinType = T2.FinType 
						 INNER JOIN WorkFlowDetails T3 ON T1.WorkFlowType = T3.WorkFlowType
						 AND T3.WorkFlowActive = 1 
						 LEFT JOIN CAFFacilityTypes T4 ON T1.FinType = T4.FacilityType 
						 LEFT JOIN BMTProduct T5 ON T2.FinCategory = T5.ProductCode
						 LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
						 LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
						  LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode 
				UNION ALL
				SELECT   T1.FinType, T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName, T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc, T4.FacilityDesc lovDescFacilityTypeName,
						 T1.ScreenCode, T1.WorkFlowType,T3.WorkFlowDesc lovDescWorkFlowTypeName, T1.Version,
						 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         T1.NextTaskId, T1.RecordType, T1.WorkflowId, T3.WorkFlowRoles LovDescWorkFlowRolesName,
				         T2.FinCategory lovDescProductCodeName,T3.FirstTaskOwner LovDescFirstTaskOwner,
				         T1.ModuleName,
                COALESCE(CAST(T2.FinIsActive as bit), T6.Active,CAST(T7.Active as bit),CAST(T8.Active as bit) ) FinIsActive,
                 COALESCE(T2.Product,'') LovDescProductName,T2.FinAssetType,
				         T1.FinEvent, T5.ProductCategory
				FROM     LMTFinanceWorkFlowDef  T1 
						 LEFT JOIN RMTFinanceTypes T2 ON T1.FinType = T2.FinType 
						 INNER JOIN WorkFlowDetails T3 ON T1.WorkFlowType = T3.WorkFlowType 
						 AND T3.WorkFlowActive = 1 
						 LEFT JOIN CAFFacilityTypes T4 ON T1.FinType = T4.FacilityType
						 LEFT JOIN BMTProduct T5 ON T2.FinCategory = T5.ProductCode
						  LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
						 LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
						  LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode
				WHERE    (NOT EXISTS
				                          (SELECT     1 Expr1
				                            FROM          LMTFinanceWorkFlowDef_Temp
				                            WHERE      (FinType = T1.FinType AND FinEvent = T1.FinEvent AND ModuleName = T1.ModuleName)))

</createView>
</changeSet>

<changeSet id="56" author="pruthvi Raj" dbms="oracle">
<createView replaceIfExists="true" viewName="LMTFinanceWorkFlowDef_View"> 
SELECT   T1.FinType,T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName , T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc,
				T4.FacilityDesc lovDescFacilityTypeName ,
						 T1.ScreenCode, T1.WorkFlowType ,T3.WorkFlowDesc lovDescWorkFlowTypeName, T1.Version,
						 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         T1.NextTaskId, T1.RecordType, T1.WorkflowId, T3.WorkFlowRoles LovDescWorkFlowRolesName,
				         T2.FinCategory lovDescProductCodeName,T3.FirstTaskOwner LovDescFirstTaskOwner,
				         T1.ModuleName, 
                 COALESCE(CAST(T2.FinIsActive as number(1)), T6.Active,CAST(T7.Active as number(1)),CAST(T8.Active as number(1)) ) FinIsActive,
                 COALESCE(T2.Product,'') LovDescProductName,T2.FinAssetType,
				         T1.FinEvent, T5.ProductCategory
				FROM     LMTFinanceWorkFlowDef_Temp T1 
						 LEFT JOIN RMTFinanceTypes T2 ON T1.FinType = T2.FinType 
						 INNER JOIN WorkFlowDetails T3 ON T1.WorkFlowType = T3.WorkFlowType
						 AND T3.WorkFlowActive = 1 
						 LEFT JOIN CAFFacilityTypes T4 ON T1.FinType = T4.FacilityType 
						 LEFT JOIN BMTProduct T5 ON T2.FinCategory = T5.ProductCode
						 LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
						 LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
						  LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode 
				UNION ALL
				SELECT   T1.FinType, T1.FinType TypeCode, T2.FinTypeDesc lovDescFinTypeName, T6.CollateralDesc,T7.ProductDesc VasProductDesc,T8.Description CommitmentTypeDesc, T4.FacilityDesc lovDescFacilityTypeName,
						 T1.ScreenCode, T1.WorkFlowType,T3.WorkFlowDesc lovDescWorkFlowTypeName, T1.Version,
						 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
				         T1.NextTaskId, T1.RecordType, T1.WorkflowId, T3.WorkFlowRoles LovDescWorkFlowRolesName,
				         T2.FinCategory lovDescProductCodeName,T3.FirstTaskOwner LovDescFirstTaskOwner,
				         T1.ModuleName,
                COALESCE(CAST(T2.FinIsActive as number(1)), T6.Active,CAST(T7.Active as number(1)),CAST(T8.Active as number(1)) ) FinIsActive,
                 COALESCE(T2.Product,'') LovDescProductName,T2.FinAssetType,
				         T1.FinEvent, T5.ProductCategory
				FROM     LMTFinanceWorkFlowDef  T1 
						 LEFT JOIN RMTFinanceTypes T2 ON T1.FinType = T2.FinType 
						 INNER JOIN WorkFlowDetails T3 ON T1.WorkFlowType = T3.WorkFlowType 
						 AND T3.WorkFlowActive = 1 
						 LEFT JOIN CAFFacilityTypes T4 ON T1.FinType = T4.FacilityType
						 LEFT JOIN BMTProduct T5 ON T2.FinCategory = T5.ProductCode
						  LEFT JOIN CollateralStructure T6 ON T1.FinType = T6.CollateralType 
						 LEFT JOIN VasStructure T7 ON T1.FinType = T7.ProductCode 
						  LEFT JOIN CommitmentType T8 ON T1.FinType = T8.TypeCode
				WHERE    (NOT EXISTS
				                          (SELECT     1 Expr1
				                            FROM          LMTFinanceWorkFlowDef_Temp
				                            WHERE      (FinType = T1.FinType AND FinEvent = T1.FinEvent AND ModuleName = T1.ModuleName)))
</createView>
</changeSet>
<changeSet id="57" author="pruthvi Raj">
<sql>
update ReportList
set FieldType='String,String,String,String'
where Code='HolidayMaster';
</sql>
</changeSet>
<changeSet id="58" author="pruthvi Raj" >
<createView replaceIfExists="true" viewName="RMTSCORINGGROUP_VIEW">
SELECT     ScoreGroupId, ScoreGroupCode, MinScore, ScoreGroupName, CategoryType, IsOverride, OverrideScore, Version, LastMntBy, LastMntOn, 
                      RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId,
                      Case when CategoryType='C' Then 'Corporate' 
			when CategoryType='I'THEN 'Individual' ELSE CategoryType END lovDescCategoryType
FROM         RMTScoringGroup_Temp
UNION ALL
SELECT     ScoreGroupId, ScoreGroupCode, MinScore, ScoreGroupName, CategoryType, IsOverride, OverrideScore, Version, LastMntBy, LastMntOn, 
                      RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId,
                      Case when CategoryType='C' Then 'Corporate' 
			when CategoryType='I'THEN 'Individual' ELSE CategoryType END lovDescCategoryType
FROM         RMTScoringGroup
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          RMTScoringGroup_Temp
                            WHERE      ScoreGroupId = RMTScoringGroup.ScoreGroupId)
                            </createView>
</changeSet>
<changeSet id="59" author="pruthvi Raj" >
<createView replaceIfExists="true" viewName="RMTScoringMetrics_AView">
SELECT  T1.ScoreGroupId, T1.ScoringId, T1.CategoryType, 
				CASE T1.CategoryType WHEN 'R' THEN T2.RuleCodeDesc ELSE
				T3.GroupDesc END lovDescScoringCodeDesc, 
				CASE T1.CategoryType WHEN 'R' THEN cast(T2.RuleCode as varchar(8))
				ELSE CAST( T3.GroupId as varchar(8)) END lovDescScoringCode, 
				CASE T1.CategoryType WHEN 'R' THEN T2.SQLRule
				 END lovDescSQLRule, 
				CASE T1.CategoryType WHEN 'R' THEN T2.SEQOrder
				ELSE T3.GroupSeq END lovDescScoreMetricSeq,
				T1.Version, T1.LastMntBy, T1.LastMntOn, 
				T1.Recordstatus, T1.Rolecode, T1.Nextrolecode, T1.Taskid,
				T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM    RMTScoringMetrics T1 LEFT OUTER JOIN
				Rules T2 On T2.Ruleid = T1.Scoringid 
				And T2.Rulemodule = 'SCORES' Left Outer Join
				CorpScoringGroupDetail T3 ON T3.GroupId = T1.ScoringId
				 </createView>
</changeSet>
<changeSet id="60" author="pruthvi Raj" >
<createView replaceIfExists="true" viewName="RMTSCORINGMETRICS_VIEW">
SELECT     T1.ScoreGroupId, T1.ScoringId, T1.CategoryType, 
                      CASE T1.CategoryType WHEN 'R' THEN T2.RuleCodeDesc ELSE T3.GroupDesc END lovDescScoringCodeDesc, 
                      CASE T1.CategoryType WHEN 'R' THEN CAST(T2.RuleCode as varchar(8)) ELSE CAST(T3.GroupId as varchar(8)) END lovDescScoringCode, 
                      CASE T1.CategoryType WHEN 'R' THEN T2.SQLRule  END lovDescSQLRule, 
                      CASE T1.CategoryType WHEN 'R' THEN T2.SEQOrder ELSE T3.GroupSeq END lovDescScoreMetricSeq, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         RMTScoringMetrics_Temp T1 LEFT OUTER JOIN
                      Rules T2 ON T2.RuleId = T1.ScoringId AND T2.RuleModule = 'SCORES' LEFT JOIN
                      CorpScoringGroupDetail T3 ON T3.GroupId = T1.ScoringId
UNION ALL
SELECT     T1.ScoreGroupId, T1.ScoringId, T1.CategoryType, 
                      CASE T1.CategoryType WHEN 'R' THEN T2.RuleCodeDesc ELSE T3.GroupDesc END lovDescScoringCodeDesc, 
                      CASE T1.CategoryType WHEN 'R' THEN CAST(T2.RuleCode as varchar(8)) ELSE CAST(T3.GroupId as varchar(8)) END lovDescScoringCode, 
                      CASE T1.CategoryType WHEN 'R' THEN T2.SQLRule  END lovDescSQLRule, 
                      CASE T1.CategoryType WHEN 'R' THEN T2.SEQOrder ELSE T3.GroupSeq END lovDescScoreMetricSeq, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         RMTScoringMetrics T1 LEFT OUTER JOIN
                      Rules T2 ON T2.RuleId = T1.ScoringId AND T2.RuleModule = 'SCORES' LEFT JOIN
                      CorpScoringGroupDetail T3 ON T3.GroupId = T1.ScoringId
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          RMTScoringMetrics_TEMP
                            WHERE      ScoreGroupId = T1.ScoreGroupId AND ScoringId = T1.ScoringId)
                            				 </createView>
</changeSet>
<changeSet id="61" author="pruthvi Raj" >
<createView replaceIfExists="true" viewName="FinanceScoreDetail_View">
SELECT     T1.HeaderId, T1.SubGroupId, T1.RuleId, T1.MaxScore, T1.ExecScore, T2.GroupDesc SubGrpCodeDesc, T2.CategoryType, 
                      CASE COALESCE(T2.CategoryType, 'R') WHEN 'F' THEN CAST(T4.NFRuleId as Varchar(10))
                       WHEN 'R' THEN CAST(T3.RuleCode as Varchar(8)) WHEN 'N' THEN CAST( 
                      T4.NFRuleId as Varchar(10)) END RuleCode, CASE COALESCE(CategoryType, 'R') 
                      WHEN 'F' THEN T4.NFRuleDesc WHEN 'R' THEN T3.RuleCodeDesc 
                      WHEN 'N' THEN T4.NFRuleDesc END RuleCodeDesc
FROM         FinanceScoreDetail T1 LEFT OUTER JOIN
                      CorpScoringGroupDetail T2 ON T1.SubGroupId = T2.GroupId LEFT OUTER JOIN
                      Rules T3 ON T1.RuleId = T3.RuleId LEFT OUTER JOIN
                      NFScoreRuleDetail T4 ON T1.RuleId = T4.NFRuleId AND T1.SubGroupId = T4.GroupId
                      </createView>
</changeSet>
<changeSet id="62" author="pruthvi Raj" >
<createView replaceIfExists="true" viewName="LMTFinRefDetail_PEView">
SELECT     T1.FinRefDetailId, T1.FinType, T1.FinRefType, T1.FinRefId,T1.IsActive, T1.ShowInStage,
			           T1.MandInputInStage,T1.AllowInputInStage, T1.AllowDeviation, T1.AllowWaiver, T1.AllowPostpone,
					   T1.AllowExpire,T1.OverRide,T1.OverRideValue,T1.FinEvent, T1.AlertType,
					   T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId,
					   T1.RecordType, T1.WorkflowId, 
					   Coalesce(T2.FinTypeDesc, T10.CollateralDesc,T11.ProductDesc)  lovDescFinTypeDescName, T2.FinCcy lovDescFinCcyCode,T2.FinCategory lovDescProductCodeName,
					   T3.AggImage lovDescAggImage,
					   COALESCE (T3.AggName, T4.EventCode, T7.RuleCodeDesc, T8.ScoreGroupName, T9.ScoreGroupName) lovDescNamelov,
					   COALESCE (T3.AggCode, T7.RuleCode, T8.ScoreGroupCode, T9.ScoreGroupCode) lovDescCodelov,
					   COALESCE (T3.AggDesc, T4.AccountSetCodeName, T5.CheckListDesc, cast(T7.RuleCode as varchar(8)), cast(T8.ScoreGroupCode as varchar(8)), cast(T9.ScoreGroupCode as varchar(8)))
					   lovDescRefDesc,T3.AggReportName lovDescAggReportName,T3.AggReportPath lovDescAggReportPath,
					   T3.AgrRule lovDescAggRuleName, T3.Aggtype,T3.moduleType,COALESCE(T3.AllowMultiple, 0) AllowMultiple,
					   COALESCE(T5.Remarks, '0') lovDescIsRemarksAllowed,COALESCE(T5.CheckMinCount, 0) lovDescCheckMinCount,
					   COALESCE(T5.CheckMaxCount, 0) lovDescCheckMaxCount,
					   COALESCE (T6.SQLRule, T7.SQLRule) LovDescElgRuleValue,COALESCE (T6.ReturnType, T7.ReturnType) lovDescRuleReturnType,
					   COALESCE (T8.MinScore, T9.MinScore, '0') lovDescminScore,COALESCE (T8.IsOverride, T9.IsOverride, 0) lovDescisoverride,
					   COALESCE (T8.OverrideScore, T9.OverrideScore, '0') lovDescoverrideScore
					   		   
			FROM       LMTFinRefDetail T1 LEFT JOIN
					  RMTFinanceTypes T2 ON T1.FinType = T2.FinType  LEFT JOIN
					  CollateralStructure T10 ON T1.FinType = T10.CollateralType  LEFT JOIN
					  VasStructure T11 ON T1.FinType = T11.ProductCode LEFT OUTER JOIN
			           BMTAggrementDef T3 ON T1.FinRefId = T3.AggId AND T1.FinRefType = 2 LEFT OUTER JOIN
					   RMTAccountingSet T4 ON T1.FinRefId = T4.AccountSetid AND T1.FinRefType = 5 LEFT OUTER JOIN
			           BMTCheckList T5 ON T1.FinRefId = T5.CheckListId AND T1.FinRefType = 1 LEFT OUTER JOIN
			           Rules T6 ON T6.RuleCode = T5.CheckRule AND T6.RuleModule = 'CLRULE' AND T6.RuleEvent = 'CLRULE' LEFT OUTER JOIN
			           Rules T7 ON T1.FinRefId = T7.RuleId AND T1.FinRefType = 3 LEFT OUTER JOIN
			           RMTScoringGroup T8 ON T1.FinRefId = T8.ScoreGroupId AND T1.FinRefType = 4 AND 
					   T8.CategoryType = 'RETAIL'  LEFT OUTER JOIN
			           RMTScoringGroup T9 ON T1.FinRefId = T9.ScoreGroupId AND T1.FinRefType = 7 AND T9.CategoryType = 'CORP'
			           </createView>
</changeSet>
<changeSet id="62.1" author="pruthvi Raj" >
<createTable tableName="SecGroupRights_Temp">
		<column name="GrpRightID" type="bigint">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="GrpID" type="bigint">
			<constraints nullable="false" foreignKeyName="FK_GrpRight_Grp_Temp" references="SecGroups(GrpID)" />
		</column>
		<column name="RightID" type="bigint" >
		<constraints nullable="false" foreignKeyName="FK_GrpRight_Right_Temp" references="SecRights(RightID)" />
		</column>
		<column name="AccessType" type="int" defaultValue="1"/>
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="varchar(50)" />
		<column name="RoleCode" type="varchar(100)" />
		<column name="NextRoleCode" type="varchar(200)" />
		<column name="TaskId" type="varchar(50)" />
		<column name="NextTaskId" type="varchar(200)" />
		<column name="RecordType" type="varchar(50)" />
		<column name="WorkflowId" type="bigint" />
		</createTable>
		</changeSet>
 <changeSet id="s04" author="Surekha">
     <createTable tableName="SecGroupRights_RTemp">
		<column name="GrpRightID " type="bigint">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="GrpID" type="bigint">
			<constraints nullable="false" foreignKeyName="FK_GrpRight_Grp_RTemp" references="SecGroups(GrpID)" />
		</column>
		<column name="RightID" type="bigint" >
		<constraints nullable="false" foreignKeyName="FK_GrpRight_Right_RTemp" references="SecRights(RightID)" />
		</column>
		<column name="AccessType" type="int" defaultValue="1"/>
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="varchar(50)" />
		<column name="RoleCode" type="varchar(100)" />
		<column name="NextRoleCode" type="varchar(200)" />
		<column name="TaskId" type="varchar(50)" />
		<column name="NextTaskId" type="varchar(200)" />
		<column name="RecordType" type="varchar(50)" />
		<column name="WorkflowId" type="bigint" />
		</createTable>
		</changeSet>
		<changeSet id="s05" author="Surekha">
		<createView replaceIfExists="true" viewName="SecGroupRights_View">
			SELECT  T1.GrpRightID,  T1.Version,  T1.LastMntBy,  T1.LastMntOn, 
                       T1.RecordStatus,  T1.RoleCode,  T1.NextRoleCode,  T1.TaskId, 
                       T1.NextTaskId,  T1.RecordType,  T1.WorkflowId,  T1.GrpID, 
                       T1.RightID, T2.GrpCode,  T2.GrpDesc,  T3.RightType,  T3.RightName
			FROM          SecGroupRights_Temp T1 INNER JOIN
                       SecGroups T2 ON  T1.GrpID =  T2.GrpID INNER JOIN
                       SecRights  T3 ON  T1.RightID =  T3.RightID
             UNION ALL
             SELECT     T1.GrpRightID,  T1.Version,  T1.LastMntBy,  T1.LastMntOn, 
                       T1.RecordStatus,  T1.RoleCode,  T1.NextRoleCode,  T1.TaskId, 
                       T1.NextTaskId,  T1.RecordType,  T1.WorkflowId,  T1.GrpID, 
                       T1.RightID, T2.GrpCode,  T2.GrpDesc,  T3.RightType,  T3.RightName
			FROM          SecGroupRights T1 INNER JOIN
                       SecGroups T2 ON  T1.GrpID =  T2.GrpID INNER JOIN
                       SecRights  T3 ON  T1.RightID =  T3.RightID
             WHERE     NOT EXISTS
                          (SELECT     1
                            FROM     SecGroupRights_Temp
                            WHERE       GrpID = T1.GrpID AND RightID = T1.RightID)
		</createView>
		</changeSet>
		<changeSet id="s06" author="Surekha">
		<createView replaceIfExists="true" viewName="SecGroupRights_RView">
			SELECT  T1.GrpRightID,  T1.Version,  T1.LastMntBy,  T1.LastMntOn, 
                       T1.RecordStatus,  T1.RoleCode,  T1.NextRoleCode,  T1.TaskId, 
                       T1.NextTaskId,  T1.RecordType,  T1.WorkflowId,  T1.GrpID, 
                       T1.RightID, T2.GrpCode,  T2.GrpDesc,  T3.RightType,  T3.RightName
			FROM          SecGroupRights_RTemp T1 INNER JOIN
                       SecGroups T2 ON  T1.GrpID =  T2.GrpID INNER JOIN
                       SecRights  T3 ON  T1.RightID =  T3.RightID
             UNION ALL
             SELECT     T1.GrpRightID,  T1.Version,  T1.LastMntBy,  T1.LastMntOn, 
                       T1.RecordStatus,  T1.RoleCode,  T1.NextRoleCode,  T1.TaskId, 
                       T1.NextTaskId,  T1.RecordType,  T1.WorkflowId,  T1.GrpID, 
                       T1.RightID, T2.GrpCode,  T2.GrpDesc,  T3.RightType,  T3.RightName
			FROM          SecGroupRights T1 INNER JOIN
                       SecGroups T2 ON  T1.GrpID =  T2.GrpID INNER JOIN
                       SecRights  T3 ON  T1.RightID =  T3.RightID
             WHERE     NOT EXISTS
                          (SELECT     1
                            FROM     SecGroupRights_Temp
                            WHERE       GrpID = T1.GrpID AND RightID = T1.RightID)
		</createView>
		</changeSet>
<changeSet id="63" author="Madhubabu">
		<createView replaceIfExists="true" viewName="RMTFinanceTypes_AView">
SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
				           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
						   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
						   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
				           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
						   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
						   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
						   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
						   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
						   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
						   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
				           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
						   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
						   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
				           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
						   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
						   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
				           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
						   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
						   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
				           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
				           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
				           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
				           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
						   T1.FinCommitmentOvrride, T1.FinCollateralOvrride, 
				           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
						   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
						   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
						   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
						   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
				           T53.AddrLine1 ${call.concatenate} ' ' ${call.concatenate} T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
						   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
						   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
						   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
				           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
				           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
						   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
						   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
						   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
						   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
						    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
							T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
							T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb,T1.AlwReage,T1.AlwUnPlanEmiHoliday
				FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
				           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
				           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
				           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
				           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
				           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
				           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
				           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
				           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
				           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
				           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
				           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
				           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
				           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
				           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
				           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
				           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
				           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
				           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
				           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
				           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
				           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
				           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
				           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
				           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
				           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
				           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
				           Rules T68 ON T1.RpyPricingMethod = T68.RuleId
		</createView>
	</changeSet>
	<changeSet id="64" author="Madhubabu">
		<createView replaceIfExists="true" viewName="RMTFinanceTypes_ORGView">
SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType, T1.FinIsGenRef, T1.FinMaxAmount, 
			                      T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD, T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, 
			                      T1.EqualRepayment, T1.FinRateType, T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			                      T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate, T1.FInGrcMinRate, T1.FinGrcMaxRate, 
			                      T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, 
			                      T1.FInRepayMethod, T1.FinIsAlwPartialRpy, T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, 
			                      T1.FinEarlyPayRule, T1.FinEarlySettleRule, T1.FinDepositRestrictedTo, T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version, T1.LastMntBy, 
			                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, 
			                      T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, T3.BRTypeDesc lovDescFinBaseRateName, T4.SRTypeDesc lovDescFinSplRateName, 
			                      T5.BRTypeDesc lovDescFinGrcBaseRateName, T6.SRTypeDesc lovDescFinGrcSplRateName, T1.FinIsDwPayRequired, T1.FinRvwRateApplFor, 
			                      T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd, T1.FinElgRuleCode, T1.LimitElgRuleCode, T1.FinSchCalCodeOnRvw, 
			                      T1.AlwPlanDeferment, T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc, T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, 
			                      T1.FinMargin, T1.FinScheduleOn, T1.FinGrcScheduleOn, T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, 
			                      T1.FinBankContingentAcType, T1.FinProvisionAcType,   
			                      T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired, 
			                      T1.FinCommitmentOvrride, T1.FinCollateralOvrride, T1.FinRepayPftOnFrq, T1.FinPftUnChanged, T1.ApplyODPenalty, T1.ODIncGrcDays, T1.ODChargeType, 
			                      T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc, T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision, 
			                      T9.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType, T1.Product, T1.StartDate, T1.EndDate, T1.TakafulMandatory, T1.TakafulReq, 
			                      T1.RemFeeSchdMethod, T1.TakafulProvider, T10.TakafulName lovDescTakafulProviderName, T10.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, 
			                      T2.FinTypeDesc lovDescPromoFinTypeDesc, T10.AddrLine1 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
			                      T12.PolicyDesc lovDescDftStepPolicyName, T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType, T1.PropertyTakafulPayType, 
			                      T1.PropertyTakafulProvider, T1.PastduePftCalMthd, T1.PastduePftMargin, T11.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, 
			                      T11.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
			                      T13.BRTypeDesc GrcAdvBaseRateDesc, T14.BRTypeDesc RpyAdvBaseRateDesc, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule, 
			                      T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb, T1.collateralType, T1.TDSApplicable, T15.RuleCode DownPayRuleDesc, T1.ApplyGrcPricing, 
			                      T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy, T16.RuleCode GrcPricingMethodDesc, 
			                      T17.RuleCode RpyPricingMethodDesc, T1.DroplineOD, T1.DroppingMethod, T1.RateChgAnyDay, T12.StepType DftStepPolicyType, T1.ManualSchedule,T18.ProductCategory,
			                      T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
			 					  T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
			 					  T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb,T1.AlwReage,T1.AlwUnPlanEmiHoliday
			FROM         RMTFinanceTypes T1 LEFT OUTER JOIN
			                      RMTFinanceTypes T2 ON T1.Product = T2.FinType LEFT OUTER JOIN
			                      RMTBaseRateCodes T3 ON T1.FinBaseRate = T3.BRType LEFT OUTER JOIN
			                      RMTSplRateCodes T4 ON T1.FinSplRate = T4.SRType LEFT OUTER JOIN
			                      RMTBaseRateCodes T5 ON T1.FinGrcBaseRate = T5.BRType LEFT OUTER JOIN
			                      RMTSplRateCodes T6 ON T1.FinGrcSplRate = T6.SRType LEFT OUTER JOIN
			                      SMTDivisionDetail T9 ON T1.FinDivision = T9.DivisionCode LEFT OUTER JOIN
			                      TakafulProvider T10 ON T1.TakafulProvider = T10.TakafulCode LEFT OUTER JOIN
			                      TakafulProvider T11 ON T1.PropertyTakafulProvider = T11.TakafulCode LEFT OUTER JOIN
			                      StepPolicyHeader T12 ON T1.DftStepPolicy = T12.PolicyCode LEFT OUTER JOIN
			                      RMTBaseRateCodes T13 ON T1.GrcAdvBaseRate = T13.BRType LEFT OUTER JOIN
			                      RMTBaseRateCodes T14 ON T1.RpyAdvBaseRate = T14.BRType LEFT OUTER JOIN
			                      Rules T15 ON T1.DownPayRule = T15.RuleId LEFT OUTER JOIN
			                      Rules T16 ON T1.GrcPricingMethod = T16.RuleId LEFT OUTER JOIN
			                      Rules T17 ON T1.RpyPricingMethod = T17.RuleId LEFT OUTER JOIN
								  BMTProduct T18 ON T1.FinCategory = T18.ProductCode
		</createView>
	</changeSet>
	<changeSet id="65" author="Madhubabu">
		<createView replaceIfExists="true" viewName="RMTFinanceTypes_View">
SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
			           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
					   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
			           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
					   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
					   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
					   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
					   T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
					   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
					   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
			           T53.AddrLine1 ${call.concatenate} ' ' ${call.concatenate} T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
					   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
					   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
			           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb,
						T1.AlwReage,T1.AlwUnPlanEmiHoliday
			FROM       RMTFinanceTypes_Temp T1 LEFT OUTER JOIN
			           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
			           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
			           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
			           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
			           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
			           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
			           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
			           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
			           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
			           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
			           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId 
			UNION ALL
			SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.FinOrgPrfUnchanged, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
			           T2.CcyDesc lovDescFinCcyName, T3.IntRateBasisDesc lovDescFinDaysCalTypeName, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
					   T6.SchdMethodDesc lovDescFinSchdMthdName, T7.IntRateTypeDesc lovDescFinRateTypeName, 
			           T8.BRTypeDesc lovDescFinBaseRateName, T9.SRTypeDesc lovDescFinSplRateName,
					   T10.IntRateTypeDesc lovDescFinGrcRateTypeName,T11.BRTypeDesc lovDescFinGrcBaseRateName,
					   T12.SRTypeDesc lovDescFinGrcSplRateName,T30.RepayMethodDesc lovDescFInRepayMethodName, 
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinGrcRvwRateApplFor, T1.FinIsIntCpzAtGrcEnd,
					   T2.CcyEditField lovDescFinFormetter, T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
					   T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T52.ProductDesc lovDescProductCodeDesc,T1.Product, T1.StartDate, T1.EndDate,
					   T1.TakafulMandatory, T1.TakafulReq, T1.RemFeeSchdMethod, T1.TakafulProvider,T53.TakafulName lovDescTakafulProviderName,
					   T53.TakafulRate lovDescTakafulRate, T1.AllowDownpayPgm, T54.FinTypeDesc lovDescPromoFinTypeDesc, 
			           T53.AddrLine1 ${call.concatenate} ' ' ${call.concatenate} T53.AddrLine2 lovDescTakafulProviderAddr, T1.ScheduleTakaful, T1.Remarks, 
					   T55.PolicyDesc lovDescDftStepPolicyName,T1.AlwEarlyPayMethods, T1.PropertyTakafulReq, T1.TakafulPayType,
					   T1.PropertyTakafulPayType, T1.PropertyTakafulProvider, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					   T56.TakafulName lovDescPptTakafulProvider, T1.AlwAdvanceRent, T56.TakafulRate lovDescPptTakafulRate, T1.GrcAdvBaseRate, 
			           T57.BRTypeDesc GrcAdvBaseRateDesc, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T58.BRTypeDesc RpyAdvBaseRateDesc, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.AlwCreditIns, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay,T52.ProductCategory , T55.StepType DftStepPolicyType,T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.CalRoundingMode, T1.FrequencyDays, T1.QuickDisb,
						T1.AlwReage,T1.AlwUnPlanEmiHoliday
			FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
			           RMTFinanceTypes T54 ON T1.Product = T54.FinType LEFT OUTER JOIN
			           BMTProduct T52 ON T1.FinCategory = T52.ProductCode LEFT OUTER JOIN
			           RMTCurrencies T2 ON T1.FinCcy = T2.CcyCode LEFT OUTER JOIN
			           BMTIntRateBasisCodes T3 ON T1.FinDaysCalType = T3.IntRateBasisCode LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           BMTSchdMethod T6 ON T1.FinSchdMthd = T6.SchdMethod LEFT OUTER JOIN
			           BMTInterestRateTypes T7 ON T1.FinRateType = T7.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T8 ON T1.FinBaseRate = T8.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T9 ON T1.FinSplRate = T9.SRType LEFT OUTER JOIN
			           BMTInterestRateTypes T10 ON T1.FinGrcRateType = T10.IntRateTypeCode LEFT OUTER JOIN
			           RMTBaseRateCodes T11 ON T1.FinGrcBaseRate = T11.BRType LEFT OUTER JOIN
			           RMTSplRateCodes T12 ON T1.FinGrcSplRate = T12.SRType LEFT OUTER JOIN
			           BMTRepayMethod T30 ON T1.FInRepayMethod = T30.RepayMethod LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           TakafulProvider T53 ON T1.TakafulProvider = T53.TakafulCode LEFT OUTER JOIN
			           TakafulProvider T56 ON T1.PropertyTakafulProvider = T56.TakafulCode LEFT OUTER JOIN
			           StepPolicyHeader T55 ON T1.DftStepPolicy = T55.PolicyCode LEFT OUTER JOIN
			           RMTBaseRateCodes T57 ON T1.GrcAdvBaseRate = T57.BRType LEFT OUTER JOIN
			           RMTBaseRateCodes T58 ON T1.RpyAdvBaseRate = T58.BRType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId 
			WHERE     (NOT EXISTS
			                          (SELECT     1 Expr1
			                            FROM          RMTFinanceTypes_Temp
			                            WHERE      (FinType = T1.FinType)))
		</createView>
	</changeSet> 
		<changeSet id="66" author="pruthvi">
		<createView replaceIfExists="true" viewName="FinanceDedup_View">
	SELECT  T1.FinReference, T1.FinReference DupReference, T1.CustId,
	    T2.CustCIF, T2.CustFName, T2.CustLName, T2.CustMName, T2.CustShrtName, T2.CustDOB, T2.CustNationality, 
        T2.CustMotherMaiden, T2.CustParentCountry, T2.CustCRCPR, T1.FinStartDate StartDate, T1.FinAmount FinanceAmount, 
        T1.TotalGrossPft ProfitAmount, T1.NextRoleCode Stage, T4.RoleDesc StageDesc, '' DedupeRule, T2.CustPassportNo,T1.FinType FinanceType, T6.CcyEditField lovDescFinFormatter,
        T2.CustTradeLicenceNum TradeLicenceNo ,T1.FinLimitRef
FROM    FinanceMain_Temp T1 INNER JOIN
        Customers T2 ON T1.CustId = T2.CustId  LEFT OUTER JOIN 
        SecRoles T4 ON T1.NextRoleCode = T4.RoleCd INNER JOIN
        RMTCurrencies T6 On T1.FinCcy=T6.CcyCode
        </createView>
	</changeSet>
	<!-- <changeSet id="67" author="madhubabu">
	<sql>
		INSERT INTO SecGroupRights SELECT (select (SeqNo+1) from SeqSecGroupRights), (select grpid from SecGroups where GrpCode='FININSURANCEDIALOG_MAKER'), (select RightID from SecRights where RightName='FinInsuranceDialog_percentage'),1,0,10000,'2017-01-03 12:41:37','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+2) from SeqSecGroupRights), (select grpid from SecGroups where GrpCode='FININSURANCEDIALOG_MAKER'), (select RightID from SecRights where RightName='FinInsuranceDialog_calcType'),1,0,10000,'2017-01-03 12:41:37','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+3) from SeqSecGroupRights), (select grpid from SecGroups where GrpCode='FININSURANCEDIALOG_MAKER'), (select RightID from SecRights where RightName='FinInsuranceDialog_calculatedOn'),1,0,10000,'2017-01-03 12:41:37','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
		INSERT INTO SecGroupRights SELECT (select (SeqNo+4) from SeqSecGroupRights), (select grpid from SecGroups where GrpCode='FININSURANCEDIALOG_MAKER'), (select RightID from SecRights where RightName='FinInsuranceDialog_InsuranceStatus'),1,0,10000,'2017-01-03 12:41:37','Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;

		update SeqSecGroupRights set SeqNo = (SeqNo+5) ;		
		</sql>
		</changeSet> -->
		<changeSet id="68" author="madhubabu">
	<sql>
	Delete from ErrorDetails where ErrorCode IN('WFEE02','WFEE03','WFEE04','WFEE05','WFEE06','WFEE07'); 
 INSERT INTO ErrorDetails VALUES ('WFEE02','EN','W','This Fee Type is used in accounting setup.Do you want to proceeds?','test','Approved','','','','','',0,null,1000,3);   
 INSERT INTO ErrorDetails VALUES ('WFEE03','EN','W','This fee type is not available in the configured accounting set.Do you want to proceed?','test','Approved','','','','','',0,null,1000,3);
 INSERT INTO ErrorDetails VALUES ('WFEE04','EN','W','{0} configured in this accounting has no fee configurations in {1} ','test','Approved','','','','','',0,null,1000,3);	
 INSERT INTO ErrorDetails VALUES ('WFEE05','EN','W','Fee accounting is missing for {0} which is configured in {1} ','test','Approved','','','','','',0,null,1000,3);	
 INSERT INTO ErrorDetails VALUES ('WFEE06','EN','W','For {0},Fee accounting entries are missing for {1} which are configured in {2} fees','test','Approved','','','','','',0,null,1000,3);		
 INSERT INTO ErrorDetails VALUES ('WFEE07','EN','W','For {0},{1} Fee configurations are missing for {2} which are configured in Fee accounting entries','test','Approved','','','','','',0,null,1000,3);
	</sql>
		</changeSet>
			<changeSet id="69" author="WORKFLOWDETAILS">
		<update tableName="WORKFLOWDETAILS">
			<column name="WORKFLOWSUBTYPE">Maker/Checker For Limits Process</column>
     		<column name="WORKFLOWDESC">Maker/Checker For Limits Process</column>
     		<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":"PFF_MSTGRP1","properties":{"name":"LC Murabaha Process\n","documentation":"","auditing":"","monitoring":"","executable":"true","package":"","vardefs":"","imports":"","id":"LCMUR_FIN_PROCESS","version":"","author":"","language":"English","namespaces":"","targetnamespace":"http://www.omg.org/bpmn20","expressionlanguage":"http://www.w3.org/1999/XPath","typelanguage":"http://www.w3.org/2001/XMLSchema","creationdate":"","modificationdate":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"_FF9D4911-C022-42B0-B00A-9C353226F4A7","properties":{"name":"Start","documentation":"","auditing":"","monitoring":"","dataoutputassociations":"","dataoutput":"","outputset":"","bgcolor":"#C5F970","trigger":"None"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"}],"bounds":{"lowerRight":{"x":120,"y":211},"upperLeft":{"x":90,"y":181}},"dockers":[]},{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF","properties":{"name":"Capture Customer data (RM)","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":false,"assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"assignment=Auto","taskname":"","actors":"LIMITS_RM"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"},{"resourceId":"_14CED7D6-CEC3-49D1-A614-5168AD7F13F6"}],"bounds":{"lowerRight":{"x":243.5,"y":225.5},"upperLeft":{"x":143.5,"y":145.5}},"dockers":[]},{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":142.725714763883,"y":194.1595260101217},"upperLeft":{"x":120.51256648611701,"y":191.5240677398783}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A","properties":{"name":"Centralised Operations","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"LIMITS_OP"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_D061B3BC-F669-4845-AC7C-00DE0DE9EF33"},{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"}],"bounds":{"lowerRight":{"x":1030,"y":225.5},"upperLeft":{"x":930,"y":145.5}},"dockers":[]},{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7819BC4C-2863-4E31-9C96-8CE2C0904D8D"}],"bounds":{"lowerRight":{"x":323.1015625,"y":186.5},"upperLeft":{"x":243.69921875,"y":184.5}},"dockers":[{"x":50,"y":40},{"x":99,"y":40}],"target":{"resourceId":"_7819BC4C-2863-4E31-9C96-8CE2C0904D8D"}},{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618","properties":{"name":"Complete Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":" ","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doApprove","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008"}],"bounds":{"lowerRight":{"x":1189,"y":345},"upperLeft":{"x":1089,"y":265}},"dockers":[]},{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":1139,"y":264.76880133629425},"upperLeft":{"x":1030.4838983429954,"y":185.4382516915635}},"dockers":[{"x":59.07421377436822,"y":39.938251691563494},{"x":1139,"y":185.4382516915635},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01","properties":{"name":"Approved","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1278,"y":319},"upperLeft":{"x":1250,"y":291}},"dockers":[]},{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}],"bounds":{"lowerRight":{"x":1249.328125,"y":306},"upperLeft":{"x":1189.8046875,"y":304}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":382,"y":144.95703125},"upperLeft":{"x":193.5,"y":90}},"dockers":[{"x":58.5,"y":40},{"x":382,"y":90},{"x":193.5,"y":90},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0","properties":{"name":"Cancel Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doReject","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681"}],"bounds":{"lowerRight":{"x":1030,"y":472},"upperLeft":{"x":930,"y":392}},"dockers":[]},{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA","properties":{"name":"Rejected","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1153,"y":446},"upperLeft":{"x":1125,"y":418}},"dockers":[]},{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}],"bounds":{"lowerRight":{"x":1124.3359375,"y":433},"upperLeft":{"x":1030.6875,"y":431}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}},{"resourceId":"_14CED7D6-CEC3-49D1-A614-5168AD7F13F6","properties":{"name":"Cancel","documentation":"Cancel=Cancelled","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Cancelled'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":929.84375,"y":432},"upperLeft":{"x":193.5,"y":225.978515625}},"dockers":[{"x":50,"y":40},{"x":193.5,"y":432},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_7819BC4C-2863-4E31-9C96-8CE2C0904D8D","properties":{"name":"Customer financial spread sheet(RM)","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":false,"assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"assignment=Auto","taskname":"","actors":"LIMITS_RM_EXT1"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_8EAECF5A-A8F1-4659-BDB4-D1CC24ADBC62"},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53"}],"bounds":{"lowerRight":{"x":423.5,"y":225.5},"upperLeft":{"x":323.5,"y":145.5}},"dockers":[]},{"resourceId":"_23398FCC-A86F-4F0D-BDA4-5991E61699A8","properties":{"name":"Credit","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":false,"assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"assignment=Auto","taskname":"","actors":"LIMITS_CREDIT"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_3664A726-6653-4895-BC41-6C65F7CDBC53"},{"resourceId":"_61C162EA-BACA-447E-A837-4159C979C7D5"}],"bounds":{"lowerRight":{"x":573.5,"y":225.5},"upperLeft":{"x":473.5,"y":145.5}},"dockers":[]},{"resourceId":"_82D8A484-8613-4201-B5E3-10A2DF40190C","properties":{"name":"Credit committe","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":false,"assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"assignment=Auto","taskname":"","actors":"LIMITS_CREDIT_COMM"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_AFAA5DA6-A498-43C0-83B7-18D771A50C44"},{"resourceId":"_208339E2-90BA-4225-B85D-6D94BCC33B2D"}],"bounds":{"lowerRight":{"x":708.5,"y":225.5},"upperLeft":{"x":608.5,"y":145.5}},"dockers":[]},{"resourceId":"_8EAECF5A-A8F1-4659-BDB4-D1CC24ADBC62","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_23398FCC-A86F-4F0D-BDA4-5991E61699A8"}],"bounds":{"lowerRight":{"x":473.1171875,"y":189.5},"upperLeft":{"x":423.9453125,"y":187.5}},"dockers":[{"x":80,"y":43},{"x":61,"y":43}],"target":{"resourceId":"_23398FCC-A86F-4F0D-BDA4-5991E61699A8"}},{"resourceId":"_3664A726-6653-4895-BC41-6C65F7CDBC53","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_82D8A484-8613-4201-B5E3-10A2DF40190C"}],"bounds":{"lowerRight":{"x":608.390625,"y":187.5},"upperLeft":{"x":573.875,"y":185.5}},"dockers":[{"x":84,"y":41},{"x":72,"y":41}],"target":{"resourceId":"_82D8A484-8613-4201-B5E3-10A2DF40190C"}},{"resourceId":"_AFAA5DA6-A498-43C0-83B7-18D771A50C44","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_37523D1A-1415-4710-B50A-F8A64F889B90"}],"bounds":{"lowerRight":{"x":764.6044006347656,"y":186.5},"upperLeft":{"x":709.2423706054688,"y":184.5}},"dockers":[{"x":66,"y":40},{"x":17.4755859375,"y":40}],"target":{"resourceId":"_37523D1A-1415-4710-B50A-F8A64F889B90"}},{"resourceId":"_37523D1A-1415-4710-B50A-F8A64F889B90","properties":{"name":"Collect additional document(RM)","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":false,"assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"assignment=Auto","taskname":"","actors":"LIMITS_RM_EXT2"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_8151D2D2-13E1-48F5-9A64-371C459D69B0"},{"resourceId":"_37B67B73-D027-49E6-86A0-9A42497BC34C"}],"bounds":{"lowerRight":{"x":865,"y":225.5},"upperLeft":{"x":765,"y":145.5}},"dockers":[]},{"resourceId":"_8151D2D2-13E1-48F5-9A64-371C459D69B0","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}],"bounds":{"lowerRight":{"x":929.6180834564955,"y":186.5},"upperLeft":{"x":865.2309258588948,"y":184.5}},"dockers":[{"x":50,"y":40},{"x":75.95631848298603,"y":40}],"target":{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}},{"resourceId":"_61C162EA-BACA-447E-A837-4159C979C7D5","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":929.9877619388017,"y":409},"upperLeft":{"x":526,"y":226.1484375}},"dockers":[{"x":52.5,"y":61.5},{"x":526,"y":409},{"x":37.1781576865244,"y":17}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_208339E2-90BA-4225-B85D-6D94BCC33B2D","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_23398FCC-A86F-4F0D-BDA4-5991E61699A8"}],"bounds":{"lowerRight":{"x":624,"y":145.0515282512726},"upperLeft":{"x":510,"y":92}},"dockers":[{"x":15.5,"y":24.237029395088683},{"x":624,"y":92},{"x":510,"y":92},{"x":36.5,"y":44.5}],"target":{"resourceId":"_23398FCC-A86F-4F0D-BDA4-5991E61699A8"}},{"resourceId":"_D061B3BC-F669-4845-AC7C-00DE0DE9EF33","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_37523D1A-1415-4710-B50A-F8A64F889B90"}],"bounds":{"lowerRight":{"x":983,"y":145.3046875},"upperLeft":{"x":830,"y":94}},"dockers":[{"x":53,"y":51.5},{"x":983,"y":94},{"x":830,"y":94},{"x":65,"y":51.5}],"target":{"resourceId":"_37523D1A-1415-4710-B50A-F8A64F889B90"}},{"resourceId":"_37B67B73-D027-49E6-86A0-9A42497BC34C","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":929.4140625,"y":452},"upperLeft":{"x":815,"y":226.05859375}},"dockers":[{"x":50,"y":40},{"x":815,"y":452},{"x":43,"y":60}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}}],"bounds":{"lowerRight":{"x":3000,"y":2000},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"bpmn2.0pbpm","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
     		<column name="WORKFLOWXML" type="CLOB"><![CDATA["<bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns="http://www.omg.org/bpmn20" xmlns:drools="http://www.jboss.org/drools" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="_EwBeIPXREeaRFNFwGfkKgA" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" />
  <bpmn2:itemDefinition id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" />
  <bpmn2:message id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage" itemRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" />
  <bpmn2:message id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage" itemRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" />
  <bpmn2:interface id="_EwCFZvXREeaRFNFwGfkKgA">
    <bpmn2:operation id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation" name="doApprove">
      <bpmn2:inMessageRef>_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage</bpmn2:inMessageRef>
    </bpmn2:operation>
  </bpmn2:interface>
  <bpmn2:interface id="_EwCFZ_XREeaRFNFwGfkKgA">
    <bpmn2:operation id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation" name="doReject">
      <bpmn2:inMessageRef>_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage</bpmn2:inMessageRef>
    </bpmn2:operation>
  </bpmn2:interface>
  <bpmn2:process id="LCMUR_FIN_PROCESS" name="LC Murabaha Process " isExecutable="true">
    <bpmn2:startEvent id="_FF9D4911-C022-42B0-B00A-9C353226F4A7" drools:bgcolor="#C5F970" name="Start">
      <bpmn2:outgoing>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:userTask id="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" drools:bgcolor="#FF6600" name="Capture Customer data (RM)">
      <bpmn2:extensionElements>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script>scope=Own</drools:script>
        </drools:onEntry-script>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script>assignment=Auto</drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:incoming>
      <bpmn2:incoming>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:incoming>
      <bpmn2:outgoing>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:outgoing>
      <bpmn2:outgoing>_14CED7D6-CEC3-49D1-A614-5168AD7F13F6</bpmn2:outgoing>
      <bpmn2:potentialOwner id="_EwCFMPXREeaRFNFwGfkKgA">
        <bpmn2:resourceAssignmentExpression id="_EwCFMfXREeaRFNFwGfkKgA">
          <bpmn2:formalExpression id="_EwCFMvXREeaRFNFwGfkKgA">LIMITS_RM</bpmn2:formalExpression>
        </bpmn2:resourceAssignmentExpression>
      </bpmn2:potentialOwner>
    </bpmn2:userTask>
    <bpmn2:sequenceFlow id="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117" sourceRef="_FF9D4911-C022-42B0-B00A-9C353226F4A7" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" />
    <bpmn2:userTask id="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" drools:bgcolor="#FF6600" name="Centralised Operations">
      <bpmn2:extensionElements>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script>show_tabs=Accounting</drools:script>
        </drools:onEntry-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_8151D2D2-13E1-48F5-9A64-371C459D69B0</bpmn2:incoming>
      <bpmn2:outgoing>_D061B3BC-F669-4845-AC7C-00DE0DE9EF33</bpmn2:outgoing>
      <bpmn2:outgoing>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:outgoing>
      <bpmn2:potentialOwner id="_EwCFM_XREeaRFNFwGfkKgA">
        <bpmn2:resourceAssignmentExpression id="_EwCFNPXREeaRFNFwGfkKgA">
          <bpmn2:formalExpression id="_EwCFNfXREeaRFNFwGfkKgA">LIMITS_OP</bpmn2:formalExpression>
        </bpmn2:resourceAssignmentExpression>
      </bpmn2:potentialOwner>
    </bpmn2:userTask>
    <bpmn2:sequenceFlow id="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D" name="Submit" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_7819BC4C-2863-4E31-9C96-8CE2C0904D8D">
      <bpmn2:documentation id="_EwCFNvXREeaRFNFwGfkKgA">Submit=Submitted</bpmn2:documentation>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFN_XREeaRFNFwGfkKgA">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:serviceTask id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doApprove" name="Complete Process" operationRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation">
      <bpmn2:incoming>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:incoming>
      <bpmn2:outgoing>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:outgoing>
    </bpmn2:serviceTask>
    <bpmn2:sequenceFlow id="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56" name="Approve" sourceRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618">
      <bpmn2:documentation id="_EwCFOPXREeaRFNFwGfkKgA">Approve=Approved</bpmn2:documentation>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFOfXREeaRFNFwGfkKgA">vo.recordStatus == 'Approved'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:endEvent id="_73682DD6-4D65-497A-BAA5-B80623CB6C01" drools:bgcolor="#F47677" name="Approved">
      <bpmn2:incoming>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="_A921FE66-42C4-42CC-BB5C-15ABAA47A008" sourceRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" targetRef="_73682DD6-4D65-497A-BAA5-B80623CB6C01" />
    <bpmn2:sequenceFlow id="_2AE689CD-94CB-4752-9CE3-748559E63D53" name="Resubmit" sourceRef="_7819BC4C-2863-4E31-9C96-8CE2C0904D8D" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF">
      <bpmn2:documentation id="_EwCFOvXREeaRFNFwGfkKgA">Resubmit=Resubmitted</bpmn2:documentation>
      <bpmn2:auditing id="_EwCFO_XREeaRFNFwGfkKgA">
        <bpmn2:documentation id="_EwCFPPXREeaRFNFwGfkKgA">Notes</bpmn2:documentation>
      </bpmn2:auditing>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFPfXREeaRFNFwGfkKgA">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:serviceTask id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doReject" name="Cancel Process" operationRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation">
      <bpmn2:incoming>_14CED7D6-CEC3-49D1-A614-5168AD7F13F6</bpmn2:incoming>
      <bpmn2:incoming>_37B67B73-D027-49E6-86A0-9A42497BC34C</bpmn2:incoming>
      <bpmn2:incoming>_61C162EA-BACA-447E-A837-4159C979C7D5</bpmn2:incoming>
      <bpmn2:outgoing>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:outgoing>
    </bpmn2:serviceTask>
    <bpmn2:endEvent id="_87A46993-91DA-47E0-811B-2F196FBAD6AA" drools:bgcolor="#F47677" name="Rejected">
      <bpmn2:incoming>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="_DAFA463C-32E5-4B16-BC89-284B69E70681" sourceRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" targetRef="_87A46993-91DA-47E0-811B-2F196FBAD6AA" />
    <bpmn2:sequenceFlow id="_14CED7D6-CEC3-49D1-A614-5168AD7F13F6" name="Cancel" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0">
      <bpmn2:documentation id="_EwCFPvXREeaRFNFwGfkKgA">Cancel=Cancelled</bpmn2:documentation>
      <bpmn2:auditing id="_EwCFP_XREeaRFNFwGfkKgA">
        <bpmn2:documentation id="_EwCFQPXREeaRFNFwGfkKgA">Notes</bpmn2:documentation>
      </bpmn2:auditing>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFQfXREeaRFNFwGfkKgA">vo.recordStatus == 'Cancelled'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:userTask id="_7819BC4C-2863-4E31-9C96-8CE2C0904D8D" drools:bgcolor="#FF6600" name="Customer financial spread sheet(RM)">
      <bpmn2:extensionElements>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script>scope=Own</drools:script>
        </drools:onEntry-script>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script>assignment=Auto</drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:incoming>
      <bpmn2:outgoing>_8EAECF5A-A8F1-4659-BDB4-D1CC24ADBC62</bpmn2:outgoing>
      <bpmn2:outgoing>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:outgoing>
      <bpmn2:potentialOwner id="_EwCFQvXREeaRFNFwGfkKgA">
        <bpmn2:resourceAssignmentExpression id="_EwCFQ_XREeaRFNFwGfkKgA">
          <bpmn2:formalExpression id="_EwCFRPXREeaRFNFwGfkKgA">LIMITS_RM_EXT1</bpmn2:formalExpression>
        </bpmn2:resourceAssignmentExpression>
      </bpmn2:potentialOwner>
    </bpmn2:userTask>
    <bpmn2:userTask id="_23398FCC-A86F-4F0D-BDA4-5991E61699A8" drools:bgcolor="#FF6600" name="Credit">
      <bpmn2:extensionElements>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script>scope=Own</drools:script>
        </drools:onEntry-script>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script>assignment=Auto</drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_8EAECF5A-A8F1-4659-BDB4-D1CC24ADBC62</bpmn2:incoming>
      <bpmn2:incoming>_208339E2-90BA-4225-B85D-6D94BCC33B2D</bpmn2:incoming>
      <bpmn2:outgoing>_3664A726-6653-4895-BC41-6C65F7CDBC53</bpmn2:outgoing>
      <bpmn2:outgoing>_61C162EA-BACA-447E-A837-4159C979C7D5</bpmn2:outgoing>
      <bpmn2:potentialOwner id="_EwCFRfXREeaRFNFwGfkKgA">
        <bpmn2:resourceAssignmentExpression id="_EwCFRvXREeaRFNFwGfkKgA">
          <bpmn2:formalExpression id="_EwCFR_XREeaRFNFwGfkKgA">LIMITS_CREDIT</bpmn2:formalExpression>
        </bpmn2:resourceAssignmentExpression>
      </bpmn2:potentialOwner>
    </bpmn2:userTask>
    <bpmn2:userTask id="_82D8A484-8613-4201-B5E3-10A2DF40190C" drools:bgcolor="#FF6600" name="Credit committe">
      <bpmn2:extensionElements>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script>scope=Own</drools:script>
        </drools:onEntry-script>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script>assignment=Auto</drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_3664A726-6653-4895-BC41-6C65F7CDBC53</bpmn2:incoming>
      <bpmn2:outgoing>_AFAA5DA6-A498-43C0-83B7-18D771A50C44</bpmn2:outgoing>
      <bpmn2:outgoing>_208339E2-90BA-4225-B85D-6D94BCC33B2D</bpmn2:outgoing>
      <bpmn2:potentialOwner id="_EwCFSPXREeaRFNFwGfkKgA">
        <bpmn2:resourceAssignmentExpression id="_EwCFSfXREeaRFNFwGfkKgA">
          <bpmn2:formalExpression id="_EwCFSvXREeaRFNFwGfkKgA">LIMITS_CREDIT_COMM</bpmn2:formalExpression>
        </bpmn2:resourceAssignmentExpression>
      </bpmn2:potentialOwner>
    </bpmn2:userTask>
    <bpmn2:sequenceFlow id="_8EAECF5A-A8F1-4659-BDB4-D1CC24ADBC62" name="Submit" sourceRef="_7819BC4C-2863-4E31-9C96-8CE2C0904D8D" targetRef="_23398FCC-A86F-4F0D-BDA4-5991E61699A8">
      <bpmn2:documentation id="_EwCFS_XREeaRFNFwGfkKgA">Submit=Submitted</bpmn2:documentation>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFTPXREeaRFNFwGfkKgA">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_3664A726-6653-4895-BC41-6C65F7CDBC53" name="Submit" sourceRef="_23398FCC-A86F-4F0D-BDA4-5991E61699A8" targetRef="_82D8A484-8613-4201-B5E3-10A2DF40190C">
      <bpmn2:documentation id="_EwCFTfXREeaRFNFwGfkKgA">Submit=Submitted</bpmn2:documentation>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFTvXREeaRFNFwGfkKgA">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_AFAA5DA6-A498-43C0-83B7-18D771A50C44" name="Submit" sourceRef="_82D8A484-8613-4201-B5E3-10A2DF40190C" targetRef="_37523D1A-1415-4710-B50A-F8A64F889B90">
      <bpmn2:documentation id="_EwCFT_XREeaRFNFwGfkKgA">Submit=Submitted</bpmn2:documentation>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFUPXREeaRFNFwGfkKgA">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:userTask id="_37523D1A-1415-4710-B50A-F8A64F889B90" drools:bgcolor="#FF6600" name="Collect additional document(RM)">
      <bpmn2:extensionElements>
        <drools:onEntry-script scriptFormat="http://www.java.com/java">
          <drools:script>scope=Own</drools:script>
        </drools:onEntry-script>
        <drools:onExit-script scriptFormat="http://www.java.com/java">
          <drools:script>assignment=Auto</drools:script>
        </drools:onExit-script>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_D061B3BC-F669-4845-AC7C-00DE0DE9EF33</bpmn2:incoming>
      <bpmn2:incoming>_AFAA5DA6-A498-43C0-83B7-18D771A50C44</bpmn2:incoming>
      <bpmn2:outgoing>_8151D2D2-13E1-48F5-9A64-371C459D69B0</bpmn2:outgoing>
      <bpmn2:outgoing>_37B67B73-D027-49E6-86A0-9A42497BC34C</bpmn2:outgoing>
      <bpmn2:potentialOwner id="_EwCFUfXREeaRFNFwGfkKgA">
        <bpmn2:resourceAssignmentExpression id="_EwCFUvXREeaRFNFwGfkKgA">
          <bpmn2:formalExpression id="_EwCFU_XREeaRFNFwGfkKgA">LIMITS_RM_EXT2</bpmn2:formalExpression>
        </bpmn2:resourceAssignmentExpression>
      </bpmn2:potentialOwner>
    </bpmn2:userTask>
    <bpmn2:sequenceFlow id="_8151D2D2-13E1-48F5-9A64-371C459D69B0" name="Submit" sourceRef="_37523D1A-1415-4710-B50A-F8A64F889B90" targetRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A">
      <bpmn2:documentation id="_EwCFVPXREeaRFNFwGfkKgA">Submit=Submitted</bpmn2:documentation>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFVfXREeaRFNFwGfkKgA">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_61C162EA-BACA-447E-A837-4159C979C7D5" name="Reject" sourceRef="_23398FCC-A86F-4F0D-BDA4-5991E61699A8" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0">
      <bpmn2:documentation id="_EwCFVvXREeaRFNFwGfkKgA">Reject=Rejected</bpmn2:documentation>
      <bpmn2:auditing id="_EwCFV_XREeaRFNFwGfkKgA">
        <bpmn2:documentation id="_EwCFWPXREeaRFNFwGfkKgA">Notes</bpmn2:documentation>
      </bpmn2:auditing>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFWfXREeaRFNFwGfkKgA">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_208339E2-90BA-4225-B85D-6D94BCC33B2D" name="Resubmit" sourceRef="_82D8A484-8613-4201-B5E3-10A2DF40190C" targetRef="_23398FCC-A86F-4F0D-BDA4-5991E61699A8">
      <bpmn2:documentation id="_EwCFWvXREeaRFNFwGfkKgA">Resubmit=Resubmitted</bpmn2:documentation>
      <bpmn2:auditing id="_EwCFW_XREeaRFNFwGfkKgA">
        <bpmn2:documentation id="_EwCFXPXREeaRFNFwGfkKgA">Notes</bpmn2:documentation>
      </bpmn2:auditing>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFXfXREeaRFNFwGfkKgA">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_D061B3BC-F669-4845-AC7C-00DE0DE9EF33" name="Resubmit" sourceRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" targetRef="_37523D1A-1415-4710-B50A-F8A64F889B90">
      <bpmn2:documentation id="_EwCFXvXREeaRFNFwGfkKgA">Resubmit=Resubmitted</bpmn2:documentation>
      <bpmn2:auditing id="_EwCFX_XREeaRFNFwGfkKgA">
        <bpmn2:documentation id="_EwCFYPXREeaRFNFwGfkKgA">Notes</bpmn2:documentation>
      </bpmn2:auditing>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFYfXREeaRFNFwGfkKgA">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_37B67B73-D027-49E6-86A0-9A42497BC34C" name="Reject" sourceRef="_37523D1A-1415-4710-B50A-F8A64F889B90" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0">
      <bpmn2:documentation id="_EwCFYvXREeaRFNFwGfkKgA">Reject=Rejected</bpmn2:documentation>
      <bpmn2:auditing id="_EwCFY_XREeaRFNFwGfkKgA">
        <bpmn2:documentation id="_EwCFZPXREeaRFNFwGfkKgA">Notes</bpmn2:documentation>
      </bpmn2:auditing>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_EwCFZfXREeaRFNFwGfkKgA">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="_EwCFaPXREeaRFNFwGfkKgA">
    <bpmndi:BPMNPlane id="_EwCFafXREeaRFNFwGfkKgA" bpmnElement="LCMUR_FIN_PROCESS">
      <bpmndi:BPMNShape id="_EwCFavXREeaRFNFwGfkKgA" bpmnElement="_FF9D4911-C022-42B0-B00A-9C353226F4A7">
        <dc:Bounds height="30.0" width="30.0" x="90.0" y="181.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_EwCFa_XREeaRFNFwGfkKgA" bpmnElement="_7B64C6C5-337C-44C2-98C6-A723EC862BFF">
        <dc:Bounds height="80.0" width="100.0" x="143.0" y="145.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="_EwCFbPXREeaRFNFwGfkKgA" bpmnElement="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117">
        <di:waypoint xsi:type="dc:Point" x="105.0" y="196.0" />
        <di:waypoint xsi:type="dc:Point" x="193.0" y="185.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_EwCFbfXREeaRFNFwGfkKgA" bpmnElement="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A">
        <dc:Bounds height="80.0" width="100.0" x="930.0" y="145.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="_EwCFbvXREeaRFNFwGfkKgA" bpmnElement="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D">
        <di:waypoint xsi:type="dc:Point" x="193.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="373.0" y="185.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_EwCFb_XREeaRFNFwGfkKgA" bpmnElement="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618">
        <dc:Bounds height="80.0" width="100.0" x="1089.0" y="265.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="_EwCFcPXREeaRFNFwGfkKgA" bpmnElement="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56">
        <di:waypoint xsi:type="dc:Point" x="980.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="1139.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="1139.0" y="305.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_EwCFcfXREeaRFNFwGfkKgA" bpmnElement="_73682DD6-4D65-497A-BAA5-B80623CB6C01">
        <dc:Bounds height="28.0" width="28.0" x="1250.0" y="291.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="_EwCFcvXREeaRFNFwGfkKgA" bpmnElement="_A921FE66-42C4-42CC-BB5C-15ABAA47A008">
        <di:waypoint xsi:type="dc:Point" x="1139.0" y="305.0" />
        <di:waypoint xsi:type="dc:Point" x="1264.0" y="305.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="_EwCFc_XREeaRFNFwGfkKgA" bpmnElement="_2AE689CD-94CB-4752-9CE3-748559E63D53">
        <di:waypoint xsi:type="dc:Point" x="373.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="382.0" y="90.0" />
        <di:waypoint xsi:type="dc:Point" x="193.0" y="90.0" />
        <di:waypoint xsi:type="dc:Point" x="193.0" y="185.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_EwCFdPXREeaRFNFwGfkKgA" bpmnElement="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0">
        <dc:Bounds height="80.0" width="100.0" x="930.0" y="392.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_EwCFdfXREeaRFNFwGfkKgA" bpmnElement="_87A46993-91DA-47E0-811B-2F196FBAD6AA">
        <dc:Bounds height="28.0" width="28.0" x="1125.0" y="418.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="_EwCFdvXREeaRFNFwGfkKgA" bpmnElement="_DAFA463C-32E5-4B16-BC89-284B69E70681">
        <di:waypoint xsi:type="dc:Point" x="980.0" y="432.0" />
        <di:waypoint xsi:type="dc:Point" x="1139.0" y="432.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="_EwCFd_XREeaRFNFwGfkKgA" bpmnElement="_14CED7D6-CEC3-49D1-A614-5168AD7F13F6">
        <di:waypoint xsi:type="dc:Point" x="193.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="193.0" y="432.0" />
        <di:waypoint xsi:type="dc:Point" x="980.0" y="432.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_EwCFePXREeaRFNFwGfkKgA" bpmnElement="_7819BC4C-2863-4E31-9C96-8CE2C0904D8D">
        <dc:Bounds height="80.0" width="100.0" x="323.0" y="145.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_EwCFefXREeaRFNFwGfkKgA" bpmnElement="_23398FCC-A86F-4F0D-BDA4-5991E61699A8">
        <dc:Bounds height="80.0" width="100.0" x="473.0" y="145.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_EwCFevXREeaRFNFwGfkKgA" bpmnElement="_82D8A484-8613-4201-B5E3-10A2DF40190C">
        <dc:Bounds height="80.0" width="100.0" x="608.0" y="145.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="_EwCFe_XREeaRFNFwGfkKgA" bpmnElement="_8EAECF5A-A8F1-4659-BDB4-D1CC24ADBC62">
        <di:waypoint xsi:type="dc:Point" x="373.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="523.0" y="185.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="_EwCFfPXREeaRFNFwGfkKgA" bpmnElement="_3664A726-6653-4895-BC41-6C65F7CDBC53">
        <di:waypoint xsi:type="dc:Point" x="523.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="658.0" y="185.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="_EwCFffXREeaRFNFwGfkKgA" bpmnElement="_AFAA5DA6-A498-43C0-83B7-18D771A50C44">
        <di:waypoint xsi:type="dc:Point" x="658.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="815.0" y="185.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_EwCFfvXREeaRFNFwGfkKgA" bpmnElement="_37523D1A-1415-4710-B50A-F8A64F889B90">
        <dc:Bounds height="80.0" width="100.0" x="765.0" y="145.0" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="_EwCFf_XREeaRFNFwGfkKgA" bpmnElement="_8151D2D2-13E1-48F5-9A64-371C459D69B0">
        <di:waypoint xsi:type="dc:Point" x="815.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="980.0" y="185.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="_EwCFgPXREeaRFNFwGfkKgA" bpmnElement="_61C162EA-BACA-447E-A837-4159C979C7D5">
        <di:waypoint xsi:type="dc:Point" x="523.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="526.0" y="409.0" />
        <di:waypoint xsi:type="dc:Point" x="980.0" y="432.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="_EwCFgfXREeaRFNFwGfkKgA" bpmnElement="_208339E2-90BA-4225-B85D-6D94BCC33B2D">
        <di:waypoint xsi:type="dc:Point" x="658.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="624.0" y="92.0" />
        <di:waypoint xsi:type="dc:Point" x="510.0" y="92.0" />
        <di:waypoint xsi:type="dc:Point" x="523.0" y="185.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="_EwCFgvXREeaRFNFwGfkKgA" bpmnElement="_D061B3BC-F669-4845-AC7C-00DE0DE9EF33">
        <di:waypoint xsi:type="dc:Point" x="980.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="983.0" y="94.0" />
        <di:waypoint xsi:type="dc:Point" x="830.0" y="94.0" />
        <di:waypoint xsi:type="dc:Point" x="815.0" y="185.0" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="_EwCFg_XREeaRFNFwGfkKgA" bpmnElement="_37B67B73-D027-49E6-86A0-9A42497BC34C">
        <di:waypoint xsi:type="dc:Point" x="815.0" y="185.0" />
        <di:waypoint xsi:type="dc:Point" x="815.0" y="452.0" />
        <di:waypoint xsi:type="dc:Point" x="980.0" y="432.0" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship id="_EwCFhPXREeaRFNFwGfkKgA" type="jBPMProcessSimulation">
    <bpmn2:extensionElements>
      <drools:ProcessAnalysisData>
        <drools:Scenario xsi:type="drools:Scenario" id="default" name="Simulationscenario">
          <drools:ScenarioParameters xsi:type="drools:ScenarioParameters_._type" />
          <drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" id="_EwCFhfXREeaRFNFwGfkKgA">
            <drools:CostParameters xsi:type="drools:CostParameters" />
          </drools:ElementParameters>
          <drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" id="_EwCFhvXREeaRFNFwGfkKgA">
            <drools:CostParameters xsi:type="drools:CostParameters" />
          </drools:ElementParameters>
          <drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_23398FCC-A86F-4F0D-BDA4-5991E61699A8" id="_EwCFh_XREeaRFNFwGfkKgA">
            <drools:ResourceParameters xsi:type="drools:ResourceParameters" />
            <drools:CostParameters xsi:type="drools:CostParameters" />
          </drools:ElementParameters>
          <drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_37523D1A-1415-4710-B50A-F8A64F889B90" id="_EwCFiPXREeaRFNFwGfkKgA">
            <drools:ResourceParameters xsi:type="drools:ResourceParameters" />
            <drools:CostParameters xsi:type="drools:CostParameters" />
          </drools:ElementParameters>
          <drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" id="_EwCFifXREeaRFNFwGfkKgA">
            <drools:ResourceParameters xsi:type="drools:ResourceParameters" />
            <drools:CostParameters xsi:type="drools:CostParameters" />
          </drools:ElementParameters>
          <drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_7819BC4C-2863-4E31-9C96-8CE2C0904D8D" id="_EwCFivXREeaRFNFwGfkKgA">
            <drools:ResourceParameters xsi:type="drools:ResourceParameters" />
            <drools:CostParameters xsi:type="drools:CostParameters" />
          </drools:ElementParameters>
          <drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_82D8A484-8613-4201-B5E3-10A2DF40190C" id="_EwCFi_XREeaRFNFwGfkKgA">
            <drools:ResourceParameters xsi:type="drools:ResourceParameters" />
            <drools:CostParameters xsi:type="drools:CostParameters" />
          </drools:ElementParameters>
          <drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" id="_EwCFjPXREeaRFNFwGfkKgA">
            <drools:ResourceParameters xsi:type="drools:ResourceParameters" />
            <drools:CostParameters xsi:type="drools:CostParameters" />
          </drools:ElementParameters>
        </drools:Scenario>
      </drools:ProcessAnalysisData>
    </bpmn2:extensionElements>
    <bpmn2:source>_EwBeIPXREeaRFNFwGfkKgA</bpmn2:source>
    <bpmn2:target>_EwBeIPXREeaRFNFwGfkKgA</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>"]]></column>
<column name="WORKFLOWROLES"><![CDATA[LIMITS_RM;LIMITS_OP;LIMITS_RM_EXT1;LIMITS_CREDIT;LIMITS_CREDIT_COMM;LIMITS_RM_EXT2]]></column>
	   <column name="FIRSTTASKOWNER"><![CDATA[LIMITS_RM]]></column>
			<where>workflowtype='LIMITS_PROCESS'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="70" author="satish">
		<createView replaceIfExists="true" viewName="Mandates_View">
SELECT		T1.MandateID, T1.CustID,   T1.MandateRef, T1.MandateType,T1.BankBranchID, T1.AccNumber, T1.AccHolderName,
			T1.JointAccHolderName, T1.AccType, T1.OpenMandate, T1.StartDate, T1.ExpiryDate, T1.MaxLimit,
			T1.Periodicity, T1.PhoneCountryCode, T1.PhoneAreaCode, T1.PhoneNumber, T1.Status, T1.ApprovalID		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
			 T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Reason,T1.MandateCcy,T2.CustCIF,T2.CustShrtName, T3.BankCode, T3.BranchCode,T3.BranchDesc,T3.MICR,
			 T3.IFSC, T3.City, T4.BankName, T1.InputDate,T1.Active, 0 useExisting,T1.OrgReference
FROM    	Mandates_Temp T1 INNER JOIN
			Customers T2  ON T1.CustID = T2.CustID LEFT OUTER JOIN 
			BankBranches T3 ON T1.BankBranchID = T3.BankBranchID  INNER JOIN
			BMTBankDetail T4  ON T3.BankCode=T4.BankCode 
            
UNION ALL

SELECT		T1.MandateID, T1.CustID,   T1.MandateRef, T1.MandateType,T1.BankBranchID, T1.AccNumber, T1.AccHolderName,
			T1.JointAccHolderName, T1.AccType, T1.OpenMandate, T1.StartDate, T1.ExpiryDate, T1.MaxLimit,
			T1.Periodicity, T1.PhoneCountryCode, T1.PhoneAreaCode, T1.PhoneNumber, T1.Status, T1.ApprovalID		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
			 T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Reason,T1.MandateCcy,T2.CustCIF,T2.CustShrtName, T3.BankCode, T3.BranchCode,T3.BranchDesc,T3.MICR,
			 T3.IFSC, T3.City, T4.BankName, T1.InputDate,T1.Active,1 useExisting,T1.OrgReference
FROM    	Mandates T1 INNER JOIN
			Customers T2  ON T1.CustID = T2.CustID LEFT OUTER JOIN 
			BankBranches T3 ON T1.BankBranchID = T3.BankBranchID  INNER JOIN
			BMTBankDetail T4  ON T3.BankCode=T4.BankCode 
			WHERE     NOT EXISTS (SELECT 1 FROM Mandates_TEMP WHERE MandateID = T1.MandateID)
		</createView>
		<createView replaceIfExists="true" viewName="Mandates_TView">
SELECT		T1.MandateID, T1.CustID,   T1.MandateRef, T1.MandateType,T1.BankBranchID, T1.AccNumber, T1.AccHolderName,
			T1.JointAccHolderName, T1.AccType, T1.OpenMandate, T1.StartDate, T1.ExpiryDate, T1.MaxLimit,
			T1.Periodicity, T1.PhoneCountryCode, T1.PhoneAreaCode, T1.PhoneNumber, T1.Status, T1.ApprovalID		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
			 T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Reason,T1.MandateCcy,T2.CustCIF,T2.CustShrtName, T3.BankCode, T3.BranchCode,T3.BranchDesc,T3.MICR,
			 T3.IFSC, T3.City, T4.BankName, T1.InputDate,T1.Active, 0 useExisting,T1.OrgReference
FROM    	Mandates_Temp  T1 INNER JOIN
			Customers  T2  ON T1.CustID = T2.CustID LEFT OUTER JOIN 
			BankBranches  T3 ON T1.BankBranchID = T3.BankBranchID  INNER JOIN
			BMTBankDetail  T4  ON T3.BankCode=T4.BankCode 
		</createView>
		<createView replaceIfExists="true" viewName="Mandates_AView">
SELECT		T1.MandateID, T1.CustID,   T1.MandateRef, T1.MandateType,T1.BankBranchID, T1.AccNumber, T1.AccHolderName,
			T1.JointAccHolderName, T1.AccType, T1.OpenMandate, T1.StartDate, T1.ExpiryDate, T1.MaxLimit,
			T1.Periodicity, T1.PhoneCountryCode, T1.PhoneAreaCode, T1.PhoneNumber, T1.Status, T1.ApprovalID		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
			 T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Reason,T1.MandateCcy,T2.CustCIF,T2.CustShrtName, T3.BankCode, T3.BranchCode,T3.BranchDesc,T3.MICR,
			 T3.IFSC, T3.City, T4.BankName, T1.InputDate,T1.Active, 1 useExisting,T1.OrgReference
FROM    	Mandates  T1 INNER JOIN
			Customers  T2  ON T1.CustID = T2.CustID LEFT OUTER JOIN 
			BankBranches  T3 ON T1.BankBranchID = T3.BankBranchID  INNER JOIN
			BMTBankDetail  T4  ON T3.BankCode=T4.BankCode 
		</createView>
	</changeSet>
		<changeSet id="71" author="Satish">
	<sql>
		alter table mandates_temp drop constraint FK_Mandates_Temp_BankBranches;
	</sql>
		</changeSet>
		<changeSet id="72" author="Satish">
		<sql>
		update SeqSecRoles set seqno=(select MAX(RoleID) from SecRoles);
INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'LIMITS_RM','Capture customer data','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'LIMITS_RM_EXT1','Customer financial spreadsheet','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'LIMITS_CREDIT','Credit','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'LIMITS_CREDIT_COMM','Credit Committee','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'LIMITS_RM_EXT2','Collection of additional documents','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'LIMITS_OP','Centralised operations','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
update SeqSecRoles set seqno=(select MAX(RoleID) from SecRoles);


 Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITDETAIL_MAKER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_RM'), 0, 1000, null, null, null,null,null,null,null,0); Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITHEADER_MAKER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_RM'), 0, 1000, null, null, null,null,null,null,null,0);

 Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITDETAIL_APPROVER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_RM_EXT1'), 0, 1000, null, null, null,null,null,null,null,0); Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITHEADER_APPROVER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_RM_EXT1'), 0, 1000, null, null, null,null,null,null,null,0);


 Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITDETAIL_APPROVER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_CREDIT'), 0, 1000, null, null, null,null,null,null,null,0); Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITHEADER_APPROVER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_CREDIT'), 0, 1000, null, null, null,null,null,null,null,0);


 Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITDETAIL_APPROVER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_CREDIT_COMM'), 0, 1000, null, null, null,null,null,null,null,0); Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITHEADER_APPROVER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_CREDIT_COMM'), 0, 1000, null, null, null,null,null,null,null,0);

 Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITDETAIL_APPROVER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_RM_EXT2'), 0, 1000, null, null, null,null,null,null,null,0); Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITHEADER_APPROVER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_RM_EXT2'), 0, 1000, null, null, null,null,null,null,null,0);


 Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITDETAIL_APPROVER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_OP'), 0, 1000, null, null, null,null,null,null,null,0); Insert into secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups
 where GrpCode = 'LIMITHEADER_APPROVER'),
(Select RoleID from secRoles where RoleCd = 'LIMITS_OP'), 0, 1000, null, null, null,null,null,null,null,0);
		
		</sql>
		
		</changeSet>
		<changeSet id="73" author="Sai" dbms="mssql" >
		<dropForeignKeyConstraint baseTableName="CUSTOMERBANKINFO_TEMP"
			constraintName="FK_Customers_CustBankInfo_Temp" />
	</changeSet>
	<changeSet id="73.1" author="Sai" dbms="oracle" >
		<sql>ALTER TABLE CUSTOMERBANKINFO_TEMP DROP CONSTRAINT "FK_Customers_CustBankInfo_Temp";</sql>
	</changeSet>
	
	
		<changeSet id="74" author="Madhubabu">
		<sql>
		update  RBFieldDetails  set RBFldDesc='Fin Division' where RBModule='LMTLINE' and RBEvent='CUSTOMER' and RBFldName='FT_finDivision';
		</sql>
	</changeSet>
		<changeSet id="75" author="sreeravali">
		<createView replaceIfExists="true" viewName="AvailFinance_View">
SELECT		 FinPftDetails.FinType  FinType, FinPftDetails.FinReference FinReference,  
   FinPftDetails.CustID,  FinPftDetails.FinCcy,  RMTCurrencies.CcyEditField, 
                       FinPftDetails.FinAmount FinAmount ,FinPftDetails.TotalPftSchd TotalPftSchd, 
                     FinPftDetails.FinAmount DrawnPrinciple,
                     RMTCurrencies.CcySpotRate CcySpotRate, LastRepay,
                      FinPftDetails.MaturityDate,  FinPftDetails.CurReducingRate ProfitRate,  FinPftDetails.RepayFrq, 
                       FinPftDetails.FinStatus Status,  FinPftDetails.FinCommitmentRef, 
                       FinPftDetails.TotalPriBal OutStandingBal,
                       RMTFinanceTypes.FinDivision ,  SMTDivisionDetail.DivisionCodeDesc FInDivisionDesc,FinPftDetails.FinStartDate , FinPftDetails.NOInst
FROM          FinPftDetails INNER JOIN
                       RMTCurrencies ON  FinPftDetails.FinCcy =  RMTCurrencies.CcyCode INNER JOIN 
                       RMTFinanceTypes ON  FinPftDetails.FinType = RMTFinanceTypes.FinType INNER JOIN 
                       SMTDivisionDetail ON  SMTDivisionDetail.DivisionCode =  RMTFinanceTypes.FinDivision LEFT OUTER JOIN 
                      (Select FinReference,MAX(FinPostDate)LastRepay from FinRepayDetails
                      GROUP BY FinReference)T ON T.FinReference=FinPftDetails.FinReference
		</createView>
	</changeSet>

	<changeSet id="76" author="chaitanya.ch">
		<createView viewName="POSTINGS_VIEW" replaceIfExists="true">
			SELECT     T1.LinkedTranId, T1.Postref, T1.PostingId, T1.finReference, T1.FinEvent, T1.PostDate, T1.ValueDate, T1.TranCode, T1.RevTranCode, T1.DrOrCr, 
                      T1.Account, T1.PostAmount, T1.PostStatus, T1.ErrorId, T1.ErrorMsg, T2.AEEventCodeDesc LovDescEventCodeName, 
                      T1.ShadowPosting, T1.TranDesc, T1.AmountType, T1.AcCcy, T1.PostBranch
FROM          Postings T1 INNER JOIN
                       BMTAEEvents T2 ON T1.FinEvent = T2.AEEventCode
		
		</createView>
	</changeSet>
	
	<changeSet id="77" author="chaitanya.ch">
		<sql>
			
			Insert into RMTAccountTypes Values( 'EMIRE', 'EMI Receivables' , 'L',null, '1','0',null,'1','1',1000,CURRENT_TIMESTAMP, 'Approved', null, null,
			null, null, null, 0, 'A', 0, 0, (Select max(AccountTypeID) + 1 from RMTAccounttypes), 1, 2, 2 );
			
		
		</sql>
	</changeSet>
	 
	<changeSet id="78" author="chaitanya.ch">
		<sql>
				Delete from RMTAccountTypes where AcType = 'INTINC';
		
			Insert into RMTAccountTypes Values( 'INTINC', 'Interest Income' , 'L',null, '1','0',null,'1','1',1000,CURRENT_TIMESTAMP, 'Approved', null, null,
			null, null, null, 0, 'A', 0, 0, (Select max(AccountTypeID) + 1 from RMTAccounttypes), 1, 2, 2 );
			
		
		</sql>
	</changeSet>
	
			
</databaseChangeLog>