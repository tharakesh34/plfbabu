<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />

	<changeSet id="pre_run_for_pgp" author="Adarsh" runAlways="true" dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>

	<!-- <changeSet id="01" author="Irfan"> <createTable tableName="FinTaxReceivable"> <column name="FinReference" type="VARCHAR(20)"> 
		<constraints nullable="false" /> </column> <column name="TaxFor" type="VARCHAR(8)"> <constraints nullable="false" /> </column> 
		<column name="ReceivableAmount" type="NUMBER(18,0)" /> <column name="CGST" type="NUMBER(18,0)" /> <column name="SGST" type="NUMBER(18,0)" 
		/> <column name="UGST" type="NUMBER(18,0)" /> <column name="IGST" type="NUMBER(18,0)" /> </createTable> </changeSet> <changeSet 
		id="02" author="Irfan"> <addPrimaryKey tableName="FinTaxReceivable" columnNames="FinReference, TaxFor" /> </changeSet> <changeSet 
		id="2.0_ALTER" author="Irfan" dbms="mssql"> <sql> ALTER TABLE FINTAXRECEIVABLE ALTER COLUMN RECEIVABLEAMOUNT DECIMAL(18,0); 
		</sql> </changeSet> <changeSet id="2.1_ALTER" author="Irfan" dbms="mssql"> <sql> ALTER TABLE FINTAXRECEIVABLE ALTER COLUMN 
		CGST DECIMAL(18,0); </sql> </changeSet> <changeSet id="2.2_ALTER" author="Irfan" dbms="mssql"> <sql> ALTER TABLE FINTAXRECEIVABLE 
		ALTER COLUMN CGST DECIMAL(18,0); </sql> </changeSet> <changeSet id="2.3_ALTER" author="Irfan" dbms="mssql"> <sql> ALTER TABLE 
		FINTAXRECEIVABLE ALTER COLUMN SGST DECIMAL(18,0); </sql> </changeSet> <changeSet id="2.4_ALTER" author="Irfan" dbms="mssql"> 
		<sql> ALTER TABLE FINTAXRECEIVABLE ALTER COLUMN UGST DECIMAL(18,0); </sql> </changeSet> <changeSet id="2.5_ALTER" author="Irfan" 
		dbms="mssql"> <sql> ALTER TABLE FINTAXRECEIVABLE ALTER COLUMN IGST DECIMAL(18,0); </sql> </changeSet> <changeSet id="03" 
		author="Irfan"> <sql> <![CDATA[ INSERT INTO BMTAMOUNTCODES (allowedevent,allowedria ,amountcode ,amountcodedesc ,amountcodeisactive 
		,version ,lastmntby ,lastmnton ,recordstatus ,rolecode ,nextrolecode ,taskid ,nexttaskid ,recordtype ,workflowid ) VALUES('LATEPAY', 
		0, 'ae_penaltyRcv', 'Penalty Receivable', 1, 1, 1000, CURRENT_TIMESTAMP, 'Approved', '', '', '', '', '', 0); INSERT INTO 
		BMTAMOUNTCODES (allowedevent,allowedria ,amountcode ,amountcodedesc ,amountcodeisactive ,version ,lastmntby ,lastmnton ,recordstatus 
		,rolecode ,nextrolecode ,taskid ,nexttaskid ,recordtype ,workflowid ) VALUES('LATEPAY', 0, 'LPP_CGST_R', 'Penalty charge 
		CGST Receivable', 1, 1, 1000,CURRENT_TIMESTAMP,'Approved','','','','','',0); INSERT INTO BMTAMOUNTCODES (allowedevent,allowedria 
		,amountcode ,amountcodedesc ,amountcodeisactive ,version ,lastmntby ,lastmnton ,recordstatus ,rolecode ,nextrolecode ,taskid 
		,nexttaskid ,recordtype ,workflowid ) VALUES('LATEPAY', 0, 'LPP_SGST_R', 'Penalty charge SGST Receivable', 1, 1, 1000,CURRENT_TIMESTAMP,'Approved','','','','','',0); 
		INSERT INTO BMTAMOUNTCODES (allowedevent,allowedria ,amountcode ,amountcodedesc ,amountcodeisactive ,version ,lastmntby ,lastmnton 
		,recordstatus ,rolecode ,nextrolecode ,taskid ,nexttaskid ,recordtype ,workflowid ) VALUES('LATEPAY', 0, 'LPP_IGST_R', 'Penalty 
		charge IGST Receivable', 1, 1, 1000,CURRENT_TIMESTAMP,'Approved','','','','','',0); INSERT INTO BMTAMOUNTCODES (allowedevent,allowedria 
		,amountcode ,amountcodedesc ,amountcodeisactive ,version ,lastmntby ,lastmnton ,recordstatus ,rolecode ,nextrolecode ,taskid 
		,nexttaskid ,recordtype ,workflowid ) VALUES('LATEPAY', 0, 'LPP_UGST_R', 'Penalty charge UGST Receivable', 1, 1, 1000,CURRENT_TIMESTAMP,'Approved','','','','','',0); 
		INSERT INTO BMTAMOUNTCODES (allowedevent,allowedria ,amountcode ,amountcodedesc ,amountcodeisactive ,version ,lastmntby ,lastmnton 
		,recordstatus ,rolecode ,nextrolecode ,taskid ,nexttaskid ,recordtype ,workflowid ) VALUES('LATEPAY', 0, 'PB_ReceiptAmount','Receipt 
		Amount',1,1,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0); INSERT INTO BMTAMOUNTCODES (allowedevent,allowedria ,amountcode 
		,amountcodedesc ,amountcodeisactive ,version ,lastmntby ,lastmnton ,recordstatus ,rolecode ,nextrolecode ,taskid ,nexttaskid 
		,recordtype ,workflowid ) VALUES('LATEPAY', 0, 'EX_ReceiptAmount','Excess Receipt Amount',1,1,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0); 
		INSERT INTO BMTAMOUNTCODES (allowedevent,allowedria ,amountcode ,amountcodedesc ,amountcodeisactive ,version ,lastmntby ,lastmnton 
		,recordstatus ,rolecode ,nextrolecode ,taskid ,nexttaskid ,recordtype ,workflowid ) VALUES('LATEPAY', 0, 'EA_ReceiptAmount','Emi 
		Advance Receipt Amount',1,1,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0); INSERT INTO BMTAMOUNTCODES (allowedevent,allowedria 
		,amountcode ,amountcodedesc ,amountcodeisactive ,version ,lastmntby ,lastmnton ,recordstatus ,rolecode ,nextrolecode ,taskid 
		,nexttaskid ,recordtype ,workflowid ) VALUES('AMZ', 0, 'ae_penaltyRcv','Penalty Receivable',1,1,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0); 
		]]> </sql> </changeSet> <changeSet id="04" author="Irfan"> <sql> <![CDATA[ Insert into SMTPARAMETERS (sysparmcode,sysparmdesc,sysparmtype,sysparmmaint,sysparmvalue,sysparmlength,sysparmdec,sysparmlist,sysparmvaldmod,sysparmdescription,version,lastmntby,lastmnton,recordstatus,rolecode,nextrolecode,taskid,nexttaskid,recordtype,workflowid 
		) values ('GST_INV_ON_DUE','GST Invoice on Due.','String',1,'Y',8,0,null,null,'GST Invoice on Due.',1,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0); 
		]]> </sql> </changeSet> <changeSet id="05" author="Irfan"> <sql> <![CDATA[ UPDATE BMTAMOUNTCODES SET AMOUNTCODE='LPP_CGST_R' 
		WHERE AMOUNTCODE='LPP_CGST_P' AND ALLOWEDEVENT = 'AMZ'; UPDATE BMTAMOUNTCODES SET AMOUNTCODE='LPP_SGST_R' WHERE AMOUNTCODE='LPP_SGST_P' 
		AND ALLOWEDEVENT = 'AMZ'; UPDATE BMTAMOUNTCODES SET AMOUNTCODE='LPP_UGST_R' WHERE AMOUNTCODE='LPP_UGST_P' AND ALLOWEDEVENT 
		= 'AMZ'; UPDATE BMTAMOUNTCODES SET AMOUNTCODE='LPP_IGST_R' WHERE AMOUNTCODE='LPP_IGST_P' AND ALLOWEDEVENT = 'AMZ'; UPDATE 
		RMTTRANSACTIONENTRY SET AMOUNTRULE = REPLACE(AMOUNTRULE, 'LPP_CGST_P', 'LPP_CGST_R') where AccountSETID IN(SELECT ACCOUNTSETID 
		FROM RMTACCOUNTINGSET WHERE EVENTCODE = 'AMZ'); UPDATE RMTTRANSACTIONENTRY SET AMOUNTRULE = REPLACE(AMOUNTRULE, 'LPP_SGST_P', 
		'LPP_SGST_R') where AccountSETID IN(SELECT ACCOUNTSETID FROM RMTACCOUNTINGSET WHERE EVENTCODE = 'AMZ'); UPDATE RMTTRANSACTIONENTRY 
		SET AMOUNTRULE = REPLACE(AMOUNTRULE, 'LPP_UGST_P', 'LPP_UGST_R') where AccountSETID IN(SELECT ACCOUNTSETID FROM RMTACCOUNTINGSET 
		WHERE EVENTCODE = 'AMZ'); UPDATE RMTTRANSACTIONENTRY SET AMOUNTRULE = REPLACE(AMOUNTRULE, 'LPP_IGST_P', 'LPP_IGST_R') where 
		AccountSETID IN(SELECT ACCOUNTSETID FROM RMTACCOUNTINGSET WHERE EVENTCODE = 'AMZ'); ]]> </sql> </changeSet> <changeSet id="06" 
		author="Siva"> <createTable tableName="FinTaxIncomeDetail"> <column name="RepayID" type="bigint" /> <column name="TaxFor" 
		type="VARCHAR(8)" /> <column name="ReceivedAmount" type="NUMBER(18,0)" /> <column name="CGST" type="NUMBER(18,0)" /> <column 
		name="SGST" type="NUMBER(18,0)" /> <column name="UGST" type="NUMBER(18,0)" /> <column name="IGST" type="NUMBER(18,0)" /> 
		</createTable> </changeSet> <changeSet id="07_pre" author="Irfan"> <addNotNullConstraint tableName="FinTaxIncomeDetail" columnName="RepayID" 
		columnDataType="bigint" /> <addNotNullConstraint tableName="FinTaxIncomeDetail" columnName="TaxFor" columnDataType="VARCHAR(8)" 
		/> </changeSet> <changeSet id="07" author="Irfan"> <addPrimaryKey tableName="FinTaxIncomeDetail" columnNames="RepayID, TaxFor" 
		/> </changeSet> <changeSet id="07_01_ALTER_datatype" author="Irfan" dbms="mssql"> <sql> ALTER TABLE FINTAXINCOMEDETAIL ALTER 
		COLUMN RECEIVEDAMOUNT DECIMAL(18,0); </sql> </changeSet> <changeSet id="07_02_ALTER_datatype" author="Irfan" dbms="mssql"> 
		<sql> ALTER TABLE FINTAXINCOMEDETAIL ALTER COLUMN CGST DECIMAL(18,0); </sql> </changeSet> <changeSet id="07_03_ALTER_datatype" 
		author="Irfan" dbms="mssql"> <sql> ALTER TABLE FINTAXINCOMEDETAIL ALTER COLUMN SGST DECIMAL(18,0); </sql> </changeSet> <changeSet 
		id="07_04_ALTER_datatype" author="Irfan" dbms="mssql"> <sql> ALTER TABLE FINTAXINCOMEDETAIL ALTER COLUMN UGST DECIMAL(18,0); 
		</sql> </changeSet> <changeSet id="07_05_ALTER_datatype" author="Irfan" dbms="mssql"> <sql> ALTER TABLE FINTAXINCOMEDETAIL 
		ALTER COLUMN IGST DECIMAL(18,0); </sql> </changeSet> <changeSet id="08" author="Irfan"> <addColumn tableName="FinODAmzTaxDetail"> 
		<column name="PostDate" type="datetime" /> </addColumn> </changeSet> <changeSet id="09" author="Irfan"> <sql> <![CDATA[ UPDATE 
		FinODAmzTaxDetail Set PostDate = ValueDate where PostDate is null; ]]> </sql> </changeSet> <changeSet id="10" author="Saikiran.v"> 
		<addColumn tableName="RMTFinanceTypes"> <column name="TDSAllowToModify" type="boolean" /> <column name="TDSApplicableTo" 
		type="varchar(50)" /> </addColumn> </changeSet> <changeSet id="11" author="Saikiran.v"> <addColumn tableName="RMTFinanceTypes_Temp"> 
		<column name="TDSAllowToModify" type="boolean" /> <column name="TDSApplicableTo" type="varchar(50)" /> </addColumn> </changeSet> 
		<changeSet id="12" author="Irfan"> <sql> <![CDATA[ UPDATE RMTFinanceTypes Set TDSAllowToModify = 0; UPDATE RMTFinanceTypes_Temp 
		Set TDSAllowToModify = 0; ]]> </sql> </changeSet> <changeSet id="13" author="Saikiran.v" dbms="mssql"> <sql> <![CDATA[ ALTER 
		TABLE RMTFINANCETYPES ADD CONSTRAINT DF_RMTFINANCETYPES_TDSALLOWTOMODIFY DEFAULT 0 FOR TDSALLOWTOMODIFY; ALTER TABLE RMTFINANCETYPES_TEMP 
		ADD CONSTRAINT DF_RMTFINANCETYPES_TEMP_TDSALLOWTOMODIFY DEFAULT 0 FOR TDSALLOWTOMODIFY; ]]> </sql> </changeSet> <changeSet 
		id="14" author="Saikiran.v" dbms="postgresql, oracle"> <addDefaultValue columnName="TDSAllowToModify" tableName="RMTFinanceTypes" 
		defaultValue="0" /> <addDefaultValue columnName="TDSAllowToModify" tableName="RMTFinanceTypes_Temp" defaultValue="0" /> </changeSet> 
		<changeSet id="15" author="Saikiran.v"> <addNotNullConstraint tableName="RMTFinanceTypes" columnName="TDSAllowToModify" columnDataType="boolean" 
		/> <addNotNullConstraint tableName="RMTFinanceTypes_Temp" columnName="TDSAllowToModify" columnDataType="boolean" /> </changeSet> 
		<changeSet id="16_pre" author="ADARSH" dbms="postgresql"> <sql> <![CDATA[ select deps_save_and_drop_dependencies ('plf', 
		'rmtfinancetypes_aview'); select deps_save_and_drop_dependencies ('plf', 'rmtfinancetypes_view'); select deps_save_and_drop_dependencies 
		('plf', 'rmtfinancetypesorg_view'); ]]> </sql> </changeSet> <changeSet id="16" author="Saikiran.v"> <createView viewName="rmtfinancetypes_aview" 
		replaceIfExists="true"> SELECT t1.fintype, t1.fincategory, t1.fintypedesc, t1.finccy, t1.findayscaltype, t1.finactype, t1.fincontingentactype, 
		t1.finisgenref, t1.finmaxamount, t1.finminamount, t1.finisopennewfinac, t1.findftstmtfrq, t1.finisalwmd, t1.finschdmthd, 
		t1.finisalwgrace, t1.finhistretension, t1.equalrepayment, t1.finratetype, t1.finbaserate, t1.finsplrate, t1.finintrate, t1.finminrate, 
		t1.finmaxrate, t1.findftintfrq, t1.finisintcpz, t1.fincpzfrq, t1.finisrvwalw, t1.finrvwfrq, t1.fingrcratetype, t1.fingrcbaserate, 
		t1.fingrcsplrate, t1.fingrcintrate, t1.fingrcminrate, t1.fingrcmaxrate, t1.fingrcdftintfrq, t1.fingrcisintcpz, t1.fingrccpzfrq, 
		t1.fingrcisrvwalw, t1.fingrcrvwfrq, t1.finminterm, t1.finmaxterm, t1.findftterms, t1.finrpyfrq, t1.finrepaymethod, t1.finisalwpartialrpy, 
		t1.finisalwdifferment, t1.finmaxdifferment, t1.finisalwearlyrpy, t1.finisalwearlysettle, t1.finodrpytries, t1.finearlypayrule, 
		t1.finearlysettlerule, t1.findepositrestrictedto, t1.finaebuyorinception, t1.finaesellormaturity, t1.finisactive, t1.version, 
		t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, 
		t1.stepfinance, t1.steppingmandatory, t1.alwmanualsteps, t1.alwdsteppolicies, t1.dftsteppolicy, t4.actypedesc lovdescfincontingentactypename, 
		t5.actypedesc lovdescfinactypename, t1.finisdwpayrequired, t1.finrvwrateapplfor, t1.finalwratechangeanydate, t1.finisintcpzatgrcend, 
		t1.finelgrulecode, t1.limitelgrulecode, t1.finschcalcodeonrvw, t1.alwplandeferment, t1.plandefercount, t1.finassettype, t1.pftpayactype, 
		t1.finisopenpftpayacc, t31.actypedesc lovdescpftpayactypename, t1.finisalwgrcrepay, t1.fingrcschdmthd, t1.fingrcmargin, t1.finmargin, 
		t1.finscheduleon, t1.fingrcscheduleon, t1.fincommitmentreq, t1.fincollateralreq, t1.findepreciationreq, t1.findepreciationfrq, 
		t1.finbankcontingentactype, t1.finprovisionactype, t38.actypedesc lovdescfinbankcontactypename, t39.actypedesc lovdescfinprovisionactypename, 
		t1.allowriainvestment, t1.overridelimit, t1.limitrequired, t1.fincommitmentovrride, t1.fincollateralovrride, t1.finpftunchanged, 
		t1.applyodpenalty, t1.odincgrcdays, t1.odchargetype, t1.odgracedays, t1.odchargecalon, t1.odchargeamtorperc, t1.odallowwaiver, 
		t1.odmaxwaiverperc, t1.findivision, t48.divisioncodedesc lovdescfindivisionname, t48.entitycode lovdescentitycode, t1.finsuspactype, 
		t49.actypedesc lovdescfinsuspactypename, t1.product, t1.startdate, t1.enddate, t1.allowdownpaypgm, t1.remarks, t1.alwearlypaymethods, 
		t1.pastduepftcalmthd, t1.pastduepftmargin, t1.alwadvancerent, t1.grcadvbaserate, t1.grcadvmargin, t1.grcadvpftrate, t1.rpyadvbaserate, 
		t1.rpyadvmargin, t1.rpyadvpftrate, t1.rolloverfinance, t1.rolloverfrq, t1.downpayrule, t59.rulecode downpayrulecode, t59.rulecodedesc 
		downpayruledesc, t1.finsusptrigger, t1.finsuspremarks, t1.alwmultipartydisb, t1.collateraltype, t1.TDSapplicable, t1.manualschedule, 
		t1.applygrcpricing, t1.grcpricingmethod, t1.applyrpypricing, t1.rpypricingmethod, t1.rpyhierarchy, t67.rulecode grcpricingmethoddesc, 
		t68.rulecode rpypricingmethoddesc, t1.droplineod, t1.droppingmethod, t1.ratechganyday, t1.finrepaypftonfrq, t1.alwbpi, t1.bpitreatment, 
		t1.pftdueschon, t1.planemihalw, t1.planemihmethod, t1.planemihmaxperyear, t1.planemihmax, t1.planemihlockperiod, t1.planemicpz, 
		t1.unplanemihlockperiod, t1.unplanemicpz, t1.reagecpz, t1.fddlockperiod, t1.alwdrpymethods, t1.maxunplannedemi, t1.maxreageholidays, 
		t1.roundingmode, t1.roundingtarget, t1.frequencydays, t1.quickdisb, t1.alwreage, t1.alwunplanemiholiday, t1.alwmaxdisbcheckreq, 
		t1.fintypedesc lovdescpromofintypedesc, t1.profitcenterid, t69.profitcentercode, t69.profitcenterdesc, t1.productcategory, 
		t2.productdesc fincategorydesc, t1.developerfinance, t1.costoffunds, t1.chequecapturereq, t1.finltvcheck, t1.partiallysecured, 
		t1.alwadvemi, t1.advemiminterms, t1.advemimaxterms, t1.advemidftterms, t1.advemischdmthd, t1.bpipftdaysbasis, t1.eligibilitymethods, 
		t1.alwhybridrate, t1.fixedratetenor, t1.odmincapamount, t1.odrulecode, t1.alwzerointacc, t1.autorejectiondays, t1.taxnomand, 
		t1.putcallrequired, t1.grcadvintersetreq, t1.grcadvtype, t1.grcadvminterms, t1.grcadvmaxterms, t1.grcadvdefaultterms, t1.advintersetreq, 
		t1.advtype, t1.advminterms, t1.advmaxterms, t1.advdefaultterms, t1.advstage, t1.dsfreq, t1.cashcollateralreq, t1.TDSAllowToModify, 
		t1.TDSApplicableTo FROM rmtfinancetypes t1 LEFT JOIN bmtproduct t2 ON t1.fincategory = t2.productcode LEFT JOIN rmtaccounttypes 
		t4 ON t1.fincontingentactype = t4.actype LEFT JOIN rmtaccounttypes t38 ON t1.finbankcontingentactype = t38.actype LEFT JOIN 
		rmtaccounttypes t39 ON t1.finprovisionactype = t39.actype LEFT JOIN rmtaccounttypes t5 ON t1.finactype = t5.actype LEFT JOIN 
		rmtaccounttypes t31 ON t1.pftpayactype = t31.actype LEFT JOIN smtdivisiondetail t48 ON t1.findivision = t48.divisioncode 
		LEFT JOIN rmtaccounttypes t49 ON t1.finsuspactype = t49.actype LEFT JOIN rules t59 ON t1.downpayrule = t59.ruleid LEFT JOIN 
		rules t67 ON t1.grcpricingmethod = t67.ruleid LEFT JOIN rules t68 ON t1.rpypricingmethod = t68.ruleid LEFT JOIN profitcenters 
		t69 ON t69.profitcenterid = t1.profitcenterid </createView> </changeSet> <changeSet id="17" author="Saikiran.v"> <createView 
		viewName="rmtfinancetypes_view" replaceIfExists="true"> SELECT t1.fintype, t1.fincategory, t1.fintypedesc, t1.finccy, t1.findayscaltype, 
		t1.finactype, t1.fincontingentactype, t1.finisgenref, t1.finmaxamount, t1.finminamount, t1.finisopennewfinac, t1.findftstmtfrq, 
		t1.finisalwmd, t1.finschdmthd, t1.finisalwgrace, t1.finhistretension, t1.equalrepayment, t1.finratetype, t1.finbaserate, 
		t1.finsplrate, t1.finintrate, t1.finminrate, t1.finmaxrate, t1.findftintfrq, t1.finisintcpz, t1.fincpzfrq, t1.finisrvwalw, 
		t1.finrvwfrq, t1.fingrcratetype, t1.fingrcbaserate, t1.fingrcsplrate, t1.fingrcintrate, t1.fingrcminrate, t1.fingrcmaxrate, 
		t1.fingrcdftintfrq, t1.fingrcisintcpz, t1.fingrccpzfrq, t1.fingrcisrvwalw, t1.fingrcrvwfrq, t1.finminterm, t1.finmaxterm, 
		t1.findftterms, t1.finrpyfrq, t1.finrepaymethod, t1.finisalwpartialrpy, t1.finisalwdifferment, t1.finmaxdifferment, t1.finisalwearlyrpy, 
		t1.finisalwearlysettle, t1.finodrpytries, t1.finearlypayrule, t1.finearlysettlerule, t1.findepositrestrictedto, t1.finaebuyorinception, 
		t1.finaesellormaturity, t1.finisactive, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, 
		t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, t1.stepfinance, t1.steppingmandatory, t1.alwmanualsteps, t1.alwdsteppolicies, 
		t1.dftsteppolicy, t4.actypedesc lovdescfincontingentactypename, t5.actypedesc lovdescfinactypename, t1.finisdwpayrequired, 
		t1.finrvwrateapplfor, t1.finalwratechangeanydate, t1.finisintcpzatgrcend, t1.finelgrulecode, t1.limitelgrulecode, t1.finschcalcodeonrvw, 
		t1.alwplandeferment, t1.plandefercount, t1.finassettype, t1.pftpayactype, t1.finisopenpftpayacc, t31.actypedesc lovdescpftpayactypename, 
		t1.finisalwgrcrepay, t1.fingrcschdmthd, t1.fingrcmargin, t1.finmargin, t1.finscheduleon, t1.fingrcscheduleon, t1.fincommitmentreq, 
		t1.fincollateralreq, t1.findepreciationreq, t1.findepreciationfrq, t1.finbankcontingentactype, t1.finprovisionactype, t38.actypedesc 
		lovdescfinbankcontactypename, t39.actypedesc lovdescfinprovisionactypename, t1.allowriainvestment, t1.overridelimit, t1.limitrequired, 
		t1.fincommitmentovrride, t1.fincollateralovrride, t1.finpftunchanged, t1.applyodpenalty, t1.odincgrcdays, t1.odchargetype, 
		t1.odgracedays, t1.odchargecalon, t1.odchargeamtorperc, t1.odallowwaiver, t1.odmaxwaiverperc, t1.findivision, t48.divisioncodedesc 
		lovdescfindivisionname, t48.entitycode lovdescentitycode, t1.finsuspactype, t49.actypedesc lovdescfinsuspactypename, t1.product, 
		t1.startdate, t1.enddate, t1.allowdownpaypgm, t1.fintypedesc lovdescpromofintypedesc, t1.remarks, t1.alwearlypaymethods, 
		t1.pastduepftcalmthd, t1.pastduepftmargin, t1.alwadvancerent, t1.grcadvbaserate, t1.grcadvmargin, t1.grcadvpftrate, t1.rpyadvbaserate, 
		t1.rpyadvmargin, t1.rpyadvpftrate, t1.rolloverfinance, t1.rolloverfrq, t1.downpayrule, t59.rulecode downpayrulecode, t59.rulecodedesc 
		downpayruledesc, t1.finsusptrigger, t1.finsuspremarks, t1.alwmultipartydisb, t1.collateraltype, t1.TDSapplicable, t1.manualschedule, 
		t1.applygrcpricing, t1.grcpricingmethod, t1.applyrpypricing, t1.rpypricingmethod, t1.rpyhierarchy, t67.rulecode grcpricingmethoddesc, 
		t68.rulecode rpypricingmethoddesc, t1.droplineod, t1.droppingmethod, t1.ratechganyday, t1.finrepaypftonfrq, t1.alwbpi, t1.bpitreatment, 
		t1.pftdueschon, t1.planemihalw, t1.planemihmethod, t1.planemihmaxperyear, t1.planemihmax, t1.planemihlockperiod, t1.planemicpz, 
		t1.unplanemihlockperiod, t1.unplanemicpz, t1.reagecpz, t1.fddlockperiod, t1.alwdrpymethods, t1.maxunplannedemi, t1.maxreageholidays, 
		t1.roundingmode, t1.roundingtarget, t1.frequencydays, t1.quickdisb, t1.alwmaxdisbcheckreq, t1.alwreage, t1.alwunplanemiholiday, 
		t1.profitcenterid, t69.profitcentercode, t69.profitcenterdesc, t1.productcategory, t2.productdesc fincategorydesc, t1.developerfinance, 
		t1.costoffunds, t1.chequecapturereq, t1.finltvcheck, t1.partiallysecured, t1.alwadvemi, t1.advemiminterms, t1.advemimaxterms, 
		t1.advemidftterms, t1.advemischdmthd, t1.bpipftdaysbasis, t1.eligibilitymethods, t1.alwhybridrate, t1.fixedratetenor, t1.odmincapamount, 
		t1.odrulecode, t1.alwzerointacc, t1.autorejectiondays, t1.taxnomand, t1.putcallrequired, t1.grcadvintersetreq, t1.grcadvtype, 
		t1.grcadvminterms, t1.grcadvmaxterms, t1.grcadvdefaultterms, t1.advintersetreq, t1.advtype, t1.advminterms, t1.advmaxterms, 
		t1.advdefaultterms, t1.advstage, t1.dsfreq, t1.cashcollateralreq, t1.TDSAllowToModify, t1.TDSApplicableTo FROM rmtfinancetypes_temp 
		t1 LEFT JOIN bmtproduct t2 ON t1.fincategory = t2.productcode LEFT JOIN rmtaccounttypes t4 ON t1.fincontingentactype = t4.actype 
		LEFT JOIN rmtaccounttypes t38 ON t1.finbankcontingentactype = t38.actype LEFT JOIN rmtaccounttypes t39 ON t1.finprovisionactype 
		= t39.actype LEFT JOIN rmtaccounttypes t5 ON t1.finactype = t5.actype LEFT JOIN rmtaccounttypes t31 ON t1.pftpayactype = 
		t31.actype LEFT JOIN smtdivisiondetail t48 ON t1.findivision = t48.divisioncode LEFT JOIN rmtaccounttypes t49 ON t1.finsuspactype 
		= t49.actype LEFT JOIN rules t59 ON t1.downpayrule = t59.ruleid LEFT JOIN rules t67 ON t1.grcpricingmethod = t67.ruleid LEFT 
		JOIN rules t68 ON t1.rpypricingmethod = t68.ruleid LEFT JOIN profitcenters t69 ON t69.profitcenterid = t1.profitcenterid 
		UNION ALL SELECT t1.fintype, t1.fincategory, t1.fintypedesc, t1.finccy, t1.findayscaltype, t1.finactype, t1.fincontingentactype, 
		t1.finisgenref, t1.finmaxamount, t1.finminamount, t1.finisopennewfinac, t1.findftstmtfrq, t1.finisalwmd, t1.finschdmthd, 
		t1.finisalwgrace, t1.finhistretension, t1.equalrepayment, t1.finratetype, t1.finbaserate, t1.finsplrate, t1.finintrate, t1.finminrate, 
		t1.finmaxrate, t1.findftintfrq, t1.finisintcpz, t1.fincpzfrq, t1.finisrvwalw, t1.finrvwfrq, t1.fingrcratetype, t1.fingrcbaserate, 
		t1.fingrcsplrate, t1.fingrcintrate, t1.fingrcminrate, t1.fingrcmaxrate, t1.fingrcdftintfrq, t1.fingrcisintcpz, t1.fingrccpzfrq, 
		t1.fingrcisrvwalw, t1.fingrcrvwfrq, t1.finminterm, t1.finmaxterm, t1.findftterms, t1.finrpyfrq, t1.finrepaymethod, t1.finisalwpartialrpy, 
		t1.finisalwdifferment, t1.finmaxdifferment, t1.finisalwearlyrpy, t1.finisalwearlysettle, t1.finodrpytries, t1.finearlypayrule, 
		t1.finearlysettlerule, t1.findepositrestrictedto, t1.finaebuyorinception, t1.finaesellormaturity, t1.finisactive, t1.version, 
		t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, 
		t1.stepfinance, t1.steppingmandatory, t1.alwmanualsteps, t1.alwdsteppolicies, t1.dftsteppolicy, t4.actypedesc lovdescfincontingentactypename, 
		t5.actypedesc lovdescfinactypename, t1.finisdwpayrequired, t1.finrvwrateapplfor, t1.finalwratechangeanydate, t1.finisintcpzatgrcend, 
		t1.finelgrulecode, t1.limitelgrulecode, t1.finschcalcodeonrvw, t1.alwplandeferment, t1.plandefercount, t1.finassettype, t1.pftpayactype, 
		t1.finisopenpftpayacc, t31.actypedesc lovdescpftpayactypename, t1.finisalwgrcrepay, t1.fingrcschdmthd, t1.fingrcmargin, t1.finmargin, 
		t1.finscheduleon, t1.fingrcscheduleon, t1.fincommitmentreq, t1.fincollateralreq, t1.findepreciationreq, t1.findepreciationfrq, 
		t1.finbankcontingentactype, t1.finprovisionactype, t38.actypedesc lovdescfinbankcontactypename, t39.actypedesc lovdescfinprovisionactypename, 
		t1.allowriainvestment, t1.overridelimit, t1.limitrequired, t1.fincommitmentovrride, t1.fincollateralovrride, t1.finpftunchanged, 
		t1.applyodpenalty, t1.odincgrcdays, t1.odchargetype, t1.odgracedays, t1.odchargecalon, t1.odchargeamtorperc, t1.odallowwaiver, 
		t1.odmaxwaiverperc, t1.findivision, t48.divisioncodedesc lovdescfindivisionname, t48.entitycode lovdescentitycode, t1.finsuspactype, 
		t49.actypedesc lovdescfinsuspactypename, t1.product, t1.startdate, t1.enddate, t1.allowdownpaypgm, t1.fintypedesc lovdescpromofintypedesc, 
		t1.remarks, t1.alwearlypaymethods, t1.pastduepftcalmthd, t1.pastduepftmargin, t1.alwadvancerent, t1.grcadvbaserate, t1.grcadvmargin, 
		t1.grcadvpftrate, t1.rpyadvbaserate, t1.rpyadvmargin, t1.rpyadvpftrate, t1.rolloverfinance, t1.rolloverfrq, t1.downpayrule, 
		t59.rulecode downpayrulecode, t59.rulecodedesc downpayruledesc, t1.finsusptrigger, t1.finsuspremarks, t1.alwmultipartydisb, 
		t1.collateraltype, t1.TDSapplicable, t1.manualschedule, t1.applygrcpricing, t1.grcpricingmethod, t1.applyrpypricing, t1.rpypricingmethod, 
		t1.rpyhierarchy, t67.rulecode grcpricingmethoddesc, t68.rulecode rpypricingmethoddesc, t1.droplineod, t1.droppingmethod, 
		t1.ratechganyday, t1.finrepaypftonfrq, t1.alwbpi, t1.bpitreatment, t1.pftdueschon, t1.planemihalw, t1.planemihmethod, t1.planemihmaxperyear, 
		t1.planemihmax, t1.planemihlockperiod, t1.planemicpz, t1.unplanemihlockperiod, t1.unplanemicpz, t1.reagecpz, t1.fddlockperiod, 
		t1.alwdrpymethods, t1.maxunplannedemi, t1.maxreageholidays, t1.roundingmode, t1.roundingtarget, t1.frequencydays, t1.quickdisb, 
		t1.alwmaxdisbcheckreq, t1.alwreage, t1.alwunplanemiholiday, t1.profitcenterid, t69.profitcentercode, t69.profitcenterdesc, 
		t1.productcategory, t2.productdesc fincategorydesc, t1.developerfinance, t1.costoffunds, t1.chequecapturereq, t1.finltvcheck, 
		t1.partiallysecured, t1.alwadvemi, t1.advemiminterms, t1.advemimaxterms, t1.advemidftterms, t1.advemischdmthd, t1.bpipftdaysbasis, 
		t1.eligibilitymethods, t1.alwhybridrate, t1.fixedratetenor, t1.odmincapamount, t1.odrulecode, t1.alwzerointacc, t1.autorejectiondays, 
		t1.taxnomand, t1.putcallrequired, t1.grcadvintersetreq, t1.grcadvtype, t1.grcadvminterms, t1.grcadvmaxterms, t1.grcadvdefaultterms, 
		t1.advintersetreq, t1.advtype, t1.advminterms, t1.advmaxterms, t1.advdefaultterms, t1.advstage, t1.dsfreq, t1.cashcollateralreq, 
		t1.TDSAllowToModify, t1.TDSApplicableTo FROM rmtfinancetypes t1 LEFT JOIN bmtproduct t2 ON t1.fincategory = t2.productcode 
		LEFT JOIN rmtaccounttypes t4 ON t1.fincontingentactype = t4.actype LEFT JOIN rmtaccounttypes t38 ON t1.finbankcontingentactype 
		= t38.actype LEFT JOIN rmtaccounttypes t39 ON t1.finprovisionactype = t39.actype LEFT JOIN rmtaccounttypes t5 ON t1.finactype 
		= t5.actype LEFT JOIN rmtaccounttypes t31 ON t1.pftpayactype = t31.actype LEFT JOIN smtdivisiondetail t48 ON t1.findivision 
		= t48.divisioncode LEFT JOIN rmtaccounttypes t49 ON t1.finsuspactype = t49.actype LEFT JOIN rules t59 ON t1.downpayrule = 
		t59.ruleid LEFT JOIN rules t67 ON t1.grcpricingmethod = t67.ruleid LEFT JOIN rules t68 ON t1.rpypricingmethod = t68.ruleid 
		LEFT JOIN profitcenters t69 ON t69.profitcenterid = t1.profitcenterid WHERE NOT (EXISTS ( SELECT 1 expr1 FROM rmtfinancetypes_temp 
		WHERE rmtfinancetypes_temp.fintype = t1.fintype)) </createView> </changeSet> <changeSet id="18" author="Saikiran.v"> <createView 
		viewName="rmtfinancetypes_orgview" replaceIfExists="true"> SELECT t1.fintype, t1.fincategory, t1.fintypedesc, t1.finccy, 
		t1.findayscaltype, t1.finactype, t1.fincontingentactype, t1.finisgenref, t1.finmaxamount, t1.finminamount, t1.finisopennewfinac, 
		t1.finisalwmd, t1.finschdmthd, t1.finisalwgrace, t1.equalrepayment, t1.finratetype, t1.finbaserate, t1.finsplrate, t1.finintrate, 
		t1.finminrate, t1.finmaxrate, t1.findftintfrq, t1.finisintcpz, t1.fincpzfrq, t1.finisrvwalw, t1.finrvwfrq, t1.fingrcratetype, 
		t1.fingrcbaserate, t1.fingrcsplrate, t1.fingrcintrate, t1.fingrcminrate, t1.fingrcmaxrate, t1.fingrcdftintfrq, t1.fingrcisintcpz, 
		t1.fingrccpzfrq, t1.fingrcisrvwalw, t1.fingrcrvwfrq, t1.finminterm, t1.finmaxterm, t1.findftterms, t1.finrpyfrq, t1.finrepaymethod, 
		t1.finisalwdifferment, t1.finmaxdifferment, t1.finisactive, t1.stepfinance, t1.steppingmandatory, t1.alwmanualsteps, t1.alwdsteppolicies, 
		t1.dftsteppolicy, t1.finisdwpayrequired, t1.finrvwrateapplfor, t1.finalwratechangeanydate, t1.finisintcpzatgrcend, t1.finschcalcodeonrvw, 
		t1.alwplandeferment, t1.plandefercount, t1.pftpayactype, t1.finisopenpftpayacc, t1.finisalwgrcrepay, t1.fingrcschdmthd, t1.fingrcmargin, 
		t1.finmargin, t1.fincommitmentreq, t1.fincollateralreq, t1.findepreciationreq, t1.findepreciationfrq, t1.finbankcontingentactype, 
		t1.finprovisionactype, t1.allowriainvestment, t1.overridelimit, t1.limitrequired, t1.fincommitmentovrride, t1.fincollateralovrride, 
		t1.finrepaypftonfrq, t1.finpftunchanged, t1.applyodpenalty, t1.odincgrcdays, t1.odchargetype, t1.odgracedays, t1.odchargecalon, 
		t1.odchargeamtorperc, t1.odallowwaiver, t1.odmaxwaiverperc, t1.findivision, t3.divisioncodedesc lovdescfindivisionname, t1.finsuspactype, 
		t1.product, t1.startdate, t1.enddate, t1.allowdownpaypgm, t1.fintypedesc lovdescpromofintypedesc, t1.remarks, t4.policydesc 
		lovdescdftsteppolicyname, t1.pastduepftcalmthd, t1.pastduepftmargin, t1.alwadvancerent, t1.grcadvbaserate, t1.grcadvmargin, 
		t1.grcadvpftrate, t1.rpyadvbaserate, t1.rpyadvmargin, t1.rpyadvpftrate, t1.rolloverfinance, t1.rolloverfrq, t1.downpayrule, 
		t1.alwmultipartydisb, t1.collateraltype, t1.TDSapplicable, t5.rulecode downpayrulecode, t5.rulecodedesc downpayruledesc, 
		t1.applygrcpricing, t1.applyrpypricing, t6.rulecode AS grcpricingmethoddesc, t7.rulecode AS rpypricingmethoddesc, t1.droplineod, 
		t1.droppingmethod, t1.ratechganyday, t4.steptype AS dftsteppolicytype, t1.manualschedule, t1.alwbpi, t1.bpitreatment, t1.pftdueschon, 
		t1.planemihalw, t1.planemihmethod, t1.planemihmaxperyear, t1.planemihmax, t1.planemihlockperiod, t1.planemicpz, t1.unplanemihlockperiod, 
		t1.unplanemicpz, t1.reagecpz, t1.fddlockperiod, t1.alwdrpymethods, t1.maxunplannedemi, t1.maxreageholidays, t1.roundingmode, 
		t1.roundingtarget, t1.frequencydays, t1.quickdisb, t1.alwreage, t1.alwunplanemiholiday, t1.alwmaxdisbcheckreq, t1.productcategory, 
		t1.rpyhierarchy, t1.developerfinance, t3.entitycode AS lovdescentitycode, t8.entitydesc AS lovdescentitydesc, t1.costoffunds, 
		t1.chequecapturereq, t1.finltvcheck, t1.partiallysecured, t1.alwadvemi, t1.advemiminterms, t1.advemimaxterms, t1.advemidftterms, 
		t1.advemischdmthd, t1.bpipftdaysbasis, t1.eligibilitymethods, t1.alwhybridrate, t1.fixedratetenor, t1.odmincapamount, t1.odrulecode, 
		t1.alwzerointacc, t1.finisalwpartialrpy, t1.autorejectiondays, t1.taxnomand, t1.putcallrequired, t1.grcadvintersetreq, t1.grcadvtype, 
		t1.grcadvminterms, t1.grcadvmaxterms, t1.grcadvdefaultterms, t1.advintersetreq, t1.advtype, t1.advminterms, t1.advmaxterms, 
		t1.advdefaultterms, t1.advstage, t1.dsfreq, t1.cashcollateralreq, t1.alwearlypaymethods, t1.TDSAllowToModify, t1.TDSApplicableTo 
		FROM rmtfinancetypes t1 JOIN smtdivisiondetail t3 ON t1.findivision = t3.divisioncode LEFT JOIN steppolicyheader t4 ON t1.dftsteppolicy 
		= t4.policycode LEFT JOIN rules t5 ON t1.downpayrule = t5.ruleid LEFT JOIN rules t6 ON t1.grcpricingmethod = t6.ruleid LEFT 
		JOIN rules t7 ON t1.rpypricingmethod = t7.ruleid LEFT JOIN entity t8 ON t3.entitycode = t8.entitycode </createView> </changeSet> 
		<changeSet id="16_post" author="ADARSH" dbms="postgresql"> <sql> <![CDATA[ select deps_restore_dependencies ('plf', 'rmtfinancetypes_aview'); 
		select deps_restore_dependencies ('plf', 'rmtfinancetypes_view'); select deps_restore_dependencies ('plf', 'rmtfinancetypesorg_view'); 
		]]> </sql> </changeSet> <changeSet id="19" author="Saikiran.v"> <addColumn tableName="Financemain_temp"> <column name="TDSPercentage" 
		type="decimal(18,2)" /> <column name="TDSStartDate" type="datetime" /> <column name="TDSEndDate" type="datetime" /> <column 
		name="TDSLimitAmt" type="decimal(18,2)" /> </addColumn> </changeSet> <changeSet id="20" author="Saikiran.v"> <addColumn tableName="Financemain"> 
		<column name="TDSPercentage" type="decimal(18,2)" /> <column name="TDSStartDate" type="datetime" /> <column name="TDSEndDate" 
		type="datetime" /> <column name="TDSLimitAmt" type="decimal(18,2)" /> </addColumn> </changeSet> <changeSet id="21" author="Saikiran.v"> 
		<createView viewName="financemain_tview" replaceIfExists="true"> SELECT t1.finreference, t1.investmentref, t1.numberofterms, 
		t1.grcperiodenddate, t1.allowgrcperiod, t1.gracebaserate, t1.gracespecialrate, t1.grcpftrate, t1.grcpftfrq, t1.nextgrcpftdate, 
		t1.allowgrcpftrvw, t1.grcpftrvwfrq, t1.nextgrcpftrvwdate, t1.allowgrccpz, t1.grccpzfrq, t1.nextgrccpzdate, t1.repaybaserate, 
		t1.repayspecialrate, t1.repayprofitrate, t1.repayfrq, t1.nextrepaydate, t1.repaypftfrq, t1.nextrepaypftdate, t1.allowrepayrvw, 
		t1.repayrvwfrq, t1.nextrepayrvwdate, t1.allowrepaycpz, t1.repaycpzfrq, t1.nextrepaycpzdate, t1.maturitydate, t1.cpzatgraceend, 
		t1.downpayment, t1.graceflatamount, t1.reqrepayamount, t1.totalprofit, t1.totalcpz, t1.totalgrosspft, t1.totalgrossgrcpft, 
		t1.totalgracepft, t1.totalgracecpz, t1.grcratebasis, t1.repayratebasis, t1.fintype, t1.finremarks, t1.finccy, t1.schedulemethod, 
		t1.profitdaysbasis, t1.reqmaturity, t1.calterms, t1.calmaturity, t1.firstrepay, t1.lastrepay, t1.finstartdate, t1.finamount, 
		t1.finamount + t1.feechargeamt - t1.downpayment lovdescfinancingamount, t1.finrepaymentamount, t1.custid, t1.defferments, 
		t1.plandefercount, t1.finbranch, t1.finsourceid, t1.alloweddefrpychange, t1.availeddefrpychange, t1.alloweddeffrqchange, 
		t1.availeddeffrqchange, t1.recaltype, t1.finassetvalue, t1.disbaccountid, t1.repayaccountid, t1.finisactive, t1.limitvalid, 
		t1.overridelimit, t1.securitydeposit, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, 
		t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, t7.fintypedesc lovdescfintypename, t7.finmaxamount lovdescfinmaxamt, 
		t7.finminamount lovdescfinminamount, t1.mindownpayperc, t7.finisalwdifferment lovdescfinalwdeferment, t7.finisdwpayrequired 
		lovdescdwnpayreq, t7.finmaxdifferment lovdescfinmaxdifferment, t12.branchdesc lovdescfinbranchname, t12.branchprovince finbranchprovincecode, 
		t1.lastrepaydate, t1.lastrepaypftdate, t1.lastrepayrvwdate, t1.lastrepaycpzdate, t1.allowgrcrepay, t1.grcschdmthd, t1.grcmargin, 
		t1.repaymargin, t1.fincurrassetvalue, t1.fincommitmentref, t1.finlimitref, t1.depreciationfrq, t1.fincontractdate, t1.nextdepdate, 
		t1.lastdepdate, t1.finaccount, t1.fincustpftaccount, t17.acrtilllbd lovdescaccruedtilllbd, t7.finrvwrateapplfor, t1.totalrepayamt, 
		t1.closingstatus, t1.finapproveddate, t1.feechargeamt, t1.blacklisted, t1.finrepaypftonfrq, t1.anualizedpercrate, t1.effectiverateofreturn, 
		t1.migratedfinance, t1.schedulemaintained, t1.scheduleregenerated, t1.finpurpose, t39.loanpurposedesc lovdescfinpurposename, 
		t1.finstatus, t1.finstsreason, t1.initiateuser, t1.bankname, t1.iban, t1.accounttype, t1.ddareferenceno, t7.finscheduleon 
		lovdescfinscheduleon, t1.cusTDSr, t1.jointaccount, t1.jointcustid, t1.downpaybank, t1.downpaysupl, t1.downpayaccount, t1.securitycollateral, 
		t1.approved, t1.discrepancy, t1.limitapproved, t1.graceterms, t7.findivision lovdescfindivision, t1.rcdmaintainsts, t1.finrepaymethod, 
		t1.grcprofitdaysbasis, t1.stepfinance, t1.steptype, t1.steppolicy, t1.alwmanualsteps, t1.noofsteps, t1.linkedfinref, t1.nextuserid, 
		t1.priority, t24.policydesc lovdescsteppolicyname, t1.grcminrate, t1.grcmaxrate, t1.rpyminrate, t1.rpymaxrate, t1.deviationapproval, 
		t1.manualschedule, t1.takeoverfinance, t1.grcadvbaserate, t1.grcadvmargin, t1.grcadvpftrate, t1.rpyadvbaserate, t1.rpyadvmargin, 
		t1.rpyadvpftrate, t1.supplementrent, t1.increasedcost, t1.creditinsamt, t1.rolloverfrq, t1.nextrolloverdate, t27.custstsdescription, 
		t1.shariastatus, t1.initiatedate, t1.finpreapprovedref, t1.mmaid, t1.accountsofficer, t1.feeaccountid, t1.fincancelac, t28.dealername 
		lovdescaccountsofficer, t28.dealercity lovdescsourcecity, t1.dsacode, t30.rofficerdesc dsacodedesc, t1.TDSapplicable, t1.mandateid, 
		t1.droplinefrq, t1.firstdroplinedate, t1.pftservicingodlimit, t1.insuranceamt, t1.deductinsdisb, t1.alwbpi, t1.bpitreatment, 
		t1.planemihalw, t1.planemihmethod, t1.planemihmaxperyear, t1.planemihmax, t1.planemihlockperiod, t1.planemicpz, t1.calroundingmode, 
		t1.alwmultidisb, t1.applicationno, t1.referralid, t33.rofficerdesc referraliddesc, t1.dmacode, t34.rofficerdesc dmacodedesc, 
		t1.salesdepartment, t35.gendeptdesc salesdepartmentdesc, t1.quickdisb, t1.wifreference, t1.unplanemihlockperiod, t1.unplanemicpz, 
		t1.reagecpz, t1.maxunplannedemi, t1.maxreageholidays, t1.availedunplanemi, t1.availedreageh, t1.bpiamount, t1.deductfeedisb, 
		t1.rvwrateapplfor, t1.schcalonrvw, t1.pastduepftcalmthd, t1.pastduepftmargin, t1.droppingmethod, t1.ratechganyday, t1.promotioncode, 
		t1.restructureloan, t1.oldfinreference, t1.reagebucket, t1.fincategory, t1.productcategory, t1.roundingtarget, t36.entitycode 
		lovdescentitycode, t1.eligibilitymethod, t38.fieldcodevalue loveligibilitymethod, t38.valuedesc lovdesceligibilitymethod, 
		t1.employeename, t37.rofficerdesc employeenamedesc, t1.samplingrequired, t1.legalrequired, t1.grcmaxamount, t1.connector, 
		t40.dealername connectorcode, t40.dealercity connectordesc, t1.advanceemi, t1.advemiterms, t1.bpipftdaysbasis, t1.fixedratetenor, 
		t1.fixedtenorrate, t12.branchtel finbranchcontact, t1.processattributes, t1.businessvertical, bv.code businessverticalcode, 
		bv.description businessverticaldesc, t1.grcadvtype, t1.grcadvterms, t1.advtype, t1.advterms, t1.advstage, t1.TDSPercentage, 
		t1.TDSStartDate, t1.TDSEndDate, t1.TDSLimitAmt FROM financemain_temp t1 JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype 
		LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference 
		LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode 
		LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode 
		LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode LEFT JOIN relationshipofficers t34 ON t1.dmacode = 
		t34.rofficercode LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment LEFT JOIN smtdivisiondetail t36 
		ON t7.findivision = t36.divisioncode LEFT JOIN relationshipofficers t37 ON t1.employeename = t37.rofficercode LEFT JOIN rmtlovfielddetail 
		t38 ON t1.eligibilitymethod = t38.fieldcodeid AND t38.fieldcode = 'ELGMETHOD' LEFT JOIN loanpurposes t39 ON t1.finpurpose= 
		t39.loanpurposecode LEFT JOIN amtvehicledealer t40 ON t1.connector = t40.dealerid LEFT JOIN business_vertical bv ON bv.id 
		= t1.businessvertical </createView> </changeSet> <changeSet id="22" author="Saikiran.v"> <createView viewName="financemain_view" 
		replaceIfExists="true"> SELECT t1.finreference, t1.investmentref, t1.numberofterms, t1.grcperiodenddate, t1.allowgrcperiod, 
		t1.gracebaserate, t1.gracespecialrate, t1.grcpftrate, t1.grcpftfrq, t1.nextgrcpftdate, t1.allowgrcpftrvw, t1.grcpftrvwfrq, 
		t1.nextgrcpftrvwdate, t1.allowgrccpz, t1.grccpzfrq, t1.nextgrccpzdate, t1.repaybaserate, t1.repayspecialrate, t1.repayprofitrate, 
		t1.repayfrq, t1.nextrepaydate, t1.repaypftfrq, t1.nextrepaypftdate, t1.allowrepayrvw, t1.repayrvwfrq, t1.nextrepayrvwdate, 
		t1.allowrepaycpz, t1.repaycpzfrq, t1.nextrepaycpzdate, t1.maturitydate, t1.cpzatgraceend, t1.downpayment, t1.graceflatamount, 
		t1.reqrepayamount, t1.totalprofit, t1.totalcpz, t1.totalgrosspft, t1.totalgrossgrcpft, t1.totalgracepft, t1.totalgracecpz, 
		t1.grcratebasis, t1.repayratebasis, t1.fintype, t1.finremarks, t1.finccy, t1.schedulemethod, t1.profitdaysbasis, t1.reqmaturity, 
		t1.calterms, t1.calmaturity, t1.firstrepay, t1.lastrepay, t1.finstartdate, t1.finamount, t1.finamount + t1.feechargeamt - 
		t1.downpayment lovdescfinancingamount, t1.finrepaymentamount, t1.custid, t1.defferments, t1.plandefercount, t1.finbranch, 
		t1.finsourceid, t1.alloweddefrpychange, t1.availeddefrpychange, t1.alloweddeffrqchange, t1.availeddeffrqchange, t1.recaltype, 
		t1.finassetvalue, t1.disbaccountid, t1.repayaccountid, t1.finisactive, t1.limitvalid, t1.overridelimit, t1.securitydeposit, 
		t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, 
		t1.workflowid, t7.fintypedesc lovdescfintypename, t7.finmaxamount lovdescfinmaxamt, t7.finminamount lovdescfinminamount, 
		t1.mindownpayperc, t7.finisalwdifferment lovdescfinalwdeferment, t7.finisdwpayrequired lovdescdwnpayreq, t7.finmaxdifferment 
		lovdescfinmaxdifferment, t12.branchdesc lovdescfinbranchname, t12.branchprovince finbranchprovincecode, t1.lastrepaydate, 
		t1.lastrepaypftdate, t1.lastrepayrvwdate, t1.lastrepaycpzdate, t1.allowgrcrepay, t1.grcschdmthd, t1.grcmargin, t1.repaymargin, 
		t1.fincurrassetvalue, t1.fincommitmentref, t1.finlimitref, t1.depreciationfrq, t1.fincontractdate, t1.nextdepdate, t1.lastdepdate, 
		t1.finaccount, t1.fincustpftaccount, t17.acrtilllbd lovdescaccruedtilllbd, t7.finrvwrateapplfor, t1.totalrepayamt, t1.closingstatus, 
		t1.finapproveddate, t1.feechargeamt, t1.blacklisted, t1.finrepaypftonfrq, t1.anualizedpercrate, t1.effectiverateofreturn, 
		t1.migratedfinance, t1.schedulemaintained, t1.scheduleregenerated, t1.finpurpose, t39.loanpurposedesc lovdescfinpurposename, 
		t1.finstatus, t1.finstsreason, t1.initiateuser, t1.bankname, t1.iban, t1.accounttype, t1.ddareferenceno, t7.finscheduleon 
		lovdescfinscheduleon, t1.cusTDSr, t1.jointaccount, t1.jointcustid, t1.downpaybank, t1.downpaysupl, t1.downpayaccount, t1.securitycollateral, 
		t1.approved, t1.discrepancy, t1.limitapproved, t1.graceterms, t7.findivision lovdescfindivision, t1.rcdmaintainsts, t1.finrepaymethod, 
		t1.grcprofitdaysbasis, t1.stepfinance, t1.steptype, t1.steppolicy, t1.alwmanualsteps, t1.noofsteps, t1.linkedfinref, t1.nextuserid, 
		t1.priority, t24.policydesc lovdescsteppolicyname, t1.grcminrate, t1.grcmaxrate, t1.rpyminrate, t1.rpymaxrate, t1.deviationapproval, 
		t1.manualschedule, t1.takeoverfinance, t1.grcadvbaserate, t1.grcadvmargin, t1.grcadvpftrate, t1.rpyadvbaserate, t1.rpyadvmargin, 
		t1.rpyadvpftrate, t1.supplementrent, t1.increasedcost, t1.creditinsamt, t1.rolloverfrq, t1.nextrolloverdate, t27.custstsdescription, 
		t1.shariastatus, t1.initiatedate, t1.finpreapprovedref, t1.mmaid, t1.accountsofficer, t1.feeaccountid, t1.fincancelac, t28.dealername 
		lovdescaccountsofficer, t28.dealercity lovdescsourcecity, t1.dsacode, t30.rofficerdesc dsacodedesc, t1.TDSapplicable, t1.mandateid, 
		t1.droplinefrq, t1.firstdroplinedate, t1.pftservicingodlimit, t1.insuranceamt, t1.deductinsdisb, t1.alwbpi, t1.bpitreatment, 
		t1.planemihalw, t1.planemihmethod, t1.planemihmaxperyear, t1.planemihmax, t1.planemihlockperiod, t1.planemicpz, t1.calroundingmode, 
		t1.alwmultidisb, t1.applicationno, t1.referralid, t33.rofficerdesc referraliddesc, t1.dmacode, t34.rofficerdesc dmacodedesc, 
		t1.salesdepartment, t35.gendeptdesc salesdepartmentdesc, t1.quickdisb, t1.wifreference, t1.unplanemihlockperiod, t1.unplanemicpz, 
		t1.reagecpz, t1.maxunplannedemi, t1.maxreageholidays, t1.availedunplanemi, t1.availedreageh, t1.bpiamount, t1.deductfeedisb, 
		t1.rvwrateapplfor, t1.schcalonrvw, t1.pastduepftcalmthd, t1.pastduepftmargin, t1.droppingmethod, t1.ratechganyday, t1.promotioncode, 
		t1.restructureloan, t1.oldfinreference, t1.reagebucket, t1.fincategory, t1.productcategory, t1.roundingtarget, t36.entitycode 
		lovdescentitycode, t1.eligibilitymethod, t38.fieldcodevalue loveligibilitymethod, t38.valuedesc lovdesceligibilitymethod, 
		t1.employeename, t37.rofficerdesc employeenamedesc, t1.samplingrequired, t1.legalrequired, t1.grcmaxamount, t1.connector, 
		t40.dealername connectorcode, t40.dealercity connectordesc, t1.advanceemi, t1.advemiterms, t1.bpipftdaysbasis, t1.fixedratetenor, 
		t1.fixedtenorrate, t12.branchtel finbranchcontact, t1.processattributes, t1.businessvertical, bv.code businessverticalcode, 
		bv.description businessverticaldesc, t1.grcadvtype, t1.grcadvterms, t1.advtype, t1.advterms, t1.advstage, t1.TDSPercentage, 
		t1.TDSStartDate, t1.TDSEndDate, t1.TDSLimitAmt FROM financemain_temp t1 JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype 
		LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference 
		LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode 
		LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode 
		LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode LEFT JOIN relationshipofficers t34 ON t1.dmacode = 
		t34.rofficercode LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment LEFT JOIN smtdivisiondetail t36 
		ON t7.findivision = t36.divisioncode LEFT JOIN relationshipofficers t37 ON t1.employeename = t37.rofficercode LEFT JOIN rmtlovfielddetail 
		t38 ON t1.eligibilitymethod = t38.fieldcodeid AND t38.fieldcode = 'ELGMETHOD' LEFT JOIN loanpurposes t39 ON t1.finpurpose 
		= t39.loanpurposecode LEFT JOIN amtvehicledealer t40 ON t1.connector = t40.dealerid LEFT JOIN business_vertical bv ON bv.id 
		= t1.businessvertical UNION ALL SELECT t1.finreference, t1.investmentref, t1.numberofterms, t1.grcperiodenddate, t1.allowgrcperiod, 
		t1.gracebaserate, t1.gracespecialrate, t1.grcpftrate, t1.grcpftfrq, t1.nextgrcpftdate, t1.allowgrcpftrvw, t1.grcpftrvwfrq, 
		t1.nextgrcpftrvwdate, t1.allowgrccpz, t1.grccpzfrq, t1.nextgrccpzdate, t1.repaybaserate, t1.repayspecialrate, t1.repayprofitrate, 
		t1.repayfrq, t1.nextrepaydate, t1.repaypftfrq, t1.nextrepaypftdate, t1.allowrepayrvw, t1.repayrvwfrq, t1.nextrepayrvwdate, 
		t1.allowrepaycpz, t1.repaycpzfrq, t1.nextrepaycpzdate, t1.maturitydate, t1.cpzatgraceend, t1.downpayment, t1.graceflatamount, 
		t1.reqrepayamount, t1.totalprofit, t1.totalcpz, t1.totalgrosspft, t1.totalgrossgrcpft, t1.totalgracepft, t1.totalgracecpz, 
		t1.grcratebasis, t1.repayratebasis, t1.fintype, t1.finremarks, t1.finccy, t1.schedulemethod, t1.profitdaysbasis, t1.reqmaturity, 
		t1.calterms, t1.calmaturity, t1.firstrepay, t1.lastrepay, t1.finstartdate, t1.finamount, t1.finamount + t1.feechargeamt - 
		t1.downpayment lovdescfinancingamount, t1.finrepaymentamount, t1.custid, t1.defferments, t1.plandefercount, t1.finbranch, 
		t1.finsourceid, t1.alloweddefrpychange, t1.availeddefrpychange, t1.alloweddeffrqchange, t1.availeddeffrqchange, t1.recaltype, 
		t1.finassetvalue, t1.disbaccountid, t1.repayaccountid, t1.finisactive, t1.limitvalid, t1.overridelimit, t1.securitydeposit, 
		t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, 
		t1.workflowid, t7.fintypedesc lovdescfintypename, t7.finmaxamount lovdescfinmaxamt, t7.finminamount lovdescfinminamount, 
		t1.mindownpayperc, t7.finisalwdifferment lovdescfinalwdeferment, t7.finisdwpayrequired lovdescdwnpayreq, t7.finmaxdifferment 
		lovdescfinmaxdifferment, t12.branchdesc lovdescfinbranchname, t12.branchprovince finbranchprovincecode, t1.lastrepaydate, 
		t1.lastrepaypftdate, t1.lastrepayrvwdate, t1.lastrepaycpzdate, t1.allowgrcrepay, t1.grcschdmthd, t1.grcmargin, t1.repaymargin, 
		t1.fincurrassetvalue, t1.fincommitmentref, t1.finlimitref, t1.depreciationfrq, t1.fincontractdate, t1.nextdepdate, t1.lastdepdate, 
		t1.finaccount, t1.fincustpftaccount, t17.acrtilllbd lovdescaccruedtilllbd, t7.finrvwrateapplfor, t1.totalrepayamt, t1.closingstatus, 
		t1.finapproveddate, t1.feechargeamt, t1.blacklisted, t1.finrepaypftonfrq, t1.anualizedpercrate, t1.effectiverateofreturn, 
		t1.migratedfinance, t1.schedulemaintained, t1.scheduleregenerated, t1.finpurpose, t39.loanpurposedesc lovdescfinpurposename, 
		t1.finstatus, t1.finstsreason, t1.initiateuser, t1.bankname, t1.iban, t1.accounttype, t1.ddareferenceno, t7.finscheduleon 
		lovdescfinscheduleon, t1.cusTDSr, t1.jointaccount, t1.jointcustid, t1.downpaybank, t1.downpaysupl, t1.downpayaccount, t1.securitycollateral, 
		t1.approved, t1.discrepancy, t1.limitapproved, t1.graceterms, t7.findivision lovdescfindivision, t1.rcdmaintainsts, t1.finrepaymethod, 
		t1.grcprofitdaysbasis, t1.stepfinance, t1.steptype, t1.steppolicy, t1.alwmanualsteps, t1.noofsteps, t1.linkedfinref, t1.nextuserid, 
		t1.priority, t24.policydesc lovdescsteppolicyname, t1.grcminrate, t1.grcmaxrate, t1.rpyminrate, t1.rpymaxrate, t1.deviationapproval, 
		t1.manualschedule, t1.takeoverfinance, t1.grcadvbaserate, t1.grcadvmargin, t1.grcadvpftrate, t1.rpyadvbaserate, t1.rpyadvmargin, 
		t1.rpyadvpftrate, t1.supplementrent, t1.increasedcost, t1.creditinsamt, t1.rolloverfrq, t1.nextrolloverdate, t27.custstsdescription, 
		t1.shariastatus, t1.initiatedate, t1.finpreapprovedref, t1.mmaid, t1.accountsofficer, t1.feeaccountid, t1.fincancelac, t28.dealername 
		lovdescaccountsofficer, t28.dealercity lovdescsourcecity, t1.dsacode, t30.rofficerdesc dsacodedesc, t1.TDSapplicable, t1.mandateid, 
		t1.droplinefrq, t1.firstdroplinedate, t1.pftservicingodlimit, t1.insuranceamt, t1.deductinsdisb, t1.alwbpi, t1.bpitreatment, 
		t1.planemihalw, t1.planemihmethod, t1.planemihmaxperyear, t1.planemihmax, t1.planemihlockperiod, t1.planemicpz, t1.calroundingmode, 
		t1.alwmultidisb, t1.applicationno, t1.referralid, t33.rofficerdesc referraliddesc, t1.dmacode, t34.rofficerdesc dmacodedesc, 
		t1.salesdepartment, t35.gendeptdesc salesdepartmentdesc, t1.quickdisb, t1.wifreference, t1.unplanemihlockperiod, t1.unplanemicpz, 
		t1.reagecpz, t1.maxunplannedemi, t1.maxreageholidays, t1.availedunplanemi, t1.availedreageh, t1.bpiamount, t1.deductfeedisb, 
		t1.rvwrateapplfor, t1.schcalonrvw, t1.pastduepftcalmthd, t1.pastduepftmargin, t1.droppingmethod, t1.ratechganyday, t1.promotioncode, 
		t1.restructureloan, t1.oldfinreference, t1.reagebucket, t1.fincategory, t1.productcategory, t1.roundingtarget, t36.entitycode 
		lovdescentitycode, t1.eligibilitymethod, t38.fieldcodevalue loveligibilitymethod, t38.valuedesc lovdesceligibilitymethod, 
		t1.employeename, t37.rofficerdesc employeenamedesc, t1.samplingrequired, t1.legalrequired, t1.grcmaxamount, t1.connector, 
		t40.dealername connectorcode, t40.dealercity connectordesc, t1.advanceemi, t1.advemiterms, t1.bpipftdaysbasis, t1.fixedratetenor, 
		t1.fixedtenorrate, t12.branchtel finbranchcontact, t1.processattributes, t1.businessvertical, bv.code businessverticalcode, 
		bv.description businessverticaldesc, t1.grcadvtype, t1.grcadvterms, t1.advtype, t1.advterms, t1.advstage, t1.TDSPercentage, 
		t1.TDSStartDate, t1.TDSEndDate, t1.TDSLimitAmt FROM financemain t1 JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype LEFT 
		JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference LEFT 
		JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode 
		LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode 
		LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode LEFT JOIN relationshipofficers t34 ON t1.dmacode = 
		t34.rofficercode LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment LEFT JOIN smtdivisiondetail t36 
		ON t7.findivision = t36.divisioncode LEFT JOIN relationshipofficers t37 ON t1.employeename = t37.rofficercode LEFT JOIN rmtlovfielddetail 
		t38 ON t1.eligibilitymethod = t38.fieldcodeid AND t38.fieldcode = 'ELGMETHOD' LEFT JOIN loanpurposes t39 ON t1.finpurpose 
		= t39.loanpurposecode LEFT JOIN amtvehicledealer t40 ON t1.connector = t40.dealerid LEFT JOIN business_vertical bv ON bv.id 
		= t1.businessvertical WHERE NOT (EXISTS ( SELECT 1 FROM financemain_temp WHERE financemain_temp.finreference = t1.finreference)) 
		</createView> </changeSet> <changeSet id="23" author="Saikiran.v"> <createView viewName="financemain_aview" replaceIfExists="true"> 
		SELECT t1.finreference, t1.investmentref, t1.numberofterms, t1.grcperiodenddate, t1.allowgrcperiod, t1.gracebaserate, t1.gracespecialrate, 
		t1.grcpftrate, t1.grcpftfrq, t1.nextgrcpftdate, t1.allowgrcpftrvw, t1.grcpftrvwfrq, t1.nextgrcpftrvwdate, t1.allowgrccpz, 
		t1.grccpzfrq, t1.nextgrccpzdate, t1.repaybaserate, t1.repayspecialrate, t1.repayprofitrate, t1.repayfrq, t1.nextrepaydate, 
		t1.repaypftfrq, t1.nextrepaypftdate, t1.allowrepayrvw, t1.repayrvwfrq, t1.nextrepayrvwdate, t1.allowrepaycpz, t1.repaycpzfrq, 
		t1.nextrepaycpzdate, t1.maturitydate, t1.cpzatgraceend, t1.downpayment, t1.graceflatamount, t1.reqrepayamount, t1.totalprofit, 
		t1.totalcpz, t1.totalgrosspft, t1.totalgrossgrcpft, t1.totalgracepft, t1.totalgracecpz, t1.grcratebasis, t1.repayratebasis, 
		t1.fintype, t1.finremarks, t1.finccy, t1.schedulemethod, t1.profitdaysbasis, t1.reqmaturity, t1.calterms, t1.calmaturity, 
		t1.firstrepay, t1.lastrepay, t1.finstartdate, t1.finamount, t1.finamount + t1.feechargeamt - t1.downpayment lovdescfinancingamount, 
		t1.finrepaymentamount, t1.custid, t1.defferments, t1.plandefercount, t1.finbranch, t1.finsourceid, t1.alloweddefrpychange, 
		t1.availeddefrpychange, t1.alloweddeffrqchange, t1.availeddeffrqchange, t1.recaltype, t1.finassetvalue, t1.disbaccountid, 
		t1.repayaccountid, t1.finisactive, t1.limitvalid, t1.overridelimit, t1.securitydeposit, t1.version, t1.lastmntby, t1.lastmnton, 
		t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, t7.fintypedesc lovdescfintypename, 
		t7.finmaxamount lovdescfinmaxamt, t7.finminamount lovdescfinminamount, t1.mindownpayperc, t7.finisalwdifferment lovdescfinalwdeferment, 
		t7.finisdwpayrequired lovdescdwnpayreq, t7.finmaxdifferment lovdescfinmaxdifferment, t12.branchdesc lovdescfinbranchname, 
		t12.branchprovince finbranchprovincecode, t1.lastrepaydate, t1.lastrepaypftdate, t1.lastrepayrvwdate, t1.lastrepaycpzdate, 
		t1.allowgrcrepay, t1.grcschdmthd, t1.grcmargin, t1.repaymargin, t1.fincurrassetvalue, t1.fincommitmentref, t1.finlimitref, 
		t1.depreciationfrq, t1.fincontractdate, t1.nextdepdate, t1.lastdepdate, t1.finaccount, t1.fincustpftaccount, t17.acrtilllbd 
		lovdescaccruedtilllbd, t7.finrvwrateapplfor, t1.totalrepayamt, t1.closingstatus, t1.finapproveddate, t1.feechargeamt, t1.blacklisted, 
		t1.finrepaypftonfrq, t1.anualizedpercrate, t1.effectiverateofreturn, t1.migratedfinance, t1.schedulemaintained, t1.scheduleregenerated, 
		t1.finpurpose, t39.loanpurposedesc lovdescfinpurposename, t1.finstatus, t1.finstsreason, t1.initiateuser, t1.bankname, t1.iban, 
		t1.accounttype, t1.ddareferenceno, t7.finscheduleon lovdescfinscheduleon, t1.cusTDSr, t1.jointaccount, t1.jointcustid, t1.downpaybank, 
		t1.downpaysupl, t1.downpayaccount, t1.securitycollateral, t1.approved, t1.discrepancy, t1.limitapproved, t1.graceterms, t7.findivision 
		lovdescfindivision, t1.rcdmaintainsts, t1.finrepaymethod, t1.grcprofitdaysbasis, t1.stepfinance, t1.steptype, t1.steppolicy, 
		t1.alwmanualsteps, t1.noofsteps, t1.linkedfinref, t1.nextuserid, t1.priority, t24.policydesc lovdescsteppolicyname, t1.grcminrate, 
		t1.grcmaxrate, t1.rpyminrate, t1.rpymaxrate, t1.deviationapproval, t1.manualschedule, t1.takeoverfinance, t1.grcadvbaserate, 
		t1.grcadvmargin, t1.grcadvpftrate, t1.rpyadvbaserate, t1.rpyadvmargin, t1.rpyadvpftrate, t1.supplementrent, t1.increasedcost, 
		t1.creditinsamt, t1.rolloverfrq, t1.nextrolloverdate, t27.custstsdescription, t1.shariastatus, t1.initiatedate, t1.finpreapprovedref, 
		t1.mmaid, t1.accountsofficer, t1.feeaccountid, t1.fincancelac, t28.dealername lovdescaccountsofficer, t28.dealercity lovdescsourcecity, 
		t1.dsacode, t30.rofficerdesc dsacodedesc, t1.TDSapplicable, t1.mandateid, t1.droplinefrq, t1.firstdroplinedate, t1.pftservicingodlimit, 
		t1.insuranceamt, t1.deductinsdisb, t1.alwbpi, t1.bpitreatment, t1.planemihalw, t1.planemihmethod, t1.planemihmaxperyear, 
		t1.planemihmax, t1.planemihlockperiod, t1.planemicpz, t1.calroundingmode, t1.alwmultidisb, t1.applicationno, t1.referralid, 
		t33.rofficerdesc referraliddesc, t1.dmacode, t34.rofficerdesc dmacodedesc, t1.salesdepartment, t35.gendeptdesc salesdepartmentdesc, 
		t1.quickdisb, t1.wifreference, t1.unplanemihlockperiod, t1.unplanemicpz, t1.reagecpz, t1.maxunplannedemi, t1.maxreageholidays, 
		t1.availedunplanemi, t1.availedreageh, t1.bpiamount, t1.deductfeedisb, t1.rvwrateapplfor, t1.schcalonrvw, t1.pastduepftcalmthd, 
		t1.pastduepftmargin, t1.droppingmethod, t1.ratechganyday, t1.promotioncode, t1.restructureloan, t1.oldfinreference, t1.reagebucket, 
		t1.fincategory, t1.productcategory, t1.roundingtarget, t36.entitycode lovdescentitycode, t1.eligibilitymethod, t38.fieldcodevalue 
		loveligibilitymethod, t38.valuedesc lovdesceligibilitymethod, t1.employeename, t37.rofficerdesc employeenamedesc, t1.samplingrequired, 
		t1.legalrequired, t1.grcmaxamount, t1.connector, t40.dealername connectorcode, t40.dealercity connectordesc, t1.advanceemi, 
		t1.advemiterms, t1.bpipftdaysbasis, t1.fixedratetenor, t1.fixedtenorrate, t12.branchtel finbranchcontact, t1.processattributes, 
		t1.businessvertical, bv.code businessverticalcode, bv.description businessverticaldesc, t1.grcadvtype, t1.grcadvterms, t1.advtype, 
		t1.advterms, t1.advstage, t1.TDSPercentage, t1.TDSStartDate, t1.TDSEndDate, t1.TDSLimitAmt FROM financemain t1 JOIN rmtfinancetypes 
		t7 ON t1.fintype = t7.fintype LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode LEFT JOIN finpftdetails t17 ON t17.finreference 
		= t1.finreference LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus 
		= t27.custstscode LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid LEFT JOIN relationshipofficers t30 
		ON t1.dsacode = t30.rofficercode LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode LEFT JOIN relationshipofficers 
		t34 ON t1.dmacode = t34.rofficercode LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment LEFT JOIN 
		smtdivisiondetail t36 ON t7.findivision = t36.divisioncode LEFT JOIN relationshipofficers t37 ON t1.employeename = t37.rofficercode 
		LEFT JOIN rmtlovfielddetail t38 ON t1.eligibilitymethod = t38.fieldcodeid AND t38.fieldcode = 'ELGMETHOD' LEFT JOIN loanpurposes 
		t39 ON t1.finpurpose = t39.loanpurposecode LEFT JOIN amtvehicledealer t40 ON t1.connector = t40.dealerid LEFT JOIN business_vertical 
		bv ON bv.id = t1.businessvertical </createView> </changeSet> <changeSet id="24" author="Saikiran.v"> <sql> <![CDATA[ UPDATE 
		SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS); UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) 
		FROM SECGROUPRIGHTS); INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'FinanceMainDialog_TDSPercentage','FinanceMainDialog', 
		0, 1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECGROUPRIGHTS VALUES((SELECT 
		MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='BFSD_ORIGINATION_MAKER'),(SELECT RIGHTID 
		FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_TDSPercentage'), 1, 0, 1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'FinanceMainDialog_TDSStartDate','FinanceMainDialog', 
		0, 1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECGROUPRIGHTS VALUES((SELECT 
		MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='BFSD_ORIGINATION_MAKER'),(SELECT RIGHTID 
		FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_TDSStartDate'),1, 0, 1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'FinanceMainDialog_TDSEndDate','FinanceMainDialog', 
		0, 1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECGROUPRIGHTS VALUES((SELECT 
		MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='BFSD_ORIGINATION_MAKER'),(SELECT RIGHTID 
		FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_TDSEndDate'), 1, 0, 1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'FinanceMainDialog_Amt','FinanceMainDialog', 0, 1000,CURRENT_TIMESTAMP,'',' 
		',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),(SELECT 
		GRPID FROM SECGROUPS WHERE GRPCODE='BFSD_ORIGINATION_MAKER'),(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_Amt'), 
		1, 0, 1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS); 
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); ]]> </sql> </changeSet> <changeSet id="25" 
		author="Saikiran.v"> <sql> <![CDATA[ INSERT INTO SMTPARAMETERS VALUES ('ALLOW_LOWER_TAX_DED_REQ', 'Lower Tax Deduction required 
		or not', 'String', 0, 'N', 1, 0, NULL, NULL,'Lower Tax Deduction required or not', 1, 1000, CURRENT_TIMESTAMP,'Approved', 
		NULL, NULL, NULL, NULL, NULL, 0); ]]> </sql> </changeSet> <changeSet id="26" author="Varaprasad.K"> <addColumn tableName="FinMaintainInstructions"> 
		<column name="TDSApplicable" type="boolean" /> <column name="TDSPercentage" type="decimal(5, 2)" /> <column name="TDSStartDate" 
		type="datetime" /> <column name="TDSEndDate" type="datetime" /> </addColumn> </changeSet> <changeSet id="27" author="Varaprasad.K"> 
		<addColumn tableName="FinMaintainInstructions_Temp"> <column name="TDSApplicable" type="boolean" /> <column name="TDSPercentage" 
		type="decimal(5, 2)" /> <column name="TDSStartDate" type="datetime" /> <column name="TDSEndDate" type="datetime" /> </addColumn> 
		</changeSet> <changeSet id="28" author="Varaprasad.K"> <sql> <![CDATA[ UPDATE FinMaintainInstructions Set TDSApplicable = 
		0; UPDATE FinMaintainInstructions_temp Set TDSApplicable = 0; ]]> </sql> </changeSet> <changeSet id="28.1" author="Varaprasad.K" 
		dbms="mssql"> <sql> <![CDATA[ ALTER TABLE FINMAINTAININSTRUCTIONS ADD CONSTRAINT DF_FINMAINTAININSTRUCTIONS_TDSAPPLICABLE 
		DEFAULT 0 FOR TDSAPPLICABLE; ALTER TABLE FINMAINTAININSTRUCTIONS_TEMP ADD CONSTRAINT DF_FINMAINTAININSTRUCTIONS_TEMP_TDSAPPLICABLE 
		DEFAULT 0 FOR TDSAPPLICABLE; ]]> </sql> </changeSet> <changeSet id="28.1" author="Varaprasad.K" dbms="postgresql, oracle"> 
		<addDefaultValue columnName="TDSApplicable" tableName="FinMaintainInstructions" defaultValue="0" /> <addDefaultValue columnName="TDSApplicable" 
		tableName="FinMaintainInstructions_Temp" defaultValue="0" /> </changeSet> <changeSet id="29" author="Varaprasad.K"> <addNotNullConstraint 
		tableName="FinMaintainInstructions" columnName="TDSApplicable" columnDataType="boolean" /> <addNotNullConstraint tableName="FinMaintainInstructions_Temp" 
		columnName="TDSApplicable" columnDataType="boolean" /> </changeSet> <changeSet id="30" author="Varaprasad.K"> <sql> <![CDATA[ 
		Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights); Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) 
		+ 1 from SecGroupRights); INSERT INTO SecGroups SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ChangeTDS_MAKER', 'Maker for 
		Changes TDS', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0; INSERT INTO SecGroups 
		SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ChangeTDS_APPROVER', 'Approver for Changes TDS', 0,1000,CURRENT_TIMESTAMP,'Approved',' 
		',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 
		'ChangeTDSDialog_TDSPercentage', 'ChangeTDSDialog',1,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 
		0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'ChangeTDSDialog_TDSStartDate', 'ChangeTDSDialog',1,1000,CURRENT_TIMESTAMP,'',' 
		',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 
		'ChangeTDSDialog_TDSEndDate', 'ChangeTDSDialog',1,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 
		0=0; INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),0,'menuItem_FinanceManagement_ChangeTDSApplicable','MENU',0,1000,CURRENT_TIMESTAMP,'Approved',' 
		',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0; INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), 
		(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='ChangeTDS_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ChangeTDSDialog_TDSPercentage'), 
		1, 0, 1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM 
		SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='ChangeTDS_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ChangeTDSDialog_TDSStartDate'), 
		1, 0, 1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM 
		SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='ChangeTDS_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ChangeTDSDialog_TDSEndDate'), 
		1, 0, 1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM 
		SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='ChangeTDS_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_ChangeTDSApplicable'), 
		1, 0, 10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0; INSERT INTO SecGroupRights 
		SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='ChangeTDS_APPROVER'), 
		(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_ChangeTDSApplicable'), 1, 0, 10000,CURRENT_TIMESTAMP,'Approved',' 
		',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0; Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights); 
		Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights); ]]> </sql> </changeSet> <changeSet 
		id="31" author="Varaprasad.K"> <comment>Loan Managment new menu item Change TDS Changes</comment> <createView viewName="FINMAINTAININSTRUCTIONS_VIEW" 
		replaceIfExists="true"> SELECT t1.finmaintainid, t1.finreference, t1.event, t1.TDSApplicable, t1.TDSPercentage, t1.TDSStartDate, 
		t1.TDSEndDate, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, 
		t1.recordtype, t1.workflowid FROM finmaintaininstructions_temp t1 UNION ALL SELECT t1.finmaintainid, t1.finreference, t1.event, 
		t1.TDSApplicable, t1.TDSPercentage, t1.TDSStartDate, t1.TDSEndDate, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, 
		t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid FROM finmaintaininstructions t1 WHERE 
		NOT (EXISTS ( SELECT 1 FROM finmaintaininstructions_temp WHERE finmaintaininstructions_temp.finmaintainid = t1.finmaintainid)) 
		</createView> </changeSet> <changeSet id="32" author="Varaprasad.K"> <comment>Loan Managment new menu item Change TDS Changes</comment> 
		<createView viewName="FINMAINTAININSTRUCTIONS_AVIEW" replaceIfExists="true"> SELECT t1.finmaintainid, t1.finreference, t1.event, 
		t1.TDSApplicable, t1.TDSPercentage, t1.TDSStartDate, t1.TDSEndDate, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, 
		t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid FROM finmaintaininstructions t1 </createView> 
		</changeSet> <changeSet id="33" author="Varaprasad.K"> <comment>Loan Managment new menu item Change TDS Changes</comment> 
		<createView viewName="FINMAINTAININSTRUCTIONS_TVIEW" replaceIfExists="true"> SELECT t1.finmaintainid, t1.finreference, t1.event, 
		t1.TDSApplicable, t1.TDSPercentage, t1.TDSStartDate, t1.TDSEndDate, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, 
		t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid FROM FinMaintainInstructions_Temp t1 
		</createView> </changeSet> <changeSet id="42" author="Varaprasad.K"> <sql> <![CDATA[ update SecRights set rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null,recordtype=null 
		where rightname='ChangeTDSDialog_TDSPercentage'; update SecRights set rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null,recordtype=null 
		where rightname='ChangeTDSDialog_TDSStartDate'; update SecRights set rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null,recordtype=null 
		where rightname='ChangeTDSDialog_TDSEndDate'; update SecRights set rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null,recordtype=null 
		where rightname='menuItem_FinanceManagement_ChangeTDSApplicable'; update secgroups set rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null 
		where grpcode='ChangeTDS_MAKER'; update secgroups set rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null where grpcode='ChangeTDS_APPROVER'; 
		update SECGROUPRIGHTS set recordstatus=null,rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null,recordtype=null where 
		rightid=(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ChangeTDSDialog_TDSPercentage'); update SECGROUPRIGHTS set recordstatus=null,rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null,recordtype=null 
		where rightid=(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ChangeTDSDialog_TDSStartDate'); update SECGROUPRIGHTS set recordstatus=null,rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null,recordtype=null 
		where rightid=(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ChangeTDSDialog_TDSEndDate'); update SECGROUPRIGHTS set recordstatus=null,rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null,recordtype=null 
		where grpid=(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='ChangeTDS_MAKER'); update SECGROUPRIGHTS set recordstatus=null,rolecode=null,nextrolecode=null,taskid=null,nexttaskid=null,recordtype=null 
		where grpid=(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='ChangeTDS_APPROVER'); INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 
		FROM SECRIGHTS),2,'button_FinChangeTDSDialog_btnNew','ChangeTDSDialog',0,1000,CURRENT_TIMESTAMP,'Approved','NULL','NULL','NULL','NULL','NULL',0 
		FROM SeqSecRights WHERE 0=0; INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_FinChangeTDSDialog_btnEdit','ChangeTDSDialog',0,1000,CURRENT_TIMESTAMP,'Approved','NULL','NULL','NULL','NULL 
		','NULL',0 FROM SeqSecRights WHERE 0=0; INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_FinChangeTDSDialog_btnDelete','ChangeTDSDialog',0,1000,CURRENT_TIMESTAMP,'Approved','NULL','NULL','NULL','NULL','NULL',0 
		FROM SeqSecRights WHERE 0=0; INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_FinChangeTDSDialog_btnSave','ChangeTDSDialog',0,1000,CURRENT_TIMESTAMP,'Approved','NULL','NULL','NULL','NULL 
		','NULL',0 FROM SeqSecRights WHERE 0=0; ]]> </sql> </changeSet> <changeSet id="44" author="Ganesh.p"> <sql> <![CDATA[ Update 
		DATA_ENGINE_TABLE SET KeyFields='JOB_ID',Filter='JOB_ID = :JOB_ID' WHERE ID =(Select ID from DATA_ENGINE_TABLE where ConfigId 
		=(Select ID from DATA_ENGINE_CONFIG where NAME = 'PRESENTMENT_REQUEST')); ]]> </sql> </changeSet> <changeSet id="45" author="Varaprasad.K"> 
		<sql> <![CDATA[ INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'button_FinChangeTDSDialog_tDSApplicable', 
		'ChangeTDSDialog',1,1000,CURRENT_TIMESTAMP,'NULL','NULL','NULL','NULL','NULL','NULL',0 FROM SEQSECRIGHTS WHERE 0=0; INSERT 
		INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='ChangeTDS_MAKER') 
		,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinChangeTDSDialog_tDSApplicable'), 1, 0, 1000,CURRENT_TIMESTAMP,'NULL','NULL','NULL','NULL','NULL','NULL',0); 
		]]> </sql> </changeSet> <changeSet id="46.0" author="Varaprasad.K"> <addColumn tableName="finmaintaininstructions"> <column 
		name="TdsLimit" type="decimal(18,2)" /> </addColumn> </changeSet> <changeSet id="46.1" author="Varaprasad.K"> <addColumn 
		tableName="finmaintaininstructions_temp"> <column name="TdsLimit" type="decimal(18,2)" /> </addColumn> </changeSet> <changeSet 
		id="46_pre" author="Sai" dbms="postgresql"> <sql> <![CDATA[ select deps_save_and_drop_dependencies ('plf', 'finmaintaininstructions'); 
		select deps_save_and_drop_dependencies ('plf', 'finmaintaininstructions_temp'); ]]> </sql> </changeSet> <changeSet id="46" 
		author="Varaprasad.K"> <comment>Added new parameter TdsLimit</comment> <createView viewName="FINMAINTAININSTRUCTIONS_VIEW" 
		replaceIfExists="true"> SELECT t1.finmaintainid, t1.finreference, t1.event, t1.TDSApplicable, t1.TDSPercentage, t1.TDSStartDate, 
		t1.TDSEndDate, t1.TdsLimit, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, 
		t1.nexttaskid, t1.recordtype, t1.workflowid FROM finmaintaininstructions_temp t1 UNION ALL SELECT t1.finmaintainid, t1.finreference, 
		t1.event, t1.TDSApplicable, t1.TDSPercentage, t1.TDSStartDate, t1.TDSEndDate, t1.TdsLimit, t1.version, t1.lastmntby, t1.lastmnton, 
		t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid FROM finmaintaininstructions 
		t1 WHERE NOT (EXISTS ( SELECT 1 FROM finmaintaininstructions_temp WHERE finmaintaininstructions_temp.finmaintainid = t1.finmaintainid)) 
		</createView> </changeSet> <changeSet id="47" author="Varaprasad.K"> <comment>Added new parameter TdsLimit</comment> <createView 
		viewName="FINMAINTAININSTRUCTIONS_AVIEW" replaceIfExists="true"> SELECT t1.finmaintainid, t1.finreference, t1.event, t1.TDSApplicable, 
		t1.TDSPercentage, t1.TDSStartDate, t1.TDSEndDate, t1.TdsLimit, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, 
		t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid FROM finmaintaininstructions t1 </createView> </changeSet> 
		<changeSet id="48" author="Varaprasad.K"> <comment>Added new parameter TdsLimit</comment> <createView viewName="FINMAINTAININSTRUCTIONS_TVIEW" 
		replaceIfExists="true"> SELECT t1.finmaintainid, t1.finreference, t1.event, t1.TDSApplicable, t1.TDSPercentage, t1.TDSStartDate, 
		t1.TDSEndDate, t1.TdsLimit, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, 
		t1.nexttaskid, t1.recordtype, t1.workflowid FROM FinMaintainInstructions_Temp t1 </createView> </changeSet> <changeSet id="46_post" 
		author="Sai" dbms="postgresql"> <sql> <![CDATA[ select deps_restore_dependencies ('plf', 'finmaintaininstructions'); select 
		deps_restore_dependencies ('plf', 'finmaintaininstructions_temp'); ]]> </sql> </changeSet> <changeSet id="49" author="Saikiran.v"> 
		<createSequence sequenceName="SEQGST_RATES" incrementBy="1" startValue="1" minValue="1" maxValue="999999999999999999" /> 
		</changeSet> <changeSet id="50" author="Saikiran.v"> <createTable tableName="GST_RATES"> <column name="Id" type="bigint"> 
		<constraints primaryKey="true" nullable="false" /> </column> <column name="FromState" type="varchar(8)" /> <column name="ToState" 
		type="varchar(8)" /> <column name="TaxType" type="varchar(4)" /> <column name="CalcType" type="char(1)" /> <column name="Amount" 
		type="decimal(18,0)" /> <column name="Percentage" type="decimal(5,2)" /> <column name="CalcOn" type="varchar(10)" /> <column 
		name="Active" type="boolean" /> <column name="version" type="int" /> <column name="lastmntby" type="bigint" /> <column name="lastmnton" 
		type="datetime" /> <column name="recordstatus" type="varchar(50)" /> <column name="rolecode" type="varchar(100)" /> <column 
		name="nextrolecode" type="varchar(200)" /> <column name="taskid" type="varchar(50)" /> <column name="nexttaskid" type="varchar(200)" 
		/> <column name="recordtype" type="varchar(50)" /> <column name="workflowid" type="bigint"> <constraints nullable="false" 
		/> </column> </createTable> </changeSet> <changeSet id="51" author="Saikiran.v"> <createTable tableName="GST_RATES_Temp"> 
		<column name="Id" type="bigint"> <constraints primaryKey="true" nullable="false" /> </column> <column name="FromState" type="varchar(8)" 
		/> <column name="ToState" type="varchar(8)" /> <column name="TaxType" type="varchar(4)" /> <column name="CalcType" type="char(1)" 
		/> <column name="Amount" type="decimal(18,0)" /> <column name="Percentage" type="decimal(5,2)" /> <column name="CalcOn" type="varchar(10)" 
		/> <column name="Active" type="boolean" /> <column name="version" type="int" /> <column name="lastmntby" type="bigint" /> 
		<column name="lastmnton" type="datetime" /> <column name="recordstatus" type="varchar(50)" /> <column name="rolecode" type="varchar(100)" 
		/> <column name="nextrolecode" type="varchar(200)" /> <column name="taskid" type="varchar(50)" /> <column name="nexttaskid" 
		type="varchar(200)" /> <column name="recordtype" type="varchar(50)" /> <column name="workflowid" type="bigint"> <constraints 
		nullable="false" /> </column> </createTable> </changeSet> <changeSet id="52" author="Saikiran.v" dbms="mssql"> <sql> <![CDATA[ 
		ALTER TABLE GST_RATES ADD CONSTRAINT DF_GST_RATES_ACTIVE DEFAULT 1 FOR ACTIVE; ALTER TABLE GST_RATES_Temp ADD CONSTRAINT 
		DF_GST_RATES_Temp_ACTIVE DEFAULT 1 FOR ACTIVE; ]]> </sql> </changeSet> <changeSet id="52" author="Saikiran.v" dbms="postgresql, 
		oracle"> <addDefaultValue columnName="Active" tableName="GST_RATES" defaultValue="1" /> <addDefaultValue columnName="Active" 
		tableName="GST_RATES_Temp" defaultValue="1" /> </changeSet> <changeSet id="53" author="Saikiran.v"> <addNotNullConstraint 
		tableName="GST_RATES" columnName="Active" columnDataType="boolean" /> <addNotNullConstraint tableName="GST_RATES_Temp" columnName="Active" 
		columnDataType="boolean" /> </changeSet> <changeSet id="54" author="Saikiran.v"> <addUniqueConstraint tableName="GST_RATES" 
		columnNames="FromState, ToState, TaxType" /> <addUniqueConstraint tableName="GST_RATES_Temp" columnNames="FromState, ToState, 
		TaxType" /> </changeSet> <changeSet id="55" author="Saikiran.v"> <createView viewName="GST_RATES_AView" replaceIfExists="true"> 
		SELECT T1.Id, T1.FromState, T1.ToState, T1.TaxType, T1.CalcType, T1.Amount, T1.Percentage, T1.CalcOn, T1.Active, T1.Version 
		, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId 
		FROM GST_RATES T1 </createView> </changeSet> <changeSet id="56" author="Saikiran.v"> <createView viewName="GST_RATES_View" 
		replaceIfExists="true"> SELECT T1.Id, T1.FromState, T1.ToState, T1.TaxType, T1.CalcType, T1.Amount, T1.Percentage, T1.CalcOn, 
		T1.Active , T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 
		T1.RecordType, T1.WorkflowId FROM GST_RATES_Temp T1 UNION ALL SELECT T1.Id, T1.FromState, T1.ToState, T1.TaxType, T1.CalcType, 
		T1.Amount, T1.Percentage, T1.CalcOn, T1.Active, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
		T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId FROM GST_RATES T1 WHERE NOT EXISTS (SELECT 1 FROM GST_RATES_TEMP WHERE 
		Id = T1.Id) </createView> </changeSet> <changeSet id="57" author="saikiran.v"> <sql> <![CDATA[ update SeqSecGroups set SeqNo 
		= (select max(grpid)+1 from SECGROUPS); update SeqSecRights set SeqNo = (select max(RightID)+1 from SECRIGHTS); update SeqSecGroupRights 
		set SeqNo = (select max(GRPRIGHTID)+1 from SECGROUPRIGHTS); INSERT INTO SecGroups VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 
		'GSTRATE_VIEW', 'Allow to view GSTRate', 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 ); INSERT INTO SecGroups 
		VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'GSTRATE_MAKER', 'WF Maker for GSTRate', 0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroups VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'GSTRATE_APPROVER', 'WF Approver 
		for GSTRate', 0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 
		FROM SECRIGHTS),0,'menuItem_RMTMasters_GSTRate','MENU',0,1000,current_timestamp,'Approved',' ',' ',' ',' ',' ',0 ); INSERT 
		INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),0,'menuItem_RMTMasters_GSTRateEnquiry','MENU',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_GSTRateList_PrintList','GSTRateList',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_GSTRateList_NewGSTRate','GSTRateList',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_GSTRateDialog_btnNew','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_GSTRateDialog_btnEdit','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_GSTRateDialog_btnDelete','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_GSTRateDialog_btnSave','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'GSTRateDialog_FromState','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'GSTRateDialog_ToState','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'GSTRateDialog_TaxType','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'GSTRateDialog_CalcType','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'GSTRateDialog_Amount','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'GSTRateDialog_Percentage','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'GSTRateDialog_CalcOn','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecRights VALUES((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'GSTRateDialog_Active','GSTRateDialog',0,1000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='menuItem_RMTMasters_GSTRate'),1,0,10000,current_timestamp,' 
		',' ',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID 
		FROM SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='menuItem_RMTMasters_GSTRateEnquiry'),1,0,10000,current_timestamp,' 
		',' ',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID 
		FROM SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='button_GSTRateList_PrintList'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='button_GSTRateList_NewGSTRate'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='button_GSTRateDialog_btnNew'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='button_GSTRateDialog_btnEdit'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='button_GSTRateDialog_btnDelete'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='button_GSTRateDialog_btnSave'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='GSTRateDialog_FromState'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='GSTRateDialog_ToState'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='GSTRateDialog_TaxType'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='GSTRateDialog_CalcType'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='GSTRateDialog_Percentage'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='GSTRateDialog_CalcOn'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select max(RightID) from SecRights WHERE RightName='GSTRateDialog_Active'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_APPROVER'), (select RightID from SecRights WHERE RightName='menuItem_RMTMasters_GSTRate'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM 
		SECGROUPS WHERE GRPCODE='GSTRATE_APPROVER'), (select RightID from SecRights WHERE RightName='button_GSTRateDialog_btnSave'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); update SeqSecGroups set SeqNo = (select max(grpid)+1 from SECGROUPS); update SeqSecRights set SeqNo 
		= (select max(RightID)+1 from SECRIGHTS); update SeqSecGroupRights set SeqNo = (select max(GRPRIGHTID)+1 from SECGROUPRIGHTS); 
		]]> </sql> </changeSet> <changeSet id="58" author="Varaprasad.K" dbms="postgresql,oracle"> <sql> <![CDATA[ ALTER TABLE VERIFICATION_PD 
		DROP CONSTRAINT PK_VERIFICATION_PD_VERF_ID; ]]> </sql> </changeSet> <changeSet id="59" author="Varaprasad.K"> <createView 
		viewName="verification_pd_aview" replaceIfExists="true"> SELECT pd.verificationid, pd.agentcode, pd.agentname, pd.type, pd.verifieddate, 
		pd.status, pd.reason, r1.code reasoncode, r1.description reasondesc, pd.summaryremarks, pd.version, pd.lastmntby, pd.lastmnton, 
		pd.recordstatus, pd.rolecode, pd.nextrolecode, pd.taskid, pd.nexttaskid, pd.recordtype, pd.workflowid, pd.addresstype, pd.name, 
		pd.housenumber, pd.flatnumber, pd.street, pd.addressline1, pd.addressline2, pd.addressline3, pd.addressline4, pd.addressline5, 
		pd.country, pd.province, pd.city, pd.contactnumber1, pd.contactnumber2, pd.pobox, pd.zipcode, c.custcif cif, v.custid, v.keyreference, 
		v.createdon, v.agency, v.verificationdate, a.dealername agencyname, v.reinitid, a.dealertype, r1.reasontypecode, country.countrydesc, 
		p.cpprovincename provincedesc, city.pccityname citydesc FROM verification_pd pd JOIN verifications v ON v.id = pd.verificationid 
		LEFT JOIN amtvehicledealer a ON a.dealerid = v.agency JOIN bmtcountries country ON country.countrycode = pd.country JOIN 
		rmtcountryvsprovince p ON p.cpprovince = pd.province JOIN rmtprovincevscity city ON city.pccity = pd.city LEFT JOIN customers 
		c ON c.custid = v.custid LEFT JOIN reasons_aview r1 ON r1.id = pd.reason </createView> </changeSet> <changeSet id="60" author="Varaprasad.K"> 
		<createView viewName="verification_pd_view" replaceIfExists="true"> SELECT pd.verificationid, pd.agentcode, pd.agentname, 
		pd.type, pd.verifieddate, pd.status, pd.reason, r1.code reasoncode, r1.description reasondesc, pd.summaryremarks, pd.version, 
		pd.lastmntby, pd.lastmnton, pd.recordstatus, pd.rolecode, pd.nextrolecode, pd.taskid, pd.nexttaskid, pd.recordtype, pd.workflowid, 
		pd.addresstype, pd.name, pd.housenumber, pd.flatnumber, pd.street, pd.addressline1, pd.addressline2, pd.addressline3, pd.addressline4, 
		pd.addressline5, pd.country, pd.province, pd.city, pd.contactnumber1, pd.contactnumber2, pd.pobox, pd.zipcode, c.custcif 
		cif, v.custid, v.keyreference, v.createdon, v.agency, v.verificationdate, a.dealername agencyname, v.reinitid, a.dealertype, 
		r1.reasontypecode, country.countrydesc, p.cpprovincename provincedesc, city.pccityname citydesc FROM verification_pd_temp 
		pd JOIN verifications v ON v.id = pd.verificationid LEFT JOIN amtvehicledealer a ON a.dealerid = v.agency JOIN bmtcountries 
		country ON country.countrycode = pd.country JOIN rmtcountryvsprovince p ON p.cpprovince = pd.province JOIN rmtprovincevscity 
		city ON city.pccity = pd.city LEFT JOIN customers c ON c.custid = v.custid LEFT JOIN reasons_aview r1 ON r1.id = pd.reason 
		UNION ALL SELECT pd.verificationid, pd.agentcode, pd.agentname, pd.type, pd.verifieddate, pd.status, pd.reason, r1.code reasoncode, 
		r1.description reasondesc, pd.summaryremarks, pd.version, pd.lastmntby, pd.lastmnton, pd.recordstatus, pd.rolecode, pd.nextrolecode, 
		pd.taskid, pd.nexttaskid, pd.recordtype, pd.workflowid, pd.addresstype, pd.name, pd.housenumber, pd.flatnumber, pd.street, 
		pd.addressline1, pd.addressline2, pd.addressline3, pd.addressline4, pd.addressline5, pd.country, pd.province, pd.city, pd.contactnumber1, 
		pd.contactnumber2, pd.pobox, pd.zipcode, c.custcif cif, v.custid, v.keyreference, v.createdon, v.agency, v.verificationdate, 
		a.dealername agencyname, v.reinitid, a.dealertype, r1.reasontypecode, country.countrydesc, p.cpprovincename provincedesc, 
		city.pccityname citydesc FROM verification_pd pd JOIN verifications v ON v.id = pd.verificationid LEFT JOIN amtvehicledealer 
		a ON a.dealerid = v.agency JOIN bmtcountries country ON country.countrycode = pd.country JOIN rmtcountryvsprovince p ON p.cpprovince 
		= pd.province JOIN rmtprovincevscity city ON city.pccity = pd.city LEFT JOIN customers c ON c.custid = v.custid LEFT JOIN 
		reasons_aview r1 ON r1.id = pd.reason </createView> </changeSet> <changeSet id="61" author="Varaprasad.K" dbms="postgresql,oracle"> 
		<sql> <![CDATA[ Alter table verification_pd drop column OwnershipStatus; Alter table verification_pd drop column YearsAtPresentAddress; 
		Alter table verification_pd drop column PersonMet; Alter table verification_pd drop column Relationship; Alter table verification_pd 
		drop column ContactNumber; Alter table verification_pd drop column NeighbourhoodFeedBack; Alter table verification_pd drop 
		column LivingStandard; Alter table verification_pd drop column NegativeCheck; Alter table verification_pd drop column NoofAttempts; 
		Alter table verification_pd drop column ObservationRemarks; ]]> </sql> </changeSet> <changeSet id="62" author="Varaprasad.K" 
		dbms="postgresql,oracle"> <sql> <![CDATA[ ALTER TABLE VERIFICATION_PD ADD CONSTRAINT PK_VERIFICATION_PD_VERF_ID PRIMARY KEY 
		(VERIFICATIONID, VERSION); ]]> </sql> </changeSet> <changeSet id="63" author="Varaprasad.K" dbms="mssql"> <sql> <![CDATA[ 
		ALTER TABLE VERIFICATION_PD DROP CONSTRAINT PK_VERIFICATION_PD_VERF_ID; ]]> </sql> </changeSet> <changeSet id="64.0" author="Varaprasad.K" 
		dbms="mssql"> <sql> <![CDATA[ Alter table verification_pd drop constraint df_verfctions_pd_owner; Alter table verification_pd 
		drop constraint df_verfctions_pd_yearsat; Alter table verification_pd drop constraint df_verfctions_pd_nhf; Alter table verification_pd 
		drop constraint df_verfctions_pd_lsd; Alter table verification_pd drop constraint df_verfctions_pd_ncheck; Alter table verification_pd 
		drop constraint df_verfctions_pd_noofat; ]]> </sql> </changeSet> <changeSet id="64" author="Varaprasad.K" dbms="mssql"> <sql> 
		<![CDATA[ Alter table verification_pd drop column OwnershipStatus; Alter table verification_pd drop column YearsAtPresentAddress; 
		Alter table verification_pd drop column PersonMet; Alter table verification_pd drop column Relationship; Alter table verification_pd 
		drop column ContactNumber; Alter table verification_pd drop column NeighbourhoodFeedBack; Alter table verification_pd drop 
		column LivingStandard; Alter table verification_pd drop column NegativeCheck; Alter table verification_pd drop column NoofAttempts; 
		Alter table verification_pd drop column ObservationRemarks; ]]> </sql> </changeSet> <changeSet id="65" author="Varaprasad.K" 
		dbms="mssql"> <sql> <![CDATA[ ALTER TABLE verification_pd ADD CONSTRAINT PK_VERIFICATION_PD_VERF_ID PRIMARY KEY(VERIFICATIONID, 
		VERSION); ]]> </sql> </changeSet> <changeSet id="66" author="Varaprasad.K" dbms="postgresql,oracle"> <sql> <![CDATA[ ALTER 
		TABLE VERIFICATION_PD_TEMP DROP CONSTRAINT PK_VERIFICATION_PD_TMP_VERF_ID; ]]> </sql> </changeSet> <changeSet id="67" author="Varaprasad.K" 
		dbms="postgresql,oracle"> <sql> <![CDATA[ Alter table verification_pd_temp drop column OwnershipStatus; Alter table verification_pd_temp 
		drop column YearsAtPresentAddress; Alter table verification_pd_temp drop column PersonMet; Alter table verification_pd_temp 
		drop column Relationship; Alter table verification_pd_temp drop column ContactNumber; Alter table verification_pd_temp drop 
		column NeighbourhoodFeedBack; Alter table verification_pd_temp drop column LivingStandard; Alter table verification_pd_temp 
		drop column NegativeCheck; Alter table verification_pd_temp drop column NoofAttempts; Alter table verification_pd_temp drop 
		column ObservationRemarks; ]]> </sql> </changeSet> <changeSet id="68" author="Varaprasad.K" dbms="postgresql,oracle"> <sql> 
		<![CDATA[ ALTER TABLE VERIFICATION_PD_TEMP ADD CONSTRAINT PK_VERIFICATION_PD_TMP_VERF_ID PRIMARY KEY (VERIFICATIONID, VERSION); 
		]]> </sql> </changeSet> <changeSet id="69" author="Varaprasad.K" dbms="mssql"> <sql> <![CDATA[ ALTER TABLE VERIFICATION_PD 
		DROP CONSTRAINT PK_VERIFICATION_PD_VERF_ID; ]]> </sql> </changeSet> <changeSet id="70.0" author="Varaprasad.K" dbms="mssql"> 
		<sql> <![CDATA[ Alter table verification_pd_temp drop constraint DF_VERFCTIONS_PD_T_OWNER; Alter table verification_pd_temp 
		drop constraint DF_VERFCTIONS_PD_T_YEARSAT; Alter table verification_pd_temp drop constraint DF_VERFCTIONS_PD_T_NHF; Alter 
		table verification_pd_temp drop constraint DF_VERFCTIONS_PD_T_LSD; Alter table verification_pd_temp drop constraint DF_VERFCTIONS_PD_T_NCHECK; 
		Alter table verification_pd_temp drop constraint DF_VERFCTIONS_PD_T_NOOFAT; ]]> </sql> </changeSet> <changeSet id="70" author="Varaprasad.K" 
		dbms="mssql"> <sql> <![CDATA[ Alter table verification_pd_temp drop column OwnershipStatus; Alter table verification_pd_temp 
		drop column YearsAtPresentAddress; Alter table verification_pd_temp drop column PersonMet; Alter table verification_pd_temp 
		drop column Relationship; Alter table verification_pd_temp drop column ContactNumber; Alter table verification_pd_temp drop 
		column NeighbourhoodFeedBack; Alter table verification_pd_temp drop column LivingStandard; Alter table verification_pd_temp 
		drop column NegativeCheck; Alter table verification_pd_temp drop column NoofAttempts; Alter table verification_pd_temp drop 
		column ObservationRemarks; ]]> </sql> </changeSet> <changeSet id="71" author="Varaprasad.K" dbms="mssql"> <sql> <![CDATA[ 
		ALTER TABLE VERIFICATION_PD_TEMP ADD CONSTRAINT PK_VERIFICATION_PD_TMP_VERF_ID PRIMARY KEY (VERIFICATIONID, VERSION); ]]> 
		</sql> </changeSet> <changeSet id="72" author="Saikiran.v"> <sql> <![CDATA[ INSERT INTO SecGroupRights VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='GSTRATE_MAKER'), (select RightID from SecRights WHERE RightName='GSTRateDialog_Amount'),1,0,10000,current_timestamp,'Approved',' 
		',' ',' ',' ',' ',0 ); ]]> </sql> </changeSet> <changeSet id="73" author="Saikiran.v"> <createView viewName="GST_RATES_AView" 
		replaceIfExists="true"> SELECT T1.Id, T1.FromState, T2.CPProvinceName FromStateName, T1.ToState, T3.CPProvinceName ToStateName, 
		T1.TaxType, T1.CalcType, T1.Amount, T1.Percentage, T1.CalcOn, T1.Active, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
		T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId FROM GST_RATES T1 left JOIN RMTCOUNTRYVSPROVINCE 
		T2 ON T2.CPPROVINCE = T1.fromstate left JOIN RMTCOUNTRYVSPROVINCE T3 ON T3.CPPROVINCE = T1.tostate </createView> </changeSet> 
		<changeSet id="74" author="Saikiran.v"> <createView viewName="GST_RATES_View" replaceIfExists="true"> SELECT T1.Id, T1.FromState, 
		T2.CPProvinceName FromStateName, T1.ToState, T3.CPProvinceName ToStateName, T1.TaxType, T1.CalcType, T1.Amount, T1.Percentage, 
		T1.CalcOn, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 
		T1.RecordType, T1.WorkflowId FROM GST_RATES_Temp T1 left JOIN RMTCOUNTRYVSPROVINCE T2 ON T2.CPPROVINCE = T1.fromstate left 
		JOIN RMTCOUNTRYVSPROVINCE T3 ON T3.CPPROVINCE = T1.tostate UNION ALL SELECT T1.Id, T1.FromState, T2.CPProvinceName FromStateName, 
		T1.ToState, T3.CPProvinceName ToStateName, T1.TaxType, T1.CalcType, T1.Amount, T1.Percentage, T1.CalcOn, T1.Active, T1.Version 
		, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId 
		FROM GST_RATES T1 left JOIN RMTCOUNTRYVSPROVINCE T2 ON T2.CPPROVINCE = T1.fromstate left JOIN RMTCOUNTRYVSPROVINCE T3 ON 
		T3.CPPROVINCE = T1.tostate WHERE NOT EXISTS (SELECT 1 FROM GST_RATES_TEMP WHERE Id = T1.Id) </createView> </changeSet> <changeSet 
		id="75" author="Saikiran.v"> <createView viewName="finadvancepayments_aview" replaceIfExists="true"> SELECT t1.finreference, 
		t1.paymentid, t1.paymentseq, t1.paymentdetail, t1.amttobereleased, t1.liabilityholdname, t1.transactionref, t1.beneficiaryname, 
		t1.beneficiaryaccno, t1.reenterbeneficiaryaccno, t1.description, t1.paymenttype, t1.llreferenceno, t1.lldate, t1.custcontribution, 
		t1.sellercontribution, t1.remarks, t1.disbdate, t1.disbseq, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, 
		t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, t1.bankcode, t1.payableloc, t1.printingloc, t1.valuedate, 
		t1.bankbranchid, t1.phonecountrycode, t1.phoneareacode, t1.phonenumber, t1.clearingdate, t1.status, t1.active, t1.inputdate, 
		t1.disbccy, t1.poissued, t3.bankcode branchbankcode, t31.bankname branchbankname, t3.branchcode, t3.branchdesc, t3.ifsc, 
		t3.city, t4.bankname, t1.partnerbankid, t5.partnerbankcode, t5.partnerbankname, t1.linkedtranid, t5.actype partnerbankactype, 
		t5.accountno partnerbankac, t6.BranchDesc PrintingLocDesc FROM finadvancepayments t1 LEFT JOIN bankbranches t3 ON t1.bankbranchid 
		= t3.bankbranchid LEFT JOIN bmtbankdetail t31 ON t31.bankcode = t3.bankcode LEFT JOIN bmtbankdetail t4 ON t1.bankcode = t4.bankcode 
		LEFT JOIN partnerbanks t5 ON t5.partnerbankid = t1.partnerbankid LEFT JOIN BankBranches t6 ON t6.BranchCode = t1.printingloc 
		</createView> </changeSet> <changeSet id="76" author="Saikiran.v"> <createView viewName="finadvancepayments_Tview" replaceIfExists="true"> 
		SELECT t1.finreference, t1.paymentid, t1.paymentseq, t1.paymentdetail, t1.amttobereleased, t1.liabilityholdname, t1.transactionref, 
		t1.beneficiaryname, t1.beneficiaryaccno, t1.reenterbeneficiaryaccno, t1.description, t1.paymenttype, t1.llreferenceno, t1.lldate, 
		t1.custcontribution, t1.sellercontribution, t1.remarks, t1.disbdate, t1.disbseq, t1.version, t1.lastmntby, t1.lastmnton, 
		t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, t1.bankcode, t1.payableloc, 
		t1.printingloc, t1.valuedate, t1.bankbranchid, t1.phonecountrycode, t1.phoneareacode, t1.phonenumber, t1.clearingdate, t1.status, 
		t1.active, t1.inputdate, t1.disbccy, t1.poissued, t3.bankcode AS branchbankcode, t31.bankname AS branchbankname, t3.branchcode, 
		t3.branchdesc, t3.ifsc, t3.city, t4.bankname, t1.partnerbankid, t5.partnerbankcode, t5.partnerbankname, t1.linkedtranid, 
		t5.actype AS partnerbankactype, t5.accountno AS partnerbankac, t6.BranchDesc PrintingLocDesc FROM finadvancepayments_temp 
		t1 LEFT JOIN bankbranches t3 ON t1.bankbranchid = t3.bankbranchid LEFT JOIN bmtbankdetail t31 ON t31.bankcode = t3.bankcode 
		LEFT JOIN bmtbankdetail t4 ON t1.bankcode = t4.bankcode LEFT JOIN partnerbanks t5 ON t5.partnerbankid = t1.partnerbankid 
		LEFT JOIN BankBranches t6 ON t6.BranchCode = t1.printingloc </createView> </changeSet> <changeSet id="77" author="Saikiran.v"> 
		<createView viewName="finadvancepayments_view" replaceIfExists="true"> SELECT t1.finreference, t1.paymentid, t1.paymentseq, 
		t1.paymentdetail, t1.amttobereleased, t1.liabilityholdname, t1.transactionref, t1.beneficiaryname, t1.beneficiaryaccno, t1.reenterbeneficiaryaccno, 
		t1.description, t1.paymenttype, t1.llreferenceno, t1.lldate, t1.custcontribution, t1.sellercontribution, t1.remarks, t1.disbdate, 
		t1.disbseq, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, 
		t1.recordtype, t1.workflowid, t1.bankcode, t1.payableloc, t1.printingloc, t1.valuedate, t1.bankbranchid, t1.phonecountrycode, 
		t1.phoneareacode, t1.phonenumber, t1.clearingdate, t1.status, t1.active, t1.inputdate, t1.disbccy, t1.poissued, t3.bankcode 
		AS branchbankcode, t31.bankname AS branchbankname, t3.branchcode, t3.branchdesc, t3.ifsc, t3.city, t4.bankname, t1.partnerbankid, 
		t5.partnerbankcode, t5.partnerbankname, t1.linkedtranid, t5.actype AS partnerbankactype, t5.accountno AS partnerbankac, t6.BranchDesc 
		PrintingLocDesc FROM finadvancepayments_temp t1 LEFT JOIN bankbranches t3 ON t1.bankbranchid = t3.bankbranchid LEFT JOIN 
		bmtbankdetail t31 ON t31.bankcode = t3.bankcode LEFT JOIN bmtbankdetail t4 ON t1.bankcode = t4.bankcode LEFT JOIN partnerbanks 
		t5 ON t5.partnerbankid = t1.partnerbankid LEFT JOIN BankBranches t6 ON t6.BranchCode = t1.printingloc UNION ALL SELECT t1.finreference, 
		t1.paymentid, t1.paymentseq, t1.paymentdetail, t1.amttobereleased, t1.liabilityholdname, t1.transactionref, t1.beneficiaryname, 
		t1.beneficiaryaccno, t1.reenterbeneficiaryaccno, t1.description, t1.paymenttype, t1.llreferenceno, t1.lldate, t1.custcontribution, 
		t1.sellercontribution, t1.remarks, t1.disbdate, t1.disbseq, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, 
		t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, t1.bankcode, t1.payableloc, t1.printingloc, t1.valuedate, 
		t1.bankbranchid, t1.phonecountrycode, t1.phoneareacode, t1.phonenumber, t1.clearingdate, t1.status, t1.active, t1.inputdate, 
		t1.disbccy, t1.poissued, t3.bankcode AS branchbankcode, t31.bankname AS branchbankname, t3.branchcode, t3.branchdesc, t3.ifsc, 
		t3.city, t4.bankname, t1.partnerbankid, t5.partnerbankcode, t5.partnerbankname, t1.linkedtranid, t5.actype AS partnerbankactype, 
		t5.accountno AS partnerbankac, t6.BranchDesc PrintingLocDesc FROM finadvancepayments t1 LEFT JOIN bankbranches t3 ON t1.bankbranchid 
		= t3.bankbranchid LEFT JOIN bmtbankdetail t31 ON t31.bankcode = t3.bankcode LEFT JOIN bmtbankdetail t4 ON t1.bankcode = t4.bankcode 
		LEFT JOIN partnerbanks t5 ON t5.partnerbankid = t1.partnerbankid LEFT JOIN BankBranches t6 ON t6.BranchCode = t1.printingloc 
		WHERE NOT (EXISTS ( SELECT 1 FROM finadvancepayments_temp WHERE finadvancepayments_temp.finreference = t1.finreference AND 
		finadvancepayments_temp.paymentseq = t1.paymentseq)) </createView> </changeSet> <changeSet id="78_pre" author="Sai" dbms="postgresql"> 
		<sql> <![CDATA[ select deps_save_and_drop_dependencies ('plf', 'finadvancepayments'); select deps_save_and_drop_dependencies 
		('plf', 'finadvancepayments_temp'); select deps_save_and_drop_dependencies ('plf', 'disbursement_requests'); ]]> </sql> </changeSet> 
		<changeSet id="78" author="Sai"> <modifyDataType tableName="FinAdvancePayments" columnName="liabilityHoldName" newDataType="varchar(200)" 
		/> <modifyDataType tableName="FinAdvancePayments" columnName="payableLoc" newDataType="varchar(200)" /> </changeSet> <changeSet 
		id="79" author="Sai"> <modifyDataType tableName="FinAdvancePayments_Temp" columnName="liabilityHoldName" newDataType="varchar(200)" 
		/> <modifyDataType tableName="FinAdvancePayments_Temp" columnName="payableLoc" newDataType="varchar(200)" /> </changeSet> 
		<changeSet id="80" author="Sai"> <modifyDataType tableName="DISBURSEMENT_REQUESTS" columnName="DRAWEE_LOCATION" newDataType="varchar(200)" 
		/> </changeSet> <changeSet id="78_post" author="Sai" dbms="postgresql"> <sql> <![CDATA[ select deps_restore_dependencies 
		('plf', 'finadvancepayments'); select deps_restore_dependencies ('plf', 'finadvancepayments_temp'); select deps_restore_dependencies 
		('plf', 'disbursement_requests'); ]]> </sql> </changeSet> <changeSet id="81" author="Saikiran.V"> <sql> <![CDATA[ delete 
		from SMTPARAMETERS where sysparmcode='UDC_ALLOW_ZERO_AMT'; delete from SMTPARAMETERS where sysparmcode='GROUP_BATCH_BY_BANK'; 
		delete from SMTPARAMETERS where sysparmcode='BPI_INCOMIZED_ON_ORG'; delete from SMTPARAMETERS where sysparmcode='MANDATE_ALW_PARTNER_BANK'; 
		delete from SMTPARAMETERS where sysparmcode='ALW_AUTO_SCHD_BUILD'; delete from SMTPARAMETERS where sysparmcode='ALLOW_LEGAL_REQ_CHANGE'; 
		delete from SMTPARAMETERS where sysparmcode='DOC_OWNER_VALIDATION'; delete from SMTPARAMETERS where sysparmcode='CLEAR_FREQUENCY_DATES_ON_STARTDATE_CHANGE'; 
		delete from SMTPARAMETERS where sysparmcode='CHANGE_GESTATION_PERIOD_CLEAR_FREQUENCY_DATES'; delete from SMTPARAMETERS where 
		sysparmcode='NEW_COVENANT_MODULE'; delete from SMTPARAMETERS where sysparmcode='UPFRONT_FEE_REVERSAL_REQ'; delete from SMTPARAMETERS 
		where sysparmcode='INVOICE_ADDRESS_ENTITY_BASIS'; delete from SMTPARAMETERS where sysparmcode='DISB_ACCNO_MASKING'; delete 
		from SMTPARAMETERS where sysparmcode='PRESENTMENT_RESPONSE_ALLOW_INSTRUMENT_TYPE'; delete from SMTPARAMETERS where sysparmcode='DISBURSEMENT_RESPONSE_ALLOW_PAYMENT_TYPE'; 
		delete from SMTPARAMETERS where sysparmcode='ALLOW_ORGANISATIONAL_STRUCTURE'; delete from SMTPARAMETERS where sysparmcode='ALLOW_ACCESS_CONTROL_TYPE'; 
		INSERT INTO SMTPARAMETERS VALUES ('UDC_ALLOW_ZERO_AMT','Allow zero amount for UDC','String', 0, 'N', 1, 0, NULL, NULL,'Allow 
		zero amount for UDC',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES 
		('GROUP_BATCH_BY_BANK','Present batch group by bakn ?','String', 0, 'Y', 1, 0, NULL, NULL,'Present batch group by bakn ?',1, 
		1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES ('BPI_INCOMIZED_ON_ORG','BPI 
		incomized in loan orgination','String', 0, 'Y', 1, 0, NULL, NULL,'BPI incomized in loan orgination',1, 1000,CURRENT_TIMESTAMP,'Approved', 
		NULL, NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES ('MANDATE_ALW_PARTNER_BANK','Allow partner bank in mandate 
		screen','String', 0, 'N', 1, 0, NULL, NULL,'Allow partner bank in mandate screen',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, 
		NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES ('ALW_AUTO_SCHD_BUILD','Allow auto schedule build ?','String', 
		0, 'N', 1, 0, NULL, NULL,'Allow auto schedule build ?',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 
		0); INSERT INTO SMTPARAMETERS VALUES ('ALLOW_LEGAL_REQ_CHANGE','Allow legal required change','String', 0, 'Y', 1, 0, NULL, 
		NULL,'Allow legal required change',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS 
		VALUES ('DOC_OWNER_VALIDATION','DOC OWNER VALIDATION','String', 0, 'N', 1, 0, NULL, NULL,'DOC OWNER VALIDATION',1, 1000,CURRENT_TIMESTAMP,'Approved', 
		NULL, NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES ('CLEAR_FREQUENCY_DATES_ON_STARTDATE_CHANGE','Clear frequency 
		dates on loan start date change', 'String', 0, 'N', 1, 0, NULL, NULL,'Clear frequency dates on loan start date change', 1, 
		1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES ('CHANGE_GESTATION_PERIOD_CLEAR_FREQUENCY_DATES','Change 
		gestation perios on frequency date clear', 'String', 0, 'N', 1, 0, NULL, NULL,'Change gestation perios on frequency date 
		clear', 1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES ('NEW_COVENANT_MODULE','New 
		covenant module required?','String', 0, 'Y', 1, 0, NULL, NULL,'New covenant module required?',1, 1000,CURRENT_TIMESTAMP,'Approved', 
		NULL, NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES ('UPFRONT_FEE_REVERSAL_REQ','Upfront fee reversal req','String', 
		0, 'Y', 1, 0, NULL, NULL,'Upfront fee reversal req',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); 
		INSERT INTO SMTPARAMETERS VALUES ('INVOICE_ADDRESS_ENTITY_BASIS','Entity base GST invoice required ?','String', 0, 'Y', 1, 
		0, NULL, NULL,'Entity base GST invoice required ?',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); 
		INSERT INTO SMTPARAMETERS VALUES ('DISB_ACCNO_MASKING','Account number masking required ?','String', 0, 'N', 1, 0, NULL, 
		NULL,'Account number masking required ?',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); INSERT INTO 
		SMTPARAMETERS VALUES ('PRESENTMENT_RESPONSE_ALLOW_INSTRUMENT_TYPE', 'Allow instrument type in presement response', 'String', 
		0, 'N', 1, 0, NULL, NULL,'Allow instrument type in presement response', 1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, 
		NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES ('DISBURSEMENT_RESPONSE_ALLOW_PAYMENT_TYPE', 'Allow payment type in 
		disbursement type','String', 0, 'N', 1, 0, NULL, NULL,'Allow payment type in disbursement type', 1, 1000,CURRENT_TIMESTAMP,'Approved', 
		NULL, NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES ('ALLOW_ORGANISATIONAL_STRUCTURE','Allow Organisational 
		Structure','String', 0, 'N', 1, 0, NULL, NULL,'Allow Organisational Structure',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, 
		NULL, NULL, NULL, NULL, 0); INSERT INTO SMTPARAMETERS VALUES ('ALLOW_ACCESS_CONTROL_TYPE','Allow Access Control Type','String', 
		0, 'N', 1, 0, NULL, NULL,'Allow Access Control Type',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 
		0); ]]> </sql> </changeSet> <changeSet id="82" author="vijaya.a"> <createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true"> 
		SELECT M.MANDATEID, BD.BANKSHORTCODE BANKCODE, BD.BANKNAME, case when LB.BRANCHCODE IS NULL THEN CB.BRANCHCODE ELSE LB.BRANCHCODE 
		END BRANCHCODE, case when LB.BRANCHDESC IS NULL THEN CB.BRANCHDESC ELSE LB.BRANCHDESC END BRANCHDESC, CUST.CUSTCIF, CUST.CUSTSHRTNAME, 
		CUST.CustCoreBank, FT.FINTYPEDESC FINTYPE , FIN.FINREFERENCE , COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) 
		TotalAmount FROM FINSCHEDULEDETAILS FSD INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE =FSD.FINREFERENCE AND FM.CUSTID = M.CUSTID 
		GROUP BY FM.FINREFERENCE)T)/CCYMINORCCYUNITS, 0) CUST_EMI, COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) 
		TotalAmount FROM FINSCHEDULEDETAILS FSD WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE 
		FROM FINANCEMAIN WHERE MANDATEID = M.MANDATEID) GROUP BY FINREFERENCE)T)/CCYMINORCCYUNITS, 0) EMI, CASE M.OPENMANDATE WHEN 
		1 THEN 'New Open ECS' ELSE 'No Open ECS' END OPENMANDATE, M.ACCNUMBER, CASE WHEN M.ACCTYPE = '10' then 'Savings Account' 
		WHEN M.ACCTYPE = '11' then 'Current Account' WHEN M.ACCTYPE = '11' then 'Cash Credit Account' ELSE M.ACCTYPE END ACCTYPE, 
		M.ACCHOLDERNAME, BB.MICR, BB.IFSC, BB.ADDOFBRANCH, (select MIN(FIRSTREPAYDATE) from FINPFTDETAILS where FINREFERENCE IN (SELECT 
		FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) FIRSTDUEDATE, (select MAX(SCHDATE) from FINSCHEDULEDETAILS where 
		(REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) and FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) 
		EMIENDDATE, COALESCE (M.MAXLIMIT/CCYMINORCCYUNITS, 0) MAXLIMIT, COALESCE((SELECT SUM(MANDATEDEBITAMOUNT) from (Select MAX(REPAYAMOUNT+FEESCHD) 
		MANDATEDEBITAMOUNT FROM FINSCHEDULEDETAILS WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE 
		FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID) GROUP BY FINREFERENCE)T), 0)/CCYMINORCCYUNITS DEBITAMOUNT, (select max(numberofterms) 
		from Financemain where FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) numberofterms, 
		M.periodicity, M.STARTDATE, M.EXPIRYDATE, FIN.APPLICATIONNO, M.MANDATETYPE, M.STATUS, M.INPUTDATE, M.RECORDSTATUS, M.RECORDTYPE, 
		M.MANDATECCY, COALESCE (CCY.CCYMINORCCYUNITS, 100) CCYMINORCCYUNITS,M.EntityCode, CP.PHONENUMBER, CE.CUSTEMAIL, PB.PARTNERBANKNAME, 
		M.LASTMNTON FROM MANDATES M INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID INNER JOIN BMTBANKDETAIL BD ON 
		BD.BANKCODE=BB.BANKCODE INNER JOIN CUSTOMERS CUST ON CUST.CUSTID = M.CUSTID INNER JOIN RMTBRANCHES CB ON CB.BRANCHCODE = 
		CUST.CUSTDFTBRANCH LEFT JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = M.PARTNERBANKID LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID 
		= CUST.CUSTID AND CE.CUSTEMAILPRIORITY = 5 LEFT JOIN CUSTOMERPHONENUMBERS CP ON CP.PHONECUSTID = CUST.CUSTID AND CP.PHONETYPEPRIORITY 
		= 5 LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE 
		LEFT JOIN RMTBRANCHES LB ON LB.BRANCHCODE = FIN.FINBRANCH LEFT OUTER JOIN RMTFINANCETYPES FT ON FIN.FINTYPE =FT.FINTYPE WHERE 
		M.STATUS = 'NEW' AND M.MANDATEID NOT IN (select MANDATEID FROM MANDATE_REQUESTS where (status = 'AC' OR status = 'NEW')) 
		</createView> </changeSet> <changeSet id="83" author="Manoj"> <sql> <![CDATA[ INSERT INTO SMTPARAMETERS VALUES ('HOLD_DISB_INST_POST','Disbursement 
		Instruction Posting During Loan','String', 0, 'N', 1, 0, NULL, NULL,'Disbursement Instruction Posting During Loan',1, 1000,CURRENT_TIMESTAMP,'Approved',NULL, 
		NULL, NULL, NULL, NULL, 0); ]]> </sql> </changeSet> <changeSet id="84" author="murthy.y"> <sql> <![CDATA[ INSERT INTO SMTPARAMETERS 
		VALUES ('ALLOW_DIVISION_BASED_CLUSTER','Allow Division Based Cluster','String', 0, 'N', 1, 0, NULL, NULL,'Allow Division 
		Based Cluster',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); ]]> </sql> </changeSet> <changeSet 
		id="85" author="vijaya.a"> <dropForeignKeyConstraint baseTableName="COVENANT_DOCUMENTS_TEMP" constraintName="FK_COVENANT_DOCUMENTS_TEMP_CID" 
		/> </changeSet> <changeSet id="83" author="Varaprasad.K"> <sql> <![CDATA[ Delete From SecGroupRights Where Rightid = (Select 
		Rightid From SecRights Where RightName = 'menu_Item_Agencies_Pesonal_Discussion'); Delete From SecRights Where RightName 
		= 'menu_Item_Agencies_Pesonal_Discussion'; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_Agencies_Pesonal_Discussion','MENU',0,1000,CURRENT_TIMESTAMP,' 
		',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), 
		(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menu_Item_Agencies_Pesonal_Discussion'), 
		1, 0,1000,CURRENT_TIMESTAMP, null,null,null,null,null,null,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE 
		RIGHTNAME='menu_Item_Agencies_Pesonal_Discussion'), 1, 0,1000,CURRENT_TIMESTAMP, null,null,null,null,null,null,0); Delete 
		From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerName'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerFax'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerAddress1'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerAddress2'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerAddress3'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerAddress4'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerCountry'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerCity'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerProvince'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_PaymentMode'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_Emirates'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_Email'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_AccountingTreatment'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_CommisionPaidAt'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_CalculationRule'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_PoBox'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_SellerType'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_ZipCode'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_Active'); 
		Delete From SecGroupRights Where Rightid = (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_AccountNumber'); 
		Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerName'; Delete From SecRights Where RightName 
		= 'VehicleDealerDialog_PDAGENCY_dealerFax'; Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerAddress1'; 
		Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerAddress2'; Delete From SecRights Where RightName 
		= 'VehicleDealerDialog_PDAGENCY_dealerAddress3'; Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerAddress4'; 
		Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerCountry'; Delete From SecRights Where RightName 
		= 'VehicleDealerDialog_PDAGENCY_dealerCity'; Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_dealerProvince'; 
		Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_PaymentMode'; Delete From SecRights Where RightName 
		= 'VehicleDealerDialog_PDAGENCY_Emirates'; Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_Email'; 
		Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_AccountingTreatment'; Delete From SecRights Where RightName 
		= 'VehicleDealerDialog_PDAGENCY_CommisionPaidAt'; Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_CalculationRule'; 
		Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_PoBox'; Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_SellerType'; 
		Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_ZipCode'; Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_Active'; 
		Delete From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_AccountNumber'; INSERT INTO SECRIGHTS SELECT (SELECT 
		MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_dealerName','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_dealerFax','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_dealerAddress1','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_dealerAddress2','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_dealerAddress3','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_dealerAddress4','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_dealerCountry','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_dealerCity','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_dealerProvince','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_PaymentMode','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_Emirates','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_Email','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_AccountingTreatment','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_CommisionPaidAt','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_CalculationRule','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_PoBox','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_SellerType','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_ZipCode','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_Active','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_AccountNumber','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID 
		FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_dealerName'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_dealerFax'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_dealerAddress1'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_dealerAddress2'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_dealerAddress3'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_dealerAddress4'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_dealerCountry'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_dealerCity'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_dealerProvince'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_PaymentMode'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_Emirates'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_Email'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_AccountingTreatment'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_CommisionPaidAt'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_CalculationRule'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_PoBox'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_SellerType'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_ZipCode'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_Active'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 
		FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_AccountNumber'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); ]]> </sql> </changeSet> <changeSet id="84" author="Srinivasa 
		Varma"> <comment>Ideally this column needs to be added in core level but added in Veritas, please drop the colum in veritas 
		if this change set execution failed.</comment> <addColumn tableName="collection_financedetails"> <column name="AppDate" type="datetime" 
		/> </addColumn> </changeSet> <changeSet id="85" author="Varaprasad K"> <sql> <![CDATA[ update Master_Def set key_type='01', 
		KEY_CODE='01' where key_type='AADHAAR' and KEY_CODE ='ADHCRD'; update Master_Def set key_type='02', KEY_CODE='02' where key_type='PASSPORT' 
		and KEY_CODE ='PASSPRT'; update Master_Def set key_type='03', KEY_CODE='03' where key_type='PAN' and KEY_CODE ='PANCRD'; 
		]]> </sql> </changeSet> <changeSet id="86" author="Varaprasad K"> <comment>Externalize customer primary identity</comment> 
		<sql> <![CDATA[ delete from smtparameters where sysparmcode in('CUST_PRIMARY_ID_RETL_DOC_TYPE','CUST_PRIMARY_ID_CORP_DOC_TYPE'); 
		INSERT INTO SMTPARAMETERS VALUES ('CUST_PRIMARY_ID_RETL_DOC_TYPE', 'CustomerPrimary ID DocType for Retl', 'String', 0, '03', 
		'50', 0, NULL,NULL, 'Retail Customer Primary ID', 1, 1000, CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); 
		INSERT INTO SMTPARAMETERS VALUES ('CUST_PRIMARY_ID_CORP_DOC_TYPE', 'CustomerPrimary ID DocType for Corp', 'String', 0, '03', 
		'50', 0, NULL,NULL, 'Corp Customer Primary ID', 1, 1000, CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); 
		]]> </sql> </changeSet> <changeSet id="87_pre" author="Varaprasad" dbms="postgresql"> <sql> <![CDATA[ select deps_save_and_drop_dependencies 
		('plf', 'extendedfielddetail'); ]]> </sql> </changeSet> <changeSet id="87" author="Varaprasad"> <modifyDataType tableName="EXTENDEDFIELDDETAIL" 
		columnName="FIELDDEFAULTVALUE" newDataType="varchar(1000)" /> </changeSet> <changeSet id="87_post" author="Varaprasad" dbms="postgresql"> 
		<sql> <![CDATA[ select deps_restore_dependencies ('plf', 'extendedfielddetail'); ]]> </sql> </changeSet> <changeSet id="88" 
		author="Manoj"> <createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true"> SELECT M.MANDATEID, BD.BANKSHORTCODE 
		BANKCODE, BD.BANKNAME, case when LB.BRANCHCODE IS NULL THEN CB.BRANCHCODE ELSE LB.BRANCHCODE END BRANCHCODE, case when LB.BRANCHDESC 
		IS NULL THEN CB.BRANCHDESC ELSE LB.BRANCHDESC END BRANCHDESC, CUST.CUSTCIF, CUST.CUSTSHRTNAME, CUST.CustCoreBank, FT.FINTYPEDESC 
		FINTYPE , FIN.FINREFERENCE , COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) TotalAmount 
		FROM FINSCHEDULEDETAILS FSD INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE =FSD.FINREFERENCE AND FM.CUSTID = M.CUSTID GROUP 
		BY FM.FINREFERENCE)T)/CCYMINORCCYUNITS, 0) CUST_EMI, COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) 
		TotalAmount FROM FINSCHEDULEDETAILS FSD WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE 
		FROM FINANCEMAIN WHERE MANDATEID = M.MANDATEID) GROUP BY FINREFERENCE)T)/CCYMINORCCYUNITS, 0) EMI, CASE M.OPENMANDATE WHEN 
		1 THEN 'New Open ECS' ELSE 'No Open ECS' END OPENMANDATE, M.ACCNUMBER, CASE WHEN M.ACCTYPE = '10' then 'Savings Account' 
		WHEN M.ACCTYPE = '11' then 'Current Account' WHEN M.ACCTYPE = '11' then 'Cash Credit Account' ELSE M.ACCTYPE END ACCTYPE, 
		M.ACCHOLDERNAME, BB.MICR, BB.IFSC, BB.ADDOFBRANCH, (select MIN(FIRSTREPAYDATE) from FINPFTDETAILS where FINREFERENCE IN (SELECT 
		FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) FIRSTDUEDATE, (select MAX(SCHDATE) from FINSCHEDULEDETAILS where 
		(REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) and FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) 
		EMIENDDATE, COALESCE (M.MAXLIMIT/CCYMINORCCYUNITS, 0) MAXLIMIT, COALESCE((SELECT SUM(MANDATEDEBITAMOUNT) from (Select MAX(REPAYAMOUNT+FEESCHD) 
		MANDATEDEBITAMOUNT FROM FINSCHEDULEDETAILS WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE 
		FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID) GROUP BY FINREFERENCE)T), 0)/CCYMINORCCYUNITS DEBITAMOUNT, FIN.NumberOfTerms, 
		M.periodicity, M.STARTDATE, M.EXPIRYDATE, FIN.APPLICATIONNO, M.MANDATETYPE, M.STATUS, M.INPUTDATE, M.RECORDSTATUS, M.RECORDTYPE, 
		M.MANDATECCY, COALESCE (CCY.CCYMINORCCYUNITS, 100) CCYMINORCCYUNITS,M.EntityCode, CP.PHONENUMBER, CE.CUSTEMAIL, PB.PARTNERBANKNAME, 
		M.LASTMNTON FROM MANDATES M INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID INNER JOIN BMTBANKDETAIL BD ON 
		BD.BANKCODE=BB.BANKCODE INNER JOIN CUSTOMERS CUST ON CUST.CUSTID = M.CUSTID INNER JOIN RMTBRANCHES CB ON CB.BRANCHCODE = 
		CUST.CUSTDFTBRANCH INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = M.PARTNERBANKID LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID 
		= CUST.CUSTID AND CE.CUSTEMAILPRIORITY = 5 LEFT JOIN CUSTOMERPHONENUMBERS CP ON CP.PHONECUSTID = CUST.CUSTID AND CP.PHONETYPEPRIORITY 
		= 5 LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE 
		LEFT JOIN RMTBRANCHES LB ON LB.BRANCHCODE = FIN.FINBRANCH LEFT OUTER JOIN RMTFINANCETYPES FT ON FIN.FINTYPE =FT.FINTYPE WHERE 
		M.STATUS = 'NEW' AND M.MANDATEID NOT IN (select MANDATEID FROM MANDATE_REQUESTS where (status = 'AC' OR status = 'NEW')) 
		</createView> </changeSet> <changeSet id="89" author="Varaprasad.K"> <sql> <![CDATA[ Delete From SecGroupRights Where Rightid 
		= (Select Rightid From SecRights Where RightName = 'VehicleDealerDialog_PDAGENCY_code'); Delete From SecRights Where RightName 
		= 'VehicleDealerDialog_PDAGENCY_code'; INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'VehicleDealerDialog_PDAGENCY_code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0 
		FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID 
		FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_PDAGENCY_code'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); ]]> </sql> </changeSet> <changeSet id="90_pre" author="Varaprasad.K" 
		dbms="postgresql"> <sql> <![CDATA[ select deps_save_and_drop_dependencies ('plf', 'amtvehicledealer'); ]]> </sql> </changeSet> 
		<changeSet id="90" author="Varaprasad.K"> <modifyDataType tableName="AMTVehicleDealer" columnName="DEALERNAME" newDataType="varchar(100)" 
		/> <modifyDataType tableName="AMTVehicleDealer" columnName="DEALERADDRESS1" newDataType="varchar(100)" /> <modifyDataType 
		tableName="AMTVehicleDealer" columnName="DEALERADDRESS2" newDataType="varchar(100)" /> <modifyDataType tableName="AMTVehicleDealer" 
		columnName="DEALERADDRESS3" newDataType="varchar(100)" /> <modifyDataType tableName="AMTVehicleDealer" columnName="DEALERADDRESS4" 
		newDataType="varchar(100)" /> </changeSet> <changeSet id="90_post" author="Varaprasad.K" dbms="postgresql"> <sql> <![CDATA[ 
		select deps_restore_dependencies ('plf', 'amtvehicledealer'); ]]> </sql> </changeSet> <changeSet id="91" author="Kesav" dbms="postgresql,mssql"> 
		<sql> <![CDATA[ Delete from Seq_GST_Invoice; Insert Into Seq_GST_Invoice (GstStateCode, TransactionType, SeqNo) Select TaxStateCode 
		GstStateCode, 'D' TransactionType, 0 SeqNo from rmtcountryvsprovince where TaxStateCode is not null and TaxStateCode != '' 
		and TaxStateCode != ' '; Insert Into Seq_GST_Invoice (GstStateCode, TransactionType, SeqNo) Select TaxStateCode GstStateCode, 
		'C' TransactionType, 0 SeqNo from rmtcountryvsprovince where TaxStateCode is not null and TaxStateCode != '' and TaxStateCode 
		!= ' '; Insert Into Seq_GST_Invoice (GstStateCode, TransactionType, SeqNo) Select TaxStateCode GstStateCode, 'W' TransactionType, 
		0 SeqNo from rmtcountryvsprovince where TaxStateCode is not null and TaxStateCode != '' and TaxStateCode != ' '; Insert Into 
		Seq_GST_Invoice (GstStateCode, TransactionType, SeqNo) Select TaxStateCode GstStateCode, 'B' TransactionType, 0 SeqNo from 
		rmtcountryvsprovince where TaxStateCode is not null and TaxStateCode != '' and TaxStateCode != ' '; ]]> </sql> </changeSet> 
		<changeSet id="92" author="Kesav" dbms="oracle"> <sql> <![CDATA[ Delete from Seq_GST_Invoice; Insert Into Seq_GST_Invoice 
		(GstStateCode, TransactionType, SeqNo) Select TaxStateCode GstStateCode, 'D' TransactionType, 0 SeqNo from rmtcountryvsprovince 
		where TaxStateCode is not null and TaxStateCode != ' '; Insert Into Seq_GST_Invoice (GstStateCode, TransactionType, SeqNo) 
		Select TaxStateCode GstStateCode, 'C' TransactionType, 0 SeqNo from rmtcountryvsprovince where TaxStateCode is not null and 
		TaxStateCode != ' '; Insert Into Seq_GST_Invoice (GstStateCode, TransactionType, SeqNo) Select TaxStateCode GstStateCode, 
		'W' TransactionType, 0 SeqNo from rmtcountryvsprovince where TaxStateCode is not null and TaxStateCode != ' '; Insert Into 
		Seq_GST_Invoice (GstStateCode, TransactionType, SeqNo) Select TaxStateCode GstStateCode, 'B' TransactionType, 0 SeqNo from 
		rmtcountryvsprovince where TaxStateCode is not null and TaxStateCode != ' '; ]]> </sql> </changeSet> <changeSet id="93" author="murthy.y"> 
		<sql> <![CDATA[ Insert into RMTLOVFIELDDETAIL values ((select max(fieldcodeid)+1 from RMTLOVFIELDDETAIL), 'CAT_COAPP', 'Others', 
		'Others', '1', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0, '0'); ]]> </sql> </changeSet> <changeSet 
		id="94" author="satyanarayana.g"> <sql> <![CDATA[ DELETE FROM SMTPARAMETERS WHERE SYSPARMCODE='DOC_SPLIT_SCREEN_REQ'; INSERT 
		INTO SMTPARAMETERS VALUES ('DOC_SPLIT_SCREEN_REQ', 'Document Split Screen Req', 'String', 1, 'N', 1, 0, NULL, NULL,'Document 
		Split Screen Req', 1, 1000, CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); ]]> </sql> </changeSet> <changeSet 
		id="95" author="Manoj"> <createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true"> SELECT M.MANDATEID, BD.BANKSHORTCODE 
		BANKCODE, BD.BANKNAME, case when LB.BRANCHCODE IS NULL THEN CB.BRANCHCODE ELSE LB.BRANCHCODE END BRANCHCODE, case when LB.BRANCHDESC 
		IS NULL THEN CB.BRANCHDESC ELSE LB.BRANCHDESC END BRANCHDESC, CUST.CUSTCIF, CUST.CUSTSHRTNAME, CUST.CustCoreBank, FT.FINTYPEDESC 
		FINTYPE , FIN.FINREFERENCE , COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) TotalAmount 
		FROM FINSCHEDULEDETAILS FSD INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE =FSD.FINREFERENCE AND FM.CUSTID = M.CUSTID GROUP 
		BY FM.FINREFERENCE)T)/CCYMINORCCYUNITS, 0) CUST_EMI, COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) 
		TotalAmount FROM FINSCHEDULEDETAILS FSD WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE 
		FROM FINANCEMAIN WHERE MANDATEID = M.MANDATEID) GROUP BY FINREFERENCE)T)/CCYMINORCCYUNITS, 0) EMI, CASE M.OPENMANDATE WHEN 
		1 THEN 'New Open ECS' ELSE 'No Open ECS' END OPENMANDATE, M.ACCNUMBER, CASE WHEN M.ACCTYPE = '10' then 'Savings Account' 
		WHEN M.ACCTYPE = '11' then 'Current Account' WHEN M.ACCTYPE = '11' then 'Cash Credit Account' ELSE M.ACCTYPE END ACCTYPE, 
		M.ACCHOLDERNAME, BB.MICR, BB.IFSC, BB.ADDOFBRANCH, (select MIN(FIRSTREPAYDATE) from FINPFTDETAILS where FINREFERENCE IN (SELECT 
		FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) FIRSTDUEDATE, (select MAX(SCHDATE) from FINSCHEDULEDETAILS where 
		(REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) and FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) 
		EMIENDDATE, COALESCE (M.MAXLIMIT/CCYMINORCCYUNITS, 0) MAXLIMIT, COALESCE((SELECT SUM(MANDATEDEBITAMOUNT) from (Select MAX(REPAYAMOUNT+FEESCHD) 
		MANDATEDEBITAMOUNT FROM FINSCHEDULEDETAILS WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE 
		FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID) GROUP BY FINREFERENCE)T), 0)/CCYMINORCCYUNITS DEBITAMOUNT, FIN.NumberOfTerms, 
		M.periodicity, M.STARTDATE, M.EXPIRYDATE, FIN.APPLICATIONNO, M.MANDATETYPE, M.STATUS, M.INPUTDATE, M.RECORDSTATUS, M.RECORDTYPE, 
		M.MANDATECCY, COALESCE (CCY.CCYMINORCCYUNITS, 100) CCYMINORCCYUNITS, M.EntityCode, CP.PHONENUMBER, CE.CUSTEMAIL, PB.PARTNERBANKNAME, 
		M.LASTMNTON FROM MANDATES M INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID INNER JOIN BMTBANKDETAIL BD ON 
		BD.BANKCODE=BB.BANKCODE INNER JOIN CUSTOMERS CUST ON CUST.CUSTID = M.CUSTID INNER JOIN RMTBRANCHES CB ON CB.BRANCHCODE = 
		CUST.CUSTDFTBRANCH LEFT JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = M.PARTNERBANKID LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID 
		= CUST.CUSTID AND CE.CUSTEMAILPRIORITY = 5 LEFT JOIN CUSTOMERPHONENUMBERS CP ON CP.PHONECUSTID = CUST.CUSTID AND CP.PHONETYPEPRIORITY 
		= 5 LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE 
		LEFT JOIN RMTBRANCHES LB ON LB.BRANCHCODE = FIN.FINBRANCH LEFT OUTER JOIN RMTFINANCETYPES FT ON FIN.FINTYPE =FT.FINTYPE WHERE 
		M.STATUS = 'NEW' AND M.MANDATEID NOT IN (select MANDATEID FROM MANDATE_REQUESTS where (status = 'AC' OR status = 'NEW')) 
		</createView> </changeSet> <changeSet id="95" author="vijaya.a"> <createView viewName="finexcessamount_lovview" replaceIfExists="true"> 
		SELECT finexcessamount.excessid, finexcessamount.finreference, finexcessamount.amounttype, cast(round(finexcessamount.amount 
		/ 100,2) as numeric(36,2)) AS amount, cast(round(finexcessamount.utilisedamt / 100,2) as numeric(36,2)) AS utilisedamt, cast(round(finexcessamount.reservedamt 
		/ 100,2) as numeric(36,2)) AS reservedamt, cast(round(finexcessamount.balanceamt / 100,2) as numeric(36,2)) AS balanceamt 
		FROM finexcessamount </createView> </changeSet> <changeSet id="96" author="Varaprasad K"> <sql> <![CDATA[ delete from REPORTLIST 
		Where Code = 'PersonalDiscussion'; INSERT INTO REPORTLIST Values ('PersonalDiscussion','PersonalDiscussion','listheader_CIF.label,listheader_AddressType.label,listheader_PinCode.label,listheader_LoanReference.label,listheader_Agency.label,listheader_CreadtedOn.label', 
		'cif,addressType,zipCode,keyReference,agency,createdOn','String,String,String,String,String,Date',' ','ReportList06','Personal 
		Discussion','Personal Discussion',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0,0); ]]> </sql> </changeSet> <changeSet 
		id="97" author="Varaprasad K"> <sql> <![CDATA[ delete from REPORTLIST Where Code = 'PDAGENCY'; INSERT INTO REPORTLIST Values 
		('PDAGENCY','PDAGENCY','listheader_DealerName.label,listheader_Email.label,listheader_DealerTelephone.label,listheader_DealerProvince.label,listheader_DealerCity.label,listheader_Active.label', 
		'dealerName,email,dealerTelephone,dealerProvince,dealerCity,active','String,String,String,String,String,String',' ','ReportList06','Personal 
		Discussion','System Masters',1,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0,0); ]]> </sql> </changeSet> <changeSet 
		id="98" author="Srikanth.M"> <addColumn tableName="LimitHeader"> <column name="BLOCKLIMIT" type="boolean" defaultValue="0"> 
		<constraints nullable="false" /> </column> </addColumn> </changeSet> <changeSet id="99" author="Srikanth.M"> <addColumn tableName="LimitHeader_Temp"> 
		<column name="BLOCKLIMIT" type="boolean" defaultValue="0"> <constraints nullable="false" /> </column> </addColumn> </changeSet> 
		<changeSet id="100" author="Srikanth"> <sql> <![CDATA[ update LimitHeader set BLOCKLIMIT=0; update LimitHeader_Temp set BLOCKLIMIT=0; 
		]]> </sql> </changeSet> <changeSet id="101" author="Manoj"> <sql> <![CDATA[ delete from smtparameters where sysparmcode = 
		'HUNTER_REQUIRED'; INSERT INTO SMTPARAMETERS VALUES ('HUNTER_REQUIRED','Hunter Required or not','String', 0, 'N', 1, 0, NULL, 
		NULL,'Hunter Required or not',1, 1000,CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0); ]]> </sql> </changeSet> 
		<changeSet id="102" author="Sai Krishna"> <sql> <![CDATA[ update CustomerBankInfo set noOfMonthsBanking = 0 where noOfMonthsBanking 
		is null; ]]> </sql> </changeSet> <changeSet id="103" author="aditya.a"> <createView viewName="finjointaccountdetails_view" 
		replaceIfExists="true"> SELECT t1.jointaccountid, t1.finreference, t1.custcif, t1.includerepay, t1.repayaccountid, t1.catofcoapplicant, 
		t1.authoritysignatory, t1.sequence, t1.includeIncome, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, 
		t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, t2.usrlogin, t2.usrfname, t2.usrmname, t2.usrlname, 
		t3.custshrtname AS lovdesccifname, t3.custid FROM finjointaccountdetails_temp t1 LEFT JOIN secusers t2 ON t1.lastmntby = 
		t2.usrid JOIN customers t3 ON t1.custcif = t3.custcif UNION ALL SELECT t1.jointaccountid, t1.finreference, t1.custcif, t1.includerepay, 
		t1.repayaccountid, t1.catofcoapplicant, t1.authoritysignatory, t1.sequence, t1.includeIncome, t1.version, t1.lastmntby, t1.lastmnton, 
		t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, t2.usrlogin, t2.usrfname, 
		t2.usrmname, t2.usrlname, t3.custshrtname Lovdesccifname, t3.custid FROM finjointaccountdetails t1 LEFT JOIN secusers t2 
		ON t1.lastmntby = t2.usrid JOIN customers t3 ON t1.custcif = t3.custcif WHERE NOT (EXISTS ( SELECT 1 FROM finjointaccountdetails_temp 
		WHERE finjointaccountdetails_temp.jointaccountid = t1.jointaccountid)) </createView> </changeSet> <changeSet id="104" author="aditya.a"> 
		<createView viewName="FinJointAccountDetails_TView" replaceIfExists="true"> SELECT t1.jointaccountid, t1.finreference, t1.custcif, 
		t1.includerepay, t1.repayaccountid, t1.catofcoapplicant, t1.authoritysignatory, t1.sequence, t1.IncludeIncome, t1.version, 
		t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid, 
		t2.usrlogin, t2.usrfname, t2.usrmname, t2.usrlname, t3.custshrtname Lovdesccifname, t3.custid FROM finjointaccountdetails_temp 
		t1 LEFT JOIN secusers t2 ON t1.lastmntby = t2.usrid JOIN customers t3 ON t1.custcif = t3.custcif </createView> </changeSet> 
		<changeSet id="105" author="aditya.a"> <createView viewName="FinJointAccountDetails_AView" replaceIfExists="true"> SELECT 
		t1.jointaccountid, t1.finreference, t1.custcif, t1.includerepay, t1.repayaccountid, t1.catofcoapplicant, t1.authoritysignatory, 
		t1.sequence, t1.IncludeIncome, t1.version, t1.lastmntby, t1.lastmnton, t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, 
		t1.nexttaskid, t1.recordtype, t1.workflowid, t2.usrlogin, t2.usrfname, t2.usrmname, t2.usrlname, t3.custshrtname Lovdesccifname, 
		t3.custid FROM finjointaccountdetails t1 LEFT JOIN secusers t2 ON t1.lastmntby = t2.usrid JOIN customers t3 ON t1.custcif 
		= t3.custcif </createView> </changeSet> <changeSet id="106" author="Ajay"> <createTable tableName="AccountHistoryDetails"> 
		<column name="ACCOUNTID" type="VARCHAR(50)"> <constraints nullable="false" /> </column> <column name="POSTDATE" type="DATETIME"> 
		<constraints nullable="false" /> </column> <column name="ENTITYCODE" type="VARCHAR(8)"> <constraints nullable="false" /> 
		</column> <column name="POSTBRANCH" type="VARCHAR(12)"> <constraints nullable="false" /> </column> <column name="BRANCHPROVINCE" 
		type="VARCHAR(10)" /> <column name="TODAYDEBITS" type="DECIMAL(18,0)" /> <column name="TODAYCREDITS" type="DECIMAL(18,0)" 
		/> <column name="TODAYNET" type="DECIMAL(18,0)" /> <column name="SHADOWBAL" type="DECIMAL(18,0)" /> <column name="ACBALANCE" 
		type="DECIMAL(18,0)" /> <column name="OPENINGBAL" type="DECIMAL(18,0)" /> </createTable> </changeSet> <changeSet id="107" 
		author="Sriram"> <addUniqueConstraint tableName="AccountHistoryDetails" columnNames="AccountID,BranchProvince,PostBranch,EntityCode,postdate" 
		constraintName="UK_AccountHistoryDetails" /> </changeSet> <changeSet id="108" author="Rahul"> <createTable tableName="Trial_Balance_Report_Work"> 
		<column name="HEADERID" type="bigint"> <constraints nullable="false" /> </column> <column name="ACTYPEGRPID" type="varchar(20)"> 
		<constraints nullable="false" /> </column> <column name="COUNTRY" type="varchar(2)" /> <column name="PROVINCE" type="varchar(8)" 
		/> <column name="FINTYPE" type="varchar(8)" /> <column name="ACCOUNT" type="varchar(50)" /> <column name="HOSTACCOUNT" type="varchar(100)"> 
		<constraints nullable="false" /> </column> <column name="DESCRIPTION" type="varchar(100)"> <constraints nullable="false" 
		/> </column> <column name="OPENINGBAL" type="number(18,0)"> <constraints nullable="false" /> </column> <column name="OPENINGBALTYPE" 
		type="varchar(2)"> <constraints nullable="false" /> </column> <column name="DEBITAMOUNT" type="number(18,0)"> <constraints 
		nullable="false" /> </column> <column name="CREDITAMOUNT" type="number(18,0)"> <constraints nullable="false" /> </column> 
		<column name="CLOSINGBAL" type="number(18,0)"> <constraints nullable="false" /> </column> <column name="CLOSINGBALTYPE" type="varchar(2)"> 
		<constraints nullable="false" /> </column> <column name="GROUPCODE" type="varchar(20)" /> <column name="PLACBALANCE" type="number(18,0)" 
		/> </createTable> </changeSet> <changeSet id="109" author="Rahul"> <createView viewName="TRIAL_BALANCE_REPORT_VIEW" replaceIfExists="true"> 
		SELECT HEADERID, COUNTRY, PROVINCE, GROUPCODE ACTYPEGRPID, HOSTACCOUNT, DESCRIPTION, ${ADD.SCHEMA}UDF_CONVERTCURRENCY(OPENINGBAL, 
		TBH.CURRENCY, 'INR') OPENINGBAL, OPENINGBALTYPE, ${ADD.SCHEMA}UDF_CONVERTCURRENCY(DEBITAMOUNT, TBH.CURRENCY, 'INR') DEBITAMOUNT, 
		${ADD.SCHEMA}UDF_CONVERTCURRENCY(CREDITAMOUNT, TBH.CURRENCY, 'INR') CREDITAMOUNT, ${ADD.SCHEMA}UDF_CONVERTCURRENCY(CLOSINGBAL, 
		TBH.CURRENCY, 'INR') CLOSINGBAL, CLOSINGBALTYPE, ACCOUNT, FINTYPE FROM TRIAL_BALANCE_REPORT_WORK TBR INNER JOIN TRIAL_BALANCE_HEADER 
		TBH ON TBH.ID = TBR.HEADERID </createView> </changeSet> <changeSet id="110" author="Sriram"> <sql> <![CDATA[ Update DATA_ENGINE_TABLE 
		set Name = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' Where CONFIGID IN (Select ID from DATA_ENGINE_CONFIG Where Name IN ('TRIAL_BALANCE_EXPORT_CONSOLIDATE')); 
		Update DATA_ENGINE_TABLE set Name = 'TRIAL_BALANCE_REPORT_FILE_VIEW' Where CONFIGID IN (Select ID from DATA_ENGINE_CONFIG 
		Where Name IN ('TRIAL_BALANCE_EXPORT_STATE')); Update DATA_ENGINE_CONFIG set Header = 'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, 
		${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{PARENT GROUP,PLF LEDGER, DESCRIPTION, SAP GL,OPENING BALANCE,CR/DR,DEBIT 
		AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}' Where Name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE'; Update DATA_ENGINE_CONFIG 
		set Header = 'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{STATE,PARENT 
		GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}' Where 
		Name = 'TRIAL_BALANCE_EXPORT_STATE'; ]]> </sql> </changeSet> <changeSet id="111" author="Sriram"> <createIndex tableName="ACCOUNTHISTORYDETAILS" 
		indexName="IDX_ACCOUNTHISTORY_DETAILS"> <column name="POSTDATE" type="DATETIME" /> <column name="ENTITYCODE" type="VARCHAR(8)" 
		/> <column name="BRANCHPROVINCE" type="VARCHAR(10)" /> </createIndex> </changeSet> <changeSet id="112" author="Sriram"> <createIndex 
		tableName="POSTINGS" indexName="IDX_TRIALBAL_POSTINGS"> <column name="POSTDATE" type="DATETIME" /> <column name="ENTITYCODE" 
		type="VARCHAR(8)" /> </createIndex> </changeSet> <changeSet id="113" author="Sriram"> <createView viewName="DE_FILE_CONTROL_VIEW" 
		replaceIfExists="true"> SELECT DS.ID, DC.NAME, DC.UPLOADPATH FILELOCATION, DS.FILENAME, DS.ENDTIME, DS.STATUS, DC.id AS CONFIGID, 
		DC.POSTEVENT, DS.VALUEDATE, DS.USERID, TH.STARTDATE, TH.ENDDATE FROM DATA_ENGINE_CONFIG DC INNER JOIN DATA_ENGINE_STATUS 
		DS ON DS.NAME = DC.NAME LEFT join TRIAL_BALANCE_HEADER TH on TH.FILENAME=DS.FILENAME </createView> </changeSet> <changeSet 
		id="114" author="Sriram"> <sql> <![CDATA[ Delete from SMTPARAMETERS Where SYSPARMCODE IN ('FINANCIAL_YEAR_END_MONTH', 'FINANCIAL_YEAR_START_MONTH'); 
		Insert into SMTPARAMETERS values ('FINANCIAL_YEAR_END_MONTH', 'Finance year END month', 'String', 1, '3', 4, 0, null, null, 
		'Finance year END month', 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0); Insert into SMTPARAMETERS 
		values ('FINANCIAL_YEAR_START_MONTH', 'Finance year Start month', 'String', 1, '4', 4, 0, null, null, 'Finance year Start 
		month', 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0); ]]> </sql> </changeSet> <changeSet id="115" 
		author="Sriram" dbms="oracle,postgresql"> <sql> <![CDATA[ Update Postings Set EntityCode = (select max(EntityCode) from Entity) 
		Where EntityCode is null; Delete from AccounthistoryDetails; Create table ACCOUNTHISTORYDETAILS_PENNANT as select * from 
		AccountHistoryDetails; Delete from ACCOUNTHISTORYDETAILS_PENNANT; Insert INTO ACCOUNTHISTORYDETAILS_PENNANT Select Account 
		AccountID, Postdate, ENTITYCODE, POSTBRANCH, T2.BRANCHPROVINCE, SUM(Case When DrorCr = 'D' Then PostAmount -1 Else 0 End 
		) TodayDebits, SUM(Case When DrorCr = 'C' Then PostAmount Else 0 End ) TodayCredits, SUM(Case When DrorCr = 'D' Then PostAmount 
		-1 Else PostAmount End ) TodayNet, 0 ShadowBal, 0 AcBalance, 0 OpeningBal From Postings T1 Inner Join RMTBranches T2 On T1.Postbranch 
		= T2.BranchCode Group by Account,Postdate, ENTITYCODE, POSTBRANCH, T2.BRANCHPROVINCE; Update ACCOUNTHISTORYDETAILS_PENNANT 
		t1 set OPENINGBAL = (SELECT (SUM(TODAYNET) OVER (PARTITION BY AccountID, ENTITYCODE, POSTBRANCH, BRANCHPROVINCE ORDER BY 
		POSTDATE rows between unbounded preceding and current row )) - t1.TodayNet FROM ACCOUNTHISTORYDETAILS_PENNANT T2 where t1.AccountID 
		= T2.AccountID and t1.POSTDATE = T2.POSTDATE and t1.ENTITYCODE = T2.ENTITYCODE and t1.POSTBRANCH = T2.PostBranch and t1.BRANCHPROVINCE 
		=T2.BRANCHPROVINCE); insert into AccounthistoryDetails Select * from ACCOUNTHISTORYDETAILS_PENNANT; ]]> </sql> </changeSet> 
		<changeSet id="116" author="Sriram" dbms="mssql"> <sql> <![CDATA[ Update Postings Set EntityCode = (select max(EntityCode) 
		from Entity) Where EntityCode is null; Delete from AccounthistoryDetails; select * into ACCOUNTHISTORYDETAILS_PENNANT from 
		AccountHistoryDetails where 1=0; Delete from ACCOUNTHISTORYDETAILS_PENNANT; Insert INTO ACCOUNTHISTORYDETAILS_PENNANT Select 
		Account AccountID, Postdate, ENTITYCODE, POSTBRANCH, T2.BRANCHPROVINCE, SUM(Case When DrorCr = 'D' Then PostAmount -1 Else 
		0 End ) TodayDebits, SUM(Case When DrorCr = 'C' Then PostAmount Else 0 End ) TodayCredits, SUM(Case When DrorCr = 'D' Then 
		PostAmount -1 Else PostAmount End ) TodayNet, 0 ShadowBal, 0 AcBalance, 0 OpeningBal From Postings T1 Inner Join RMTBranches 
		T2 On T1.Postbranch = T2.BranchCode Group by Account, Postdate, ENTITYCODE, POSTBRANCH, T2.BRANCHPROVINCE; Update ACCOUNTHISTORYDETAILS_PENNANT 
		set OPENINGBAL = T2.OpeningBal - ACCOUNTHISTORYDETAILS_PENNANT.TodayNet , AcBalance = T2.OPENINGBAL from ( SELECT AccountID,POSTDATE,ENTITYCODE, 
		POSTBRANCH, BRANCHPROVINCE, SUM(TODAYNET) OVER (PARTITION BY AccountID, ENTITYCODE, POSTBRANCH, BRANCHPROVINCE ORDER BY POSTDATE 
		rows between unbounded preceding and current row ) AS OpeningBal FROM ACCOUNTHISTORYDETAILS_PENNANT )T2 where ACCOUNTHISTORYDETAILS_PENNANT.AccountID 
		= T2.AccountID and ACCOUNTHISTORYDETAILS_PENNANT.POSTDATE = T2.POSTDATE and ACCOUNTHISTORYDETAILS_PENNANT.ENTITYCODE = T2.ENTITYCODE 
		and ACCOUNTHISTORYDETAILS_PENNANT.POSTBRANCH = T2.PostBranch and ACCOUNTHISTORYDETAILS_PENNANT.BRANCHPROVINCE = T2.BRANCHPROVINCE; 
		insert into AccounthistoryDetails Select * from ACCOUNTHISTORYDETAILS_PENNANT; ]]> </sql> </changeSet> <changeSet id="117" 
		author="Sriram"> <modifyDataType tableName="TRANSACTION_DETAIL_REPORT_TEMP" columnName="HKONT" newDataType="varchar(50)" 
		/> </changeSet> <changeSet id="118_pre" author="vinay" dbms="postgresql"> <sql> <![CDATA[ select deps_save_and_drop_dependencies 
		('plf', 'transaction_detail_report'); ]]> </sql> </changeSet> <changeSet id="118" author="Sriram"> <modifyDataType tableName="TRANSACTION_DETAIL_REPORT" 
		columnName="HKONT" newDataType="varchar(50)" /> </changeSet> <changeSet id="118_post" author="vinay" dbms="postgresql"> <sql> 
		<![CDATA[ select deps_restore_dependencies ('plf', 'transaction_detail_report'); ]]> </sql> </changeSet> <changeSet id="119_pre" 
		author="ADARSH" dbms="postgresql"> <sql> <![CDATA[ select deps_save_and_drop_dependencies ('plf', 'feetypes'); select deps_save_and_drop_dependencies 
		('plf', 'feetypes_temp'); ]]> </sql> </changeSet> <changeSet id="119_0" author="RANGABABU" dbms="MSSQL"> <sql> <![CDATA[ 
		ALTER TABLE feetypes DROP CONSTRAINT DF_FeeTypes_AmortzReq ]]> </sql> </changeSet> <changeSet id="119" author="Kesava"> <modifyDataType 
		tableName="feetypes" columnName="amortzreq" newDataType="boolean" /> </changeSet> <changeSet id="120_0" author="RANGABABU" 
		dbms="MSSQL"> <sql> <![CDATA[ ALTER TABLE feetypes_temp DROP CONSTRAINT DF_FeeTypes_Temp_AmortzReq ]]> </sql> </changeSet> 
		<changeSet id="120" author="Kesava"> <modifyDataType tableName="feetypes_temp" columnName="amortzreq" newDataType="boolean" 
		/> </changeSet> <changeSet id="119_post" author="ADARSH" dbms="postgresql"> <sql> <![CDATA[ select deps_restore_dependencies 
		('plf', 'feetypes'); select deps_restore_dependencies ('plf', 'feetypes_temp'); ]]> </sql> </changeSet> <changeSet id="121" 
		author="Varaprasad.K"> <sql> <![CDATA[ UPDATE feetypes Set amortzreq = 0; UPDATE feetypes_temp Set amortzreq = 0; ]]> </sql> 
		</changeSet> <changeSet id="122" author="Varaprasad.K" dbms="mssql"> <sql> <![CDATA[ ALTER TABLE feetypes ADD CONSTRAINT 
		DF_feetypes_amortzreq DEFAULT 0 FOR amortzreq; ALTER TABLE feetypes_temp ADD CONSTRAINT DF_feetypes_temp_amortzreq DEFAULT 
		0 FOR amortzreq; ]]> </sql> </changeSet> <changeSet id="123" author="Varaprasad.K" dbms="postgresql, oracle"> <addDefaultValue 
		columnName="amortzreq" tableName="feetypes" defaultValue="0" /> <addDefaultValue columnName="amortzreq" tableName="feetypes_temp" 
		defaultValue="0" /> </changeSet> <changeSet id="124" author="murthy.y"> <createView viewName="ManualAdvise_LovView" replaceIfExists="true"> 
		SELECT ADVISEID, FEETYPEID, ADVISETYPE, FINREFERENCE, cast(round(ADVISEAMOUNT / 100, 2) as numeric(36,2)) ADVISEAMOUNT, VALUEDATE, 
		POSTDATE, cast(round(RESERVEDAMT / 100, 2) as numeric(36,2)) RESERVEDAMT, cast(round(BALANCEAMT / 100, 2) as numeric(36,2)) 
		BALANCEAMT FROM MANUALADVISE_AVIEW </createView> </changeSet> <changeSet id="125_pre" author="murthy.y" dbms="postgresql"> 
		<sql> <![CDATA[ select deps_save_and_drop_dependencies ('plf', 'paymentdetails'); select deps_save_and_drop_dependencies 
		('plf', 'paymentdetails_temp'); ]]> </sql> </changeSet> <changeSet id="125" author="murthy.y"> <modifyDataType tableName="PaymentDetails" 
		columnName="AmountType" newDataType="varchar(8)" /> <modifyDataType tableName="PaymentDetails_Temp" columnName="AmountType" 
		newDataType="varchar(8)" /> </changeSet> <changeSet id="125_Post" author="murthy.y" dbms="postgresql"> <sql> <![CDATA[ select 
		deps_restore_dependencies ('plf', 'paymentdetails'); select deps_restore_dependencies ('plf', 'paymentdetails_temp'); ]]> 
		</sql> </changeSet> <changeSet id="126" author="aditya.a"> <dropTable tableName="FinODDetails_Snapshot" /> </changeSet> <changeSet 
		id="126.1" author="aditya.a"> <createTable tableName="FinODDetails_Snapshot"> <column name="APPDATE" type="datetime" /> <column 
		name="FINREFERENCE" type="VARCHAR(20)" /> <column name="FINODSCHDDATE" type="datetime" /> <column name="FINODFOR" type="VARCHAR(1)" 
		/> <column name="FINBRANCH" type="VARCHAR(12))" /> <column name="FINTYPE" type="VARCHAR(8)" /> <column name="CUSTID" type="BIGINT" 
		/> <column name="FINODTILLDATE" type="datetime" /> <column name="FINCURODAMT" type="DECIMAL(18,0)" /> <column name="FINCURODPRI" 
		type="DECIMAL(18,0)" /> <column name="FINCURODPFT" type="DECIMAL(18,0)" /> <column name="FINMAXODAMT" type="DECIMAL(18,0)" 
		/> <column name="FINMAXODPRI" type="DECIMAL(18,0)" /> <column name="FINMAXODPFT" type="DECIMAL(18,0)" /> <column name="GRACEDAYS" 
		type="INT" /> <column name="INCGRACEDAYS" type="BOOLEAN" /> <column name="FINCURODDAYS" type="INT" /> <column name="TOTPENALTYAMT" 
		type="DECIMAL(18,0)" /> <column name="TOTWAIVED" type="DECIMAL(18,0)" /> <column name="TOTPENALTYPAID" type="DECIMAL(18,0)" 
		/> <column name="TOTPENALTYBAL" type="DECIMAL(18,0)" /> <column name="FINLMDFDATE" type="datetime" /> <column name="LPIAMT" 
		type="DECIMAL(18,0)" /> <column name="LPIPAID" type="DECIMAL(18,0)" /> <column name="LPIBAL" type="DECIMAL(18,0)" /> <column 
		name="LPIWAIVED" type="DECIMAL(18,0)" /> <column name="ODINCGRCDAYS" type="BOOLEAN" /> <column name="ODCHARGETYPE" type="CHAR(1)" 
		/> <column name="ODGRACEDAYS" type="INT" /> <column name="ODCHARGECALON " type="VARCHAR(8)" /> <column name="ODCHARGEAMTORPERC" 
		type="DECIMAL(18,0)" /> <column name="ODALLOWWAIVER" type="BOOLEAN" /> <column name="ODMAXWAIVERPERC" type="NUMBER(5,2)" 
		/> <column name="APPLYODPENALTY" type="BOOLEAN" /> <column name="ODMinCapAmount" type="DECIMAL(18,0)" /> <column name="oDRuleCode" 
		type="VARCHAR(8)" /> </createTable> </changeSet> <changeSet id="126.2" author="aditya.a"> <addNotNullConstraint tableName="FinODDetails_Snapshot" 
		columnName="APPDATE" columnDataType="datetime" /> <addNotNullConstraint tableName="FinODDetails_Snapshot" columnName="FINREFERENCE" 
		columnDataType="VARCHAR(20)" /> <addNotNullConstraint tableName="FinODDetails_Snapshot" columnName="FINODSCHDDATE" columnDataType="datetime" 
		/> <addNotNullConstraint tableName="FinODDetails_Snapshot" columnName="FINODFOR" columnDataType="VARCHAR(1)" /> </changeSet> 
		<changeSet id="126.3" author="aditya.a"> <addPrimaryKey tableName="FinODDetails_Snapshot" constraintName="pk_finODDetails_Snapshot" 
		columnNames="APPDATE,FINREFERENCE,FINODSCHDDATE,FINODFOR" /> </changeSet> <changeSet id="127" author="murthy"> <sql> <![CDATA[ 
		DELETE FROM RBFIELDDETAILS WHERE RBMODULE='STGRULE' AND RBEVENT='0' AND RBFLDNAME='AE_BPITDS'; DELETE FROM BMTAMOUNTCODES 
		WHERE ALLOWEDEVENT='ADDDBSP' AND ALLOWEDRIA='0' AND AMOUNTCODE='AE_BPITDS'; DELETE FROM SMTPARAMETERS WHERE SYSPARMCODE='BPI_PAID_ON_INSTDATE'; 
		DELETE FROM SMTPARAMETERS WHERE SYSPARMCODE='BPI_TDS_DEDUCT_ON_ORG'; update BMTAEEVENTS set active=0 where AEEVENTCODE='RECIP'; 
		Insert Into SMTparameters Values ('BPI_PAID_ON_INSTDATE', 'BPI Payment on Installment Due Date','String', '1', 'Y', '1', 
		'0', 'NULL', 'NULL','BPI Payment on Installment Due Date', '1', '1000', CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', 
		'0'); Insert Into SMTparameters Values ('BPI_TDS_DEDUCT_ON_ORG', 'BPI TDS Deduct on Origination','String', '1', 'Y', '1', 
		'0','NULL', 'NULL','BPI TDS Deduct on Origination', '1', '1000', CURRENT_TIMESTAMP, 'Approved', '', '', '', '','', '0'); 
		Insert into BMTAmountCodes Values ('ADDDBSP','0','ae_bpiTds', 'BPI TDS Amount', '1', 1, 1000, Current_TimeStamp, 'Approved', 
		null, null, null, null, null, 0 ); Insert into RBFieldDetails Values ('STGRULE','STGRULE','ae_bpiToAdvInt','BPI to Advance 
		Interest','nchar',1,'1','1',' ','static',' '); ]]> </sql> </changeSet> <changeSet author="Sai krishna.P" id="128"> <sql> 
		<![CDATA[ update RBFieldDetails set RBModule = 'SUBHEAD', RBEvent = 'SUBHEAD' where RBModule = 'STGRULE' and RBEvent = 'STGRULE' 
		and rbfldname = 'ae_bpiToAdvInt'; ]]> </sql> </changeSet> <changeSet author="vijaya.a" id="129" dbms="postgresql"> <sql> 
		<![CDATA[ alter table REJECTFINANCEMAIN add column QuickDisbTemp smallint; Update REJECTFINANCEMAIN set QuickDisbTemp = cast 
		(QuickDisb As smallint); alter table REJECTFINANCEMAIN drop column QuickDisb; alter table REJECTFINANCEMAIN rename column 
		QuickDisbTemp To QuickDisb; ]]> </sql> </changeSet> <changeSet id="129.1" author="vijaya.a" dbms="oracle,mssql"> <addColumn 
		tableName="REJECTFINANCEMAIN"> <column name="QuickDisbTemp" type="boolean" /> </addColumn> </changeSet> <changeSet author="vijaya.a" 
		id="129.2" dbms="oracle,mssql"> <sql> <![CDATA[ Update REJECTFINANCEMAIN set QuickDisbTemp = QuickDisb ; ]]> </sql> </changeSet> 
		<changeSet id="129.3" author="vijaya.a" dbms="oracle,mssql"> <dropDefaultValue tableName="REJECTFINANCEMAIN" columnName="QuickDisb" 
		columnDataType="char" /> </changeSet> <changeSet id="129.4" author="vijaya.a" dbms="oracle,mssql"> <dropColumn columnName="QuickDisb" 
		tableName="REJECTFINANCEMAIN" /> </changeSet> <changeSet id="129.5" author="vijaya.a" dbms="oracle,mssql"> <renameColumn 
		tableName="REJECTFINANCEMAIN" oldColumnName="QuickDisbTemp" newColumnName="QuickDisb" /> </changeSet> <changeSet id="130_pre" 
		author="ADARSH" dbms="postgresql"> <sql> <![CDATA[ select deps_save_and_drop_dependencies ('plf', 'trial_balance_report_file'); 
		]]> </sql> </changeSet> <changeSet id="130" author="aditya.a"> <modifyDataType tableName="trial_balance_report_file" columnName="debitamount" 
		newDataType="decimal(18,4)" /> </changeSet> <changeSet id="131" author="aditya.a"> <modifyDataType tableName="trial_balance_report_file" 
		columnName="creditamount" newDataType="decimal(18,4)" /> </changeSet> <changeSet id="130_post" author="ADARSH" dbms="postgresql"> 
		<sql> <![CDATA[ select deps_restore_dependencies ('plf', 'trial_balance_report_file'); ]]> </sql> </changeSet> <changeSet 
		id="132" author="aditya.a"> <sql> <![CDATA[ INSERT INTO ErrorDetails VALUES('90503','EN','E','{0} Cannot be "A" for the given 
		ExcessAdjustTo','','Approved','','','','','',0,current_timestamp,1000,0); INSERT INTO ErrorDetails VALUES('90504','EN','E','{0} 
		Cannot be "E" for the given ExcessAdjustTo','','Approved','','','','','',0,current_timestamp,1000,0); ]]> </sql> </changeSet> 
		<changeSet id="133" author="aditya.a"> <createView viewName="SMTDivisionDetail_AView" replaceIfExists="true"> SELECT T1.DivisionCode, 
		T1.DivisionCodeDesc, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
		T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.AlwPromotion, T1.DivSuspTrigger, T1.DivSuspRemarks, T1.EntityCode, T2.EntityDesc 
		FROM SMTDivisionDetail T1 LEFT JOIN Entity T2 ON T1.EntityCode= T2.EntityCode </createView> </changeSet> <changeSet id="134" 
		author="aditya.a"> <sql> <![CDATA[ INSERT INTO SMTparameters VALUES ('SOA_SHOW_CANCEL_RECEIPT', 'Show cancel receipt in soa', 
		'String', '0', 'N', 1, 0, NULL, NULL,'Show cancel receipt in soa', 1, 1000, CURRENT_TIMESTAMP,'Approved', '', '', '', '', 
		'',0); ]]> </sql> </changeSet> <changeSet id="135" author="murthy.y"> <comment>Adding missing Right</comment> <sql> <![CDATA[ 
		DELETE FROM SECGROUPRIGHTS WHERE RightId IN (SELECT RightId FROM SECRIGHTS WHERE RightName = 'button_FinAdvancePaymentsDialog_btnGetCustBeneficiary'); 
		DELETE FROM SECRIGHTS WHERE RightName = 'button_FinAdvancePaymentsDialog_btnGetCustBeneficiary'; UPDATE SEQSECGROUPRIGHTS 
		SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS_VIEW); Update SeqSecRights set SeqNo = (select MAX(RightID) from 
		SecRights); INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_FinAdvancePaymentsDialog_btnGetCustBeneficiary','FinAdvancePaymentsDialog',1,1000,CURRENT_TIMESTAMP,' 
		',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), 
		(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='FinAdvancePayments_Maker') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinAdvancePaymentsDialog_btnGetCustBeneficiary'), 
		1, 0,1000,CURRENT_TIMESTAMP,NULL,NULL,NULL,NULL,NULL,NULL,0); Update SeqSecRights set SeqNo = (select MAX(RightID) from SecRights); 
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS_VIEW); ]]> </sql> </changeSet> <changeSet 
		id="136" author="aditya.a"> <sql> <![CDATA[ INSERT INTO SMTparameters VALUES ('RECEIPT_CASH_PAN_MANDATORY', 'Pan number mandatory 
		check', 'String', '0', 'Y', 1, 0, NULL, NULL,'Pan number mandatory check', 1, 1000, CURRENT_TIMESTAMP,'Approved', '', '', 
		'', '', '',0); update SMTparameters set sysparmcode = 'RECEIPT_CASH_PAN_LIMIT' where sysparmcode = 'RECEIPTCASHPAN'; ]]> 
		</sql> </changeSet> <changeSet id="137" author="aditya.a"> <sql> <![CDATA[ delete from ErrorDetails where Code = '60408'; 
		insert into ErrorDetails values ('60408', 'EN', 'E','Loan cannot be cancelled since there are disbursement instructions with 
		status Awaiting Confirmation',null, 'Approved', null, null, null, null, null, 0, null, 1000, 0); ]]> </sql> </changeSet> 
		<changeSet id="138" author="Varaprasad.K"> <sql> <![CDATA[ delete from errordetails where code='90499'; Insert into ERRORDETAILS 
		values ('90499','EN','E','Partial Settlement Already initiated',null,'Approved',null,null,null,null,null,0,null,1000,0); 
		]]> </sql> </changeSet> <changeSet id="139" author="aditya.a"> <modifyDataType tableName="data_engine_column" columnName="DefaultValue" 
		newDataType="varchar(200)"/> </changeSet> <changeSet id="140" author="aditya.a"> <sql> <![CDATA[ delete from RBFieldDetails 
		where rbfldname = 'principalSchdOutstanding' and rbmodule = 'FEES' and rbevent = 'EARLYSTL'; Insert into RBFieldDetails Values 
		('FEES','EARLYSTL','principalSchdOutstanding','Principal Schedule Outstanding','Decimal',30,'1','1',' ','static,global',' 
		'); ]]> </sql> </changeSet> <changeSet id="141" author="aditya.a"> <sql> <![CDATA[ UPDATE SEQSECRIGHTS SET SEQNO= (SELECT 
		MAX(RIGHTID) FROM SECRIGHTS); UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS); UPDATE SEQSECGROUPRIGHTS 
		SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 
		0, 'menuItem_LoanClosureEnquiry','MENU',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 
		0=0; INSERT INTO SecGroups SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'LOAN_CLOSURE_ENQUIRY', 'Loan Closure Enquiry', 1,1000,CURRENT_TIMESTAMP,'Approved',' 
		',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0; INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), 
		(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='LOAN_CLOSURE_ENQUIRY') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_LoanClosureEnquiry'), 
		1, 0, 1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS); 
		UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS); UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) 
		FROM SECGROUPRIGHTS); ]]> </sql> </changeSet> <changeSet id="142" author="aditya.a"> <createView viewName="LegalDetails_TView" 
		replaceIfExists="true"> SELECT T1.LegalId, T1.LegalReference, T1.LoanReference, T1.CollateralReference, T1.Branch, T1.LegalDate, 
		T1.SchedulelevelArea, T1.LegalDecision, T1.LegalRemarks, T1.PropertyDetailModt, T1.PropertyDetailECDate, T1.EcPropertyOwnerName, 
		T1.Active, T1.Module , T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
		T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.BranchDesc, T3.FinBranch, T4.FinDivision FROM LegalDetails_Temp T1 Inner 
		Join RmtBranches T2 ON T1.Branch = T2.BranchCode Inner Join FinanceMain_Temp T3 ON T3.FinReference = T1.LoanReference Inner 
		JOIN rmtfinancetypes T4 ON T4.fintype = T3.fintype </createView> </changeSet> <changeSet id="143" author="aditya.a"> <createView 
		viewName="LegalDetails_View" replaceIfExists="true"> SELECT T1.LegalId, T1.LegalReference, T1.LoanReference, T1.CollateralReference, 
		T1.Branch, T1.LegalDate, T1.SchedulelevelArea, T1.LegalDecision, T1.LegalRemarks, T1.PropertyDetailModt, T1.PropertyDetailECDate, 
		T1.EcPropertyOwnerName, T1.Active, T1.Module , T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
		T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.BranchDesc, T3.FinBranch, T4.FinDivision FROM LegalDetails_Temp 
		T1 Inner Join RmtBranches T2 ON T1.Branch = T2.BranchCode Inner Join FinanceMain_Temp T3 ON T3.FinReference = T1.LoanReference 
		Inner JOIN rmtfinancetypes T4 ON T4.fintype = T3.fintype UNION ALL SELECT T1.LegalId, T1.LegalReference, T1.LoanReference, 
		T1.CollateralReference, T1.Branch, T1.LegalDate, T1.SchedulelevelArea, T1.LegalDecision, T1.LegalRemarks, T1.PropertyDetailModt, 
		T1.PropertyDetailECDate, T1.EcPropertyOwnerName, T1.Active, T1.Module , T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, 
		T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.BranchDesc, T3.FinBranch, T4.FinDivision 
		FROM LegalDetails T1 Inner Join RmtBranches T2 ON T1.Branch = T2.BranchCode Inner Join FinanceMain_View T3 ON T3.FinReference 
		= T1.LoanReference Inner JOIN rmtfinancetypes T4 ON T4.fintype = T3.fintype WHERE NOT EXISTS (SELECT 1 FROM LegalDetails_TEMP 
		WHERE LegalId = T1.LegalId) </createView> </changeSet> -->


	<!-- The above change logs are commented by Murthy since these changes logs are already executed in 5.0.5+ need to enabled 
		while upgrade the lower versions. -->
	<changeSet id="128" author="aditya.a">
		<sql>
			<![CDATA[
			    UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
                UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)+1 FROM SECGROUPS);
                UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);

                INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2,'button_DocumentDetailsDialog_NotRequired_btnDelete','DocumentDetailsDialog', 0, 1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;

                INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'LOAN_DOCUMENT_DETAILS', 'Loan Document Details', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;

                INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='LOAN_DOCUMENT_DETAILS') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_DocumentDetailsDialog_NotRequired_btnDelete'), 1, 0, 1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

                UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
                UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)+1 FROM SECGROUPS);
                UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			]]>
		</sql>
	</changeSet>

	<changeSet id="129" author="aditya.a">
		<sql>
			<![CDATA[
			    UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
                UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)+1 FROM SECGROUPS);
                UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);

                INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0,'menuItem_FinanceManagement_RegenerateAgreement','MENU', 0, 1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;

                INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'Regenerate_Agreement', 'Regenerate Agreement', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;

                INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='Regenerate_Agreement') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_RegenerateAgreement'), 1, 0, 1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

                UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
                UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)+1 FROM SECGROUPS);
                UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			]]>
		</sql>
	</changeSet>

	<changeSet id="133" author="aditya">
		<createTable tableName="RegenerateAgreeement">
			<column name="AgreeementCode" type="VARCHAR(50)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>

	<changeSet id="145" author="aditya.a">
		<comment>Adding closeddate field</comment>
		<createView viewName="RPT_soa_loan_view" replaceIfExists="true">
			Select FM.FinReference,
			FM.FInAssetValue
			LoanAmount,
			FM.RepayBaseRate PLRRate,
			FM.repaymargin Variance,
			FM.EffectiveRateOfReturn IRR,
			FP.CURREDUCINGRATE ROI,
			FP.NOINST Tenure,
			TotalPriPaid EMIReceivedPri ,
			TotalPftPaid EMIReceivedPft,
			0.00 PreferredCardLimit,
			PRVRPYSCHPRI
			PrevInstAmtPri,
			PRVRPYSCHPFT PrevInstAmtPft,
			Case when FM.repayRateBasis ='R' then 'Reducing'
			when FM.repayRateBasis
			='F' then 'Flat'
			when FM.repayRateBasis ='C' then 'Flat Converting to Reduce' else '' end
			intRateType,
			FP.latestDisbDate LastDisbursalDate,
			FP.FirstRepayDate FirstDueDate,
			FM.MaturityDate EndInstallmentDate,
			'0.00/ 0'
			AdvInstAmt,
			FM.FinIsActive,
			FM.closingstatus,
			FM.closeddate,
			FP.Futureinst FutureInstNo,
			FP.totalpriSchd FuturePri1,
			FP.tdSchdPri FuturePri2,
			FP.totalPftSchd FutureRpyPft1,
			FP.tdSchdPft FutureRpyPft2,
			FP.totchargespaid Charge_coll_cust,
			FP.UpFrontFee Upfront_int_cust,
			0 Int_paid_Dealer_upfront,
			0 Pre_emi_Int_Paid,
			'' Repo_Status,'' Repo_Date,
			''
			Sale_Date,'' Release_Date,
			FP.LATESTRPYDATE,
			C.ccyMinorccyunits,
			ccyEditField,Coalesce(FP.totalpftcpz,0) totalpftcpz
			From FinanceMain FM inner join
			FinPftDetails FP on FP.FinReference = FM.FinReference inner join
			rmtfinancetypes RF on
			RF.fintype = FM.fintype inner join
			RMTCURRENCIES C on C.ccycode= FP.finccy
		</createView>
	</changeSet>

	<changeSet id="146_pre" author="aditya.a" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'finadvancepayments');
				select deps_save_and_drop_dependencies ('plf', 'finadvancepayments_temp');
				select deps_save_and_drop_dependencies ('plf', 'finadvancepayments_pa');
		 	]]>
		</sql>
	</changeSet>

	<changeSet id="146" author="aditya.a">
		<modifyDataType tableName="FinAdvancePayments" columnName="reenterbeneficiaryaccno" newDataType="varchar(50)" />
	</changeSet>

	<changeSet id="147" author="aditya.a">
		<modifyDataType tableName="FinAdvancePayments_temp" columnName="reenterbeneficiaryaccno" newDataType="varchar(50)" />
	</changeSet>

	<changeSet id="148" author="aditya.a">
		<modifyDataType tableName="FinAdvancePayments_PA" columnName="reenterbeneficiaryaccno" newDataType="varchar(50)" />
	</changeSet>

	<changeSet id="146_post" author="aditya.a" dbms="postgresql">
		<sql>
			<![CDATA[
					select deps_restore_dependencies ('plf', 'finadvancepayments');
					select deps_restore_dependencies ('plf', 'finadvancepayments_temp');
					select deps_restore_dependencies ('plf', 'finadvancepayments_pa');
					
			]]>
		</sql>
	</changeSet>

	<changeSet id="ST#53" author="pavankalyan.s">
		<createTable tableName="FINEXCESSAMOUNT_SNAPSHOT">
			<column name="APPDATE" type="datetime" />
			<column name="EXCESSID" type="BIGINT" />
			<column name="CUSTID" type="BIGINT" />
			<column name="FINREFERENCE" type="VARCHAR(20)" />
			<column name="AMOUNTTYPE" type="VARCHAR(8)" />
			<column name="AMOUNT" type="DECIMAL(18,0)" />
			<column name="UTILISEDAMT" type="DECIMAL(18,0)" />
			<column name="RESERVEDAMT" type="DECIMAL(18,0)" />
			<column name="BALANCEAMT" type="DECIMAL(18,0)" />
		</createTable>
	</changeSet>

	<changeSet id="ST#53.0" author="pavankalyan.s" dbms="mssql">
		<addNotNullConstraint tableName="FINEXCESSAMOUNT_SNAPSHOT" columnName="APPDATE" columnDataType="datetime" />
		<addNotNullConstraint tableName="FINEXCESSAMOUNT_SNAPSHOT" columnName="EXCESSID" columnDataType="BIGINT" />
		<addNotNullConstraint tableName="FINEXCESSAMOUNT_SNAPSHOT" columnName="CUSTID" columnDataType="BIGINT" />
	</changeSet>

	<changeSet id="ST#53.1" author="pavankalyan.s">
		<addPrimaryKey tableName="FINEXCESSAMOUNT_SNAPSHOT" constraintName="PK_FINEXCESSAMOUNT_SNAPSHOT"
			columnNames="APPDATE, EXCESSID, CUSTID" />
	</changeSet>

	<changeSet id="ST#53.2" author="pavankalyan.s" dbms="oracle,mssql">
		<sql>
		<![CDATA[
			update FINPFTDETAILS_SNAPSHOT set APPDATE=APPDATE-1;
			update FINODDETAILS_SNAPSHOT set APPDATE=APPDATE-1;
		]]>
		</sql>
	</changeSet>

	<changeSet id="ST#53.3" author="pavankalyan.s" dbms="postgresql">
		<sql>
		<![CDATA[
			update plf.FINPFTDETAILS_SNAPSHOT set APPDATE=((APPDATE) - INTERVAL '1 DAY');
			update plf.FINODDETAILS_SNAPSHOT set APPDATE=((APPDATE) - INTERVAL '1 DAY');
		]]>
		</sql>
	</changeSet>

</databaseChangeLog>