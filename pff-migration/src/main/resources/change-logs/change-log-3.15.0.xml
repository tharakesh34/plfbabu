<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PFFBFSQCAudit.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()::timestamp" dbms="postgresql" />
	
	 <changeSet author="Siva" id="1">
		<createTable tableName="FinTaxDetail">
			<column name="FinReference" type="nvarchar(20)">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="ApplicableFor" type="varchar(1)" />
			<column name="TaxExempted" type="boolean" />
			<column name="TaxNumber" type="varchar(100)" />
			<column name="AddrLine1" type="varchar(100)" />
			<column name="AddrLine2" type="varchar(100)" />
			<column name="AddrLine3" type="varchar(100)" />
			<column name="AddrLine4" type="varchar(100)" />
			<column name="Country" type="varchar(2)" />
			<column name="Province" type="varchar(8)" />
			<column name="City" type="varchar(50)" />
			<column name="PinCode" type="varchar(10)" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet author="Siva" id="2">
		<createTable tableName="FinTaxDetail_Temp">
			<column name="FinReference" type="nvarchar(20)">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="ApplicableFor" type="varchar(1)" />
			<column name="TaxExempted" type="boolean" />
			<column name="TaxNumber" type="varchar(100)" />
			<column name="AddrLine1" type="varchar(100)" />
			<column name="AddrLine2" type="varchar(100)" />
			<column name="AddrLine3" type="varchar(100)" />
			<column name="AddrLine4" type="varchar(100)" />
			<column name="Country" type="varchar(2)" />
			<column name="Province" type="varchar(8)" />
			<column name="City" type="varchar(50)" />
			<column name="PinCode" type="varchar(10)" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet author="Siva" id="3">
		<createView viewName="FinTaxDetail_AView" replaceIfExists="true">
			SELECT		T1.FinReference, T1.ApplicableFor, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode		
						, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    	FinTaxDetail T1 
		</createView>
	</changeSet>
	
	<changeSet author="Siva" id="4">
		<createView viewName="FinTaxDetail_View" replaceIfExists="true">
			SELECT		T1.FinReference, T1.ApplicableFor, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode		
						, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    	FinTaxDetail_Temp T1 
			UNION ALL
			SELECT		T1.FinReference, T1.ApplicableFor, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode		
						, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    	FinTaxDetail T1 
			WHERE     NOT EXISTS (SELECT 1 FROM FinTaxDetail_TEMP WHERE FinReference = T1.FinReference)
		</createView>
	</changeSet>
	
	<changeSet author="Siva" id="5">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
			
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FINANCETAXDETAIL_VIEW', 'Loan GST Details View', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FINANCETAXDETAIL_MAKER', 'Loan GST Details Maker', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FINANCETAXDETAIL_APPROVER', 'Loan GST Details Approver', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_FinanceManagement_FinanceTaxDetail','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_Enquiry_FinanceTaxDetailEnquiry','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_FinanceTaxDetailList_PrintList','FinanceTaxDetailList',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_FinanceTaxDetailList_NewFinanceTaxDetail','FinanceTaxDetailList',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_FinanceTaxDetailDialog_btnEdit','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_FinanceTaxDetailDialog_btnNew','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_FinanceTaxDetailDialog_btnDelete','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_FinanceTaxDetailDialog_btnSave','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_FinReference','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_ApplicableFor','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_TaxExempted','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_TaxNumber','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_AddrLine1','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_AddrLine2','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_AddrLine3','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_AddrLine4','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_Country','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_Province','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_City','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceTaxDetailDialog_PinCode','FinanceTaxDetailDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_FinanceTaxDetail'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinanceTaxDetailList_PrintList'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinanceTaxDetailList_NewFinanceTaxDetail'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinanceTaxDetailDialog_btnEdit'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinanceTaxDetailDialog_btnNew'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinanceTaxDetailDialog_btnDelete'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinanceTaxDetailDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_FinReference'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_ApplicableFor'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_TaxExempted'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_TaxNumber'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_AddrLine1'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_AddrLine2'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_AddrLine3'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_AddrLine4'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_Country'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_Province'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_City'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_PinCode'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_FinanceTaxDetail'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinanceTaxDetailList_PrintList'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinanceTaxDetailDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_VIEW') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_FinanceTaxDetail'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_VIEW') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceManagement'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceManagement'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceManagement'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_VIEW') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceEnquiry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceEnquiry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceEnquiry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='FINANCETAXDETAIL_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='OPERATIONS_OFFICER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='FINANCETAXDETAIL_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='OPERATIONS_MANAGER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
		</sql>
	</changeSet>
	
	<changeSet author="Siva" id="6">
		<sql>
			INSERT INTO ErrorDetails VALUES('90338','EN','E','Collateral already used against Loan for this Co-Owner. Not allowed to Delete Co-Owner.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	<changeSet author="Siva" id="7">
		<sql>
			Update ErrorDetails SET errormessage = 'Collateral already used against Loan for this Third Party. Not allowed to Delete Third Party.'  where ErrorCode = '90338';
		</sql>
	</changeSet>
	
		<changeSet author="Siva" id="8">
		<createView viewName="FinTaxDetail_AView" replaceIfExists="true">
		SELECT		T1.FinReference, T1.ApplicableFor, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode		
						, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
            T2.CountryDesc CountryName, T3.CPProvinceName ProvinceName,T4.PCCItyName CityName, t5.areaname PinCodeName
			FROM    	FinTaxDetail T1 LEFT JOIN
      BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
      RmtCountryvsProvince T3 ON T1.Province = t3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
      rmtprovincevscity T4 ON T1.City = t4.pccity and T1.Province = t4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
      pincodes T5 ON T1.PinCode = t5.pincode and T1.City = t5.city 
		</createView>
	</changeSet>
	
	<changeSet author="Siva" id="9">
		<createView viewName="FinTaxDetail_View" replaceIfExists="true">
			SELECT		T1.FinReference, T1.ApplicableFor, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode		
						, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
             T2.CountryDesc CountryName, T3.CPProvinceName ProvinceName,T4.PCCItyName CityName, t5.areaname PinCodeName
			FROM    	FinTaxDetail_Temp T1  LEFT JOIN
      BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
      RmtCountryvsProvince T3 ON T1.Province = t3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
      rmtprovincevscity T4 ON T1.City = t4.pccity and T1.Province = t4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
      pincodes T5 ON T1.PinCode = t5.pincode and T1.City = t5.city 
			UNION ALL
			SELECT		T1.FinReference, T1.ApplicableFor, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode		
						, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
             T2.CountryDesc CountryName, T3.CPProvinceName ProvinceName,T4.PCCItyName CityName, t5.areaname PinCodeName
			FROM    	FinTaxDetail T1  LEFT JOIN
      BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
      RmtCountryvsProvince T3 ON T1.Province = t3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
      rmtprovincevscity T4 ON T1.City = t4.pccity and T1.Province = t4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
      pincodes T5 ON T1.PinCode = t5.pincode and T1.City = t5.city 
			WHERE     NOT EXISTS (SELECT 1 FROM FinTaxDetail_TEMP WHERE FinReference = T1.FinReference)
		</createView>
	</changeSet>
	
	<changeSet author="Siva" id="10">
		<sql>
		
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
		
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FINANCETAXDETAIL_ORG', 'Loan GST Details Maker', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
		
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_ApplicableFor'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_TaxExempted'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_TaxNumber'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_AddrLine1'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_AddrLine2'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_AddrLine3'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_AddrLine4'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_Country'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_Province'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_City'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_ORG') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceTaxDetailDialog_PinCode'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='FINANCETAXDETAIL_ORG'), (Select  RoleID  From SecRoles Where RoleCd='BFSD_DISB_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
		 
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
		</sql>
	</changeSet>
	<changeSet id="11" author="Jayant">
	    <sql>
	        update RMTFINANCETYPES set EQUALREPAYMENT = 1;
	    </sql>
	</changeSet>
	
	<changeSet id="12" author="Amit">
		<modifyDataType tableName="gcdcustomers" columnName="industryId"
			newDataType="number(19,0)" />
			<modifyDataType tableName="gcdcustomers" columnName="branchId"
			newDataType="number(19,0)" />
	</changeSet>
	
	<changeSet id="13" author="Amit">
		<modifyDataType tableName="gcdcustomers_test" columnName="industryId"
			newDataType="number(19,0)" />
			<modifyDataType tableName="gcdcustomers_test" columnName="branchId"
			newDataType="number(19,0)" />
	</changeSet>
	<changeSet author="Satya" id="14">
		<sql>
		update secrights set rightname ='menuCat_ApplicationMaster' where rightname ='menuCat_applicationmaster';
        update secrights set rightname ='menuCat_ApplicationMasterEnquiry' where rightname ='menuCat_applicationmasterEnquiry';
		</sql>
	</changeSet>
	<changeSet id="15" author="Jayant">
	    <sql>
	        update pincodes set WorkFlowId = 0 ;
	    </sql>
	</changeSet>
	<changeSet id="15" author="Durgaprasad G" dbms="oracle">
	 <createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
		 	SELECT   
				   FA. PAYMENTID,
				   FA.FINREFERENCE,
				   'D' CHANNEL, 
				   CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   FA.DISBDATE,
	               FA.LLDATE,
				   FA.PAYABLELOC,
				   FA.PRINTINGLOC,
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
	              BD.BANKNAME BANKNAME,
	              BB.BRANCHCODE,
	              BB.BRANCHDESC BRANCHDESC,
				  PBD.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				  PBD.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR             MICR_CODE,
				   BB.IFSC             IFSC_CODE,
				   FA.BENEFICIARYACCNO,
				   CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
				   FA.PHONECOUNTRYCODE||FA.PHONEAREACODE||FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
				   BCE.CUSTEMAIL        BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   FA.STATUS           STATUS,
				   FA.DESCRIPTION      REMARKS,
				     FA.PAYMENTTYPE      PAYMENTTYPE,
				     FM.FINTYPE,
				     PB.PARTNERBANKID,
				     PB.PARTNERBANKCODE,
				     FA.INPUTDATE,
				     PB.ALWFILEDOWNLOAD,
	                PB.FILENAME,
				     FM.FINISACTIVE
				   FROM FINADVANCEPAYMENTS FA
				   INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = FA.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
	               INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
	         	   LEFT JOIN  (select PB.PARTNERBANKID, PBD.BANKNAME, PBB.BRANCHDESC, PBBRC.PCCITYNAME, PBBRS.CPPROVINCENAME from PARTNERBANKS PB INNER JOIN BANKBRANCHES PBB ON PBB.BANKBRANCHID = PB.BANKBRANCHCODE INNER JOIN BMTBANKDETAIL PBD ON PBD.BANKCODE = PBB.BANKCODE LEFT JOIN RMTPROVINCEVSCITY PBBRC ON PBBRC.PCCITY = PBB.CITY LEFT JOIN RMTCOUNTRYVSPROVINCE PBBRS ON PBBRS.CPPROVINCE = PBBRC.PCPROVINCE ) PBD ON PBD.PARTNERBANKID = PB.PARTNERBANKID
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE STATUS='APPROVED' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
				   
				   UNION ALL
				   
				   SELECT PI. PAYMENTINSTRUCTIONID PAYMENTID,
				   PH.FINREFERENCE,
				   PH.PAYMENTTYPE CHANNEL, 
				   CASE WHEN PI.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN PI.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN PI.PAYMENTTYPE = 'DD' THEN 'D' WHEN PI.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  PI.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   PI.PAYMENTAMOUNT/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   PI.POSTDATE DISBDATE, 
				   PI.POSTDATE LLDATE, 
				   PI.PAYABLELOC, 
				   PI.PRINTINGLOC, 
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
				   BD.BANKNAME,
				   BB.BRANCHCODE,
				   BB.BRANCHDESC,
				   BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				   BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR              MICR_CODE,
				   BB.IFSC              IFSC_CODE,
				   PI.ACCOUNTNO BENEFICIARYACCNO,
				   CASE WHEN PI.PAYMENTTYPE = 'CHEQUE' OR  PI.PAYMENTTYPE = 'DD' THEN PI.FAVOURNAME ELSE PI.ACCTHOLDERNAME END BENEFICIARYNAME,
				   PI.PHONECOUNTRYCODE||PI.PHONENUMBER AS BENEFICIARY_MOBILE,
				   BCE.CUSTEMAIL       BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   PI.STATUS           STATUS, 
				   PI.REMARKS          REMARKS,
				   PI.PAYMENTTYPE      PAYMENTTYPE,
				   FM.FINTYPE,
				   PB.PARTNERBANKID,
				   PB.PARTNERBANKCODE,
				   PI.POSTDATE INPUTDATE, 
				   PB.ALWFILEDOWNLOAD,
				   PB.FILENAME,
				   FM.FINISACTIVE
				   FROM PAYMENTINSTRUCTIONS PI 
				   INNER JOIN PAYMENTHEADER PH ON PH.PAYMENTID = PI.PAYMENTID
				   INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = PH.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = PI.PAYMENTCCY
				   INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = PI.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
				   LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = PI.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
				   LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = PI.BANKBRANCHID AND BR.ACCNUMBER = PI.ACCOUNTNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE PI.STATUS='APPROVED' AND PI.PAYMENTINSTRUCTIONID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
	 </createView>
	
	</changeSet>
	<changeSet id="15" author="Durgaprasad G" dbms="mssql">
	 <createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
		 	SELECT   
				   FA. PAYMENTID,
				   FA.FINREFERENCE,
				   'D' CHANNEL, 
				   CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   FA.DISBDATE,
	               FA.LLDATE,
				   FA.PAYABLELOC,
				   FA.PRINTINGLOC,
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
	              BD.BANKNAME BANKNAME,
	              BB.BRANCHCODE,
	              BB.BRANCHDESC BRANCHDESC,
				  PBD.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				  PBD.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR             MICR_CODE,
				   BB.IFSC             IFSC_CODE,
				   FA.BENEFICIARYACCNO,
				   CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
				   FA.PHONECOUNTRYCODE+FA.PHONEAREACODE+FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
				   BCE.CUSTEMAIL        BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   FA.STATUS           STATUS,
				   FA.DESCRIPTION      REMARKS,
				     FA.PAYMENTTYPE      PAYMENTTYPE,
				     FM.FINTYPE,
				     PB.PARTNERBANKID,
				     PB.PARTNERBANKCODE,
				     FA.INPUTDATE,
				     PB.ALWFILEDOWNLOAD,
	                PB.FILENAME,
				     FM.FINISACTIVE
				   FROM FINADVANCEPAYMENTS FA
				   INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = FA.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
	               INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
	         	   LEFT JOIN  (select PB.PARTNERBANKID, PBD.BANKNAME, PBB.BRANCHDESC, PBBRC.PCCITYNAME, PBBRS.CPPROVINCENAME from PARTNERBANKS PB INNER JOIN BANKBRANCHES PBB ON PBB.BANKBRANCHID = PB.BANKBRANCHCODE INNER JOIN BMTBANKDETAIL PBD ON PBD.BANKCODE = PBB.BANKCODE LEFT JOIN RMTPROVINCEVSCITY PBBRC ON PBBRC.PCCITY = PBB.CITY LEFT JOIN RMTCOUNTRYVSPROVINCE PBBRS ON PBBRS.CPPROVINCE = PBBRC.PCPROVINCE ) PBD ON PBD.PARTNERBANKID = PB.PARTNERBANKID
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE STATUS='APPROVED' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
				   
				   UNION ALL
				   
				   SELECT PI. PAYMENTINSTRUCTIONID PAYMENTID,
				   PH.FINREFERENCE,
				   PH.PAYMENTTYPE CHANNEL, 
				   CASE WHEN PI.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN PI.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN PI.PAYMENTTYPE = 'DD' THEN 'D' WHEN PI.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  PI.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   PI.PAYMENTAMOUNT/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   PI.POSTDATE DISBDATE, 
				   PI.POSTDATE LLDATE, 
				   PI.PAYABLELOC, 
				   PI.PRINTINGLOC, 
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
				   BD.BANKNAME,
				   BB.BRANCHCODE,
				   BB.BRANCHDESC,
				   BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				   BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR              MICR_CODE,
				   BB.IFSC              IFSC_CODE,
				   PI.ACCOUNTNO BENEFICIARYACCNO,
				   CASE WHEN PI.PAYMENTTYPE = 'CHEQUE' OR  PI.PAYMENTTYPE = 'DD' THEN PI.FAVOURNAME ELSE PI.ACCTHOLDERNAME END BENEFICIARYNAME,
				   PI.PHONECOUNTRYCODE+PI.PHONENUMBER AS BENEFICIARY_MOBILE,
				   BCE.CUSTEMAIL       BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   PI.STATUS           STATUS, 
				   PI.REMARKS          REMARKS,
				   PI.PAYMENTTYPE      PAYMENTTYPE,
				   FM.FINTYPE,
				   PB.PARTNERBANKID,
				   PB.PARTNERBANKCODE,
				   PI.POSTDATE INPUTDATE, 
				   PB.ALWFILEDOWNLOAD,
				   PB.FILENAME,
				   FM.FINISACTIVE
				   FROM PAYMENTINSTRUCTIONS PI 
				   INNER JOIN PAYMENTHEADER PH ON PH.PAYMENTID = PI.PAYMENTID
				   INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = PH.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = PI.PAYMENTCCY
				   INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = PI.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
				   LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = PI.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
				   LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = PI.BANKBRANCHID AND BR.ACCNUMBER = PI.ACCOUNTNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE PI.STATUS='APPROVED' AND PI.PAYMENTINSTRUCTIONID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
	 </createView>
	
	</changeSet>
	<changeSet id="16" author="Durgaprasad .g">
	<dropColumn tableName="INT_DSBIMPS_RESPONSE" columnName="CHANNEL"/>
	</changeSet>
	
	<changeSet id="17" author="Durgaprasad.g">
		<modifyDataType tableName="FINADVANCEPAYMENTS" columnName="REJECTREASON" newDataType="VARCHAR(200)"/>
		<modifyDataType tableName="PAYMENTINSTRUCTIONS" columnName="REJECTREASON" newDataType="VARCHAR(200)"/>
	</changeSet>
	
	<changeSet id="18" author="Durgaprasad.g">
	 <modifyDataType tableName="DISBURSEMENT_REQUESTS" columnName="REJECT_REASON" newDataType="VARCHAR(200)"/>
	</changeSet>

	 <changeSet id="20" author="Amit">
  <addColumn tableName="gcdcustomers">
   <column name="IsSuccess" type="Number(2,0)" defaultValue="0"/>
  </addColumn>
	</changeSet>
	<changeSet id="21" author="Srikanth">
	<sql>
	INSERT INTO ErrorDetails VALUES('90339','EN','E','Workflow configuration not defined for product: {0}.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	</sql>
	</changeSet>
	<changeSet id="22" author="Amit" dbms="oracle">
	<dropColumn tableName="gcdcustomers" columnName="IsSuccess" />

	<addColumn tableName="gcdcustomers">
		<column name="IsSuccess" type="Number(2,0)" defaultValueNumeric="1"  />
	</addColumn>
	</changeSet>
		<changeSet id="22" author="Amit" dbms="mssql">
		    <dropDefaultValue tableName="gcdcustomers" columnName="IsSuccess" columnDataType="varchar"/>
	<dropColumn tableName="gcdcustomers" columnName="IsSuccess" />

	<addColumn tableName="gcdcustomers">
		<column name="IsSuccess" type="Number(2,0)" defaultValueNumeric="1"  />
	</addColumn>
	</changeSet>
	<changeSet author="Vinay" id="23">
		<createView viewName="RMTPROVINCEVSCITY_AVIEW" replaceIfExists="true">
			SELECT  T1.PCCountry, T1.PCProvince, T1.PCCity, T1.PCCityName,
        T1.PCCityClassification, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
        T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.BankRefNo, T1.CityIsActive,
        T2.CountryDesc LovDescPCCountryName,
        T3.CPProvinceName LovDescPCProvinceName, T3.TAXSTATECODE
		FROM    RMTProvinceVsCity  T1 INNER JOIN
        BMTCountries  T2 ON T1.PCCountry = T2.CountryCode INNER JOIN
        RMTCountryVsProvince  T3 ON T1.PCCountry = T3.CPCountry AND T1.PCProvince = T3.CPProvince
		</createView>
	</changeSet>
	
	<changeSet author="Vinay" id="24">
		<createView viewName="RMTPROVINCEVSCITY_VIEW" replaceIfExists="true">
			SELECT  T1.PCCountry, T1.PCProvince, T1.PCCity, T1.PCCityName,
        T1.PCCityClassification, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
        T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.BankRefNo, T1.CityIsActive,
        T2.CountryDesc LovDescPCCountryName,
        T3.CPProvinceName LovDescPCProvinceName, T3.TAXSTATECODE
		FROM    RMTProvinceVsCity_Temp  T1 INNER JOIN
        BMTCountries  T2 ON T1.PCCountry = T2.CountryCode INNER JOIN
        RMTCountryVsProvince  T3 ON T1.PCCountry = T3.CPCountry AND T1.PCProvince = T3.CPProvince
			UNION ALL
			SELECT  T1.PCCountry, T1.PCProvince, T1.PCCity, T1.PCCityName,
        T1.PCCityClassification, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
        T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.BankRefNo, T1.CityIsActive,
        T2.CountryDesc LovDescPCCountryName,
        T3.CPProvinceName LovDescPCProvinceName, T3.TAXSTATECODE
		FROM    RMTProvinceVsCity  T1 INNER JOIN
        BMTCountries  T2 ON T1.PCCountry = T2.CountryCode INNER JOIN
        RMTCountryVsProvince  T3 ON T1.PCCountry = T3.CPCountry AND T1.PCProvince = T3.CPProvince
			WHERE     NOT EXISTS
				                          (SELECT     1
	                            FROM          RMTProvinceVsCity_TEMP
	                            WHERE      PCCountry = T1.PCCountry AND PCProvince = T1.PCProvince AND PCCity = T1.PCCity)
		</createView>
	</changeSet>
	<changeSet id="25" author="Irfan">
		<addColumn tableName="FINSCHEDULEDETAILS">
			<column name="PartialPaidAmt" type="decimal(18, 0)"/>
		</addColumn>
		<addColumn tableName="FINSCHEDULEDETAILS_TEMP">
			<column name="PartialPaidAmt" type="decimal(18, 0)"/>
		</addColumn>
		<addColumn tableName="FINSCHEDULEDETAILS_PA">
			<column name="PartialPaidAmt" type="decimal(18, 0)"/>
		</addColumn>
		<addColumn tableName="REJECTFINSCHEDULEDETAILS">
			<column name="PartialPaidAmt" type="decimal(18, 0)"/>
		</addColumn>
		<addColumn tableName="FINSCHEDULEDETAILS_LOG">
			<column name="PartialPaidAmt" type="decimal(18, 0)"/>
		</addColumn>
	</changeSet>
	<changeSet id="26" author="Irfan">
		<createView viewName="FINSCHEDULEDETAILS_VIEW" replaceIfExists="true">
			SELECT     T1.FinReference, T1.SchSeq, T1.SchDate, T1.PftOnSchDate, T1.RepayOnSchDate, T1.CpzOnSchDate, T1.RvwOnSchDate, T1.DisbOnSchDate, 
	                     T1.DownpaymentOnSchDate, T1.BalanceForPftCal, T1.BaseRate, T1.SplRate, T1.ActRate, T1.NoOfDays, T1.DayFactor, T1.ProfitCalc, T1.ProfitSchd, 
	                      T1.PrincipalSchd, T1.RepayAmount, T1.ProfitBalance, T1.DisbAmount, T1.CpzAmount, T1.DownPaymentAmount,  
	                      T1.ClosingBalance, T1.ProfitFraction, T1.PrvRepayAmount, T1.SchdPftPaid, T1.SchPftPaid, T1.SchdPriPaid, T1.SchPriPaid, 
	                      T1.Specifier, T1.DefSchdDate, T1.SchdMethod, T1.MrgRate, 
	                      T1.CalOnIndRate,T1.FeeChargeAmt, T1.CalculatedRate, T1.EarlyPaidBal, T1.EarlyPaid, T1.RefundOrWaiver, T1.WriteoffPrincipal, 
	                      T1.WriteoffProfit, T1.OrgPft, T1.OrgPri, T1.OrgEndBal, T1.OrgPlanPft, T1.FeeSchd, T1.SchdFeePaid, T1.SchdFeeOS, T1.InsSchd, T1. SchdInsPaid, 
	                       T1.AdvPftRate , T1.AdvProfit ,  T1.AdvRepayAmount , T1.AdvBaseRate , T1.AdvMargin , T1.AdvCalRate, T1.SuplRent ,  T1.IncrCost ,  T1.SuplRentPaid ,  T1.IncrCostPaid ,
	                       T1.RolloverOnSchDate,  T1.RolloverAmount,  T1.RolloverAmountPaid, T1.TDSAmount, T1.TDSPaid,
	                       T1.PftDaysBasis,T1.WriteoffIns,T1.WriteoffIncrCost,T1.WriteoffSuplRent,T1.WriteoffSchFee,T1.InsuranceAmt, T1.InstNumber, T1.BpiOrHoliday, T1.FrqDate,T1.PresentmentId,
	                       T1.PartialPaidAmt
	
	FROM         FinScheduleDetails_Temp  T1
	UNION ALL
	SELECT     T1.FinReference, T1.SchSeq, T1.SchDate, T1.PftOnSchDate, T1.RepayOnSchDate, T1.CpzOnSchDate, T1.RvwOnSchDate, T1.DisbOnSchDate, 
	                     T1.DownpaymentOnSchDate, T1.BalanceForPftCal, T1.BaseRate, T1.SplRate, T1.ActRate, T1.NoOfDays, T1.DayFactor, T1.ProfitCalc, T1.ProfitSchd, 
	                      T1.PrincipalSchd, T1.RepayAmount, T1.ProfitBalance, T1.DisbAmount, T1.CpzAmount, T1.DownPaymentAmount,  
	                      T1.ClosingBalance, T1.ProfitFraction, T1.PrvRepayAmount, T1.SchdPftPaid, T1.SchPftPaid, T1.SchdPriPaid, T1.SchPriPaid, 
	                      T1.Specifier, T1.DefSchdDate, T1.SchdMethod, T1.MrgRate, 
	                      T1.CalOnIndRate,T1.FeeChargeAmt, T1.CalculatedRate, T1.EarlyPaidBal, T1.EarlyPaid, T1.RefundOrWaiver, T1.WriteoffPrincipal, 
	                      T1.WriteoffProfit, T1.OrgPft, T1.OrgPri, T1.OrgEndBal, T1.OrgPlanPft, T1.FeeSchd, T1.SchdFeePaid, T1.SchdFeeOS, T1.InsSchd, T1. SchdInsPaid, 
	                       T1.AdvPftRate , T1.AdvProfit ,  T1.AdvRepayAmount , T1.AdvBaseRate , T1.AdvMargin , T1.AdvCalRate, T1.SuplRent ,  T1.IncrCost ,  T1.SuplRentPaid ,  T1.IncrCostPaid ,
	                       T1.RolloverOnSchDate,  T1.RolloverAmount,  T1.RolloverAmountPaid, T1.TDSAmount, T1.TDSPaid,
	                       T1.PftDaysBasis,T1.WriteoffIns,T1.WriteoffIncrCost,T1.WriteoffSuplRent,T1.WriteoffSchFee,T1.InsuranceAmt, T1.InstNumber, T1.BpiOrHoliday, T1.FrqDate,T1.PresentmentId,
	                       T1.PartialPaidAmt
	
	FROM         FinScheduleDetails  T1
	WHERE     NOT EXISTS
	                          (SELECT     1
	                            FROM          FinScheduleDetails_Temp
	                            WHERE      FinReference = T1.FinReference)
		
		</createView>
	</changeSet>
	<changeSet id="27" author="Irfan">
		<createView viewName="FINSCHEDULEDETAILS_TVIEW" replaceIfExists="true">
			SELECT     T1.FinReference, T1.SchSeq, T1.SchDate, T1.PftOnSchDate, T1.RepayOnSchDate, T1.CpzOnSchDate, T1.RvwOnSchDate, T1.DisbOnSchDate, 
	                     T1.DownpaymentOnSchDate, T1.BalanceForPftCal, T1.BaseRate, T1.SplRate, T1.ActRate, T1.NoOfDays, T1.DayFactor, T1.ProfitCalc, T1.ProfitSchd, 
	                      T1.PrincipalSchd, T1.RepayAmount, T1.ProfitBalance, T1.DisbAmount, T1.CpzAmount, T1.DownPaymentAmount,  
	                      T1.ClosingBalance, T1.ProfitFraction, T1.PrvRepayAmount, T1.SchdPftPaid, T1.SchPftPaid, T1.SchdPriPaid, T1.SchPriPaid, 
	                      T1.Specifier, T1.DefSchdDate, T1.SchdMethod, T1.MrgRate, 
	                      T1.CalOnIndRate,T1.FeeChargeAmt, T1.CalculatedRate, T1.EarlyPaidBal, T1.EarlyPaid, T1.RefundOrWaiver, T1.WriteoffPrincipal, 
	                      T1.WriteoffProfit, T1.OrgPft, T1.OrgPri, T1.OrgEndBal, T1.OrgPlanPft, T1.FeeSchd, T1.SchdFeePaid, T1.SchdFeeOS, T1.InsSchd, T1. SchdInsPaid, 
	                       T1.AdvPftRate , T1.AdvProfit ,  T1.AdvRepayAmount , T1.AdvBaseRate , T1.AdvMargin , T1.AdvCalRate, T1.SuplRent ,  T1.IncrCost ,  T1.SuplRentPaid ,  T1.IncrCostPaid ,
	                       T1.RolloverOnSchDate,  T1.RolloverAmount,  T1.RolloverAmountPaid, T1.TDSAmount, T1.TDSPaid,
	                       T1.PftDaysBasis,T1.WriteoffIns,T1.WriteoffIncrCost,T1.WriteoffSuplRent,T1.WriteoffSchFee,T1.InsuranceAmt, T1.InstNumber, T1.BpiOrHoliday, T1.FrqDate,T1.PresentmentId,
	                       T1.PartialPaidAmt
	
					FROM         FinScheduleDetails_Temp  T1
		
		</createView>
	</changeSet>
	<changeSet id="28" author="Irfan">
		<createView viewName="FINSCHEDULEDETAILS_AVIEW" replaceIfExists="true">
			SELECT     T1.FinReference, T1.SchSeq, T1.SchDate, T1.PftOnSchDate, T1.RepayOnSchDate, T1.CpzOnSchDate, T1.RvwOnSchDate, T1.DisbOnSchDate, 
	                     T1.DownpaymentOnSchDate, T1.BalanceForPftCal, T1.BaseRate, T1.SplRate, T1.ActRate, T1.NoOfDays, T1.DayFactor, T1.ProfitCalc, T1.ProfitSchd, 
	                      T1.PrincipalSchd, T1.RepayAmount, T1.ProfitBalance, T1.DisbAmount, T1.CpzAmount, T1.DownPaymentAmount,  
	                      T1.ClosingBalance, T1.ProfitFraction, T1.PrvRepayAmount, T1.SchdPftPaid, T1.SchPftPaid, T1.SchdPriPaid, T1.SchPriPaid, 
	                      T1.Specifier, T1.DefSchdDate, T1.SchdMethod, T1.MrgRate, 
	                      T1.CalOnIndRate,T1.FeeChargeAmt, T1.CalculatedRate, T1.EarlyPaidBal, T1.EarlyPaid, T1.RefundOrWaiver, T1.WriteoffPrincipal, 
	                      T1.WriteoffProfit, T1.OrgPft, T1.OrgPri, T1.OrgEndBal, T1.OrgPlanPft, T1.FeeSchd, T1.SchdFeePaid, T1.SchdFeeOS, T1.InsSchd, T1. SchdInsPaid, 
	                       T1.AdvPftRate , T1.AdvProfit ,  T1.AdvRepayAmount , T1.AdvBaseRate , T1.AdvMargin , T1.AdvCalRate, T1.SuplRent ,  T1.IncrCost ,  T1.SuplRentPaid ,  T1.IncrCostPaid ,
	                       T1.RolloverOnSchDate,  T1.RolloverAmount,  T1.RolloverAmountPaid, T1.TDSAmount, T1.TDSPaid,
	                       T1.PftDaysBasis,T1.WriteoffIns,T1.WriteoffIncrCost,T1.WriteoffSuplRent,T1.WriteoffSchFee,T1.InsuranceAmt, T1.InstNumber, T1.BpiOrHoliday, T1.FrqDate,T1.PresentmentId,
	                       T1.PartialPaidAmt
	
	FROM         FinScheduleDetails  T1
		
		</createView>
	
	</changeSet>
	<changeSet id="29" author="Irfan">
		<sql>
			Update FINSCHEDULEDETAILS set PartialPaidAmt=0;
			Update FINSCHEDULEDETAILS_TEMP set PartialPaidAmt=0;
			Update FINSCHEDULEDETAILS_PA set PartialPaidAmt=0;
			Update REJECTFINSCHEDULEDETAILS set PartialPaidAmt=0;
			Update FINSCHEDULEDETAILS_LOG set PartialPaidAmt=0;
		
		</sql>
	</changeSet>
	<changeSet id="30" author="Satya">
		<addColumn tableName="DocumentDetails">
			<column name="DocReceived" type="boolean" />
		</addColumn>
	</changeSet>

<changeSet id="31" author="Satya">
		<addColumn tableName="DocumentDetails_Temp">
			<column name="DocReceived" type="boolean" />
		</addColumn>
	</changeSet>
	<changeSet id="32" author="Vinay">
	<createView viewName="DOCUMENTDETAILS_TVIEW" replaceIfExists="true">
	SELECT     T1.DocId, T1.DocModule, T1.DocCategory, T1.Doctype, T1.DocName, T1.DocImage, T1.FinEvent,
		   T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
		   T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.ReferenceId, T1.DocRefId,
		   T1.DocPurpose, T1.DocUri,T1.DocReceivedDate,T1.DocReceived
			FROM   DocumentDetails_temp T1
			WHERE      NOT EXISTS (SELECT 1 FROM DocumentDetails_temp WHERE DocId = T1.DocId)
	</createView>
</changeSet>
	<changeSet id="33" author="Vinay">
		<createView viewName="DOCUMENTDETAILS_VIEW" replaceIfExists="true">
		SELECT     T1.DocId, T1.DocModule, T1.DocCategory, T1.Doctype, T1.DocName, T1.DocImage, T1.FinEvent,
					   T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
					   T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.ReferenceId, T1.DocRefId,
					   T1.DocPurpose, T1.DocUri,T1.DocReceivedDate,T1.DocReceived
			FROM       DocumentDetails_temp T1
			UNION ALL
			SELECT     T1.DocId, T1.DocModule, T1.DocCategory, T1.Doctype, T1.DocName, T1.DocImage, T1.FinEvent,
					   T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
					   T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.ReferenceId, T1.DocRefId,
					   T1.DocPurpose, T1.DocUri,T1.DocReceivedDate,T1.DocReceived
			FROM       DocumentDetails T1
			WHERE      NOT EXISTS (SELECT 1 FROM DocumentDetails_temp WHERE DocId = T1.DocId)
		</createView>
	</changeSet>
	<changeSet id="31" author="Satya">
		<addColumn tableName="DocumentDetails_Temp">
			<column name="DocReceived" type="boolean" />
		</addColumn>
	</changeSet>
	<changeSet author="Madhubabu" id="30">
		<createTable tableName="FinTaxDetailUpload">
			<column name="TaxCode" type="varchar2(50)" />
			<column name="AggrementNo" type="nvarchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="ApplicableFor" type="varchar(1)" />
			<column name="Applicant" type="VARCHAR2(20)" />
			<column name="TaxExempted" type="boolean" />
			<column name="AddrLine1" type="varchar(100)" />
			<column name="AddrLine2" type="varchar(100)" />
			<column name="AddrLine3" type="varchar(100)" />
			<column name="AddrLine4" type="varchar(100)" />
			<column name="Country" type="varchar(2)" />
			<column name="Province" type="varchar(8)" />
			<column name="City" type="varchar(50)" />
			<column name="PinCode" type="varchar(10)" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet author="Madhubabu" id="31" dbms="oracle">
		<createTable tableName="FinTaxDetailUpload_temp">
			<column name="TaxCode" type="varchar2(50)" />
			<column name="AggrementNo" type="nvarchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="ApplicableFor" type="varchar(1)" />
			<column name="Applicant" type="VARCHAR2(20)" />
			<column name="TaxExempted" type="boolean" />
			<column name="AddrLine1" type="varchar(100)" />
			<column name="AddrLine2" type="varchar(100)" />
			<column name="AddrLine3" type="varchar(100)" />
			<column name="AddrLine4" type="varchar(100)" />
			<column name="Country" type="varchar(2)" />
			<column name="Province" type="varchar(8)" />
			<column name="City" type="varchar(50)" />
			<column name="PinCode" type="varchar(10)" />
			<column name="Version" type="int" defaultValue="0"/>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet author="Madhubabu" id="31" dbms="mssql">
		<createTable tableName="FinTaxDetailUpload_temp">
			<column name="TaxCode" type="varchar2(50)" />
			<column name="AggrementNo" type="nvarchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="ApplicableFor" type="varchar(1)" />
			<column name="Applicant" type="VARCHAR2(20)" />
			<column name="TaxExempted" type="boolean" />
			<column name="AddrLine1" type="varchar(100)" />
			<column name="AddrLine2" type="varchar(100)" />
			<column name="AddrLine3" type="varchar(100)" />
			<column name="AddrLine4" type="varchar(100)" />
			<column name="Country" type="varchar(2)" />
			<column name="Province" type="varchar(8)" />
			<column name="City" type="varchar(50)" />
			<column name="PinCode" type="varchar(10)" />
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="31.1" author="Jayant" dbms="mssql">
	    <sql>
	        alter table FinTaxDetailUpload_temp add constraint DF_FINTAXDETUPLD_T_VER default 0 for Version;
	    </sql>
	</changeSet>
	<changeSet author="PrasadRaju" id="33" dbms="oracle">
    <sqlFile path="UDF_CONVERTCURRENCY.sql" endDelimiter="DonotStop" encoding="utf8" relativeToChangelogFile="true"/>
	</changeSet>
	<changeSet id="34.1" author="Jayant">
	    <sql>
		Delete from extendedfieldheader where modulename='Vas' and submodulename in ('VASFFR01','VASPD01','VASEC01','VASCC01','ETOUCHLI','GCPPLI','GPGI','CCPGI','IHGI','STGI','TMGI','FWGI');
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','VASFFR01','Financial Fitness Report','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','VASPD01','Property Dossier','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','VASEC01','Gold EMI Card','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','VASCC01','Super Card 499','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','ETOUCHLI','eTouch Online Term','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','GCPPLI','Group Credit Protection Plan','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','GPGI','Global Personal Guard Policy','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','CCPGI','Comprehensive Care Plan','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','IHGI','Health Guard Policy','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','STGI','Travel Insurance','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','TMGI','Two Wheeler Insurance','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);
		Insert into extendedfieldheader (MODULEID,MODULENAME,SUBMODULENAME,TABHEADING,NUMBEROFCOLUMNS,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID)
		values ((Select max(moduleid)+1 from extendedfieldheader),'Vas','FWGI','Car Insurance','2',1,1000,current_timestamp,'Approved',null,null,null,null,null,0);

		Update seqextendedfieldheader set seqno=(Select max(moduleid) from extendedfieldheader);
	    </sql>
	</changeSet>
	<changeSet id="34" author="Jayant">
		<createTable tableName="VAS_VASFFR01_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="35" author="Jayant">
		<createTable tableName="VAS_VASPD01_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="36" author="Jayant">
		<createTable tableName="VAS_VASEC01_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="37" author="Jayant">
		<createTable tableName="VAS_VASCC01_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="38" author="Jayant">
		<createTable tableName="VAS_ETOUCHLI_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="39" author="Jayant">
		<createTable tableName="VAS_GCPPLI_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="40" author="Jayant">
		<createTable tableName="VAS_GPGI_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="41" author="Jayant">
		<createTable tableName="VAS_CCPGI_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="42" author="Jayant">
		<createTable tableName="VAS_IHGI_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="43" author="Jayant">
		<createTable tableName="VAS_STGI_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="44" author="Jayant">
		<createTable tableName="VAS_TMGI_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="45" author="Jayant">
		<createTable tableName="VAS_FWGI_ED">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="46" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASFFR01_ED" tableName="VAS_VASFFR01_ED"/>
	</changeSet>
<changeSet id="46" author="Jayant" dbms="mssql">
    	<addNotNullConstraint tableName="VAS_VASFFR01_ED" columnName="REFERENCE" columnDataType="varchar"/>
    	<addNotNullConstraint tableName="VAS_VASFFR01_ED" columnName="SEQNO" columnDataType="int"/>
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASFFR01_ED" tableName="VAS_VASFFR01_ED"/>
</changeSet>
<changeSet id="47" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASPD01_ED" tableName="VAS_VASPD01_ED"/>
</changeSet>
	
<changeSet id="48" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASEC01_ED" tableName="VAS_VASEC01_ED"/>
	</changeSet>
<changeSet id="49" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASCC01_ED" tableName="VAS_VASCC01_ED"/>
	</changeSet>
<changeSet id="50" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_ETOUCHLI_ED" tableName="VAS_ETOUCHLI_ED"/>
	</changeSet>
<changeSet id="51" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_GCPPLI_ED" tableName="VAS_GCPPLI_ED"/>
	</changeSet>
<changeSet id="52" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_GPGI_ED" tableName="VAS_GPGI_ED"/>
	</changeSet>
<changeSet id="53" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_CCPGI_ED" tableName="VAS_CCPGI_ED"/>
	</changeSet>
<changeSet id="54" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_IHGI_ED" tableName="VAS_IHGI_ED"/>
	</changeSet>
<changeSet id="55" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_STGI_ED" tableName="VAS_STGI_ED"/>
	</changeSet>
<changeSet id="56" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_TMGI_ED" tableName="VAS_TMGI_ED"/>
	</changeSet>
<changeSet id="57" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_FWGI_ED" tableName="VAS_FWGI_ED"/>
	</changeSet>
	<changeSet id="47" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_VASPD01_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_VASPD01_ED" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASPD01_ED" tableName="VAS_VASPD01_ED"/>
</changeSet>
	
<changeSet id="48" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_VASEC01_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_VASEC01_ED" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASEC01_ED" tableName="VAS_VASEC01_ED"/>
	</changeSet>
<changeSet id="49" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_VASCC01_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_VASCC01_ED" columnName="SEQNO" columnDataType="int"/>
<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASCC01_ED" tableName="VAS_VASCC01_ED"/>
	</changeSet>
<changeSet id="50" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_ETOUCHLI_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_ETOUCHLI_ED" columnName="SEQNO" columnDataType="int"/>
<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_ETOUCHLI_ED" tableName="VAS_ETOUCHLI_ED"/>
	</changeSet>
<changeSet id="51" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_GCPPLI_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_GCPPLI_ED" columnName="SEQNO" columnDataType="int"/>
<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_GCPPLI_ED" tableName="VAS_GCPPLI_ED"/>
	</changeSet>
<changeSet id="52" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_GPGI_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_GPGI_ED" columnName="SEQNO" columnDataType="int"/>
<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_GPGI_ED" tableName="VAS_GPGI_ED"/>
	</changeSet>
<changeSet id="53" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_CCPGI_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_CCPGI_ED" columnName="SEQNO" columnDataType="int"/>
<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_CCPGI_ED" tableName="VAS_CCPGI_ED"/>
	</changeSet>
<changeSet id="54" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_IHGI_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_IHGI_ED" columnName="SEQNO" columnDataType="int"/>
<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_IHGI_ED" tableName="VAS_IHGI_ED"/>
	</changeSet>
<changeSet id="55" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_STGI_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_STGI_ED" columnName="SEQNO" columnDataType="int"/>
<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_STGI_ED" tableName="VAS_STGI_ED"/>
	</changeSet>
<changeSet id="56" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_TMGI_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_TMGI_ED" columnName="SEQNO" columnDataType="int"/>
<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_TMGI_ED" tableName="VAS_TMGI_ED"/>
	</changeSet>
<changeSet id="57" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_FWGI_ED" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_FWGI_ED" columnName="SEQNO" columnDataType="int"/>
<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_FWGI_ED" tableName="VAS_FWGI_ED"/>
	</changeSet>
<changeSet id="58" author="Jayant">
		<createTable tableName="VAS_VASFFR01_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="59" author="Jayant">
		<createTable tableName="VAS_VASPD01_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="60" author="Jayant">
		<createTable tableName="VAS_VASEC01_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="61" author="Jayant">
		<createTable tableName="VAS_VASCC01_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="62" author="Jayant">
		<createTable tableName="VAS_ETOUCHLI_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="63" author="Jayant">
		<createTable tableName="VAS_GCPPLI_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="64" author="Jayant">
		<createTable tableName="VAS_GPGI_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="65" author="Jayant">
		<createTable tableName="VAS_CCPGI_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="66" author="Jayant">
		<createTable tableName="VAS_IHGI_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="67" author="Jayant">
		<createTable tableName="VAS_STGI_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="68" author="Jayant">
		<createTable tableName="VAS_TMGI_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="69" author="Jayant">
		<createTable tableName="VAS_FWGI_ED_TEMP">
			<column name="REFERENCE" type="varchar(20)"/>
			<column name="SEQNO" type="int" />
			<column name="VERSION" type="int" />
			<column name="LASTMNTBY" type="bigint" />
			<column name="LASTMNTON" type="Datetime" />
			<column name="RECORDSTATUS" type="varchar(50)" />
			<column name="ROLECODE" type="varchar(100)" />
			<column name="NEXTROLECODE" type="varchar(200)" />
			<column name="TASKID" type="varchar(50)" />
			<column name="NEXTTASKID" type="varchar(200)" />
			<column name="RECORDTYPE" type="varchar(50)" />
			<column name="WORKFLOWID" type="bigint" />
		</createTable>
	</changeSet>
<changeSet id="70" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASFFR01_ED_TEMP" tableName="VAS_VASFFR01_ED_TEMP"/>
	</changeSet>
<changeSet id="71" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASPD01_ED_TEMP" tableName="VAS_VASPD01_ED_TEMP"/>
	</changeSet>
<changeSet id="72" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASEC01_ED_TEMP" tableName="VAS_VASEC01_ED_TEMP"/>
	</changeSet>
<changeSet id="73" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASCC01_ED_TEMP" tableName="VAS_VASCC01_ED_TEMP"/>
	</changeSet>
<changeSet id="74" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_ETOUCHLI_ED_TEMP" tableName="VAS_ETOUCHLI_ED_TEMP"/>
	</changeSet>
<changeSet id="75" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_GCPPLI_ED_TEMP" tableName="VAS_GCPPLI_ED_TEMP"/>
	</changeSet>
<changeSet id="76" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_GPGI_ED_TEMP" tableName="VAS_GPGI_ED_TEMP"/>
	</changeSet>
<changeSet id="77" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_CCPGI_ED_TEMP" tableName="VAS_CCPGI_ED_TEMP"/>
	</changeSet>
<changeSet id="78" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_IHGI_ED_TEMP" tableName="VAS_IHGI_ED_TEMP"/>
	</changeSet>
<changeSet id="79" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_STGI_ED_TEMP" tableName="VAS_STGI_ED_TEMP"/>
	</changeSet>
<changeSet id="80" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_TMGI_ED_TEMP" tableName="VAS_TMGI_ED_TEMP"/>
	</changeSet>
<changeSet id="81" author="Jayant" dbms="oracle">
    	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_FWGI_ED_TEMP" tableName="VAS_FWGI_ED_TEMP"/>
	</changeSet>
	<changeSet id="70" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_VASFFR01_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_VASFFR01_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASFFR01_ED_TEMP" tableName="VAS_VASFFR01_ED_TEMP"/>
	</changeSet>
<changeSet id="71" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_VASPD01_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_VASPD01_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASPD01_ED_TEMP" tableName="VAS_VASPD01_ED_TEMP"/>
	</changeSet>
<changeSet id="72" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_VASEC01_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_VASEC01_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASEC01_ED_TEMP" tableName="VAS_VASEC01_ED_TEMP"/>
	</changeSet>
<changeSet id="73" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_VASCC01_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_VASCC01_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_VASCC01_ED_TEMP" tableName="VAS_VASCC01_ED_TEMP"/>
	</changeSet>
<changeSet id="74" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_ETOUCHLI_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_ETOUCHLI_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_ETOUCHLI_ED_TEMP" tableName="VAS_ETOUCHLI_ED_TEMP"/>
	</changeSet>
<changeSet id="75" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_GCPPLI_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_GCPPLI_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_GCPPLI_ED_TEMP" tableName="VAS_GCPPLI_ED_TEMP"/>
	</changeSet>
<changeSet id="76" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_GPGI_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_GPGI_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_GPGI_ED_TEMP" tableName="VAS_GPGI_ED_TEMP"/>
	</changeSet>
<changeSet id="77" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_CCPGI_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_CCPGI_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_CCPGI_ED_TEMP" tableName="VAS_CCPGI_ED_TEMP"/>
	</changeSet>
<changeSet id="78" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_IHGI_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_IHGI_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_IHGI_ED_TEMP" tableName="VAS_IHGI_ED_TEMP"/>
	</changeSet>
<changeSet id="79" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_STGI_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_STGI_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_STGI_ED_TEMP" tableName="VAS_STGI_ED_TEMP"/>
	</changeSet>
<changeSet id="80" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_TMGI_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_TMGI_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_TMGI_ED_TEMP" tableName="VAS_TMGI_ED_TEMP"/>
	</changeSet>
<changeSet id="81" author="Jayant" dbms="mssql">
	<addNotNullConstraint tableName="VAS_FWGI_ED_TEMP" columnName="REFERENCE" columnDataType="varchar"/>
	<addNotNullConstraint tableName="VAS_FWGI_ED_TEMP" columnName="SEQNO" columnDataType="int"/>
	<addPrimaryKey columnNames="REFERENCE, SEQNO" constraintName="PK_VAS_FWGI_ED_TEMP" tableName="VAS_FWGI_ED_TEMP"/>
	</changeSet>
<changeSet id="82" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":903,"properties":{"process_id":"CL_DISBURSEMENT_PROCESS_NEW","name":"CL_DISBURSEMENT_PROCESS","documentation":"CL_DISBURSEMENT_PROCESS","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-BA8EAA9F-4BCF-4C9E-ACD6-02E6B9FD5DC2"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C","properties":{"overrideid":"","name":"RM","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"CL_DISB_RM","firstName":"CL_DISB_RM","fullName":"CL_DISB_RM","id":"CL_DISB_RM","roledesc":"CL DISB RM","$$hashKey":"object:814"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-40F547B1-CD0B-4E15-A3DB-8A8FFBFA8101"},{"resourceId":"sid-33899770-CAF9-4508-A162-2FDD3FC41F2F"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-BA8EAA9F-4BCF-4C9E-ACD6-02E6B9FD5DC2","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}},{"resourceId":"sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9","properties":{"overrideid":"","name":"Business Head","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"CL_DISB_BH","firstName":"CL_DISB_BH","fullName":"CL_DISB_BH","id":"CL_DISB_BH","roledesc":"CL DISB BH","$$hashKey":"object:1259"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-3E7ABC8F-EBAA-46F1-9A40-47F086F324CB"},{"resourceId":"sid-1418E552-823D-4840-A495-12F920D98238"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-3E803107-94DD-424F-9F91-5F8533701286","properties":{"overrideid":"","name":"Credit","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"CL_DISB_CREDIT","firstName":"CL_DISB_CREDIT","fullName":"CL_DISB_CREDIT","id":"CL_DISB_CREDIT","roledesc":"CL DISB CREDIT","$$hashKey":"object:1711"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-CC66D26A-675D-4B79-99FD-5A844F60BA77"},{"resourceId":"sid-1F7BCDB5-4811-49D9-A24B-A90EAE0F7914"},{"resourceId":"sid-D9C7104B-4E7E-4F87-BF91-C8A677835F46"}],"bounds":{"lowerRight":{"x":670,"y":218},"upperLeft":{"x":570,"y":138}},"dockers":[]},{"resourceId":"sid-40F547B1-CD0B-4E15-A3DB-8A8FFBFA8101","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9"}],"bounds":{"lowerRight":{"x":389.44921875,"y":178},"upperLeft":{"x":275.55078125,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9"}},{"resourceId":"sid-3E7ABC8F-EBAA-46F1-9A40-47F086F324CB","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-3E803107-94DD-424F-9F91-5F8533701286"}],"bounds":{"lowerRight":{"x":569.78125,"y":178},"upperLeft":{"x":490.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-3E803107-94DD-424F-9F91-5F8533701286"}},{"resourceId":"sid-1418E552-823D-4840-A495-12F920D98238","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}],"bounds":{"lowerRight":{"x":440,"y":137.25},"upperLeft":{"x":225,"y":72}},"dockers":[{"x":50,"y":40},{"x":440,"y":72},{"x":225,"y":72},{"x":50,"y":40}],"target":{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}},{"resourceId":"sid-CC66D26A-675D-4B79-99FD-5A844F60BA77","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}],"bounds":{"lowerRight":{"x":620,"y":137.75},"upperLeft":{"x":209.66668701171875,"y":60}},"dockers":[{"x":50,"y":40},{"x":620,"y":60},{"x":209.66668701171875,"y":60},{"x":34.66668701171875,"y":12}],"target":{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}},{"resourceId":"sid-EF27A317-CBEB-4A09-82A8-10853905466C","properties":{"overrideid":"","name":"Reject Finance","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9FEDA1FC-91C3-475E-AF92-454D2803397E"}],"bounds":{"lowerRight":{"x":175,"y":410},"upperLeft":{"x":75,"y":330}},"dockers":[]},{"resourceId":"sid-33899770-CAF9-4508-A162-2FDD3FC41F2F","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-EF27A317-CBEB-4A09-82A8-10853905466C"}],"bounds":{"lowerRight":{"x":225,"y":370},"upperLeft":{"x":176,"y":218.75}},"dockers":[{"x":50,"y":40},{"x":225,"y":370},{"x":50,"y":40}],"target":{"resourceId":"sid-EF27A317-CBEB-4A09-82A8-10853905466C"}},{"resourceId":"sid-1F7BCDB5-4811-49D9-A24B-A90EAE0F7914","properties":{"overrideid":"","name":"Reject Finance","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-EF27A317-CBEB-4A09-82A8-10853905466C"}],"bounds":{"lowerRight":{"x":620,"y":330},"upperLeft":{"x":125,"y":218.75}},"dockers":[{"x":50,"y":40},{"x":620,"y":274},{"x":125,"y":274},{"x":50,"y":40}],"target":{"resourceId":"sid-EF27A317-CBEB-4A09-82A8-10853905466C"}},{"resourceId":"sid-84E9C900-21B8-4DDA-8AE1-3112091A3847","properties":{"overrideid":"","name":"Centralized Operations (Maker)","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"CL_DISB_CO_MAKER","firstName":"CL_DISB_CO_MAKER","fullName":"CL_DISB_CO_MAKER","id":"CL_DISB_CO_MAKER","roledesc":"CL DISB CO MAKER","$$hashKey":"object:4144"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-88287A60-CC2D-476F-8365-70185C7B1441"},{"resourceId":"sid-700B2C3A-FAFB-4186-8A2F-50BFB91C70D7"}],"bounds":{"lowerRight":{"x":476.6666717529297,"y":395},"upperLeft":{"x":376.6666717529297,"y":315}},"dockers":[]},{"resourceId":"sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515","properties":{"overrideid":"","name":"Centralized Operations (Checker)","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"CL_DISB_CO_CHECKER","firstName":"CL_DISB_CO_CHECKER","fullName":"CL_DISB_CO_CHECKER","id":"CL_DISB_CO_CHECKER","roledesc":"CL DISB CO CHECKER","$$hashKey":"object:4663"}}}},"additionalforms":"Accounting","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-FFA82F5C-11A5-41F0-A4E8-1523DCC38A1A"},{"resourceId":"sid-4EAF3965-0E94-4EDC-AEAA-967BE78D991E"}],"bounds":{"lowerRight":{"x":745,"y":395},"upperLeft":{"x":645,"y":315}},"dockers":[]},{"resourceId":"sid-D9C7104B-4E7E-4F87-BF91-C8A677835F46","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-84E9C900-21B8-4DDA-8AE1-3112091A3847"}],"bounds":{"lowerRight":{"x":640.6666870117188,"y":314.0625},"upperLeft":{"x":436.66668701171875,"y":218.5}},"dockers":[{"x":70.66668701171875,"y":57},{"x":640.6666870117188,"y":291},{"x":436.66668701171875,"y":291},{"x":60.00001525878906,"y":31}],"target":{"resourceId":"sid-84E9C900-21B8-4DDA-8AE1-3112091A3847"}},{"resourceId":"sid-88287A60-CC2D-476F-8365-70185C7B1441","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515"}],"bounds":{"lowerRight":{"x":644.7356780171394,"y":355},"upperLeft":{"x":476.93099373579025,"y":355}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515"}},{"resourceId":"sid-4EAF3965-0E94-4EDC-AEAA-967BE78D991E","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-84E9C900-21B8-4DDA-8AE1-3112091A3847"}],"bounds":{"lowerRight":{"x":644.2500138282776,"y":375},"upperLeft":{"x":477.43750512599945,"y":375}},"dockers":[{"x":28.000015258789062,"y":60},{"x":99,"y":60}],"target":{"resourceId":"sid-84E9C900-21B8-4DDA-8AE1-3112091A3847"}},{"resourceId":"sid-700B2C3A-FAFB-4186-8A2F-50BFB91C70D7","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}],"bounds":{"lowerRight":{"x":376.3424571156502,"y":355},"upperLeft":{"x":243.66668701171875,"y":218.43229109198845}},"dockers":[{"x":50,"y":40},{"x":243.66668701171875,"y":355},{"x":68.66668701171875,"y":62.538011050653665}],"target":{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}},{"resourceId":"sid-B38BE152-538D-41FD-B884-1F3FC312F7AC","properties":{"overrideid":"","name":"Finance CreationHost","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-127B1E28-8CB6-46D7-9F91-2BA4AD619DF6"}],"bounds":{"lowerRight":{"x":618.6666717529297,"y":530},"upperLeft":{"x":518.6666717529297,"y":450}},"dockers":[]},{"resourceId":"sid-FFA82F5C-11A5-41F0-A4E8-1523DCC38A1A","properties":{"overrideid":"","name":"Finalize","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Finalized'"}},"defaultflow":"false","action":"Finalize","state":"Finalized","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B38BE152-538D-41FD-B884-1F3FC312F7AC"}],"bounds":{"lowerRight":{"x":695,"y":490},"upperLeft":{"x":619.0156280994415,"y":395.0234375}},"dockers":[{"x":50,"y":40},{"x":695,"y":490},{"x":50,"y":40}],"target":{"resourceId":"sid-B38BE152-538D-41FD-B884-1F3FC312F7AC"}},{"resourceId":"sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05","properties":{"overrideid":"","name":"End"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":248,"y":508},"upperLeft":{"x":220,"y":480}},"dockers":[]},{"resourceId":"sid-9FEDA1FC-91C3-475E-AF92-454D2803397E","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05"}],"bounds":{"lowerRight":{"x":219.375,"y":494},"upperLeft":{"x":125,"y":410.71875}},"dockers":[{"x":50,"y":40},{"x":125,"y":494},{"x":14,"y":14}],"target":{"resourceId":"sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05"}},{"resourceId":"sid-127B1E28-8CB6-46D7-9F91-2BA4AD619DF6","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05"}],"bounds":{"lowerRight":{"x":517.9896590843878,"y":493.8317986625695},"upperLeft":{"x":248.07284544556524,"y":490.6057013374305}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="CL_DISBURSEMENT_PROCESS_NEW" name="CL_DISBURSEMENT_PROCESS" isExecutable="true"><documentation>CL_DISBURSEMENT_PROCESS</documentation><startEvent id="startEvent1" name="Start" /><userTask id="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" name="RM" activiti:actor="CL_DISB_RM" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-BA8EAA9F-4BCF-4C9E-ACD6-02E6B9FD5DC2" sourceRef="startEvent1" targetRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" representsUserAction="false" mandateNotes="false" /><userTask id="sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9" name="Business Head" activiti:actor="CL_DISB_BH" activiti:assignmentLevel="Role Queue" /><userTask id="sid-3E803107-94DD-424F-9F91-5F8533701286" name="Credit" activiti:actor="CL_DISB_CREDIT" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-40F547B1-CD0B-4E15-A3DB-8A8FFBFA8101" name="Submit" sourceRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" targetRef="sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-3E7ABC8F-EBAA-46F1-9A40-47F086F324CB" name="Approve" sourceRef="sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9" targetRef="sid-3E803107-94DD-424F-9F91-5F8533701286" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1418E552-823D-4840-A495-12F920D98238" name="Resubmit" sourceRef="sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9" targetRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-CC66D26A-675D-4B79-99FD-5A844F60BA77" name="Resubmit" sourceRef="sid-3E803107-94DD-424F-9F91-5F8533701286" targetRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><serviceTask id="sid-EF27A317-CBEB-4A09-82A8-10853905466C" name="Reject Finance" activiti:operation="doReject" /><sequenceFlow id="sid-33899770-CAF9-4508-A162-2FDD3FC41F2F" name="Cancel" sourceRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" targetRef="sid-EF27A317-CBEB-4A09-82A8-10853905466C" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1F7BCDB5-4811-49D9-A24B-A90EAE0F7914" name="Reject Finance" sourceRef="sid-3E803107-94DD-424F-9F91-5F8533701286" targetRef="sid-EF27A317-CBEB-4A09-82A8-10853905466C" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><userTask id="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" name="Centralized Operations (Maker)" activiti:actor="CL_DISB_CO_MAKER" activiti:assignmentLevel="Role Queue" /><userTask id="sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515" name="Centralized Operations (Checker)" activiti:actor="CL_DISB_CO_CHECKER" activiti:additionalForms="Accounting" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-D9C7104B-4E7E-4F87-BF91-C8A677835F46" name="Approve" sourceRef="sid-3E803107-94DD-424F-9F91-5F8533701286" targetRef="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-88287A60-CC2D-476F-8365-70185C7B1441" name="Approve" sourceRef="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" targetRef="sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-4EAF3965-0E94-4EDC-AEAA-967BE78D991E" name="Resubmit" sourceRef="sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515" targetRef="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-700B2C3A-FAFB-4186-8A2F-50BFB91C70D7" name="Resubmit" sourceRef="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" targetRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><serviceTask id="sid-B38BE152-538D-41FD-B884-1F3FC312F7AC" name="Finance CreationHost" activiti:operation="doApprove" /><sequenceFlow id="sid-FFA82F5C-11A5-41F0-A4E8-1523DCC38A1A" name="Finalize" sourceRef="sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515" targetRef="sid-B38BE152-538D-41FD-B884-1F3FC312F7AC" action="Finalize" state="Finalized" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Finalized'</conditionExpression></sequenceFlow><endEvent id="sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05" name="End" /><sequenceFlow id="sid-9FEDA1FC-91C3-475E-AF92-454D2803397E" sourceRef="sid-EF27A317-CBEB-4A09-82A8-10853905466C" targetRef="sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-127B1E28-8CB6-46D7-9F91-2BA4AD619DF6" sourceRef="sid-B38BE152-538D-41FD-B884-1F3FC312F7AC" targetRef="sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05" representsUserAction="false" mandateNotes="false" /></process><bpmndi:BPMNDiagram id="BPMNDiagram_CL_DISBURSEMENT_PROCESS_NEW"><bpmndi:BPMNPlane bpmnElement="CL_DISBURSEMENT_PROCESS_NEW" id="BPMNPlane_CL_DISBURSEMENT_PROCESS_NEW"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" id="BPMNShape_sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"><omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9" id="BPMNShape_sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9"><omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-3E803107-94DD-424F-9F91-5F8533701286" id="BPMNShape_sid-3E803107-94DD-424F-9F91-5F8533701286"><omgdc:Bounds height="80.0" width="100.0" x="570.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-EF27A317-CBEB-4A09-82A8-10853905466C" id="BPMNShape_sid-EF27A317-CBEB-4A09-82A8-10853905466C"><omgdc:Bounds height="80.0" width="100.0" x="75.0" y="330.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" id="BPMNShape_sid-84E9C900-21B8-4DDA-8AE1-3112091A3847"><omgdc:Bounds height="80.0" width="100.0" x="376.6666717529297" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515" id="BPMNShape_sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515"><omgdc:Bounds height="80.0" width="100.0" x="645.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B38BE152-538D-41FD-B884-1F3FC312F7AC" id="BPMNShape_sid-B38BE152-538D-41FD-B884-1F3FC312F7AC"><omgdc:Bounds height="80.0" width="100.0" x="518.6666717529297" y="450.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05" id="BPMNShape_sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05"><omgdc:Bounds height="28.0" width="28.0" x="220.0" y="480.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-1F7BCDB5-4811-49D9-A24B-A90EAE0F7914" id="BPMNEdge_sid-1F7BCDB5-4811-49D9-A24B-A90EAE0F7914"><omgdi:waypoint x="620.0" y="218.0" /><omgdi:waypoint x="620.0" y="274.0" /><omgdi:waypoint x="125.0" y="274.0" /><omgdi:waypoint x="125.0" y="330.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-D9C7104B-4E7E-4F87-BF91-C8A677835F46" id="BPMNEdge_sid-D9C7104B-4E7E-4F87-BF91-C8A677835F46"><omgdi:waypoint x="640.6666870117188" y="218.0" /><omgdi:waypoint x="640.6666870117188" y="291.0" /><omgdi:waypoint x="436.66668701171875" y="291.0" /><omgdi:waypoint x="436.66668701171875" y="315.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-CC66D26A-675D-4B79-99FD-5A844F60BA77" id="BPMNEdge_sid-CC66D26A-675D-4B79-99FD-5A844F60BA77"><omgdi:waypoint x="620.0" y="138.0" /><omgdi:waypoint x="620.0" y="60.0" /><omgdi:waypoint x="209.66668701171875" y="60.0" /><omgdi:waypoint x="209.66668701171875" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1418E552-823D-4840-A495-12F920D98238" id="BPMNEdge_sid-1418E552-823D-4840-A495-12F920D98238"><omgdi:waypoint x="440.0" y="138.0" /><omgdi:waypoint x="440.0" y="72.0" /><omgdi:waypoint x="225.0" y="72.0" /><omgdi:waypoint x="225.0" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-40F547B1-CD0B-4E15-A3DB-8A8FFBFA8101" id="BPMNEdge_sid-40F547B1-CD0B-4E15-A3DB-8A8FFBFA8101"><omgdi:waypoint x="275.0" y="178.0" /><omgdi:waypoint x="390.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-127B1E28-8CB6-46D7-9F91-2BA4AD619DF6" id="BPMNEdge_sid-127B1E28-8CB6-46D7-9F91-2BA4AD619DF6"><omgdi:waypoint x="518.6666717529297" y="490.5976095526705" /><omgdi:waypoint x="247.99900012302984" y="493.83268127597285" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-88287A60-CC2D-476F-8365-70185C7B1441" id="BPMNEdge_sid-88287A60-CC2D-476F-8365-70185C7B1441"><omgdi:waypoint x="476.6666717529297" y="355.0" /><omgdi:waypoint x="645.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-BA8EAA9F-4BCF-4C9E-ACD6-02E6B9FD5DC2" id="BPMNEdge_sid-BA8EAA9F-4BCF-4C9E-ACD6-02E6B9FD5DC2"><omgdi:waypoint x="130.0" y="178.0" /><omgdi:waypoint x="175.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-700B2C3A-FAFB-4186-8A2F-50BFB91C70D7" id="BPMNEdge_sid-700B2C3A-FAFB-4186-8A2F-50BFB91C70D7"><omgdi:waypoint x="376.6666717529297" y="355.0" /><omgdi:waypoint x="243.66668701171875" y="355.0" /><omgdi:waypoint x="243.66668701171875" y="218.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-4EAF3965-0E94-4EDC-AEAA-967BE78D991E" id="BPMNEdge_sid-4EAF3965-0E94-4EDC-AEAA-967BE78D991E"><omgdi:waypoint x="645.0" y="375.0" /><omgdi:waypoint x="476.6666717529297" y="375.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-FFA82F5C-11A5-41F0-A4E8-1523DCC38A1A" id="BPMNEdge_sid-FFA82F5C-11A5-41F0-A4E8-1523DCC38A1A"><omgdi:waypoint x="695.0" y="395.0" /><omgdi:waypoint x="695.0" y="490.0" /><omgdi:waypoint x="618.6666717529297" y="490.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9FEDA1FC-91C3-475E-AF92-454D2803397E" id="BPMNEdge_sid-9FEDA1FC-91C3-475E-AF92-454D2803397E"><omgdi:waypoint x="125.0" y="410.0" /><omgdi:waypoint x="125.0" y="494.0" /><omgdi:waypoint x="220.0" y="494.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-33899770-CAF9-4508-A162-2FDD3FC41F2F" id="BPMNEdge_sid-33899770-CAF9-4508-A162-2FDD3FC41F2F"><omgdi:waypoint x="225.0" y="218.0" /><omgdi:waypoint x="225.0" y="370.0" /><omgdi:waypoint x="175.0" y="370.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-3E7ABC8F-EBAA-46F1-9A40-47F086F324CB" id="BPMNEdge_sid-3E7ABC8F-EBAA-46F1-9A40-47F086F324CB"><omgdi:waypoint x="490.0" y="178.0" /><omgdi:waypoint x="570.0" y="178.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='CL_DISBURSEMENT_PROCESS'and workflowactive=1</where>
		</update>
</changeSet>
<changeSet id="83" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":904,"properties":{"process_id":"LIMITS_PROCESS_NEW","name":"Maker/Checker For Limits Process","documentation":"Maker/Checker For Limits Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-72E4D1A8-677A-45EF-BDAB-F7962A917233"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0","properties":{"overrideid":"","name":"Capture Customer data (RM)","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_RM","firstName":"LIMITS_RM","fullName":"LIMITS_RM","id":"LIMITS_RM","roledesc":"Capture customer data","$$hashKey":"object:790"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-96F7D897-58E7-4074-8D9F-6DADE0957FA9"},{"resourceId":"sid-1EDF89E1-6F2F-4095-9537-FEF2DF963A40"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-72E4D1A8-677A-45EF-BDAB-F7962A917233","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0"}},{"resourceId":"sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD","properties":{"overrideid":"","name":"Customer financial Spread Sheet (RM)","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_RM_EXT1","firstName":"LIMITS_RM_EXT1","fullName":"LIMITS_RM_EXT1","id":"LIMITS_RM_EXT1","roledesc":"Customer financial spreadsheet","$$hashKey":"object:1383"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-BD98AE7B-960F-4E28-93E1-85877B165A82"},{"resourceId":"sid-36FBC6D6-A61F-477E-8A99-568238CFE367"}],"bounds":{"lowerRight":{"x":460,"y":218},"upperLeft":{"x":360,"y":138}},"dockers":[]},{"resourceId":"sid-96F7D897-58E7-4074-8D9F-6DADE0957FA9","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD"}],"bounds":{"lowerRight":{"x":359.859375,"y":178},"upperLeft":{"x":275.140625,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD"}},{"resourceId":"sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B","properties":{"overrideid":"","name":"Credit","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_CREDIT","firstName":"LIMITS_CREDIT","fullName":"LIMITS_CREDIT","id":"LIMITS_CREDIT","roledesc":"Credit","$$hashKey":"object:1990"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-A5670FF8-5FF7-4E14-B5FE-44E8FC58808F"},{"resourceId":"sid-1F0F4E4A-CB74-4C12-AA14-F22E9B8925C5"}],"bounds":{"lowerRight":{"x":640,"y":218},"upperLeft":{"x":540,"y":138}},"dockers":[]},{"resourceId":"sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D","properties":{"overrideid":"","name":"Credit committe","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_CREDIT_COMM","firstName":"LIMITS_CREDIT_COMM","fullName":"LIMITS_CREDIT_COMM","id":"LIMITS_CREDIT_COMM","roledesc":"Credit Committee","$$hashKey":"object:2471"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-86616F24-FBFC-44C0-A3B6-776DD5840890"},{"resourceId":"sid-A1D3353B-B385-462F-A45E-6C250939302B"}],"bounds":{"lowerRight":{"x":805,"y":218},"upperLeft":{"x":705,"y":138}},"dockers":[]},{"resourceId":"sid-BD98AE7B-960F-4E28-93E1-85877B165A82","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B"}],"bounds":{"lowerRight":{"x":539.78125,"y":178},"upperLeft":{"x":460.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B"}},{"resourceId":"sid-A5670FF8-5FF7-4E14-B5FE-44E8FC58808F","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D"}],"bounds":{"lowerRight":{"x":704.37109375,"y":178},"upperLeft":{"x":640.62890625,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D"}},{"resourceId":"sid-36FBC6D6-A61F-477E-8A99-568238CFE367","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0"}],"bounds":{"lowerRight":{"x":410,"y":137.625},"upperLeft":{"x":225,"y":66}},"dockers":[{"x":50,"y":40},{"x":410,"y":66},{"x":225,"y":66},{"x":50,"y":40}],"target":{"resourceId":"sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0"}},{"resourceId":"sid-86616F24-FBFC-44C0-A3B6-776DD5840890","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resbmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B"}],"bounds":{"lowerRight":{"x":755,"y":137.125},"upperLeft":{"x":590,"y":62}},"dockers":[{"x":50,"y":40},{"x":755,"y":62},{"x":590,"y":62},{"x":50,"y":40}],"target":{"resourceId":"sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B"}},{"resourceId":"sid-646B66AA-4F3E-417A-B82E-6CE248F87D75","properties":{"overrideid":"","name":"Collect additional documents (RM)","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_RM_EXT2","firstName":"LIMITS_RM_EXT2","fullName":"LIMITS_RM_EXT2","id":"LIMITS_RM_EXT2","roledesc":"Collection of additional documents","$$hashKey":"object:1489"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-1E4308B2-D176-4A25-9E88-006850E58561"},{"resourceId":"sid-5624DFEC-0004-4667-BE85-B4812DBB1331"}],"bounds":{"lowerRight":{"x":970,"y":218},"upperLeft":{"x":870,"y":138}},"dockers":[]},{"resourceId":"sid-A1D3353B-B385-462F-A45E-6C250939302B","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-646B66AA-4F3E-417A-B82E-6CE248F87D75"}],"bounds":{"lowerRight":{"x":869.37109375,"y":178},"upperLeft":{"x":805.62890625,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-646B66AA-4F3E-417A-B82E-6CE248F87D75"}},{"resourceId":"sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7","properties":{"overrideid":"","name":"Centralised Operations","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_OP","firstName":"LIMITS_OP","fullName":"LIMITS_OP","id":"LIMITS_OP","roledesc":"Centralised operations","$$hashKey":"object:1851"}}}},"additionalforms":"Accounting","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-87AA0DDB-8917-4B0E-B6B5-821479AC006D"},{"resourceId":"sid-A7E2E14A-DE12-4667-B597-9588BDAB8A5C"}],"bounds":{"lowerRight":{"x":1135,"y":218},"upperLeft":{"x":1035,"y":138}},"dockers":[]},{"resourceId":"sid-1E4308B2-D176-4A25-9E88-006850E58561","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7"}],"bounds":{"lowerRight":{"x":1034.37109375,"y":178},"upperLeft":{"x":970.62890625,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7"}},{"resourceId":"sid-87AA0DDB-8917-4B0E-B6B5-821479AC006D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-646B66AA-4F3E-417A-B82E-6CE248F87D75"}],"bounds":{"lowerRight":{"x":1085,"y":137.46875},"upperLeft":{"x":920,"y":63}},"dockers":[{"x":50,"y":40},{"x":1085,"y":63},{"x":920,"y":63},{"x":50,"y":40}],"target":{"resourceId":"sid-646B66AA-4F3E-417A-B82E-6CE248F87D75"}},{"resourceId":"sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE","properties":{"overrideid":"","name":"Complete Process","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-55CD854C-C5ED-49E4-AE5D-42E4EDE6824B"}],"bounds":{"lowerRight":{"x":1180,"y":333},"upperLeft":{"x":1080,"y":253}},"dockers":[]},{"resourceId":"sid-A7E2E14A-DE12-4667-B597-9588BDAB8A5C","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE"}],"bounds":{"lowerRight":{"x":1157.671875,"y":252.15625},"upperLeft":{"x":1135.73974609375,"y":178}},"dockers":[{"x":99,"y":40},{"x":1157.671875,"y":178},{"x":77.671875,"y":55}],"target":{"resourceId":"sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE"}},{"resourceId":"sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1144,"y":403},"upperLeft":{"x":1116,"y":375}},"dockers":[]},{"resourceId":"sid-55CD854C-C5ED-49E4-AE5D-42E4EDE6824B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2"}],"bounds":{"lowerRight":{"x":1130,"y":374.5},"upperLeft":{"x":1130,"y":333.75}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2"}},{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578","properties":{"overrideid":"","name":"Cancel Process","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-7C4EA12F-B707-468C-A251-E0032785A549"}],"bounds":{"lowerRight":{"x":975.671875,"y":333},"upperLeft":{"x":875.671875,"y":253}},"dockers":[]},{"resourceId":"sid-EBDE8D97-F475-4B18-9E76-574993780423","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":939.671875,"y":403},"upperLeft":{"x":911.671875,"y":375}},"dockers":[]},{"resourceId":"sid-7C4EA12F-B707-468C-A251-E0032785A549","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-EBDE8D97-F475-4B18-9E76-574993780423"}],"bounds":{"lowerRight":{"x":925.671875,"y":374.5},"upperLeft":{"x":925.671875,"y":333.75}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-EBDE8D97-F475-4B18-9E76-574993780423"}},{"resourceId":"sid-5624DFEC-0004-4667-BE85-B4812DBB1331","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}],"bounds":{"lowerRight":{"x":920,"y":252.38692531907807},"upperLeft":{"x":920,"y":218.5971728948693}},"dockers":[{"x":50,"y":40},{"x":44.328125,"y":22.46996404890905}],"target":{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}},{"resourceId":"sid-1F0F4E4A-CB74-4C12-AA14-F22E9B8925C5","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}],"bounds":{"lowerRight":{"x":874.8175388086614,"y":279},"upperLeft":{"x":590,"y":218.453125}},"dockers":[{"x":50,"y":40},{"x":590,"y":279},{"x":80.17457467508655,"y":26}],"target":{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}},{"resourceId":"sid-1EDF89E1-6F2F-4095-9537-FEF2DF963A40","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}],"bounds":{"lowerRight":{"x":875.4058837890625,"y":293},"upperLeft":{"x":225,"y":218.53125}},"dockers":[{"x":50,"y":40},{"x":225,"y":293},{"x":50,"y":40}],"target":{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}}],"bounds":{"lowerRight":{"x":1280,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="LIMITS_PROCESS_NEW" name="Maker/Checker For Limits Process" isExecutable="true"><documentation>Maker/Checker For Limits Process</documentation><startEvent id="startEvent1" name="Start" /><userTask id="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" name="Capture Customer data (RM)" activiti:actor="LIMITS_RM" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-72E4D1A8-677A-45EF-BDAB-F7962A917233" sourceRef="startEvent1" targetRef="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" representsUserAction="false" mandateNotes="false" /><userTask id="sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD" name="Customer financial Spread Sheet (RM)" activiti:actor="LIMITS_RM_EXT1" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-96F7D897-58E7-4074-8D9F-6DADE0957FA9" name="Submit" sourceRef="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" targetRef="sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><userTask id="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" name="Credit" activiti:actor="LIMITS_CREDIT" activiti:assignmentLevel="Role Queue" /><userTask id="sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D" name="Credit committe" activiti:actor="LIMITS_CREDIT_COMM" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-BD98AE7B-960F-4E28-93E1-85877B165A82" name="Submit" sourceRef="sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD" targetRef="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-A5670FF8-5FF7-4E14-B5FE-44E8FC58808F" name="Submit" sourceRef="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" targetRef="sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-36FBC6D6-A61F-477E-8A99-568238CFE367" name="Resubmit" sourceRef="sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD" targetRef="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-86616F24-FBFC-44C0-A3B6-776DD5840890" name="Resubmit" sourceRef="sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D" targetRef="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" action="Resbmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><userTask id="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" name="Collect additional documents (RM)" activiti:actor="LIMITS_RM_EXT2" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-A1D3353B-B385-462F-A45E-6C250939302B" name="Submit" sourceRef="sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D" targetRef="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><userTask id="sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7" name="Centralised Operations" activiti:actor="LIMITS_OP" activiti:additionalForms="Accounting" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-1E4308B2-D176-4A25-9E88-006850E58561" name="Submit" sourceRef="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" targetRef="sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-87AA0DDB-8917-4B0E-B6B5-821479AC006D" name="Resubmit" sourceRef="sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7" targetRef="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><serviceTask id="sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE" name="Complete Process" activiti:operation="doApprove" /><sequenceFlow id="sid-A7E2E14A-DE12-4667-B597-9588BDAB8A5C" name="Approve" sourceRef="sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7" targetRef="sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><endEvent id="sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2" name="Approved" /><sequenceFlow id="sid-55CD854C-C5ED-49E4-AE5D-42E4EDE6824B" sourceRef="sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE" targetRef="sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2" representsUserAction="false" mandateNotes="false" /><serviceTask id="sid-89949107-5246-4F29-9467-FE1C9A314578" name="Cancel Process" activiti:operation="doReject" /><endEvent id="sid-EBDE8D97-F475-4B18-9E76-574993780423" name="Rejected" /><sequenceFlow id="sid-7C4EA12F-B707-468C-A251-E0032785A549" sourceRef="sid-89949107-5246-4F29-9467-FE1C9A314578" targetRef="sid-EBDE8D97-F475-4B18-9E76-574993780423" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-5624DFEC-0004-4667-BE85-B4812DBB1331" name="Reject" sourceRef="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" targetRef="sid-89949107-5246-4F29-9467-FE1C9A314578" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1F0F4E4A-CB74-4C12-AA14-F22E9B8925C5" name="Reject" sourceRef="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" targetRef="sid-89949107-5246-4F29-9467-FE1C9A314578" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1EDF89E1-6F2F-4095-9537-FEF2DF963A40" name="Cancel" sourceRef="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" targetRef="sid-89949107-5246-4F29-9467-FE1C9A314578" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow></process><bpmndi:BPMNDiagram id="BPMNDiagram_LIMITS_PROCESS_NEW"><bpmndi:BPMNPlane bpmnElement="LIMITS_PROCESS_NEW" id="BPMNPlane_LIMITS_PROCESS_NEW"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" id="BPMNShape_sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0"><omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD" id="BPMNShape_sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD"><omgdc:Bounds height="80.0" width="100.0" x="360.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" id="BPMNShape_sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B"><omgdc:Bounds height="80.0" width="100.0" x="540.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D" id="BPMNShape_sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D"><omgdc:Bounds height="80.0" width="100.0" x="705.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" id="BPMNShape_sid-646B66AA-4F3E-417A-B82E-6CE248F87D75"><omgdc:Bounds height="80.0" width="100.0" x="870.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7" id="BPMNShape_sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7"><omgdc:Bounds height="80.0" width="100.0" x="1035.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE" id="BPMNShape_sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE"><omgdc:Bounds height="80.0" width="100.0" x="1080.0" y="253.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2" id="BPMNShape_sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2"><omgdc:Bounds height="28.0" width="28.0" x="1116.0" y="375.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-89949107-5246-4F29-9467-FE1C9A314578" id="BPMNShape_sid-89949107-5246-4F29-9467-FE1C9A314578"><omgdc:Bounds height="80.0" width="100.0" x="875.671875" y="253.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-EBDE8D97-F475-4B18-9E76-574993780423" id="BPMNShape_sid-EBDE8D97-F475-4B18-9E76-574993780423"><omgdc:Bounds height="28.0" width="28.0" x="911.671875" y="375.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-A5670FF8-5FF7-4E14-B5FE-44E8FC58808F" id="BPMNEdge_sid-A5670FF8-5FF7-4E14-B5FE-44E8FC58808F"><omgdi:waypoint x="640.0" y="178.0" /><omgdi:waypoint x="705.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1EDF89E1-6F2F-4095-9537-FEF2DF963A40" id="BPMNEdge_sid-1EDF89E1-6F2F-4095-9537-FEF2DF963A40"><omgdi:waypoint x="225.0" y="218.0" /><omgdi:waypoint x="225.0" y="293.0" /><omgdi:waypoint x="875.671875" y="293.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-BD98AE7B-960F-4E28-93E1-85877B165A82" id="BPMNEdge_sid-BD98AE7B-960F-4E28-93E1-85877B165A82"><omgdi:waypoint x="460.0" y="178.0" /><omgdi:waypoint x="540.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-7C4EA12F-B707-468C-A251-E0032785A549" id="BPMNEdge_sid-7C4EA12F-B707-468C-A251-E0032785A549"><omgdi:waypoint x="925.671875" y="333.0" /><omgdi:waypoint x="925.671875" y="375.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-5624DFEC-0004-4667-BE85-B4812DBB1331" id="BPMNEdge_sid-5624DFEC-0004-4667-BE85-B4812DBB1331"><omgdi:waypoint x="920.0" y="218.0" /><omgdi:waypoint x="920.0" y="253.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-72E4D1A8-677A-45EF-BDAB-F7962A917233" id="BPMNEdge_sid-72E4D1A8-677A-45EF-BDAB-F7962A917233"><omgdi:waypoint x="130.0" y="178.0" /><omgdi:waypoint x="175.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-55CD854C-C5ED-49E4-AE5D-42E4EDE6824B" id="BPMNEdge_sid-55CD854C-C5ED-49E4-AE5D-42E4EDE6824B"><omgdi:waypoint x="1130.0" y="333.0" /><omgdi:waypoint x="1130.0" y="375.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-87AA0DDB-8917-4B0E-B6B5-821479AC006D" id="BPMNEdge_sid-87AA0DDB-8917-4B0E-B6B5-821479AC006D"><omgdi:waypoint x="1085.0" y="138.0" /><omgdi:waypoint x="1085.0" y="63.0" /><omgdi:waypoint x="920.0" y="63.0" /><omgdi:waypoint x="920.0" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-36FBC6D6-A61F-477E-8A99-568238CFE367" id="BPMNEdge_sid-36FBC6D6-A61F-477E-8A99-568238CFE367"><omgdi:waypoint x="410.0" y="138.0" /><omgdi:waypoint x="410.0" y="66.0" /><omgdi:waypoint x="225.0" y="66.0" /><omgdi:waypoint x="225.0" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-A7E2E14A-DE12-4667-B597-9588BDAB8A5C" id="BPMNEdge_sid-A7E2E14A-DE12-4667-B597-9588BDAB8A5C"><omgdi:waypoint x="1135.0" y="178.0" /><omgdi:waypoint x="1157.671875" y="178.0" /><omgdi:waypoint x="1157.671875" y="253.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-A1D3353B-B385-462F-A45E-6C250939302B" id="BPMNEdge_sid-A1D3353B-B385-462F-A45E-6C250939302B"><omgdi:waypoint x="805.0" y="178.0" /><omgdi:waypoint x="870.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1F0F4E4A-CB74-4C12-AA14-F22E9B8925C5" id="BPMNEdge_sid-1F0F4E4A-CB74-4C12-AA14-F22E9B8925C5"><omgdi:waypoint x="590.0" y="218.0" /><omgdi:waypoint x="590.0" y="279.0" /><omgdi:waypoint x="875.671875" y="279.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1E4308B2-D176-4A25-9E88-006850E58561" id="BPMNEdge_sid-1E4308B2-D176-4A25-9E88-006850E58561"><omgdi:waypoint x="970.0" y="178.0" /><omgdi:waypoint x="1035.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-86616F24-FBFC-44C0-A3B6-776DD5840890" id="BPMNEdge_sid-86616F24-FBFC-44C0-A3B6-776DD5840890"><omgdi:waypoint x="755.0" y="138.0" /><omgdi:waypoint x="755.0" y="62.0" /><omgdi:waypoint x="590.0" y="62.0" /><omgdi:waypoint x="590.0" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-96F7D897-58E7-4074-8D9F-6DADE0957FA9" id="BPMNEdge_sid-96F7D897-58E7-4074-8D9F-6DADE0957FA9"><omgdi:waypoint x="275.0" y="178.0" /><omgdi:waypoint x="360.0" y="178.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='LIMITS_PROCESS'and workflowactive=1</where>
		</update>
</changeSet>
<changeSet id="84" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":903,"properties":{"process_id":"CL_DISBURSEMENT_PROCESS","name":"CL_DISBURSEMENT_PROCESS","documentation":"CL_DISBURSEMENT_PROCESS","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-BA8EAA9F-4BCF-4C9E-ACD6-02E6B9FD5DC2"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C","properties":{"overrideid":"","name":"RM","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"CL_DISB_RM","firstName":"CL_DISB_RM","fullName":"CL_DISB_RM","id":"CL_DISB_RM","roledesc":"CL DISB RM","$$hashKey":"object:814"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-40F547B1-CD0B-4E15-A3DB-8A8FFBFA8101"},{"resourceId":"sid-33899770-CAF9-4508-A162-2FDD3FC41F2F"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-BA8EAA9F-4BCF-4C9E-ACD6-02E6B9FD5DC2","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}},{"resourceId":"sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9","properties":{"overrideid":"","name":"Business Head","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"CL_DISB_BH","firstName":"CL_DISB_BH","fullName":"CL_DISB_BH","id":"CL_DISB_BH","roledesc":"CL DISB BH","$$hashKey":"object:1259"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-3E7ABC8F-EBAA-46F1-9A40-47F086F324CB"},{"resourceId":"sid-1418E552-823D-4840-A495-12F920D98238"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-3E803107-94DD-424F-9F91-5F8533701286","properties":{"overrideid":"","name":"Credit","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"CL_DISB_CREDIT","firstName":"CL_DISB_CREDIT","fullName":"CL_DISB_CREDIT","id":"CL_DISB_CREDIT","roledesc":"CL DISB CREDIT","$$hashKey":"object:1711"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-CC66D26A-675D-4B79-99FD-5A844F60BA77"},{"resourceId":"sid-1F7BCDB5-4811-49D9-A24B-A90EAE0F7914"},{"resourceId":"sid-D9C7104B-4E7E-4F87-BF91-C8A677835F46"}],"bounds":{"lowerRight":{"x":670,"y":218},"upperLeft":{"x":570,"y":138}},"dockers":[]},{"resourceId":"sid-40F547B1-CD0B-4E15-A3DB-8A8FFBFA8101","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9"}],"bounds":{"lowerRight":{"x":389.44921875,"y":178},"upperLeft":{"x":275.55078125,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9"}},{"resourceId":"sid-3E7ABC8F-EBAA-46F1-9A40-47F086F324CB","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-3E803107-94DD-424F-9F91-5F8533701286"}],"bounds":{"lowerRight":{"x":569.78125,"y":178},"upperLeft":{"x":490.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-3E803107-94DD-424F-9F91-5F8533701286"}},{"resourceId":"sid-1418E552-823D-4840-A495-12F920D98238","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}],"bounds":{"lowerRight":{"x":440,"y":137.25},"upperLeft":{"x":225,"y":72}},"dockers":[{"x":50,"y":40},{"x":440,"y":72},{"x":225,"y":72},{"x":50,"y":40}],"target":{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}},{"resourceId":"sid-CC66D26A-675D-4B79-99FD-5A844F60BA77","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}],"bounds":{"lowerRight":{"x":620,"y":137.75},"upperLeft":{"x":209.66668701171875,"y":60}},"dockers":[{"x":50,"y":40},{"x":620,"y":60},{"x":209.66668701171875,"y":60},{"x":34.66668701171875,"y":12}],"target":{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}},{"resourceId":"sid-EF27A317-CBEB-4A09-82A8-10853905466C","properties":{"overrideid":"","name":"Reject Finance","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9FEDA1FC-91C3-475E-AF92-454D2803397E"}],"bounds":{"lowerRight":{"x":175,"y":410},"upperLeft":{"x":75,"y":330}},"dockers":[]},{"resourceId":"sid-33899770-CAF9-4508-A162-2FDD3FC41F2F","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-EF27A317-CBEB-4A09-82A8-10853905466C"}],"bounds":{"lowerRight":{"x":225,"y":370},"upperLeft":{"x":176,"y":218.75}},"dockers":[{"x":50,"y":40},{"x":225,"y":370},{"x":50,"y":40}],"target":{"resourceId":"sid-EF27A317-CBEB-4A09-82A8-10853905466C"}},{"resourceId":"sid-1F7BCDB5-4811-49D9-A24B-A90EAE0F7914","properties":{"overrideid":"","name":"Reject Finance","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-EF27A317-CBEB-4A09-82A8-10853905466C"}],"bounds":{"lowerRight":{"x":620,"y":330},"upperLeft":{"x":125,"y":218.75}},"dockers":[{"x":50,"y":40},{"x":620,"y":274},{"x":125,"y":274},{"x":50,"y":40}],"target":{"resourceId":"sid-EF27A317-CBEB-4A09-82A8-10853905466C"}},{"resourceId":"sid-84E9C900-21B8-4DDA-8AE1-3112091A3847","properties":{"overrideid":"","name":"Centralized Operations (Maker)","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"CL_DISB_CO_MAKER","firstName":"CL_DISB_CO_MAKER","fullName":"CL_DISB_CO_MAKER","id":"CL_DISB_CO_MAKER","roledesc":"CL DISB CO MAKER","$$hashKey":"object:4144"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-88287A60-CC2D-476F-8365-70185C7B1441"},{"resourceId":"sid-700B2C3A-FAFB-4186-8A2F-50BFB91C70D7"}],"bounds":{"lowerRight":{"x":476.6666717529297,"y":395},"upperLeft":{"x":376.6666717529297,"y":315}},"dockers":[]},{"resourceId":"sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515","properties":{"overrideid":"","name":"Centralized Operations (Checker)","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"CL_DISB_CO_CHECKER","firstName":"CL_DISB_CO_CHECKER","fullName":"CL_DISB_CO_CHECKER","id":"CL_DISB_CO_CHECKER","roledesc":"CL DISB CO CHECKER","$$hashKey":"object:4663"}}}},"additionalforms":"Accounting","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-FFA82F5C-11A5-41F0-A4E8-1523DCC38A1A"},{"resourceId":"sid-4EAF3965-0E94-4EDC-AEAA-967BE78D991E"}],"bounds":{"lowerRight":{"x":745,"y":395},"upperLeft":{"x":645,"y":315}},"dockers":[]},{"resourceId":"sid-D9C7104B-4E7E-4F87-BF91-C8A677835F46","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-84E9C900-21B8-4DDA-8AE1-3112091A3847"}],"bounds":{"lowerRight":{"x":640.6666870117188,"y":314.0625},"upperLeft":{"x":436.66668701171875,"y":218.5}},"dockers":[{"x":70.66668701171875,"y":57},{"x":640.6666870117188,"y":291},{"x":436.66668701171875,"y":291},{"x":60.00001525878906,"y":31}],"target":{"resourceId":"sid-84E9C900-21B8-4DDA-8AE1-3112091A3847"}},{"resourceId":"sid-88287A60-CC2D-476F-8365-70185C7B1441","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515"}],"bounds":{"lowerRight":{"x":644.7356780171394,"y":355},"upperLeft":{"x":476.93099373579025,"y":355}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515"}},{"resourceId":"sid-4EAF3965-0E94-4EDC-AEAA-967BE78D991E","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-84E9C900-21B8-4DDA-8AE1-3112091A3847"}],"bounds":{"lowerRight":{"x":644.2500138282776,"y":375},"upperLeft":{"x":477.43750512599945,"y":375}},"dockers":[{"x":28.000015258789062,"y":60},{"x":99,"y":60}],"target":{"resourceId":"sid-84E9C900-21B8-4DDA-8AE1-3112091A3847"}},{"resourceId":"sid-700B2C3A-FAFB-4186-8A2F-50BFB91C70D7","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}],"bounds":{"lowerRight":{"x":376.3424571156502,"y":355},"upperLeft":{"x":243.66668701171875,"y":218.43229109198845}},"dockers":[{"x":50,"y":40},{"x":243.66668701171875,"y":355},{"x":68.66668701171875,"y":62.538011050653665}],"target":{"resourceId":"sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"}},{"resourceId":"sid-B38BE152-538D-41FD-B884-1F3FC312F7AC","properties":{"overrideid":"","name":"Finance CreationHost","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-127B1E28-8CB6-46D7-9F91-2BA4AD619DF6"}],"bounds":{"lowerRight":{"x":618.6666717529297,"y":530},"upperLeft":{"x":518.6666717529297,"y":450}},"dockers":[]},{"resourceId":"sid-FFA82F5C-11A5-41F0-A4E8-1523DCC38A1A","properties":{"overrideid":"","name":"Finalize","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Finalized'"}},"defaultflow":"false","action":"Finalize","state":"Finalized","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B38BE152-538D-41FD-B884-1F3FC312F7AC"}],"bounds":{"lowerRight":{"x":695,"y":490},"upperLeft":{"x":619.0156280994415,"y":395.0234375}},"dockers":[{"x":50,"y":40},{"x":695,"y":490},{"x":50,"y":40}],"target":{"resourceId":"sid-B38BE152-538D-41FD-B884-1F3FC312F7AC"}},{"resourceId":"sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05","properties":{"overrideid":"","name":"End"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":248,"y":508},"upperLeft":{"x":220,"y":480}},"dockers":[]},{"resourceId":"sid-9FEDA1FC-91C3-475E-AF92-454D2803397E","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05"}],"bounds":{"lowerRight":{"x":219.375,"y":494},"upperLeft":{"x":125,"y":410.71875}},"dockers":[{"x":50,"y":40},{"x":125,"y":494},{"x":14,"y":14}],"target":{"resourceId":"sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05"}},{"resourceId":"sid-127B1E28-8CB6-46D7-9F91-2BA4AD619DF6","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05"}],"bounds":{"lowerRight":{"x":517.9896590843878,"y":493.8317986625695},"upperLeft":{"x":248.07284544556524,"y":490.6057013374305}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="CL_DISBURSEMENT_PROCESS_NEW" name="CL_DISBURSEMENT_PROCESS" isExecutable="true"><documentation>CL_DISBURSEMENT_PROCESS</documentation><startEvent id="startEvent1" name="Start" /><userTask id="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" name="RM" activiti:actor="CL_DISB_RM" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-BA8EAA9F-4BCF-4C9E-ACD6-02E6B9FD5DC2" sourceRef="startEvent1" targetRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" representsUserAction="false" mandateNotes="false" /><userTask id="sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9" name="Business Head" activiti:actor="CL_DISB_BH" activiti:assignmentLevel="Role Queue" /><userTask id="sid-3E803107-94DD-424F-9F91-5F8533701286" name="Credit" activiti:actor="CL_DISB_CREDIT" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-40F547B1-CD0B-4E15-A3DB-8A8FFBFA8101" name="Submit" sourceRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" targetRef="sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-3E7ABC8F-EBAA-46F1-9A40-47F086F324CB" name="Approve" sourceRef="sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9" targetRef="sid-3E803107-94DD-424F-9F91-5F8533701286" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1418E552-823D-4840-A495-12F920D98238" name="Resubmit" sourceRef="sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9" targetRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-CC66D26A-675D-4B79-99FD-5A844F60BA77" name="Resubmit" sourceRef="sid-3E803107-94DD-424F-9F91-5F8533701286" targetRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><serviceTask id="sid-EF27A317-CBEB-4A09-82A8-10853905466C" name="Reject Finance" activiti:operation="doReject" /><sequenceFlow id="sid-33899770-CAF9-4508-A162-2FDD3FC41F2F" name="Cancel" sourceRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" targetRef="sid-EF27A317-CBEB-4A09-82A8-10853905466C" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1F7BCDB5-4811-49D9-A24B-A90EAE0F7914" name="Reject Finance" sourceRef="sid-3E803107-94DD-424F-9F91-5F8533701286" targetRef="sid-EF27A317-CBEB-4A09-82A8-10853905466C" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><userTask id="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" name="Centralized Operations (Maker)" activiti:actor="CL_DISB_CO_MAKER" activiti:assignmentLevel="Role Queue" /><userTask id="sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515" name="Centralized Operations (Checker)" activiti:actor="CL_DISB_CO_CHECKER" activiti:additionalForms="Accounting" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-D9C7104B-4E7E-4F87-BF91-C8A677835F46" name="Approve" sourceRef="sid-3E803107-94DD-424F-9F91-5F8533701286" targetRef="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-88287A60-CC2D-476F-8365-70185C7B1441" name="Approve" sourceRef="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" targetRef="sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-4EAF3965-0E94-4EDC-AEAA-967BE78D991E" name="Resubmit" sourceRef="sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515" targetRef="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-700B2C3A-FAFB-4186-8A2F-50BFB91C70D7" name="Resubmit" sourceRef="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" targetRef="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><serviceTask id="sid-B38BE152-538D-41FD-B884-1F3FC312F7AC" name="Finance CreationHost" activiti:operation="doApprove" /><sequenceFlow id="sid-FFA82F5C-11A5-41F0-A4E8-1523DCC38A1A" name="Finalize" sourceRef="sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515" targetRef="sid-B38BE152-538D-41FD-B884-1F3FC312F7AC" action="Finalize" state="Finalized" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Finalized'</conditionExpression></sequenceFlow><endEvent id="sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05" name="End" /><sequenceFlow id="sid-9FEDA1FC-91C3-475E-AF92-454D2803397E" sourceRef="sid-EF27A317-CBEB-4A09-82A8-10853905466C" targetRef="sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-127B1E28-8CB6-46D7-9F91-2BA4AD619DF6" sourceRef="sid-B38BE152-538D-41FD-B884-1F3FC312F7AC" targetRef="sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05" representsUserAction="false" mandateNotes="false" /></process><bpmndi:BPMNDiagram id="BPMNDiagram_CL_DISBURSEMENT_PROCESS_NEW"><bpmndi:BPMNPlane bpmnElement="CL_DISBURSEMENT_PROCESS_NEW" id="BPMNPlane_CL_DISBURSEMENT_PROCESS_NEW"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C" id="BPMNShape_sid-F63EAA5F-6E98-4342-97DE-CB8B9385E53C"><omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9" id="BPMNShape_sid-48D09B11-D321-4F9A-BDC8-2B8207D37CD9"><omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-3E803107-94DD-424F-9F91-5F8533701286" id="BPMNShape_sid-3E803107-94DD-424F-9F91-5F8533701286"><omgdc:Bounds height="80.0" width="100.0" x="570.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-EF27A317-CBEB-4A09-82A8-10853905466C" id="BPMNShape_sid-EF27A317-CBEB-4A09-82A8-10853905466C"><omgdc:Bounds height="80.0" width="100.0" x="75.0" y="330.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-84E9C900-21B8-4DDA-8AE1-3112091A3847" id="BPMNShape_sid-84E9C900-21B8-4DDA-8AE1-3112091A3847"><omgdc:Bounds height="80.0" width="100.0" x="376.6666717529297" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515" id="BPMNShape_sid-9B0A9FC4-3ECF-4D07-AC3C-3CD8B0FA3515"><omgdc:Bounds height="80.0" width="100.0" x="645.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B38BE152-538D-41FD-B884-1F3FC312F7AC" id="BPMNShape_sid-B38BE152-538D-41FD-B884-1F3FC312F7AC"><omgdc:Bounds height="80.0" width="100.0" x="518.6666717529297" y="450.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05" id="BPMNShape_sid-812E07AA-C199-44A1-86F4-2C5E8CDBFC05"><omgdc:Bounds height="28.0" width="28.0" x="220.0" y="480.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-1F7BCDB5-4811-49D9-A24B-A90EAE0F7914" id="BPMNEdge_sid-1F7BCDB5-4811-49D9-A24B-A90EAE0F7914"><omgdi:waypoint x="620.0" y="218.0" /><omgdi:waypoint x="620.0" y="274.0" /><omgdi:waypoint x="125.0" y="274.0" /><omgdi:waypoint x="125.0" y="330.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-D9C7104B-4E7E-4F87-BF91-C8A677835F46" id="BPMNEdge_sid-D9C7104B-4E7E-4F87-BF91-C8A677835F46"><omgdi:waypoint x="640.6666870117188" y="218.0" /><omgdi:waypoint x="640.6666870117188" y="291.0" /><omgdi:waypoint x="436.66668701171875" y="291.0" /><omgdi:waypoint x="436.66668701171875" y="315.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-CC66D26A-675D-4B79-99FD-5A844F60BA77" id="BPMNEdge_sid-CC66D26A-675D-4B79-99FD-5A844F60BA77"><omgdi:waypoint x="620.0" y="138.0" /><omgdi:waypoint x="620.0" y="60.0" /><omgdi:waypoint x="209.66668701171875" y="60.0" /><omgdi:waypoint x="209.66668701171875" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1418E552-823D-4840-A495-12F920D98238" id="BPMNEdge_sid-1418E552-823D-4840-A495-12F920D98238"><omgdi:waypoint x="440.0" y="138.0" /><omgdi:waypoint x="440.0" y="72.0" /><omgdi:waypoint x="225.0" y="72.0" /><omgdi:waypoint x="225.0" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-40F547B1-CD0B-4E15-A3DB-8A8FFBFA8101" id="BPMNEdge_sid-40F547B1-CD0B-4E15-A3DB-8A8FFBFA8101"><omgdi:waypoint x="275.0" y="178.0" /><omgdi:waypoint x="390.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-127B1E28-8CB6-46D7-9F91-2BA4AD619DF6" id="BPMNEdge_sid-127B1E28-8CB6-46D7-9F91-2BA4AD619DF6"><omgdi:waypoint x="518.6666717529297" y="490.5976095526705" /><omgdi:waypoint x="247.99900012302984" y="493.83268127597285" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-88287A60-CC2D-476F-8365-70185C7B1441" id="BPMNEdge_sid-88287A60-CC2D-476F-8365-70185C7B1441"><omgdi:waypoint x="476.6666717529297" y="355.0" /><omgdi:waypoint x="645.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-BA8EAA9F-4BCF-4C9E-ACD6-02E6B9FD5DC2" id="BPMNEdge_sid-BA8EAA9F-4BCF-4C9E-ACD6-02E6B9FD5DC2"><omgdi:waypoint x="130.0" y="178.0" /><omgdi:waypoint x="175.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-700B2C3A-FAFB-4186-8A2F-50BFB91C70D7" id="BPMNEdge_sid-700B2C3A-FAFB-4186-8A2F-50BFB91C70D7"><omgdi:waypoint x="376.6666717529297" y="355.0" /><omgdi:waypoint x="243.66668701171875" y="355.0" /><omgdi:waypoint x="243.66668701171875" y="218.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-4EAF3965-0E94-4EDC-AEAA-967BE78D991E" id="BPMNEdge_sid-4EAF3965-0E94-4EDC-AEAA-967BE78D991E"><omgdi:waypoint x="645.0" y="375.0" /><omgdi:waypoint x="476.6666717529297" y="375.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-FFA82F5C-11A5-41F0-A4E8-1523DCC38A1A" id="BPMNEdge_sid-FFA82F5C-11A5-41F0-A4E8-1523DCC38A1A"><omgdi:waypoint x="695.0" y="395.0" /><omgdi:waypoint x="695.0" y="490.0" /><omgdi:waypoint x="618.6666717529297" y="490.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9FEDA1FC-91C3-475E-AF92-454D2803397E" id="BPMNEdge_sid-9FEDA1FC-91C3-475E-AF92-454D2803397E"><omgdi:waypoint x="125.0" y="410.0" /><omgdi:waypoint x="125.0" y="494.0" /><omgdi:waypoint x="220.0" y="494.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-33899770-CAF9-4508-A162-2FDD3FC41F2F" id="BPMNEdge_sid-33899770-CAF9-4508-A162-2FDD3FC41F2F"><omgdi:waypoint x="225.0" y="218.0" /><omgdi:waypoint x="225.0" y="370.0" /><omgdi:waypoint x="175.0" y="370.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-3E7ABC8F-EBAA-46F1-9A40-47F086F324CB" id="BPMNEdge_sid-3E7ABC8F-EBAA-46F1-9A40-47F086F324CB"><omgdi:waypoint x="490.0" y="178.0" /><omgdi:waypoint x="570.0" y="178.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='CL_DISBURSEMENT_PROCESS'and workflowactive=1</where>
		</update>
</changeSet>
<changeSet id="85" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":904,"properties":{"process_id":"LIMITS_PROCESS","name":"Maker/Checker For Limits Process","documentation":"Maker/Checker For Limits Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-72E4D1A8-677A-45EF-BDAB-F7962A917233"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0","properties":{"overrideid":"","name":"Capture Customer data (RM)","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_RM","firstName":"LIMITS_RM","fullName":"LIMITS_RM","id":"LIMITS_RM","roledesc":"Capture customer data","$$hashKey":"object:790"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-96F7D897-58E7-4074-8D9F-6DADE0957FA9"},{"resourceId":"sid-1EDF89E1-6F2F-4095-9537-FEF2DF963A40"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-72E4D1A8-677A-45EF-BDAB-F7962A917233","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0"}},{"resourceId":"sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD","properties":{"overrideid":"","name":"Customer financial Spread Sheet (RM)","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_RM_EXT1","firstName":"LIMITS_RM_EXT1","fullName":"LIMITS_RM_EXT1","id":"LIMITS_RM_EXT1","roledesc":"Customer financial spreadsheet","$$hashKey":"object:1383"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-BD98AE7B-960F-4E28-93E1-85877B165A82"},{"resourceId":"sid-36FBC6D6-A61F-477E-8A99-568238CFE367"}],"bounds":{"lowerRight":{"x":460,"y":218},"upperLeft":{"x":360,"y":138}},"dockers":[]},{"resourceId":"sid-96F7D897-58E7-4074-8D9F-6DADE0957FA9","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD"}],"bounds":{"lowerRight":{"x":359.859375,"y":178},"upperLeft":{"x":275.140625,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD"}},{"resourceId":"sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B","properties":{"overrideid":"","name":"Credit","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_CREDIT","firstName":"LIMITS_CREDIT","fullName":"LIMITS_CREDIT","id":"LIMITS_CREDIT","roledesc":"Credit","$$hashKey":"object:1990"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-A5670FF8-5FF7-4E14-B5FE-44E8FC58808F"},{"resourceId":"sid-1F0F4E4A-CB74-4C12-AA14-F22E9B8925C5"}],"bounds":{"lowerRight":{"x":640,"y":218},"upperLeft":{"x":540,"y":138}},"dockers":[]},{"resourceId":"sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D","properties":{"overrideid":"","name":"Credit committe","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_CREDIT_COMM","firstName":"LIMITS_CREDIT_COMM","fullName":"LIMITS_CREDIT_COMM","id":"LIMITS_CREDIT_COMM","roledesc":"Credit Committee","$$hashKey":"object:2471"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-86616F24-FBFC-44C0-A3B6-776DD5840890"},{"resourceId":"sid-A1D3353B-B385-462F-A45E-6C250939302B"}],"bounds":{"lowerRight":{"x":805,"y":218},"upperLeft":{"x":705,"y":138}},"dockers":[]},{"resourceId":"sid-BD98AE7B-960F-4E28-93E1-85877B165A82","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B"}],"bounds":{"lowerRight":{"x":539.78125,"y":178},"upperLeft":{"x":460.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B"}},{"resourceId":"sid-A5670FF8-5FF7-4E14-B5FE-44E8FC58808F","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D"}],"bounds":{"lowerRight":{"x":704.37109375,"y":178},"upperLeft":{"x":640.62890625,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D"}},{"resourceId":"sid-36FBC6D6-A61F-477E-8A99-568238CFE367","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0"}],"bounds":{"lowerRight":{"x":410,"y":137.625},"upperLeft":{"x":225,"y":66}},"dockers":[{"x":50,"y":40},{"x":410,"y":66},{"x":225,"y":66},{"x":50,"y":40}],"target":{"resourceId":"sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0"}},{"resourceId":"sid-86616F24-FBFC-44C0-A3B6-776DD5840890","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resbmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B"}],"bounds":{"lowerRight":{"x":755,"y":137.125},"upperLeft":{"x":590,"y":62}},"dockers":[{"x":50,"y":40},{"x":755,"y":62},{"x":590,"y":62},{"x":50,"y":40}],"target":{"resourceId":"sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B"}},{"resourceId":"sid-646B66AA-4F3E-417A-B82E-6CE248F87D75","properties":{"overrideid":"","name":"Collect additional documents (RM)","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_RM_EXT2","firstName":"LIMITS_RM_EXT2","fullName":"LIMITS_RM_EXT2","id":"LIMITS_RM_EXT2","roledesc":"Collection of additional documents","$$hashKey":"object:1489"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-1E4308B2-D176-4A25-9E88-006850E58561"},{"resourceId":"sid-5624DFEC-0004-4667-BE85-B4812DBB1331"}],"bounds":{"lowerRight":{"x":970,"y":218},"upperLeft":{"x":870,"y":138}},"dockers":[]},{"resourceId":"sid-A1D3353B-B385-462F-A45E-6C250939302B","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-646B66AA-4F3E-417A-B82E-6CE248F87D75"}],"bounds":{"lowerRight":{"x":869.37109375,"y":178},"upperLeft":{"x":805.62890625,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-646B66AA-4F3E-417A-B82E-6CE248F87D75"}},{"resourceId":"sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7","properties":{"overrideid":"","name":"Centralised Operations","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"LIMITS_OP","firstName":"LIMITS_OP","fullName":"LIMITS_OP","id":"LIMITS_OP","roledesc":"Centralised operations","$$hashKey":"object:1851"}}}},"additionalforms":"Accounting","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-87AA0DDB-8917-4B0E-B6B5-821479AC006D"},{"resourceId":"sid-A7E2E14A-DE12-4667-B597-9588BDAB8A5C"}],"bounds":{"lowerRight":{"x":1135,"y":218},"upperLeft":{"x":1035,"y":138}},"dockers":[]},{"resourceId":"sid-1E4308B2-D176-4A25-9E88-006850E58561","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7"}],"bounds":{"lowerRight":{"x":1034.37109375,"y":178},"upperLeft":{"x":970.62890625,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7"}},{"resourceId":"sid-87AA0DDB-8917-4B0E-B6B5-821479AC006D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-646B66AA-4F3E-417A-B82E-6CE248F87D75"}],"bounds":{"lowerRight":{"x":1085,"y":137.46875},"upperLeft":{"x":920,"y":63}},"dockers":[{"x":50,"y":40},{"x":1085,"y":63},{"x":920,"y":63},{"x":50,"y":40}],"target":{"resourceId":"sid-646B66AA-4F3E-417A-B82E-6CE248F87D75"}},{"resourceId":"sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE","properties":{"overrideid":"","name":"Complete Process","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-55CD854C-C5ED-49E4-AE5D-42E4EDE6824B"}],"bounds":{"lowerRight":{"x":1180,"y":333},"upperLeft":{"x":1080,"y":253}},"dockers":[]},{"resourceId":"sid-A7E2E14A-DE12-4667-B597-9588BDAB8A5C","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE"}],"bounds":{"lowerRight":{"x":1157.671875,"y":252.15625},"upperLeft":{"x":1135.73974609375,"y":178}},"dockers":[{"x":99,"y":40},{"x":1157.671875,"y":178},{"x":77.671875,"y":55}],"target":{"resourceId":"sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE"}},{"resourceId":"sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1144,"y":403},"upperLeft":{"x":1116,"y":375}},"dockers":[]},{"resourceId":"sid-55CD854C-C5ED-49E4-AE5D-42E4EDE6824B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2"}],"bounds":{"lowerRight":{"x":1130,"y":374.5},"upperLeft":{"x":1130,"y":333.75}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2"}},{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578","properties":{"overrideid":"","name":"Cancel Process","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-7C4EA12F-B707-468C-A251-E0032785A549"}],"bounds":{"lowerRight":{"x":975.671875,"y":333},"upperLeft":{"x":875.671875,"y":253}},"dockers":[]},{"resourceId":"sid-EBDE8D97-F475-4B18-9E76-574993780423","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":939.671875,"y":403},"upperLeft":{"x":911.671875,"y":375}},"dockers":[]},{"resourceId":"sid-7C4EA12F-B707-468C-A251-E0032785A549","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-EBDE8D97-F475-4B18-9E76-574993780423"}],"bounds":{"lowerRight":{"x":925.671875,"y":374.5},"upperLeft":{"x":925.671875,"y":333.75}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-EBDE8D97-F475-4B18-9E76-574993780423"}},{"resourceId":"sid-5624DFEC-0004-4667-BE85-B4812DBB1331","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}],"bounds":{"lowerRight":{"x":920,"y":252.38692531907807},"upperLeft":{"x":920,"y":218.5971728948693}},"dockers":[{"x":50,"y":40},{"x":44.328125,"y":22.46996404890905}],"target":{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}},{"resourceId":"sid-1F0F4E4A-CB74-4C12-AA14-F22E9B8925C5","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}],"bounds":{"lowerRight":{"x":874.8175388086614,"y":279},"upperLeft":{"x":590,"y":218.453125}},"dockers":[{"x":50,"y":40},{"x":590,"y":279},{"x":80.17457467508655,"y":26}],"target":{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}},{"resourceId":"sid-1EDF89E1-6F2F-4095-9537-FEF2DF963A40","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}],"bounds":{"lowerRight":{"x":875.4058837890625,"y":293},"upperLeft":{"x":225,"y":218.53125}},"dockers":[{"x":50,"y":40},{"x":225,"y":293},{"x":50,"y":40}],"target":{"resourceId":"sid-89949107-5246-4F29-9467-FE1C9A314578"}}],"bounds":{"lowerRight":{"x":1280,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="LIMITS_PROCESS_NEW" name="Maker/Checker For Limits Process" isExecutable="true"><documentation>Maker/Checker For Limits Process</documentation><startEvent id="startEvent1" name="Start" /><userTask id="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" name="Capture Customer data (RM)" activiti:actor="LIMITS_RM" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-72E4D1A8-677A-45EF-BDAB-F7962A917233" sourceRef="startEvent1" targetRef="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" representsUserAction="false" mandateNotes="false" /><userTask id="sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD" name="Customer financial Spread Sheet (RM)" activiti:actor="LIMITS_RM_EXT1" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-96F7D897-58E7-4074-8D9F-6DADE0957FA9" name="Submit" sourceRef="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" targetRef="sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><userTask id="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" name="Credit" activiti:actor="LIMITS_CREDIT" activiti:assignmentLevel="Role Queue" /><userTask id="sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D" name="Credit committe" activiti:actor="LIMITS_CREDIT_COMM" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-BD98AE7B-960F-4E28-93E1-85877B165A82" name="Submit" sourceRef="sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD" targetRef="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-A5670FF8-5FF7-4E14-B5FE-44E8FC58808F" name="Submit" sourceRef="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" targetRef="sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-36FBC6D6-A61F-477E-8A99-568238CFE367" name="Resubmit" sourceRef="sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD" targetRef="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-86616F24-FBFC-44C0-A3B6-776DD5840890" name="Resubmit" sourceRef="sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D" targetRef="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" action="Resbmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><userTask id="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" name="Collect additional documents (RM)" activiti:actor="LIMITS_RM_EXT2" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-A1D3353B-B385-462F-A45E-6C250939302B" name="Submit" sourceRef="sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D" targetRef="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><userTask id="sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7" name="Centralised Operations" activiti:actor="LIMITS_OP" activiti:additionalForms="Accounting" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-1E4308B2-D176-4A25-9E88-006850E58561" name="Submit" sourceRef="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" targetRef="sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-87AA0DDB-8917-4B0E-B6B5-821479AC006D" name="Resubmit" sourceRef="sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7" targetRef="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><serviceTask id="sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE" name="Complete Process" activiti:operation="doApprove" /><sequenceFlow id="sid-A7E2E14A-DE12-4667-B597-9588BDAB8A5C" name="Approve" sourceRef="sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7" targetRef="sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><endEvent id="sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2" name="Approved" /><sequenceFlow id="sid-55CD854C-C5ED-49E4-AE5D-42E4EDE6824B" sourceRef="sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE" targetRef="sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2" representsUserAction="false" mandateNotes="false" /><serviceTask id="sid-89949107-5246-4F29-9467-FE1C9A314578" name="Cancel Process" activiti:operation="doReject" /><endEvent id="sid-EBDE8D97-F475-4B18-9E76-574993780423" name="Rejected" /><sequenceFlow id="sid-7C4EA12F-B707-468C-A251-E0032785A549" sourceRef="sid-89949107-5246-4F29-9467-FE1C9A314578" targetRef="sid-EBDE8D97-F475-4B18-9E76-574993780423" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-5624DFEC-0004-4667-BE85-B4812DBB1331" name="Reject" sourceRef="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" targetRef="sid-89949107-5246-4F29-9467-FE1C9A314578" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1F0F4E4A-CB74-4C12-AA14-F22E9B8925C5" name="Reject" sourceRef="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" targetRef="sid-89949107-5246-4F29-9467-FE1C9A314578" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1EDF89E1-6F2F-4095-9537-FEF2DF963A40" name="Cancel" sourceRef="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" targetRef="sid-89949107-5246-4F29-9467-FE1C9A314578" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow></process><bpmndi:BPMNDiagram id="BPMNDiagram_LIMITS_PROCESS_NEW"><bpmndi:BPMNPlane bpmnElement="LIMITS_PROCESS_NEW" id="BPMNPlane_LIMITS_PROCESS_NEW"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0" id="BPMNShape_sid-F0BB62C9-EDCC-405A-A561-F7B8AD36C4C0"><omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD" id="BPMNShape_sid-FC42DC4C-0330-42F3-ABF6-C95D10AB0BDD"><omgdc:Bounds height="80.0" width="100.0" x="360.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B" id="BPMNShape_sid-AE94CD74-AE42-4428-A6E8-72BAC245CF8B"><omgdc:Bounds height="80.0" width="100.0" x="540.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D" id="BPMNShape_sid-0946AE91-A8C3-4799-A8AF-A8B10B2EC50D"><omgdc:Bounds height="80.0" width="100.0" x="705.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-646B66AA-4F3E-417A-B82E-6CE248F87D75" id="BPMNShape_sid-646B66AA-4F3E-417A-B82E-6CE248F87D75"><omgdc:Bounds height="80.0" width="100.0" x="870.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7" id="BPMNShape_sid-EFFD6E4A-5EAB-45A7-8A28-A7E790E7AFA7"><omgdc:Bounds height="80.0" width="100.0" x="1035.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE" id="BPMNShape_sid-EF30643E-AD5E-461A-BD1A-2C93AE6999DE"><omgdc:Bounds height="80.0" width="100.0" x="1080.0" y="253.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2" id="BPMNShape_sid-0A1A2648-CB7C-4041-BEFF-25ED3361A9A2"><omgdc:Bounds height="28.0" width="28.0" x="1116.0" y="375.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-89949107-5246-4F29-9467-FE1C9A314578" id="BPMNShape_sid-89949107-5246-4F29-9467-FE1C9A314578"><omgdc:Bounds height="80.0" width="100.0" x="875.671875" y="253.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-EBDE8D97-F475-4B18-9E76-574993780423" id="BPMNShape_sid-EBDE8D97-F475-4B18-9E76-574993780423"><omgdc:Bounds height="28.0" width="28.0" x="911.671875" y="375.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-A5670FF8-5FF7-4E14-B5FE-44E8FC58808F" id="BPMNEdge_sid-A5670FF8-5FF7-4E14-B5FE-44E8FC58808F"><omgdi:waypoint x="640.0" y="178.0" /><omgdi:waypoint x="705.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1EDF89E1-6F2F-4095-9537-FEF2DF963A40" id="BPMNEdge_sid-1EDF89E1-6F2F-4095-9537-FEF2DF963A40"><omgdi:waypoint x="225.0" y="218.0" /><omgdi:waypoint x="225.0" y="293.0" /><omgdi:waypoint x="875.671875" y="293.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-BD98AE7B-960F-4E28-93E1-85877B165A82" id="BPMNEdge_sid-BD98AE7B-960F-4E28-93E1-85877B165A82"><omgdi:waypoint x="460.0" y="178.0" /><omgdi:waypoint x="540.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-7C4EA12F-B707-468C-A251-E0032785A549" id="BPMNEdge_sid-7C4EA12F-B707-468C-A251-E0032785A549"><omgdi:waypoint x="925.671875" y="333.0" /><omgdi:waypoint x="925.671875" y="375.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-5624DFEC-0004-4667-BE85-B4812DBB1331" id="BPMNEdge_sid-5624DFEC-0004-4667-BE85-B4812DBB1331"><omgdi:waypoint x="920.0" y="218.0" /><omgdi:waypoint x="920.0" y="253.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-72E4D1A8-677A-45EF-BDAB-F7962A917233" id="BPMNEdge_sid-72E4D1A8-677A-45EF-BDAB-F7962A917233"><omgdi:waypoint x="130.0" y="178.0" /><omgdi:waypoint x="175.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-55CD854C-C5ED-49E4-AE5D-42E4EDE6824B" id="BPMNEdge_sid-55CD854C-C5ED-49E4-AE5D-42E4EDE6824B"><omgdi:waypoint x="1130.0" y="333.0" /><omgdi:waypoint x="1130.0" y="375.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-87AA0DDB-8917-4B0E-B6B5-821479AC006D" id="BPMNEdge_sid-87AA0DDB-8917-4B0E-B6B5-821479AC006D"><omgdi:waypoint x="1085.0" y="138.0" /><omgdi:waypoint x="1085.0" y="63.0" /><omgdi:waypoint x="920.0" y="63.0" /><omgdi:waypoint x="920.0" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-36FBC6D6-A61F-477E-8A99-568238CFE367" id="BPMNEdge_sid-36FBC6D6-A61F-477E-8A99-568238CFE367"><omgdi:waypoint x="410.0" y="138.0" /><omgdi:waypoint x="410.0" y="66.0" /><omgdi:waypoint x="225.0" y="66.0" /><omgdi:waypoint x="225.0" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-A7E2E14A-DE12-4667-B597-9588BDAB8A5C" id="BPMNEdge_sid-A7E2E14A-DE12-4667-B597-9588BDAB8A5C"><omgdi:waypoint x="1135.0" y="178.0" /><omgdi:waypoint x="1157.671875" y="178.0" /><omgdi:waypoint x="1157.671875" y="253.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-A1D3353B-B385-462F-A45E-6C250939302B" id="BPMNEdge_sid-A1D3353B-B385-462F-A45E-6C250939302B"><omgdi:waypoint x="805.0" y="178.0" /><omgdi:waypoint x="870.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1F0F4E4A-CB74-4C12-AA14-F22E9B8925C5" id="BPMNEdge_sid-1F0F4E4A-CB74-4C12-AA14-F22E9B8925C5"><omgdi:waypoint x="590.0" y="218.0" /><omgdi:waypoint x="590.0" y="279.0" /><omgdi:waypoint x="875.671875" y="279.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1E4308B2-D176-4A25-9E88-006850E58561" id="BPMNEdge_sid-1E4308B2-D176-4A25-9E88-006850E58561"><omgdi:waypoint x="970.0" y="178.0" /><omgdi:waypoint x="1035.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-86616F24-FBFC-44C0-A3B6-776DD5840890" id="BPMNEdge_sid-86616F24-FBFC-44C0-A3B6-776DD5840890"><omgdi:waypoint x="755.0" y="138.0" /><omgdi:waypoint x="755.0" y="62.0" /><omgdi:waypoint x="590.0" y="62.0" /><omgdi:waypoint x="590.0" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-96F7D897-58E7-4074-8D9F-6DADE0957FA9" id="BPMNEdge_sid-96F7D897-58E7-4074-8D9F-6DADE0957FA9"><omgdi:waypoint x="275.0" y="178.0" /><omgdi:waypoint x="360.0" y="178.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='LIMITS_PROCESS'and workflowactive=1</where>
		</update>
</changeSet>
<changeSet id="86" author=" Jayant" dbms="oracle">
    <sql>
        Update vasStructure set Productdesc=substr(productdesc,1,20);
    </sql>
</changeSet>
<changeSet id="86" author=" Jayant" dbms="mssql">
    <sql>
        Update vasStructure set Productdesc=substring(productdesc,1,20);
    </sql>
</changeSet>
<changeSet id="87" author="Manoj.P">
		<createTable tableName="CIBIL_FILE_INFO">
			<column name="ID"  	type="bigint" autoIncrement="true" incrementBy="1">
			  	<constraints primaryKey="true"  nullable="false" />
		 	 </column>
			<column name="FILE_NAME"     type="VARCHAR(100)" >
				<constraints nullable="false" />
			</column>	
			<column name="MEMBERID"       type="VARCHAR(30)">
				<constraints nullable="false" />
			</column>	
			<column name="MEMBER_SHORTNAME" type="VARCHAR(16)">
				<constraints nullable="false" />
			</column>	
			<column name="MEMBER_PASSWORD"  type="VARCHAR(30)" />
			<column name="CREATEDON"        type="datetime">
				<constraints nullable="false" />
			</column>	
		</createTable>
	</changeSet>
	
	<changeSet id="88" author="Manoj.P">
		<createTable tableName="CIBIL_DETAILS">
			<column name="CUST_ID"              type="bigint"/>
			<column name="FINREFERENCE"         type="VARCHAR2(20)"/>
			<column name="OWNERSHIP_INDICATOR"  type="int" />
		</createTable>
	</changeSet>
		<changeSet author="pruthvi" id="89" dbms="oracle">
		<createView viewName="RPT_FinJointActDtls_pvt_view" replaceIfExists="true">
			 Select * from (
          Select row_number() over(partition by Finreference order by Finreference) row_num,Finreference,custshrtname
          from FinJointAccountDetails fj inner join customers c on c.custcif = fj.custcif  )
          Pivot(max(custshrtname) For row_num in (1 as CO_APP1,2 as CO_APP2,3 as CO_APP3))
		</createView>
	</changeSet>
<!-- 			<changeSet author="pruthvi" id="89" dbms="mssql">
		<createView viewName="RPT_FinJointActDtls_pvt_view" replaceIfExists="true">
			 Select * from (
          Select row_number() over(partition by Finreference order by Finreference) row_num,Finreference,custshrtname
          from FinJointAccountDetails fj inner join customers c on c.custcif = fj.custcif  )
          Pivot(max(custshrtname) For row_num in (1 as CO_APP1,2 as CO_APP2,3 as CO_APP3))
		</createView>
	</changeSet> -->
	<changeSet author="pruthvi" id="90" dbms="oracle">
		<createView viewName="RPT_FinGuarantorDtls_pvt_view" replaceIfExists="true">
			  Select * from (
          Select row_number() over(partition by Finreference order by Finreference) row_num,Finreference,custshrtname
          from FinGuarantorsDetails fj inner join customers c on c.custcif = fj.GUarantorcif  )
          Pivot(max(custshrtname) For row_num in (1 as CO_GUR1,2 as CO_GUR2,3 as CO_GUR3))
		</createView>
	</changeSet>
<!-- 	<changeSet author="pruthvi" id="90" dbms="mssql">
		<createView viewName="RPT_FinGuarantorDtls_pvt_view" replaceIfExists="true">
			  Select * from (
          Select row_number() over(partition by Finreference order by Finreference) row_num,Finreference,custshrtname
          from FinGuarantorsDetails fj inner join customers c on c.custcif = fj.GUarantorcif  )
          Pivot(max(custshrtname) For row_num in (1 as CO_GUR1,2 as CO_GUR2,3 as CO_GUR3))
		</createView>
	</changeSet> -->
	<changeSet author="pruthvi" id="91">
	<sql>
	Update SeqSecGroups Set SeqNo = (Select MAX(GrpID) + 1 from SecGroups);
Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights);
Update SeqSecRoleGroups Set SeqNo = (Select MAX(RoleGrpID) + 1 from SecRoleGroups);

Delete from SecGroupRights where GrpID In (Select GrpID from SecGroups where GrpCode = 'REPORTS_CLLIMITS');
Delete from SecRoleGroups where GrpID IN (Select GrpId from SecGroups WHERE GrpCode = 'REPORTS_CLLIMITS') And RoleID IN (Select RoleID from SecRoles WHERE RoleCd = 'ADMIN');
Delete from SecGroups where GrpCode = 'REPORTS_CLLIMITS';
INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'REPORTS_CLLIMITS','Reports for Commercial Limit MIS', 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL,0);

Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'menu_Item_CLLIMITMIS');
Delete from SecRights where RightName = 'menu_Item_CLLIMITMIS';
Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 0, 'menu_Item_CLLIMITMIS', 'MENU', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'REPORTS_CLLIMITS'), (Select RightID from SecRights where RightName = 'menu_Item_CLLIMITMIS'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
INSERT INTO SecRoleGroups values ((SELECT MAX(RoleGrpID) + 1 from SecRoleGroups), (Select MAX(GrpId) from SecGroups WHERE GrpCode = 'REPORTS_CLLIMITS'), (Select MAX(RoleID) from SecRoles WHERE RoleCd = 'ADMIN'), 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);

Delete from SecGroupRights where GrpID In (Select GrpID from SecGroups where GrpCode = 'REPORTS_DOCEXTRACT');
Delete from SecRoleGroups where GrpID IN (Select GrpId from SecGroups WHERE GrpCode = 'REPORTS_DOCEXTRACT') And RoleID IN (Select RoleID from SecRoles WHERE RoleCd = 'ADMIN');
Delete from SecGroups where GrpCode = 'REPORTS_DOCEXTRACT';
INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'REPORTS_DOCEXTRACT','Reports for List Of Document Extracts', 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL,0);

Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'menu_Item_LISTOFDOCUMENTEXTRACT');
Delete from SecRights where RightName = 'menu_Item_LISTOFDOCUMENTEXTRACT';
Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 0, 'menu_Item_LISTOFDOCUMENTEXTRACT', 'MENU', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'REPORTS_DOCEXTRACT'), (Select RightID from SecRights where RightName = 'menu_Item_LISTOFDOCUMENTEXTRACT'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
INSERT INTO SecRoleGroups values ((SELECT MAX(RoleGrpID) + 1 from SecRoleGroups), (Select MAX(GrpId) from SecGroups WHERE GrpCode = 'REPORTS_DOCEXTRACT'), (Select MAX(RoleID) from SecRoles WHERE RoleCd = 'ADMIN'), 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);

Delete from SecGroupRights where GrpID In (Select GrpID from SecGroups where GrpCode = 'REPORTS_LOANTRACKER');
Delete from SecRoleGroups where GrpID IN (Select GrpId from SecGroups WHERE GrpCode = 'REPORTS_LOANTRACKER') And RoleID IN (Select RoleID from SecRoles WHERE RoleCd = 'ADMIN');
Delete from SecGroups where GrpCode = 'REPORTS_LOANTRACKER';
INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'REPORTS_LOANTRACKER','Reports for Term Loan Tracker', 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL,0);

Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'menu_Item_TERMLOANTRACKER');
Delete from SecRights where RightName = 'menu_Item_TERMLOANTRACKER';
Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 0, 'menu_Item_TERMLOANTRACKER', 'MENU', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'REPORTS_LOANTRACKER'), (Select RightID from SecRights where RightName = 'menu_Item_TERMLOANTRACKER'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
INSERT INTO SecRoleGroups values ((SELECT MAX(RoleGrpID) + 1 from SecRoleGroups), (Select MAX(GrpId) from SecGroups WHERE GrpCode = 'REPORTS_LOANTRACKER'), (Select MAX(RoleID) from SecRoles WHERE RoleCd = 'ADMIN'), 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);

Delete from SecGroupRights where GrpID In (Select GrpID from SecGroups where GrpCode = 'REPORTS_DAILYDISBRPT');
Delete from SecRoleGroups where GrpID IN (Select GrpId from SecGroups WHERE GrpCode = 'REPORTS_DAILYDISBRPT') And RoleID IN (Select RoleID from SecRoles WHERE RoleCd = 'ADMIN');
Delete from SecGroups where GrpCode = 'REPORTS_DAILYDISBRPT';
INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'REPORTS_DAILYDISBRPT','Reports for Daily Disbursal', 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL,0);

Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'menu_Item_DAILYDISBURSALREPORT');
Delete from SecRights where RightName = 'menu_Item_DAILYDISBURSALREPORT';
Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 0, 'menu_Item_DAILYDISBURSALREPORT', 'MENU', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'REPORTS_DAILYDISBRPT'), (Select RightID from SecRights where RightName = 'menu_Item_DAILYDISBURSALREPORT'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
INSERT INTO SecRoleGroups values ((SELECT MAX(RoleGrpID) + 1 from SecRoleGroups), (Select MAX(GrpId) from SecGroups WHERE GrpCode = 'REPORTS_DAILYDISBRPT'), (Select MAX(RoleID) from SecRoles WHERE RoleCd = 'ADMIN'), 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);

Update SeqSecGroups Set SeqNo = (Select MAX(GrpID) + 1 from SecGroups);
Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights);
Update SeqSecRoleGroups Set SeqNo = (Select MAX(RoleGrpID) + 1 from SecRoleGroups);
	</sql>
	</changeSet>
	
		<changeSet author="pruthvi" id="92" dbms="oracle">
	<sql>
	Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from reportconfiguration),'Excel:CL LIMIT MIS','CL LIMIT MIS',1,'CL_LIMIT_MIS','pfsDatasource',1,'menu_Item_CLLIMITMIS',2,1005,null,null,null,null,null,null,0,to_date('31-OCT-2013 00:00:00','DD-MON-RRRR HH24:MI:SS'),0);
Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from reportconfiguration),'Excel:LIST OF DOCUMENTS EXTRACT','LIST OF DOCUMENTS EXTRACT',1,'LIST_OF_DOCUMENTS_EXTRACT','pfsDatasource',1,'menu_Item_LISTOFDOCUMENTEXTRACT',2,1005,null,null,null,null,null,null,0,to_date('31-OCT-2013 00:00:00','DD-MON-RRRR HH24:MI:SS'),0);
Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from reportconfiguration),'Excel:Term Loan Tracker','Term Loan Tracker',1,'TermLoanTracker','pfsDatasource',1,'menu_Item_TERMLOANTRACKER',2,1005,null,null,null,null,null,null,0,to_date('31-OCT-2013 00:00:00','DD-MON-RRRR HH24:MI:SS'),0);
Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from reportconfiguration),'Excel:Daily Disbursal Report','Daily Disbursal Report',1,'Daily_Disbursal_Report','pfsDatasource',1,'menu_Item_DAILYDISBURSALREPORT',2,1005,null,null,null,null,null,null,0,to_date('31-OCT-2013 00:00:00','DD-MON-RRRR HH24:MI:SS'),0);
		</sql>
	</changeSet>
	<changeSet author="pruthvi" id="92" dbms="mssql">
	<sql>
	Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from reportconfiguration),'Excel:CL LIMIT MIS','CL LIMIT MIS',1,'CL_LIMIT_MIS','pfsDatasource',1,'menu_Item_CLLIMITMIS',2,1005,null,null,null,null,null,null,0,'31-OCT-2013 00:00:00',0);
Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from reportconfiguration),'Excel:LIST OF DOCUMENTS EXTRACT','LIST OF DOCUMENTS EXTRACT',1,'LIST_OF_DOCUMENTS_EXTRACT','pfsDatasource',1,'menu_Item_LISTOFDOCUMENTEXTRACT',2,1005,null,null,null,null,null,null,0,'31-OCT-2013 00:00:00',0);
Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from reportconfiguration),'Excel:Term Loan Tracker','Term Loan Tracker',1,'TermLoanTracker','pfsDatasource',1,'menu_Item_TERMLOANTRACKER',2,1005,null,null,null,null,null,null,0,'31-OCT-2013 00:00:00',0);
Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from reportconfiguration),'Excel:Daily Disbursal Report','Daily Disbursal Report',1,'Daily_Disbursal_Report','pfsDatasource',1,'menu_Item_DAILYDISBURSALREPORT',2,1005,null,null,null,null,null,null,0,'31-OCT-2013 00:00:00',0);
		</sql>
	</changeSet>
	<changeSet author="pruthvi" id="93">
	<sql>
	Insert into REPORTFILTERFIELDS  values ((select reportid from reportconfiguration where menuitemcode='menu_Item_CLLIMITMIS'),1,'CustCIF','LOVSEARCH','Customer Number','CustCIF',null,'Customer','getCustCIF','getCustShrtName',1,0,0,0,1,1,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,'25-OCT-2012 00:00:00');
	Insert into REPORTFILTERFIELDS  values ((select reportid from reportconfiguration where menuitemcode='menu_Item_LISTOFDOCUMENTEXTRACT'),1,'FinReference','LOVSEARCH','Loan Reference','LAN_NO',null,'FinanceMain','getFinReference','getFinReference',0,0,0,0,1,1,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,'25-OCT-2012 00:00:00');
	Insert into REPORTFILTERFIELDS  values ((select reportid from reportconfiguration where menuitemcode='menu_Item_TERMLOANTRACKER'),1,'CustID','LOVSEARCH','Customer Number','CUSTID',null,'Customer','getCustID','getCustShrtName',1,0,0,0,1,1,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,'25-OCT-2012 00:00:00');
	Insert into REPORTFILTERFIELDS  values ((select reportid from reportconfiguration where menuitemcode='menu_Item_DAILYDISBURSALREPORT'),1,'FinReference','LOVSEARCH','Loan Reference','LAN',null,'FinanceMain','getFinReference','getFinReference',0,0,0,0,1,1,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,'25-OCT-2012 00:00:00');
		</sql>
	</changeSet>
	
	<changeSet author="Manoj.P" id="94">
		<renameColumn columnDataType="VARCHAR(30)" newColumnName="MEMBER_ID"
		oldColumnName="MEMBERID" tableName="CIBIL_FILE_INFO" />
	</changeSet>
	
	<changeSet author="Manoj.P" id="95">
		<renameColumn columnDataType="VARCHAR(16)" newColumnName="MEMBER_NAME"
		oldColumnName="MEMBER_SHORTNAME" tableName="CIBIL_FILE_INFO" />
	</changeSet>
	
	<changeSet author="Manoj.P" id="96">
		<addColumn tableName="CIBIL_DETAILS">
			<column name="LATESTRPYDATE" type="datetime" />
		</addColumn>
</changeSet>
<changeSet id="97" author="Srikanth">
<sql>
 update bankbranches set IFSC='CNRB0002151' where branchcode='288380'
</sql>
</changeSet>

	<changeSet author="Manoj.P" id="98">
		<renameColumn columnDataType="smallint" newColumnName="OWNERSHIP"
		oldColumnName="OWNERSHIP_INDICATOR" tableName="CIBIL_DETAILS" />
	</changeSet>

	<changeSet author="Manoj.P" id="99">
		<renameTable newTableName="CIBIL_CUSTOMER_EXTRACT"
			oldTableName="CIBIL_DETAILS" />
	</changeSet>
	<changeSet id="98" author="Madhubabu">
	<dropTable tableName="FinTaxDetailUpload_temp"/>
	<dropTable tableName="FinTaxDetailUpload"/>
	</changeSet>
<changeSet author="Madhubabu" id="99" dbms="oracle">
	<createTable tableName="FinTaxDetailUploadHeader">
		<column name="BatchReference" type="varchar(20)" />
		<column name="FileName" type="varchar(20)" />
		<column name="NumberofRecords" type="nvarchar(10)" />
		<column name="BatchCreatedDate" type="datetime" />
		<column name="BatchApprovedDate" type="datetime" />
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="nvarchar(50)" />
		<column name="RoleCode" type="nvarchar(100)" />
		<column name="NextRoleCode" type="nvarchar(200)" />
		<column name="TaskId" type="nvarchar(50)" />
		<column name="NextTaskId" type="nvarchar(200)" />
		<column name="RecordType" type="nvarchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
</changeSet>
<changeSet author="Madhubabu" id="99" dbms="mssql">
	<createTable tableName="FinTaxDetailUploadHeader">
		<column name="BatchReference" type="varchar(20)" />
		<column name="FileName" type="varchar(20)" />
		<column name="NumberofRecords" type="nvarchar(10)" />
		<column name="BatchCreatedDate" type="datetime" />
		<column name="BatchApprovedDate" type="datetime" />
		<column name="Version" type="int" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="nvarchar(50)" />
		<column name="RoleCode" type="nvarchar(100)" />
		<column name="NextRoleCode" type="nvarchar(200)" />
		<column name="TaskId" type="nvarchar(50)" />
		<column name="NextTaskId" type="nvarchar(200)" />
		<column name="RecordType" type="nvarchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
</changeSet>
<changeSet id="99.1" author="Jayant" dbms="mssql">
    <sql>
        alter table FinTaxDetailUploadHeader add constraint DF_FinTaxDetUpld_Ver default 0 for Version;
    </sql>
</changeSet>
<changeSet author="Madhubabu" id="100">
		<createTable tableName="FinTaxUploadDetail">
			<column name="BatchReference" type="varchar(20)"/>
			<column name="TaxCode" type="varchar2(50)" />
			<column name="AggrementNo" type="nvarchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="ApplicableFor" type="varchar(1)" />
			<column name="Applicant" type="VARCHAR2(20)" />
			<column name="TaxExempted" type="boolean" />
			<column name="AddrLine1" type="varchar(100)" />
			<column name="AddrLine2" type="varchar(100)" />
			<column name="AddrLine3" type="varchar(100)" />
			<column name="AddrLine4" type="varchar(100)" />
			<column name="Country" type="varchar(2)" />
			<column name="Province" type="varchar(8)" />
			<column name="City" type="varchar(50)" />
			<column name="PinCode" type="varchar(10)" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet author="Madhubabu" id="101" dbms="oracle">
		<createTable tableName="FinTaxUploadDetail_temp">
			<column name="TaxCode" type="varchar2(50)" />
			<column name="AggrementNo" type="nvarchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="ApplicableFor" type="varchar(1)" />
			<column name="Applicant" type="VARCHAR2(20)" />
			<column name="TaxExempted" type="boolean" />
			<column name="AddrLine1" type="varchar(100)" />
			<column name="AddrLine2" type="varchar(100)" />
			<column name="AddrLine3" type="varchar(100)" />
			<column name="AddrLine4" type="varchar(100)" />
			<column name="Country" type="varchar(2)" />
			<column name="Province" type="varchar(8)" />
			<column name="City" type="varchar(50)" />
			<column name="PinCode" type="varchar(10)" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet author="Madhubabu" id="101" dbms="mssql">
		<createTable tableName="FinTaxUploadDetail_temp">
			<column name="TaxCode" type="varchar2(50)" />
			<column name="AggrementNo" type="nvarchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="ApplicableFor" type="varchar(1)" />
			<column name="Applicant" type="VARCHAR2(20)" />
			<column name="TaxExempted" type="boolean" />
			<column name="AddrLine1" type="varchar(100)" />
			<column name="AddrLine2" type="varchar(100)" />
			<column name="AddrLine3" type="varchar(100)" />
			<column name="AddrLine4" type="varchar(100)" />
			<column name="Country" type="varchar(2)" />
			<column name="Province" type="varchar(8)" />
			<column name="City" type="varchar(50)" />
			<column name="PinCode" type="varchar(10)" />
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="102" author="Madhubabu">
	<dropTable tableName="FinTaxUploadDetail_temp"/>
	</changeSet>
	<changeSet author="Madhubabu" id="103" dbms="oracle">
		<createTable tableName="FinTaxUploadDetail_temp">
			<column name="BatchReference" type="varchar(20)"/>
			<column name="TaxCode" type="varchar2(50)" />
			<column name="AggrementNo" type="nvarchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="ApplicableFor" type="varchar(1)" />
			<column name="Applicant" type="VARCHAR2(20)" />
			<column name="TaxExempted" type="boolean" />
			<column name="AddrLine1" type="varchar(100)" />
			<column name="AddrLine2" type="varchar(100)" />
			<column name="AddrLine3" type="varchar(100)" />
			<column name="AddrLine4" type="varchar(100)" />
			<column name="Country" type="varchar(2)" />
			<column name="Province" type="varchar(8)" />
			<column name="City" type="varchar(50)" />
			<column name="PinCode" type="varchar(10)" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet author="Madhubabu" id="103" dbms="mssql">
		<createTable tableName="FinTaxUploadDetail_temp">
			<column name="BatchReference" type="varchar(20)"/>
			<column name="TaxCode" type="varchar2(50)" />
			<column name="AggrementNo" type="nvarchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="ApplicableFor" type="varchar(1)" />
			<column name="Applicant" type="VARCHAR2(20)" />
			<column name="TaxExempted" type="boolean" />
			<column name="AddrLine1" type="varchar(100)" />
			<column name="AddrLine2" type="varchar(100)" />
			<column name="AddrLine3" type="varchar(100)" />
			<column name="AddrLine4" type="varchar(100)" />
			<column name="Country" type="varchar(2)" />
			<column name="Province" type="varchar(8)" />
			<column name="City" type="varchar(50)" />
			<column name="PinCode" type="varchar(10)" />
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="104" author="Madhubabu">
	<dropTable tableName="FinTaxDetailUploadHeader"/>
	</changeSet>
	<changeSet author="Madhubabu" id="105" dbms="oracle">
	<createTable tableName="FinTaxDetailUploadHeader">
		<column name="BatchReference" type="varchar(20)" />
		<column name="FileName" type="varchar(20)" />
		<column name="NumberofRecords" type="nvarchar(10)" />
		<column name="BatchCreatedDate" type="datetime" />
		<column name="BatchApprovedDate" type="datetime" />
		<column name="Status" type="nvarchar(10)" />
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="nvarchar(50)" />
		<column name="RoleCode" type="nvarchar(100)" />
		<column name="NextRoleCode" type="nvarchar(200)" />
		<column name="TaskId" type="nvarchar(50)" />
		<column name="NextTaskId" type="nvarchar(200)" />
		<column name="RecordType" type="nvarchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
</changeSet>
<changeSet author="Madhubabu" id="105" dbms="mssql">
	<createTable tableName="FinTaxDetailUploadHeader">
		<column name="BatchReference" type="varchar(20)" />
		<column name="FileName" type="varchar(20)" />
		<column name="NumberofRecords" type="nvarchar(10)" />
		<column name="BatchCreatedDate" type="datetime" />
		<column name="BatchApprovedDate" type="datetime" />
		<column name="Status" type="nvarchar(10)" />
		<column name="Version" type="int" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="nvarchar(50)" />
		<column name="RoleCode" type="nvarchar(100)" />
		<column name="NextRoleCode" type="nvarchar(200)" />
		<column name="TaskId" type="nvarchar(50)" />
		<column name="NextTaskId" type="nvarchar(200)" />
		<column name="RecordType" type="nvarchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
</changeSet>
<changeSet author="Manoj.P" id="106">
	<addColumn tableName="CIBIL_FILE_INFO">
		<column name="STATUS" type="varchar(1)" />
	</addColumn>
</changeSet>
<changeSet author="Madhu Babu" id="107">
<renameTable newTableName="FinTaxUploadHeader"
            oldTableName="FinTaxDetailUploadHeader"/>
</changeSet>
<changeSet author="Manoj.P" id="108">
	<addColumn tableName="CIBIL_FILE_INFO">
		<column name="FILE_LOCATION" type="VARCHAR(250) " />
	</addColumn>
</changeSet>
<changeSet id="109" author="Durgaprasad G">
		<createTable tableName="TAXDOWNLOADHAEDER">
			<column name="Id" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="ProcessDate" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="StartDate" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="EndDate" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="RecordCount" type="int">
				<constraints nullable="false" />
			</column>
			<column name="Export" type="boolean">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet author="Manoj.P" id="110">
		<renameColumn columnDataType="bigint" newColumnName="CUSTID"
		oldColumnName="CUST_ID" tableName="CIBIL_CUSTOMER_EXTRACT" />
	</changeSet>
	<changeSet id="111" author="Manoj.P">
		<sql>
			 UPDATE SMTPARAMETERS SET SYSPARMMAINT = 0 where SYSPARMCODE = 'SAPGL_LAST_RUN_MONTH';
			 UPDATE SMTPARAMETERS SET SYSPARMMAINT = 0 where SYSPARMCODE = 'SAPGL_LAST_RUN_YEAR';
		</sql>
	</changeSet>
	<changeSet id="112" author="Chaitanya.ch">
		<modifyDataType tableName="Postings" columnName="ACCOUNTTYPE" newDataType="varchar(15)"/>
	</changeSet>
	
	<changeSet id="113" author="Durgaprasad G">
	<createTable tableName="TAXDOWNLOADDETAIL">
		<column name="HAEDERID" type="bigint">
			<constraints nullable="false" />
		</column>
		<column name="TransactionDate" type="datetime">
			<constraints nullable="false" />
		</column>
		<column name="HostSystemTransactionID" type="varchar(45)">
			<constraints nullable="false" />
		</column>
		<column name="TransactionType" type="varchar(20)">
			<constraints nullable="false" />
		</column>
		<column name="BusinessArea" type="varchar(2)">
			<constraints nullable="false" />
		</column>
		<column name="SourceSystem" type="varchar(3)">
			<constraints nullable="false" />
		</column>
		<column name="CompanyCode" type="varchar(8)">
			<constraints nullable="false" />
		</column>
		<column name="RegisteredCustomer" type="char(1)">
			<constraints nullable="false" />
		</column>
		<column name="CustomerID" type="number(18)" />
		<column name="CustomerName" type="varchar(200)" />
		<column name="CustomerGSTIN" type="varchar(100)" />
		<column name="CustomerAddress" type="varchar(450)" /> 
		<column name="CustomerStateCode" type="varchar(100)" />
		<column name="AddressChangeDate" type="datetime" />
		<column name="CustomerPANNo" type="varchar(20)" />
		<column name="LedgerCode" type="varchar(50)">
			<constraints nullable="false" />
		</column>
		<column name="HSNSACCode" type="varchar(8)">
			<constraints nullable="false" />
		</column>
		<column name="NatureOfService" type="varchar(8)">
			<constraints nullable="false" />
		</column>
		<column name="LoanAccountNo" type="varchar(20)" />
		<column name="ProductCode" type="varchar(8)" />
		<column name="ChargeCode" type="varchar(15)" />
		<column name="LoanBranch" type="varchar(12)"> 
			<constraints nullable="false" />
		</column>
		<column name="LoanBranchState" type="varchar(8)">
			<constraints nullable="false" />
		</column>
		<column name="LoanServicingBranch" type="varchar(12)">
			<constraints nullable="false" />
		</column>
		<column name="BFLGSTINNo" type="varchar(100)">
			<constraints nullable="false" />
		</column>
		<column name="TxnBranchAddress" type="varchar(400)">
			<constraints nullable="false" />
		</column>
		<column name="TxnBranchStateCode" type="varchar(2)">
			<constraints nullable="false" />
		</column>
		<column name="TransactionAmount" type="number(18)">
			<constraints nullable="false" />
		</column>
		<column name="ReverseChargeApplicable" type="char(1)">
			<constraints nullable="false" />
		</column>
		<column name="InvoiceType" type="char(1)">
			<constraints nullable="false" />
		</column>
		<column name="OriginalInvoiceNo" type="varchar(45)">
			<constraints nullable="false" />
		</column>
	</createTable>
	</changeSet>
	
	<changeSet id="114" author="Durgaprasad G">
	<createTable tableName="POSTINGS_TAXDOWNLOAD">
		<column name="LINKEDTRANID" type="NUMBER(19)">
			<constraints nullable="false" />
		</column>
		<column name="POSTREF" type="VARCHAR(50)" />
		<column name="POSTINGID" type="VARCHAR(50)" />
		<column name="FINREFERENCE" type="VARCHAR(20)">
			<constraints nullable="false" />
		</column>
		<column name="FINEVENT" type="VARCHAR(20) ">
			<constraints nullable="false" />
		</column>
		<column name="SHADOWPOSTING" type="CHAR(1)" />
		<column name="POSTDATE" type="datetime"/>
		<column name="VALUEDATE" type="datetime"/>
		<column name="TRANCODE" type="VARCHAR(20)" />
		<column name="TRANDESC" type="VARCHAR(50)" />
		<column name="REVTRANCODE" type="VARCHAR(20)" />
		<column name="DRORCR" type="CHAR(1)" />
		<column name="ACCOUNT" type="VARCHAR(50)" />
		<column name="POSTAMOUNT" type="NUMBER(18)" />
		<column name="AMOUNTTYPE" type="VARCHAR(10)" />
		<column name="POSTSTATUS" type="VARCHAR(20)" />
		<column name="ERRORID" type="VARCHAR(8)" />
		<column name="ERRORMSG" type="VARCHAR(50)" />
		<column name="ACCCY" type="VARCHAR(3)" />
		<column name="TRANORDERID" type="VARCHAR(20)" />
		<column name="FINRUNNINGBAL" type="NUMBER(18)" />
		<column name="POSTTOSYS" type="CHAR(1)" />
		<column name="EXCHANGERATE" type="NUMBER(13,9)" />
		<column name="POSTBRANCH" type="VARCHAR(12)" />
		<column name="DERIVEDTRANORDER" type="NUMBER(10)" />
		<column name="TRANSORDER" type="NUMBER(10)" />
		<column name="POSTAMOUNTLCCCY" type="NUMBER(18)" />
		<column name="APPDATE" type="datetime">
			<constraints nullable="false" />
		</column>
		<column name="APPVALUEDATE" type="datetime">
			<constraints nullable="false" />
		</column>
		<column name="USERBRANCH" type="VARCHAR(12)" />
		<column name="CUSTAPPDATE" type="datetime" />
		<column name="POSTCATEGORY" type="NUMBER(10)" />
		<column name="ACCOUNTTYPE" type="VARCHAR(15)" />
	</createTable>
</changeSet>

	<changeSet id="115" author="Durgaprasad G">
		<createTable tableName="SEQTAXDOWNLOADHAEDER">
			<column name="SeqNo" type="NUMBER(19)" />
		</createTable>
	</changeSet>

	<changeSet id="116" author="Durgaprasad G">
		<sql>
			Insert into SEQTAXDOWNLOADHAEDER values (0);
		</sql>
	</changeSet>

	<changeSet id="117" author="SreeRavali">
		<addColumn tableName="FinTaxDetail">
			<column name="ApplicableForCustId" type="NUMBER(19)" />
		</addColumn>
	</changeSet>

	<changeSet id="118" author="SreeRavali">
		<addColumn tableName="FinTaxDetail_Temp">
			<column name="ApplicableForCustId" type="NUMBER(19)" />
		</addColumn>
	</changeSet>


	<changeSet id="119" author="SreeRavali">
		<createView replaceIfExists="true" viewName="FinTaxDetail_AView">
SELECT		T1.FinReference, T1.ApplicableFor,T1.ApplicableForCustId, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.CountryDesc CountryName, T3.CPProvinceName ProvinceName,T4.PCCItyName CityName, t5.areaname PinCodeName
			FROM    	FinTaxDetail T1 LEFT JOIN
      BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
      RmtCountryvsProvince T3 ON T1.Province = t3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
      rmtprovincevscity T4 ON T1.City = t4.pccity and T1.Province = t4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
      pincodes T5 ON T1.PinCode = t5.pincode and T1.City = t5.city
</createView>
	</changeSet>


	<changeSet id="120" author="SreeRavali">
		<createView replaceIfExists="true" viewName="FinTaxDetail_View">
SELECT		T1.FinReference, T1.ApplicableFor,T1.ApplicableForCustId, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.CountryDesc CountryName, T3.CPProvinceName ProvinceName,T4.PCCItyName CityName, t5.areaname PinCodeName
			FROM    	FinTaxDetail_Temp T1  LEFT JOIN
      BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
      RmtCountryvsProvince T3 ON T1.Province = t3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
      rmtprovincevscity T4 ON T1.City = t4.pccity and T1.Province = t4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
      pincodes T5 ON T1.PinCode = t5.pincode and T1.City = t5.city 
			UNION ALL
			SELECT		T1.FinReference, T1.ApplicableFor,T1.ApplicableForCustId, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.CountryDesc CountryName, T3.CPProvinceName ProvinceName,T4.PCCItyName CityName, t5.areaname PinCodeName
			FROM    	FinTaxDetail T1  LEFT JOIN
      BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
      RmtCountryvsProvince T3 ON T1.Province = t3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
      rmtprovincevscity T4 ON T1.City = t4.pccity and T1.Province = t4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
      pincodes T5 ON T1.PinCode = t5.pincode and T1.City = t5.city 
			WHERE     NOT EXISTS (SELECT 1 FROM FinTaxDetail_TEMP WHERE FinReference = T1.FinReference)
</createView>
	</changeSet>
	
	<changeSet id="121" author="Durgaprasad G">
	<sql>
		Update FinTaxDetail set ApplicableForCustId = 0;
		Update FinTaxDetail_Temp set ApplicableForCustId = 0;
	</sql>
</changeSet>

	<changeSet id="122" author="Durgaprasad" dbms="oracle">
		<dropColumn tableName="TAXDOWNLOADDETAIL" columnName="HAEDERID" />
		<addColumn tableName="TAXDOWNLOADDETAIL">
			<column name="HEADERID" type="bigint">
				<constraints nullable="false" />
			</column>
		</addColumn>
		<modifyDataType tableName="TAXDOWNLOADDETAIL" columnName="CustomerAddress" newDataType="varchar(500)" />
		<modifyDataType tableName="TAXDOWNLOADDETAIL" columnName="TxnBranchAddress" newDataType="varchar(500)" />
		<dropNotNullConstraint tableName="TAXDOWNLOADDETAIL" columnName="OriginalInvoiceNo"/>
	</changeSet>
	<changeSet id="122" author="Durgaprasad" dbms="mssql">
		<dropColumn tableName="TAXDOWNLOADDETAIL" columnName="HAEDERID" />
		<addColumn tableName="TAXDOWNLOADDETAIL">
			<column name="HEADERID" type="bigint">
				<constraints nullable="false" />
			</column>
		</addColumn>
		<modifyDataType tableName="TAXDOWNLOADDETAIL" columnName="CustomerAddress" newDataType="varchar(500)" />
		<modifyDataType tableName="TAXDOWNLOADDETAIL" columnName="TxnBranchAddress" newDataType="varchar(500)" />
		<dropNotNullConstraint tableName="TAXDOWNLOADDETAIL" columnName="OriginalInvoiceNo" columnDataType="varchar"/>
	</changeSet>
	
	
	<changeSet id="123" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_ADDRESS_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBAM_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="AddrTypeCode" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="123" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_ADDRESS_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBAM_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="AddrTypeCode" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="124" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CBAM_ADT"
			referencedTableName="BMTADDRESSTYPES" referencedColumnNames="AddrTypeCode"
			baseTableName="CIBIL_ADDRESS_TYPES_MAPPING" baseColumnNames="AddrTypeCode" />
	</changeSet>
	
	
	
<changeSet id="125" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_PHONE_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBPM_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="PhoneTypeCode" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>	
	<changeSet id="125" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_PHONE_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBPM_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="PhoneTypeCode" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>	
	<changeSet id="126" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CBAM_PT"
			referencedTableName="BMTPHONETYPES" referencedColumnNames="PhoneTypeCode"
			baseTableName="CIBIL_PHONE_TYPES_MAPPING" baseColumnNames="PhoneTypeCode" />
	</changeSet>
	<changeSet id="127" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_EMAIL_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBEM_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="EmailTypeCode" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>	
	<changeSet id="127" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_EMAIL_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBEM_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="EmailTypeCode" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>	
	
	<changeSet id="128" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CBEM_ET"
			referencedTableName="BMTEMAILTYPES" referencedColumnNames="EmailTypeCode"
			baseTableName="CIBIL_EMAIL_TYPES_MAPPING" baseColumnNames="EmailTypeCode" />
	</changeSet>
	
	<changeSet id="129" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_ACCOUNT_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="FinType" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="129" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_ACCOUNT_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="FinType" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int"/>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet author="Manoj.P" id="130.1" dbms="mssql">
		<addNotNullConstraint tableName="CIBIL_ACCOUNT_TYPES_MAPPING" columnName="Code" columnDataType="char(2)"/>
		<addNotNullConstraint tableName="CIBIL_ACCOUNT_TYPES_MAPPING" columnName="FinType" columnDataType="VARCHAR2(8)"/>
	</changeSet>
	<changeSet author="Manoj.P" id="130">
		<addPrimaryKey columnNames="Code,FinType" constraintName="PK_CB_CD_FT"
		tableName="CIBIL_ACCOUNT_TYPES_MAPPING" />
	</changeSet>

	<changeSet id="131" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CB_FT"
			referencedTableName="RMTFINANCETYPES" referencedColumnNames="FinType"
			baseTableName="CIBIL_ACCOUNT_TYPES_MAPPING" baseColumnNames="FinType"/>
	</changeSet>
	
	<changeSet id="132" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_COLLATERAL_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBCT_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="CollateralType" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>		
	<changeSet id="132" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_COLLATERAL_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBCT_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="CollateralType" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>	
	<changeSet id="133" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CB_CS"
			referencedTableName="COLLATERALSTRUCTURE" referencedColumnNames="CollateralType"
			baseTableName="CIBIL_COLLATERAL_TYPES_MAPPING" baseColumnNames="CollateralType" />
	</changeSet>
	
	<changeSet id="134" author="Siva">
		<sql>
		Delete from ErrorDetails where errorCode = 'CL002';
		INSERT INTO ErrorDetails VALUES('CL002','EN','E','Bank Valuation should not be less than pre-defined value.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	
	<!-- <changeSet id="134" author="Manoj.P">
		<createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true">
			SELECT M.MANDATEID, 
			BD.BANKSHORTCODE BANKCODE,
			BD.BANKNAME,
			case when LB.BRANCHCODE IS NULL THEN CB.BRANCHCODE ELSE LB.BRANCHCODE END BRANCHCODE,
      		case when LB.BRANCHDESC IS NULL THEN CB.BRANCHDESC ELSE LB.BRANCHDESC END BRANCHDESC,
			CUST.CUSTCIF,
			CUST.CUSTSHRTNAME,
			FT.FINTYPEDESC FINTYPE ,
			FIN.FINREFERENCE ,
			COALESCE((SELECT SUM(MAX(FSD.REPAYAMOUNT+FSD.FEESCHD)) FROM FINSCHEDULEDETAILS FSD INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE =FSD.FINREFERENCE AND FM.CUSTID = M.CUSTID GROUP BY FM.FINREFERENCE)/CCYMINORCCYUNITS, 0) CUST_EMI,
			COALESCE((SELECT SUM(MAX(FSD.REPAYAMOUNT+FSD.FEESCHD)) FROM FINSCHEDULEDETAILS FSD WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID = M.MANDATEID) GROUP BY FINREFERENCE)/CCYMINORCCYUNITS, 0) EMI,
			  CASE M.OPENMANDATE
			    WHEN 1
			    THEN 'New Open ECS'
			    ELSE 'No Open ECS'
			  END OPENMANDATE,
			M.ACCNUMBER,
			M.ACCTYPE,
			M.ACCHOLDERNAME,
			BB.MICR,
			(select MIN(SCHDATE) from FINSCHEDULEDETAILS where (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) and FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) FIRSTDUEDATE,
			(select MAX(SCHDATE) from FINSCHEDULEDETAILS where (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) and FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) EMIENDDATE,
			 COALESCE (M.MAXLIMIT/CCYMINORCCYUNITS, 0) MAXLIMIT, 
      COALESCE((SELECT SUM(MAX(REPAYAMOUNT+FEESCHD)) MANDATEDEBITAMOUNT FROM FINSCHEDULEDETAILS WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)
      GROUP BY FINREFERENCE), 0)/CCYMINORCCYUNITS DEBITAMOUNT,
			  M.STARTDATE,
			  M.EXPIRYDATE,
			  FIN.APPLICATIONNO,
			  M.MANDATETYPE,
			  M.STATUS,
			  M.INPUTDATE,
			  M.RECORDSTATUS,
			  M.RECORDTYPE,
        	M.MANDATECCY,
			  COALESCE (CCY.CCYMINORCCYUNITS, 100) CCYMINORCCYUNITS
			FROM MANDATES M
			INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID
			INNER JOIN BMTBANKDETAIL BD ON BD.BANKCODE=BB.BANKCODE 
			INNER JOIN CUSTOMERS CUST   ON CUST.CUSTID = M.CUSTID
			INNER JOIN RMTBRANCHES CB ON CB.BRANCHCODE = CUST.CUSTDFTBRANCH 
			LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY
			LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE
			LEFT JOIN RMTBRANCHES LB ON LB.BRANCHCODE = FIN.FINBRANCH 
			LEFT OUTER JOIN RMTFINANCETYPES FT ON FIN.FINTYPE =FT.FINTYPE 
			WHERE M.STATUS = 'NEW' AND M.MANDATEID NOT IN  (select MANDATEID FROM MANDATE_REQUESTS where (status = 'AC' OR status = 'NEW'))
			
		</createView>
	</changeSet> -->
	
	<changeSet id="135" author="Manoj.P">
		<createTable tableName="CIBIL_ACCOUNT_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBAT" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>	
	
	<changeSet author="Manoj.P" id="136">
		<addUniqueConstraint columnNames="AddrTypeCode"
		constraintName="UK_CBADDTYPE" tableName="CIBIL_ADDRESS_TYPES_MAPPING" />
	</changeSet>
	
	<changeSet author="Manoj.P" id="137">
		<addUniqueConstraint columnNames="PhoneTypeCode"
		constraintName="UK_CBPHTYPE" tableName="CIBIL_PHONE_TYPES_MAPPING" />
	</changeSet>
	
	<changeSet author="Manoj.P" id="138">
		<addUniqueConstraint columnNames="EmailTypeCode"
		constraintName="UK_CBEMTYPE" tableName="CIBIL_EMAIL_TYPES_MAPPING" />
	</changeSet>
	
	<changeSet id="139" author="Manoj.P">
		<dropTable tableName="CIBIL_ACCOUNT_TYPES_MAPPING"/>
	</changeSet>
	
	
	<changeSet id="140" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_DOCUMENT_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBDM_DT" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="DocTypeCode" type="VARCHAR(50)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="140" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_DOCUMENT_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBDM_DT" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="DocTypeCode" type="VARCHAR(50)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="140.1" author="Jayant" dbms="mssql">
        <sql>
            alter table CIBIL_DOCUMENT_TYPES_MAPPING add constraint DF_CIB_DOC_TYP_MAPNG_VER default 0 for Version;
        </sql>
	</changeSet>
	
	<changeSet id="141" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CB_DT"
			referencedTableName="BMTDOCUMENTTYPES" referencedColumnNames="DOCTYPECODE"
			baseTableName="CIBIL_DOCUMENT_TYPES_MAPPING" baseColumnNames="DocTypeCode" />
	</changeSet>
	
	
	<changeSet author="Manoj.P" id="142">
		<addUniqueConstraint columnNames="DocTypeCode"
		constraintName="UK_CBDOCTYPE" tableName="CIBIL_DOCUMENT_TYPES_MAPPING" />
	</changeSet>
	<changeSet author="Madhubabu" id="136" dbms="oracle">
	<createTable tableName="FinTaxDetailUploadHeader_Temp">
		<column name="BatchReference" type="varchar(20)" />
		<column name="FileName" type="varchar(20)" />
		<column name="NumberofRecords" type="nvarchar(10)" />
		<column name="BatchCreatedDate" type="datetime" />
		<column name="BatchApprovedDate" type="datetime" />
		<column name="Status" type="nvarchar(10)" />
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="nvarchar(50)" />
		<column name="RoleCode" type="nvarchar(100)" />
		<column name="NextRoleCode" type="nvarchar(200)" />
		<column name="TaskId" type="nvarchar(50)" />
		<column name="NextTaskId" type="nvarchar(200)" />
		<column name="RecordType" type="nvarchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
</changeSet>
<changeSet author="Madhubabu" id="136" dbms="mssql">
	<createTable tableName="FinTaxDetailUploadHeader_Temp">
		<column name="BatchReference" type="varchar(20)" />
		<column name="FileName" type="varchar(20)" />
		<column name="NumberofRecords" type="nvarchar(10)" />
		<column name="BatchCreatedDate" type="datetime" />
		<column name="BatchApprovedDate" type="datetime" />
		<column name="Status" type="nvarchar(10)" />
		<column name="Version" type="int"  />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="nvarchar(50)" />
		<column name="RoleCode" type="nvarchar(100)" />
		<column name="NextRoleCode" type="nvarchar(200)" />
		<column name="TaskId" type="nvarchar(50)" />
		<column name="NextTaskId" type="nvarchar(200)" />
		<column name="RecordType" type="nvarchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
</changeSet>
<changeSet id="136.1" author="Jayant" dbms="mssql">
    <sql>
        alter table FinTaxDetailUploadHeader_Temp add constraint DF_FINTAXUPLDHDR_T_VER default 0 for Version;
    </sql>
</changeSet>
<changeSet id="137" author="Madhubabu">
	<dropTable tableName="FinTaxDetailUploadHeader_Temp"/>
	</changeSet>
	<changeSet author="Madhubabu" id="138" dbms="oracle">
	<createTable tableName="FinTaxUploadHeader_Temp">
		<column name="BatchReference" type="varchar(20)" />
		<column name="FileName" type="varchar(20)" />
		<column name="NumberofRecords" type="nvarchar(10)" />
		<column name="BatchCreatedDate" type="datetime" />
		<column name="BatchApprovedDate" type="datetime" />
		<column name="Status" type="nvarchar(10)" />
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="nvarchar(50)" />
		<column name="RoleCode" type="nvarchar(100)" />
		<column name="NextRoleCode" type="nvarchar(200)" />
		<column name="TaskId" type="nvarchar(50)" />
		<column name="NextTaskId" type="nvarchar(200)" />
		<column name="RecordType" type="nvarchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
</changeSet>

	<changeSet author="Madhubabu" id="138" dbms="mssql">
	<createTable tableName="FinTaxUploadHeader_Temp">
		<column name="BatchReference" type="varchar(20)" />
		<column name="FileName" type="varchar(20)" />
		<column name="NumberofRecords" type="nvarchar(10)" />
		<column name="BatchCreatedDate" type="datetime" />
		<column name="BatchApprovedDate" type="datetime" />
		<column name="Status" type="nvarchar(10)" />
		<column name="Version" type="int"  />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="nvarchar(50)" />
		<column name="RoleCode" type="nvarchar(100)" />
		<column name="NextRoleCode" type="nvarchar(200)" />
		<column name="TaskId" type="nvarchar(50)" />
		<column name="NextTaskId" type="nvarchar(200)" />
		<column name="RecordType" type="nvarchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
</changeSet>
<changeSet id="138.1" author="Jayant" dbms="mssql">
    <sql>
        alter table FinTaxUploadHeader_Temp add constraint DF_FINTAXUPLDHDR_T_VER default 0 for Version;
    </sql>
</changeSet>
<changeSet id="143" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_STATES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBST_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			
			<column name="CPProvince" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="FirstDigitPrefixMin" type="smallint">
				<constraints nullable="false" />
			</column>
			<column name="FirstDigitPrefixMax" type="smallint">
				<constraints nullable="false" />
			</column>
			
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="143" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_STATES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBST_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			
			<column name="CPProvince" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="FirstDigitPrefixMin" type="smallint">
				<constraints nullable="false" />
			</column>
			<column name="FirstDigitPrefixMax" type="smallint">
				<constraints nullable="false" />
			</column>
			
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="143.1" author="Jayant" dbms="mssql">
    <sql>
        alter table CIBIL_STATES_MAPPING add constraint DF_CIBL_STAT_MAPNG_T_Ver default 0 for Version;
    </sql>
</changeSet>
<changeSet id="144" author="Manoj.P" dbms="oracle">
		<addForeignKeyConstraint constraintName="FK_RMT_CP"
			referencedTableName="RMTCountryVsProvince" referencedColumnNames="CPProvince"
			baseTableName="CIBIL_STATES_MAPPING" baseColumnNames="CPProvince" />
	</changeSet> 
	
	
	<changeSet id="145" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_ACCOUNT_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBACM_CD" nullable="false"/>
			</column>
			<column name="FinType" type="varchar(8)">
				<constraints nullable="false" />
			</column>
			
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="145" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_ACCOUNT_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBACM_CD" nullable="false"/>
			</column>
			<column name="FinType" type="varchar(8)">
				<constraints nullable="false" />
			</column>
			
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="145.1" author="Jayant" dbms="mssql">
	    <sql>
	        alter table CIBIL_ACCOUNT_TYPES_MAPPING add constraint DF_CIBL_ACC_TYPE_MAPNG_VER default 0 for Version;
	    </sql>
	</changeSet>
	<changeSet id="146" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CB_ACTM_FT"
			referencedTableName="RMTFINANCETYPES" referencedColumnNames="FINTYPE"
			baseTableName="CIBIL_ACCOUNT_TYPES_MAPPING" baseColumnNames="FINTYPE" />
	</changeSet>
	
	<changeSet id="147" author="Durgaprasad G">
		<modifyDataType tableName="TAXDOWNLOADDETAIL" columnName="HSNSACCode" newDataType="VARCHAR(50)" />
		<modifyDataType tableName="TAXDOWNLOADDETAIL" columnName="NATUREOFSERVICE" newDataType="VARCHAR(50)" />
    </changeSet>
    
    <changeSet id="148" author="Manoj.P">
    	<dropTable tableName="CIBIL_PHONE_TYPES_MAPPING"/>
    </changeSet>
    
    
    <changeSet author="Manoj.P" id="149">
		<addUniqueConstraint columnNames="FinType"
		constraintName="UK_CBFINTYPE" tableName="CIBIL_ACCOUNT_TYPES_MAPPING" />
	</changeSet>
	
	<changeSet id="150" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_PHONE_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBPC" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>	
		<changeSet id="150" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_PHONE_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBPC" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="150.1" author="Jayant" dbms="mssql">
	    <sql>
	        alter table CIBIL_PHONE_TYPES add constraint CIBL_PHN_TYPE_VER default 0 for Version;
	    </sql>
	</changeSet>
	<changeSet id="151" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_PHONE_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints nullable="false"/>
			</column>
			<column name="PhoneTypeCode" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>	
		<changeSet id="151" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_PHONE_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints nullable="false"/>
			</column>
			<column name="PhoneTypeCode" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>	
	<changeSet id="151.1" author="Jayant" dbms="mssql">
	    <sql>
	        alter table CIBIL_PHONE_TYPES_MAPPING add constraint CIBL_PHN_TYPE_MAPNG_VER default 0 for Version;
	    </sql>
	</changeSet>
	
	<changeSet id="152" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CB_PT"
			referencedTableName="BMTPHONETYPES" referencedColumnNames="PhoneTypeCode"
			baseTableName="CIBIL_PHONE_TYPES_MAPPING" baseColumnNames="PhoneTypeCode" />
	</changeSet>
	
	
	<changeSet id="153" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CB_CD"
			referencedTableName="CIBIL_PHONE_TYPES" referencedColumnNames="Code"
			baseTableName="CIBIL_PHONE_TYPES_MAPPING" baseColumnNames="Code"/>
	</changeSet>
	
	
	<changeSet author="Manoj.P" id="154">
		<addUniqueConstraint columnNames="PhoneTypeCode"
		constraintName="UK_CBPHTYPECD" tableName="CIBIL_PHONE_TYPES_MAPPING" />
	</changeSet>
	
	<changeSet id="155" author="Manoj.P">
	 	<dropTable tableName="CIBIL_ACCOUNT_TYPES_MAPPING"/>
	 	<dropTable tableName="CIBIL_ACCOUNT_TYPES"/>
	 	<dropTable tableName="CIBIL_ADDRESS_TYPES_MAPPING"/>
	</changeSet>
	<changeSet author="Manoj.P" id="156">
		<addPrimaryKey columnNames="CODE, PHONETYPECODE"
			constraintName="PK_CPTM_CD_PTC" tableName="CIBIL_PHONE_TYPES_MAPPING"/>
	</changeSet>
	
	<changeSet id="157" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_ACCOUNT_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBAT" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="157" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_ACCOUNT_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBAT" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="157.1" author="Jayant" dbms="mssql">
	    <sql>
	        alter table CIBIL_ACCOUNT_TYPES add constraint CBL_ACC_TYPE_VER default 0  for version;
	    </sql>
	</changeSet>
	<changeSet id="158" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_ACCOUNT_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints nullable="false"/>
			</column>
			<column name="FinType" type="varchar(8)">
				<constraints nullable="false" />
			</column>
			
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
		<changeSet id="158" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_ACCOUNT_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints nullable="false"/>
			</column>
			<column name="FinType" type="varchar(8)">
				<constraints nullable="false" />
			</column>
			
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="158.1" author=" Jayant" dbms="mssql">
	    <sql>
	        alter table CIBIL_ACCOUNT_TYPES_MAPPING add constraint CBL_ACC_TYPE_MAPNG_VER default 0 for Version;
	    </sql>
	</changeSet>
	<changeSet id="159" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CATM_FT"
			referencedTableName="RMTFINANCETYPES" referencedColumnNames="FINTYPE"
			baseTableName="CIBIL_ACCOUNT_TYPES_MAPPING" baseColumnNames="FINTYPE" />
	</changeSet>
	
	
	<changeSet id="160" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CATM_CD"
			referencedTableName="CIBIL_ACCOUNT_TYPES" referencedColumnNames="Code"
			baseTableName="CIBIL_ACCOUNT_TYPES_MAPPING" baseColumnNames="Code"/>
	</changeSet>
	
	<changeSet author="Manoj.P" id="161">
		<addPrimaryKey columnNames="CODE, FinType"
			constraintName="PK_CATM_CD_FT" tableName="CIBIL_ACCOUNT_TYPES_MAPPING"/>
	</changeSet>
	
	<changeSet id="162" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_ADDRESS_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CAT_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
		<changeSet id="162" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_ADDRESS_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CAT_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="163" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_ADDRESS_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints nullable="false"/>
			</column>
			<column name="AddrTypeCode" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
		<changeSet id="163" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_ADDRESS_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints nullable="false"/>
			</column>
			<column name="AddrTypeCode" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int"/>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="163.1" author="Jayant" dbms="mssql">
	    <sql>
	        alter table CIBIL_ADDRESS_TYPES_MAPPING add constraint CBL_ADRS_TYPE_MAPNG_VER default 0 for Version;
	    </sql>
	</changeSet>
	<changeSet id="164" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CADTM_CD"
			referencedTableName="BMTADDRESSTYPES" referencedColumnNames="AddrTypeCode"
			baseTableName="CIBIL_ADDRESS_TYPES_MAPPING" baseColumnNames="AddrTypeCode" />
	</changeSet>
	
	
	<changeSet id="165" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CATM_ATC"
			referencedTableName="CIBIL_ADDRESS_TYPES" referencedColumnNames="Code"
			baseTableName="CIBIL_ADDRESS_TYPES_MAPPING" baseColumnNames="Code"/>
	</changeSet>
	
	<changeSet author="Manoj.P" id="166">
		<addPrimaryKey columnNames="CODE, AddrTypeCode"
			constraintName="PK_CADTM_CD_AT" tableName="CIBIL_ADDRESS_TYPES_MAPPING"/>
	</changeSet>
	
	
	<changeSet id="167" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_DOCUMENT_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBD_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="167" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_DOCUMENT_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBD_CD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="167.1" author="Jayant" dbms="mssql">
	    <sql>
	        alter table CIBIL_DOCUMENT_TYPES add constraint CBL_DOC_TYPE default 0 for Version;
	    </sql>
	</changeSet>
	<changeSet id="168" author="Manoj.P">
		<dropTable tableName="CIBIL_DOCUMENT_TYPES_MAPPING"/>
	</changeSet>
	
	<changeSet id="169" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_DOCUMENT_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints nullable="false"/>
			</column>
			<column name="DocTypeCode" type="VARCHAR2(50)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="169" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_DOCUMENT_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints nullable="false"/>
			</column>
			<column name="DocTypeCode" type="VARCHAR2(50)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int"/>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="169.1" author="Jayant" dbms="mssql">
	    <sql>
	        alter table CIBIL_DOCUMENT_TYPES_MAPPING add constraint CBL_DOC_TYPE_MAPNG_VER default 0 for Version;
	    </sql>
	</changeSet>
	<changeSet id="170" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CDTM_DT"
			referencedTableName="BMTDOCUMENTTYPES" referencedColumnNames="DocTypeCode"
			baseTableName="CIBIL_DOCUMENT_TYPES_MAPPING" baseColumnNames="DocTypeCode" />
	</changeSet>
	
	<changeSet id="171" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CDTM_CD"
			referencedTableName="CIBIL_DOCUMENT_TYPES" referencedColumnNames="Code"
			baseTableName="CIBIL_DOCUMENT_TYPES_MAPPING" baseColumnNames="Code"/>
	</changeSet>
	
	<changeSet author="Manoj.P" id="172">
		<addPrimaryKey columnNames="CODE, DocTypeCode"
			constraintName="PK_CDTM_CD_DT" tableName="CIBIL_DOCUMENT_TYPES_MAPPING"/>
	</changeSet>
	
	<changeSet id="173" author="Manoj.P">
		<sql>
			UPDATE DATA_ENGINE_CONFIG set FILEEXTENSION = NULL where Name = 'DISB_HDFC_EXPORT';
		</sql>
	</changeSet>
	<changeSet id="174" author="Srikanth">
	<sql>
	 Delete from ErrorDetails where ErrorCode in('90340','90341','90342');
	INSERT INTO ErrorDetails VALUES('90340','EN','E','Cancel reserve not applicable when reserve amount is less than or equal to zero.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	 INSERT INTO ErrorDetails VALUES('90341','EN','E','Given CIF:{0} should be matched with customer in assigned limit:{1}.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	 INSERT INTO ErrorDetails VALUES('90342','EN','E','Old mandate customer and new mandate customer should be same.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	</sql>
	</changeSet>
	
	<changeSet id="175" author="Manoj.P">
		<modifyDataType tableName="BMTDocumentTypes" columnName="DOCTYPEDESC"
			newDataType="varchar(250) " />
	</changeSet>
	
	<changeSet id="176" author="Manoj.P" dbms="oracle">
		<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
			SELECT   
				   FA. PAYMENTID,
				   FA.FINREFERENCE,
				   'D' CHANNEL, 
				   CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   FA.DISBDATE,
	               FA.LLDATE,
				   FA.PAYABLELOC,
				   FA.PRINTINGLOC,
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
	              BD.BANKNAME BANKNAME,
	              BB.BRANCHCODE,
	              BB.BRANCHDESC BRANCHDESC,
				  PBD.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				  PBD.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR             MICR_CODE,
				   BB.IFSC             IFSC_CODE,
				   FA.BENEFICIARYACCNO,
				   CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
				   FA.PHONECOUNTRYCODE||FA.PHONEAREACODE||FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
				   BCE.CUSTEMAIL        BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   FA.STATUS           STATUS,
				   FA.DESCRIPTION      REMARKS,
				     FA.PAYMENTTYPE      PAYMENTTYPE,
				     FM.FINTYPE,
				     PB.PARTNERBANKID,
				     PB.PARTNERBANKCODE,
				     FA.INPUTDATE,
				     PB.ALWFILEDOWNLOAD,
	                PB.FILENAME,
				     FM.FINISACTIVE
				   FROM FINADVANCEPAYMENTS FA
				   INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = FA.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
	               INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
	         	   LEFT JOIN  (select PB.PARTNERBANKID, PBD.BANKNAME, PBB.BRANCHDESC, PBBRC.PCCITYNAME, PBBRS.CPPROVINCENAME from PARTNERBANKS PB INNER JOIN BANKBRANCHES PBB ON PBB.BANKBRANCHID = PB.BANKBRANCHCODE INNER JOIN BMTBANKDETAIL PBD ON PBD.BANKCODE = PBB.BANKCODE LEFT JOIN RMTPROVINCEVSCITY PBBRC ON PBBRC.PCCITY = PBB.CITY LEFT JOIN RMTCOUNTRYVSPROVINCE PBBRS ON PBBRS.CPPROVINCE = PBBRC.PCPROVINCE ) PBD ON PBD.PARTNERBANKID = PB.PARTNERBANKID
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE STATUS='APPROVED' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
				   
				   UNION ALL
				   
				   SELECT PI. PAYMENTINSTRUCTIONID PAYMENTID,
				   PH.FINREFERENCE,
				   PH.PAYMENTTYPE CHANNEL, 
				   CASE WHEN PI.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN PI.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN PI.PAYMENTTYPE = 'DD' THEN 'D' WHEN PI.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  PI.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   PI.PAYMENTAMOUNT/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   PI.POSTDATE DISBDATE, 
				   PI.POSTDATE LLDATE, 
				   PI.PAYABLELOC, 
				   PI.PRINTINGLOC, 
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
				   BD.BANKNAME,
				   BB.BRANCHCODE,
				   BB.BRANCHDESC,
				   BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				   BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR              MICR_CODE,
				   BB.IFSC              IFSC_CODE,
				   PI.ACCOUNTNO BENEFICIARYACCNO,
				   CASE WHEN PI.PAYMENTTYPE = 'CHEQUE' OR  PI.PAYMENTTYPE = 'DD' THEN PI.FAVOURNAME ELSE PI.ACCTHOLDERNAME END BENEFICIARYNAME,
				   PI.PHONECOUNTRYCODE||PI.PHONENUMBER AS BENEFICIARY_MOBILE,
				   BCE.CUSTEMAIL       BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   PI.STATUS           STATUS, 
				   PI.REMARKS          REMARKS,
				   PI.PAYMENTTYPE      PAYMENTTYPE,
				   FM.FINTYPE,
				   PB.PARTNERBANKID,
				   PB.PARTNERBANKCODE,
				   PI.POSTDATE INPUTDATE, 
				   PB.ALWFILEDOWNLOAD,
				   PB.FILENAME,
				   FM.FINISACTIVE
				   FROM PAYMENTINSTRUCTIONS PI 
				   INNER JOIN PAYMENTHEADER PH ON PH.PAYMENTID = PI.PAYMENTID
				   INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = PH.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = PI.PAYMENTCCY
				   INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = PI.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
				   LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = PI.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
				   LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = PI.BANKBRANCHID AND BR.ACCNUMBER = PI.ACCOUNTNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE PI.STATUS='APPROVED' AND PI.PAYMENTINSTRUCTIONID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
		</createView>
	</changeSet>
	<changeSet id="176" author="Manoj.P" dbms="mssql">
		<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
			SELECT   
				   FA. PAYMENTID,
				   FA.FINREFERENCE,
				   'D' CHANNEL, 
				   CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   FA.DISBDATE,
	               FA.LLDATE,
				   FA.PAYABLELOC,
				   FA.PRINTINGLOC,
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
	              BD.BANKNAME BANKNAME,
	              BB.BRANCHCODE,
	              BB.BRANCHDESC BRANCHDESC,
				  PBD.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				  PBD.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR             MICR_CODE,
				   BB.IFSC             IFSC_CODE,
				   FA.BENEFICIARYACCNO,
				   CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
				   FA.PHONECOUNTRYCODE+FA.PHONEAREACODE+FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
				   BCE.CUSTEMAIL        BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   FA.STATUS           STATUS,
				   FA.DESCRIPTION      REMARKS,
				     FA.PAYMENTTYPE      PAYMENTTYPE,
				     FM.FINTYPE,
				     PB.PARTNERBANKID,
				     PB.PARTNERBANKCODE,
				     FA.INPUTDATE,
				     PB.ALWFILEDOWNLOAD,
	                PB.FILENAME,
				     FM.FINISACTIVE
				   FROM FINADVANCEPAYMENTS FA
				   INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = FA.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
	               INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
	         	   LEFT JOIN  (select PB.PARTNERBANKID, PBD.BANKNAME, PBB.BRANCHDESC, PBBRC.PCCITYNAME, PBBRS.CPPROVINCENAME from PARTNERBANKS PB INNER JOIN BANKBRANCHES PBB ON PBB.BANKBRANCHID = PB.BANKBRANCHCODE INNER JOIN BMTBANKDETAIL PBD ON PBD.BANKCODE = PBB.BANKCODE LEFT JOIN RMTPROVINCEVSCITY PBBRC ON PBBRC.PCCITY = PBB.CITY LEFT JOIN RMTCOUNTRYVSPROVINCE PBBRS ON PBBRS.CPPROVINCE = PBBRC.PCPROVINCE ) PBD ON PBD.PARTNERBANKID = PB.PARTNERBANKID
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE STATUS='APPROVED' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
				   
				   UNION ALL
				   
				   SELECT PI. PAYMENTINSTRUCTIONID PAYMENTID,
				   PH.FINREFERENCE,
				   PH.PAYMENTTYPE CHANNEL, 
				   CASE WHEN PI.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN PI.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN PI.PAYMENTTYPE = 'DD' THEN 'D' WHEN PI.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  PI.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   PI.PAYMENTAMOUNT/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   PI.POSTDATE DISBDATE, 
				   PI.POSTDATE LLDATE, 
				   PI.PAYABLELOC, 
				   PI.PRINTINGLOC, 
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
				   BD.BANKNAME,
				   BB.BRANCHCODE,
				   BB.BRANCHDESC,
				   BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				   BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR              MICR_CODE,
				   BB.IFSC              IFSC_CODE,
				   PI.ACCOUNTNO BENEFICIARYACCNO,
				   CASE WHEN PI.PAYMENTTYPE = 'CHEQUE' OR  PI.PAYMENTTYPE = 'DD' THEN PI.FAVOURNAME ELSE PI.ACCTHOLDERNAME END BENEFICIARYNAME,
				   PI.PHONECOUNTRYCODE+PI.PHONENUMBER AS BENEFICIARY_MOBILE,
				   BCE.CUSTEMAIL       BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   PI.STATUS           STATUS, 
				   PI.REMARKS          REMARKS,
				   PI.PAYMENTTYPE      PAYMENTTYPE,
				   FM.FINTYPE,
				   PB.PARTNERBANKID,
				   PB.PARTNERBANKCODE,
				   PI.POSTDATE INPUTDATE, 
				   PB.ALWFILEDOWNLOAD,
				   PB.FILENAME,
				   FM.FINISACTIVE
				   FROM PAYMENTINSTRUCTIONS PI 
				   INNER JOIN PAYMENTHEADER PH ON PH.PAYMENTID = PI.PAYMENTID
				   INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = PH.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = PI.PAYMENTCCY
				   INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = PI.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
				   LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = PI.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
				   LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = PI.BANKBRANCHID AND BR.ACCNUMBER = PI.ACCOUNTNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE PI.STATUS='APPROVED' AND PI.PAYMENTINSTRUCTIONID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
		</createView>
	</changeSet>
	<changeSet id="177" author="Manoj.P">
		<modifyDataType tableName="BMTDocumentTypes" columnName="DOCTYPEDESC"
			newDataType="varchar(500) " />
	</changeSet>
	
	
	<changeSet id="178" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_COLLATERAL_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBCT_COD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="178" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_COLLATERAL_TYPES">
			<column name="Code" type="char(2)">
				<constraints primaryKey="true" primaryKeyName="PK_CBCT_COD" nullable="false"/>
			</column>
			<column name="Description" type="varchar(250)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int"  />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="178.1" author="Jayant" dbms="mssql"><sql>
	    alter table CIBIL_COLLATERAL_TYPES add constraint CBL_COL_TYPE_VER default 0 for Version;
	</sql></changeSet>
	<changeSet id="179" author="Manoj.P">
		<dropTable tableName="CIBIL_COLLATERAL_TYPES_MAPPING"/>
	</changeSet>
	
	<changeSet id="180" author="Manoj.P" dbms="oracle">
		<createTable tableName="CIBIL_COLLATERAL_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints nullable="false"/>
			</column>
			<column name="CollateralType" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
		<changeSet id="180" author="Manoj.P" dbms="mssql">
		<createTable tableName="CIBIL_COLLATERAL_TYPES_MAPPING">
			<column name="Code" type="char(2)">
				<constraints nullable="false"/>
			</column>
			<column name="CollateralType" type="VARCHAR(8)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="180.1" author="Jayant" dbms="mssql">
	    <sql>
	        alter table CIBIL_COLLATERAL_TYPES_MAPPING add constraint CBL_COLTRL_TYPE_MAPNG_VER default 0 for Version;
	    </sql>
	</changeSet>
	<changeSet id="181" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CCTM_CT"
			referencedTableName="COLLATERALSTRUCTURE" referencedColumnNames="CollateralType"
			baseTableName="CIBIL_COLLATERAL_TYPES_MAPPING" baseColumnNames="CollateralType" />
	</changeSet>
	
	<changeSet id="182" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CCTM_CD"
			referencedTableName="CIBIL_COLLATERAL_TYPES" referencedColumnNames="Code"
			baseTableName="CIBIL_COLLATERAL_TYPES_MAPPING" baseColumnNames="Code"/>
	</changeSet>
	
	<changeSet author="Manoj.P" id="183">
		<addPrimaryKey columnNames="Code, CollateralType"
			constraintName="PK_CCTM_CD_CT" tableName="CIBIL_COLLATERAL_TYPES_MAPPING"/>
	</changeSet>
	
	<changeSet id="184" author="Kesav">
		<createView viewName="FINJOINTACCOUNTDETAILS_TVIEW" replaceIfExists="true">
				SELECT        T1.JointAccountId, T1.FinReference, T1.CustCIF, T1.IncludeRepay, T1.RepayAccountId, T1.Version, T1.LastMntBy, T1.LastMntOn, 
				              T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
				              T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName, 
				              T3.CustShrtName LovDescCIFName, T3.CUSTID
				FROM          FinJointAccountDetails_Temp T1 INNER JOIN
				              SecUsers T2 ON T1.LastMntBy = T2.UsrID INNER JOIN
				              Customers T3 ON T1.CustCIF =  T3.CustCIF
		</createView>
	</changeSet>
	
	<changeSet id="185" author="Kesav">
		<createView viewName="FINJOINTACCOUNTDETAILS_AVIEW" replaceIfExists="true">
				SELECT        T1.JointAccountId, T1.FinReference, T1.CustCIF, T1.IncludeRepay, T1.RepayAccountId, T1.Version, T1.LastMntBy, T1.LastMntOn, 
				              T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
				              T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName, 
				              T3.CustShrtName LovDescCIFName, T3.CUSTID
				FROM          FinJointAccountDetails T1 INNER JOIN
				              SecUsers T2 ON T1.LastMntBy = T2.UsrID INNER JOIN
				              Customers T3 ON T1.CustCIF =  T3.CustCIF
		</createView>
	</changeSet>
	
	<changeSet id="186" author="Kesav">
		<createView viewName="FINJOINTACCOUNTDETAILS_VIEW" replaceIfExists="true">
				SELECT        T1.JointAccountId, T1.FinReference, T1.CustCIF, T1.IncludeRepay, T1.RepayAccountId, T1.Version, T1.LastMntBy, T1.LastMntOn, 
				              T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
				              T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName, 
				              T3.CustShrtName LovDescCIFName, T3.CUSTID
				FROM          FinJointAccountDetails_Temp T1 INNER JOIN
				              SecUsers T2 ON T1.LastMntBy = T2.UsrID INNER JOIN
				              Customers T3 ON T1.CustCIF =  T3.CustCIF
				UNION ALL
				SELECT        T1.JointAccountId, T1.FinReference, T1.CustCIF, T1.IncludeRepay, T1.RepayAccountId, T1.Version, T1.LastMntBy, T1.LastMntOn, 
				              T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
				              T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName, 
				              T3.CustShrtName LovDescCIFName, T3.CUSTID
				FROM          FinJointAccountDetails T1 INNER JOIN
				              SecUsers T2 ON T1.LastMntBy = T2.UsrID INNER JOIN
				              Customers T3 ON T1.CustCIF =  T3.CustCIF
				WHERE         NOT EXISTS (SELECT 1 FROM FinJointAccountDetails_TEMP WHERE JointAccountId = T1.JointAccountId)
		</createView>
	</changeSet>
	
	<changeSet id="187" author="Kesav">
		<createView viewName="FINGUARANTORSDETAILS_AVIEW" replaceIfExists="true">
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
			            T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
			            T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
			            T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
			            (SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
			            T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
			            T3.CUSTID
			            
			FROM        FinGuarantorsDetails T1 INNER JOIN
			            SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
			            Customers T3 ON T1.GuarantorCIF =  T3.CustCIF
		</createView>
	</changeSet>
	
	<changeSet id="188" author="Kesav">
		<createView viewName="FINGUARANTORSDETAILS_TVIEW" replaceIfExists="true">
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
			            T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
			            T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
			            T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
			            (SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
			            T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
			            T3.CUSTID
			            
			FROM        FinGuarantorsDetails_Temp T1 INNER JOIN
			            SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
			            Customers T3 ON T1.GuarantorCIF =  T3.CustCIF
		</createView>
	</changeSet>
	
	<changeSet id="189" author="Kesav">
		<createView viewName="FINGUARANTORSDETAILS_VIEW" replaceIfExists="true">
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
			            T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
			            T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
			            T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
			            (SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
			            T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
			            T3.CUSTID
			            
			FROM        FinGuarantorsDetails_Temp T1 INNER JOIN
			            SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
			            Customers T3 ON T1.GuarantorCIF =  T3.CustCIF
			
			UNION ALL
			
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
			            T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
			            T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
			            T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
			            (SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
			            T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
			            T3.CUSTID
			            
			FROM        FinGuarantorsDetails T1 INNER JOIN
			            SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
			            Customers T3 ON T1.GuarantorCIF =  T3.CustCIF
			WHERE     NOT EXISTS (SELECT 1 FROM FinGuarantorsDetails_TEMP  WHERE GuarantorId = T1.GuarantorId)
		</createView>
	</changeSet>
	
	<changeSet id="190" author="Manoj.P">
		<sql>
		 DELETE FROM  SMTPARAMETERS WHERE SYSPARMCODE IN ('CBIL_REPORT_PATH', 'CBIL_REPORT_MEMBER_ID', 'CBIL_REPORT_MEMBER_CODE','CBIL_REPORT_MEMBER_SHORT_NAME', 'CBIL_REPORT_MEMBER_PASSWORD', 'ADDRESS_TYPE_PERMANENT', 'ADDRESS_TYPE_RESIDENCE', 'ADDRESS_TYPE_OFFICE');
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_PATH', 				'Location of the CIBIL report to be placed', 		'String', 1,  'D:/PFF/Reports/CIBIL', 	'200', 	0, NULL, NULL, 'Location of the CIBIL report to be placed', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_ID', 			'Reporting member id', 								'String', 1,  'NB68030221', 			'30', 	0, NULL, NULL, 'Reporting member id', 							1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_CODE', 		'Reporting member Code', 							'String', 1,  'BAJAJ FIN LTD', 			'30', 	0, NULL, NULL, 'Reporting member Code', 						1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_SHORT_NAME', 	'Reporting member short name', 						'String', 1,  'BAJAJ FIN LTD', 			'16', 	0, NULL, NULL, 'Reporting member short name', 					1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_PASSWORD', 	'Reporting member password', 						'String', 1,  'A6K48', 					'30', 	0, NULL, NULL, 'Reporting member password', 					1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		</sql>
	</changeSet>
	
	<changeSet id="191" author="Kesav">
		<createView viewName="FINTAXDETAIL_TVIEW" replaceIfExists="true">
			SELECT	  T1.FinReference, T1.ApplicableFor,T1.ApplicableForCustId, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, 
			          T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode,
			          T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          T2.CountryDesc CountryName,
			          T3.CPProvinceName ProvinceName,
			          T4.PCCItyName CityName,
			          T5.areaname PinCodeName,
			          T6.CustCIF, T6.CUSTSHRTNAME
			FROM      FinTaxDetail_Temp T1 LEFT JOIN
			          BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
			          RmtCountryvsProvince T3 ON T1.Province = t3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
			          rmtprovincevscity T4 ON T1.City = T4.pccity and T1.Province = T4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
			          pincodes T5 ON T1.PinCode = T5.pincode and T1.City = T5.city Inner Join
			          Customers T6 ON T1.APPLICABLEFORCUSTID = T6.CUSTID
		</createView>
	</changeSet>
	
	<changeSet id="192" author="Kesav">
		<createView viewName="FINTAXDETAIL_AVIEW" replaceIfExists="true">
			SELECT	  T1.FinReference, T1.ApplicableFor,T1.ApplicableForCustId, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, 
			          T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode,
			          T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          T2.CountryDesc CountryName,
			          T3.CPProvinceName ProvinceName,
			          T4.PCCItyName CityName,
			          T5.areaname PinCodeName,
			          T6.CustCIF, T6.CUSTSHRTNAME
			FROM      FinTaxDetail T1 LEFT JOIN
			          BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
			          RmtCountryvsProvince T3 ON T1.Province = t3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
			          rmtprovincevscity T4 ON T1.City = T4.pccity and T1.Province = T4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
			          pincodes T5 ON T1.PinCode = T5.pincode and T1.City = T5.city Inner Join
			          Customers T6 ON T1.APPLICABLEFORCUSTID = T6.CUSTID
		</createView>
	</changeSet>
	
	<changeSet id="193" author="Kesav">
		<createView viewName="FINTAXDETAIL_VIEW" replaceIfExists="true">
			SELECT	  T1.FinReference, T1.ApplicableFor,T1.ApplicableForCustId, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, 
			          T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode,
			          T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          T2.CountryDesc CountryName,
			          T3.CPProvinceName ProvinceName,
			          T4.PCCItyName CityName,
			          T5.areaname PinCodeName,
			          T6.CustCIF, T6.CUSTSHRTNAME
			FROM      FinTaxDetail_Temp T1 LEFT JOIN
			          BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
			          RmtCountryvsProvince T3 ON T1.Province = t3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
			          rmtprovincevscity T4 ON T1.City = T4.pccity and T1.Province = T4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
			          pincodes T5 ON T1.PinCode = T5.pincode and T1.City = T5.city Inner Join
			          Customers T6 ON T1.APPLICABLEFORCUSTID = T6.CUSTID
			
			UNION ALL
			
			SELECT	  T1.FinReference, T1.ApplicableFor,T1.ApplicableForCustId, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, 
			          T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode,
			          T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          T2.CountryDesc CountryName,
			          T3.CPProvinceName ProvinceName,
			          T4.PCCItyName CityName,
			          T5.areaname PinCodeName,
			          T6.CustCIF, T6.CUSTSHRTNAME
			FROM      FinTaxDetail T1 LEFT JOIN
			          BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
			          RmtCountryvsProvince T3 ON T1.Province = t3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
			          rmtprovincevscity T4 ON T1.City = t4.pccity and T1.Province = t4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
			          pincodes T5 ON T1.PinCode = T5.pincode and T1.City = T5.city Inner Join
			          Customers T6 ON T1.APPLICABLEFORCUSTID = T6.CUSTID
			          
			WHERE     NOT EXISTS (SELECT 1 FROM FinTaxDetail_TEMP WHERE FinReference = T1.FinReference)
		</createView>
	</changeSet>
	<changeSet id="191" author="Manoj.P" dbms="oracle">
		<sql>
DELETE FROM  SMTPARAMETERS WHERE SYSPARMCODE IN ('CBIL_REPORT_PATH', 'CBIL_REPORT_MEMBER_ID', 'CBIL_REPORT_MEMBER_CODE','CBIL_REPORT_MEMBER_SHORT_NAME', 'CBIL_REPORT_MEMBER_PASSWORD', 'ADDRESS_TYPE_PERMANENT', 'ADDRESS_TYPE_RESIDENCE', 'ADDRESS_TYPE_OFFICE');

INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_PATH', 				'Location of the CIBIL report to be placed', 		'String', 1,  'D:/PFF/Reports/CIBIL', 	'200', 	0, NULL, NULL, 'Location of the CIBIL report to be placed', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_ID', 			'Reporting member id', 								'String', 1,  'NB68030221', 			'30', 	0, NULL, NULL, 'Reporting member id', 							1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_CODE', 		'Reporting member Code', 							'String', 1,  'BAJAJ FIN LTD', 			'30', 	0, NULL, NULL, 'Reporting member Code', 						1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_SHORT_NAME', 	'Reporting member short name', 						'String', 1,  'BAJAJ FIN LTD', 			'16', 	0, NULL, NULL, 'Reporting member short name', 					1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_PASSWORD', 	'Reporting member password', 						'String', 1,  'A6K48', 					'30', 	0, NULL, NULL, 'Reporting member password', 					1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);

DELETE FROM CIBIL_ACCOUNT_TYPES;
insert into CIBIL_ACCOUNT_TYPES values ('01', 	'Auto Loan (Personal)',             			1, 1000,sysdate,'Approved','','','','','', 0);	
insert into CIBIL_ACCOUNT_TYPES values ('02', 	'Housing Loan',                     			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('03', 	'Property Loan',                    			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('04', 	'Loan Against Shares / Securities', 			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('05', 	'Personal Loan',                    			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('06', 	'Consumer Loan',                    			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('07', 	'Gold Loan',                        			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('08', 	'Education Loan',                   			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('09', 	'Loan to Professional',             			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('10', 	'Credit Card',                      			1, 1000,sysdate,'Approved','','','','','', 0);			
insert into CIBIL_ACCOUNT_TYPES values ('11', 	'Leasing',                          			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('12', 	'Overdraft',                        			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('13', 	'Two-Wheeler Loan',                 			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('14', 	'Non-Funded Credit Facility',       			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('15', 	'Loan Against Bank Deposits',       			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('16', 	'Fleet Card',                       			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('17', 	'Commercial Vehicle Loan',          			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('18', 	'Telco  Wireless',                 			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('19', 	'Telco  Broadband',                			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('20', 	'Telco  Landline'	,               			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('31', 	'Secured Credit Card',              			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('32', 	'Used Car Loan',                    			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('33', 	'Construction Equipment Loan',      			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('34', 	'Tractor Loan',                     			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('35', 	'Corporate Credit Card',            			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('36', 	'Kisan Credit Card',                            1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('37', 	'Loan on Credit Card',                          1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('38', 	'Prime Minister Jaan Dhan Yojana - Overdraft',  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('39', 	'Mudra Loans  Shishu / Kishor / Tarun',        1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('40', 	'Microfinance  Business Loan'	,               1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('41', 	'Microfinance  Personal Loan'	,               1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('42', 	'Microfinance  Housing Loan',                  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('43', 	'Microfinance  Others',                        1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('44', 	'Pradhan Mantri Awas Yojana - Credit Link Su', 	1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('50', 	'Business Loan - Secured',           			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('51', 	'Business Loan  General',           			1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('52', 	'Business Loan  Priority Sector  Small Bus',  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('53', 	'Business Loan  Priority Sector  Agricultu',  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('54', 	'Business Loan  Priority Sector  Others',   	1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('55', 	'Business Non-Funded Credit Facility  Gener',  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('56', 	'Business Non-Funded Credit Facility-Priorit',  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('57', 	'Business Non-Funded Credit Facility-Priorit',  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('58', 	'Business Non-Funded Credit Facility-Priorit',  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('59', 	'Business Loan Against Bank Deposits',          1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('61', 	'Business Loan - Unsecured',                    1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('0'	, 'Other',                                          1, 1000,sysdate,'Approved','','','','','', 0);

delete from CIBIL_PHONE_TYPES_MAPPING;
delete from CIBIL_PHONE_TYPES;
insert into CIBIL_PHONE_TYPES values ('01','MOBILE',                     1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_PHONE_TYPES values ('02','Home Landline No.',          1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_PHONE_TYPES values ('03','Office Landline No.',        1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_PHONE_TYPES_MAPPING values('01', 'MOBILE1', 1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_PHONE_TYPES_MAPPING values('01', 'MOBILE2', 1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_PHONE_TYPES_MAPPING values('01', 'OFFMOB',  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_PHONE_TYPES_MAPPING values('02', 'HOME',    1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_PHONE_TYPES_MAPPING values('03', 'OFFICE',  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_PHONE_TYPES_MAPPING values('03', 'OFFFAX',  1, 1000,sysdate,'Approved','','','','','', 0);

delete from CIBIL_ADDRESS_TYPES_MAPPING;
delete from CIBIL_ADDRESS_TYPES;
insert into CIBIL_ADDRESS_TYPES values ('01','PERMANENT ADDRESS',       1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ADDRESS_TYPES values ('02','RESIDENCE ADDRESS',       1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ADDRESS_TYPES values ('03','OFFICE ADDRESS',          1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ADDRESS_TYPES_MAPPING values ('01', 'PER',                      1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ADDRESS_TYPES_MAPPING values ('02', 'CURRES',                  1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_ADDRESS_TYPES_MAPPING values ('03', 'OFFICE',                  1, 1000,sysdate,'Approved','','','','','', 0);


delete from CIBIL_DOCUMENT_TYPES_MAPPING;
delete from CIBIL_DOCUMENT_TYPES;
delete from BMTDocumentTypes where DOCTYPECODE IN (
'SP001'
,'SP002'
,'SP003'
,'SP004'
,'SP005'
,'SP006'
,'SP007'
,'SP008'
,'SP009'
,'SP010'
,'IN001'
,'IN002'
,'IN004'
,'IN005'
,'IN006'
,'IN007'
,'IN008'
,'IN009'
,'IN003'
,'IN010'
,'IN011'
,'IN012'
,'IN013'
,'IN014'
,'IN015'
,'IN016'
,'IN017'
,'IN018'
,'IN019'
,'IN020'
,'IN021'
,'IN022'
,'CO001'
,'CO002'
,'CO003'
,'CO004'
,'CO005'
,'PF001'
,'PF002'
,'PF003'
,'PF004'
,'PF005'
,'PF006'
,'PF007'
,'PF008'
,'PF009'
,'PF010'
,'PF011'
,'PF012'
,'TR001'
,'TR002'
,'TR003'
,'TR004'
,'HF001'
,'HF002'
,'HF003'
,'HF004'
,'LA001');


insert into CIBIL_DOCUMENT_TYPES values ('01','Income Tax ID Number (PAN)',           1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('02','Passport Number',                      1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('03','Voter ID Number',                      1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('04','Drivers License Number',              1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('05','Ration Card Number',                   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('06','Universal ID Number (UID)',            1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('07','Additional ID #1 (For Future Use',     1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('08','Additional ID #2 (For Future Use',     1, 1000,sysdate,'Approved','','','','','', 0);

insert into CIBIL_DOCUMENT_TYPES_MAPPING values ('01', '03',                         1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES_MAPPING values ('02', '02',                         1, 1000,sysdate,'Approved','','','','','', 0);
alter table CustomerDocuments disable constraint FK_CUSTDOCS_BMTDOCTYPES;
update CustomerDocuments set CustDocCategory ='01' where CustDocCategory in (select DOCTYPECODE from BMTDOCUMENTTYPES where DOCTYPEDESC='Aadhar Card');
update BMTDOCUMENTTYPES set DOCTYPECODE ='01' where DOCTYPEDESC='Aadhar Card';
alter table CustomerDocuments enable constraint FK_CUSTDOCS_BMTDOCTYPES;
insert into CIBIL_DOCUMENT_TYPES_MAPPING values ('06', '01',                         1, 1000,sysdate,'Approved','','','','','', 0);

delete from CIBIL_STATES_MAPPING;
insert into CIBIL_STATES_MAPPING values ('01','Jammu and Kashmir', 				'11', 18,19,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('02','Himachal Pradesh',				'3', 17,17,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('03','Punjab',          				'12', 14,16,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('04','Chandigarh',      				'13', 16,16,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('05','Uttaranchal',     				'14', 24,26,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('06','Haryana',         				'37', 12,13,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('07','Delhi',			 				'6',  11,11,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('08','Rajasthan',		 				'15', 30,34,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('09','Uttar Pradesh',	 				'38', 20,28,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('10','Bihar',			 				'16', 80,85,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('11','Sikkim',							'17', 73,73,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('12','Arunachal Pradesh',				'18', 78,79,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('13','Nagaland',						'19', 79,79,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('14','Manipur',						'20', 79,79,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('15','Mizoram',						'21', 79,79,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('16','Tripura',						'22', 72,79,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('17','Meghalaya',						'23', 79,79,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('18','Assam',							'24', 78,79,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('19','West Bengal',					'8',  70,74,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('20','Jharkhand',						'25', 81,83,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('21','Orissa',							'26', 75,77,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('22','Chhattisgarh',					'27', 46,49,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('23','Madhya Pradesh',					'28', 45,48,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('24','Gujarat',						'29', 36,39,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('25','Daman and Diu',					'30', 36,39,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('26','Dadra and Nagar Haveli',			'31', 39,39,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('27','Maharashtra',					'5',  40,44,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('28','Andhra Pradesh',					'32', 50,56,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('29','Karnataka',						'7',  53,59,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('30','Goa',							'33', 40,40,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('31','Lakshadweep',					'34', 67,68,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('32','Kerala',							'10', 67,69,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('33','Tamil Nadu',						'9',  53,66,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('34','Pondicherry',					'35', 60,60,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('35','Andaman and Nicobar Islands',	'36', 74,74,   1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('36','Telangana',						'TS', 50,56,   1, 1000,sysdate,'Approved','','','','','', 0);


delete from CIBIL_COLLATERAL_TYPES_MAPPING;
delete from CIBIL_COLLATERAL_TYPES;

insert into CIBIL_COLLATERAL_TYPES values ('00','No Collateral',           					1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_COLLATERAL_TYPES values ('01','Property',                					1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_COLLATERAL_TYPES values ('02','Gold',         								1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_COLLATERAL_TYPES values ('03','Shares',          							1, 1000,sysdate,'Approved','','','','','', 0);
insert into CIBIL_COLLATERAL_TYPES values ('04','Saving Account and Fixed Deposit',           1, 1000,sysdate,'Approved','','','','','', 0);

		</sql>
	</changeSet>
	<changeSet id="191" author="Manoj.P" dbms="mssql">
		<sql>
DELETE FROM  SMTPARAMETERS WHERE SYSPARMCODE IN ('CBIL_REPORT_PATH', 'CBIL_REPORT_MEMBER_ID', 'CBIL_REPORT_MEMBER_CODE','CBIL_REPORT_MEMBER_SHORT_NAME', 'CBIL_REPORT_MEMBER_PASSWORD', 'ADDRESS_TYPE_PERMANENT', 'ADDRESS_TYPE_RESIDENCE', 'ADDRESS_TYPE_OFFICE');

INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_PATH', 				'Location of the CIBIL report to be placed', 		'String', 1,  'D:/PFF/Reports/CIBIL', 	'200', 	0, NULL, NULL, 'Location of the CIBIL report to be placed', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_ID', 			'Reporting member id', 								'String', 1,  'NB68030221', 			'30', 	0, NULL, NULL, 'Reporting member id', 							1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_CODE', 		'Reporting member Code', 							'String', 1,  'BAJAJ FIN LTD', 			'30', 	0, NULL, NULL, 'Reporting member Code', 						1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_SHORT_NAME', 	'Reporting member short name', 						'String', 1,  'BAJAJ FIN LTD', 			'16', 	0, NULL, NULL, 'Reporting member short name', 					1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_PASSWORD', 	'Reporting member password', 						'String', 1,  'A6K48', 					'30', 	0, NULL, NULL, 'Reporting member password', 					1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);

DELETE FROM CIBIL_ACCOUNT_TYPES;
insert into CIBIL_ACCOUNT_TYPES values ('01', 	'Auto Loan (Personal)',             			1, 1000,getdate(),'Approved','','','','','', 0);	
insert into CIBIL_ACCOUNT_TYPES values ('02', 	'Housing Loan',                     			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('03', 	'Property Loan',                    			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('04', 	'Loan Against Shares / Securities', 			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('05', 	'Personal Loan',                    			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('06', 	'Consumer Loan',                    			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('07', 	'Gold Loan',                        			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('08', 	'Education Loan',                   			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('09', 	'Loan to Professional',             			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('10', 	'Credit Card',                      			1, 1000,getdate(),'Approved','','','','','', 0);			
insert into CIBIL_ACCOUNT_TYPES values ('11', 	'Leasing',                          			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('12', 	'Overdraft',                        			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('13', 	'Two-Wheeler Loan',                 			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('14', 	'Non-Funded Credit Facility',       			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('15', 	'Loan Against Bank Deposits',       			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('16', 	'Fleet Card',                       			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('17', 	'Commercial Vehicle Loan',          			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('18', 	'Telco  Wireless',                 			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('19', 	'Telco  Broadband',                			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('20', 	'Telco  Landline'	,               			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('31', 	'Secured Credit Card',              			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('32', 	'Used Car Loan',                    			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('33', 	'Construction Equipment Loan',      			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('34', 	'Tractor Loan',                     			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('35', 	'Corporate Credit Card',            			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('36', 	'Kisan Credit Card',                            1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('37', 	'Loan on Credit Card',                          1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('38', 	'Prime Minister Jaan Dhan Yojana - Overdraft',  1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('39', 	'Mudra Loans  Shishu / Kishor / Tarun',        1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('40', 	'Microfinance  Business Loan'	,               1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('41', 	'Microfinance  Personal Loan'	,               1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('42', 	'Microfinance  Housing Loan',                  1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('43', 	'Microfinance  Others',                        1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('44', 	'Pradhan Mantri Awas Yojana - Credit Link Su', 	1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('50', 	'Business Loan - Secured',           			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('51', 	'Business Loan  General',           			1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('52', 	'Business Loan  Priority Sector  Small Bus',  1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('53', 	'Business Loan  Priority Sector  Agricultu',  1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('54', 	'Business Loan  Priority Sector  Others',   	1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('55', 	'Business Non-Funded Credit Facility  Gener',  1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('56', 	'Business Non-Funded Credit Facility-Priorit',  1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('57', 	'Business Non-Funded Credit Facility-Priorit',  1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('58', 	'Business Non-Funded Credit Facility-Priorit',  1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('59', 	'Business Loan Against Bank Deposits',          1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('61', 	'Business Loan - Unsecured',                    1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ACCOUNT_TYPES values ('0'	, 'Other',                                          1, 1000,getdate(),'Approved','','','','','', 0);

delete from CIBIL_PHONE_TYPES_MAPPING;
delete from CIBIL_PHONE_TYPES;
insert into CIBIL_PHONE_TYPES values ('01','MOBILE',                     1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_PHONE_TYPES values ('02','Home Landline No.',          1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_PHONE_TYPES values ('03','Office Landline No.',        1, 1000,getdate(),'Approved','','','','','', 0);
<!-- insert into CIBIL_PHONE_TYPES_MAPPING values('01', 'MOBILE1', 1, 1000,getdate(),'Approved','','','','','', 0); -->
<!-- insert into CIBIL_PHONE_TYPES_MAPPING values('01', 'MOBILE2', 1, 1000,getdate(),'Approved','','','','','', 0); -->
<!-- insert into CIBIL_PHONE_TYPES_MAPPING values('01', 'OFFMOB',  1, 1000,getdate(),'Approved','','','','','', 0); -->
<!-- insert into CIBIL_PHONE_TYPES_MAPPING values('02', 'HOME',    1, 1000,getdate(),'Approved','','','','','', 0); -->
<!-- insert into CIBIL_PHONE_TYPES_MAPPING values('03', 'OFFICE',  1, 1000,getdate(),'Approved','','','','','', 0); -->
<!-- insert into CIBIL_PHONE_TYPES_MAPPING values('03', 'OFFFAX',  1, 1000,getdate(),'Approved','','','','','', 0); -->

delete from CIBIL_ADDRESS_TYPES_MAPPING;
delete from CIBIL_ADDRESS_TYPES;
insert into CIBIL_ADDRESS_TYPES values ('01','PERMANENT ADDRESS',       1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ADDRESS_TYPES values ('02','RESIDENCE ADDRESS',       1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ADDRESS_TYPES values ('03','OFFICE ADDRESS',          1, 1000,getdate(),'Approved','','','','','', 0);
<!-- insert into CIBIL_ADDRESS_TYPES_MAPPING values ('01', 'PER',                      1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ADDRESS_TYPES_MAPPING values ('02', 'CURRES',                  1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_ADDRESS_TYPES_MAPPING values ('03', 'OFFICE',                  1, 1000,getdate(),'Approved','','','','','', 0); -->


delete from CIBIL_DOCUMENT_TYPES_MAPPING;
delete from CIBIL_DOCUMENT_TYPES;
delete from BMTDocumentTypes where DOCTYPECODE IN (
'SP001'
,'SP002'
,'SP003'
,'SP004'
,'SP005'
,'SP006'
,'SP007'
,'SP008'
,'SP009'
,'SP010'
,'IN001'
,'IN002'
,'IN004'
,'IN005'
,'IN006'
,'IN007'
,'IN008'
,'IN009'
,'IN003'
,'IN010'
,'IN011'
,'IN012'
,'IN013'
,'IN014'
,'IN015'
,'IN016'
,'IN017'
,'IN018'
,'IN019'
,'IN020'
,'IN021'
,'IN022'
,'CO001'
,'CO002'
,'CO003'
,'CO004'
,'CO005'
,'PF001'
,'PF002'
,'PF003'
,'PF004'
,'PF005'
,'PF006'
,'PF007'
,'PF008'
,'PF009'
,'PF010'
,'PF011'
,'PF012'
,'TR001'
,'TR002'
,'TR003'
,'TR004'
,'HF001'
,'HF002'
,'HF003'
,'HF004'
,'LA001');


insert into CIBIL_DOCUMENT_TYPES values ('01','Income Tax ID Number (PAN)',           1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('02','Passport Number',                      1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('03','Voter ID Number',                      1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('04','Drivers License Number',              1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('05','Ration Card Number',                   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('06','Universal ID Number (UID)',            1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('07','Additional ID #1 (For Future Use',     1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES values ('08','Additional ID #2 (For Future Use',     1, 1000,getdate(),'Approved','','','','','', 0);

insert into CIBIL_DOCUMENT_TYPES_MAPPING values ('01', '03',                         1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_DOCUMENT_TYPES_MAPPING values ('02', '02',                         1, 1000,getdate(),'Approved','','','','','', 0);
alter table CustomerDocuments NOCHECK CONSTRAINT ALL;
update CustomerDocuments set CustDocCategory ='01' where CustDocCategory in (select DOCTYPECODE from BMTDOCUMENTTYPES where DOCTYPEDESC='Aadhar Card');
<!-- update BMTDOCUMENTTYPES set DOCTYPECODE ='01' where DOCTYPEDESC='Aadhar Card'; -->
alter table CustomerDocuments WITH CHECK CHECK CONSTRAINT ALL;
insert into CIBIL_DOCUMENT_TYPES_MAPPING values ('06', '01',                         1, 1000,getdate(),'Approved','','','','','', 0);

delete from CIBIL_STATES_MAPPING;
insert into CIBIL_STATES_MAPPING values ('01','Jammu and Kashmir', 				'11', 18,19,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('02','Himachal Pradesh',				'3', 17,17,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('03','Punjab',          				'12', 14,16,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('04','Chandigarh',      				'13', 16,16,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('05','Uttaranchal',     				'14', 24,26,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('06','Haryana',         				'37', 12,13,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('07','Delhi',			 				'6',  11,11,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('08','Rajasthan',		 				'15', 30,34,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('09','Uttar Pradesh',	 				'38', 20,28,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('10','Bihar',			 				'16', 80,85,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('11','Sikkim',							'17', 73,73,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('12','Arunachal Pradesh',				'18', 78,79,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('13','Nagaland',						'19', 79,79,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('14','Manipur',						'20', 79,79,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('15','Mizoram',						'21', 79,79,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('16','Tripura',						'22', 72,79,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('17','Meghalaya',						'23', 79,79,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('18','Assam',							'24', 78,79,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('19','West Bengal',					'8',  70,74,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('20','Jharkhand',						'25', 81,83,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('21','Orissa',							'26', 75,77,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('22','Chhattisgarh',					'27', 46,49,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('23','Madhya Pradesh',					'28', 45,48,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('24','Gujarat',						'29', 36,39,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('25','Daman and Diu',					'30', 36,39,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('26','Dadra and Nagar Haveli',			'31', 39,39,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('27','Maharashtra',					'5',  40,44,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('28','Andhra Pradesh',					'32', 50,56,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('29','Karnataka',						'7',  53,59,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('30','Goa',							'33', 40,40,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('31','Lakshadweep',					'34', 67,68,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('32','Kerala',							'10', 67,69,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('33','Tamil Nadu',						'9',  53,66,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('34','Pondicherry',					'35', 60,60,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('35','Andaman and Nicobar Islands',	'36', 74,74,   1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_STATES_MAPPING values ('36','Telangana',						'TS', 50,56,   1, 1000,getdate(),'Approved','','','','','', 0);


delete from CIBIL_COLLATERAL_TYPES_MAPPING;
delete from CIBIL_COLLATERAL_TYPES;

insert into CIBIL_COLLATERAL_TYPES values ('00','No Collateral',           					1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_COLLATERAL_TYPES values ('01','Property',                					1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_COLLATERAL_TYPES values ('02','Gold',         								1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_COLLATERAL_TYPES values ('03','Shares',          							1, 1000,getdate(),'Approved','','','','','', 0);
insert into CIBIL_COLLATERAL_TYPES values ('04','Saving Account and Fixed Deposit',           1, 1000,getdate(),'Approved','','','','','', 0);

		</sql>
	</changeSet>
	<changeSet id="194" author="Manoj.P">
		<createView viewName="CIBIL_CUSTOMER_EXTARCT_VIEW" replaceIfExists="true"> 
			 	select C.CUSTID, FM.FINREFERENCE, 1 OWNERSHIP, PD.LATESTRPYDATE from FINANCEMAIN FM
				INNER JOIN CUSTOMERS C ON C.CUSTID = FM.CUSTID
				INNER JOIN FINPFTDETAILS PD ON PD.FINREFERENCE = FM.FINREFERENCE
				where C.custid in (select distinct custid  from financemain) 
				and CUSTTYPECODE IN (select CUSTTYPECODE from RMTCUSTTYPES WHERE CUSTTYPECTG = 'RETAIL')
				UNION ALL
				select C.CUSTID, FM.FINREFERENCE, 3 OWNERSHIP, PD.LATESTRPYDATE from FINGUARANTORSDETAILS GD
				INNER JOIN CUSTOMERS C ON C.CUSTCIF = GD.GUARANTORCIF
				INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = GD.FINREFERENCE
				INNER JOIN FINPFTDETAILS PD ON PD.FINREFERENCE = GD.FINREFERENCE
				where C.custid in (select distinct custid  from financemain) 
				and CUSTTYPECODE IN (select CUSTTYPECODE from RMTCUSTTYPES WHERE CUSTTYPECTG = 'RETAIL')
				UNION ALL
				select  C.CUSTID, FM.FINREFERENCE, 4 OWNERSHIP, PD.LATESTRPYDATE from FINJOINTACCOUNTDETAILS JA
				INNER JOIN CUSTOMERS C ON C.CUSTCIF = JA.CUSTCIF
				INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = JA.FINREFERENCE
				INNER JOIN FINPFTDETAILS PD ON PD.FINREFERENCE = JA.FINREFERENCE
				where C.custid in (select distinct custid  from financemain) 
				and CUSTTYPECODE IN (select CUSTTYPECODE from RMTCUSTTYPES WHERE CUSTTYPECTG = 'RETAIL')
		</createView>
	</changeSet>
	
	
	<changeSet id="195" author="Manoj.P" dbms="oracle">
	<createView viewName="CIBIL_CUSTOMER_LOANS_VIEW" replaceIfExists="true">
				SELECT  
				CU.CUSTID,
				coalesce(at.code, '0') FINTYPE,
				FM.FINREFERENCE, 
				FM.FINSTARTDATE,
				PD.LATESTRPYDATE,
				UDF_CONVERTCURRENCY(FINASSETVALUE, FM.FINCCY, 'INR') FINASSETVALUE,
				UDF_CONVERTCURRENCY(PD.TOTALPRIBAL+PD.TOTALPFTBAL, FM.FINCCY, 'INR') CURRENT_BALANCE,
				UDF_CONVERTCURRENCY(PD.ODPRINCIPAL+PD.ODPROFIT, FM.FINCCY, 'INR') AMOUNT_OVERDUE,
				PD.CURODDAYS,
				FM.CLOSINGSTATUS,
				COALESCE(COLTRL.COLLATERAL_VALUE, 0) COLLATERAL_VALUE,
				COALESCE(ctm.code,'00') COLLATERALTYPE,
				COALESCE(FM.REPAYPROFITRATE, 0) REPAYPROFITRATE,
				FM.NUMBEROFTERMS,
				UDF_CONVERTCURRENCY(FM.FIRSTREPAY, FM.FINCCY, 'INR') FIRSTREPAY,
				UDF_CONVERTCURRENCY(WD.WriteOFFPrincipal + WD.WriteOffProfit + WD.WriteOffSchFee + WD.WriteOffIns, FM.FINCCY, 'INR') WRITTENOFF_AMOUNT,
				UDF_CONVERTCURRENCY(WD.WRITTENOFFPRI, FM.FINCCY, 'INR') WRITTENOFF_PRINCIPAL,
				UDF_CONVERTCURRENCY(WP.SETTLEMENT_AMOUNT, FM.FINCCY, 'INR') SETTELEMENT_AMOUNT,
				UDF_CONVERTCURRENCY(PD.LATESTRPYPRI+LATESTRPYPFT, FM.FINCCY, 'INR') PAYMENT_AMOUNT,
				FM.REPAYFRQ,
				CU.OWNERSHIP
				FROM  FINANCEMAIN FM 
				INNER JOIN CIBIL_CUSTOMER_EXTRACT CU ON  CU.FinReference = FM.FinReference 
				INNER JOIN FINPFTDETAILS PD ON PD.FINREFERENCE = FM.FINREFERENCE
				LEFT JOIN (SELECT CA.REFERENCE, UDF_CONVERTCURRENCY((CS.BANKVALUATION*CA.ASSIGNPERC), CS.COLLATERALCCY, 'INR') COLLATERAL_VALUE, CS.COLLATERALTYPE
				FROM COLLATERALASSIGNMENT CA 
				INNER JOIN COLLATERALSETUP CS ON CS.COLLATERALREF = CA.COLLATERALREF) COLTRL ON COLTRL.REFERENCE = FM.FINREFERENCE
				LEFT JOIN FINWRITEOFFDETAIL WD ON WD.FINREFERENCE = FM.FINREFERENCE
				LEFT JOIN (select FINREFERENCE, SUM(WriteoffPayamount) SETTLEMENT_AMOUNT from finwriteoffpayment group by FINREFERENCE) WP ON WP.FINREFERENCE = FM.FINREFERENCE
				left join CIBIL_ACCOUNT_TYPES_MAPPING atm on atm.finType = FM.finType
				left join CIBIL_ACCOUNT_TYPES at on at.code = atm.code
				left join CIBIL_COLLATERAL_TYPES_MAPPING ctm on ctm.COLLATERALTYPE = COLTRL.COLLATERALTYPE
				left join CIBIL_COLLATERAL_TYPES ct on ct.code = ctm.code
	</createView>
	</changeSet>
	<!-- <changeSet id="195" author="Manoj.P" dbms="mssql">
	<createView viewName="CIBIL_CUSTOMER_LOANS_VIEW" replaceIfExists="true">
				SELECT  
				CU.CUSTID,
				coalesce(at.code, '0') FINTYPE,
				FM.FINREFERENCE, 
				FM.FINSTARTDATE,
				PD.LATESTRPYDATE,
				UDF_CONVERTCURRENCY(FINASSETVALUE, FM.FINCCY, 'INR') FINASSETVALUE,
				UDF_CONVERTCURRENCY(PD.TOTALPRIBAL+PD.TOTALPFTBAL, FM.FINCCY, 'INR') CURRENT_BALANCE,
				UDF_CONVERTCURRENCY(PD.ODPRINCIPAL+PD.ODPROFIT, FM.FINCCY, 'INR') AMOUNT_OVERDUE,
				PD.CURODDAYS,
				FM.CLOSINGSTATUS,
				COALESCE(COLTRL.COLLATERAL_VALUE, 0) COLLATERAL_VALUE,
				COALESCE(ctm.code,'00') COLLATERALTYPE,
				COALESCE(FM.REPAYPROFITRATE, 0) REPAYPROFITRATE,
				FM.NUMBEROFTERMS,
				dbo.UDF_CONVERTCURRENCY(FM.FIRSTREPAY, FM.FINCCY, 'INR') FIRSTREPAY,
				dbo.UDF_CONVERTCURRENCY(WD.WriteOFFPrincipal + WD.WriteOffProfit + WD.WriteOffSchFee + WD.WriteOffIns, FM.FINCCY, 'INR') WRITTENOFF_AMOUNT,
				dbo.UDF_CONVERTCURRENCY(WD.WRITTENOFFPRI, FM.FINCCY, 'INR') WRITTENOFF_PRINCIPAL,
				dbo.UDF_CONVERTCURRENCY(WP.SETTLEMENT_AMOUNT, FM.FINCCY, 'INR') SETTELEMENT_AMOUNT,
				dbo.UDF_CONVERTCURRENCY(PD.LATESTRPYPRI+LATESTRPYPFT, FM.FINCCY, 'INR') PAYMENT_AMOUNT,
				FM.REPAYFRQ,
				CU.OWNERSHIP
				FROM  FINANCEMAIN FM 
				INNER JOIN CIBIL_CUSTOMER_EXTRACT CU ON  CU.FinReference = FM.FinReference 
				INNER JOIN FINPFTDETAILS PD ON PD.FINREFERENCE = FM.FINREFERENCE
				LEFT JOIN (SELECT CA.REFERENCE, UDF_CONVERTCURRENCY((CS.BANKVALUATION*CA.ASSIGNPERC), CS.COLLATERALCCY, 'INR') COLLATERAL_VALUE, CS.COLLATERALTYPE
				FROM COLLATERALASSIGNMENT CA 
				INNER JOIN COLLATERALSETUP CS ON CS.COLLATERALREF = CA.COLLATERALREF) COLTRL ON COLTRL.REFERENCE = FM.FINREFERENCE
				LEFT JOIN FINWRITEOFFDETAIL WD ON WD.FINREFERENCE = FM.FINREFERENCE
				LEFT JOIN (select FINREFERENCE, SUM(WriteoffPayamount) SETTLEMENT_AMOUNT from finwriteoffpayment group by FINREFERENCE) WP ON WP.FINREFERENCE = FM.FINREFERENCE
				left join CIBIL_ACCOUNT_TYPES_MAPPING atm on atm.finType = FM.finType
				left join CIBIL_ACCOUNT_TYPES at on at.code = atm.code
				left join CIBIL_COLLATERAL_TYPES_MAPPING ctm on ctm.COLLATERALTYPE = COLTRL.COLLATERALTYPE
				left join CIBIL_COLLATERAL_TYPES ct on ct.code = ctm.code
	</createView>
	</changeSet> -->
	<changeSet id="196" author="Manoj.P">
		<createView viewName="TRAIL_BALANCE_REPORT_VIEW" replaceIfExists="true">
			select   
			ATG.GROUPCODE,
			AM.HOSTACCOUNT HOSTACCOUNT,
			AT.ACTYPEDESC DESCRIPTION,
			COALESCE(LR.CLOSINGBAL, 0) OPENINGBAL,
			COALESCE(LR.CLOSINGBALTYPE, ' ') OPENINGBALTYPE,
			ABS(TODAYDEBITS) DEBITAMOUNT,
			ABS(TODAYCREDITS) CREDITAMOUNT,
			COALESCE(ABS(AH.TODAYNET), 0) CLOSINGBAL,
			CASE WHEN AH.TODAYNET >= 0 THEN '40' ELSE '50' END CR_DR
			FROM (SELECT ACCOUNTID, SUM(TODAYDEBITS) TODAYDEBITS, SUM(TODAYCREDITS) TODAYCREDITS, SUM(TODAYNET) TODAYNET FROM ACCOUNTSHISTORY AH
			GROUP BY ACCOUNTID) AH
			INNER JOIN ACCOUNTMAPPING AM ON AM.ACCOUNT = AH.ACCOUNTID
			INNER JOIN RMTACCOUNTTYPES AT ON AT.ACTYPE = AM.ACCOUNTTYPE
			INNER JOIN ACCOUNTTYPEGROUP ATG ON  ATG.GROUPID = AT.ACTYPEGRPID
			LEFT JOIN TRAIL_BALANCE_REPORT_LAST_RUN LR ON LR.ACTYPEGRPID = ATG.GROUPCODE AND LR.HOSTACCOUNT = AM.HOSTACCOUNT
		</createView>
	</changeSet>
	
	<!-- Rename Column -->
	<changeSet author="Kesav" id="197">
		<renameColumn columnDataType="number(19,0)" newColumnName="TAXCUSTID"
			oldColumnName="APPLICABLEFORCUSTID" tableName="FinTaxDetail" />
	</changeSet>
	
	<changeSet author="Kesav" id="198">
		<renameColumn columnDataType="number(19,0)" newColumnName="TAXCUSTID"
			oldColumnName="APPLICABLEFORCUSTID" tableName="FinTaxDetail_Temp" />
	</changeSet>
	
	
	<changeSet id="199" author="Kesav">
		<createView viewName="FINTAXDETAIL_TVIEW" replaceIfExists="true">
			SELECT	  T1.FinReference, T1.ApplicableFor,T1.TAXCUSTID, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, 
			          T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode,
			          T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          T2.CountryDesc CountryName,
			          T3.CPProvinceName ProvinceName,
			          T4.PCCItyName CityName,
			          T5.areaname PinCodeName,
			          T6.CustCIF, T6.CUSTSHRTNAME
			FROM      FinTaxDetail_Temp T1 LEFT JOIN
			          BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
			          RmtCountryvsProvince T3 ON T1.Province = T3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
			          rmtprovincevscity T4 ON T1.City = T4.pccity and T1.Province = T4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
			          pincodes T5 ON T1.PinCode = T5.pincode and T1.City = T5.city Inner Join
			          Customers T6 ON T1.TAXCUSTID = T6.CUSTID
		</createView>
	</changeSet>
	
	<changeSet id="200" author="Kesav">
		<createView viewName="FINTAXDETAIL_AVIEW" replaceIfExists="true">
			SELECT	  T1.FinReference, T1.ApplicableFor,T1.TAXCUSTID, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, 
			          T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode,
			          T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          T2.CountryDesc CountryName,
			          T3.CPProvinceName ProvinceName,
			          T4.PCCItyName CityName,
			          T5.areaname PinCodeName,
			          T6.CustCIF, T6.CUSTSHRTNAME
			FROM      FinTaxDetail T1 LEFT JOIN
			          BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
			          RmtCountryvsProvince T3 ON T1.Province = T3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
			          rmtprovincevscity T4 ON T1.City = T4.pccity and T1.Province = T4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
			          pincodes T5 ON T1.PinCode = T5.pincode and T1.City = T5.city Inner Join
			          Customers T6 ON T1.TAXCUSTID = T6.CUSTID
		</createView>
	</changeSet>
	
	<changeSet id="201" author="Kesav">
		<createView viewName="FINTAXDETAIL_VIEW" replaceIfExists="true">
			SELECT	  T1.FinReference, T1.ApplicableFor,T1.TAXCUSTID, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, 
			          T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode,
			          T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          T2.CountryDesc CountryName,
			          T3.CPProvinceName ProvinceName,
			          T4.PCCItyName CityName,
			          T5.areaname PinCodeName,
			          T6.CustCIF, T6.CUSTSHRTNAME
			FROM      FinTaxDetail_Temp T1 LEFT JOIN
			          BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
			          RmtCountryvsProvince T3 ON T1.Province = T3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
			          rmtprovincevscity T4 ON T1.City = T4.pccity and T1.Province = T4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
			          pincodes T5 ON T1.PinCode = T5.pincode and T1.City = T5.city Inner Join
			          Customers T6 ON T1.TAXCUSTID = T6.CUSTID
			
			UNION ALL
			
			SELECT	  T1.FinReference, T1.ApplicableFor,T1.TAXCUSTID, T1.TaxExempted, T1.TaxNumber, T1.AddrLine1, T1.AddrLine2, T1.AddrLine3, 
			          T1.AddrLine4, T1.Country, T1.Province, T1.City, T1.PinCode, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode,
			          T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          T2.CountryDesc CountryName,
			          T3.CPProvinceName ProvinceName,
			          T4.PCCItyName CityName,
			          T5.areaname PinCodeName,
			          T6.CustCIF, T6.CUSTSHRTNAME
			FROM      FinTaxDetail T1 LEFT JOIN
			          BMTCountries T2 ON T1.Country = T2.CountryCode LEFT JOIN
			          RmtCountryvsProvince T3 ON T1.Province = T3.cpprovince and T1.Country = T3.CPCountry  LEFT JOIN
			          rmtprovincevscity T4 ON T1.City = t4.pccity and T1.Province = t4.pcprovince and T1.Country = T4.pcCountry LEFT JOIN
			          pincodes T5 ON T1.PinCode = T5.pincode and T1.City = T5.city Inner Join
			          Customers T6 ON T1.TAXCUSTID = T6.CUSTID
			          
			WHERE     NOT EXISTS (SELECT 1 FROM FinTaxDetail_TEMP WHERE FinReference = T1.FinReference)
		</createView>
	</changeSet>
	<changeSet  id="202" author="Prasad" dbms="oracle">
	<createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		  <![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk AMount Due ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||'('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0
  union
  	SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,9 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		TotPenaltyAmt Debit, 0 credit,9 Ordby
		From FinODDetails where TOtPenaltyAmt > 0 
  
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,10 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,11 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
	</changeSet>
	<changeSet  id="202" author="Prasad" dbms="mssql">
	<createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		  <![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('+T1.Finreference+')' else 
											  'Due for Installment '+T1.INSTNUMBER+' ('+T1.Finreference+')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and 
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk AMount Due ('+T1.Finreference+')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('+T1.Finreference+')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '+PAYMENTTYPE +' No.:'+FavourNumber +'('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) +'- Due ('+Finreference+')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0
  union
  	SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) +'- Due ('+Finreference+')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '+ (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)+'('+t2.Finreference+')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '+PAYMENTTYPE +' No.:'+FavourNumber +'('+REFERENCE+')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,9 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' + FINODTILLDATE Particulars, 
		TotPenaltyAmt Debit, 0 credit,9 Ordby
		From FinODDetails where TOtPenaltyAmt > 0 
  
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '+PaymentType+' :'+ (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)+'('+T1.Finreference+')' ,
    AmtToBeReleased Debit, 0 credit,10 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '+T1.PaymentType+' :'+ (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)+'('+T.Finreference+')' ,
    T1.PaymentAmount Debit, 0 credit,11 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
	</changeSet>
	
	<changeSet id="203" author="Manoj.P">
		<sql>
		 DELETE FROM  SMTPARAMETERS WHERE SYSPARMCODE IN ('CBIL_REPORT_PATH', 'CBIL_REPORT_MEMBER_ID', 'CBIL_REPORT_MEMBER_CODE','CBIL_REPORT_MEMBER_SHORT_NAME', 'CBIL_REPORT_MEMBER_PASSWORD', 'ADDRESS_TYPE_PERMANENT', 'ADDRESS_TYPE_RESIDENCE', 'ADDRESS_TYPE_OFFICE');
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_PATH', 				'Location of the CIBIL report to be placed', 		'String', 1,  'opt/PFF/Reports/CIBIL', 	'200', 	0, NULL, NULL, 'Location of the CIBIL report to be placed', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_ID', 			'Reporting member id', 								'String', 1,  'NB68030221', 			'30', 	0, NULL, NULL, 'Reporting member id', 							1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_CODE', 		'Reporting member Code', 							'String', 1,  'BAJAJ FIN LTD', 			'30', 	0, NULL, NULL, 'Reporting member Code', 						1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_SHORT_NAME', 	'Reporting member short name', 						'String', 1,  'BAJAJ FIN LTD', 			'16', 	0, NULL, NULL, 'Reporting member short name', 					1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_PASSWORD', 	'Reporting member password', 						'String', 1,  'A6K48', 					'30', 	0, NULL, NULL, 'Reporting member password', 					1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		</sql>
	</changeSet>
	
	<changeSet id="204" author="Manoj.P">
		<sql>
		 DELETE FROM  SMTPARAMETERS WHERE SYSPARMCODE IN ('CBIL_REPORT_PATH', 'CBIL_REPORT_MEMBER_ID', 'CBIL_REPORT_MEMBER_CODE','CBIL_REPORT_MEMBER_SHORT_NAME', 'CBIL_REPORT_MEMBER_PASSWORD', 'ADDRESS_TYPE_PERMANENT', 'ADDRESS_TYPE_RESIDENCE', 'ADDRESS_TYPE_OFFICE');
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_PATH', 				'Location of the CIBIL report to be placed', 		'String', 1,  '/opt/PFF/Reports/CIBIL', 	'200', 	0, NULL, NULL, 'Location of the CIBIL report to be placed', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_ID', 			'Reporting member id', 								'String', 1,  'NB68030221', 			'30', 	0, NULL, NULL, 'Reporting member id', 							1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_CODE', 		'Reporting member Code', 							'String', 1,  'BAJAJ FIN LTD', 			'30', 	0, NULL, NULL, 'Reporting member Code', 						1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_SHORT_NAME', 	'Reporting member short name', 						'String', 1,  'BAJAJ FIN LTD', 			'16', 	0, NULL, NULL, 'Reporting member short name', 					1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('CBIL_REPORT_MEMBER_PASSWORD', 	'Reporting member password', 						'String', 1,  'A6K48', 					'30', 	0, NULL, NULL, 'Reporting member password', 					1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		</sql>
	</changeSet>
	
	<changeSet id="205" author="Manoj.P">	
		<sql>
			delete from DATA_ENGINE_COLUMN where TABLEID in (Select ID from DATA_ENGINE_TABLE where CONFIGID in (Select ID from DATA_ENGINE_CONFIG WHERE NAME  = 'DISB_RESPONSE'));
			 delete from DATA_ENGINE_TABLE where CONFIGID in (Select ID from DATA_ENGINE_CONFIG WHERE NAME  = 'DISB_RESPONSE');
			 delete from DATA_ENGINE_CONFIG WHERE NAME  = 'DISB_RESPONSE';
			 delete from SMTPARAMETERS where SYSPARMCODE = 'IS_LDAP_AUTH';
		</sql>
	</changeSet>
	
	<changeSet id="206" author="Manoj.p">
		<dropTable tableName="CIBIL_EMAIL_TYPES_MAPPING"/>
	</changeSet>
	  <changeSet author="Madhubabu" id="148">
	<createView viewName="FinTaxUploadHeader_View"
		replaceIfExists="true">
			SELECT T1.BatchReference, T1.FileName, T1.NumberofRecords,T1.BatchCreatedDate,T1.BatchApprovedDate,T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,
           T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadHeader_Temp T1
   UNION ALL 
  select T1.BatchReference, T1.FileName, T1.NumberofRecords,T1.BatchCreatedDate,T1.BatchApprovedDate,T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,
           T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WORKFLOWID 
     FROM FinTaxUploadHeader T1
     WHERE NOT EXISTS ( SELECT 1 
                        FROM FinTaxUploadHeader_Temp 
                          WHERE BatchReference = T1.BatchReference )
                          
		</createView>
</changeSet>
 <changeSet author="Madhubabu" id="149">
	<createView viewName="FinTaxUploadHeader_TView"
		replaceIfExists="true">
			SELECT T1.BatchReference, T1.FileName, T1.NumberofRecords,T1.BatchCreatedDate,T1.BatchApprovedDate,T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,
           T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadHeader_Temp T1
		</createView>
</changeSet>
 <changeSet author="Madhubabu" id="150">
	<createView viewName="FinTaxUploadHeader_AView"
		replaceIfExists="true">
			SELECT T1.BatchReference, T1.FileName, T1.NumberofRecords,T1.BatchCreatedDate,T1.BatchApprovedDate,T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,
           T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadHeader T1
		</createView>
</changeSet>

<changeSet author="Madhubabu" id="160">
	<createView viewName="FinTaxUploadDetail_View"
		replaceIfExists="true">
			SELECT T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail_Temp T1
   UNION ALL 
  select  T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail T1
     WHERE NOT EXISTS ( SELECT 1 
                        FROM FinTaxUploadDetail_Temp 
                          WHERE AggrementNo = T1.AggrementNo )
		</createView>
</changeSet>	
<changeSet author="Madhubabu" id="157">
	<createView viewName="FinTaxUploadDetail_TView"
		replaceIfExists="true">
			SELECT T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail_Temp T1
  
		</createView>
</changeSet>	
<changeSet author="Madhubabu" id="158">
	<createView viewName="FinTaxUploadDetail_AView"
		replaceIfExists="true">
			SELECT T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail T1
  
		</createView>
</changeSet>	
 <changeSet author="Madhubabu" id="159">
	<createView viewName="FinTaxUploadHeader_View"
		replaceIfExists="true">
			SELECT T1.BatchReference, T1.FileName, T1.NumberofRecords,T1.BatchCreatedDate,T1.BatchApprovedDate,T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,
           T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadHeader_Temp T1
   UNION ALL 
  select T1.BatchReference, T1.FileName, T1.NumberofRecords,T1.BatchCreatedDate,T1.BatchApprovedDate,T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,
           T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WORKFLOWID 
     FROM FinTaxUploadHeader T1
     WHERE NOT EXISTS ( SELECT 1 
                        FROM FinTaxUploadHeader_Temp 
                          WHERE BatchReference = T1.BatchReference )
                          
		</createView>
</changeSet>

	<changeSet id="160" author="Kesav">
		<sql>
			Delete from ErrorDetails where errorCode = '65021';
			INSERT INTO ErrorDetails VALUES('65021','EN','E','Customer CIF: {0} should not available in Co-Applicant Details.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
			
			Delete from ErrorDetails where errorCode = '65022';
			INSERT INTO ErrorDetails VALUES('65022','EN','E','Customer CIF: {0} should not available in Guarantors Details.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>


	<changeSet id="161" author="Durgaprasad G">
	<createView viewName="PRESENTMENTHEADER_AVIEW"
		replaceIfExists="true">
			SELECT		T1.ID, T1.REFERENCE, T1.PRESENTMENTDATE, T1.PARTNERBANKID, T1.FROMDATE, T1.TODATE, T1.STATUS, T1.MANDATETYPE, T1.LOANTYPE, T1.FINBRANCH, T1.SCHDATE		
						, T1.VERSION , T1.LASTMNTBY, T1.LASTMNTON,T1.RECORDSTATUS, T1.ROLECODE, T1.NEXTROLECODE, T1.TASKID, T1.NEXTTASKID, T1.RECORDTYPE, T1.WORKFLOWID, 
            T1.DBSTATUSID, T2.PARTNERBANKNAME, T2.PARTNERBANKCODE, T2.ACCOUNTNO PARTNERACCTNUMBER,T2.ACTYPE PARTNERACCTTYPE,
            T1.IMPORTSTATUSID, T1.TOTALRECORDS,T1.PROCESSEDRECORDS,T1.SUCCESSRECORDS,T1.FAILEDRECORDS       
			FROM    	PRESENTMENTHEADER  T1 LEFT JOIN PARTNERBANKS T2 ON T1.PARTNERBANKID = T2.PARTNERBANKID
	</createView>
	<createView viewName="PRESENTMENTHEADER_VIEW" replaceIfExists="true">
		  SELECT		T1.ID, T1.REFERENCE, T1.PRESENTMENTDATE, T1.PARTNERBANKID, T1.FROMDATE, T1.TODATE, T1.STATUS, T1.MANDATETYPE, T1.LOANTYPE, T1.FINBRANCH, T1.SCHDATE		
						, T1.VERSION , T1.LASTMNTBY, T1.LASTMNTON,T1.RECORDSTATUS, T1.ROLECODE, T1.NEXTROLECODE, T1.TASKID, T1.NEXTTASKID, T1.RECORDTYPE, T1.WORKFLOWID, T1.DBSTATUSID,
			      T2.PARTNERBANKNAME, T2.PARTNERBANKCODE,  T2.ACCOUNTNO PARTNERACCTNUMBER,T2.ACTYPE PARTNERACCTTYPE,
						T1.ImportStatusId,T1.TotalRecords,T1.ProcessedRecords,T1.SuccessRecords,T1.FailedRecords 
			FROM    	PresentmentHeader_Temp T1 LEFT JOIN PARTNERBANKS T2 ON T1.PartnerBankId = T2.PartnerBankId
			UNION ALL
			
			SELECT		T1.ID, T1.REFERENCE, T1.PRESENTMENTDATE, T1.PARTNERBANKID, T1.FROMDATE, T1.TODATE, T1.STATUS, T1.MANDATETYPE, T1.LOANTYPE, T1.FINBRANCH, T1.SCHDATE		
						, T1.VERSION , T1.LASTMNTBY, T1.LASTMNTON,T1.RECORDSTATUS, T1.ROLECODE, T1.NEXTROLECODE, T1.TASKID, T1.NEXTTASKID, T1.RECORDTYPE, T1.WORKFLOWID,
			      T1.DBSTATUSID, T2.PARTNERBANKNAME, T2.PARTNERBANKCODE,  T2.ACCOUNTNO PARTNERACCTNUMBER,T2.ACTYPE PARTNERACCTTYPE,
						T1.ImportStatusId,T1.TotalRecords,T1.ProcessedRecords,T1.SuccessRecords,T1.FailedRecords 
			FROM    	PRESENTMENTHEADER T1 LEFT JOIN PARTNERBANKS T2 ON T1.PARTNERBANKID = T2.PARTNERBANKID
			WHERE     NOT EXISTS (SELECT 1 FROM PRESENTMENTHEADER_TEMP WHERE ID = T1.ID)
		</createView>
</changeSet>
 <changeSet author="Madhubabu" id="208">
	<createView viewName="FinTaxUploadHeader_View"
		replaceIfExists="true">
			  SELECT T1.BatchReference, T1.FileName, T1.NumberofRecords,T1.BatchCreatedDate,T1.BatchApprovedDate,T1.Status,T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,
           T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadHeader_Temp T1
   UNION ALL 
  select T1.BatchReference, T1.FileName, T1.NumberofRecords,T1.BatchCreatedDate,T1.BatchApprovedDate,T1.Status,T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,
           T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WORKFLOWID 
     FROM FinTaxUploadHeader T1
     WHERE NOT EXISTS ( SELECT 1 
                        FROM FinTaxUploadHeader_Temp 
                          WHERE BatchReference = T1.BatchReference )
		</createView>
</changeSet>
 <changeSet author="Madhubabu" id="209">
	<createView viewName="FinTaxUploadHeader_TView"
		replaceIfExists="true">
			 SELECT T1.BatchReference, T1.FileName, T1.NumberofRecords,T1.BatchCreatedDate,T1.BatchApprovedDate,T1.Status,T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,
           T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadHeader_Temp T1
		</createView>
</changeSet>
 <changeSet author="Madhubabu" id="210">
	<createView viewName="FINTAXUPLOADHEADER_AVIEW"
		replaceIfExists="true">
			 SELECT T1.BatchReference, T1.FileName, T1.NumberofRecords,T1.BatchCreatedDate,T1.BatchApprovedDate,T1.Status,T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,
           T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadHeader_Temp T1
		</createView>
</changeSet>
 <changeSet author="Madhubabu" id="211">
	<createView viewName="FINTAXUPLOADDETAIL_AVIEW"
		replaceIfExists="true">
			SELECT T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail T1
		</createView>
</changeSet>
 <changeSet author="Madhubabu" id="212">
	<createView viewName="FINTAXUPLOADDETAIL_TVIEW"
		replaceIfExists="true">
			 SELECT T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail_Temp T1
		</createView>
</changeSet>
 <changeSet author="Madhubabu" id="213">
	<createView viewName="FINTAXUPLOADDETAIL_VIEW"
		replaceIfExists="true">
			 SELECT T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail_Temp T1
   UNION ALL 
  select  T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail T1
     WHERE NOT EXISTS ( SELECT 1 
                        FROM FinTaxUploadDetail_Temp 
                          WHERE AggrementNo = T1.AggrementNo )
		</createView>
</changeSet>

<changeSet id="162" author="Durgaprasad G">
	  <dropTable tableName="TAXDOWNLOADDETAIL" />
    </changeSet>

	<changeSet id="163" author="Durgaprasad G">
	<createTable tableName="TAXDOWNLOADDETAIL">
		<column name="HEADERID" type="bigint">
			<constraints nullable="false" />
		</column>
		<column name="TRANSACTION_DATE" type="datetime" />
		<column name="HOST_SYSTEM_TRANSACTION_ID" type="varchar(20)" />
		<column name="TRANSACTION_TYPE" type="varchar(50)" />
		<column name="BUSINESS_AREA" type="varchar(2)" />
		<column name="SOURCE_SYSTEM" type="varchar(20)" />
		<column name="COMPANY_CODE" type="varchar(50)" />
		<column name="CUSTOMER_NAME" type="varchar(300)" />
		<column name="REGISTERED_CUSTOMER" type="varchar(1)" />
		<column name="CUSTOMER_ID" type="number(8)" />
		<column name="CUSTOMER_GSTIN" type="varchar(30)" />
		<column name="CUSTOMER_ADDRESS" type="varchar(500)" />
		<column name="CUSTOMER_STATE_CODE" type="varchar(2)" />
		<column name="ADDRESS_CHANGE_DATE" type="datetime" />
		<column name="PAN_NO" type="varchar(30)" />
		<column name="LEDGER_CODE" type="varchar(20)" />
		<column name="HSN_SAC_CODE" type="varchar(50)" />
		<column name="NATURE_OF_SERVICE" type="varchar(20)" />
		<column name="LOAN_ACCOUNT_NO" type="varchar(20)" />
		<column name="PRODUCT_CODE" type="varchar(8)" />
		<column name="CHARGE_CODE" type="number(8)" />
		<column name="LOAN_BRANCH" type="number(8)" />
		<column name="LOAN_BRANCH_STATE" type="varchar(2)" />
		<column name="LOAN_SERVICING_BRANCH" type="varchar(200)" />
		<column name="BFLGSTINNo" type="varchar(30)" />
		<column name="TXN_BRANCH_ADDRESS" type="varchar(500)" />
		<column name="TXN_BRANCH_STATE_CODE" type="varchar(2)" />
		<column name="TRANSACTION_AMOUNT" type="NUMBER(25,2)" />
		<column name="REVERSE_CHARGE_APPLICABLE" type="varchar(1)" />
		<column name="INVOICE_TYPE" type="varchar(1)" />
		<column name="ORIGINAL_INVOICE_NO" type="varchar(16)" />
	</createTable>
</changeSet>
	<changeSet id="214" author="manoj" dbms="oracle">
		<createView viewName="DE_TRAIL_BALANCE_REPORT_VIEW" replaceIfExists="true">
		  SELECT HEADERID,
		  ACTYPEGRPID,
		  HOSTACCOUNT,
		  DESCRIPTION,
		   UDF_CONVERTCURRENCY(OPENINGBAL, TBH.CURRENCY, 'INR') OPENINGBAL,
		  OPENINGBALTYPE,
		  UDF_CONVERTCURRENCY(DEBITAMOUNT, TBH.CURRENCY, 'INR') DEBITAMOUNT,
		  UDF_CONVERTCURRENCY(CREDITAMOUNT, TBH.CURRENCY, 'INR') CREDITAMOUNT,
		  UDF_CONVERTCURRENCY(CLOSINGBAL, TBH.CURRENCY, 'INR') CLOSINGBAL,
		  CLOSINGBALTYPE
		FROM TRAIL_BALANCE_REPORT TBR
		INNER JOIN TRAIL_BALANCE_HEADER TBH ON TBH.ID = TBR.HEADERID
		</createView>
	</changeSet>
<!-- 	<changeSet id="214" author="manoj" dbms="mssql">
		<createView viewName="DE_TRAIL_BALANCE_REPORT_VIEW" replaceIfExists="true">
		  SELECT HEADERID,
		  ACTYPEGRPID,
		  HOSTACCOUNT,
		  DESCRIPTION,
		   UDF_CONVERTCURRENCY(OPENINGBAL, TBH.CURRENCY, 'INR') OPENINGBAL,
		  OPENINGBALTYPE,
		  UDF_CONVERTCURRENCY(DEBITAMOUNT, TBH.CURRENCY, 'INR') DEBITAMOUNT,
		  UDF_CONVERTCURRENCY(CREDITAMOUNT, TBH.CURRENCY, 'INR') CREDITAMOUNT,
		  UDF_CONVERTCURRENCY(CLOSINGBAL, TBH.CURRENCY, 'INR') CLOSINGBAL,
		  CLOSINGBALTYPE
		FROM TRAIL_BALANCE_REPORT TBR
		INNER JOIN TRAIL_BALANCE_HEADER TBH ON TBH.ID = TBR.HEADERID
		</createView>
	</changeSet> -->
	<changeSet id="215" author="manoj">
		<sql>
			UPDATE DATA_ENGINE_TABLE SET NAME = 'DE_TRAIL_BALANCE_REPORT_VIEW' WHERE NAME ='TRAIL_BALANCE_REPORT_VIEW';
		</sql>
	</changeSet>
	
	<changeSet id="215" author="Durgaprasad.g">
	<addColumn tableName="TAXDOWNLOADDETAIL">
	 <column name="BFL_GSTIN_NO" type="VARCHAR(30)"/>
	</addColumn>
	</changeSet>
	
	<changeSet id="216" author="Durgaprasad g">
	 <createView viewName="TAXDOWNLOADDETAIL_VIEW" replaceIfExists="true">
				 SELECT T1.POSTDATE,
			T1.LINKEDTRANID, T1.TRANSORDER,
			T1.FINEVENT,
			T5.ENTITYCODE ,
			T6.TAXNUMBER TAXNUMBER,
			T2.CUSTID CUSTID,
			T7.CUSTSHRTNAME  ,
			T6.TAXNUMBER CUSTOMERGSTIN ,
			T6.ADDRLINE1,
			T6.ADDRLINE2,
			T6.ADDRLINE3,
			T6.ADDRLINE4,
			T6.COUNTRY, 
			T6.PROVINCE, 
			T6.CITY, 
			T6.PINCODE,
			T6.LASTMNTON, 
			T7.CUSTCRCPR, 
			T1.ACCOUNT,
			T9.ACCADDLVAR1 HSNSACCODE, 
			T9.ACCADDLVAR1 NATUREOFSERVICE,
			T1.FINREFERENCE ,
			T2.FINTYPE,
			T2.FINBRANCH ,
			T11.CPPROVINCE, 
			T1.USERBRANCH, 
			T12.ADDRESSLINE1,
			T12.ADDRESSLINE2,
			T12.ADDRESSLINE3,
			T12.ADDRESSLINE4,
			T12.CITYCODE TAXCITYCODE,
			T12.STATECODE TAXSTATECODE,
			T12.COUNTRY TAXCOUNTRY,
			T12.PINCODE TAXPINCODE,
			T12.TAXCODE,
			T10.BRANCHADDRHNBR,              
			T10.BRANCHFLATNBR,              
			T10.BRANCHADDRSTREET,
			T10.BRANCHADDRLINE1,
			T10.BRANCHADDRLINE2,
			T10.BRANCHPOBOX,   
			T10.BRANCHCITY,
			T10.BRANCHPROVINCE,
			T10.BRANCHCOUNTRY,     
			T10.PINCODE BRANCHPINCODE,
			T1.POSTAMOUNT, 
			'' REVERSECHARGEAPPLICABLE,
			T1.POSTSTATUS STATUS, 
			'' ORIGINALINVOICENO,
			T13.CCYMINORCCYUNITS
			FROM POSTINGS_TAXDOWNLOAD T1 
			INNER JOIN FINANCEMAIN T2 ON T1.FINREFERENCE = T2.FINREFERENCE 
			INNER JOIN RMTFINANCETYPES T3 ON T2.FINTYPE = T3.FINTYPE 
			INNER JOIN SMTDIVISIONDETAIL T4 ON T3.FINDIVISION = T4.DIVISIONCODE
			INNER JOIN ENTITIES T5 ON T5.ENTITYCODE = T4.ENTITYCODE
			LEFT JOIN FINTAXDETAIL T6 ON T6.FINREFERENCE = T1.FINREFERENCE 
			INNER JOIN CUSTOMERS T7 ON T7.CUSTID = T2.CUSTID
			INNER JOIN RMTACCOUNTTYPES T9 ON T9.ACTYPE = T1.ACCOUNTTYPE 
			INNER JOIN RMTBRANCHES T10 ON T10.BRANCHCODE = T2.FINBRANCH 
			INNER JOIN RMTCOUNTRYVSPROVINCE T11 ON T11.CPPROVINCE =  T10.BRANCHPROVINCE
			INNER JOIN TAXDETAIL T12 ON T10.BRANCHPROVINCE = T12.STATECODE AND T5.ENTITYCODE = T12.ENTITYCODE
			INNER JOIN RMTCURRENCIES T13 ON T13.CCYCODE = T1.ACCCY
	 </createView>
	
	</changeSet>
	
	
	<changeSet id="217" author="Manoj">
		<addColumn tableName="CIBIL_FILE_INFO">
				<column defaultValueNumeric="0" name="TotalRecords" type="int">
				<constraints nullable="false"/>
			</column>
			<column defaultValueNumeric="0" name="ProcessedRecords" type="int">
				<constraints nullable="false"/>
			</column>
			<column defaultValueNumeric="0" name="SuccessRecords" type="int">
				<constraints nullable="false"/>
			</column>
			<column defaultValueNumeric="0" name="FailedRecords" type="int">
				<constraints nullable="false"/>
			</column>
			<column name="EndTime" type="datetime"/>
			<column name="Remarks" type="varchar(2000)"/>
		</addColumn>
	</changeSet>
	
	
	<changeSet id="218" author="Manoj.P">
		<createTable tableName="CIBIL_FILE_INFO_LOG">
			<column name="ID" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="FINREFERENCE" type="VARCHAR(20)">
				<constraints nullable="false" />
			</column>
			<column name="REASON" type="VARCHAR(3000)">
			</column>
		</createTable>
	</changeSet>
	
		<changeSet id="219" author="Manoj.P">
		<addForeignKeyConstraint constraintName="FK_CBIL_ID"
			referencedTableName="CIBIL_FILE_INFO" referencedColumnNames="ID"
			baseTableName="CIBIL_FILE_INFO_LOG" baseColumnNames="ID" />
	</changeSet>
	
	<changeSet id="220" author="Kesav">
		<sql>
			Delete From RBFIELDDETAILS where RBMODULE = 'BOUNCE' And RBEVENT = 'BOUNCE';
			
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_bounceCode','Bounce Code','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_reasonType','Reason Type','bigint',9,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_reason','Bounce Reason','nvarchar',50,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_returnCode','Return Code','nvarchar',8,'0','1',' ','static,global',' ');
			
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_receiptType','Receipt Type','nchar',1,'0','1','  ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_paymentType','Payment Type','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_bankCode','Bank Code','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_partnerBankAc','Partner Bank Account Number','nvarchar',50,'0','1',' ','static,global',' ');
		</sql>
	</changeSet>
	
	<changeSet id="221" author="Kesav">
		<sql>
			Delete from Rules where RuleModule = 'BOUNCE';
			Delete from Rules_Temp where RuleModule = 'BOUNCE';
		</sql>
	</changeSet>
	
	<changeSet id="222" author="Kesav">
		<sql>
			Delete From RBFIELDDETAILS where RBMODULE = 'BOUNCE' And RBEVENT = 'BOUNCE';
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_bounceCode','Bounce Code','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_reasonType','Reason Type','bigint',9,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_reason','Bounce Reason','nvarchar',50,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_returnCode','Return Code','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_category','Category','int',18,'0','0',' ','static,global',' ');
			
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_receiptType','Receipt Type','nchar',1,'0','1','  ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_paymentType','Payment Type','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_bankCode','Bank Code','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_partnerBankAc','Partner Bank Account Number','nvarchar',50,'0','1',' ','static,global',' ');
		</sql>
	</changeSet>
	
	<changeSet id="223" author="Kesav">
		<sql>
			Delete From RBFIELDDETAILS where RBMODULE = 'BOUNCE' And RBEVENT = 'BOUNCE';
			
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_bounceCode','Bounce Code','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_reasonType','Reason Type','bigint',9,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_reason','Bounce Reason','nvarchar',50,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_returnCode','Return Code','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_category','Category','int',18,'0','0',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','br_categoryDesc','Category Description','nvarchar',50,'0','1',' ','static,global',' ');
			
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_receiptType','Receipt Type','nchar',1,'0','1','  ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_paymentType','Payment Type','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_bankCode','Bank Code','nvarchar',8,'0','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('BOUNCE','BOUNCE','rd_partnerBankAc','Partner Bank Account Number','nvarchar',50,'0','1',' ','static,global',' ');
		</sql>
	</changeSet>
	
	<changeSet id="224" author="Manoj.P">
		<createView viewName="TRAIL_BALANCE_REPORT_VIEW" replaceIfExists="true">
			SELECT ATG.GROUPCODE,
		    AM.HOSTACCOUNT HOSTACCOUNT,
		    AT.ACTYPEDESC DESCRIPTION,
		    ABS(COALESCE(LR.CLOSINGBAL, 0)) OPENINGBAL,
		    COALESCE(LR.CLOSINGBALTYPE, ' ') OPENINGBALTYPE,
		    ABS(TODAYDEBITS) DEBITAMOUNT,
		    ABS(TODAYCREDITS) CREDITAMOUNT,
		    ABS(COALESCE(AH.TODAYNET, 0)) CLOSINGBAL,
		    CASE
		      WHEN AH.TODAYNET >= 0
		      THEN 'Dr'
		      ELSE 'Cr'
		    END CR_DR
		    FROM
		    (SELECT ACCOUNTID,
		      SUM(TODAYDEBITS) TODAYDEBITS,
		      SUM(TODAYCREDITS) TODAYCREDITS,
		      SUM(TODAYNET) TODAYNET
		    FROM ACCOUNTSHISTORY AH
		    GROUP BY ACCOUNTID
		    ) AH
		   INNER JOIN ACCOUNTMAPPING AM  ON AM.ACCOUNT = AH.ACCOUNTID
		   INNER JOIN RMTACCOUNTTYPES AT   ON AT.ACTYPE = AM.ACCOUNTTYPE
		   INNER JOIN ACCOUNTTYPEGROUP ATG   ON ATG.GROUPID = AT.ACTYPEGRPID
		   LEFT JOIN TRAIL_BALANCE_REPORT_LAST_RUN LR   ON LR.ACTYPEGRPID  = ATG.GROUPCODE   AND LR.HOSTACCOUNT = AM.HOSTACCOUNT
		</createView>
	</changeSet>
	<changeSet id="225" author="Jayant">
	    <sql>
	        Insert into REPORTLIST values ('FinanceTaxDetail','FinanceTaxDetail','label_FinanceTaxDetailList_FinReference.value,listheader_ApplicableFor.label,listheader_TaxExempted.label,listheader_TaxNumber.label,listheader_City.label,listheader_PinCode.label','finReference,applicableFor,taxExempted,taxNumber,city,pinCode','String,String,boolean,String,String,String',' ','ReportList06_LoanGST','Loan GST Detail','Loan Management',2,1001,current_timestamp,'Approved',' ',' ',' ',' ',' ',0,0);

			Insert into REPORTLIST values ('FinTaxUploadHeader','FinTaxUploadHeader','listheader_BatchReference.label,listheader_FileName.label,listheader_BatchCreatedDate.label,listheader_NumberOfRecords.label,listheader_FileStatus.label','batchReference,fileName,batchCreatedDate,numberofRecords,status','long,String,Date,long,String',' ','ReportList05','GST Upload','Loan Management',2,1001,current_timestamp,'Approved',' ',' ',' ',' ',' ',0,0);
	        
	    </sql>
	</changeSet>
	
	<changeSet id="226" author="Kesav">
		<createView viewName="MANUALADVISE_LVIEW" replaceIfExists="true">
			SELECT		T1.AdviseID, T1.AdviseType, T1.FinReference, T1.FeeTypeID, T1.Sequence,
			  			T1.AdviseAmount, T1.PaidAmount, T1.WaivedAmount, T1.Remarks, T1.ValueDate, T1.PostDate,
			 			T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
			          	T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.FeeTypeDesc, T2.FeeTypeCode, T1.BounceID, T1.ReceiptID,T3.BOUNCECODE, T1.ReservedAmt, T1.BalanceAmt
			FROM    	ManualAdvise  T1
			INNER JOIN  FEETYPES T2 ON T1.FeeTypeID = T2.FeeTypeID
			LEFT JOIN  BOUNCEREASONS T3 ON T1.BounceID = T3.BOUNCEID
		</createView>
	</changeSet>
	<changeSet id="227" author="Jayant">
	    <sql>
	        Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from reportconfiguration),'Presentment Details','Presentment Details',1,'Presentment','pfsDatasource',1,'menu_Item_Presentment',2,1005,null,null,null,null,null,null,0,current_timestamp,0);
 			Insert into REPORTFILTERFIELDS values ((select reportid from reportconfiguration where menuitemcode='menu_Item_Presentment'),1,'FinReference','LOVSEARCH','Loan Reference','FINREFERENCE',null,'FinanceMain','getFinReference','getFinReference',0,0,0,0,1,1,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp);
 			Insert into REPORTFILTERFIELDS values ((select reportid from reportconfiguration where menuitemcode='menu_Item_Presentment'),2,'Finance Status','STATICLIST','Loan Status','STATUS','getPresentmentsStatusList',null,null,null,0,0,0,0,2,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp);
	    </sql> 
	</changeSet>
	<changeSet id="228" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":639,"properties":{"process_id":"RECEIPT_PROCESS","name":"Receipt Workflow Process","documentation":"Receipt Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-1A2E482C-719D-41EA-B0FE-E65632AF6E1E"}],"bounds":{"lowerRight":{"x":45,"y":293},"upperLeft":{"x":15,"y":263}},"dockers":[]},{"resourceId":"sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE","properties":{"overrideid":"","name":"Receipt Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"RECEIPT_MAKER","firstName":"RECEIPT_MAKER","fullName":"RECEIPT_MAKER","id":"RECEIPT_MAKER","roledesc":"Receipt Maker","$$hashKey":"object:1619"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE23F595-73C2-47DB-A31B-CD758E49AA68"},{"resourceId":"sid-6C41A0AB-DBE3-4EDB-B674-AFF127DB0548"}],"bounds":{"lowerRight":{"x":175,"y":318},"upperLeft":{"x":75,"y":238}},"dockers":[]},{"resourceId":"sid-1A2E482C-719D-41EA-B0FE-E65632AF6E1E","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE"}],"bounds":{"lowerRight":{"x":74.2734375,"y":278},"upperLeft":{"x":45.84375,"y":278}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE"}},{"resourceId":"sid-5C4B46F9-6C61-4C8C-98C8-CC81C72B618A","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-6BF26389-B381-4950-9B81-6B52AB90EA18"},{"resourceId":"sid-6CCDF610-430F-4A2F-8A50-FB551150F050"}],"bounds":{"lowerRight":{"x":385,"y":298},"upperLeft":{"x":345,"y":258}},"dockers":[]},{"resourceId":"sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421","properties":{"overrideid":"","name":"Receipt Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"RECEIPT_APPROVER","firstName":"RECEIPT_APPROVER","fullName":"RECEIPT_APPROVER","id":"RECEIPT_APPROVER","roledesc":"Receipt Approver","$$hashKey":"object:7717"}}}},"additionalforms":"Accounting","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-729F80E4-7F36-4EA2-BB13-6DA473946766"}],"bounds":{"lowerRight":{"x":640,"y":318},"upperLeft":{"x":540,"y":238}},"dockers":[]},{"resourceId":"sid-BD6333A4-9B0F-4A69-8EAD-041C9D122A28","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-5282CF49-8005-4720-8393-3A287EE7B387"},{"resourceId":"sid-1D5BDDF0-B122-424E-95CD-A80D394BE48E"},{"resourceId":"sid-5BB54BDC-C45D-419B-BDB6-65AD7E027278"}],"bounds":{"lowerRight":{"x":725,"y":298},"upperLeft":{"x":685,"y":258}},"dockers":[]},{"resourceId":"sid-729F80E4-7F36-4EA2-BB13-6DA473946766","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-BD6333A4-9B0F-4A69-8EAD-041C9D122A28"}],"bounds":{"lowerRight":{"x":684.6484468700075,"y":278.4097335362338},"upperLeft":{"x":640.6288968799924,"y":278.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-BD6333A4-9B0F-4A69-8EAD-041C9D122A28"}},{"resourceId":"sid-5835B827-EFE9-4A09-953F-2B5BF785F70D","properties":{"overrideid":"","name":"Complete Process","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-571AC00A-AA66-4680-8DF5-6CC2D14BEC9D"}],"bounds":{"lowerRight":{"x":1043.1376227529158,"y":318},"upperLeft":{"x":943.1376227529157,"y":238}},"dockers":[]},{"resourceId":"sid-06C0D840-5E36-431B-9A20-FAC8068B9576","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1213.1851816966645,"y":292},"upperLeft":{"x":1185.1851816966645,"y":264}},"dockers":[]},{"resourceId":"sid-571AC00A-AA66-4680-8DF5-6CC2D14BEC9D","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-06C0D840-5E36-431B-9A20-FAC8068B9576"}],"bounds":{"lowerRight":{"x":1184.7373091737567,"y":277.4898191090789},"upperLeft":{"x":1043.2466411017235,"y":276.0492433909211}},"dockers":[{"x":50.00000000000006,"y":40},{"x":4.3887217579338085,"y":12}],"target":{"resourceId":"sid-06C0D840-5E36-431B-9A20-FAC8068B9576"}},{"resourceId":"sid-97820128-FC8F-4757-A019-23AAA4496CFF","properties":{"overrideid":"","name":"Cancel Process","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-00270A51-C826-47EC-9DB6-3815E62928A8"}],"bounds":{"lowerRight":{"x":145,"y":459},"upperLeft":{"x":45,"y":379}},"dockers":[]},{"resourceId":"sid-B9D7A4B0-9C41-4279-847D-0A4E2DF3C976","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":109,"y":518},"upperLeft":{"x":81,"y":490}},"dockers":[]},{"resourceId":"sid-00270A51-C826-47EC-9DB6-3815E62928A8","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B9D7A4B0-9C41-4279-847D-0A4E2DF3C976"}],"bounds":{"lowerRight":{"x":95,"y":489.71875},"upperLeft":{"x":95,"y":459.84375}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B9D7A4B0-9C41-4279-847D-0A4E2DF3C976"}},{"resourceId":"sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA","properties":{"overrideid":"","name":"Deposit Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"DEPOSIT_MAKER","firstName":"DEPOSIT_MAKER","fullName":"DEPOSIT_MAKER","id":"DEPOSIT_MAKER","roledesc":"Deposit Maker","$$hashKey":"object:3427"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-251622D5-60CD-4462-853B-0CA76F1C00CA"},{"resourceId":"sid-9FA14375-6043-4220-859D-D7CBB5886D3A"},{"resourceId":"sid-BBA89B8A-1B46-488F-B974-9F4CE854FD54"}],"bounds":{"lowerRight":{"x":530.671875,"y":555},"upperLeft":{"x":430.671875,"y":475}},"dockers":[]},{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79","properties":{"overrideid":"","name":"Cancel Process","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-96E10B61-C512-4616-B570-2BB07CF50B42"}],"bounds":{"lowerRight":{"x":755,"y":435},"upperLeft":{"x":655,"y":355}},"dockers":[]},{"resourceId":"sid-5BB54BDC-C45D-419B-BDB6-65AD7E027278","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79"}],"bounds":{"lowerRight":{"x":705.4136769440337,"y":354.86329045984166},"upperLeft":{"x":705.1722605559663,"y":298.61327204015833}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79"}},{"resourceId":"sid-BC619109-F403-407C-8835-898ECFE6A89D","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":628,"y":458},"upperLeft":{"x":600,"y":430}},"dockers":[]},{"resourceId":"sid-96E10B61-C512-4616-B570-2BB07CF50B42","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-BC619109-F403-407C-8835-898ECFE6A89D"}],"bounds":{"lowerRight":{"x":705,"y":444},"upperLeft":{"x":628.5078125,"y":435.8125}},"dockers":[{"x":50,"y":40},{"x":705,"y":444},{"x":14,"y":14}],"target":{"resourceId":"sid-BC619109-F403-407C-8835-898ECFE6A89D"}},{"resourceId":"sid-A1774BE8-3BC9-4249-91CC-70326C5A97FD","properties":{"overrideid":"","name":"Deposit Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"DEPOSIT_APPROVER","firstName":"DEPOSIT_APPROVER","fullName":"DEPOSIT_APPROVER","id":"DEPOSIT_APPROVER","roledesc":"Deposit Approver","$$hashKey":"object:5410"}}}},"additionalforms":"Accounting","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-16DEB222-85FD-493B-8758-58D7F30F52B2"}],"bounds":{"lowerRight":{"x":755,"y":555},"upperLeft":{"x":655,"y":475}},"dockers":[]},{"resourceId":"sid-4AF375DC-C759-4D43-9D3D-90D9AE341C9A","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-AA6AD459-714D-4BFC-BA5E-5B5002D8172E"},{"resourceId":"sid-9275378A-8131-43D4-9205-BD3B1A46F2CF"},{"resourceId":"sid-89BE2B42-2EEB-40D8-8CD9-C9517338BADE"}],"bounds":{"lowerRight":{"x":895,"y":545},"upperLeft":{"x":855,"y":505}},"dockers":[]},{"resourceId":"sid-16DEB222-85FD-493B-8758-58D7F30F52B2","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-4AF375DC-C759-4D43-9D3D-90D9AE341C9A"}],"bounds":{"lowerRight":{"x":854.07421875,"y":525.5},"upperLeft":{"x":755.890625,"y":525.5}},"dockers":[{"x":96,"y":50.5},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-4AF375DC-C759-4D43-9D3D-90D9AE341C9A"}},{"resourceId":"sid-AA6AD459-714D-4BFC-BA5E-5B5002D8172E","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6CD1606-BB13-4E94-971D-F008B8448629"}],"bounds":{"lowerRight":{"x":963.0625,"y":525.5},"upperLeft":{"x":895.234375,"y":525.5}},"dockers":[{"x":20.5,"y":20.5},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-B6CD1606-BB13-4E94-971D-F008B8448629"}},{"resourceId":"sid-48838E66-EAAE-4AE3-A7D1-51790A9ED3C8","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-7F9D8CED-2E48-4F8D-9283-AD648885B833"},{"resourceId":"sid-51C50D8C-C174-4198-8DB1-6D9BBDDCA844"}],"bounds":{"lowerRight":{"x":290.6666717529297,"y":298},"upperLeft":{"x":250.6666717529297,"y":258}},"dockers":[]},{"resourceId":"sid-888F5A2E-3E41-49B5-9530-77AA7FC8D402","properties":{"overrideid":"","name":"Waiver Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"RECEIPTWAIVER_APPROVER","firstName":"RECEIPTWAIVER_APPROVER","fullName":"RECEIPTWAIVER_APPROVER","id":"RECEIPTWAIVER_APPROVER","roledesc":"Receipt Waiver Approver","$$hashKey":"object:2924"}}}},"additionalforms":"Accounting","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-560E618D-D129-4705-AD65-AD003A9CA870"},{"resourceId":"sid-1676255A-494A-420A-8BC5-E6B3A8451849"}],"bounds":{"lowerRight":{"x":320.6666717529297,"y":420},"upperLeft":{"x":220.6666717529297,"y":340}},"dockers":[]},{"resourceId":"sid-D8223364-DA35-46E9-BE6C-688046F7F567","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-EB9E7BC6-EA26-4BFF-8F12-9E5365C0FDFD"},{"resourceId":"sid-21AFF249-08A5-4D8B-BBC8-D12F7B751D6D"}],"bounds":{"lowerRight":{"x":290.6666717529297,"y":500},"upperLeft":{"x":250.6666717529297,"y":460}},"dockers":[]},{"resourceId":"sid-B6CD1606-BB13-4E94-971D-F008B8448629","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-E2929D98-E337-49AD-9C31-600AA8997881"},{"resourceId":"sid-08D5A85F-4ED4-443D-B100-3E28FD4A43DC"}],"bounds":{"lowerRight":{"x":1004,"y":545},"upperLeft":{"x":964,"y":505}},"dockers":[]},{"resourceId":"sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B","properties":{"overrideid":"","name":"Realization Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"RECEIPTREALIZE_MAKER","firstName":"RECEIPTREALIZE_MAKER","fullName":"RECEIPTREALIZE_MAKER","id":"RECEIPTREALIZE_MAKER","roledesc":"Receipt Realization Maker","$$hashKey":"object:655"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-63B8F0F0-A369-4605-9BF2-BEAE3B3D2196"},{"resourceId":"sid-2E26A102-314A-48C6-9DDD-3997985FFBBD"},{"resourceId":"sid-9C89F34F-DFA5-4DB7-8B04-1EB9204C8CC6"}],"bounds":{"lowerRight":{"x":1229.6296263046333,"y":565},"upperLeft":{"x":1129.6296263046333,"y":485}},"dockers":[]},{"resourceId":"sid-372D9265-9B9D-4DE6-8169-A9CA3778968C","properties":{"overrideid":"","name":"Realization Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"RECEIPTREALIZE_APPROVER","firstName":"RECEIPTREALIZE_APPROVER","fullName":"RECEIPTREALIZE_APPROVER","id":"RECEIPTREALIZE_APPROVER","roledesc":"Receipt Realization Approver","$$hashKey":"object:1168"}}}},"additionalforms":"Accounting","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-CECF6549-BA65-4173-BB8E-5706FE136149"}],"bounds":{"lowerRight":{"x":1405,"y":565},"upperLeft":{"x":1305,"y":485}},"dockers":[]},{"resourceId":"sid-9081FCDB-0586-406B-B44D-DE7AD3A46435","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-F49B92A5-3575-4A72-A355-501DC1A0C4E4"},{"resourceId":"sid-9260E5C5-F6CC-477D-AFEC-F1E456691827"},{"resourceId":"sid-9527C98C-8FAE-47D4-9191-D53C79591985"}],"bounds":{"lowerRight":{"x":1490,"y":545},"upperLeft":{"x":1450,"y":505}},"dockers":[]},{"resourceId":"sid-9527C98C-8FAE-47D4-9191-D53C79591985","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B"}],"bounds":{"lowerRight":{"x":1470.5,"y":628},"upperLeft":{"x":1179.6296263046333,"y":545.71875}},"dockers":[{"x":20.5,"y":20.5},{"x":1470.5,"y":628},{"x":1179.6296263046333,"y":628},{"x":50,"y":40}],"target":{"resourceId":"sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B"}},{"resourceId":"sid-2E26A102-314A-48C6-9DDD-3997985FFBBD","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79"}],"bounds":{"lowerRight":{"x":1179.6296263046333,"y":484.55170186898493},"upperLeft":{"x":755.6160409024185,"y":398.7654459807517}},"dockers":[{"x":50,"y":40},{"x":1179.6296263046333,"y":398.7654459807517},{"x":85.90592524428257,"y":43.76544598075168}],"target":{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79"}},{"resourceId":"sid-08D5A85F-4ED4-443D-B100-3E28FD4A43DC","properties":{"overrideid":"","name":"Schedule Payment only","repruseaction":false,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.receiptPurpose == 'SchdlRepayment'"}},"defaultflow":"false","action":"","state":"","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5835B827-EFE9-4A09-953F-2B5BF785F70D"}],"bounds":{"lowerRight":{"x":984.5,"y":504.87774142902094},"upperLeft":{"x":984.5,"y":318.68244331644854}},"dockers":[{"x":20.5,"y":20.5},{"x":41.36237724708428,"y":59.16826390133403}],"target":{"resourceId":"sid-5835B827-EFE9-4A09-953F-2B5BF785F70D"}},{"resourceId":"sid-CECF6549-BA65-4173-BB8E-5706FE136149","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-9081FCDB-0586-406B-B44D-DE7AD3A46435"}],"bounds":{"lowerRight":{"x":1449.6484468700075,"y":525.4097335362338},"upperLeft":{"x":1405.6288968799924,"y":525.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-9081FCDB-0586-406B-B44D-DE7AD3A46435"}},{"resourceId":"sid-F49B92A5-3575-4A72-A355-501DC1A0C4E4","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5835B827-EFE9-4A09-953F-2B5BF785F70D"}],"bounds":{"lowerRight":{"x":1553.9158889899583,"y":525.5},"upperLeft":{"x":1020.8042487294783,"y":318.59375}},"dockers":[{"x":20.5,"y":20.5},{"x":1553.9158889899583,"y":525.5},{"x":1553.9158889899583,"y":362},{"x":1020.8042487294783,"y":362},{"x":77.66662597656258,"y":66}],"target":{"resourceId":"sid-5835B827-EFE9-4A09-953F-2B5BF785F70D"}},{"resourceId":"sid-9260E5C5-F6CC-477D-AFEC-F1E456691827","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79"}],"bounds":{"lowerRight":{"x":1470.5,"y":504.6015625},"upperLeft":{"x":755.5997256008646,"y":384}},"dockers":[{"x":20.5,"y":20.5},{"x":1470.5,"y":384},{"x":85.33876395944764,"y":29}],"target":{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79"}},{"resourceId":"sid-63B8F0F0-A369-4605-9BF2-BEAE3B3D2196","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-372D9265-9B9D-4DE6-8169-A9CA3778968C"}],"bounds":{"lowerRight":{"x":1304.677082398178,"y":525},"upperLeft":{"x":1229.9525439064552,"y":525}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-372D9265-9B9D-4DE6-8169-A9CA3778968C"}},{"resourceId":"sid-1676255A-494A-420A-8BC5-E6B3A8451849","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE"}],"bounds":{"lowerRight":{"x":220.2045450537156,"y":363},"upperLeft":{"x":141.6666717529297,"y":318.57194503092103}},"dockers":[{"x":28.1668187631642,"y":23},{"x":141.6666717529297,"y":363},{"x":66.66667175292969,"y":78.85086479331659}],"target":{"resourceId":"sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE"}},{"resourceId":"sid-BBA89B8A-1B46-488F-B974-9F4CE854FD54","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE"}],"bounds":{"lowerRight":{"x":430.4514778530788,"y":551},"upperLeft":{"x":159.38545568337187,"y":318.3753871764626}},"dockers":[{"x":12.99481201171875,"y":76},{"x":159.38545568337187,"y":551},{"x":84.38545568337187,"y":60.64598783617899}],"target":{"resourceId":"sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE"}},{"resourceId":"sid-EB9E7BC6-EA26-4BFF-8F12-9E5365C0FDFD","properties":{"overrideid":"","name":"Cheque / DD","repruseaction":"false","conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE'"}},"defaultflow":"false","action":"","state":"","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA"}],"bounds":{"lowerRight":{"x":430.5754801817418,"y":525.5},"upperLeft":{"x":271.1666717529297,"y":500.484375}},"dockers":[{"x":20.5,"y":20.5},{"x":271.1666717529297,"y":525.5},{"x":27.15231928827467,"y":50.5}],"target":{"resourceId":"sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA"}},{"resourceId":"sid-560E618D-D129-4705-AD65-AD003A9CA870","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-D8223364-DA35-46E9-BE6C-688046F7F567"}],"bounds":{"lowerRight":{"x":271.06404044012225,"y":459.87110612570154},"upperLeft":{"x":270.8669593157371,"y":420.25780012429845}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-D8223364-DA35-46E9-BE6C-688046F7F567"}},{"resourceId":"sid-21AFF249-08A5-4D8B-BBC8-D12F7B751D6D","properties":{"overrideid":"","name":"Others than Cheque && DD","repruseaction":"false","conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.receiptMode != 'DD' && vo.receiptMode != 'CHEQUE'"}},"defaultflow":"false","action":"","state":"","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421"}],"bounds":{"lowerRight":{"x":539.6979370117187,"y":482.4492186299195},"upperLeft":{"x":288.84251086015075,"y":300}},"dockers":[{"x":38.175839107221066,"y":22.449218629919528},{"x":395.66668701171875,"y":482.4492186299195},{"x":395.66668701171875,"y":300},{"x":37.66668701171875,"y":62}],"target":{"resourceId":"sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421"}},{"resourceId":"sid-9275378A-8131-43D4-9205-BD3B1A46F2CF","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79"}],"bounds":{"lowerRight":{"x":875.5,"y":504.89236109680274},"upperLeft":{"x":755.6248224183369,"y":420.92592584961454}},"dockers":[{"x":20.5,"y":20.5},{"x":875.5,"y":420.92592584961454},{"x":88.26048948330856,"y":65.92592584961454}],"target":{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79"}},{"resourceId":"sid-251622D5-60CD-4462-853B-0CA76F1C00CA","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79"}],"bounds":{"lowerRight":{"x":654.92822265625,"y":474.625},"upperLeft":{"x":480.671875,"y":395}},"dockers":[{"x":50,"y":40},{"x":480.671875,"y":395},{"x":50,"y":40}],"target":{"resourceId":"sid-C956496B-C436-4D38-83B0-83BD6FE03B79"}},{"resourceId":"sid-89BE2B42-2EEB-40D8-8CD9-C9517338BADE","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA"}],"bounds":{"lowerRight":{"x":875.5,"y":622},"upperLeft":{"x":480.671875,"y":545.34765625}},"dockers":[{"x":20.5,"y":20.5},{"x":875.5,"y":622},{"x":480.671875,"y":622},{"x":50,"y":40}],"target":{"resourceId":"sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA"}},{"resourceId":"sid-9FA14375-6043-4220-859D-D7CBB5886D3A","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A1774BE8-3BC9-4249-91CC-70326C5A97FD"}],"bounds":{"lowerRight":{"x":654.1585079485584,"y":528},"upperLeft":{"x":531.2098805856933,"y":528}},"dockers":[{"x":45.073219299316406,"y":53},{"x":25.78899561273579,"y":53}],"target":{"resourceId":"sid-A1774BE8-3BC9-4249-91CC-70326C5A97FD"}},{"resourceId":"sid-9C89F34F-DFA5-4DB7-8B04-1EB9204C8CC6","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA"}],"bounds":{"lowerRight":{"x":1168.6666870117187,"y":642},"upperLeft":{"x":480.671875,"y":555.6875}},"dockers":[{"x":39.0370607070854,"y":71.30032632017367},{"x":1168.6666870117187,"y":642},{"x":480.671875,"y":642},{"x":50,"y":40}],"target":{"resourceId":"sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA"}},{"resourceId":"sid-E2929D98-E337-49AD-9C31-600AA8997881","properties":{"overrideid":"","name":"Partial Settlement or Early settlement","repruseaction":"false","conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.receiptPurpose != 'SchdlRepayment'"}},"defaultflow":"false","action":"","state":"","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B"}],"bounds":{"lowerRight":{"x":1129.38103718794,"y":525.5},"upperLeft":{"x":1004.6948733142026,"y":525.5}},"dockers":[{"x":20.5,"y":20.5},{"x":18.6666259765625,"y":40.5}],"target":{"resourceId":"sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B"}},{"resourceId":"sid-FE23F595-73C2-47DB-A31B-CD758E49AA68","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-48838E66-EAAE-4AE3-A7D1-51790A9ED3C8"}],"bounds":{"lowerRight":{"x":250.18295294993115,"y":278.42821989256737},"upperLeft":{"x":175.1028604412775,"y":278.17138948243263}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-48838E66-EAAE-4AE3-A7D1-51790A9ED3C8"}},{"resourceId":"sid-5282CF49-8005-4720-8393-3A287EE7B387","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE"}],"bounds":{"lowerRight":{"x":705.5,"y":257.34375},"upperLeft":{"x":125,"y":171}},"dockers":[{"x":20.5,"y":20.5},{"x":705.5,"y":171},{"x":125,"y":171},{"x":50,"y":40}],"target":{"resourceId":"sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE"}},{"resourceId":"sid-1D5BDDF0-B122-424E-95CD-A80D394BE48E","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5835B827-EFE9-4A09-953F-2B5BF785F70D"}],"bounds":{"lowerRight":{"x":942.6999078530955,"y":278.4650585792938},"upperLeft":{"x":725.6009343750986,"y":278.0876757957062}},"dockers":[{"x":20.5,"y":20.5},{"x":50.00000000000006,"y":40}],"target":{"resourceId":"sid-5835B827-EFE9-4A09-953F-2B5BF785F70D"}},{"resourceId":"sid-6C41A0AB-DBE3-4EDB-B674-AFF127DB0548","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-97820128-FC8F-4757-A019-23AAA4496CFF"}],"bounds":{"lowerRight":{"x":95,"y":378.685909786906},"upperLeft":{"x":95,"y":318.5147903801528}},"dockers":[{"x":20,"y":63.972010528464466},{"x":50,"y":40}],"target":{"resourceId":"sid-97820128-FC8F-4757-A019-23AAA4496CFF"}},{"resourceId":"sid-6CCDF610-430F-4A2F-8A50-FB551150F050","properties":{"overrideid":"","name":"Cheque / DD","repruseaction":"false","conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE'"}},"defaultflow":"false","action":"","state":"","mandatenotes":"false","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA"}],"bounds":{"lowerRight":{"x":430.26761409256005,"y":500},"upperLeft":{"x":365.5,"y":298.53515625}},"dockers":[{"x":20.5,"y":20.5},{"x":365.5,"y":500},{"x":7.399285377997273,"y":25}],"target":{"resourceId":"sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA"}},{"resourceId":"sid-6BF26389-B381-4950-9B81-6B52AB90EA18","properties":{"overrideid":"","name":"Other than Cheque & DD","repruseaction":"false","conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.receiptMode != 'DD' && vo.receiptMode != 'CHEQUE'"}},"defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421"}],"bounds":{"lowerRight":{"x":539.8906274801372,"y":278.4548040840315},"upperLeft":{"x":385.7929662698628,"y":278.1116021659685}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421"}},{"resourceId":"sid-51C50D8C-C174-4198-8DB1-6D9BBDDCA844","properties":{"overrideid":"","name":"Amounts Waived","repruseaction":"false","conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.waivedAmt > 0"}},"defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-888F5A2E-3E41-49B5-9530-77AA7FC8D402"}],"bounds":{"lowerRight":{"x":271.067995704324,"y":339.35157463305103},"upperLeft":{"x":270.86691030153537,"y":298.53123786694897}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-888F5A2E-3E41-49B5-9530-77AA7FC8D402"}},{"resourceId":"sid-7F9D8CED-2E48-4F8D-9283-AD648885B833","properties":{"overrideid":"","name":"No waiver","repruseaction":"false","conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.waivedAmt == 0"}},"defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5C4B46F9-6C61-4C8C-98C8-CC81C72B618A"}],"bounds":{"lowerRight":{"x":344.940119396485,"y":278.39310897855665},"upperLeft":{"x":291.2265523564447,"y":278.10689102144334}},"dockers":[{"x":20.5,"y":20.5},{"x":20,"y":20}],"target":{"resourceId":"sid-5C4B46F9-6C61-4C8C-98C8-CC81C72B618A"}}],"bounds":{"lowerRight":{"x":1653.9158889899583,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="RECEIPT_PROCESS" name="Receipt Workflow Process" isExecutable="true"><documentation>Receipt Workflow Process</documentation><startEvent id="startEvent1" name="Start" /><userTask id="sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE" name="Receipt Maker" activiti:actor="RECEIPT_MAKER" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-1A2E482C-719D-41EA-B0FE-E65632AF6E1E" sourceRef="startEvent1" targetRef="sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE" representsUserAction="false" mandateNotes="false" /><exclusiveGateway id="sid-5C4B46F9-6C61-4C8C-98C8-CC81C72B618A" /><userTask id="sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421" name="Receipt Approver" activiti:actor="RECEIPT_APPROVER" activiti:additionalForms="Accounting" activiti:assignmentLevel="Role Queue" /><exclusiveGateway id="sid-BD6333A4-9B0F-4A69-8EAD-041C9D122A28" /><sequenceFlow id="sid-729F80E4-7F36-4EA2-BB13-6DA473946766" sourceRef="sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421" targetRef="sid-BD6333A4-9B0F-4A69-8EAD-041C9D122A28" representsUserAction="false" mandateNotes="false" /><serviceTask id="sid-5835B827-EFE9-4A09-953F-2B5BF785F70D" name="Complete Process" activiti:operation="doApprove" /><endEvent id="sid-06C0D840-5E36-431B-9A20-FAC8068B9576" name="Approved" /><sequenceFlow id="sid-571AC00A-AA66-4680-8DF5-6CC2D14BEC9D" sourceRef="sid-5835B827-EFE9-4A09-953F-2B5BF785F70D" targetRef="sid-06C0D840-5E36-431B-9A20-FAC8068B9576" representsUserAction="false" mandateNotes="false" /><serviceTask id="sid-97820128-FC8F-4757-A019-23AAA4496CFF" name="Cancel Process" activiti:operation="doReject" /><endEvent id="sid-B9D7A4B0-9C41-4279-847D-0A4E2DF3C976" name="Rejected" /><sequenceFlow id="sid-00270A51-C826-47EC-9DB6-3815E62928A8" sourceRef="sid-97820128-FC8F-4757-A019-23AAA4496CFF" targetRef="sid-B9D7A4B0-9C41-4279-847D-0A4E2DF3C976" representsUserAction="false" mandateNotes="false" /><userTask id="sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA" name="Deposit Maker" activiti:actor="DEPOSIT_MAKER" activiti:assignmentLevel="Role Queue" /><serviceTask id="sid-C956496B-C436-4D38-83B0-83BD6FE03B79" name="Cancel Process" activiti:operation="doReject" /><sequenceFlow id="sid-5BB54BDC-C45D-419B-BDB6-65AD7E027278" name="Reject" sourceRef="sid-BD6333A4-9B0F-4A69-8EAD-041C9D122A28" targetRef="sid-C956496B-C436-4D38-83B0-83BD6FE03B79" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><endEvent id="sid-BC619109-F403-407C-8835-898ECFE6A89D" name="Rejected" /><sequenceFlow id="sid-96E10B61-C512-4616-B570-2BB07CF50B42" sourceRef="sid-C956496B-C436-4D38-83B0-83BD6FE03B79" targetRef="sid-BC619109-F403-407C-8835-898ECFE6A89D" representsUserAction="false" mandateNotes="false" /><userTask id="sid-A1774BE8-3BC9-4249-91CC-70326C5A97FD" name="Deposit Approver" activiti:actor="DEPOSIT_APPROVER" activiti:additionalForms="Accounting" activiti:assignmentLevel="Role Queue" /><exclusiveGateway id="sid-4AF375DC-C759-4D43-9D3D-90D9AE341C9A" /><sequenceFlow id="sid-16DEB222-85FD-493B-8758-58D7F30F52B2" sourceRef="sid-A1774BE8-3BC9-4249-91CC-70326C5A97FD" targetRef="sid-4AF375DC-C759-4D43-9D3D-90D9AE341C9A" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-AA6AD459-714D-4BFC-BA5E-5B5002D8172E" name="Approve" sourceRef="sid-4AF375DC-C759-4D43-9D3D-90D9AE341C9A" targetRef="sid-B6CD1606-BB13-4E94-971D-F008B8448629" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><exclusiveGateway id="sid-48838E66-EAAE-4AE3-A7D1-51790A9ED3C8" /><userTask id="sid-888F5A2E-3E41-49B5-9530-77AA7FC8D402" name="Waiver Approver" activiti:actor="RECEIPTWAIVER_APPROVER" activiti:additionalForms="Accounting" activiti:assignmentLevel="Role Queue" /><exclusiveGateway id="sid-D8223364-DA35-46E9-BE6C-688046F7F567" /><exclusiveGateway id="sid-B6CD1606-BB13-4E94-971D-F008B8448629" /><userTask id="sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B" name="Realization Maker" activiti:actor="RECEIPTREALIZE_MAKER" activiti:assignmentLevel="Role Queue" /><userTask id="sid-372D9265-9B9D-4DE6-8169-A9CA3778968C" name="Realization Approver" activiti:actor="RECEIPTREALIZE_APPROVER" activiti:additionalForms="Accounting" activiti:assignmentLevel="Role Queue" /><exclusiveGateway id="sid-9081FCDB-0586-406B-B44D-DE7AD3A46435" /><sequenceFlow id="sid-9527C98C-8FAE-47D4-9191-D53C79591985" name="Resubmit" sourceRef="sid-9081FCDB-0586-406B-B44D-DE7AD3A46435" targetRef="sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-2E26A102-314A-48C6-9DDD-3997985FFBBD" name="Reject" sourceRef="sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B" targetRef="sid-C956496B-C436-4D38-83B0-83BD6FE03B79" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-08D5A85F-4ED4-443D-B100-3E28FD4A43DC" name="Schedule Payment only" sourceRef="sid-B6CD1606-BB13-4E94-971D-F008B8448629" targetRef="sid-5835B827-EFE9-4A09-953F-2B5BF785F70D" representsUserAction="false" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.receiptPurpose == 'SchdlRepayment'</conditionExpression></sequenceFlow><sequenceFlow id="sid-CECF6549-BA65-4173-BB8E-5706FE136149" sourceRef="sid-372D9265-9B9D-4DE6-8169-A9CA3778968C" targetRef="sid-9081FCDB-0586-406B-B44D-DE7AD3A46435" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-F49B92A5-3575-4A72-A355-501DC1A0C4E4" name="Approve" sourceRef="sid-9081FCDB-0586-406B-B44D-DE7AD3A46435" targetRef="sid-5835B827-EFE9-4A09-953F-2B5BF785F70D" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-9260E5C5-F6CC-477D-AFEC-F1E456691827" name="Reject" sourceRef="sid-9081FCDB-0586-406B-B44D-DE7AD3A46435" targetRef="sid-C956496B-C436-4D38-83B0-83BD6FE03B79" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-63B8F0F0-A369-4605-9BF2-BEAE3B3D2196" name="Submit" sourceRef="sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B" targetRef="sid-372D9265-9B9D-4DE6-8169-A9CA3778968C" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1676255A-494A-420A-8BC5-E6B3A8451849" name="Resubmit" sourceRef="sid-888F5A2E-3E41-49B5-9530-77AA7FC8D402" targetRef="sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-BBA89B8A-1B46-488F-B974-9F4CE854FD54" name="Resubmit" sourceRef="sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA" targetRef="sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-EB9E7BC6-EA26-4BFF-8F12-9E5365C0FDFD" name="Cheque / DD" sourceRef="sid-D8223364-DA35-46E9-BE6C-688046F7F567" targetRef="sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA" representsUserAction="false" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE'</conditionExpression></sequenceFlow><sequenceFlow id="sid-560E618D-D129-4705-AD65-AD003A9CA870" name="Submit" sourceRef="sid-888F5A2E-3E41-49B5-9530-77AA7FC8D402" targetRef="sid-D8223364-DA35-46E9-BE6C-688046F7F567" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-21AFF249-08A5-4D8B-BBC8-D12F7B751D6D" name="Others than Cheque &amp;&amp; DD" sourceRef="sid-D8223364-DA35-46E9-BE6C-688046F7F567" targetRef="sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421" representsUserAction="false" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.receiptMode != 'DD' &amp;&amp; vo.receiptMode != 'CHEQUE'</conditionExpression></sequenceFlow><sequenceFlow id="sid-9275378A-8131-43D4-9205-BD3B1A46F2CF" name="Reject" sourceRef="sid-4AF375DC-C759-4D43-9D3D-90D9AE341C9A" targetRef="sid-C956496B-C436-4D38-83B0-83BD6FE03B79" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-251622D5-60CD-4462-853B-0CA76F1C00CA" name="Reject" sourceRef="sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA" targetRef="sid-C956496B-C436-4D38-83B0-83BD6FE03B79" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-89BE2B42-2EEB-40D8-8CD9-C9517338BADE" name="Resubmit" sourceRef="sid-4AF375DC-C759-4D43-9D3D-90D9AE341C9A" targetRef="sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-9FA14375-6043-4220-859D-D7CBB5886D3A" name="Submit" sourceRef="sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA" targetRef="sid-A1774BE8-3BC9-4249-91CC-70326C5A97FD" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-9C89F34F-DFA5-4DB7-8B04-1EB9204C8CC6" name="Resubmit" sourceRef="sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B" targetRef="sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-E2929D98-E337-49AD-9C31-600AA8997881" name="Partial Settlement or Early settlement" sourceRef="sid-B6CD1606-BB13-4E94-971D-F008B8448629" targetRef="sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B" representsUserAction="false" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.receiptPurpose != 'SchdlRepayment'</conditionExpression></sequenceFlow><sequenceFlow id="sid-FE23F595-73C2-47DB-A31B-CD758E49AA68" name="Submit" sourceRef="sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE" targetRef="sid-48838E66-EAAE-4AE3-A7D1-51790A9ED3C8" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-5282CF49-8005-4720-8393-3A287EE7B387" name="Resubmit" sourceRef="sid-BD6333A4-9B0F-4A69-8EAD-041C9D122A28" targetRef="sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-1D5BDDF0-B122-424E-95CD-A80D394BE48E" name="Approve" sourceRef="sid-BD6333A4-9B0F-4A69-8EAD-041C9D122A28" targetRef="sid-5835B827-EFE9-4A09-953F-2B5BF785F70D" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-6C41A0AB-DBE3-4EDB-B674-AFF127DB0548" name="Cancel" sourceRef="sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE" targetRef="sid-97820128-FC8F-4757-A019-23AAA4496CFF" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow><sequenceFlow id="sid-6CCDF610-430F-4A2F-8A50-FB551150F050" name="Cheque / DD" sourceRef="sid-5C4B46F9-6C61-4C8C-98C8-CC81C72B618A" targetRef="sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA" representsUserAction="false" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE'</conditionExpression></sequenceFlow><sequenceFlow id="sid-6BF26389-B381-4950-9B81-6B52AB90EA18" name="Other than Cheque &amp; DD" sourceRef="sid-5C4B46F9-6C61-4C8C-98C8-CC81C72B618A" targetRef="sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421" representsUserAction="false" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.receiptMode != 'DD' &amp;&amp; vo.receiptMode != 'CHEQUE'</conditionExpression></sequenceFlow><sequenceFlow id="sid-51C50D8C-C174-4198-8DB1-6D9BBDDCA844" name="Amounts Waived" sourceRef="sid-48838E66-EAAE-4AE3-A7D1-51790A9ED3C8" targetRef="sid-888F5A2E-3E41-49B5-9530-77AA7FC8D402" representsUserAction="false" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.waivedAmt &gt; 0</conditionExpression></sequenceFlow><sequenceFlow id="sid-7F9D8CED-2E48-4F8D-9283-AD648885B833" name="No waiver" sourceRef="sid-48838E66-EAAE-4AE3-A7D1-51790A9ED3C8" targetRef="sid-5C4B46F9-6C61-4C8C-98C8-CC81C72B618A" representsUserAction="false" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.waivedAmt == 0</conditionExpression></sequenceFlow></process><bpmndi:BPMNDiagram id="BPMNDiagram_RECEIPT_PROCESS"><bpmndi:BPMNPlane bpmnElement="RECEIPT_PROCESS" id="BPMNPlane_RECEIPT_PROCESS"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="15.0" y="263.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE" id="BPMNShape_sid-43C4D486-53F4-43EE-8890-6E0B39D9FBEE"><omgdc:Bounds height="80.0" width="100.0" x="75.0" y="238.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-5C4B46F9-6C61-4C8C-98C8-CC81C72B618A" id="BPMNShape_sid-5C4B46F9-6C61-4C8C-98C8-CC81C72B618A"><omgdc:Bounds height="40.0" width="40.0" x="345.0" y="258.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421" id="BPMNShape_sid-0B14EAF0-64A0-4C4E-9F83-A658A77B1421"><omgdc:Bounds height="80.0" width="100.0" x="540.0" y="238.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-BD6333A4-9B0F-4A69-8EAD-041C9D122A28" id="BPMNShape_sid-BD6333A4-9B0F-4A69-8EAD-041C9D122A28"><omgdc:Bounds height="40.0" width="40.0" x="685.0" y="258.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-5835B827-EFE9-4A09-953F-2B5BF785F70D" id="BPMNShape_sid-5835B827-EFE9-4A09-953F-2B5BF785F70D"><omgdc:Bounds height="80.0" width="100.00000000000011" x="943.1376227529157" y="238.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-06C0D840-5E36-431B-9A20-FAC8068B9576" id="BPMNShape_sid-06C0D840-5E36-431B-9A20-FAC8068B9576"><omgdc:Bounds height="28.0" width="28.0" x="1185.1851816966646" y="264.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-97820128-FC8F-4757-A019-23AAA4496CFF" id="BPMNShape_sid-97820128-FC8F-4757-A019-23AAA4496CFF"><omgdc:Bounds height="80.0" width="100.0" x="45.0" y="379.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B9D7A4B0-9C41-4279-847D-0A4E2DF3C976" id="BPMNShape_sid-B9D7A4B0-9C41-4279-847D-0A4E2DF3C976"><omgdc:Bounds height="28.0" width="28.0" x="81.0" y="490.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA" id="BPMNShape_sid-9C3D9CD0-BD69-4240-BBF7-1E4CF9E303AA"><omgdc:Bounds height="80.0" width="100.0" x="430.671875" y="475.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-C956496B-C436-4D38-83B0-83BD6FE03B79" id="BPMNShape_sid-C956496B-C436-4D38-83B0-83BD6FE03B79"><omgdc:Bounds height="80.0" width="100.0" x="655.0" y="355.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-BC619109-F403-407C-8835-898ECFE6A89D" id="BPMNShape_sid-BC619109-F403-407C-8835-898ECFE6A89D"><omgdc:Bounds height="28.0" width="28.0" x="600.0" y="430.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-A1774BE8-3BC9-4249-91CC-70326C5A97FD" id="BPMNShape_sid-A1774BE8-3BC9-4249-91CC-70326C5A97FD"><omgdc:Bounds height="80.0" width="100.0" x="655.0" y="475.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-4AF375DC-C759-4D43-9D3D-90D9AE341C9A" id="BPMNShape_sid-4AF375DC-C759-4D43-9D3D-90D9AE341C9A"><omgdc:Bounds height="40.0" width="40.0" x="855.0" y="505.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-48838E66-EAAE-4AE3-A7D1-51790A9ED3C8" id="BPMNShape_sid-48838E66-EAAE-4AE3-A7D1-51790A9ED3C8"><omgdc:Bounds height="40.0" width="40.0" x="250.6666717529297" y="258.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-888F5A2E-3E41-49B5-9530-77AA7FC8D402" id="BPMNShape_sid-888F5A2E-3E41-49B5-9530-77AA7FC8D402"><omgdc:Bounds height="80.0" width="100.0" x="220.6666717529297" y="340.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-D8223364-DA35-46E9-BE6C-688046F7F567" id="BPMNShape_sid-D8223364-DA35-46E9-BE6C-688046F7F567"><omgdc:Bounds height="40.0" width="40.0" x="250.6666717529297" y="460.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B6CD1606-BB13-4E94-971D-F008B8448629" id="BPMNShape_sid-B6CD1606-BB13-4E94-971D-F008B8448629"><omgdc:Bounds height="40.0" width="40.0" x="964.0" y="505.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B" id="BPMNShape_sid-DEB8C0BE-00D7-4F42-BB01-F8B7C348860B"><omgdc:Bounds height="80.0" width="100.0" x="1129.6296263046333" y="485.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-372D9265-9B9D-4DE6-8169-A9CA3778968C" id="BPMNShape_sid-372D9265-9B9D-4DE6-8169-A9CA3778968C"><omgdc:Bounds height="80.0" width="100.0" x="1305.0" y="485.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-9081FCDB-0586-406B-B44D-DE7AD3A46435" id="BPMNShape_sid-9081FCDB-0586-406B-B44D-DE7AD3A46435"><omgdc:Bounds height="40.0" width="40.0" x="1450.0" y="505.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-96E10B61-C512-4616-B570-2BB07CF50B42" id="BPMNEdge_sid-96E10B61-C512-4616-B570-2BB07CF50B42"><omgdi:waypoint x="705.0" y="435.0" /><omgdi:waypoint x="705.0" y="444.0" /><omgdi:waypoint x="628.0" y="444.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-5282CF49-8005-4720-8393-3A287EE7B387" id="BPMNEdge_sid-5282CF49-8005-4720-8393-3A287EE7B387"><omgdi:waypoint x="705.5" y="258.5" /><omgdi:waypoint x="705.5" y="171.0" /><omgdi:waypoint x="125.0" y="171.0" /><omgdi:waypoint x="125.0" y="238.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-FE23F595-73C2-47DB-A31B-CD758E49AA68" id="BPMNEdge_sid-FE23F595-73C2-47DB-A31B-CD758E49AA68"><omgdi:waypoint x="175.0" y="278.1710376223265" /><omgdi:waypoint x="251.0980218697432" y="278.4313501168135" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-7F9D8CED-2E48-4F8D-9283-AD648885B833" id="BPMNEdge_sid-7F9D8CED-2E48-4F8D-9283-AD648885B833"><omgdi:waypoint x="290.2684574727623" y="278.3982142801674" /><omgdi:waypoint x="345.1060070728535" y="278.1060070728535" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-89BE2B42-2EEB-40D8-8CD9-C9517338BADE" id="BPMNEdge_sid-89BE2B42-2EEB-40D8-8CD9-C9517338BADE"><omgdi:waypoint x="875.5" y="544.5" /><omgdi:waypoint x="875.5" y="622.0" /><omgdi:waypoint x="480.671875" y="622.0" /><omgdi:waypoint x="480.671875" y="555.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1D5BDDF0-B122-424E-95CD-A80D394BE48E" id="BPMNEdge_sid-1D5BDDF0-B122-424E-95CD-A80D394BE48E"><omgdi:waypoint x="724.5330851802314" y="278.4669148197686" /><omgdi:waypoint x="943.1376227529157" y="278.08691491662574" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-251622D5-60CD-4462-853B-0CA76F1C00CA" id="BPMNEdge_sid-251622D5-60CD-4462-853B-0CA76F1C00CA"><omgdi:waypoint x="480.671875" y="475.0" /><omgdi:waypoint x="480.671875" y="395.0" /><omgdi:waypoint x="655.0" y="395.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-5BB54BDC-C45D-419B-BDB6-65AD7E027278" id="BPMNEdge_sid-5BB54BDC-C45D-419B-BDB6-65AD7E027278"><omgdi:waypoint x="705.4181034482758" y="297.5818965517241" /><omgdi:waypoint x="705.1716738197425" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-08D5A85F-4ED4-443D-B100-3E28FD4A43DC" id="BPMNEdge_sid-08D5A85F-4ED4-443D-B100-3E28FD4A43DC"><omgdi:waypoint x="984.5" y="505.5" /><omgdi:waypoint x="984.5" y="318.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-6C41A0AB-DBE3-4EDB-B674-AFF127DB0548" id="BPMNEdge_sid-6C41A0AB-DBE3-4EDB-B674-AFF127DB0548"><omgdi:waypoint x="95.0" y="318.0" /><omgdi:waypoint x="95.0" y="379.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-6BF26389-B381-4950-9B81-6B52AB90EA18" id="BPMNEdge_sid-6BF26389-B381-4950-9B81-6B52AB90EA18"><omgdi:waypoint x="384.5424107142857" y="278.4575892857143" /><omgdi:waypoint x="540.0" y="278.1113585746102" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-21AFF249-08A5-4D8B-BBC8-D12F7B751D6D" id="BPMNEdge_sid-21AFF249-08A5-4D8B-BBC8-D12F7B751D6D"><omgdi:waypoint x="288.84251086015075" y="482.4492186299195" /><omgdi:waypoint x="395.66668701171875" y="482.4492186299195" /><omgdi:waypoint x="395.66668701171875" y="300.0" /><omgdi:waypoint x="540.0" y="300.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-51C50D8C-C174-4198-8DB1-6D9BBDDCA844" id="BPMNEdge_sid-51C50D8C-C174-4198-8DB1-6D9BBDDCA844"><omgdi:waypoint x="271.0726123469891" y="297.5940594059406" /><omgdi:waypoint x="270.86371608790506" y="340.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-EB9E7BC6-EA26-4BFF-8F12-9E5365C0FDFD" id="BPMNEdge_sid-EB9E7BC6-EA26-4BFF-8F12-9E5365C0FDFD"><omgdi:waypoint x="271.1666717529297" y="499.5" /><omgdi:waypoint x="271.1666717529297" y="525.5" /><omgdi:waypoint x="430.671875" y="525.5" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9C89F34F-DFA5-4DB7-8B04-1EB9204C8CC6" id="BPMNEdge_sid-9C89F34F-DFA5-4DB7-8B04-1EB9204C8CC6"><omgdi:waypoint x="1168.6666870117188" y="565.0" /><omgdi:waypoint x="1168.6666870117188" y="642.0" /><omgdi:waypoint x="480.671875" y="642.0" /><omgdi:waypoint x="480.671875" y="555.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-729F80E4-7F36-4EA2-BB13-6DA473946766" id="BPMNEdge_sid-729F80E4-7F36-4EA2-BB13-6DA473946766"><omgdi:waypoint x="640.0" y="278.2164502164502" /><omgdi:waypoint x="685.4130434782609" y="278.4130434782609" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-00270A51-C826-47EC-9DB6-3815E62928A8" id="BPMNEdge_sid-00270A51-C826-47EC-9DB6-3815E62928A8"><omgdi:waypoint x="95.0" y="459.0" /><omgdi:waypoint x="95.0" y="490.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-63B8F0F0-A369-4605-9BF2-BEAE3B3D2196" id="BPMNEdge_sid-63B8F0F0-A369-4605-9BF2-BEAE3B3D2196"><omgdi:waypoint x="1229.6296263046333" y="525.0" /><omgdi:waypoint x="1305.0" y="525.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-560E618D-D129-4705-AD65-AD003A9CA870" id="BPMNEdge_sid-560E618D-D129-4705-AD65-AD003A9CA870"><omgdi:waypoint x="270.86567672805404" y="420.0" /><omgdi:waypoint x="271.06667175292966" y="460.4" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9275378A-8131-43D4-9205-BD3B1A46F2CF" id="BPMNEdge_sid-9275378A-8131-43D4-9205-BD3B1A46F2CF"><omgdi:waypoint x="875.5" y="505.5" /><omgdi:waypoint x="875.5" y="420.92592584961454" /><omgdi:waypoint x="755.0" y="420.92592584961454" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-2E26A102-314A-48C6-9DDD-3997985FFBBD" id="BPMNEdge_sid-2E26A102-314A-48C6-9DDD-3997985FFBBD"><omgdi:waypoint x="1179.6296263046333" y="485.0" /><omgdi:waypoint x="1179.6296263046333" y="398.7654459807517" /><omgdi:waypoint x="755.0" y="398.7654459807517" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-E2929D98-E337-49AD-9C31-600AA8997881" id="BPMNEdge_sid-E2929D98-E337-49AD-9C31-600AA8997881"><omgdi:waypoint x="1003.5" y="525.5" /><omgdi:waypoint x="1129.6296263046333" y="525.5" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1A2E482C-719D-41EA-B0FE-E65632AF6E1E" id="BPMNEdge_sid-1A2E482C-719D-41EA-B0FE-E65632AF6E1E"><omgdi:waypoint x="45.0" y="278.0" /><omgdi:waypoint x="75.0" y="278.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-CECF6549-BA65-4173-BB8E-5706FE136149" id="BPMNEdge_sid-CECF6549-BA65-4173-BB8E-5706FE136149"><omgdi:waypoint x="1405.0" y="525.2164502164502" /><omgdi:waypoint x="1450.4130434782608" y="525.4130434782609" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-1676255A-494A-420A-8BC5-E6B3A8451849" id="BPMNEdge_sid-1676255A-494A-420A-8BC5-E6B3A8451849"><omgdi:waypoint x="220.6666717529297" y="363.0" /><omgdi:waypoint x="141.6666717529297" y="363.0" /><omgdi:waypoint x="141.6666717529297" y="318.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9FA14375-6043-4220-859D-D7CBB5886D3A" id="BPMNEdge_sid-9FA14375-6043-4220-859D-D7CBB5886D3A"><omgdi:waypoint x="530.671875" y="528.0" /><omgdi:waypoint x="655.0" y="528.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-AA6AD459-714D-4BFC-BA5E-5B5002D8172E" id="BPMNEdge_sid-AA6AD459-714D-4BFC-BA5E-5B5002D8172E"><omgdi:waypoint x="894.5" y="525.5" /><omgdi:waypoint x="964.5" y="525.5" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-6CCDF610-430F-4A2F-8A50-FB551150F050" id="BPMNEdge_sid-6CCDF610-430F-4A2F-8A50-FB551150F050"><omgdi:waypoint x="365.5" y="297.5" /><omgdi:waypoint x="365.5" y="500.0" /><omgdi:waypoint x="430.671875" y="500.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-571AC00A-AA66-4680-8DF5-6CC2D14BEC9D" id="BPMNEdge_sid-571AC00A-AA66-4680-8DF5-6CC2D14BEC9D"><omgdi:waypoint x="1043.1376227529158" y="277.49092907052204" /><omgdi:waypoint x="1185.1854091492485" y="276.04468109750064" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-16DEB222-85FD-493B-8758-58D7F30F52B2" id="BPMNEdge_sid-16DEB222-85FD-493B-8758-58D7F30F52B2"><omgdi:waypoint x="755.0" y="525.5" /><omgdi:waypoint x="855.5" y="525.5" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9260E5C5-F6CC-477D-AFEC-F1E456691827" id="BPMNEdge_sid-9260E5C5-F6CC-477D-AFEC-F1E456691827"><omgdi:waypoint x="1470.5" y="505.5" /><omgdi:waypoint x="1470.5" y="384.0" /><omgdi:waypoint x="755.0" y="384.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9527C98C-8FAE-47D4-9191-D53C79591985" id="BPMNEdge_sid-9527C98C-8FAE-47D4-9191-D53C79591985"><omgdi:waypoint x="1470.5" y="544.5" /><omgdi:waypoint x="1470.5" y="628.0" /><omgdi:waypoint x="1179.6296263046333" y="628.0" /><omgdi:waypoint x="1179.6296263046333" y="565.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-BBA89B8A-1B46-488F-B974-9F4CE854FD54" id="BPMNEdge_sid-BBA89B8A-1B46-488F-B974-9F4CE854FD54"><omgdi:waypoint x="430.671875" y="551.0" /><omgdi:waypoint x="159.38545568337187" y="551.0" /><omgdi:waypoint x="159.38545568337187" y="318.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-F49B92A5-3575-4A72-A355-501DC1A0C4E4" id="BPMNEdge_sid-F49B92A5-3575-4A72-A355-501DC1A0C4E4"><omgdi:waypoint x="1489.5" y="525.5" /><omgdi:waypoint x="1553.9158889899584" y="525.5" /><omgdi:waypoint x="1553.9158889899584" y="362.0" /><omgdi:waypoint x="1020.8042487294783" y="362.0" /><omgdi:waypoint x="1020.8042487294783" y="318.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='RECEIPT_PROCESS'and workflowactive=1</where>
		</update>
</changeSet>

	<changeSet id="229" author="Siva">
		<addColumn tableName="FINSCHEDULEDETAILS_LOG">
			<column name="PRESENTMENTID" type="bigint" />
		</addColumn>
	</changeSet>
	<changeSet id="230" author="Jayant" dbms="oracle">
	    <createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		  <![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk AMount Due ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||'('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0
  union
  	SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||PAYMENTREF||' '||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,10 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		TotPenaltyAmt Debit, 0 credit,11 Ordby
		From FinODDetails where TOtPenaltyAmt > 0 
  
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,12 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,13 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		  </createView>
	</changeSet>
	<changeSet id="230" author="Jayant" dbms="mssql">
	    <createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		  <![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('+T1.Finreference+')' else 
											  'Due for Installment '+T1.INSTNUMBER+' ('+T1.Finreference+')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and 
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk AMount Due ('+T1.Finreference+')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('+T1.Finreference+')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '+PAYMENTTYPE +' No.:'+FavourNumber +'('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) +'- Due ('+Finreference+')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0
  union
  	SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) +'- Due ('+Finreference+')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '+ (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)+'('+t2.Finreference+')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '+PAYMENTTYPE +' No.:'+PAYMENTREF+' '+FavourNumber +'('+REFERENCE+')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,10 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' + FINODTILLDATE Particulars, 
		TotPenaltyAmt Debit, 0 credit,11 Ordby
		From FinODDetails where TOtPenaltyAmt > 0 
  
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '+PaymentType+' :'+ (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)+'('+T1.Finreference+')' ,
    AmtToBeReleased Debit, 0 credit,12 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '+T1.PaymentType+' :'+ (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)+'('+T.Finreference+')' ,
    T1.PaymentAmount Debit, 0 credit,13 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		  </createView>
	</changeSet>
	<changeSet author="Prasad" id="231" dbms="oracle">
<sql>
Update seqrules set seqno=(select max(ruleid) from rules);
delete from rules where Rulemodule='BOUNCE';
Insert into RULES (RULEID,RULEMODULE,RULEEVENT,RULECODE,RULECODEDESC,WAIVERDECIDER,WAIVER,WAIVERPERC,SQLRULE,ACTUALBLOCK,SEQORDER,RETURNTYPE,GROUPID,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,ALLOWDEVIATION,DEVIATIONTYPE,CALFEEMODIFY,FEETOFINANCE,REVOLVING,FIXEDORVARIABLELIMIT,ACTIVE,FIELDS,FEETYPEID)
values ((select max(ruleid)+1 from rules),'BOUNCE','BOUNCE','BOUNCE','bounce charges',null,0,null,' ',' ',0,'D',0,2,1085,to_date('28-JUN-17','DD-MON-RR'),'Approved',null,null,null,null,null,0,0,'#',0,null,1,'F',1,'br_category',null);
Update seqrules set seqno=(select max(ruleid) from rules);
Update BOUNCEREASONS set ruleid=(Select ruleid from rules where Rulemodule='BOUNCE');
</sql>
	</changeSet>
	<changeSet author="Prasad" id="231" dbms="mssql">
<sql>
Update seqrules set seqno=(select max(ruleid) from rules);
delete from rules where Rulemodule='BOUNCE';
Insert into RULES (RULEID,RULEMODULE,RULEEVENT,RULECODE,RULECODEDESC,WAIVERDECIDER,WAIVER,WAIVERPERC,SQLRULE,ACTUALBLOCK,SEQORDER,RETURNTYPE,GROUPID,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,ALLOWDEVIATION,DEVIATIONTYPE,CALFEEMODIFY,FEETOFINANCE,REVOLVING,FIXEDORVARIABLELIMIT,ACTIVE,FIELDS,FEETYPEID)
values ((select max(ruleid)+1 from rules),'BOUNCE','BOUNCE','BOUNCE','bounce charges',null,0,null,' ',' ',0,'D',0,2,1085,'28-JUN-17','Approved',null,null,null,null,null,0,0,'#',0,null,1,'F',1,'br_category',null);
Update seqrules set seqno=(select max(ruleid) from rules);
Update BOUNCEREASONS set ruleid=(Select ruleid from rules where Rulemodule='BOUNCE');
</sql>
	</changeSet>
<changeSet author="Prasad" id="232">
			<update tableName="RULES">
			<column name="SQLRULE" type="NCLOB"><![CDATA[" if (br_category == 2) {
		Result = 500 ; return;  
 } else {
		Result = 0 ; return;  
 }"]]></column>
     		<column name="ACTUALBLOCK" type="NCLOB"><![CDATA[(|if|FIELDLIST|br_category| |==|CALCVALUE|2| |1|0|1|1|1|500| |~)|~(|else|0|0|0|1|1|0| |~)|]]></column>
			<where>RuleModule='BOUNCE' and RULEEVENT='BOUNCE' and RULECODE='BOUNCE'</where>
		</update>
	</changeSet>
	
	<changeSet id="233" author="Manoj.P" dbms="oracle">
		<dropView viewName="DE_TRAIL_BALANCE_REPORT_VIEW"/>
	</changeSet>
<!-- 	<changeSet id="233" author="Manoj.P" dbms="mssql">
		<dropView viewName="DE_TRAIL_BALANCE_REPORT_VIEW"/>
	</changeSet> -->
	<changeSet id="234" author="Manoj.P" dbms="oracle">
		<createView viewName="TRAIL_BALANCE_REPORT_VIEW" replaceIfExists="true">
			  SELECT HEADERID,
			  ACTYPEGRPID,
			  HOSTACCOUNT,
			  DESCRIPTION,
			  UDF_CONVERTCURRENCY(OPENINGBAL, TBH.CURRENCY, 'INR') OPENINGBAL,
			  OPENINGBALTYPE,
			  UDF_CONVERTCURRENCY(DEBITAMOUNT, TBH.CURRENCY, 'INR') DEBITAMOUNT,
			  UDF_CONVERTCURRENCY(CREDITAMOUNT, TBH.CURRENCY, 'INR') CREDITAMOUNT,
			  UDF_CONVERTCURRENCY(CLOSINGBAL, TBH.CURRENCY, 'INR') CLOSINGBAL,
			  CLOSINGBALTYPE
			  FROM TRAIL_BALANCE_REPORT TBR
			  INNER JOIN TRAIL_BALANCE_HEADER TBH ON TBH.ID = TBR.HEADERID
		</createView>
	</changeSet>
<!-- 		<changeSet id="234" author="Manoj.P" dbms="dbms">
		<createView viewName="TRAIL_BALANCE_REPORT_VIEW" replaceIfExists="true">
			  SELECT HEADERID,
			  ACTYPEGRPID,
			  HOSTACCOUNT,
			  DESCRIPTION,
			  UDF_CONVERTCURRENCY(OPENINGBAL, TBH.CURRENCY, 'INR') OPENINGBAL,
			  OPENINGBALTYPE,
			  UDF_CONVERTCURRENCY(DEBITAMOUNT, TBH.CURRENCY, 'INR') DEBITAMOUNT,
			  UDF_CONVERTCURRENCY(CREDITAMOUNT, TBH.CURRENCY, 'INR') CREDITAMOUNT,
			  UDF_CONVERTCURRENCY(CLOSINGBAL, TBH.CURRENCY, 'INR') CLOSINGBAL,
			  CLOSINGBALTYPE
			  FROM TRAIL_BALANCE_REPORT TBR
			  INNER JOIN TRAIL_BALANCE_HEADER TBH ON TBH.ID = TBR.HEADERID
		</createView>
	</changeSet> -->
	
	<changeSet id="235" author="Manoj.P">
	<sql>
		UPDATE DATA_ENGINE_TABLE SET NAME = 'TRAIL_BALANCE_REPORT_VIEW' WHERE NAME ='DE_TRAIL_BALANCE_REPORT_VIEW';
	</sql>	
	</changeSet>
	
	<changeSet id="236" author="Manoj.P">
		<sql>
			UPDATE SeqSecRights SET SeqNo = (SELECT MAX(RightID) FROM SecRights);
			UPDATE SeqSecGroups SET SeqNo = (SELECT MAX(GrpID) FROM SecGroups);
			UPDATE SeqSecRoles SET SeqNo = (SELECT MAX(RoleID) FROM SecRoles);
			UPDATE SeqSecOperations SET SeqNo = (SELECT MAX(OprID) FROM SecOperations);
			UPDATE SeqSecGroupRights SET SeqNo = (SELECT MAX(GrpRightID) FROM SecGroupRights);
			UPDATE SeqSecRoleGroups SET SeqNo = (SELECT MAX(RoleGrpID) FROM SecRoleGroups);
			UPDATE SeqSecOperationRoles SET SeqNo = (SELECT MAX(OprRoleID) FROM SecOperationRoles);
			
			INSERT INTO SECRIGHTS VALUES((SELECT MAX(RIGHTID) + 1 FROM SECRIGHTS) , 0, 'menu_Category_CIBIL','FileDBInterface',1,1000,CURRENT_TIMESTAMP,'','','','','','',0);
			INSERT INTO SECRIGHTS VALUES((SELECT MAX(RIGHTID) + 1 FROM SECRIGHTS) , 0, 'menu_Item_CIBILFileDownloads','FileDBInterface',1,1000,CURRENT_TIMESTAMP,'','','','','','',0);
			
			INSERT INTO SECGROUPS VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS),'CIBIL_FILE_CONTROL','CIBIL file CONTROL.',0,1000,CURRENT_TIMESTAMP,'','','','','','',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES ((SELECT MAX(GRPRIGHTID) +1  FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE ='CIBIL_FILE_CONTROL'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME ='menu_Category_CIBIL'), 1,0,1000,CURRENT_TIMESTAMP,'','','','','','',0);
			INSERT INTO SECGROUPRIGHTS VALUES ((SELECT MAX(GRPRIGHTID) +1  FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE ='CIBIL_FILE_CONTROL'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME ='menu_Item_CIBILFileDownloads'), 1,0,1000,CURRENT_TIMESTAMP,'','','','','','',0);
			
			INSERT INTO SECROLES VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES),1,'CIBIL_FILE_CONTROL','CIBIL File Control.','FileDBInterface',1,1000,CURRENT_TIMESTAMP,'','','','','','',0);
			
			INSERT INTO SECROLEGROUPS VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE ='CIBIL_FILE_CONTROL'),(SELECT ROLEID FROM SECROLES WHERE ROLECD='CIBIL_FILE_CONTROL'),0,1000,CURRENT_TIMESTAMP,'','','','','','',0);
			
			INSERT INTO SecOperations VALUES ((select MAX(OprID)+1 from SecOperations),'CIBIL_FILE_CONTROL','CIBIL File Control.',1,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 );
			
			INSERT INTO SecOperationRoles values ((select MAX(OprRoleID)+1 from SecOperationRoles), (select OprID from SecOperations WHERE OprCode='CIBIL_FILE_CONTROL'), (select RoleID from SecRoles where RoleCd='CIBIL_FILE_CONTROL'),1,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
			
			UPDATE SeqSecRights SET SeqNo = (SELECT MAX(RightID) FROM SecRights);
			UPDATE SeqSecGroups SET SeqNo = (SELECT MAX(GrpID) FROM SecGroups);
			UPDATE SeqSecRoles SET SeqNo = (SELECT MAX(RoleID) FROM SecRoles);
			UPDATE SeqSecOperations SET SeqNo = (SELECT MAX(OprID) FROM SecOperations);
			UPDATE SeqSecGroupRights SET SeqNo = (SELECT MAX(GrpRightID) FROM SecGroupRights);
			UPDATE SeqSecRoleGroups SET SeqNo = (SELECT MAX(RoleGrpID) FROM SecRoleGroups);
			UPDATE SeqSecOperationRoles SET SeqNo = (SELECT MAX(OprRoleID) FROM SecOperationRoles);
		</sql>
	</changeSet>
	<changeSet author="Prasad" id="237">
			<update tableName="RULES">
			<column name="SQLRULE" type="NCLOB"><![CDATA[ if (br_category == 2) {
		Result = 500 ; return;  
 } else {
		Result = 0 ; return;  
 }]]></column>
     		<column name="ACTUALBLOCK" type="NCLOB"><![CDATA[(|if|FIELDLIST|br_category| |==|CALCVALUE|2| |1|0|1|1|1|500| |~)|~(|else|0|0|0|1|1|0| |~)|]]></column>
			<where>RuleModule='BOUNCE' and RULEEVENT='BOUNCE' and RULECODE='BOUNCE'</where>
		</update>
	</changeSet>
<changeSet author="Madhubabu" id="238">
	<addColumn tableName="fintaxuploaddetail">
		<column name="seqno" type="bigint"/>
	</addColumn>
	</changeSet>	
<changeSet author="Madhubabu" id="239">
	<addColumn tableName="fintaxuploaddetail_temp">
		<column name="seqno" type="bigint"/>
	</addColumn>
	</changeSet>	
<changeSet author="Madhubabu" id="240">
	<createView viewName="FINTAXUPLOADDETAIL_AVIEW"
		replaceIfExists="true">
			SELECT T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,T1.Seqno,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail T1
		</createView>
</changeSet>
 <changeSet author="Madhubabu" id="241">
	<createView viewName="FINTAXUPLOADDETAIL_TVIEW"
		replaceIfExists="true">
			 SELECT T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,T1.Seqno,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail_Temp T1
		</createView>
</changeSet>
 <changeSet author="Madhubabu" id="242">
	<createView viewName="FINTAXUPLOADDETAIL_VIEW"
		replaceIfExists="true">
			 SELECT T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,T1.Seqno,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail_Temp T1
   UNION ALL 
  select  T1.BatchReference, T1.Taxcode, T1.AggrementNo,T1.Applicablefor,T1.applicant,T1.Taxexempted,T1.Addrline1,T1.Addrline2,t1.addrline3,
T1.addrline4,T1.country,t1.city,t1.province,T1.Pincode,T1.Seqno,
T1.LastMntBy ,T1.LastMntOn ,T1.RoleCode ,T1.RecordStatus ,T1.NextRoleCode ,T1.TaskId ,T1.NextTaskId , T1.RecordType ,T1.WorkflowId 
     FROM FinTaxUploadDetail T1
     WHERE NOT EXISTS ( SELECT 1 
                        FROM FinTaxUploadDetail_Temp 
                          WHERE AggrementNo = T1.AggrementNo )
		</createView>
</changeSet>	

	<changeSet author="Kesav" id="243">
		<createTable tableName="LEA_GST_TMP_DTL">
		 	<column name="TRANSACTION_DATE" 				type="datetime" />
			<column name="HOST_SYSTEM_TRANSACTION_ID" 		type="varchar(20)" />
			<column name="TRANSACTION_TYPE" 				type="varchar(50)" />
			<column name="BUSINESS_AREA" 					type="varchar(2)" />
			<column name="SOURCE_SYSTEM" 					type="varchar(20)" />
			<column name="COMPANY_CODE" 					type="varchar(50)" />
			<column name="CUSTOMER_NAME" 					type="varchar(300)" />
			<column name="REGISTERED_CUSTOMER" 				type="varchar(1)" />
			<column name="CUSTOMER_ID" 						type="number(8)" />
			<column name="CUSTOMER_GSTIN" 					type="varchar(30)" />
			<column name="CUSTOMER_ADDRESS" 				type="varchar(500)" />
			<column name="CUSTOMER_STATE_CODE" 				type="varchar(2)" />
			<column name="ADDRESS_CHANGE_DATE" 				type="datetime" />
			<column name="PAN_NO" 							type="varchar(30)" />
			<column name="LEDGER_CODE" 						type="varchar(20)" />
			<column name="HSN_SAC_CODE" 					type="varchar(50)" />
			<column name="NATURE_OF_SERVICE" 				type="varchar(20)" />
			<column name="LOAN_ACCOUNT_NO" 					type="varchar(20)" />
			<column name="PRODUCT_CODE" 					type="varchar(8)" />
			<column name="CHARGE_CODE" 						type="number(8)" />
			<column name="LOAN_BRANCH" 						type="number(8)" />
			<column name="LOAN_BRANCH_STATE" 				type="varchar(2)" />
			<column name="LOAN_SERVICING_BRANCH" 			type="varchar(200)" />
			<column name="BFLGSTINNo" 						type="varchar(30)" />
			<column name="TXN_BRANCH_ADDRESS" 				type="varchar(500)" />
			<column name="TXN_BRANCH_STATE_CODE" 			type="varchar(2)" />
			<column name="TRANSACTION_AMOUNT" 				type="number(25,2)" />
			<column name="REVERSE_CHARGE_APPLICABLE" 		type="varchar(1)" />
			<column name="INVOICE_TYPE" 					type="varchar(1)" />
			<column name="ORIGINAL_INVOICE_NO" 				type="varchar(16)" />
			<column name="BFL_GSTIN_NO" 					type="varchar(30)"/>
			
			<column name="INVOICE_NO"                 		type="varchar(16)" />
			<column name="SFDC_DEALID"                		type="varchar(20)" />
			<column name="TAXABLE_AMOUNT"             		type="number(20,2)" />
			<column name="CGST_RATE"                  		type="number(10,7)" />
			<column name="CGST_AMOUNT"                		type="number(25,2)" />
			<column name="CGST_SURCHARGE_RATE"        		type="number(10,7)" />
			<column name="CGST_SURCHARGE_AMOUNT"      		type="number(25,2)" />
			<column name="CGST_CESS_RATE"             		type="number(10,7)" />
			<column name="CGST_CESS_AMOUNT"           		type="number(25,2)" />
			<column name="SGST_RATE"                  		type="number(10,7)" />
			<column name="SGST_AMOUNT"                		type="number(25,2)" />
			<column name="SGST_SURCHARGE_RATE"        		type="number(10,7)" />
			<column name="SGST_SURCHARGE_AMOUNT"      		type="number(25,2)" />
			<column name="SGST_CESS_RATE"             		type="number(10,7)" />
			<column name="SGST_CESS_AMOUNT"           		type="number(25,2)" />
			<column name="IGST_RATE"                  		type="number(10,7)" />
			<column name="IGST_AMOUNT"                		type="number(25,2)" />
			<column name="IGST_SURCHARGE_RATE"        		type="number(10,7)" />
			<column name="IGST_SURCHARGE_AMOUNT"      		type="number(25,2)" />
			<column name="IGST_CESS_RATE"             		type="number(10,7)" />
			<column name="IGST_CESS_AMOUNT"           		type="number(25,2)" />
			<column name="UTGST_RATE"                 		type="number(10,7)" />
			<column name="UTGST_AMOUNT"               		type="number(25,2)" />
			<column name="UTGST_SURCHARGE_RATE"       		type="number(10,7)" />
			<column name="UTGST_SURCHARGE_AMOUNT"     		type="number(25,2)" />
			<column name="UTGST_CESS_RATE"            		type="number(10,7)" />
			<column name="UTGST_CESS_AMOUNT"          		type="number(25,2)" />
			<column name="TXNADVICEID"                		type="number(16)" />
			<column name="TO_STATE"                   		type="varchar(2)" />
			<column name="FROM_STATE"                 		type="varchar(2)" />
			<column name="CHEQUEID"                   		type="number" />
			<column name="EXEMPTED"                   		type="varchar(1)" />
			<column name="BUSINESSdatetime"               	type="datetime" />
			<column name="PROCESSdatetime"                	type="datetime" />
			<column name="PROCESSED_FLAG"             		type="varchar(1)" />
			<column name="REVERSE_CHARGECODEID"       		type="number(16)" />
			<column name="AGREEMENTID"                		type="number(8)" />
			<column name="CONSIDER_FOR_GST"           		type="varchar(1)" />
			<column name="EXEMPTED_STATE"             		type="varchar(1)" />
			<column name="EXEMPTED_CUSTOMER"          		type="varchar(1)" />
		</createTable>
</changeSet>
<changeSet author="Jayant" id="244">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId"
				valueComputed="(select max(WorkFlowId) + 1 from WorkFlowDetails)" />
			<column name="WorkFlowType">GST_UPLOAD_PROCESS</column>
			<column name="WorkFlowSubType">GST_UPLOAD_PROCESS</column>
			<column name="WorkFlowDesc">GST Upload Process Workflow</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">MSTGRP1_MAKER;MSTGRP1_APPROVER</column>
			<column name="FirstTaskOwner">MSTGRP1_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn">28-JUN-2017</column>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode">Null</column>
			<column name="NextRoleCode">Null</column>
			<column name="TaskId">Null</column>
			<column name="NextTaskId">Null</column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	
<changeSet id="245" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":979,"properties":{"process_id":"GST_UPLOAD_PROCESS","name":"GST_UPLOAD_PROCESS","documentation":"GST Upload Process Workflow","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-63B3DFC3-79D0-4C2E-A3A0-F383A48F7050"}],"bounds":{"lowerRight":{"x":130,"y":105},"upperLeft":{"x":100,"y":75}},"dockers":[]},{"resourceId":"sid-98F7AF1B-D082-4034-BDDE-7DAAA440C88E","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"MSTGRP1_MAKER","firstName":"MSTGRP1_MAKER","fullName":"MSTGRP1_MAKER","id":"MSTGRP1_MAKER","roledesc":"Workflow Maker","$$hashKey":"object:901"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-0B32FD3D-70FA-4467-BD6E-219850019D6B"},{"resourceId":"sid-E88F25FD-7E24-4D98-8BBE-79B07740A4EF"}],"bounds":{"lowerRight":{"x":265,"y":130},"upperLeft":{"x":165,"y":50}},"dockers":[]},{"resourceId":"sid-63B3DFC3-79D0-4C2E-A3A0-F383A48F7050","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-98F7AF1B-D082-4034-BDDE-7DAAA440C88E"}],"bounds":{"lowerRight":{"x":164.78125,"y":90},"upperLeft":{"x":130.0625,"y":90}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-98F7AF1B-D082-4034-BDDE-7DAAA440C88E"}},{"resourceId":"sid-B97A1A5D-E2A2-47E1-A87C-812B29F5FFCC","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"MSTGRP1_APPROVER","firstName":"MSTGRP1_APPROVER","fullName":"MSTGRP1_APPROVER","id":"MSTGRP1_APPROVER","roledesc":"Workflow Approver","$$hashKey":"object:1781"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF682FC-460D-496A-B9F7-60498241B1CA"}],"bounds":{"lowerRight":{"x":445,"y":130},"upperLeft":{"x":345,"y":50}},"dockers":[]},{"resourceId":"sid-1C20D96E-7DC8-40FA-9B5A-8EB9FC0A5C6A","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-82E7C1E7-ADB8-4B29-B419-FCA03F2280DA"},{"resourceId":"sid-B81446CB-66E1-4FC1-828E-F630B0514570"}],"bounds":{"lowerRight":{"x":520,"y":110},"upperLeft":{"x":480,"y":70}},"dockers":[]},{"resourceId":"sid-5FF682FC-460D-496A-B9F7-60498241B1CA","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1C20D96E-7DC8-40FA-9B5A-8EB9FC0A5C6A"}],"bounds":{"lowerRight":{"x":479.718761230466,"y":90.40151071673206},"upperLeft":{"x":445.453113769534,"y":90.23911428326794}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-1C20D96E-7DC8-40FA-9B5A-8EB9FC0A5C6A"}},{"resourceId":"sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED","properties":{"overrideid":"","name":"Cancel Process","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None","additionalforms":"","prioritydefinition":"Role Queue","type":"http://b3mn.org/stencilset/bpmn2.0#UserTask","usertaskassignment":"","baseactor":"","formkeydefinition":"","duedatedefinition":""},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-BF88E17A-D1B2-4E15-802D-565295782106"}],"bounds":{"lowerRight":{"x":550,"y":260},"upperLeft":{"x":450,"y":180}},"dockers":[]},{"resourceId":"sid-1FE0073F-5533-4DBD-91D3-34EBFAC9352E","properties":{"overrideid":"","name":"Complete Process","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None","additionalforms":"","prioritydefinition":"Role Queue","type":"http://b3mn.org/stencilset/bpmn2.0#UserTask","usertaskassignment":"","baseactor":"","formkeydefinition":"","duedatedefinition":""},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-18DBC044-805F-41FD-9ABE-A980AE515091"}],"bounds":{"lowerRight":{"x":700,"y":130},"upperLeft":{"x":600,"y":50}},"dockers":[]},{"resourceId":"sid-80707B94-C60E-43C5-844B-D03899990869","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":623,"y":234},"upperLeft":{"x":595,"y":206}},"dockers":[]},{"resourceId":"sid-BF88E17A-D1B2-4E15-802D-565295782106","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-80707B94-C60E-43C5-844B-D03899990869"}],"bounds":{"lowerRight":{"x":594.375,"y":220},"upperLeft":{"x":550.390625,"y":220}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-80707B94-C60E-43C5-844B-D03899990869"}},{"resourceId":"sid-49FB9F12-A7D3-47BA-B10C-02824FEE2D62","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":778,"y":104},"upperLeft":{"x":750,"y":76}},"dockers":[]},{"resourceId":"sid-18DBC044-805F-41FD-9ABE-A980AE515091","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-49FB9F12-A7D3-47BA-B10C-02824FEE2D62"}],"bounds":{"lowerRight":{"x":749.640625,"y":90},"upperLeft":{"x":700.875,"y":90}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-49FB9F12-A7D3-47BA-B10C-02824FEE2D62"}},{"resourceId":"sid-B81446CB-66E1-4FC1-828E-F630B0514570","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED"}],"bounds":{"lowerRight":{"x":500.42192027491734,"y":179.54297620359208},"upperLeft":{"x":500.15620472508266,"y":110.72264879640792}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED"}},{"resourceId":"sid-0B32FD3D-70FA-4467-BD6E-219850019D6B","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B97A1A5D-E2A2-47E1-A87C-812B29F5FFCC"}],"bounds":{"lowerRight":{"x":344.78125,"y":90},"upperLeft":{"x":265.21875,"y":90}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-B97A1A5D-E2A2-47E1-A87C-812B29F5FFCC"}},{"resourceId":"sid-82E7C1E7-ADB8-4B29-B419-FCA03F2280DA","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1FE0073F-5533-4DBD-91D3-34EBFAC9352E"}],"bounds":{"lowerRight":{"x":599.9453180927317,"y":90.43415553709944},"upperLeft":{"x":520.1874944072683,"y":90.16740696290056}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-1FE0073F-5533-4DBD-91D3-34EBFAC9352E"}},{"resourceId":"sid-E88F25FD-7E24-4D98-8BBE-79B07740A4EF","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED"}],"bounds":{"lowerRight":{"x":449.458984375,"y":220},"upperLeft":{"x":215,"y":130.609375}},"dockers":[{"x":50,"y":40},{"x":215,"y":220},{"x":50,"y":40}],"target":{"resourceId":"sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="GST_UPLOAD_PROCESS" name="GST_UPLOAD_PROCESS" isExecutable="true"><documentation>GST Upload Process Workflow</documentation><startEvent id="startEvent1" name="Start" /><userTask id="sid-98F7AF1B-D082-4034-BDDE-7DAAA440C88E" name="Maker" activiti:actor="MSTGRP1_MAKER" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-63B3DFC3-79D0-4C2E-A3A0-F383A48F7050" sourceRef="startEvent1" targetRef="sid-98F7AF1B-D082-4034-BDDE-7DAAA440C88E" representsUserAction="false" mandateNotes="false" /><userTask id="sid-B97A1A5D-E2A2-47E1-A87C-812B29F5FFCC" name="Approver" activiti:actor="MSTGRP1_APPROVER" activiti:assignmentLevel="Role Queue" /><exclusiveGateway id="sid-1C20D96E-7DC8-40FA-9B5A-8EB9FC0A5C6A" /><sequenceFlow id="sid-5FF682FC-460D-496A-B9F7-60498241B1CA" sourceRef="sid-B97A1A5D-E2A2-47E1-A87C-812B29F5FFCC" targetRef="sid-1C20D96E-7DC8-40FA-9B5A-8EB9FC0A5C6A" representsUserAction="false" mandateNotes="false" /><serviceTask id="sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED" name="Cancel Process" activiti:operation="doReject" /><serviceTask id="sid-1FE0073F-5533-4DBD-91D3-34EBFAC9352E" name="Complete Process" activiti:operation="doApprove" /><endEvent id="sid-80707B94-C60E-43C5-844B-D03899990869" name="Rejected" /><sequenceFlow id="sid-BF88E17A-D1B2-4E15-802D-565295782106" sourceRef="sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED" targetRef="sid-80707B94-C60E-43C5-844B-D03899990869" representsUserAction="false" mandateNotes="false" /><endEvent id="sid-49FB9F12-A7D3-47BA-B10C-02824FEE2D62" name="Approved" /><sequenceFlow id="sid-18DBC044-805F-41FD-9ABE-A980AE515091" sourceRef="sid-1FE0073F-5533-4DBD-91D3-34EBFAC9352E" targetRef="sid-49FB9F12-A7D3-47BA-B10C-02824FEE2D62" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-B81446CB-66E1-4FC1-828E-F630B0514570" name="Reject" sourceRef="sid-1C20D96E-7DC8-40FA-9B5A-8EB9FC0A5C6A" targetRef="sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-0B32FD3D-70FA-4467-BD6E-219850019D6B" name="Submit" sourceRef="sid-98F7AF1B-D082-4034-BDDE-7DAAA440C88E" targetRef="sid-B97A1A5D-E2A2-47E1-A87C-812B29F5FFCC" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><sequenceFlow id="sid-82E7C1E7-ADB8-4B29-B419-FCA03F2280DA" name="Approve" sourceRef="sid-1C20D96E-7DC8-40FA-9B5A-8EB9FC0A5C6A" targetRef="sid-1FE0073F-5533-4DBD-91D3-34EBFAC9352E" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><sequenceFlow id="sid-E88F25FD-7E24-4D98-8BBE-79B07740A4EF" name="Cancel" sourceRef="sid-98F7AF1B-D082-4034-BDDE-7DAAA440C88E" targetRef="sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow></process><bpmndi:BPMNDiagram id="BPMNDiagram_GST_UPLOAD_PROCESS"><bpmndi:BPMNPlane bpmnElement="GST_UPLOAD_PROCESS" id="BPMNPlane_GST_UPLOAD_PROCESS"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="75.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-98F7AF1B-D082-4034-BDDE-7DAAA440C88E" id="BPMNShape_sid-98F7AF1B-D082-4034-BDDE-7DAAA440C88E"><omgdc:Bounds height="80.0" width="100.0" x="165.0" y="50.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B97A1A5D-E2A2-47E1-A87C-812B29F5FFCC" id="BPMNShape_sid-B97A1A5D-E2A2-47E1-A87C-812B29F5FFCC"><omgdc:Bounds height="80.0" width="100.0" x="345.0" y="50.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-1C20D96E-7DC8-40FA-9B5A-8EB9FC0A5C6A" id="BPMNShape_sid-1C20D96E-7DC8-40FA-9B5A-8EB9FC0A5C6A"><omgdc:Bounds height="40.0" width="40.0" x="480.0" y="70.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED" id="BPMNShape_sid-B61A6B93-1302-41AB-A8F5-2BF249EEC7ED"><omgdc:Bounds height="80.0" width="100.0" x="450.0" y="180.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-1FE0073F-5533-4DBD-91D3-34EBFAC9352E" id="BPMNShape_sid-1FE0073F-5533-4DBD-91D3-34EBFAC9352E"><omgdc:Bounds height="80.0" width="100.0" x="600.0" y="50.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-80707B94-C60E-43C5-844B-D03899990869" id="BPMNShape_sid-80707B94-C60E-43C5-844B-D03899990869"><omgdc:Bounds height="28.0" width="28.0" x="595.0" y="206.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-49FB9F12-A7D3-47BA-B10C-02824FEE2D62" id="BPMNShape_sid-49FB9F12-A7D3-47BA-B10C-02824FEE2D62"><omgdc:Bounds height="28.0" width="28.0" x="750.0" y="76.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-0B32FD3D-70FA-4467-BD6E-219850019D6B" id="BPMNEdge_sid-0B32FD3D-70FA-4467-BD6E-219850019D6B"><omgdi:waypoint x="265.0" y="90.0" /><omgdi:waypoint x="345.0" y="90.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-18DBC044-805F-41FD-9ABE-A980AE515091" id="BPMNEdge_sid-18DBC044-805F-41FD-9ABE-A980AE515091"><omgdi:waypoint x="700.0" y="90.0" /><omgdi:waypoint x="750.0" y="90.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-E88F25FD-7E24-4D98-8BBE-79B07740A4EF" id="BPMNEdge_sid-E88F25FD-7E24-4D98-8BBE-79B07740A4EF"><omgdi:waypoint x="215.0" y="130.0" /><omgdi:waypoint x="215.0" y="220.0" /><omgdi:waypoint x="450.0" y="220.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-5FF682FC-460D-496A-B9F7-60498241B1CA" id="BPMNEdge_sid-5FF682FC-460D-496A-B9F7-60498241B1CA"><omgdi:waypoint x="445.0" y="90.23696682464455" /><omgdi:waypoint x="480.4047619047619" y="90.4047619047619" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-BF88E17A-D1B2-4E15-802D-565295782106" id="BPMNEdge_sid-BF88E17A-D1B2-4E15-802D-565295782106"><omgdi:waypoint x="550.0" y="220.0" /><omgdi:waypoint x="595.0" y="220.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-B81446CB-66E1-4FC1-828E-F630B0514570" id="BPMNEdge_sid-B81446CB-66E1-4FC1-828E-F630B0514570"><omgdi:waypoint x="500.4263565891473" y="109.57364341085271" /><omgdi:waypoint x="500.1544401544402" y="180.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-82E7C1E7-ADB8-4B29-B419-FCA03F2280DA" id="BPMNEdge_sid-82E7C1E7-ADB8-4B29-B419-FCA03F2280DA"><omgdi:waypoint x="519.5637583892617" y="90.43624161073825" /><omgdi:waypoint x="600.0" y="90.16722408026756" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-63B3DFC3-79D0-4C2E-A3A0-F383A48F7050" id="BPMNEdge_sid-63B3DFC3-79D0-4C2E-A3A0-F383A48F7050"><omgdi:waypoint x="130.0" y="90.0" /><omgdi:waypoint x="165.0" y="90.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='GST_UPLOAD_PROCESS'and workflowactive=1</where>
		</update>
	</changeSet>
<changeSet id="246" author="Pruthvi">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
</changeSet>
<changeSet id="244" author="Irfan">
<createView viewName="BUILDERGROUP_VIEW" replaceIfExists="true">
	SELECT		T1.Id, T1.Name, T1.Segmentation	,T2.ValueDesc SegmentationName	,T2.FieldCode
		, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM    	BuilderGroup_Temp  T1 INNER JOIN
		RMTLovFieldDetail   T2 ON T1.Segmentation = T2.FIELDCODEVALUE AND T2.FieldCode='SEGMENT'
    
		UNION ALL

		SELECT		T1.Id, T1.Name, T1.Segmentation,T2.ValueDesc SegmentationName,T2.FieldCode		
		, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM    	BuilderGroup  T1 INNER JOIN
		RMTLovFieldDetail   T2 ON T1.Segmentation = T2.FIELDCODEVALUE AND T2.FieldCode='SEGMENT'
		WHERE     NOT EXISTS (SELECT 1 FROM BuilderGroup_TEMP WHERE Id = T1.Id)

</createView>

</changeSet>
<changeSet id="245" author="Irfan">
	<createView viewName="BUILDERGROUP_AVIEW" replaceIfExists="true">
	SELECT		T1.Id, T1.Name, T1.Segmentation,T2.ValueDesc SegmentationName	,T2.FieldCode	
		, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM    	BuilderGroup  T1 INNER JOIN
		RMTLovFieldDetail   T2 ON T1.Segmentation = T2.FIELDCODEVALUE AND T2.FieldCode='SEGMENT'
	
	</createView>
</changeSet>
<changeSet id="246" author="Irfan">
	<createView viewName="BUILDERCOMPANY_VIEW" replaceIfExists="true">
		SELECT		T1.Id, T1.Name, T1.Segmentation,T1.GroupId ,T2.ValueDesc SegmentationName,T2.FieldCode ,T3.Name GroupIdName
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 			T1.WorkflowId
		FROM    	BuilderCompany_Temp  T1 INNER JOIN
		RMTLovFieldDetail   T2 ON T1.Segmentation = T2.FIELDCODEVALUE AND T2.FieldCode='SEGMENT' INNER JOIN
		BuilderGroup	T3 ON T1.GroupId = T3.Id
		UNION ALL

		SELECT		T1.Id, T1.Name, T1.Segmentation,T1.GroupId,T2.ValueDesc SegmentationName,T2.FieldCode ,T3.Name GroupIdName	
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 			T1.WorkflowId
		FROM    	BuilderCompany  T1 INNER JOIN
		RMTLovFieldDetail   T2 ON T1.Segmentation = T2.FIELDCODEVALUE  AND T2.FieldCode='SEGMENT' INNER JOIN
		BuilderGroup	T3 ON T1.GroupId = T3.Id
		WHERE     NOT EXISTS (SELECT 1 FROM BuilderCompany_TEMP WHERE Id = T1.Id)
	</createView>

</changeSet>
<changeSet id="247" author="Irfan">
	<createView viewName="BUILDERCOMPANY_AVIEW" replaceIfExists="true">
		SELECT		T1.Id, T1.Name, T1.Segmentation,T1.GroupId,T2.ValueDesc SegmentationName,T2.FieldCode ,T3.Name GroupIdName	
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 			T1.WorkflowId
		FROM    	BuilderCompany  T1 INNER JOIN
		RMTLovFieldDetail   T2 ON T1.Segmentation = T2.FIELDCODEVALUE AND T2.FieldCode='SEGMENT' INNER JOIN
		BuilderGroup	T3 ON T1.GroupId = T3.Id
	
	</createView>

</changeSet>

<changeSet id="244" author="Siva">
	<renameColumn columnDataType="int" newColumnName="TOTAL_RECORDS"
		oldColumnName="TOTALRECORDS" tableName="cibil_file_info" />
	<renameColumn columnDataType="int" newColumnName="PROCESSED_RECORDS"
		oldColumnName="PROCESSEDRECORDS" tableName="cibil_file_info" />
	<renameColumn columnDataType="int" newColumnName="SUCCESS_RECORDS"
		oldColumnName="SUCCESSRECORDS" tableName="cibil_file_info" />
	<renameColumn columnDataType="int" newColumnName="FAILED_RECORDS"
		oldColumnName="FAILEDRECORDS" tableName="cibil_file_info" />
</changeSet>
<changeSet id="248" author="Manoj.P">
	<addColumn tableName="cibil_file_info">
		<column name="START_TIME" type="datetime" />
	</addColumn>
	<addColumn tableName="FINSCHEDULEDETAILS_TEMP">
		<column name="END_TIME" type="datetime" />
	</addColumn>
</changeSet>

<changeSet id="249" author="Durgaprasad G">
		<sql>
			DELETE FROM SMTPARAMETERS WHERE SYSPARMCODE IN ('GST_TAXDETAIL_DOWNLOAD');
			INSERT INTO SMTPARAMETERS VALUES ('GST_TAXDETAIL_DOWNLOAD', 'Taxdetail download daily(Y) or monthly(N)', 'String', 1, 'Y', '1', 0, NULL, NULL, 'Taxdetail download daily(Y) or monthly(N).', 1, 1000,
			CURRENT_TIMESTAMP, 'Approved' ,NULL, NULL, NULL, NULL, NULL, 0);
		</sql>
	</changeSet>
<changeSet id="101.1" author="Jayant" dbms="mssql">
    <sql>
        alter table FinTaxUploadDetail_temp add constraint DF_FinTaxUpldDet_T_Ver default 0 for Version;
    </sql>
</changeSet>
<changeSet id="103.1" author="Jayant" dbms="mssql">
    <sql>
        alter table FinTaxUploadDetail_temp add constraint DF_FinTaxUpldDet_T_Ver default 0 for Version;
    </sql>
</changeSet>

<changeSet id="105.1" author="Jayant" dbms="mssql">
    <sql>
        alter table FinTaxDetailUploadHeader add constraint DF_FinTaxDetUpldHdr_T_Ver default 0 for Version;
    </sql>
</changeSet>
<changeSet id="123.1" author="Jayant" dbms="mssql">
    <sql>
        alter table CIBIL_ADDRESS_TYPES_MAPPING add constraint DF_CIBL_ADDR_TYPE_MAPNG_VER default 0 for Version;
    </sql>
</changeSet>
<changeSet id="125.1" author="Jayant" dbms="mssql">
    <sql>
        alter table CIBIL_PHONE_TYPES_MAPPING add constraint DF_CIBL_PHN_TYPE_MAPNG_VER default 0 for Version;
    </sql>
	</changeSet>
		<changeSet id="127.1" author="Jayant" dbms="mssql">
    <sql>
        alter table CIBIL_EMAIL_TYPES_MAPPING add constraint DF_CIBL_EML_TYPE_MAPNG_VER default 0 for Version;
    </sql>
	</changeSet>
	<changeSet id="133.1" author="Jayant" dbms="mssql">
    <sql>
	ALTER TABLE DATA_ENGINE_CONFIG DROP CONSTRAINT FK_DE_CONFIG_PARSER;
	</sql>
	</changeSet>
	
	<changeSet id="133" author="Durgaprasad G">
	<sql>
		DELETE FROM DATA_ENGINE_DB_DETAILS WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME ='GST_TAXDOWNLOAD_DETAILS');
		DELETE FROM DATA_ENGINE_CONFIG where Name = 'GST_TAXDOWNLOAD_DETAILS';
		
		INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'GST_TAXDOWNLOAD_DETAILS', 'GST Taxdownload Details', 0, NULL, NULL, NULL, NULL , 0, 0, NULL, NULL,  NULL, 'A', NULL, 'GSTFILE', NULL, 0, NULL, '', NULL, 0, NULL, 1, 1);
		INSERT INTO DATA_ENGINE_DB_DETAILS VALUES ((SELECT ID  FROM DATA_ENGINE_CONFIG WHERE NAME ='GST_TAXDOWNLOAD_DETAILS'),NULL,NULL,NULL,NULL,NULL,1); 
	</sql>
	</changeSet>
	
	<changeSet id="134" author="Durgaprasad G">
		<createIndex tableName="FINSCHEDULEDETAILS" indexName="IX_FINSCHDETAIL_PRESENTMENTID">
			<column name="PRESENTMENTID"/>
		</createIndex>
	</changeSet>
	
	<changeSet id="250" author="jayanth" dbms="oracle">
	<createView viewName="RPT_SOA_FINSMRY_VIEW" replaceIfExists="true">
		<![CDATA[ Select FinReference,comp,due,Receipt, C.ccyMinorccyunits,ccyEditField,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')APP_DATE,ordrby from (  
  Select T1.FinReference,T2.finccy,'Instalment Amount' comp,SUM(ProfitSchd + PrincipalSchd + Feeschd) due,
  SUM(SchdPriPaid+SchdPftPaid+Schdfeepaid) Receipt,1 ordrby 
  from FinScheduleDetails T1 
  Inner Join financeMain T2 on T1.FinReference = T2.FinReference
  where schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
  group by T1.Finreference, T2.FinCcy 
 union all
	 Select T1.FinReference,T2.finccy,'Principal Component' comp,SUM(PrincipalSchd) due,
  SUM(SchdPriPaid) Receipt ,2 ordrby 
  from FinScheduleDetails T1 
  Inner Join financeMain T2 on T1.FinReference = T2.FinReference
  where schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
  group by T1.Finreference, T2.FinCcy 
 union all
	 Select T1.FinReference,T2.finccy,'Interest Component' comp,SUM(ProfitSchd) due,
  SUM(SchdPftPaid) Receipt ,3 ordrby 
  from FinScheduleDetails T1 
  Inner Join financeMain T2 on T1.FinReference = T2.FinReference
  where schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
  group by T1.Finreference, T2.FinCcy 
  union all
	Select FinReference,finccy,'Late Payment Penalty' comp,coalesce(PenaltyDue,0) due,	coalesce(PenaltyPaid,0) Receipt ,4 ordrby 
  from FinPftDetails union all
	Select t1.Finreference,finccy,'Bounce Charges' comp, Sum(AdviseAmount) due,Sum(PaidAmount) Receipt,5 ordrby 
  from manualadvise t1 inner join FinPftDetails t2 on t1.finreference =T2.finreference where Bounceid>0 group by t1.Finreference,finccy union all
  Select t1.Finreference,finccy,'Other Receivables' comp, Sum(AdviseAmount) due,Sum(PaidAmount) Receipt,6 ordrby 
  from manualadvise t1 inner join FinPftDetails t2 on t1.finreference =T2.finreference where advisetype=1 
  group by t1.Finreference,finccy union all
   Select t1.Finreference,finccy,'Unadjusted Amount' comp,SUM(Coalesce(BalanceAmt,0))due,0,7 ordrby   from finexcessamount t1 inner join FinPftDetails t2 on t1.finreference =T2.finreference
   group by t1.Finreference,finccy union all
    Select t1.Finreference,finccy,'Other Payables' comp, Sum(Coalesce(BalanceAmt,0)) due,0 Receipt,8 ordrby 
  from manualadvise t1 inner join FinPftDetails t2 on t1.finreference =T2.finreference where advisetype=2
  group by t1.Finreference,finccy
 )T inner join RMTCURRENCIES C on C.ccycode= T.finccy]]>
	
	</createView>

</changeSet>

	<changeSet id="251" author="jayanth" dbms="oracle">
	<createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		<![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and t2.closingstatus!='C' and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk AMount Due ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and t2.closingstatus!='C'
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||'('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  ||'- Payable ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||PAYMENTREF||' '||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,10 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(t1.FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,11 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   t2.closingstatus!='C' 
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,12 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,13 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
		</changeSet>
		
	<changeSet id="252" author="jayanth" dbms="oracle">
	<createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		<![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and t2.closingstatus!='C' and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk AMount Due ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and t2.closingstatus!='C'
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||'('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  ||'- Payable ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and t3.closingstatus!='C'
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and t3.closingstatus!='C'
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||PAYMENTREF||' '||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,10 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(t1.FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,11 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   t2.closingstatus!='C' 
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,12 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,13 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
		</changeSet>
	
	
	<changeSet id="253" author="Durgaprasad g">
	<sql>
     	DELETE FROM DATA_ENGINE_DB_DETAILS WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME ='CUSTOMER_CURD_OPERATIONS');
		DELETE FROM DATA_ENGINE_CONFIG where Name = 'CUSTOMER_CURD_OPERATIONS';
		
		INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'CUSTOMER_CURD_OPERATIONS', 'Customer Curd Operations', 0, NULL, NULL, NULL, NULL , 0, 0, NULL, NULL,  NULL, 'A', NULL, 'CUSTOMER', NULL, 0, NULL, '', '0 0/5 * * * ?', 0, NULL, 1, 1);
		INSERT INTO DATA_ENGINE_DB_DETAILS VALUES ((SELECT ID  FROM DATA_ENGINE_CONFIG WHERE NAME ='CUSTOMER_CURD_OPERATIONS'),NULL,NULL,NULL,NULL,NULL,1); 
	</sql>
	</changeSet>
	<changeSet id="254" author="Subbarao">
	    <addColumn tableName="RejectDocumentDetails">
	           <column name="DOCRECEIVED" type="NUMBER(1,0)">
	               <constraints nullable="false"/>
	           </column>
	    </addColumn>
	</changeSet>
	<changeSet id="255" author="Jayant" dbms="oracle">
	    <createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		<![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and t2.closingstatus!='C' and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk AMount Due ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and t2.closingstatus!='C'
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||'('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  ||'- Payable ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and t3.closingstatus!='C'
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and t3.closingstatus!='C'
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||PAYMENTREF||' '||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,10 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(t1.FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,11 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   t2.closingstatus!='C' 
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,12 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,13 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
	</changeSet>
	<changeSet id="255" author="Jayant" dbms="mssql">
	    <createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		<![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select sysparmvalue sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('+T1.Finreference+')' else 
											  'Due for Installment '+T1.INSTNUMBER+' ('+T1.Finreference+')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and t2.closingstatus!='C' and 
			 schdate<=(Select sysparmvalue sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk AMount Due ('+T1.Finreference+')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('+T1.Finreference+')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and t2.closingstatus!='C'
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '+PAYMENTTYPE +' No.:'+FavourNumber +'('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) +'- Due ('+Finreference+')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  +'- Payable ('+Finreference+')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '+ (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)+'('+t2.Finreference+')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and t3.closingstatus!='C'
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and t3.closingstatus!='C'
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '+PAYMENTTYPE +' No.:'+PAYMENTREF+' '+FavourNumber +'('+REFERENCE+')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,10 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' + t1.FINODTILLDATE Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,11 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   t2.closingstatus!='C' 
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '+PaymentType+' :'+ (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)+'('+T1.Finreference+')' ,
    AmtToBeReleased Debit, 0 credit,12 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '+T1.PaymentType+' :'+ (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)+'('+T.Finreference+')' ,
    T1.PaymentAmount Debit, 0 credit,13 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
	</changeSet>
		<changeSet id="256" author="Jayant" dbms="oracle">
	    <sql>
	       ALTER TABLE RejectFinScheduledetails  RENAME COLUMN INSSCHD TO TMP1;
	       ALTER TABLE RejectFinScheduledetails  RENAME COLUMN SCHDINSPAID To TMP2;
	       ALTER TABLE RejectFinScheduledetails  RENAME COLUMN WRITEOFFINS TO TMP3;
	    </sql>
	</changeSet>
	<changeSet id="257" author="Jayant" dbms="oracle">
	    <sql>
	       ALTER TABLE RejectFinScheduledetails  RENAME COLUMN TMP1 TO WRITEOFFINS;
	       ALTER TABLE RejectFinScheduledetails  RENAME COLUMN TMP2 TO INSSCHD;
	       ALTER TABLE RejectFinScheduledetails  RENAME COLUMN TMP3 TO SCHDINSPAID;
	    </sql>
	</changeSet>
		<changeSet id="256" author="Jayant" dbms="mssql">
	    <sql>
	       	EXEC sp_RENAME  'RejectFinScheduledetails.INSSCHD' ,'TMP1','COLUMN';
	      	EXEC sp_RENAME  'RejectFinScheduledetails.SCHDINSPAID' ,'TMP2','COLUMN';
	       	EXEC sp_RENAME  'RejectFinScheduledetails.WRITEOFFINS','TMP3','COLUMN';
	    </sql>
	</changeSet>
	<changeSet id="257" author="Jayant" dbms="mssql">
	    <sql>
	       EXEC sp_RENAME  'RejectFinScheduledetails.TMP1','WRITEOFFINS','COLUMN';
	       EXEC sp_RENAME  'RejectFinScheduledetails.TMP2','INSSCHD','COLUMN';
	       EXEC sp_RENAME  'RejectFinScheduledetails.TMP3','SCHDINSPAID','COLUMN';
	    </sql>
	</changeSet>
	<changeSet id="258" author="Siva">
		<sql>
			Delete from SMTparameters where SysParmCode = 'FUTUREDAYS_STARTDATE';
	
			Insert into SMTPARAMETERS (SYSPARMCODE,SYSPARMDESC,SYSPARMTYPE,SYSPARMMAINT,SYSPARMVALUE,SYSPARMLENGTH,SYSPARMDEC,SYSPARMLIST,SYSPARMVALDMOD,
				SYSPARMDESCRIPTION,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID) 
				values ('FUTUREDAYS_STARTDATE','Number of Days Future Days allowed for Start Date','int',1,'25'
				,2,0,null,null,'Number of Days Future Days allowed for Start Date',1,1000,CURRENT_TIMESTAMP,	'Approved',null,null,null,null,null,0);
			</sql>
	</changeSet> 
	<changeSet author="Madhubabu" id="259">
		<sql>
			delete from errordetails where errorcode='99007';
			INSERT INTO ErrorDetails VALUES('99007','EN','E','{0} not valid for Aggrement no : {1}','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	<changeSet id="260" author="Manoj.P">
		<dropColumn tableName="FINSCHEDULEDETAILS_TEMP" columnName="END_TIME"/>
	</changeSet>
	<changeSet id="261" author="Manoj.P">
	<addColumn tableName="cibil_file_info">
		<column name="END_TIME" type="datetime" />
	</addColumn>
</changeSet>	

<changeSet id="262" author="Durgaprasad.g">
<sql>
    	DELETE FROM DATA_ENGINE_DB_DETAILS WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME ='CUSTOMER_CURD_OPERATIONS');
		
		INSERT INTO DATA_ENGINE_DB_DETAILS VALUES ((SELECT ID  FROM DATA_ENGINE_CONFIG WHERE NAME ='CUSTOMER_CURD_OPERATIONS'),NULL,'oracle.jdbc.driver.OracleDriver',
    'jdbc:oracle:thin:@192.168.1.19:1521:orcl','PLFDEV','Mvc/obOhI+nxJ3AByJh7Wg==',0); 
	
</sql>

</changeSet>

<changeSet id="263" author="Durgaprasad.g">
<sql>
  UPDATE DATA_ENGINE_DB_DETAILS SET PASSWORD = 'ENC(Mvc/obOhI+nxJ3AByJh7Wg==)' WHERE
  CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME ='CUSTOMER_CURD_OPERATIONS');
</sql>

</changeSet>
<changeSet id="264" author="Jayant" dbms="oracle">
	    <createView viewName="RPT_SOA_FINSMRY_VIEW" replaceIfExists="true">
		<![CDATA[  Select FinReference,comp,due,Receipt, C.ccyMinorccyunits,ccyEditField,
  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')APP_DATE,ordrby from (  
  Select T1.FinReference,T2.finccy,'Instalment Amount' comp,SUM(ProfitSchd + PrincipalSchd + Feeschd) due,
  SUM(SchdPriPaid+SchdPftPaid+Schdfeepaid) Receipt,1 ordrby 
  from FinScheduleDetails T1 
  Inner Join financeMain T2 on T1.FinReference = T2.FinReference
  where schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
  group by T1.Finreference, T2.FinCcy 
 union all
	 Select T1.FinReference,T2.finccy,'Principal Component' comp,SUM(PrincipalSchd) due,
  SUM(SchdPriPaid) Receipt ,2 ordrby 
  from FinScheduleDetails T1 
  Inner Join financeMain T2 on T1.FinReference = T2.FinReference
  where schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
  group by T1.Finreference, T2.FinCcy 
 union all
	 Select T1.FinReference,T2.finccy,'Interest Component' comp,SUM(ProfitSchd) due,
  SUM(SchdPftPaid) Receipt ,3 ordrby 
  from FinScheduleDetails T1 
  Inner Join financeMain T2 on T1.FinReference = T2.FinReference
  where schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
  group by T1.Finreference, T2.FinCcy 
  union all
	Select FinReference,finccy,'Late Payment Penalty' comp,coalesce(PenaltyDue,0) due,	coalesce(PenaltyPaid,0) Receipt ,4 ordrby 
  from FinPftDetails union all
  
	Select t1.Finreference,finccy,'Bounce Charges' comp, Coalesce(Sum(AdviseAmount),0) due,Coalesce(Sum(PaidAmount),0) Receipt,5 ordrby 
  from FinPftDetails t1 left join manualadvise t2 on t1.finreference =T2.finreference and Bounceid>0 group by t1.Finreference,finccy union all
  
  Select t1.Finreference,finccy,'Other Receivables' comp, Coalesce(Sum(AdviseAmount),0) due,Coalesce(Sum(PaidAmount),0) Receipt,6 ordrby 
  from FinPftDetails t1 left join manualadvise t2 on t1.finreference =T2.finreference and advisetype=1  and bounceid=0
  group by t1.Finreference,finccy union all
   Select t1.Finreference,finccy,'Unadjusted Amount' comp,Coalesce(SUM(BalanceAmt),0)due,0,7 ordrby   
   from FinPftDetails t1 left join finexcessamount t2 on t1.finreference =T2.finreference
   group by t1.Finreference,finccy union all
    Select t1.Finreference,finccy,'Other Payables' comp, Coalesce(Sum(BalanceAmt),0) due,0 Receipt,8 ordrby 
  from FinPftDetails t1 left join manualadvise t2 on t1.finreference =T2.finreference and advisetype=2
  group by t1.Finreference,finccy
 )T inner join RMTCURRENCIES C on C.ccycode= T.finccy]]>
		</createView>
	</changeSet>
	<changeSet id="265" author="Jayant" dbms="oracle">
	    <createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		<![CDATA[  Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and (t2.closingstatus!='C' or t2.closingstatus is null) and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk AMount Due ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and (t2.closingstatus!='C' or t2.closingstatus is null)
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||'('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  ||'- Payable ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||PAYMENTREF||' '||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,10 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(t1.FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,11 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   (t2.closingstatus!='C' or t2.closingstatus is null)
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,12 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,13 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
	</changeSet>
	<changeSet id="264" author="Jayant" dbms="mssql">
	    <createView viewName="RPT_SOA_FINSMRY_VIEW" replaceIfExists="true">
		<![CDATA[  Select FinReference,comp,due,Receipt, C.ccyMinorccyunits,ccyEditField,
  (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')APP_DATE,ordrby from (  
  Select T1.FinReference,T2.finccy,'Instalment Amount' comp,SUM(ProfitSchd + PrincipalSchd + Feeschd) due,
  SUM(SchdPriPaid+SchdPftPaid+Schdfeepaid) Receipt,1 ordrby 
  from FinScheduleDetails T1 
  Inner Join financeMain T2 on T1.FinReference = T2.FinReference
  where schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
  group by T1.Finreference, T2.FinCcy 
 union all
	 Select T1.FinReference,T2.finccy,'Principal Component' comp,SUM(PrincipalSchd) due,
  SUM(SchdPriPaid) Receipt ,2 ordrby 
  from FinScheduleDetails T1 
  Inner Join financeMain T2 on T1.FinReference = T2.FinReference
  where schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
  group by T1.Finreference, T2.FinCcy 
 union all
	 Select T1.FinReference,T2.finccy,'Interest Component' comp,SUM(ProfitSchd) due,
  SUM(SchdPftPaid) Receipt ,3 ordrby 
  from FinScheduleDetails T1 
  Inner Join financeMain T2 on T1.FinReference = T2.FinReference
  where schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
  group by T1.Finreference, T2.FinCcy 
  union all
	Select FinReference,finccy,'Late Payment Penalty' comp,coalesce(PenaltyDue,0) due,	coalesce(PenaltyPaid,0) Receipt ,4 ordrby 
  from FinPftDetails union all
  
	Select t1.Finreference,finccy,'Bounce Charges' comp, Coalesce(Sum(AdviseAmount),0) due,Coalesce(Sum(PaidAmount),0) Receipt,5 ordrby 
  from FinPftDetails t1 left join manualadvise t2 on t1.finreference =T2.finreference and Bounceid>0 group by t1.Finreference,finccy union all
  
  Select t1.Finreference,finccy,'Other Receivables' comp, Coalesce(Sum(AdviseAmount),0) due,Coalesce(Sum(PaidAmount),0) Receipt,6 ordrby 
  from FinPftDetails t1 left join manualadvise t2 on t1.finreference =T2.finreference and advisetype=1  and bounceid=0
  group by t1.Finreference,finccy union all
   Select t1.Finreference,finccy,'Unadjusted Amount' comp,Coalesce(SUM(BalanceAmt),0)due,0,7 ordrby   
   from FinPftDetails t1 left join finexcessamount t2 on t1.finreference =T2.finreference
   group by t1.Finreference,finccy union all
    Select t1.Finreference,finccy,'Other Payables' comp, Coalesce(Sum(BalanceAmt),0) due,0 Receipt,8 ordrby 
  from FinPftDetails t1 left join manualadvise t2 on t1.finreference =T2.finreference and advisetype=2
  group by t1.Finreference,finccy
 )T inner join RMTCURRENCIES C on C.ccycode= T.finccy]]>
		</createView>
	</changeSet>
	<changeSet id="265" author="Jayant" dbms="mssql">
	    <createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		<![CDATA[  Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('+T1.Finreference+')' else 
											  'Due for Installment '+T1.INSTNUMBER+' ('+T1.Finreference+')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and (t2.closingstatus!='C' or t2.closingstatus is null) and 
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk AMount Due ('+T1.Finreference+')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('+T1.Finreference+')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and (t2.closingstatus!='C' or t2.closingstatus is null)
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '+PAYMENTTYPE +' No.:'+FavourNumber +'('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) +'- Due ('+Finreference+')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  +'- Payable ('+Finreference+')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '+ (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)+'('+t2.Finreference+')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '+PAYMENTTYPE +' No.:'+PAYMENTREF+' '+FavourNumber +'('+REFERENCE+')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,10 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' + t1.FINODTILLDATE Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,11 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   (t2.closingstatus!='C' or t2.closingstatus is null)
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '+PaymentType+' :'+ (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)+'('+T1.Finreference+')' ,
    AmtToBeReleased Debit, 0 credit,12 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '+T1.PaymentType+' :'+ (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)+'('+T.Finreference+')' ,
    T1.PaymentAmount Debit, 0 credit,13 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
	</changeSet>
	
	<changeSet id="266" author="Durgaprasad.G">
	<createTable tableName="BatchFileHeader">
		<column name="ID" type="bigint">
			<constraints nullable="false" />
		</column>
		<column name="FileName" type="varchar(100)">
			<constraints nullable="false" />
		</column>
		<column name="StartTime" type="datetime" />
		<column name="EndTime" type="datetime" />
		<column name="TotalRecords" type="int" />
		<column name="SucessRecords" type="int" />
		<column name="FailedRecords" type="int" />
		<column name="Remarks" type="varchar(2000)" />
	</createTable>
</changeSet>

	<changeSet id="277" author="Durgaprasad.G">
		<addPrimaryKey tableName="BatchFileHeader" columnNames="ID" />
	</changeSet>

	<changeSet id="288" author="Durgaprasad.G">
		<createTable tableName="BatchFileDetails">
			<column name="FileId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="Reference" type="varchar(30)">
				<constraints nullable="false" />
			</column>
			<column name="Status" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="ErrorDesc" type="varchar(1000)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet id="289" author="Durgaprasad.G">
		<addForeignKeyConstraint constraintName="FK_BATCH_FILE_DETAILS_ID"
			referencedTableName="BatchFileHeader" referencedColumnNames="ID"
			baseTableName="BatchFileDetails" baseColumnNames="FileId" />
	</changeSet>

	<changeSet id="290" author="Durgaprasad.G">
		<createTable tableName="SeqBatchFileHeader">
			<column name="SeqNo" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="291" author="Durgaprasad.G">
	 <sql>
	  Insert into SeqBatchFileHeader Values (0);
	 </sql>
	</changeSet>
	
	<changeSet id="292" author="Durgaprasad.G" dbms="oracle">
	<dropNotNullConstraint tableName="BatchFileDetails" columnName="ErrorDesc"/>
	</changeSet>
		<changeSet id="292" author="Durgaprasad.G" dbms="mssql">
	<dropNotNullConstraint tableName="BatchFileDetails" columnName="ErrorDesc" columnDataType="varchar"/>
	</changeSet>
	<changeSet id="293" author="Manoj">
  		 <addColumn tableName="CIBIL_FILE_INFO_LOG">
				<column name="STATUS" type="Char(1)"/>
		</addColumn>
	</changeSet>
	<changeSet id="294" author=" Jayant">
	    <sql>
	        update rmtfinancetypes set manualschedule=0;
	    </sql>
	</changeSet>
	<changeSet id="295" author="Durgaprasad.G">
	<createView viewName="FileBatchStatus_AView" replaceIfExists="true">
	 SELECT ID, FILENAME FROM BATCHFILEHEADER
	</createView>
	</changeSet>
	
	<changeSet id="296" author="Kesav">
		<createView viewName="FINFEERECEIPTS_AVIEW" replaceIfExists="true">
			SELECT	      T1.Id, T1.FEEID,T1.RECEIPTID, T1.PAIDAMOUNT, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, 
		                  T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
		                  T2.AMOUNT ReceiptAmount, T2.TRANSACTIONREF, T2.FAVOURNUMBER,
		                  T3.FEETYPEID,
						  T4.FeeTypeCode, T4.FeeTypeDesc FeeType, 
		                  T5.RECEIPTMODE ReceiptType
		      FROM    	  FinFeeReceipts  T1 
		      Inner Join  FINRECEIPTDETAIL T2 on T1.ReceiptID = T2.RECEIPTID
			  Inner Join  FinFeeDetail T3 on T1.FeeId = T3.FEEID
			  Inner JOin  FeeTypes T4  On T3.FeeTypeId = T4.FeeTypeId
		      Inner Join  FINRECEIPTHEADER T5 on T1.RECEIPTID = T5.RECEIPTID
		</createView>
	</changeSet>
	
	<changeSet id="297" author="Kesav">
		<createView viewName="FINFEERECEIPTS_TVIEW" replaceIfExists="true">
			SELECT	      T1.Id, T1.FEEID,T1.RECEIPTID, T1.PAIDAMOUNT, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, 
		                  T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
		                  T2.AMOUNT ReceiptAmount, T2.TRANSACTIONREF, T2.FAVOURNUMBER,
		                  T3.FEETYPEID,
						  T4.FeeTypeCode, T4.FeeTypeDesc FeeType, 
		                  T5.RECEIPTMODE ReceiptType
		      FROM    	  FinFeeReceipts_Temp  T1 
		      Inner Join  FINRECEIPTDETAIL T2 on T1.ReceiptID = T2.RECEIPTID
			  Inner Join  FinFeeDetail T3 on T1.FeeId = T3.FEEID
			  Inner JOin  FeeTypes T4  On T3.FeeTypeId = T4.FeeTypeId
		      Inner Join  FINRECEIPTHEADER T5 on T1.RECEIPTID = T5.RECEIPTID
		</createView>
	</changeSet>
	
	<changeSet id="298" author="Kesav">
		<createView viewName="FINFEERECEIPTS_VIEW" replaceIfExists="true">
			SELECT	      T1.Id, T1.FEEID,T1.RECEIPTID, T1.PAIDAMOUNT, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, 
		                  T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
		                  T2.AMOUNT ReceiptAmount, T2.TRANSACTIONREF, T2.FAVOURNUMBER,
		                  T3.FEETYPEID,
						  T4.FeeTypeCode, T4.FeeTypeDesc FeeType, 
		                  T5.RECEIPTMODE ReceiptType
		      FROM    	  FinFeeReceipts_Temp  T1 
		      Inner Join  FINRECEIPTDETAIL T2 on T1.ReceiptID = T2.RECEIPTID
			  Inner Join  FinFeeDetail T3 on T1.FeeId = T3.FEEID
			  Inner JOin  FeeTypes T4  On T3.FeeTypeId = T4.FeeTypeId
		      Inner Join  FINRECEIPTHEADER T5 on T1.RECEIPTID = T5.RECEIPTID
			  
			  UNION ALL
			  
			  SELECT	  T1.Id, T1.FEEID,T1.RECEIPTID, T1.PAIDAMOUNT, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, 
		                  T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
		                  T2.AMOUNT ReceiptAmount, T2.TRANSACTIONREF, T2.FAVOURNUMBER,
		                  T3.FEETYPEID,
						  T4.FeeTypeCode, T4.FeeTypeDesc FeeType, 
		                  T5.RECEIPTMODE ReceiptType
		      FROM    	  FinFeeReceipts  T1 
		      Inner Join  FINRECEIPTDETAIL T2 on T1.ReceiptID = T2.RECEIPTID
			  Inner Join  FinFeeDetail T3 on T1.FeeId = T3.FEEID
			  Inner JOin  FeeTypes T4  On T3.FeeTypeId = T4.FeeTypeId
		      Inner Join  FINRECEIPTHEADER T5 on T1.RECEIPTID = T5.RECEIPTID		

			  WHERE     (NOT EXISTS  (SELECT  1 FROM FinFeeReceipts_Temp WHERE (Id = T1.Id)))
		</createView>
	</changeSet>
	
	<changeSet id="299" author="Prasad" dbms="oracle">
	    <createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		<![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and (t2.closingstatus!='C' or t2.closingstatus is null) and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk Amount Due ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and (t2.closingstatus!='C' or t2.closingstatus is null)
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||'('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  ||'- Payable ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||PAYMENTREF||' '||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,10 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(t1.FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,11 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   (t2.closingstatus!='C' or t2.closingstatus is null)
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,12 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,13 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
	</changeSet>
	<changeSet id="299" author="Prasad" dbms="mssql">
	    <createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		<![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('+T1.Finreference+')' else 
											  'Due for Installment '+T1.INSTNUMBER+' ('+T1.Finreference+')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and (t2.closingstatus!='C' or t2.closingstatus is null) and 
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
     Select T1.Finreference,Schdate,  'Bulk Amount Due ('+T1.Finreference+')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,2 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('+T1.Finreference+')' Particulars,
			 Repayamount Debit, 0 Credit,3 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and (t2.closingstatus!='C' or t2.closingstatus is null)
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '+PAYMENTTYPE +' No.:'+FavourNumber +'('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			   Amount debit, 0 credit,4 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) +'- Due ('+Finreference+')' ,m.ADVISEAMOUNT Debit ,0 Credit ,5 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  +'- Payable ('+Finreference+')' ,0 Debit ,m.ADVISEAMOUNT Credit ,6 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '+ (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)+'('+t2.Finreference+')' Particulars ,0,t2.WaivedAmount,7 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', RemainingFee+PaidAmount Debit, 0 credit,8 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '+PAYMENTTYPE +' No.:'+PAYMENTREF+' '+FavourNumber +'('+REFERENCE+')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,10 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' + t1.FINODTILLDATE Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,11 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   (t2.closingstatus!='C' or t2.closingstatus is null)
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '+PaymentType+' :'+ (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)+'('+T1.Finreference+')' ,
    AmtToBeReleased Debit, 0 credit,12 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '+T1.PaymentType+' :'+ (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)+'('+T.Finreference+')' ,
    T1.PaymentAmount Debit, 0 credit,13 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy]]>
		</createView>
	</changeSet>
	<changeSet id="300" author="Sriklanth">
	<sql>
		INSERT INTO ErrorDetails VALUES('90343','EN','E','Customer dedup found.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	</sql>
	</changeSet>
	<changeSet id="301" author="murthy.y">
		<dropPrimaryKey tableName="ALM"/>
	</changeSet>
	<changeSet id="302" author="murthy.y">
		<createView viewName="INT_ALM_VIEW" replaceIfExists="true">
			SELECT 
			FM.FINREFERENCE,
			FM.FINTYPE,
			FM.FINSTARTDATE,
			FM.MATURITYDATE,
			CASE  WHEN FM.CLOSINGSTATUS='W' THEN 'WRITEOFF' ELSE 'REGULAR' END CLOSINGSTATUS,
			CASE
			    WHEN (SELECT COUNT(RH.REFERENCE) EMIADV
			      FROM FINRECEIPTDETAIL RD
			      INNER JOIN FINRECEIPTHEADER RH
			      ON RH.RECEIPTID  =RH.RECEIPTID
			      WHERE PAYMENTTYPE='EMIINADV'
			      AND RH.REFERENCE = FM.FINREFERENCE) > 0
			    THEN 'Y'
			    ELSE 'N'
			  END ADVFLAG,
			CCY.CCYMINORCCYUNITS,
			CCY.CCYEDITFIELD
			FROM FINANCEMAIN FM 
			INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FM.FINCCY
			where FINISACTIVE=1
		</createView>
	</changeSet>
	<changeSet id="303" author="Madhubabu">
	<sql>
	delete from SMTPARAMETERS where sysparmcode='GST_FILEUPLOAD_PATH';
	INSERT INTO SMTPARAMETERS VALUES ('GST_FILEUPLOAD_PATH','GST File Uplaod path','String',1,'/opt/PFF/GST/backUp','200',0,NULL, NULL, 'GST File Uplaod path',1,1000,	CURRENT_TIMESTAMP,	'Approved'	,NULL,	NULL,	NULL,	NULL,	NULL,	0);
	</sql>
	</changeSet>
	
	<changeSet id="304" author="Kesav">
		<createView viewName="FINFEERECEIPTS_TVIEW" replaceIfExists="true">
			SELECT	      T1.Id, T1.FEEID,T1.RECEIPTID, T1.PAIDAMOUNT, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, 
		                  T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
		                  T2.AMOUNT ReceiptAmount, T2.TRANSACTIONREF, T2.FAVOURNUMBER,
		                  T3.FEETYPEID,
						  T4.FeeTypeCode, T4.FeeTypeDesc FeeType, 
		                  T5.RECEIPTMODE ReceiptType
		      FROM    	  FinFeeReceipts_Temp  T1 
		      Inner Join  FINRECEIPTDETAIL T2 on T1.ReceiptID = T2.RECEIPTID
			  Inner Join  FinFeeDetail_Temp T3 on T1.FeeId = T3.FEEID
			  Inner JOin  FeeTypes T4  On T3.FeeTypeId = T4.FeeTypeId
		      Inner Join  FINRECEIPTHEADER T5 on T1.RECEIPTID = T5.RECEIPTID
		</createView>
	</changeSet>
	
	<changeSet id="305" author="Kesav">
		<createView viewName="FINFEERECEIPTS_VIEW" replaceIfExists="true">
			SELECT	      T1.Id, T1.FEEID,T1.RECEIPTID, T1.PAIDAMOUNT, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, 
		                  T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
		                  T2.AMOUNT ReceiptAmount, T2.TRANSACTIONREF, T2.FAVOURNUMBER,
		                  T3.FEETYPEID,
						  T4.FeeTypeCode, T4.FeeTypeDesc FeeType, 
		                  T5.RECEIPTMODE ReceiptType
		      FROM    	  FinFeeReceipts_Temp  T1 
		      Inner Join  FINRECEIPTDETAIL T2 on T1.ReceiptID = T2.RECEIPTID
			  Inner Join  FinFeeDetail_Temp T3 on T1.FeeId = T3.FEEID
			  Inner JOin  FeeTypes T4  On T3.FeeTypeId = T4.FeeTypeId
		      Inner Join  FINRECEIPTHEADER T5 on T1.RECEIPTID = T5.RECEIPTID
			  
			  UNION ALL
			  
			  SELECT	  T1.Id, T1.FEEID,T1.RECEIPTID, T1.PAIDAMOUNT, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, 
		                  T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
		                  T2.AMOUNT ReceiptAmount, T2.TRANSACTIONREF, T2.FAVOURNUMBER,
		                  T3.FEETYPEID,
						  T4.FeeTypeCode, T4.FeeTypeDesc FeeType, 
		                  T5.RECEIPTMODE ReceiptType
		      FROM    	  FinFeeReceipts  T1 
		      Inner Join  FINRECEIPTDETAIL T2 on T1.ReceiptID = T2.RECEIPTID
			  Inner Join  FinFeeDetail T3 on T1.FeeId = T3.FEEID
			  Inner JOin  FeeTypes T4  On T3.FeeTypeId = T4.FeeTypeId
		      Inner Join  FINRECEIPTHEADER T5 on T1.RECEIPTID = T5.RECEIPTID		

			  WHERE     (NOT EXISTS  (SELECT  1 FROM FinFeeReceipts_Temp WHERE (Id = T1.Id)))
		</createView>
	</changeSet>
	<changeSet id="306" author="Madhubabu">
	<sql>
	Insert into RMTLovfielddetail values ((select max(fieldcodeid)+1 from RMTLovfielddetail),'ACC_TYPE','OD','OverDraft Account',1,1,1000,Current_Timestamp,'Approved',null,null,null,null,null,0,0);
	Insert into RMTLovfielddetail values ((select max(fieldcodeid)+1 from RMTLovfielddetail),'ACC_TYPE','CC','Cash Credit Account',1,1,1000,Current_Timestamp,'Approved',null,null,null,null,null,0,0);
	</sql>
	</changeSet>
	<changeSet id="307" author="murthy.y">
		<sql>update DATA_ENGINE_CONFIG set UPLOADLOCATION = 'C' WHERE NAME = 'DISB_HDFC_EXPORT';</sql>
	</changeSet>
	<changeSet id="308" author="murthy.y">
		<sql>
			update DATA_ENGINE_CONFIG set UPLOADLOCATION = 'C' WHERE NAME = 'DISB_HDFC_IMPORT';
			update DATA_ENGINE_CONFIG set UPLOADLOCATION = 'A' WHERE NAME = 'DISB_HDFC_EXPORT';
		</sql>
	</changeSet>
	<changeSet id="313" author="Sai">
		<createView viewName="ETL_RMTFINANCETYPES" replaceIfExists="true">
			select FinType, FinCategory, FinTypeDesc, ${add.schema}UDF_CONVERTCURRENCY(FinMaxAmount, FinCcy, FinCcy) FinMaxAmount
  , ${add.schema}UDF_CONVERTCURRENCY(FinMinAmount, FinCcy, FinCcy) FinMinAmount, FinIsAlwMD
  , FinBaseRate, FinSplRate, FinMargin, FinIntRate, FinSchdMthd, FinGrcBaseRate
  , FinGrcSplRate, FinGrcMargin, FinGrcIntRate, FinIsAlwGrcRepay, FinGrcSchdMthd
  , FinRepayMethod, FinIsAlwPartialRpy, FinIsActive, StepFinance, SteppingMandatory
  , AlwdStepPolicies, PlanEMIHMaxPerYear, PlanEMIHMax, PlanEMIHLockPeriod
  , UnPlanEMIHLockPeriod, UnPlanEMICpz, MaxUnplannedEmi, AlwUnPlanEmiHoliday, AlwMaxDisbCheckReq
from RMTFINANCETYPES
		</createView>
	</changeSet>
	<changeSet id="309" author="Sai">
		<createView viewName="ETL_PROMOTIONS" replaceIfExists="true">
			select P.PROMOTIONCODE FinType, LT.FinCategory, P.PROMOTIONDESC FinTypeDesc
  , ${add.schema}UDF_CONVERTCURRENCY(P.FINMAXAMOUNT, LT.FinCcy, LT.FinCcy) FinMaxAmount
  , ${add.schema}UDF_CONVERTCURRENCY(P.FINMINAMOUNT, LT.FinCcy, LT.FinCcy) FinMinAmount
  , LT.FinIsAlwMD, LT.FInIsAlwGrace, LT.FinRateType, P.FinBaseRate, P.FinSplRate
  , P.FinMargin, P.ACTUALINTERESTRATE FinIntRate, P.FInMinRate, P.FinMaxRate
  , LT.FinSchdMthd, LT.FinGrcRateType, LT.FinGrcBaseRate, LT.FinGrcSplRate
  , LT.FinGrcMargin, P.FinMinTerm, P.FinMaxTerm, LT.FInRepayMethod, P.ACTIVE FinIsActive
  , LT.StepFinance, LT.SteppingMandatory, LT.AlwManualSteps, LT.AlwdStepPolicies, LT.DftStepPolicy
  , P.FINTYPE Product, P.StartDate, P.EndDate, LT.AlwMultiPartyDisb, LT.PlanEMIHAlw
  , LT.PlanEMIHMethod, LT.PlanEMIHMaxPerYear, LT.PlanEMIHMax, LT.PlanEMIHLockPeriod
  , LT.UnPlanEMIHLockPeriod, LT.UnPlanEMICpz, LT.MaxUnplannedEmi, LT.AlwUnPlanEmiHoliday
  , LT.AlwMaxDisbCheckReq
from PROMOTIONS P
  inner join RMTFINANCETYPES LT on LT.FinType = P.FinType
		</createView>
	</changeSet>
	<changeSet id="310" author="Sai">
		<createView viewName="ETL_VASSTRUCTURE" replaceIfExists="true">
			select PRODUCTCODE, PRODUCTTYPE, PRODUCTDESC, FREELOCKPERIOD, REMARKS, ACTIVE
  , ${add.schema}UDF_CONVERTCURRENCY(VASFEE, sys_param.APP_CCY, sys_param.APP_CCY) VASFEE
  , ALLOWFEETOMODIFY, MANUFACTURERID
from VASSTRUCTURE
  cross join (select SYSPARMVALUE APP_CCY from SMTPARAMETERS where SYSPARMCODE = 'APP_DFT_CURR') sys_param
		</createView>
	</changeSet>
	<changeSet id="311" author="Sai">
		<createView viewName="ETL_VAS_MANUFACTURER" replaceIfExists="true">
			select DEALERID, DEALERNAME, DEALERTELEPHONE, DEALERFAX, DEALERADDRESS1, DEALERADDRESS2
  , DEALERTYPE, DEALERADDRESS3, DEALERCOUNTRY, DEALERPROVINCE, DEALERCITY, EMAIL
  , POBOX, ZIPCODE, Active
from AMTVEHICLEDEALER where DEALERTYPE = 'VASM'
		</createView>
	</changeSet>
	
	<changeSet id="314" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTBRANCHES', 'Branches extract', 2, '"', '~', 0, 0, 'BranchCode,BranchDesc,BranchAddrLine1,BranchAddrLine2,BranchPOBox,BranchCity,BranchProvince,BranchCountry,BranchTel,BranchIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTBRANCHES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTBRANCHES'), 'RMTBRANCHES', 0, 'BranchCode', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchAddrLine1', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchAddrLine2', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchPOBox', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchCity', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchProvince', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchCountry', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchTel', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBRANCHES' and configid = (select id from data_engine_config where name = 'ME_RMTBRANCHES')), 'BranchIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="315" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BMTBANKDETAIL', 'Banks extract', 2, '"', '~', 0, 0, 'BankCode,BankName,Active,AccNoLength', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BMTBANKDETAIL_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BMTBANKDETAIL'), 'BMTBANKDETAIL', 0, 'BankCode', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTBANKDETAIL' and configid = (select id from data_engine_config where name = 'ME_BMTBANKDETAIL')), 'BankCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTBANKDETAIL' and configid = (select id from data_engine_config where name = 'ME_BMTBANKDETAIL')), 'BankName', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTBANKDETAIL' and configid = (select id from data_engine_config where name = 'ME_BMTBANKDETAIL')), 'Active', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTBANKDETAIL' and configid = (select id from data_engine_config where name = 'ME_BMTBANKDETAIL')), 'AccNoLength', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="316" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BANKBRANCHES', 'Bank Branches extract', 2, '"', '~', 0, 0, 'BankCode,BranchCode,BranchDesc,City,MICR,IFSC,Active,AddOfBranch', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BANKBRANCHES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BANKBRANCHES'), 'BANKBRANCHES', 0, 'BankCode', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'BankCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'BranchCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'BranchDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'City', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'MICR', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'IFSC', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'Active', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BANKBRANCHES' and configid = (select id from data_engine_config where name = 'ME_BANKBRANCHES')), 'AddOfBranch', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="317" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTCOUNTRYVSPROVINCE', 'Country States extract', 2, '"', '~', 0, 0, 'CPCountry,CPProvince,CPProvinceName,CPIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTCOUNTRYVSPROVINCE_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE'), 'RMTCOUNTRYVSPROVINCE', 0, 'CPCountry', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTCOUNTRYVSPROVINCE' and configid = (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE')), 'CPCountry', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTCOUNTRYVSPROVINCE' and configid = (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE')), 'CPProvince', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTCOUNTRYVSPROVINCE' and configid = (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE')), 'CPProvinceName', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTCOUNTRYVSPROVINCE' and configid = (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE')), 'CPIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="318" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTPROVINCEVSCITY', 'State Cities extract', 2, '"', '~', 0, 0, 'PCCountry,PCProvince,PCCity,PCCityName,BankRefNo,CITYISACTIVE', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTPROVINCEVSCITY_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY'), 'RMTPROVINCEVSCITY', 0, 'PCCountry', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'PCCountry', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'PCProvince', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'PCCity', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'PCCityName', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'BankRefNo', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTPROVINCEVSCITY' and configid = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY')), 'CITYISACTIVE', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="319" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BMTCUSTCATEGORIES', 'Customer Categories extract', 2, '"', '~', 0, 0, 'CustCtgCode,CustCtgDesc,CustCtgType,CustCtgIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BMTCUSTCATEGORIES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES'), 'BMTCUSTCATEGORIES', 0, 'CustCtgCode', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTCUSTCATEGORIES' and configid = (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES')), 'CustCtgCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTCUSTCATEGORIES' and configid = (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES')), 'CustCtgDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTCUSTCATEGORIES' and configid = (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES')), 'CustCtgType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTCUSTCATEGORIES' and configid = (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES')), 'CustCtgIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="320" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTBASERATECODES', 'Base Rate Codes extract', 2, '"', '~', 0, 0, 'BRType,BRTypeDesc,BRTypeIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTBASERATECODES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTBASERATECODES'), 'RMTBASERATECODES', 0, 'BRType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATECODES')), 'BRType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATECODES')), 'BRTypeDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATECODES')), 'BRTypeIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="321" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTBASERATES', 'Base Rates extract', 2, '"', '~', 0, 0, 'BRType,Currency,BREffDate,BRRate,BRTypeIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTBASERATES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTBASERATES'), 'RMTBASERATES', 0, 'BRType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATES')), 'BRType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATES')), 'Currency', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATES')), 'BREffDate', 0, 'N', 0, 'DATE:dd/MM/yyyy');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATES')), 'BRRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTBASERATES' and configid = (select id from data_engine_config where name = 'ME_RMTBASERATES')), 'BRTypeIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="322" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTSPLRATECODES', 'Special Rate Codes extract', 2, '"', '~', 0, 0, 'SRType,SRTypeDesc,SRIsActive', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTSPLRATECODES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTSPLRATECODES'), 'RMTSPLRATECODES', 0, 'SRType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATECODES')), 'SRType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATECODES')), 'SRTypeDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATECODES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATECODES')), 'SRIsActive', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="323" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTSPLRATES', 'Special Rates extract', 2, '"', '~', 0, 0, 'SRType,SREffDate,SRRate', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTSPLRATES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTSPLRATES'), 'RMTSPLRATES', 0, 'SRType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATES')), 'SRType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATES')), 'SREffDate', 0, 'N', 0, 'DATE:dd/MM/yyyy');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'RMTSPLRATES' and configid = (select id from data_engine_config where name = 'ME_RMTSPLRATES')), 'SRRate', 0, 'N', 0, 'NUMBER:###0.#########');

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="324" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BMTPRODUCT', 'Products extract', 2, '"', '~', 0, 0, 'ProductCode,ProductDesc', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BMTPRODUCT_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BMTPRODUCT'), 'BMTPRODUCT', 0, 'ProductCode', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTPRODUCT' and configid = (select id from data_engine_config where name = 'ME_BMTPRODUCT')), 'ProductCode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BMTPRODUCT' and configid = (select id from data_engine_config where name = 'ME_BMTPRODUCT')), 'ProductDesc', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="325" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_RMTFINANCETYPES', 'Loan Types extract', 2, '"', '~', 0, 0, 'FinType,FinCategory,FinTypeDesc,FinMaxAmount,FinMinAmount,FinIsAlwMD,FinBaseRate,FinSplRate,FinMargin,FinIntRate,FinSchdMthd,FinGrcBaseRate,FinGrcSplRate,FinGrcMargin,FinGrcIntRate,FinIsAlwGrcRepay,FinGrcSchdMthd,FinRepayMethod,FinIsAlwPartialRpy,FinIsActive,StepFinance,SteppingMandatory,AlwdStepPolicies,PlanEMIHMaxPerYear,PlanEMIHMax,PlanEMIHLockPeriod,UnPlanEMIHLockPeriod,UnPlanEMICpz,MaxUnplannedEmi,AlwUnPlanEmiHoliday,AlwMaxDisbCheckReq', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'RMTFINANCETYPES_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_RMTFINANCETYPES'), 'ETL_RMTFINANCETYPES', 0, 'FinType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinCategory', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinTypeDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinMaxAmount', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinMinAmount', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinIsAlwMD', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinBaseRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinSplRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinMargin', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinIntRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinSchdMthd', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinGrcBaseRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinGrcSplRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinGrcMargin', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinGrcIntRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinIsAlwGrcRepay', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinGrcSchdMthd', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinRepayMethod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinIsAlwPartialRpy', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'FinIsActive', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'StepFinance', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'SteppingMandatory', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'AlwdStepPolicies', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'PlanEMIHMaxPerYear', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'PlanEMIHMax', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'PlanEMIHLockPeriod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'UnPlanEMIHLockPeriod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'UnPlanEMICpz', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'MaxUnplannedEmi', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'AlwUnPlanEmiHoliday', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_RMTFINANCETYPES' and configid = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES')), 'AlwMaxDisbCheckReq', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="326" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_PROMOTIONS', 'Promotions extract', 2, '"', '~', 0, 0, 'FinType,FinCategory,FinTypeDesc,FinMaxAmount,FinMinAmount,FinIsAlwMD,FInIsAlwGrace,FinRateType,FinBaseRate,FinSplRate,FinMargin,FinIntRate,FInMinRate,FinMaxRate,FinSchdMthd,FinGrcRateType,FinGrcBaseRate,FinGrcSplRate,FinGrcMargin,FinMinTerm,FinMaxTerm,FInRepayMethod,FinIsActive,StepFinance,SteppingMandatory,AlwManualSteps,AlwdStepPolicies,DftStepPolicy,Product,StartDate,EndDate,AlwMultiPartyDisb,PlanEMIHAlw,PlanEMIHMethod,PlanEMIHMaxPerYear,PlanEMIHMax,PlanEMIHLockPeriod,UnPlanEMIHLockPeriod,UnPlanEMICpz,MaxUnplannedEmi,AlwUnPlanEmiHoliday,AlwMaxDisbCheckReq', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'PROMOTIONS_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_PROMOTIONS'), 'ETL_PROMOTIONS', 0, 'FinType', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinCategory', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinTypeDesc', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMaxAmount', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMinAmount', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinIsAlwMD', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FInIsAlwGrace', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinRateType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinBaseRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinSplRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMargin', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinIntRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FInMinRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMaxRate', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinSchdMthd', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinGrcRateType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinGrcBaseRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinGrcSplRate', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinGrcMargin', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMinTerm', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinMaxTerm', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FInRepayMethod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'FinIsActive', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'StepFinance', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'SteppingMandatory', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'AlwManualSteps', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'AlwdStepPolicies', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'DftStepPolicy', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'Product', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'StartDate', 0, 'N', 0, 'DATE:dd/MM/yyyy');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'EndDate', 0, 'N', 0, 'DATE:dd/MM/yyyy');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'AlwMultiPartyDisb', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'PlanEMIHAlw', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'PlanEMIHMethod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'PlanEMIHMaxPerYear', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'PlanEMIHMax', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'PlanEMIHLockPeriod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'UnPlanEMIHLockPeriod', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'UnPlanEMICpz', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'MaxUnplannedEmi', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'AlwUnPlanEmiHoliday', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_PROMOTIONS' and configid = (select id from data_engine_config where name = 'ME_PROMOTIONS')), 'AlwMaxDisbCheckReq', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="327" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_FINTYPEPARTNERBANKS', 'Loan Type Partner Banks extract', 2, '"', '~', 0, 0, 'Id,FinType,Purpose,PaymentMode,PartnerBankID', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'FINTYPEPARTNERBANKS_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS'), 'FINTYPEPARTNERBANKS', 0, 'Id', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'FINTYPEPARTNERBANKS' and configid = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS')), 'Id', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'FINTYPEPARTNERBANKS' and configid = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS')), 'FinType', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'FINTYPEPARTNERBANKS' and configid = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS')), 'Purpose', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'FINTYPEPARTNERBANKS' and configid = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS')), 'PaymentMode', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'FINTYPEPARTNERBANKS' and configid = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS')), 'PartnerBankID', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
<changeSet id="328" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_VASPRODUCTTYPE', 'VAS Product Types extract', 2, '"', '~', 0, 0, 'PRODUCTTYPE,PRODUCTTYPEDESC,PRODUCTCTG,ACTIVE', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'VASPRODUCTTYPE_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE'), 'VASPRODUCTTYPE', 0, 'PRODUCTTYPE', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'VASPRODUCTTYPE' and configid = (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE')), 'PRODUCTTYPE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'VASPRODUCTTYPE' and configid = (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE')), 'PRODUCTTYPEDESC', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'VASPRODUCTTYPE' and configid = (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE')), 'PRODUCTCTG', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'VASPRODUCTTYPE' and configid = (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE')), 'ACTIVE', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="329" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_VASSTRUCTURE', 'VAS Structure extract', 2, '"', '~', 0, 0, 'PRODUCTCODE,PRODUCTTYPE,PRODUCTDESC,FREELOCKPERIOD,REMARKS,ACTIVE,VASFEE,ALLOWFEETOMODIFY,MANUFACTURERID', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'VASSTRUCTURE_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_VASSTRUCTURE'), 'ETL_VASSTRUCTURE', 0, 'PRODUCTCODE', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'PRODUCTCODE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'PRODUCTTYPE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'PRODUCTDESC', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'FREELOCKPERIOD', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'REMARKS', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'ACTIVE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex, format) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'VASFEE', 0, 'N', 0, 'NUMBER:###0.#########');
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'ALLOWFEETOMODIFY', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VASSTRUCTURE' and configid = (select id from data_engine_config where name = 'ME_VASSTRUCTURE')), 'MANUFACTURERID', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="330" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_AMTVEHICLEDEALER_VASMANF', 'VAS Manufacturers extract', 2, '"', '~', 0, 0, 'DEALERID,DEALERNAME,DEALERTELEPHONE,DEALERFAX,DEALERADDRESS1,DEALERADDRESS2,DEALERTYPE,DEALERADDRESS3,DEALERCOUNTRY,DEALERPROVINCE,DEALERCITY,EMAIL,POBOX,ZIPCODE,Active', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'AMTVEHICLEDEALER_VASMANF_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF'), 'ETL_VAS_MANUFACTURER', 0, 'DEALERID', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERID', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERNAME', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERTELEPHONE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERFAX', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERADDRESS1', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERADDRESS2', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERTYPE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERADDRESS3', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERCOUNTRY', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERPROVINCE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'DEALERCITY', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'EMAIL', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'POBOX', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'ZIPCODE', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'ETL_VAS_MANUFACTURER' and configid = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF')), 'Active', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="331" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BUILDERGROUP', 'Builder Groups extract', 2, '"', '~', 0, 0, 'id,name,segmentation', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BUILDERGROUP_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BUILDERGROUP'), 'BUILDERGROUP', 0, 'id', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERGROUP' and configid = (select id from data_engine_config where name = 'ME_BUILDERGROUP')), 'id', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERGROUP' and configid = (select id from data_engine_config where name = 'ME_BUILDERGROUP')), 'name', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERGROUP' and configid = (select id from data_engine_config where name = 'ME_BUILDERGROUP')), 'segmentation', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="332" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BUILDERCOMPANY', 'Builder Companies extract', 2, '"', '~', 0, 0, 'id,name,segmentation,groupId', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BUILDERCOMPANY_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BUILDERCOMPANY'), 'BUILDERCOMPANY', 0, 'id', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERCOMPANY' and configid = (select id from data_engine_config where name = 'ME_BUILDERCOMPANY')), 'id', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERCOMPANY' and configid = (select id from data_engine_config where name = 'ME_BUILDERCOMPANY')), 'name', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERCOMPANY' and configid = (select id from data_engine_config where name = 'ME_BUILDERCOMPANY')), 'segmentation', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERCOMPANY' and configid = (select id from data_engine_config where name = 'ME_BUILDERCOMPANY')), 'groupId', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="333" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_BUILDERPROJCET', 'Builder Projects extract', 2, '"', '~', 0, 0, 'id,name,builderId,apfNo', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'BUILDERPROJCET_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_BUILDERPROJCET'), 'BUILDERPROJCET', 0, 'id', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERPROJCET' and configid = (select id from data_engine_config where name = 'ME_BUILDERPROJCET')), 'id', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERPROJCET' and configid = (select id from data_engine_config where name = 'ME_BUILDERPROJCET')), 'name', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERPROJCET' and configid = (select id from data_engine_config where name = 'ME_BUILDERPROJCET')), 'builderId', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'BUILDERPROJCET' and configid = (select id from data_engine_config where name = 'ME_BUILDERPROJCET')), 'apfNo', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	<changeSet id="334" author="Sai">
	<sql>
	insert into data_engine_config 
	(id, name, description, parser, textqualifier, columndelimiter, startingrow, skipheaderrow, header, trailer, uploadlocation, uploadpath, fileprefixname, fileextension, filesequenceno, filenameformat, notificationstatusemail, postevent, backupfile, active) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_config), 'ME_LOCALITY', 'Localities extract', 2, '"', '~', 0, 0, 'id,name,city', '${RECORD_COUNT}', 'A', '/opt/PFF/master_extract', 'LOCALITY_', '.dat', 0, '${SEQ_FILE},_${yyyyMMddHHmmss}', 0, 'MOVE_TO_S3_BUCKET', 0, 1);
insert into data_engine_table 
	(id, configid, name, operation, keyfields, recordlength, multirow, headertable) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_table), (select id from data_engine_config where name = 'ME_LOCALITY'), 'LOCALITY', 0, 'id', 0, 0, 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'LOCALITY' and configid = (select id from data_engine_config where name = 'ME_LOCALITY')), 'id', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'LOCALITY' and configid = (select id from data_engine_config where name = 'ME_LOCALITY')), 'name', 0, 'N', 0);
insert into data_engine_column 
	(id, tableid, name, skip, seqtype, startindex) 
	values ((select coalesce(max(id), 0) + 1 from data_engine_column), (select id from data_engine_table where name = 'LOCALITY' and configid = (select id from data_engine_config where name = 'ME_LOCALITY')), 'city', 0, 'N', 0);

update seq_data_engine_config set seqno = (select coalesce(max(id), 1) from data_engine_config);
update seq_data_engine_table  set seqno = (select coalesce(max(id), 1) from data_engine_table);
update seq_data_engine_column set seqno = (select coalesce(max(id), 1) from data_engine_column);
	</sql>
	</changeSet>
	
	
	<changeSet author="Siva" id="296">
		<addColumn tableName="FinanceMain">
			<column name="RoundingTarget" type="int" />
		</addColumn>
	</changeSet>
	<changeSet author="Siva" id="297">
		<addColumn tableName="FinanceMain_Temp">
			<column name="RoundingTarget" type="int" />
		</addColumn>
	</changeSet>
	<changeSet author="Siva" id="298">
		<addColumn tableName="FinanceMain_PA">
			<column name="RoundingTarget" type="int" />
		</addColumn>
	</changeSet>
	<changeSet author="Siva" id="299">
		<addColumn tableName="RejectFinanceMain">
			<column name="RoundingTarget" type="int" />
		</addColumn>
	</changeSet>
	<changeSet author="Siva" id="300">
		<addColumn tableName="WIFFinanceMain">
			<column name="RoundingTarget" type="int" />
		</addColumn>
	</changeSet>
	<changeSet author="Siva" id="301">
		<addColumn tableName="WIFFinanceMain_Temp">
			<column name="RoundingTarget" type="int" />
		</addColumn>
	</changeSet>
	
	<changeSet id="302" author="Siva">
		<createView viewName="FINANCEMAIN_AVIEW" replaceIfExists="true">
	 		SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, 
                      T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, 
                      T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment  lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T7.FinTypeDesc  lovDescFinTypeName, T7.FinMaxAmount  lovDescFinMaxAmt, T7.FinMinAmount  lovDescFinMinAmount, 
                      T1.MinDownpayPerc, T7.FinIsAlwDifferment  lovDescFinAlwDeferment, T7.FinIsDwPayRequired  lovDescDwnPayReq, 
                      T7.FinMaxDifferment  lovDescFinMaxDifferment,T12.BranchDesc  lovDescFinBranchName, T1.LastRepayDate, T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, 
                       T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef, T1.DepreciationFrq, T1.FinContractDate, 
                      T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount,   T17.AcrTillLBD  lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor,  T1.TotalRepayAmt, T1.ClosingStatus, T1.FinApprovedDate, 
                      T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                     T1.MigratedFinance, T1.ScheduleMaintained, T1.ScheduleRegenerated, T1.FinPurpose, 
                     T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.bankName, T1.iban, T1.accountType, T1.DdaReferenceNo, 
                      T7.FinScheduleOn  LovDescFinScheduleOn, T1.CustDSR,
                      T1.JointAccount, T1.JointCustId, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, T1.SecurityCollateral, 
                       T1.Approved,   T1.Discrepancy, T1.LimitApproved, T1.InvestmentRef, T1.GraceTerms, 
                      T7.FinDivision  lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps,  T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc  LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T1.DeviationApproval, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                    T1.SupplementRent, T1.IncreasedCost, T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FINPREAPPROVEDREF, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId,T1.FinCancelAc,T28.GenDeptDesc lovDescAccountsOfficer,T29.AgreeName,T29.MMAReference LovDescMMAReference,
					  T1.DSACode,T30.ROfficerDesc DSACodeDesc,T1.TDSApplicable,  T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,
					  T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , 
					  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo ,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.AvailedUnPlanEmi, T1.AvailedReAgeH,
					  T1.BpiAmount, T1.DeductFeeDisb,T1.RvwRateApplFor, T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay, T1.PromotionCode,T1.RestructureLoan,T1.OldFinReference,
					  T1.ReAgeBucket, T1.FinCategory, T1.ProductCategory, T1.RoundingTarget
						FROM         FinanceMain T1 INNER JOIN
                      RMTFinanceTypes  T7 ON T1.FinType = T7.FinType  LEFT OUTER JOIN
                      RMTBranches  T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FinPftDetails  T17 ON T17.FinReference = T1.FinReference LEFT OUTER JOIN
                      StepPolicyHeader  T24 ON T1.StepPolicy = T24.PolicyCode  LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN 
					  RMTGENDEPARTMENTS T28 ON T1.ACCOUNTSOFFICER = T28.GENDEPARTMENT LEFT OUTER JOIN
					  MMAgreements T29 ON T1.MMAId = T29.MMAId LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGENDEPARTMENTS T35 ON T1.SalesDepartment = T35.GENDEPARTMENT
		</createView>
	</changeSet>
	
	<changeSet id="303" author="Siva">
		<createView viewName="FINANCEMAIN_TVIEW" replaceIfExists="true">
			SELECT	T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount,  T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.FinTypeDesc lovDescFinTypeName, T2.FinMaxAmount lovDescFinMaxAmt, T2.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T4.BranchDesc lovDescFinBranchName, T1.LastRepayDate,  T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate,  T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount,  
                      T1.TotalRepayAmt,T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                      T1.MigratedFinance, T1.ScheduleMaintained, T1.ScheduleRegenerated, T1.FinPurpose,T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T1.CustDSR,
                      T1.JointAccount, T1.JointCustId, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral,  T1.Approved,   T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T2.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.LinkedFinRef, T1.NextUserId, T1.Priority, T5.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T1.DeviationApproval,T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                      T1.SupplementRent, T1.IncreasedCost, T1.CreditInsAmt, T1.RolloverFrq, 
                      T1.NextRolloverDate,  T1.ShariaStatus, T1.InitiateDate, T1.FinPreApprovedRef, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc, T6.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T7.ROfficerDesc DSACodeDesc,
					  T1.TDSApplicable, T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,
					  T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , 
					  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo ,
					  T1.ReferralId , T8.ROfficerDesc ReferralIdDesc, T1.DmaCode , T9.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T10.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.AvailedUnPlanEmi, T1.AvailedReAgeH,
					  T1.BpiAmount, T1.DeductFeeDisb,T1.RvwRateApplFor,T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay, T1.PromotionCode,T1.RestructureLoan,T1.OldFinReference,
					  T1.ReAgeBucket, T1.FinCategory, T1.ProductCategory, T1.RoundingTarget
			FROM      FinanceMain_Temp T1 INNER JOIN
                      RMTFinanceTypes T2 ON T1.FinType = T2.FinType  INNER JOIN
                      RMTBranches T4 ON T1.FinBranch = T4.BranchCode LEFT OUTER JOIN
                      StepPolicyHeader T5 ON T1.StepPolicy = T5.PolicyCode LEFT OUTER JOIN
                      RMTGenDepartments T6 ON T1.AccountsOfficer = T6.GenDepartment LEFT OUTER JOIN
					  RelationshipOfficers T7 ON T1.DSACode = T7.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T8 ON T1.ReferralId = T8.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T9 ON T1.DmaCode = T9.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T10 ON T1.SalesDepartment = T10.GenDepartment
		</createView>
	</changeSet>
	<changeSet id="304" author="Siva">
		<createView viewName="FINANCEMAIN_VIEW" replaceIfExists="true">
	SELECT     T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                     T7.FinTypeDesc lovDescFinTypeName, 
                      T7.FinMaxAmount lovDescFinMaxAmt, T7.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T7.FinIsAlwDifferment lovDescFinAlwDeferment, T7.FinIsDwPayRequired lovDescDwnPayReq, T7.FinMaxDifferment lovDescFinMaxDifferment, 
                      T12.BranchDesc lovDescFinBranchName, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate, 
                     T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, 
                        T17.AcrTillLBD lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor,  T1.TotalRepayAmt, 
                      T1.ClosingStatus, T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                     T1.MigratedFinance, T1.ScheduleMaintained, 
                      T1.ScheduleRegenerated, T1.FinPurpose, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T7.FinScheduleOn LovDescFinScheduleOn, T1.CustDSR, 
                     T1.JointAccount, T1.JointCustId, 
                      T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral,  T1.Approved,  T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T7.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T1.DeviationApproval, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                     T1.SupplementRent, T1.IncreasedCost,  T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FinPreApprovedRef, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc,T28.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T30.ROfficerDesc DSACodeDesc,
					 T1.TDSApplicable, T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,
					  T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.AvailedUnPlanEmi, T1.AvailedReAgeH, T1.BpiAmount, T1.DeductFeeDisb,T1.RvwRateApplFor,T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay, T1.PromotionCode,T1.RestructureLoan,T1.OldFinReference,
					  T1.ReAgeBucket, T1.FinCategory, T1.ProductCategory,T1.RoundingTarget
						FROM         FinanceMain_Temp T1   INNER JOIN
                      RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBranches T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FINPFTDETAILS T17 ON T17.FINREFERENCE = T1.FINREFERENCE LEFT OUTER JOIN
                      StepPolicyHeader T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN
                      RMTGenDepartments T28 ON T1.AccountsOfficer = T28.GenDepartment LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN 
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T35 ON T1.SalesDepartment = T35.GenDepartment 
			 
	UNION ALL
			SELECT     T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                     T7.FinTypeDesc lovDescFinTypeName, 
                      T7.FinMaxAmount lovDescFinMaxAmt, T7.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T7.FinIsAlwDifferment lovDescFinAlwDeferment, T7.FinIsDwPayRequired lovDescDwnPayReq, T7.FinMaxDifferment lovDescFinMaxDifferment, 
                      T12.BranchDesc lovDescFinBranchName, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate, 
                     T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, 
                        T17.AcrTillLBD lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor, T1.TotalRepayAmt, 
                      T1.ClosingStatus, T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                     T1.MigratedFinance, T1.ScheduleMaintained, 
                      T1.ScheduleRegenerated, T1.FinPurpose, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T7.FinScheduleOn LovDescFinScheduleOn, T1.CustDSR,  
                     T1.JointAccount, T1.JointCustId, 
                      T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral,  T1.Approved,  T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T7.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T1.DeviationApproval, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                     T1.SupplementRent, T1.IncreasedCost,  T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FinPreApprovedRef, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc,T28.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T30.ROfficerDesc DSACodeDesc,
					 T1.TDSApplicable, T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,
					  T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.AvailedUnPlanEmi, T1.AvailedReAgeH,
					  T1.BpiAmount, T1.DeductFeeDisb,T1.RvwRateApplFor,T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay, T1.PromotionCode,T1.RestructureLoan,T1.OldFinReference,
					  T1.ReAgeBucket, T1.FinCategory, T1.ProductCategory, T1.RoundingTarget
						FROM         FinanceMain T1 INNER JOIN
                      RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBranches T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FINPFTDETAILS T17 ON T17.FINREFERENCE = T1.FINREFERENCE LEFT OUTER JOIN
                      StepPolicyHeader T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN
                      RMTGenDepartments T28 ON T1.AccountsOfficer = T28.GenDepartment LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN 
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T35 ON T1.SalesDepartment = T35.GenDepartment 
						WHERE     (NOT EXISTS
                          (SELECT     1 Expr1
                            FROM          FinanceMain_Temp
                            WHERE      (FINREFERENCE = T1.FINREFERENCE)))
            </createView>
       </changeSet>
       <changeSet id="305" author="Siva">
		<createView viewName="WIFFINANCEMAIN_AVIEW" replaceIfExists="true">
SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, T1.FinType, 
                      T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, T1.FinStartDate, 
                      T1.FinAmount, T1.FinRepaymentAmount, T1.CustID, T1.Defferments, T1.PlanDeferCount, T1.FinIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,  T15.CustCIF lovDescCustCIF, 
                     T7.FinTypeDesc lovDescFinTypeName,T1.FinBranch, T1.FinSourceID, 
                      T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, T1.AvailedDefFrqChange, T7.FinMaxAmount lovDescFinMaxAmt, 
                      T7.FinMinAmount lovDescFinMinAmount, T7.FinIsAlwDifferment lovDescFinAlwDeferment, T1.MinDownpayPerc, 
                      T7.FinIsDwPayRequired lovDescDwnPayReq, T1.RecalType, T1.FinAssetValue, T7.FinMaxDifferment lovDescFinMaxDifferment, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, T1.DisbAccountId, T1.RepayAccountId, T1.AllowGrcRepay, 
                      T1.GrcSchdMthd, T1.RepayMargin, T1.GrcMargin, T1.DepreciationFrq, T1.FinCommitmentRef, T1.FinCurrAssetValue, T1.FinContractDate, T1.NextDepDate, 
                      T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount,    
                        T7.FinRvwRateApplFor,
                      T1.TotalRepayAmt, T1.ClosingStatus, T1.FinApprovedDate, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, 
                      T1.EffectiveRateOfReturn, T1.DownPayBank, T1.DownPaySupl, T7.FinDivision LovDescFinDivisionName, T1.GraceTerms, 
                      T14.FacilityType, T15.CustShrtName lovDescCustShrtName, T16.BranchDesc lovDescFinBranchName,
                      T1.TotalGrossGrcPft, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, T1.NoOfSteps, 
                     T1.LinkedFinRef, T7. Product LovDescFinProduct, 
                      T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
                      T1.RpyAdvMargin, T1.RpyAdvPftRate,T1.SupplementRent, T1.IncreasedCost, 
                       T1.feeAccountId, T1.TDSApplicable,T1.InsuranceAmt,T1.DeductInsDisb,
                      T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod ,  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , 
                      T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb, T1.BpiAmount, T1.DeductFeeDisb, T1.FeeChargeAmt,T1.RvwRateApplFor,T1.SchCalOnRvw,
                      T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay, T1.RoundingTarget
FROM          WIFFinanceMain T1 LEFT OUTER JOIN
                       WIFIndicativeTermDetail_Temp T14 ON T14.FinReference = T1.FinReference LEFT OUTER JOIN
                       Customers T15 ON T15.CustID = T1.CustID INNER JOIN
                       RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                       RMTBranches T16 ON T1.FinBranch = T16.BranchCode 
         </createView>
         </changeSet>
         
         <changeSet id="306" author="Siva">
		<createView viewName="WIFFINANCEMAIN_VIEW" replaceIfExists="true">
         SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, T1.FinType, 
                      T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, T1.FinStartDate, 
                      T1.FinAmount, T1.FinRepaymentAmount, T1.CustID, T1.Defferments, T1.PlanDeferCount, T1.FinIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,  T15.CustCIF lovDescCustCIF, 
                     T7.FinTypeDesc lovDescFinTypeName, T1.FinBranch, T1.FinSourceID, 
                      T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, T1.AvailedDefFrqChange, T7.FinMaxAmount lovDescFinMaxAmt, 
                      T7.FinMinAmount lovDescFinMinAmount, T7.FinIsAlwDifferment lovDescFinAlwDeferment, T1.MinDownpayPerc, 
                      T7.FinIsDwPayRequired lovDescDwnPayReq, T1.RecalType, T1.FinAssetValue, T7.FinMaxDifferment lovDescFinMaxDifferment, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, T1.DisbAccountId, T1.RepayAccountId, T1.AllowGrcRepay, 
                      T1.GrcSchdMthd, T1.RepayMargin, T1.GrcMargin, T1.DepreciationFrq, T1.FinCommitmentRef, T1.FinCurrAssetValue, T1.FinContractDate, T1.NextDepDate, 
                      T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount,T7.FinRvwRateApplFor, 
                      T1.TotalRepayAmt, T1.ClosingStatus, T1.FinApprovedDate, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, 
                      T1.EffectiveRateOfReturn, T1.DownPayBank, T1.DownPaySupl, T7.FinDivision LovDescFinDivisionName, T1.GraceTerms, 
                      T14.FacilityType, T15.CustShrtName lovDescCustShrtName, T16.BranchDesc lovDescFinBranchName,
                      T1.TotalGrossGrcPft, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, T1.NoOfSteps, 
                     T1.LinkedFinRef, T7. Product LovDescFinProduct, 
                      T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate,  T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
                      T1.RpyAdvMargin, T1.RpyAdvPftRate,T1.SupplementRent, T1.IncreasedCost, 
                     T1.feeAccountId, T1.TDSApplicable,T1.InsuranceAmt,T1.DeductInsDisb,
                      T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod ,  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb, T1.BpiAmount, T1.DeductFeeDisb, T1.FeeChargeAmt,T1.RvwRateApplFor,T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay,
                      T1.FinCategory, T1.ProductCategory, T1.RoundingTarget
FROM          WIFFinanceMain_Temp T1 LEFT OUTER JOIN
                       WIFIndicativeTermDetail_Temp T14 ON T14.FinReference = T1.FinReference LEFT OUTER JOIN
                       Customers T15 ON T15.CustID = T1.CustID INNER JOIN
                       RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                       RMTBranches T16 ON T1.FinBranch = T16.BranchCode 
UNION ALL
SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, T1.FinType, 
                      T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, T1.FinStartDate, 
                      T1.FinAmount, T1.FinRepaymentAmount, T1.CustID, T1.Defferments, T1.PlanDeferCount, T1.FinIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,  T15.CustCIF lovDescCustCIF, 
                     T7.FinTypeDesc lovDescFinTypeName,T1.FinBranch, T1.FinSourceID, 
                      T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, T1.AvailedDefFrqChange, T7.FinMaxAmount lovDescFinMaxAmt, 
                      T7.FinMinAmount lovDescFinMinAmount, T7.FinIsAlwDifferment lovDescFinAlwDeferment, T1.MinDownpayPerc, 
                      T7.FinIsDwPayRequired lovDescDwnPayReq, T1.RecalType, T1.FinAssetValue, T7.FinMaxDifferment lovDescFinMaxDifferment, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, T1.DisbAccountId, T1.RepayAccountId, T1.AllowGrcRepay, 
                      T1.GrcSchdMthd, T1.RepayMargin, T1.GrcMargin, T1.DepreciationFrq, T1.FinCommitmentRef, T1.FinCurrAssetValue, T1.FinContractDate, T1.NextDepDate, 
                      T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, T7.FinRvwRateApplFor, 
                      T1.TotalRepayAmt, T1.ClosingStatus, T1.FinApprovedDate, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, 
                      T1.EffectiveRateOfReturn, T1.DownPayBank, T1.DownPaySupl, T7.FinDivision LovDescFinDivisionName, T1.GraceTerms, 
                      T14.FacilityType, T15.CustShrtName lovDescCustShrtName, T16.BranchDesc lovDescFinBranchName,
                      T1.TotalGrossGrcPft, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, T1.NoOfSteps, 
                     T1.LinkedFinRef, T7. Product LovDescFinProduct, 
                      T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
                      T1.RpyAdvMargin, T1.RpyAdvPftRate,T1.SupplementRent, T1.IncreasedCost, 
                       T1.feeAccountId, T1.TDSApplicable,T1.InsuranceAmt,T1.DeductInsDisb,
                      T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod ,  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb, T1.BpiAmount, T1.DeductFeeDisb, T1.FeeChargeAmt,T1.RvwRateApplFor,T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay,
                      T1.FinCategory, T1.ProductCategory, T1.RoundingTarget
FROM          WIFFinanceMain T1 LEFT OUTER JOIN
                       WIFIndicativeTermDetail_Temp T14 ON T14.FinReference = T1.FinReference LEFT OUTER JOIN
                       Customers T15 ON T15.CustID = T1.CustID INNER JOIN
                       RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                       RMTBranches T16 ON T1.FinBranch = T16.BranchCode 
                      WHERE     (NOT EXISTS
                          (SELECT     1 Expr1
                            FROM          WIFFinanceMain_Temp
                            WHERE      (FinReference = T1.FinReference)))
       </createView>
       </changeSet>
       
       <changeSet id="307" author="Siva">
       		<sql>
				Update FinanceMain Set roundingtarget = (Select RoundingTarget From rmtfinancetypes WHERE FinanceMain.FinType = rmtfinancetypes.FinType);
				Update FinanceMain_Temp Set roundingtarget = (Select RoundingTarget From rmtfinancetypes WHERE FinanceMain_Temp.FinType = rmtfinancetypes.FinType);
				Update RejectFinanceMain Set roundingtarget = (Select RoundingTarget From rmtfinancetypes WHERE RejectFinanceMain.FinType = rmtfinancetypes.FinType);
				Update WIFFinanceMain Set roundingtarget = (Select RoundingTarget From rmtfinancetypes WHERE WIFFinanceMain.FinType = rmtfinancetypes.FinType);
				Update WIFFinanceMain_Temp Set roundingtarget = (Select RoundingTarget From rmtfinancetypes WHERE WIFFinanceMain_Temp.FinType = rmtfinancetypes.FinType);
       		</sql>
       </changeSet>
		<changeSet id="451" author="murthy.y">			
			<createTable tableName="DATA_ENGINE_EVENT_PROPERTIES">
				 <column name="CONFIG_ID" type="bigint">
				 	<constraints nullable="false" />
				 </column>
				 <column name="STORAGE_TYPE" type="varchar(10)" />
				 <column name="REGION_NAME" type="varchar(50)" />
				 <column name="BUCKET_NAME" type="varchar(100)" />
				 <column name="ACCESS_KEY" type="varchar(250)" />
				 <column name="SECRET_KEY" type="varchar(250)" />
			</createTable>
		</changeSet>

		<changeSet id="452" author="murthy.y">
				<addForeignKeyConstraint constraintName="FK_DE_EP_ID"
					referencedTableName="DATA_ENGINE_CONFIG" referencedColumnNames="ID"
					baseTableName="DATA_ENGINE_EVENT_PROPERTIES" baseColumnNames="CONFIG_ID" />
		</changeSet>
	<changeSet id="457" author="Jayant">
		<sql>
		    delete  from reportconfiguration where menuitemcode='menu_Item_PresentmentFileImport_Report';

			Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from reportconfiguration),'Excel:Presentment File Import','Presentment File Import',1,'PresentmentFileImport','pfsDatasource',1,'menu_Item_PresentmentFileImport_Report',2,1000,null,null,null,null,null,null,0,current_timestamp,0);

			delete from REPORTFILTERFIELDS where reportid = (select reportid from REPORTCONFIGURATION where menuitemcode='menu_Item_PresentmentFileImport_Report');

			Insert into REPORTFILTERFIELDS values ((select reportid from reportconfiguration where menuitemcode='menu_Item_PresentmentFileImport_Report'),1,'File Name','LOVSEARCH','File Name','ID',null,'FileBatchStatus','getId','getFileName',1,0,0,0,1,1,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp);
			Insert into REPORTFILTERFIELDS values ((select reportid from reportconfiguration where menuitemcode='menu_Item_PresentmentFileImport_Report'),2,'FinReference','LOVSEARCH','Loan Reference','FINREFERENCE',null,'FinanceMain','getFinReference','getFinReference',0,0,0,0,2,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp);
			Insert into REPORTFILTERFIELDS values ((select reportid from reportconfiguration where menuitemcode='menu_Item_PresentmentFileImport_Report'),3,'Finance Status','STATICLIST','Loan Status','STATUS','getPresentmentsStatusListForReport',null,null,null,0,0,0,0,3,0,' ',' ',' ',' ',250,0,'=',1,1000,'Approved',null,null,null,null,null,0,current_timestamp);
		    
		</sql>
	</changeSet>
	<changeSet id="458" author="Sai">
		<sql>
			delete from data_engine_event_properties;
		</sql>
	</changeSet>
	<changeSet id="459" author="Sai">
		<sql>
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BANKBRANCHES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BMTBANKDETAIL'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BMTPRODUCT'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BUILDERCOMPANY'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BUILDERGROUP'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_BUILDERPROJCET'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_LOCALITY'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_PROMOTIONS'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTBASERATECODES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTBASERATES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTBRANCHES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTFINANCETYPES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTSPLRATECODES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_RMTSPLRATES'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_VASPRODUCTTYPE'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'ME_VASSTRUCTURE'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O');
		</sql>
	</changeSet>
	<changeSet id="460" author="Sai">
		<sql>
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_BANKBRANCHES');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_BMTBANKDETAIL');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_BMTPRODUCT');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_BUILDERCOMPANY');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_BUILDERGROUP');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_BUILDERPROJCET');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_LOCALITY');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_PROMOTIONS');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_RMTBASERATECODES');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_RMTBASERATES');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_RMTBRANCHES');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_RMTSPLRATECODES');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_RMTSPLRATES');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE');
			update data_engine_config set backupfile = 1 where id = (select id from data_engine_config where name = 'ME_VASSTRUCTURE');
		</sql>
	</changeSet>
		<changeSet id="461" author="Sai">
			<sql>
				update data_engine_config set cronexpression = '0 0 3 ? * 1' where id = (select id from data_engine_config where name = 'ME_RMTBRANCHES');
				update data_engine_config set cronexpression = '0 0 3 ? * 1' where id = (select id from data_engine_config where name = 'ME_BMTBANKDETAIL');
				update data_engine_config set cronexpression = '0 0 3 ? * 1' where id = (select id from data_engine_config where name = 'ME_BANKBRANCHES');
				update data_engine_config set cronexpression = '0 0 3 1 * ?' where id = (select id from data_engine_config where name = 'ME_RMTCOUNTRYVSPROVINCE');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_RMTPROVINCEVSCITY');
				update data_engine_config set cronexpression = '0 0 3 1 * ?' where id = (select id from data_engine_config where name = 'ME_BMTCUSTCATEGORIES');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_RMTBASERATECODES');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_RMTBASERATES');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_RMTSPLRATECODES');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_RMTSPLRATES');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_BMTPRODUCT');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_RMTFINANCETYPES');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_PROMOTIONS');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_FINTYPEPARTNERBANKS');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_VASPRODUCTTYPE');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_VASSTRUCTURE');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_AMTVEHICLEDEALER_VASMANF');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_BUILDERGROUP');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_BUILDERCOMPANY');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_BUILDERPROJCET');
				update data_engine_config set cronexpression = '0 0 3 ? * *' where id = (select id from data_engine_config where name = 'ME_LOCALITY');
			</sql>
		</changeSet>
	<changeSet id="462" author="Manoj">
		<sql>
			update DATA_ENGINE_PARSERS set className = 'com.pennanttech.dataengine.writer.ExcelFileWriter' where className = 'com.pennanttech.dataengine.writer.ExelFileWriter';
		</sql>
	</changeSet>	
	
	<changeSet id="463" author="sreeRavali">
		<addColumn tableName="BMTPhoneTypes">
			<column name="PhoneTypeRegex" type="varchar(30)" />
		</addColumn>
	</changeSet>
	
	
	<changeSet id="464" author="sreeRavali">
	 <addColumn tableName="BMTPhoneTypes_Temp">
	  <column name="PhoneTypeRegex" type="varchar(30)"/>
	 </addColumn>
	</changeSet>
	
	<changeSet id="465" author="SreeRavali">
		<createView replaceIfExists="true" viewName="BMTPHONETYPES_AVIEW">
	SELECT  PhoneTypeCode, PhoneTypeDesc, PhoneTypeRegex, PhoneTypePriority, PhoneTypeIsActive, Version, 
	LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode,  TaskId, NextTaskId, RecordType, WorkflowId FROM    BMTPhoneTypes
</createView>  
 </changeSet>

	<changeSet id="466" author="SreeRavali">
		<createView replaceIfExists="true" viewName="BMTPHONETYPES_VIEW">
 SELECT     PhoneTypeCode, PhoneTypeDesc,PhoneTypeRegex, PhoneTypePriority, PhoneTypeIsActive, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId
FROM         BMTPhoneTypes_Temp
UNION ALL
SELECT     PhoneTypeCode, PhoneTypeDesc,PhoneTypeRegex, PhoneTypePriority, PhoneTypeIsActive, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode,  TaskId, NextTaskId, RecordType, WorkflowId
FROM         BMTPhoneTypes
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          BMTPhoneTypes_Temp
                            WHERE      PhoneTypeCode = BMTPhoneTypes.PhoneTypeCode)
</createView>
	</changeSet>
	
	<changeSet id="467" author="Kesav">
		<createView viewName="FINGUARANTORSDETAILS_AVIEW" replaceIfExists="true">
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
			            T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
						T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
						T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
			            (SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
			            T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
			            T3.CUSTID, T3.CustShrtName			            
			FROM        FinGuarantorsDetails T1 INNER JOIN
				        SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
				        Customers T3 ON T1.GuarantorCIF =  T3.CustCIF			
		</createView>
	</changeSet>

	<changeSet id="468" author="Kesav">
		<createView viewName="FINGUARANTORSDETAILS_TVIEW" replaceIfExists="true">
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
						 T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
						 T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
						 T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
						 (SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
						 T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
						 T3.CUSTID, T3.CustShrtName
			FROM        FinGuarantorsDetails_Temp T1 INNER JOIN
						SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
						Customers T3 ON T1.GuarantorCIF =  T3.CustCIF		
		</createView>
	</changeSet>

	<changeSet id="469" author="Kesav">
		<createView viewName="FINGUARANTORSDETAILS_VIEW" replaceIfExists="true">
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
						T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
						T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
						T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
						(SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
						T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
						T3.CUSTID, T3.CustShrtName			            
			FROM        FinGuarantorsDetails_Temp T1 INNER JOIN
						SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
						Customers T3 ON T1.GuarantorCIF =  T3.CustCIF
						
			UNION ALL
						
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
			            T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
			            T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
			            T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
			            (SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
			            T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
			            T3.CUSTID, T3.CustShrtName            
			FROM        FinGuarantorsDetails T1 INNER JOIN
			            SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
			            Customers T3 ON T1.GuarantorCIF =  T3.CustCIF
			
			WHERE     	NOT EXISTS (SELECT 1 FROM FinGuarantorsDetails_TEMP  WHERE GuarantorId = T1.GuarantorId)		
		</createView>
	</changeSet>
	<changeSet id="470" author="Madhubabu">
	<sql>
	update BMTPhoneTypes set PHONETYPEREGEX='[a-z]{10}' where PHONETYPEREGEX is null;
	</sql>
	</changeSet>
<changeSet id="471" author="Madhubabu">
		<createView viewName="CUSTOMERPHONENUMBERS_VIEW" replaceIfExists="true">
		SELECT     T1.PhoneCustID, T1.PhoneTypeCode, T1.PhoneCountryCode, T1.PhoneAreaCode, 
                      T1.PhoneNumber, T1.PhoneTypePriority, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId, T2.PhoneTypeDesc lovDescPhoneTypeCodeName, T3.CountryDesc lovDescPhoneCountryName
FROM         CustomerPhoneNumbers_TEMP T1 INNER JOIN
                      BMTPhoneTypes T2 ON T1.PhoneTypeCode = T2.PhoneTypeCode LEFT OUTER JOIN
                      BMTCountries T3 ON T1.PhoneCountryCode = T3.CountryCode
UNION ALL
SELECT     T1.PhoneCustID, T1.PhoneTypeCode, T1.PhoneCountryCode, T1.PhoneAreaCode, 
                      T1.PhoneNumber, T1.PhoneTypePriority, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId, T2.PhoneTypeDesc lovDescPhoneTypeCodeName, T3.CountryDesc lovDescPhoneCountryName
FROM         CustomerPhoneNumbers T1 INNER JOIN
                      BMTPhoneTypes T2 ON T1.PhoneTypeCode = T2.PhoneTypeCode LEFT OUTER JOIN
                      BMTCountries T3 ON T1.PhoneCountryCode = T3.CountryCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          CustomerPhoneNumbers_TEMP
                            WHERE      PhoneCustID = T1.PhoneCustID AND PhoneTypeCode = T1.PhoneTypeCode)		
		</createView>
	</changeSet>
<changeSet id="472" author="Madhubabu">
		<createView viewName="CUSTOMERPHONENUMBERS_VIEW" replaceIfExists="true">
		SELECT     T1.PhoneCustID, T1.PhoneTypeCode, T1.PhoneCountryCode, T1.PhoneAreaCode, 
                      T1.PhoneNumber, T1.PhoneTypePriority, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId, T2.PhoneTypeDesc lovDescPhoneTypeCodeName, T3.CountryDesc lovDescPhoneCountryName,T2.phoneTypeRegex phoneRegex
FROM         CustomerPhoneNumbers_TEMP T1 INNER JOIN
                      BMTPhoneTypes T2 ON T1.PhoneTypeCode = T2.PhoneTypeCode LEFT OUTER JOIN
                      BMTCountries T3 ON T1.PhoneCountryCode = T3.CountryCode
UNION ALL
SELECT     T1.PhoneCustID, T1.PhoneTypeCode, T1.PhoneCountryCode, T1.PhoneAreaCode, 
                      T1.PhoneNumber, T1.PhoneTypePriority, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId, T2.PhoneTypeDesc lovDescPhoneTypeCodeName, T3.CountryDesc lovDescPhoneCountryName,T2.phoneTypeRegex phoneRegex
FROM         CustomerPhoneNumbers T1 INNER JOIN
                      BMTPhoneTypes T2 ON T1.PhoneTypeCode = T2.PhoneTypeCode LEFT OUTER JOIN
                      BMTCountries T3 ON T1.PhoneCountryCode = T3.CountryCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          CustomerPhoneNumbers_TEMP
                            WHERE      PhoneCustID = T1.PhoneCustID AND PhoneTypeCode = T1.PhoneTypeCode)		
		</createView>
	</changeSet>
	<changeSet id="473" author="Madhubabu">
	<sql>
	update BMTPhoneTypes set PHONETYPEREGEX='[0-9]{10}';
	</sql>
	</changeSet>
	<changeSet id="474" author="Madhubabu">
		<createView viewName="CUSTOMERPHONENUMBERS_AVIEW" replaceIfExists="true">
		SELECT     T1.PhoneCustID, T1.PhoneTypeCode, T1.PhoneCountryCode, T1.PhoneAreaCode, 
           T1.PhoneNumber, T1.PhoneTypePriority, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
           T1.WorkflowId, T2.PhoneTypeDesc lovDescPhoneTypeCodeName, T3.CountryDesc lovDescPhoneCountryName,T2.phoneTypeRegex phoneRegex
FROM         CustomerPhoneNumbers T1 INNER JOIN
                      BMTPhoneTypes T2 ON T1.PhoneTypeCode = T2.PhoneTypeCode LEFT OUTER JOIN
                      BMTCountries T3 ON T1.PhoneCountryCode = T3.CountryCode
                      </createView>
	</changeSet>
	<changeSet id="475" author="Srikanth" dbms="oracle">
	<sql>
	delete from dedupparams where QUERYCODE = 'PAN' AND QUERYMODULE = 'Customer';
	Insert into dedupparams (QUERYID,QUERYCODE,QUERYMODULE,QUERYSUBCODE,QUERYDESC,SQLQUERY,ACTUALBLOCK,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID) 
	values ((select MAX(SeqNo)+1 from Seqdedupparams),'PAN','Customer','RETAIL','PAN DEDUP','Where((CustCRCPR = :CustCRCPR AND CustCRCPR IS NOT NULL  ))','(,CustCRCPR, = ,),',1,1000,to_date('01-JUL-17','DD-MON-RR'),'Approved',null,null,null,null,null,0);
	update Seqdedupparams set seqno = (select MAX(SeqNo)+1 from Seqdedupparams);
	</sql>
	</changeSet>
	<changeSet id="475" author="Srikanth" dbms="mssql">
	<sql>
	delete from dedupparams where QUERYCODE = 'PAN' AND QUERYMODULE = 'Customer';
	Insert into dedupparams (QUERYID,QUERYCODE,QUERYMODULE,QUERYSUBCODE,QUERYDESC,SQLQUERY,ACTUALBLOCK,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID) 
	values ((select MAX(SeqNo)+1 from Seqdedupparams),'PAN','Customer','RETAIL','PAN DEDUP','Where((CustCRCPR = :CustCRCPR AND CustCRCPR IS NOT NULL  ))','(,CustCRCPR, = ,),',1,1000,'01-JUL-17','Approved',null,null,null,null,null,0);
	update Seqdedupparams set seqno = (select MAX(SeqNo)+1 from Seqdedupparams);
	</sql>
	</changeSet>
	<changeSet id="476" author="Manoj.P">
		<sql>
			update data_engine_column set skip = 0 where tableid in (select ID from data_engine_table where configid = (select id  from DATA_ENGINE_CONFIG where name = 'MANDATES_EXPORT'))  and name = 'USERNAME';
		</sql>
	</changeSet>
	<changeSet id="477" author="Manoj.P">
		<sql>
			update data_engine_column set skip = 1 where tableid in (select ID from data_engine_table where configid = (select id  from DATA_ENGINE_CONFIG where name = 'MANDATES_EXPORT'))  and name = 'USERNAME';
		</sql>
	</changeSet>
	<changeSet id="478" author="Madhubabu" dbms="oracle">
	<sql>
		alter table CUSTOMERDOCUMENTS_TEMP modify (CUSTDOCTYPE null);
		alter table CUSTOMERDOCUMENTS modify (CUSTDOCTYPE null);

	</sql>
</changeSet>
<changeSet id="478" author="Madhubabu" dbms="mssql">
	<sql>
	    ALTER TABLE CUSTOMERDOCUMENTS_TEMP ALTER COLUMN CUSTDOCTYPE VARCHAR(10) NULL;
	    ALTER TABLE CUSTOMERDOCUMENTS ALTER COLUMN CUSTDOCTYPE VARCHAR(10) NULL;

	</sql>
</changeSet>
<changeSet id="479" author="Madhubabu">
		<createView viewName="CUSTOMERDOCUMENTS_VIEW" replaceIfExists="true">
			 SELECT T1.CustID ,T1.CustDocType ,T2.DocTypeDesc lovDescCustDocCategory,T1.CustDocTitle ,T1.CustDocSysName ,T1.CustDocRcvdOn ,T1.CustDocExpDate ,
			 T1.CustDocIssuedOn ,T1.CustDocIssuedCountry ,T3.CountryDesc lovDescCustDocIssuedCountry,T1.CustDocIsVerified ,T1.CustDocVerifiedBy ,T1.CustDocIsAcrive ,
			 T1.DocPurpose,T1.DocUri,T1.Version ,T1.LastMntBy ,T1.LastMntOn ,T1.RecordStatus ,T1.RoleCode ,T1.NextRoleCode ,T1.CustDocName ,T1.CustDocCategory ,
			 T1.CustDocImage ,T1.TaskId ,T1.NextTaskId ,T1.RecordType ,T1.WorkflowId ,T2.DocExpDateIsMand ,T2.DocIssueDateMand ,T2.DocIdNumMand	 ,T2.DocIssuedAuthorityMand	,
			 T2.docIsMandatory,T1.DocRefId	  
     FROM CustomerDocuments_Temp T1
            JOIN BMTDocumentTypes T2   ON T1.CustDocCategory = T2.DocTypeCode
            JOIN BMTCountries T3   ON T1.CustDocIssuedCountry = T3.CountryCode
   UNION ALL 
			   SELECT T1.CustID ,T1.CustDocType ,T2.DocTypeDesc lovDescCustDocCategory,T1.CustDocTitle ,T1.CustDocSysName ,T1.CustDocRcvdOn ,
			   T1.CustDocExpDate ,T1.CustDocIssuedOn ,T1.CustDocIssuedCountry ,T3.CountryDesc lovDescCustDocIssuedCountry,T1.CustDocIsVerified ,
			   T1.CustDocVerifiedBy ,T1.CustDocIsAcrive ,T1.DocPurpose,T1.DocUri,T1.Version ,T1.LastMntBy ,T1.LastMntOn ,T1.RecordStatus ,T1.RoleCode ,T1.NextRoleCode ,
			   T1.CustDocName ,T1.CustDocCategory ,T1.CustDocImage ,T1.TaskId ,T1.NextTaskId ,T1.RecordType ,T1.WorkflowId ,T2.DocExpDateIsMand , T2.DocIssueDateMand , 
			   T2.DocIdNumMand, T2.DocIssuedAuthorityMand, T2.docIsMandatory ,T1.DocRefId
     FROM CustomerDocuments T1
            JOIN BMTDocumentTypes T2   ON T1.CustDocCategory = T2.DocTypeCode
            JOIN BMTCountries T3   ON T1.CustDocIssuedCountry = T3.CountryCode
     WHERE NOT EXISTS ( SELECT 1 
                        FROM CustomerDocuments_Temp 
                          WHERE CustID = T1.CustID
                                  AND CustDocCategory = T1.CustDocCategory )
       </createView>
	</changeSet>
<changeSet id="480" author="Madhubabu">
		<createView viewName="CUSTOMERDOCUMENTS_AVIEW" replaceIfExists="true">
			  SELECT T1.CustID,T1.CustDocType,T2.DocTypeDesc lovDescCustDocCategory ,
          T1.CustDocTitle,T1.CustDocSysName,T1.CustDocRcvdOn,T1.CustDocExpDate,T1.CustDocIssuedOn,T1.CustDocIssuedCountry,
          T3.CountryDesc lovDescCustDocIssuedCountry,T1.CustDocIsVerified,T1.CustDocVerifiedBy,T1.CustDocIsAcrive,T1.Version,
          T1.LastMntBy,T1.LastMntOn,T1.RecordStatus,T1.RoleCode,T1.NextRoleCode,T1.CustDocName,T1.CustDocCategory,T1.CustDocImage,
          T1.TaskId,T1.NextTaskId,T1.RecordType,T1.WorkflowId,T2.DocExpDateIsMand,T2.DocIssueDateMand,
          T2.DocIdNumMand,T2.DocIssuedAuthorityMand,T2.docIsMandatory,T1.DocRefId,T1.DocPurpose,T1.DocUri
  FROM CustomerDocuments T1
            JOIN BMTDocumentTypes T2   ON T1.CustDocCategory = T2.DocTypeCode
            JOIN BMTCountries T3   ON T1.CustDocIssuedCountry = T3.CountryCode
       </createView>
	</changeSet>
	
	<changeSet id="481" author="Madhubabu">
		<modifyDataType tableName="CUSTOMERPHONENUMBERS" columnName="PHONENUMBER"
			newDataType="varchar(20)" />
	</changeSet>	
	<changeSet id="482" author="Madhubabu">
		<modifyDataType tableName="CUSTOMERPHONENUMBERS_Temp" columnName="PHONENUMBER"
			newDataType="varchar(20)" />
	</changeSet>

<changeSet id="483"  author="Jayanth">
	<sql>
	Update BMTAEEvents set AEEVENTCODEDESC = 'Loan Origination Approval' where AEEVENTCODE = 'ADDDBSP';
Update BMTAEEvents set AEEVENTCODEDESC = 'Loan Servicing - Additional Disbursements' where AEEVENTCODE = 'ADDDBSN';
Update BMTAEEvents set AEEVENTCODEDESC = 'Rate Change - Increasing' where AEEVENTCODE = 'RATCHG';
Update BMTAEEvents set AEEVENTCODEDESC = 'Schedule Change - Increasing' where AEEVENTCODE = 'SCDCHG';
		</sql>
	</changeSet>
	<changeSet id="484" author="Prasad" dbms="oracle">
		<createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
			  <![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and (t2.closingstatus!='C' or t2.closingstatus is null) and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
  Select t2.finreference,Schdate,FeeTypeDesc ||'- Due ('||T2.Finreference||')', SchAmount Debit, 0 credit,2 Ordby from finfeescheduledetail T1 
  Inner Join FinFeeDetail T2 on T1.FeeID = T2.FeeID
  Inner Join FeeTypes T3 On T2.FeeTypeid = T3.FeeTypeId 
  inner join financemain t4 on t4.FINREFERENCE =t2.FINREFERENCE
  where SchAmount!=0 and (t4.closingstatus!='C' or t4.closingstatus is null) 
  and  schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
union
     Select T1.Finreference,Schdate,  'Part Prepayment Amount ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,3 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,4 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and (t2.closingstatus!='C' or t2.closingstatus is null)
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||'('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,5 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,6 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  ||'- Payable ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,7 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,8 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', PaidAmount Debit, 0 credit,10 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||PAYMENTREF||' '||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,11 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(t1.FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,12 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   (t2.closingstatus!='C' or t2.closingstatus is null)
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,13 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,14 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy where Debit!=0 or credit !=0]]>
       </createView>
	</changeSet>
		<changeSet id="484" author="Prasad" dbms="mssql">
		<createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
			  <![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('+T1.Finreference+')' else 
											  'Due for Installment '+T1.INSTNUMBER+' ('+T1.Finreference+')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and (t2.closingstatus!='C' or t2.closingstatus is null) and 
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
  Select t2.finreference,Schdate,FeeTypeDesc +'- Due ('+T2.Finreference+')', SchAmount Debit, 0 credit,2 Ordby from finfeescheduledetail T1 
  Inner Join FinFeeDetail T2 on T1.FeeID = T2.FeeID
  Inner Join FeeTypes T3 On T2.FeeTypeid = T3.FeeTypeId 
  inner join financemain t4 on t4.FINREFERENCE =t2.FINREFERENCE
  where SchAmount!=0 and (t4.closingstatus!='C' or t4.closingstatus is null) 
  and  schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
union
     Select T1.Finreference,Schdate,  'Part Prepayment Amount ('+T1.Finreference+')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,3 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('+T1.Finreference+')' Particulars,
			 Repayamount Debit, 0 Credit,4 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and (t2.closingstatus!='C' or t2.closingstatus is null)
	union 	
  Select REFERENCE,T3.Postdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '+PAYMENTTYPE +' No.:'+FavourNumber +'('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			   Amount debit, 0 credit,5 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID
       Where T1.ReceiptModeStatus  IN ('B') and Advisetype=1 and Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) +'- Due ('+Finreference+')' ,m.ADVISEAMOUNT Debit ,0 Credit ,6 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  +'- Payable ('+Finreference+')' ,0 Debit ,m.ADVISEAMOUNT Credit ,7 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '+ (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)+'('+t2.Finreference+')' Particulars ,0,t2.WaivedAmount,8 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', RemainingFee+PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  +'- Due ('+T1.Finreference+')', PaidAmount Debit, 0 credit,10 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '+PAYMENTTYPE +' No.:'+PAYMENTREF+' '+FavourNumber +'('+REFERENCE+')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('+REFERENCE+')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'+PAYMENTREF +'('+REFERENCE+')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,11 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' + t1.FINODTILLDATE Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,12 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   (t2.closingstatus!='C' or t2.closingstatus is null)
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '+PaymentType+' :'+ (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)+'('+T1.Finreference+')' ,
    AmtToBeReleased Debit, 0 credit,13 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '+T1.PaymentType+' :'+ (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)+'('+T.Finreference+')' ,
    T1.PaymentAmount Debit, 0 credit,14 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy where Debit!=0 or credit !=0]]>
       </createView>
	</changeSet>
	<changeSet id="485" author="SreeRavali">
		<sql>
			INSERT INTO SecGroups SELECT (select MAX(GrpID)+1 from SecGroups), 'SPLRATE_MAKER', 'Special Rate Maker', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select MAX(GrpID)+1 from SecGroups), 'SPLRATE_APPROVER', 'Special Rate Approver', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;

			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_ApplicationMaster'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_ApplicationMaster_SplRate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_SplRateDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='SplRateDialog_sREffDate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='SplRateDialog_sRRate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='SplRateDialog_deleteRate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATE_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_ApplicationMaster'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATE_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_ApplicationMaster_SplRate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATE_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_SplRateDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
			INSERT INTO secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups where GrpCode = 'SPLRATE_MAKER'),(Select RoleID from secRoles where RoleCd = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, null, null,null,null,null,null,0);
			INSERT INTO secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups where GrpCode = 'SPLRATE_APPROVER'),(Select RoleID from secRoles where RoleCd = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, null, null,null,null,null,null,0);

			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
		</sql>
	</changeSet>
	<changeSet id="486" author="SreeRavali">
		<sql>
			INSERT INTO SecGroups SELECT (select MAX(GrpID)+1 from SecGroups), 'SPLRATECODE_MAKER', 'Special Rate Code Maker', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select MAX(GrpID)+1 from SecGroups), 'SPLRATECODE_APPROVER', 'Special Rate Code Approver', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;

			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATECODE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_ApplicationMaster'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATECODE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_ApplicationMaster_SplRateCode'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATECODE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_SplRateCodeDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATECODE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='SplRateCodeDialog_sRTypeDesc'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATECODE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='SplRateCodeDialog_sRIsActive'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATECODE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='SplRateDialog_deleteRate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATECODE_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_ApplicationMaster'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATECODE_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_ApplicationMaster_SplRateCode'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SPLRATECODE_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_SplRateCodeDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
			INSERT INTO secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups where GrpCode = 'SPLRATECODE_MAKER'),(Select RoleID from secRoles where RoleCd = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, null, null,null,null,null,null,0);
			INSERT INTO secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups where GrpCode = 'SPLRATECODE_APPROVER'),(Select RoleID from secRoles where RoleCd = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, null, null,null,null,null,null,0);

			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
		</sql>
	</changeSet>
	<changeSet id="487" author="SreeRavali">
		<sql>
		Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 0, 'menuItem_ApplicationMaster_CustomerCategory', 'MENU', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
		Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 2, 'button_CustomerCategoryList_NewCustomerCategory', 'CustomerCategoryList', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
		Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 2, 'button_CustomerCategoryDialog_btnSave', 'CustomerCategoryDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'CustomerCategoryDialog_custCtgDesc', 'CustomerCategoryDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'CustomerCategoryDialog_custCtgType', 'CustomerCategoryDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'CustomerCategoryDialog_custCtgIsActive', 'CustomerCategoryDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );


			INSERT INTO SecGroups SELECT (select MAX(GrpID)+1 from SecGroups), 'CUSTOMERCATEGORY_MAKER', 'CUSTOMER CATEGORY Maker', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
			INSERT INTO SecGroups SELECT (select MAX(GrpID)+1 from SecGroups), 'CUSTOMERCATEGORY_APPROVER', 'CUSTOMER CATEGORY Approver', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;

			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMERCATEGORY_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_ApplicationMaster'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMERCATEGORY_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_ApplicationMaster_CustomerCategory'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMERCATEGORY_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_CustomerCategoryList_NewCustomerCategory'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMERCATEGORY_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='CustomerCategoryDialog_custCtgDesc'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMERCATEGORY_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='CustomerCategoryDialog_custCtgType'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMERCATEGORY_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='CustomerCategoryDialog_custCtgIsActive'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMERCATEGORY_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_CustomerCategoryDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMERCATEGORY_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_ApplicationMaster'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMERCATEGORY_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_ApplicationMaster_CustomerCategory'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CUSTOMERCATEGORY_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_CustomerCategoryDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
			INSERT INTO secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups where GrpCode = 'CUSTOMERCATEGORY_MAKER'),(Select RoleID from secRoles where RoleCd = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, null, null,null,null,null,null,0);
			INSERT INTO secRoleGroups Values((Select max(RoleGrpID)+1 from secRoleGroups),(Select GrpID from SecGroups where GrpCode = 'CUSTOMERCATEGORY_APPROVER'),(Select RoleID from secRoles where RoleCd = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, null, null,null,null,null,null,0);

			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
		</sql>
	</changeSet>
	<changeSet id="488" author="Siva">
	    <sql>
	        update EXTENDEDFIELDHEADER set TABHEADING = 'Fin Fitness Report' WHERE ModuleName = 'Vas' AND SUBMODULENAME = 'VASFFR01';
			update EXTENDEDFIELDHEADER set TABHEADING = 'Protection Plan' WHERE ModuleName = 'Vas' AND SUBMODULENAME = 'GCPPLI';
			update EXTENDEDFIELDHEADER set TABHEADING = 'Personal Guard Plan' WHERE ModuleName = 'Vas' AND SUBMODULENAME = 'GPGI';
			update EXTENDEDFIELDHEADER set TABHEADING = 'Comph. Care Plan' WHERE ModuleName = 'Vas' AND SUBMODULENAME = 'CCPGI';
			update EXTENDEDFIELDHEADER set TABHEADING = 'Health Guard Plan' WHERE ModuleName = 'Vas' AND SUBMODULENAME = 'TMGI';
	    </sql>
	</changeSet>
	<changeSet id="489" author="Madhubabu">
	    <sql>
	    	delete from errordetails where errorcode='99006';
	        INSERT INTO ErrorDetails VALUES('99006','EN','E','For Reference:{0} the {1} length exceeding {2}','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	    </sql>
	</changeSet>
	
	<changeSet id="490" author="Durgaprasad G">
	 <createView viewName="TAXDOWNLOADDETAIL_VIEW" replaceIfExists="true">
	 	SELECT T1.POSTDATE,
			T1.LINKEDTRANID, T1.TRANSORDER,
			T1.FINEVENT,
			T5.ENTITYCODE ,
			T6.TAXNUMBER TAXNUMBER,
			T2.CUSTID CUSTID,
			T7.CUSTSHRTNAME  ,
			T6.TAXNUMBER CUSTOMERGSTIN ,
			T6.ADDRLINE1,
			T6.ADDRLINE2,
			T6.ADDRLINE3,
			T6.ADDRLINE4,
			T6.COUNTRY, 
			T6.PROVINCE, 
			T6.CITY, 
			T6.PINCODE,
			T6.LASTMNTON, 
			T7.CUSTCRCPR, 
			T1.ACCOUNT,
			T9.ACCADDLVAR1 HSNSACCODE, 
			T9.ACCADDLVAR1 NATUREOFSERVICE,
			T1.FINREFERENCE ,
			T2.FINTYPE,
			T2.FINBRANCH ,
			T11.CPPROVINCE, 
			T1.USERBRANCH, 
			T12.ADDRESSLINE1,
			T12.ADDRESSLINE2,
			T12.ADDRESSLINE3,
			T12.ADDRESSLINE4,
			T12.CITYCODE TAXCITYCODE,
			T12.STATECODE TAXSTATECODE,
			T12.COUNTRY TAXCOUNTRY,
			T12.PINCODE TAXPINCODE,
			T12.TAXCODE,
			T10.BRANCHADDRHNBR,              
			T10.BRANCHFLATNBR,              
			T10.BRANCHADDRSTREET,
			T10.BRANCHADDRLINE1,
			T10.BRANCHADDRLINE2,
			T10.BRANCHPOBOX,   
			T10.BRANCHCITY,
			T10.BRANCHPROVINCE,
			T10.BRANCHCOUNTRY,     
			T10.PINCODE BRANCHPINCODE,
			T1.POSTAMOUNT, 
			'' REVERSECHARGEAPPLICABLE,
			T1.POSTSTATUS STATUS, 
			'' ORIGINALINVOICENO,
			T13.CCYMINORCCYUNITS
			FROM POSTINGS_TAXDOWNLOAD T1 
			INNER JOIN FINANCEMAIN T2 ON T1.FINREFERENCE = T2.FINREFERENCE 
			INNER JOIN RMTFINANCETYPES T3 ON T2.FINTYPE = T3.FINTYPE 
			INNER JOIN SMTDIVISIONDETAIL T4 ON T3.FINDIVISION = T4.DIVISIONCODE
			INNER JOIN ENTITY T5 ON T5.ENTITYCODE = T4.ENTITYCODE
			LEFT JOIN FINTAXDETAIL T6 ON T6.FINREFERENCE = T1.FINREFERENCE 
			INNER JOIN CUSTOMERS T7 ON T7.CUSTID = T2.CUSTID
			INNER JOIN RMTACCOUNTTYPES T9 ON T9.ACTYPE = T1.ACCOUNTTYPE 
			INNER JOIN RMTBRANCHES T10 ON T10.BRANCHCODE = T2.FINBRANCH 
			INNER JOIN RMTCOUNTRYVSPROVINCE T11 ON T11.CPPROVINCE =  T10.BRANCHPROVINCE
			INNER JOIN TAXDETAIL T12 ON T10.BRANCHPROVINCE = T12.STATECODE AND T5.ENTITYCODE = T12.ENTITYCODE
			INNER JOIN RMTCURRENCIES T13 ON T13.CCYCODE = T1.ACCCY
	 </createView>
	</changeSet>
	<changeSet id="491" author="murthy.y">
		<dropTable  tableName="TRAIL_BALANCE_REPORT_LAST_RUN"/>
		<dropTable  tableName="TRAIL_BALANCE_REPORT"/>
	</changeSet>
	<changeSet id="492" author="murthy.y">
		<createTable tableName="TRAIL_BALANCE_REPORT">
			<column name="HEADERID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="COUNTRY" type="CHAR(2)">
				<constraints nullable="false" />
			</column>
			<column name="PROVINCE" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="HOSTACCOUNT" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="DESCRIPTION" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="DEBITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CREDITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet id="493" author="murthy.y">
		<addForeignKeyConstraint constraintName="FK_TBR_HID" referencedTableName="TRAIL_BALANCE_HEADER" referencedColumnNames="ID" baseTableName="TRAIL_BALANCE_REPORT" baseColumnNames="HEADERID" />
	</changeSet>
	<changeSet id="494" author="murthy.y">
		<createTable tableName="TRAIL_BALANCE_REPORT_LAST_RUN">
			<column name="HEADERID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="COUNTRY" type="CHAR(2)">
				<constraints nullable="false" />
			</column>
			<column name="PROVINCE" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="HOSTACCOUNT" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="DESCRIPTION" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
				<column name="DEBITAMOUNT" type="decimal(18,0)">
			<constraints nullable="false" />
			</column>
			<column name="CREDITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
				<column name="CLOSINGBAL" type="decimal(18,0)">
			<constraints nullable="false" />
			</column>
				<column name="CLOSINGBALTYPE" type="char(2)">
			<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet id="495" author="manojkumar.p">
		<addForeignKeyConstraint constraintName="FK_TBRLR_HID" referencedTableName="TRAIL_BALANCE_HEADER" referencedColumnNames="ID" baseTableName="TRAIL_BALANCE_REPORT_LAST_RUN" baseColumnNames="HEADERID" />
	</changeSet>
	<changeSet id="496" author="Irfan">
		<addColumn tableName="Entity">
			<column name="Address" type="varchar(250)" />
		</addColumn>
		<addColumn tableName="Entity_Temp">
			<column name="Address" type="varchar(250)" />
		</addColumn>
	</changeSet>
	<changeSet id="497" author="Irfan">
		<createView viewName="ENTITY_VIEW" replaceIfExists="true">
		SELECT		T1.EntityCode, T1.EntityDesc, T1.PANNumber, T1.Country,T2.CountryDesc CountryName, T1.StateCode,T3.CPProvinceName ProvinceName,  T1.CityCode,T4.PCCITYNAME CityCodeDesc, T1.PinCode,T4.PCCityName CityName, T1.Address, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Entity_Temp  T1 INNER JOIN
BMTCountries  T2 ON T1.Country = T2.CountryCode  INNER JOIN
RMTCountryVsProvince T3 ON T1.StateCode = T3.CPProvince INNER JOIN
RMTProvinceVsCity T4 ON T1.CityCode = T4.PCCITY INNER JOIN
PinCodes T5 ON T1.PinCode = T5.PinCode
            

UNION ALL

SELECT		T1.EntityCode, T1.EntityDesc, T1.PANNumber, T1.Country,T2.CountryDesc CountryName, T1.StateCode,T3.CPProvinceName ProvinceName,  T1.CityCode,T4.PCCITYNAME CityCodeDesc, T1.PinCode,T4.PCCityName CityName, T1.Address, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Entity  T1 INNER JOIN
BMTCountries  T2 ON T1.Country = T2.CountryCode  INNER JOIN
RMTCountryVsProvince T3 ON T1.StateCode = T3.CPProvince INNER JOIN
RMTProvinceVsCity T4 ON T1.CityCode = T4.PCCITY INNER JOIN
PinCodes T5 ON T1.PinCode = T5.PinCode
            
WHERE     NOT EXISTS (SELECT 1 FROM Entity_TEMP WHERE EntityCode = T1.EntityCode)
		
		</createView>
	</changeSet>
	<changeSet id="498" author="Irfan">
		<createView viewName="ENTITY_AVIEW" replaceIfExists="true">
			SELECT		T1.EntityCode, T1.EntityDesc, T1.PANNumber, T1.Country,T2.CountryDesc CountryName, T1.StateCode,T3.CPProvinceName ProvinceName,  T1.CityCode,T4.PCCITYNAME CityCodeDesc, T1.PinCode,T4.PCCityName CityName, T1.Address, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Entity  T1 INNER JOIN
BMTCountries  T2 ON T1.Country = T2.CountryCode  INNER JOIN
RMTCountryVsProvince T3 ON T1.StateCode = T3.CPProvince INNER JOIN
RMTProvinceVsCity T4 ON T1.CityCode = T4.PCCITY INNER JOIN
PinCodes T5 ON T1.PinCode = T5.PinCode
		
		</createView>
	</changeSet>
	<changeSet id="499" author="Irfan">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			
			INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'EntityDialog_Address','EntityDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='ENTITY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='EntityDialog_Address'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
		</sql>
	</changeSet>
	<changeSet id="500" author="murthy.y">
		<sql>
			UPDATE data_engine_config set FILENAMEFORMAT='${START_DATE},_${END_DATE},_${HEADER_ID},_${STATE_CODE}' where name = 'GL_TRAIL_BALANCE_EXPORT';
			update data_engine_table set Filter = 'HEADERID=:HEADERID, PROVINCE=:PROVINCE' where Name = 'TRAIL_BALANCE_REPORT_VIEW'; 
			update RMTCOUNTRYVSPROVINCE set BUSINESSAREA = CPPROVINCE;
		</sql>
	</changeSet>
	<changeSet id="501" author="Madhubabu" dbms="oracle">
	<sql>
		ALTER TABLE fintaxuploadheader MODIFY FILENAME VARCHAR(100);
		ALTER TABLE fintaxuploadheader_Temp MODIFY FILENAME VARCHAR(100);
	</sql>
	</changeSet>
	<changeSet id="501" author="Madhubabu" dbms="mssql">
	<sql>
		ALTER TABLE fintaxuploadheader alter column FILENAME VARCHAR(100);
		ALTER TABLE fintaxuploadheader_Temp alter column FILENAME VARCHAR(100);
	</sql>
	</changeSet>
	<changeSet id="501" author="murthy.y">
		<dropTable  tableName="TRAIL_BALANCE_REPORT_LAST_RUN"/>
		<dropTable  tableName="TRAIL_BALANCE_REPORT"/>
	</changeSet>
	<changeSet id="502" author="murthy.y">
		<createTable tableName="TRAIL_BALANCE_REPORT">
			<column name="HEADERID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="COUNTRY" type="CHAR(2)">
				<constraints nullable="false" />
			</column>
			<column name="PROVINCE" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="HOSTACCOUNT" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="DESCRIPTION" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="DEBITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CREDITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet id="503" author="murthy.y">
		<addForeignKeyConstraint constraintName="FK_TBR_HID" referencedTableName="TRAIL_BALANCE_HEADER" referencedColumnNames="ID" baseTableName="TRAIL_BALANCE_REPORT" baseColumnNames="HEADERID" />
	</changeSet>
	<changeSet id="504" author="murthy.y">
		<createTable tableName="TRAIL_BALANCE_REPORT_LAST_RUN">
			<column name="HEADERID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="COUNTRY" type="CHAR(2)">
				<constraints nullable="false" />
			</column>
			<column name="PROVINCE" type="VARCHAR2(8)">
				<constraints nullable="false" />
			</column>
			<column name="HOSTACCOUNT" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="DESCRIPTION" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
				<column name="DEBITAMOUNT" type="decimal(18,0)">
			<constraints nullable="false" />
			</column>
			<column name="CREDITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
				<column name="CLOSINGBAL" type="decimal(18,0)">
			<constraints nullable="false" />
			</column>
				<column name="CLOSINGBALTYPE" type="char(2)">
			<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet id="505" author="murthy.y">
		<addForeignKeyConstraint constraintName="FK_TBRLR_HID" referencedTableName="TRAIL_BALANCE_HEADER" referencedColumnNames="ID" baseTableName="TRAIL_BALANCE_REPORT_LAST_RUN" baseColumnNames="HEADERID" />
	</changeSet>
	<changeSet id="506" author="murthy.y" dbms="oracle">
		<createView viewName="TRAIL_BALANCE_REPORT_VIEW" replaceIfExists="true">
			SELECT HEADERID,
			  PROVINCE,
			  ACTYPEGRPID,
			  HOSTACCOUNT,
			  DESCRIPTION,
			  UDF_CONVERTCURRENCY(OPENINGBAL, TBH.CURRENCY, 'INR') OPENINGBAL,
			  OPENINGBALTYPE,
			  UDF_CONVERTCURRENCY(DEBITAMOUNT, TBH.CURRENCY, 'INR') DEBITAMOUNT,
			  UDF_CONVERTCURRENCY(CREDITAMOUNT, TBH.CURRENCY, 'INR') CREDITAMOUNT,
			  UDF_CONVERTCURRENCY(CLOSINGBAL, TBH.CURRENCY, 'INR') CLOSINGBAL,
			  CLOSINGBALTYPE
			  FROM TRAIL_BALANCE_REPORT TBR
			  INNER JOIN TRAIL_BALANCE_HEADER TBH ON TBH.ID = TBR.HEADERID
		</createView>
	</changeSet>
	<changeSet id="506" author="murthy.y" dbms="mssql">
		<createView viewName="TRAIL_BALANCE_REPORT_VIEW" replaceIfExists="true">
			SELECT HEADERID,
			  PROVINCE,
			  ACTYPEGRPID,
			  HOSTACCOUNT,
			  DESCRIPTION,
			  dbo.UDF_CONVERTCURRENCY(OPENINGBAL, TBH.CURRENCY, 'INR') OPENINGBAL,
			  OPENINGBALTYPE,
			  dbo.UDF_CONVERTCURRENCY(DEBITAMOUNT, TBH.CURRENCY, 'INR') DEBITAMOUNT,
			  dbo.UDF_CONVERTCURRENCY(CREDITAMOUNT, TBH.CURRENCY, 'INR') CREDITAMOUNT,
			  dbo.UDF_CONVERTCURRENCY(CLOSINGBAL, TBH.CURRENCY, 'INR') CLOSINGBAL,
			  CLOSINGBALTYPE
			  FROM TRAIL_BALANCE_REPORT TBR
			  INNER JOIN TRAIL_BALANCE_HEADER TBH ON TBH.ID = TBR.HEADERID
		</createView>
	</changeSet>
	<changeSet id="507" author="Prasad">
		<sql>
			update REPORTFILTERFIELDS set multiselectsearch=1 where Reportid in (
			Select Reportid from REPORTCONFIGURATION where Reportname in ('Excel:LIST OF DOCUMENTS EXTRACT','Excel:Daily Disbursal Report'));
		</sql>
	</changeSet>
	<changeSet id="508" author="Srikanth">
		<createView viewName="FINANCEENQUIRY_VIEW" replaceIfExists="true">
		 SELECT     	T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.CalTerms NumberOfTerms, T1.CustID, T1.FinAmount, 
                      T1.GrcPeriodEndDate, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.AllowGrcPeriod,T1.DownPayment, 
                      T1.MigratedFinance,T1.LastRepayDate, T1.LastRepayPftDate,T1.InsuranceAmt,T1.FinCurrAssetvalue,
                      T5.FinTypeDesc LovDescFinTypeName, T6.CustCIF LovDescCustCIF, T6.CustShrtName LovDescCustShrtName, T7.BranchDesc LovDescFinBranchName, 
                      T1.Blacklisted, T5.FinScheduleOn LovDescFinScheduleOn, T1.FeeChargeAmt, T1.ClosingStatus, T8.CustTypeCtg, 
                      T1.GraceTerms, T5.FinDivision lovDescFinDivision, T5.FinCategory lovDescProductCodeName, 
                      T1.AlwMultiDisb , T5.FinIsAlwDifferment lovDescFinAlwDeferment,T1.Defferments,
                       (T1.FinCurrAssetvalue+ T1.FeeChargeAmt+T1.InsuranceAmt) FinancingAmount,
                      (T1.FinCurrAssetvalue- T1.FinRepaymentAmount+ T1.FeeChargeAmt+T1.InsuranceAmt) CurFinAmount,
                      T1.FinStatus ,T1.MandateID,T1.FinRepayMethod 
		FROM          FinanceMain T1 INNER JOIN
                       RMTFinanceTypes T5 ON T1.FinType = T5.FinType INNER JOIN
                       Customers T6 ON T1.CustID = T6.CustID INNER JOIN
                       RMTBranches T7 ON T1.FinBranch = T7.BranchCode INNER JOIN
                       RMTCustTypes T8 ON T6.CustTypeCode = T8.CustTypeCode

		</createView>
	</changeSet>
	
	<changeSet id="509" author="Kesav">
		<sql>
			Delete from ErrorDetails where errorCode = '65023';
			INSERT INTO ErrorDetails VALUES('65023','EN','E','State GST code should not match with the provided GST code.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
						
			Delete from ErrorDetails where errorCode = '65024';
			INSERT INTO ErrorDetails VALUES('65024','EN','E','PAN number should not match with the provided PAN number.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	<changeSet id="510" author="murthy.y">
		<addColumn  tableName="DATA_ENGINE_EVENT_PROPERTIES">
        	<column name="FOLDER_NAME" type="varchar(100)"/>
        </addColumn>
	</changeSet>
	<changeSet id="511" author="murthy.y">
		<sql>
			update DATA_ENGINE_EVENT_PROPERTIES set FOLDER_NAME = 'master_extract';
		</sql>
	</changeSet>
	<changeSet id="512" author="madhubabu.p">
		<sql>
			update errordetails set Errormessage='For Aggrement No :{0} the {1} length exceeding :{2}'  where errorcode='99006'
		</sql>
	</changeSet>
	<changeSet id="512"  author="Siva">
	<createView viewName="FinanceEnquiry_TView" replaceIfExists="true">
  SELECT     T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.CalTerms NumberOfTerms, T1.CustID, T1.FinAmount, 
                      T1.GrcPeriodEndDate, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.AllowGrcPeriod,T1.DownPayment, 
                      T1.MigratedFinance,T1.LastRepayDate, T1.LastRepayPftDate,T1.FinCurrAssetvalue,
                      T5.FinTypeDesc LovDescFinTypeName, T6.CustCIF LovDescCustCIF, T6.CustShrtName LovDescCustShrtName, T7.BranchDesc LovDescFinBranchName, 
                      T1.Blacklisted, T5.FinScheduleOn LovDescFinScheduleOn, T1.FeeChargeAmt, T1.ClosingStatus, T8.CustTypeCtg, 
                      T1.GraceTerms, T5.FinDivision lovDescFinDivision, T5.FinCategory lovDescProductCodeName, 
                      T1.AlwMultiDisb, T5.FinIsAlwDifferment lovDescFinAlwDeferment,T1.Defferments,
                       (T1.FinCurrAssetvalue+ T1.FeeChargeAmt+T1.InsuranceAmt) FinancingAmount,
                      (T1.FinCurrAssetvalue- T1.FinRepaymentAmount+ T1.FeeChargeAmt+T1.InsuranceAmt) CurFinAmount,
                      T1.FinStatus ,T1.MandateID,T1.FinRepayMethod
FROM          FinanceMain_Temp T1 INNER JOIN
                       RMTFinanceTypes T5 ON T1.FinType = T5.FinType INNER JOIN
                       Customers T6 ON T1.CustID = T6.CustID INNER JOIN
                       RMTBranches T7 ON T1.FinBranch = T7.BranchCode INNER JOIN
                       RMTCustTypes T8 ON T6.CustTypeCode = T8.CustTypeCode
		</createView>
	</changeSet>
	<changeSet id="513" author="murthy.y">
		<sql>
			update data_engine_config set POSTEVENT = 'MOVE_TO_S3_BUCKET', backupfile = 1  where Name IN ('GL_TRAIL_BALANCE_EXPORT', 'GL_TRANSACTION_EXPORT', 'GL_TRANSACTION_SUMMARY_EXPORT');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'GL_TRAIL_BALANCE_EXPORT'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O', 'SAPGL');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'GL_TRANSACTION_EXPORT'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O', 'SAPGL');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'GL_TRANSACTION_SUMMARY_EXPORT'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O', 'SAPGL');
		</sql>
	</changeSet>
	
	<changeSet id="514" author="Kesav">
		<sql>
			Delete from ErrorDetails where errorCode = '65023';
			INSERT INTO ErrorDetails VALUES('65023','EN','E','State GST code should match with the provided State GST code.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
						
			Delete from ErrorDetails where errorCode = '65024';
			INSERT INTO ErrorDetails VALUES('65024','EN','E','PAN number should match with the provided PAN number.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	
	<changeSet id="515" author="Manoj.P" dbms="oracle">
		<createView viewName="DE_FILE_CONTROL_VIEW" replaceIfExists="true">
			SELECT DS.ID, DC.NAME, DC.UPLOADPATH FILELOCATION, DS.FILENAME, DS.ENDTIME, DS.STATUS, DC.id as CONFIGID, DC.POSTEVENT 
			FROM DATA_ENGINE_CONFIG DC
			INNER JOIN DATA_ENGINE_STATUS DS ON DS.NAME = DC.NAME 
    		ORDER BY DS.ID DESC
		</createView>
	</changeSet>	
		<changeSet id="515" author="Manoj.P" dbms="mssql">
		<createView viewName="DE_FILE_CONTROL_VIEW" replaceIfExists="true">
			SELECT DS.ID, DC.NAME, DC.UPLOADPATH FILELOCATION, DS.FILENAME, DS.ENDTIME, DS.STATUS, DC.id as CONFIGID, DC.POSTEVENT 
			FROM DATA_ENGINE_CONFIG DC
			INNER JOIN DATA_ENGINE_STATUS DS ON DS.NAME = DC.NAME 
		</createView>
	</changeSet>
	<changeSet id="515" author="Kesav">
		<sql>
			Delete from ErrorDetails where errorCode = '65024';
			INSERT INTO ErrorDetails VALUES('65024','EN','E','GST Number should match with the provided PAN number.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	<changeSet id="516" author="Madhubabu">
		<sql>
			Delete from ErrorDetails where errorCode = '99008';
			INSERT INTO ErrorDetails VALUES('99008','EN','E','{0} does not exists with Number :{1}.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
			Delete from ErrorDetails where errorCode = '99009';
			INSERT INTO ErrorDetails VALUES('99009','EN','E','Applicant : {0} is  not available in Co-Applicant Details for aggrement number:{1}.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
			Delete from ErrorDetails where errorCode = '99010';
			INSERT INTO ErrorDetails VALUES('99010','EN','E','Applicant :{0} State Code not Matching with the GSTIN with the aggrement no:{1}.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
			Delete from ErrorDetails where errorCode = '99011';
			INSERT INTO ErrorDetails VALUES('99011','EN','E','Applicant :{0} PAN No.not Matching with the GSTIN for aggrement no:{1}.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	<changeSet id="517" author="Kesav">
		<sql>
			UPDATE ERRORDETAILS SET ERRORMESSAGE = 'Receipt Fee Details should be mandatory for Fee Type : {0}.' WHERE ERRORCODE = '65019';
		</sql>
	</changeSet>
	<changeSet id="517" author="Madhubabu">
		<sql>
			Delete from ErrorDetails where errorCode = '99012';
			INSERT INTO ErrorDetails VALUES('99012','EN','E','Customer Alterady exists in the source system :PLF ','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	<!-- for AWS -->
	<!-- <changeSet id="518" author="Madhubabu">
		<sql>
			INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_DRIVER', 'GCD ORACLE DRIVER', 		'String', 1,  'oracle.jdbc.driver.OracleDriver', 	'200', 	0, NULL, NULL, 'GCD Driver Classname', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
			INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_URL', 'GCD ORACLE URL', 		'String', 1,  'jdbc:oracle:thin:@10.128.193.77:1633:BCFPRD_N2P', 	'200', 	0, NULL, NULL, 'GCD Connect URL', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
			INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_USERNAME', 'GCD ORACLE USERNAME', 		'String', 1,  'FINN_PENNANT', 	'200', 	0, NULL, NULL, 'GCD connect UserName', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
			INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_PWD', 'GCD ORACLE PWD', 		'String', 1,  'pennant123', 	'200', 	0, NULL, NULL, 'GCD Connect PWD', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);

		</sql>
	</changeSet> -->
	<changeSet id="519" author="Madhubabu">
		<sql>
			Delete from ErrorDetails where errorCode = '99013';
			INSERT INTO ErrorDetails VALUES('99013','EN','E','Customer Alterady exists in the source system :PLF ','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	<changeSet id="520" author="Madhubabu">
		<sql>
			Delete from ErrorDetails where errorCode = '99014';
			INSERT INTO ErrorDetails VALUES('99014','EN','E','{0} Creation rejected by Finone Reason: {1} ','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
		<changeSet id="521" author="prasad Raju">
		<sql>
	Update REPORTFILTERFIELDS set Fielddbname='T.Referenceid' ,MultiSelectsearch=0 where reportid in (
Select reportid from reportconfiguration where reportname='Excel:LIST OF DOCUMENTS EXTRACT');
	</sql>
	</changeSet>
	
	<changeSet author="Kesav" id="522">
		<addColumn tableName="RMTAccountTypes">
			<column name="ExtractionType" type="varchar(3)"/>
		</addColumn>
	</changeSet>
	
	<changeSet author="Kesav" id="523">
		<addColumn tableName="RMTAccountTypes_Temp">
			<column name="ExtractionType" type="varchar(3)"/>
		</addColumn>
	</changeSet>
	
	<changeSet id="524" author="Kesav">
		<sql>
			update RMTAccountTypes_Temp set ExtractionType = 'NA';
			update RMTAccountTypes set ExtractionType = 'NA';
		</sql>
	</changeSet>
	
	<changeSet author="Kesav" id="525">
		<addNotNullConstraint tableName="RMTAccountTypes_Temp" columnName="ExtractionType" columnDataType="varchar(3)"/>
	</changeSet>
	
	<changeSet author="Kesav" id="526">
		<addNotNullConstraint tableName="RMTAccountTypes" columnName="ExtractionType" columnDataType="varchar(3)"/>
	</changeSet>
	
	<changeSet id="527" author="Kesav">
		<createView viewName="RMTACCOUNTTYPES_VIEW" replaceIfExists="true">
				SELECT    	T1.AcType, T1.AcTypeDesc, T1.AcPurpose, T1.AcHeadCode, T1.InternalAc, T1.CustSysAc, T1.AcLmtCategory, T1.AcTypeIsActive, T1.ProfitCenterID,
							T1.CostCenterID, T1.TaxApplicable,  T1.ACCADDLVAR1, T1.ACCADDLVAR2, T1.ACCADDLCHAR1, T1.ACCADDLVAR3, T1.ACCADDLVAR4, T1.Version, T1.LastMntBy,
							T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.AssertOrLiability,
							T1.OnBalanceSheet,T1.AllowOverDraw,T1.AcTypeGrpId, T1.ExtractionType,
							T2.GroupCode, T2.GroupDescription, T2.AcctTypeLevel,
					        T3.CostCenterCode,T3.CostCenterDesc,
							T4.ProfitCenterCode,T4.ProfitCenterDesc
				FROM        RMTAccountTypes_Temp T1 
				Left Join 	AccountTypeGroup T2 ON T1.AcTypeGrpId=T2.GroupId 
				LEFT JOIN 	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID
				INNER JOIN 	ProfitCenters T4 ON T1.ProfitCenterID = T4.ProfitCenterID
				
				UNION ALL
				
				SELECT    	T1.AcType, T1.AcTypeDesc, T1.AcPurpose, T1.AcHeadCode, T1.InternalAc, T1.CustSysAc, T1.AcLmtCategory, T1.AcTypeIsActive, T1.ProfitCenterID,
							T1.CostCenterID, T1.TaxApplicable,  T1.ACCADDLVAR1, T1.ACCADDLVAR2, T1.ACCADDLCHAR1, T1.ACCADDLVAR3, T1.ACCADDLVAR4, T1.Version, T1.LastMntBy,
							T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.AssertOrLiability,
							T1.OnBalanceSheet,T1.AllowOverDraw,T1.AcTypeGrpId, T1.ExtractionType,
							T2.GroupCode, T2.GroupDescription, T2.AcctTypeLevel,
					        T3.CostCenterCode,T3.CostCenterDesc,
							T4.ProfitCenterCode,T4.ProfitCenterDesc
				FROM        RMTAccountTypes T1 
				Left Join 	AccountTypeGroup T2 ON T1.AcTypeGrpId=T2.GroupId 
				LEFT JOIN 	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID
				INNER JOIN 	ProfitCenters T4 ON T1.ProfitCenterID = T4.ProfitCenterID
				WHERE     	(NOT EXISTS (SELECT 1 Expr1 FROM RMTAccountTypes_Temp WHERE (AcType = T1.AcType)))		
		</createView>
	</changeSet>
	
	<changeSet id="528" author="Kesav">
		<createView viewName="RMTACCOUNTTYPES_AVIEW" replaceIfExists="true">
			SELECT    	T1.AcType, T1.AcTypeDesc, T1.AcPurpose, T1.AcHeadCode, T1.InternalAc, T1.CustSysAc, T1.AcLmtCategory, T1.AcTypeIsActive, T1.ProfitCenterID,
						T1.CostCenterID, T1.TaxApplicable,  T1.ACCADDLVAR1, T1.ACCADDLVAR2, T1.ACCADDLCHAR1, T1.ACCADDLVAR3, T1.ACCADDLVAR4, T1.Version, T1.LastMntBy,
						T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.AssertOrLiability,
						T1.OnBalanceSheet,T1.AllowOverDraw,T1.AcTypeGrpId, T1.ExtractionType,
						T2.GroupCode, T2.GroupDescription, T2.AcctTypeLevel,
				        T3.CostCenterCode,T3.CostCenterDesc,
						T4.ProfitCenterCode,T4.ProfitCenterDesc
			FROM        RMTAccountTypes T1 
			Left Join 	AccountTypeGroup T2 ON T1.AcTypeGrpId=T2.GroupId 
			LEFT JOIN 	CostCenters T3 ON T1.CostCenterID = T3.CostCenterID
			INNER JOIN 	ProfitCenters T4 ON T1.ProfitCenterID = T4.ProfitCenterID		
		</createView>
	</changeSet>
	<changeSet id="529" author="Manoj.P">
		<renameColumn columnDataType="VARCHAR(100)" newColumnName="PREFIX"
		oldColumnName="FOLDER_NAME" tableName="DATA_ENGINE_EVENT_PROPERTIES" />
	</changeSet>
	<!-- for dev -->
	<!-- <changeSet id="530.1" author="Madhubabu">
	<sql>
	    delete  from SMTPARAMETERS where sysparmcode='GCD_CUSTOMER_DRIVER';
        delete  from SMTPARAMETERS where sysparmcode='GCD_CUSTOMER_URL';
        delete  from SMTPARAMETERS where sysparmcode='GCD_CUSTOMER_USERNAME';
        delete  from SMTPARAMETERS where sysparmcode='GCD_CUSTOMER_PWD';

		INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_DRIVER', 'GCD ORACLE DRIVER', 		'String', 1,  'oracle.jdbc.driver.OracleDriver', 	'200', 	0, NULL, NULL, 'GCD Driver Classname', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_URL', 'GCD ORACLE URL', 		'String', 1,  'jdbc:oracle:thin:@192.168.1.19:1521:orcl', 	'200', 	0, NULL, NULL, 'GCD Connect URL', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_USERNAME', 'GCD ORACLE USERNAME', 		'String', 1,  'PLFDEV', 	'200', 	0, NULL, NULL, 'GCD connect UserName', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_PWD', 'GCD ORACLE PWD', 		'String', 1,  'pff123', 	'200', 	0, NULL, NULL, 'GCD Connect PWD', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
	</sql>
	</changeSet> -->
	 <!-- for qc -->
	<!--<changeSet id="530.1" author="Madhubabu">
	<sql>
	    delete  from SMTPARAMETERS where sysparmcode='GCD_CUSTOMER_DRIVER';
        delete  from SMTPARAMETERS where sysparmcode='GCD_CUSTOMER_URL';
        delete  from SMTPARAMETERS where sysparmcode='GCD_CUSTOMER_USERNAME';
        delete  from SMTPARAMETERS where sysparmcode='GCD_CUSTOMER_PWD';
        
		INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_DRIVER', 'GCD ORACLE DRIVER', 		'String', 1,  'oracle.jdbc.driver.OracleDriver', 	'200', 	0, NULL, NULL, 'GCD Driver Classname', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_URL', 'GCD ORACLE URL', 		'String', 1,  'jdbc:oracle:thin:@192.168.1.19:1521:orcl', 	'200', 	0, NULL, NULL, 'GCD Connect URL', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_USERNAME', 'GCD ORACLE USERNAME', 		'String', 1,  'PLF', 	'200', 	0, NULL, NULL, 'GCD connect UserName', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO SMTPARAMETERS VALUES ('GCD_CUSTOMER_PWD', 'GCD ORACLE PWD', 		'String', 1,  'pff123', 	'200', 	0, NULL, NULL, 'GCD Connect PWD', 	1, 1000, CURRENT_TIMESTAMP,	'Approved'	,NULL, NULL, NULL, NULL, NULL, 0);
	</sql>
	</changeSet>  -->
	
	<changeSet id="530" author="Manoj.P" dbms="oracle">
		<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
			SELECT   
				   FA. PAYMENTID,
				   FA.FINREFERENCE,
				   'D' CHANNEL, 
				   CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   FA.DISBDATE,
	               FA.LLDATE,
				   FA.PAYABLELOC,
				   FA.PRINTINGLOC,
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
	              BD.BANKNAME BANKNAME,
	              BB.BRANCHCODE,
	              BB.BRANCHDESC BRANCHDESC,
				  PBD.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				  PBD.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR             MICR_CODE,
				   BB.IFSC             IFSC_CODE,
				   FA.BENEFICIARYACCNO,
				   CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
				   FA.PHONECOUNTRYCODE||FA.PHONEAREACODE||FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
				   BCE.CUSTEMAIL        BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   FA.STATUS           STATUS,
				   FA.DESCRIPTION      REMARKS,
				     FA.PAYMENTTYPE      PAYMENTTYPE,
				     FM.FINTYPE,
				     PB.PARTNERBANKID,
				     PB.PARTNERBANKCODE,
				     FA.INPUTDATE,
				     PB.ALWFILEDOWNLOAD,
	                PB.FILENAME,
				     FM.FINISACTIVE
				   FROM FINADVANCEPAYMENTS FA
				   INNER JOIN (select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain union all select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain_temp where QUICKDISB=1) FM on FM.FINREFERENCE = FA.FINREFERENCE INNER JOIN (select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain union all select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain_temp where QUICKDISB=1) FM on FM.FINREFERENCE = FA.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
        		   INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
	         	   LEFT JOIN  (select PB.PARTNERBANKID, PBD.BANKNAME, PBB.BRANCHDESC, PBBRC.PCCITYNAME, PBBRS.CPPROVINCENAME from PARTNERBANKS PB INNER JOIN BANKBRANCHES PBB ON PBB.BANKBRANCHID = PB.BANKBRANCHCODE INNER JOIN BMTBANKDETAIL PBD ON PBD.BANKCODE = PBB.BANKCODE LEFT JOIN RMTPROVINCEVSCITY PBBRC ON PBBRC.PCCITY = PBB.CITY LEFT JOIN RMTCOUNTRYVSPROVINCE PBBRS ON PBBRS.CPPROVINCE = PBBRC.PCPROVINCE ) PBD ON PBD.PARTNERBANKID = PB.PARTNERBANKID
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE STATUS='APPROVED' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
				   
				   UNION ALL
				   
				   SELECT PI. PAYMENTINSTRUCTIONID PAYMENTID,
				   PH.FINREFERENCE,
				   PH.PAYMENTTYPE CHANNEL, 
				   CASE WHEN PI.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN PI.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN PI.PAYMENTTYPE = 'DD' THEN 'D' WHEN PI.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  PI.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   PI.PAYMENTAMOUNT/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   PI.POSTDATE DISBDATE, 
				   PI.POSTDATE LLDATE, 
				   PI.PAYABLELOC, 
				   PI.PRINTINGLOC, 
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
				   BD.BANKNAME,
				   BB.BRANCHCODE,
				   BB.BRANCHDESC,
				   BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				   BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR              MICR_CODE,
				   BB.IFSC              IFSC_CODE,
				   PI.ACCOUNTNO BENEFICIARYACCNO,
				   CASE WHEN PI.PAYMENTTYPE = 'CHEQUE' OR  PI.PAYMENTTYPE = 'DD' THEN PI.FAVOURNAME ELSE PI.ACCTHOLDERNAME END BENEFICIARYNAME,
				   PI.PHONECOUNTRYCODE||PI.PHONENUMBER AS BENEFICIARY_MOBILE,
				   BCE.CUSTEMAIL       BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   PI.STATUS           STATUS, 
				   PI.REMARKS          REMARKS,
				   PI.PAYMENTTYPE      PAYMENTTYPE,
				   FM.FINTYPE,
				   PB.PARTNERBANKID,
				   PB.PARTNERBANKCODE,
				   PI.POSTDATE INPUTDATE, 
				   PB.ALWFILEDOWNLOAD,
				   PB.FILENAME,
				   FM.FINISACTIVE
				   FROM PAYMENTINSTRUCTIONS PI 
				   INNER JOIN PAYMENTHEADER PH ON PH.PAYMENTID = PI.PAYMENTID
				   INNER JOIN (select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain union all select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain_temp where QUICKDISB=1) FM on FM.FINREFERENCE = PH.FINREFERENCE INNER JOIN (select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain union all select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain_temp where QUICKDISB=1) FM on FM.FINREFERENCE = PH.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = PI.PAYMENTCCY
				   INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = PI.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
				   LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = PI.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
				   LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = PI.BANKBRANCHID AND BR.ACCNUMBER = PI.ACCOUNTNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE PI.STATUS='APPROVED' AND PI.PAYMENTINSTRUCTIONID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
		</createView>
	</changeSet>
	<changeSet id="530" author="Manoj.P" dbms="mssql">
		<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
			SELECT   
				   FA. PAYMENTID,
				   FA.FINREFERENCE,
				   'D' CHANNEL, 
				   CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   FA.DISBDATE,
	               FA.LLDATE,
				   FA.PAYABLELOC,
				   FA.PRINTINGLOC,
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
	              BD.BANKNAME BANKNAME,
	              BB.BRANCHCODE,
	              BB.BRANCHDESC BRANCHDESC,
				  PBD.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				  PBD.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR             MICR_CODE,
				   BB.IFSC             IFSC_CODE,
				   FA.BENEFICIARYACCNO,
				   CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
				   FA.PHONECOUNTRYCODE+FA.PHONEAREACODE+FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
				   BCE.CUSTEMAIL        BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   FA.STATUS           STATUS,
				   FA.DESCRIPTION      REMARKS,
				     FA.PAYMENTTYPE      PAYMENTTYPE,
				     FM.FINTYPE,
				     PB.PARTNERBANKID,
				     PB.PARTNERBANKCODE,
				     FA.INPUTDATE,
				     PB.ALWFILEDOWNLOAD,
	                PB.FILENAME,
				     FM.FINISACTIVE
				   FROM FINADVANCEPAYMENTS FA
				   INNER JOIN (select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain union all select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain_temp where QUICKDISB=1) FM on FM.FINREFERENCE = FA.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
        		   INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
	         	   LEFT JOIN  (select PB.PARTNERBANKID, PBD.BANKNAME, PBB.BRANCHDESC, PBBRC.PCCITYNAME, PBBRS.CPPROVINCENAME from PARTNERBANKS PB INNER JOIN BANKBRANCHES PBB ON PBB.BANKBRANCHID = PB.BANKBRANCHCODE INNER JOIN BMTBANKDETAIL PBD ON PBD.BANKCODE = PBB.BANKCODE LEFT JOIN RMTPROVINCEVSCITY PBBRC ON PBBRC.PCCITY = PBB.CITY LEFT JOIN RMTCOUNTRYVSPROVINCE PBBRS ON PBBRS.CPPROVINCE = PBBRC.PCPROVINCE ) PBD ON PBD.PARTNERBANKID = PB.PARTNERBANKID
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 5
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE STATUS='APPROVED' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
				   
				   UNION ALL
				   
				   SELECT PI. PAYMENTINSTRUCTIONID PAYMENTID,
				   PH.FINREFERENCE,
				   PH.PAYMENTTYPE CHANNEL, 
				   CASE WHEN PI.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN PI.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN PI.PAYMENTTYPE = 'DD' THEN 'D' WHEN PI.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  PI.PAYMENTTYPE END  DISBURSEMENT_TYPE,
				   PI.PAYMENTAMOUNT/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
				   PI.POSTDATE DISBDATE, 
				   PI.POSTDATE LLDATE, 
				   PI.PAYABLELOC, 
				   PI.PRINTINGLOC, 
				   CU.CUSTCIF,            
				   CU.CUSTSHRTNAME,     
				   '' AS CUSTOMER_MOBILE,
				   CE.CUSTEMAIL       CUSTOMER_EMAIL,
				   CS.CPPROVINCENAME  CUSTOMER_STATE,
				   CC.PCCITYNAME      CUSTOMER_CITY,
				   ''                 CUSTOMER_ADDRESS1,
				   ''                 CUSTOMER_ADDRESS2,
				   ''                 CUSTOMER_ADDRESS3,
				   ''                 CUSTOMER_ADDRESS4,
				   ''                 CUSTOMER_ADDRESS5,
				   BD.BANKNAME,
				   BB.BRANCHCODE,
				   BB.BRANCHDESC,
				   BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
				   BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
				   BB.MICR              MICR_CODE,
				   BB.IFSC              IFSC_CODE,
				   PI.ACCOUNTNO BENEFICIARYACCNO,
				   CASE WHEN PI.PAYMENTTYPE = 'CHEQUE' OR  PI.PAYMENTTYPE = 'DD' THEN PI.FAVOURNAME ELSE PI.ACCTHOLDERNAME END BENEFICIARYNAME,
				   PI.PHONECOUNTRYCODE+PI.PHONENUMBER AS BENEFICIARY_MOBILE,
				   BCE.CUSTEMAIL       BENFICIRY_EMAIL,
				   BRS.CPPROVINCENAME  BENFICIARY_STATE,
				   BRC.PCCITYNAME      BENFICIARY_CITY,
				   ''                  BENFICIARY_ADDRESS1,
				   ''                  BENFICIARY_ADDRESS2,
				   ''                  BENFICIARY_ADDRESS3,
				   ''                  BENFICIARY_ADDRESS4,
				   ''                  BENFICIARY_ADDRESS5,
				   ''				   PAYMENT_DETAIL1,
				   ''                  PAYMENT_DETAIL2,
				   ''                  PAYMENT_DETAIL3,
				   ''                  PAYMENT_DETAIL4,
				   ''                  PAYMENT_DETAIL5,
				   ''                  PAYMENT_DETAIL6,
				   ''                  PAYMENT_DETAIL7,     
				   PI.STATUS           STATUS, 
				   PI.REMARKS          REMARKS,
				   PI.PAYMENTTYPE      PAYMENTTYPE,
				   FM.FINTYPE,
				   PB.PARTNERBANKID,
				   PB.PARTNERBANKCODE,
				   PI.POSTDATE INPUTDATE, 
				   PB.ALWFILEDOWNLOAD,
				   PB.FILENAME,
				   FM.FINISACTIVE
				   FROM PAYMENTINSTRUCTIONS PI 
				   INNER JOIN PAYMENTHEADER PH ON PH.PAYMENTID = PI.PAYMENTID
				   INNER JOIN (select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain union all select CUSTID, FINREFERENCE, FINTYPE,  FINISACTIVE from financemain_temp where QUICKDISB=1) FM on FM.FINREFERENCE = PH.FINREFERENCE
				   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
				   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = PI.PAYMENTCCY
				   INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = PI.PARTNERBANKID
				   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
				   LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
				   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = PI.BANKBRANCHID
				   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
				   LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
				   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = PI.BANKBRANCHID AND BR.ACCNUMBER = PI.ACCOUNTNO
				   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
				   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
				   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
				   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
				   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
				   WHERE PI.STATUS='APPROVED' AND PI.PAYMENTINSTRUCTIONID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
		</createView>
	</changeSet>
	<changeSet author="Pruthvi" id="531" dbms="oracle">
    <sqlFile path="CREATE_CUSTOMER_IN_FINNONE.sql" endDelimiter="DonotStop" encoding="utf8" relativeToChangelogFile="true"/>
	</changeSet>
	<changeSet id="532" author="Jayant">
	    <addColumn tableName="FINRECEIPTDETAIL" >
	        <column name="BounceDate" type="datetime"/>
	    </addColumn>
	</changeSet>
	<changeSet id="533" author="Jayant">
	    <addColumn tableName="FINRECEIPTDETAIL_TEMP" >
	        <column name="BounceDate" type="datetime"/>
	    </addColumn>
	</changeSet>
	<changeSet id="534" author="Irfan">
		<addColumn tableName="FINRECEIPTHEADER">
		<column name="BounceDate" type="datetime"/>
		</addColumn>
		<addColumn tableName="FINRECEIPTHEADER_TEMP">
		<column name="BounceDate" type="datetime"/>
		</addColumn>
	</changeSet>
	<changeSet id="535" author="Irfan">
	<dropColumn tableName="FINRECEIPTDETAIL" columnName="BounceDate"/>
	<dropColumn tableName="FINRECEIPTDETAIL_TEMP" columnName="BounceDate"/>
	</changeSet>
	<changeSet id="536" author="Irfan">
		<createView viewName="FINRECEIPTHEADER_VIEW" replaceIfExists="true">
			SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, T1.WaviedAmt, T1.TotFeeAmount, T1.BounceDate
							FROM         FinReceiptHeader_Temp T1 INNER JOIN
				       FinanceMain T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
				UNION ALL
				 SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, T1.WaviedAmt, T1.TotFeeAmount, T1.BounceDate
							FROM         FinReceiptHeader T1 INNER JOIN
				       FinanceMain T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
						WHERE     NOT EXISTS
				                          (SELECT     1
				                            FROM          FinReceiptHeader_TEMP 
				                            WHERE      ReceiptID = T1.ReceiptID)
		
		</createView>
	
	</changeSet>
	<changeSet id="537" author="Irfan">
		<createView viewName="FINRECEIPTHEADER_FVIEW" replaceIfExists="true">
			SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, 
				 T2.ScheduleMethod, T2.ProfitDaysBasis PftDaysBasis, T1.WaviedAmt, T3.CustID, T1.TotFeeAmount, T1.BounceDate
							FROM         FinReceiptHeader_Temp T1 INNER JOIN
				       FinanceMain_Temp T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
		
		</createView>
	</changeSet>
	<changeSet id="538" author="Irfan">
		<createView viewName="FINRECEIPTHEADER_FCVIEW" replaceIfExists="true">
			SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, 
				 T2.ScheduleMethod, T2.ProfitDaysBasis PftDaysBasis, T1.WaviedAmt, T3.CustID, T1.TotFeeAmount, T1.BounceDate
							FROM         FinReceiptHeader_Temp T1 INNER JOIN
				       FinanceMain_Temp T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
			UNION ALL
			SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, 
				 T2.ScheduleMethod, T2.ProfitDaysBasis PftDaysBasis, T1.WaviedAmt, T3.CustID, T1.TotFeeAmount, T1.BounceDate
							FROM         FinReceiptHeader T1 INNER JOIN
				       FinanceMain_Temp T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
               	WHERE     NOT EXISTS
				                          (SELECT     1
				                            FROM          FinReceiptHeader_TEMP 
				                            WHERE      ReceiptID = T1.ReceiptID)
		</createView>
	
	</changeSet>
	<changeSet id="539" author="Irfan">
		<sql>
			Update FINRECEIPTHEADER set BounceDate= RECEIPTDATE;
			Update FINRECEIPTHEADER_Temp set BounceDate= RECEIPTDATE;
		</sql>
	</changeSet>
	<changeSet id="540" author="Irfan">
	<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			
			INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'ReceiptBounceDialog_bounceDate','ReceiptBounceDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BOUNCE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ReceiptBounceDialog_bounceDate'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
		</sql>
	</changeSet>
	<changeSet id="541" author="Siva">
		<sql>
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			
			delete from SECRIGHTS where rightname='menuItem_Enquiry_FinanceTaxDetailEnquiry';
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_Enquiry_FinanceTaxDetailEnquiry','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CL_LOAN_ENQUIRY') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_Enquiry_FinanceTaxDetailEnquiry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			
		
		</sql>
	</changeSet>
	<changeSet  id="542" author="Prasad" dbms="oracle">
	<createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		  <![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and (t2.closingstatus!='C' or t2.closingstatus is null) and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
  Select t2.finreference,Schdate,FeeTypeDesc ||'- Due ('||T2.Finreference||')', SchAmount Debit, 0 credit,2 Ordby from finfeescheduledetail T1 
  Inner Join FinFeeDetail T2 on T1.FeeID = T2.FeeID
  Inner Join FeeTypes T3 On T2.FeeTypeid = T3.FeeTypeId 
  inner join financemain t4 on t4.FINREFERENCE =t2.FINREFERENCE
  where SchAmount!=0 and (t4.closingstatus!='C' or t4.closingstatus is null) 
  and  schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
union
     Select T1.Finreference,Schdate,  'Part Prepayment Amount ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,3 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,4 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and (t2.closingstatus!='C' or t2.closingstatus is null)
	union 	
       
        Select REFERENCE,Bouncedate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||'For Installment '|| T5.INSTNUMBER || ' ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,5 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID inner join
         PRESENTMENTDETAILS T4 on T4.RECEIPTID =T3.RECEIPTID inner join
         FINSCHEDULEDETAILS T5 on T4.FInreference = T5.FInreference and T4.schdate = T5.schdate
       Where T1.ReceiptModeStatus  IN ('B') and T3.Advisetype=1 and T3.Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,6 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		LEFT JOIN BOUNCEREASONS T3 ON M.BounceID = T3.BOUNCEID	where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  ||'- Payable ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,7 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,8 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,9 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', PaidAmount Debit, 0 credit,10 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||PAYMENTREF||' '||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,11 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(t1.FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,12 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   (t2.closingstatus!='C' or t2.closingstatus is null)
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,13 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,14 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
  Select T2.Reference,T2.Receiptdate,'TDS Adjustment('||T2.Reference||')' Particulars,0 Debit,T1.PaidAmount credit,15 ordby
  from RECEIPTALLOCATIONDETAIL T1
  inner join FINRECEIPTHEADER T2 on T2.RECEIPTID  = T1.RECEIPTID where T1.ALLOCATIONTYPE='TDS'
  and T2.ReceiptModeStatus Not IN ('C')
  union  
  Select distinct T2.Reference,Bouncedate,'TDS Adjustment Reversal('||T2.Reference||')' Particulars,T5.TDSSCHDPAYNOW Debit,0 credit, 16 ordby
  from FINRECEIPTHEADER T2
  inner join FINRECEIPTDETAIL T3 on T3.RECEIPTID = T2.RECEIPTID
  inner join finrepayheader T4 on T3.Receiptseqid = T4.Receiptseqid
  inner join (Select repayid,sum(TDSSCHDPAYNOW) TDSSCHDPAYNOW from FinRepayscheduledetail
  where TDSSCHDPAYNOW!=0
  group by repayid) T5 on T5.repayid =T4.repayid
  where T3.Status ='B' 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy where Debit!=0 or credit !=0]]>
		</createView>
	</changeSet>
	
	<changeSet id="543" author="Siva">
		<sql>
		Delete from BMTAmountCodes where amountcode = 'ae_pftChg' and allowedevent='EARLYPAY';
        Insert into BMTAmountCodes 
            values( 'EARLYPAY', 0, 'ae_pftChg', 'Interest Change', 1, 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0  )  ;
		</sql>
	</changeSet>
	<changeSet id="544" author="Siva">
		<sql>
		Delete from BMTAmountCodes where amountcode = 'ae_pftChg' and allowedevent='EARLYSTL';
        Insert into BMTAmountCodes 
            values( 'EARLYSTL', 0, 'ae_pftChg', 'Interest Change', 1, 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0  )  ;
		</sql>
	</changeSet>

	<!-- FOR AWS <changeSet id="543" author="Amit"> <sql> DELETE FROM DATA_ENGINE_DB_DETAILS 
		WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME ='CUSTOMER_CURD_OPERATIONS'); 
		DELETE FROM DATA_ENGINE_CONFIG where Name = 'CUSTOMER_CURD_OPERATIONS'; INSERT 
		INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'CUSTOMER_CURD_OPERATIONS', 
		'Customer Curd Operations', 0, NULL, NULL, NULL, NULL , 0, 0, NULL, NULL, 
		NULL, 'A', NULL, 'CUSTOMER', NULL, 0, NULL, '', '0 0/5 * * * ?', 0, NULL, 
		1, 1); INSERT INTO DATA_ENGINE_DB_DETAILS VALUES ((SELECT ID FROM DATA_ENGINE_CONFIG 
		WHERE NAME ='CUSTOMER_CURD_OPERATIONS'),NULL,NULL,NULL,NULL,NULL,1); DELETE 
		FROM DATA_ENGINE_DB_DETAILS WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG 
		WHERE NAME ='CUSTOMER_CURD_OPERATIONS'); INSERT INTO DATA_ENGINE_DB_DETAILS 
		VALUES ((SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME ='CUSTOMER_CURD_OPERATIONS'),NULL,'oracle.jdbc.driver.OracleDriver', 
		'jdbc:oracle:thin:@10.128.193.77:1633:BCFPRD_N2P','FINN_PENNANT','pennant123',0) 
		</sql> </changeSet> FOR AWS -->
		
		<changeSet id="545" author="Irfan">
			<sql>
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
				
				INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SUBHEADRULE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ScoringGroupDialog_btnCopyTo'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;

				INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SUBHEADRULE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ScoringGroupDialog_btnDelete'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
				
				INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SUBHEADRULE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ScoringGroupDialog_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
				
				INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SUBHEADRULE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ScoringGroupDialog_scoreGroupName'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
				
				INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SUBHEADRULE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ScoringGroupDialog_minScore'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
				
				INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SUBHEADRULE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ScoringGroupDialog_isoverride'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
				
				INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SUBHEADRULE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='ScoringGroupDialog_overrideScore'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
				
				INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SUBHEADRULE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ScoringGroupDialog_btnNewScoringMetrics'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
				
				INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SUBHEADRULE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ScoringGroupDialog_btnNewScoringSlab'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
				
				INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='SUBHEADRULE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ScoringGroupDialog_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
				
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			</sql>
		
		</changeSet>
		
		<changeSet id="546" author="Kesav">
			<sql>
				Delete From RBFIELDDETAILS where RBMODULE = 'FEES' And RBEVENT = 'ADDDBS';
						
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_finBranch','Finance Branch','nvarchar',12,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_finSourceID','Finance Source ID','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_downPayment','Down Payment','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_totalProfit','Total Profit','Decimal',18,'1','1',' ','static,global',' ');			
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_totalCpz','Total CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_totalGrossPft','Total Gross Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_totalGrossGrcPft','Total Gross Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_totalGracePft','Total Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_totalGraceCpz','Total Grace CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_totalRepayAmt','Total Repay Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_finType','Loan Type','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_finCcy','Loan Currency','nvarchar',3,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_calTerms','Calculate Terms','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_finAmount','Loan Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_finRepaymentAmount','Loan Repayment Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_feeChargeAmt','Fee Charge Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_finAssetValue','Loan Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_finCurrAssetValue','Loan Current Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_finStatus','Loan Status','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_deductInsDisb','Deduct Ins Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_bpiAmount','BPI Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_deductFeeDisb','Deduct Fee Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_dueBucket','Deduct Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_reAgeBucket','ReAge Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_finCategory','Loan Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','fm_productCategory','Product Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','ct_custCIF','Customer CIF','nvarchar',20,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','ct_custCoreBank','Customer Core Bank','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','ct_custCtgCode','Customer Category Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','ct_custTypeCode','Customer Type Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','ct_custGenderCode','Customer Gender Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','ADDDBS','ct_salariedCustomer','Salaried Customer','nchar',1,'0','1',' ','static,global',' ');
				
				Delete From RBFIELDDETAILS where RBMODULE = 'FEES' And RBEVENT = 'DEFFRQ';
						
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_finBranch','Finance Branch','nvarchar',12,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_finSourceID','Finance Source ID','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_downPayment','Down Payment','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_totalProfit','Total Profit','Decimal',18,'1','1',' ','static,global',' ');			
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_totalCpz','Total CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_totalGrossPft','Total Gross Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_totalGrossGrcPft','Total Gross Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_totalGracePft','Total Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_totalGraceCpz','Total Grace CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_totalRepayAmt','Total Repay Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_finType','Loan Type','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_finCcy','Loan Currency','nvarchar',3,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_calTerms','Calculate Terms','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_finAmount','Loan Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_finRepaymentAmount','Loan Repayment Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_feeChargeAmt','Fee Charge Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_finAssetValue','Loan Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_finCurrAssetValue','Loan Current Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_finStatus','Loan Status','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_deductInsDisb','Deduct Ins Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_bpiAmount','BPI Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_deductFeeDisb','Deduct Fee Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_dueBucket','Deduct Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_reAgeBucket','ReAge Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_finCategory','Loan Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','fm_productCategory','Product Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','ct_custCIF','Customer CIF','nvarchar',20,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','ct_custCoreBank','Customer Core Bank','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','ct_custCtgCode','Customer Category Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','ct_custTypeCode','Customer Type Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','ct_custGenderCode','Customer Gender Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFFRQ','ct_salariedCustomer','Salaried Customer','nchar',1,'0','1',' ','static,global',' ');
				
				Delete From RBFIELDDETAILS where RBMODULE = 'FEES' And RBEVENT = 'DEFRPY';
						
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_finBranch','Finance Branch','nvarchar',12,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_finSourceID','Finance Source ID','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_downPayment','Down Payment','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_totalProfit','Total Profit','Decimal',18,'1','1',' ','static,global',' ');			
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_totalCpz','Total CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_totalGrossPft','Total Gross Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_totalGrossGrcPft','Total Gross Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_totalGracePft','Total Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_totalGraceCpz','Total Grace CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_totalRepayAmt','Total Repay Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_finType','Loan Type','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_finCcy','Loan Currency','nvarchar',3,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_calTerms','Calculate Terms','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_finAmount','Loan Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_finRepaymentAmount','Loan Repayment Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_feeChargeAmt','Fee Charge Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_finAssetValue','Loan Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_finCurrAssetValue','Loan Current Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_finStatus','Loan Status','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_deductInsDisb','Deduct Ins Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_bpiAmount','BPI Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_deductFeeDisb','Deduct Fee Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_dueBucket','Deduct Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_reAgeBucket','ReAge Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_finCategory','Loan Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','fm_productCategory','Product Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','ct_custCIF','Customer CIF','nvarchar',20,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','ct_custCoreBank','Customer Core Bank','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','ct_custCtgCode','Customer Category Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','ct_custTypeCode','Customer Type Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','ct_custGenderCode','Customer Gender Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DEFRPY','ct_salariedCustomer','Salaried Customer','nchar',1,'0','1',' ','static,global',' ');
				
				Delete From RBFIELDDETAILS where RBMODULE = 'FEES' And RBEVENT = 'DPRCIATE';
						
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_finBranch','Finance Branch','nvarchar',12,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_finSourceID','Finance Source ID','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_downPayment','Down Payment','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_totalProfit','Total Profit','Decimal',18,'1','1',' ','static,global',' ');			
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_totalCpz','Total CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_totalGrossPft','Total Gross Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_totalGrossGrcPft','Total Gross Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_totalGracePft','Total Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_totalGraceCpz','Total Grace CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_totalRepayAmt','Total Repay Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_finType','Loan Type','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_finCcy','Loan Currency','nvarchar',3,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_calTerms','Calculate Terms','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_finAmount','Loan Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_finRepaymentAmount','Loan Repayment Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_feeChargeAmt','Fee Charge Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_finAssetValue','Loan Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_finCurrAssetValue','Loan Current Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_finStatus','Loan Status','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_deductInsDisb','Deduct Ins Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_bpiAmount','BPI Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_deductFeeDisb','Deduct Fee Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_dueBucket','Deduct Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_reAgeBucket','ReAge Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_finCategory','Loan Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','fm_productCategory','Product Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','ct_custCIF','Customer CIF','nvarchar',20,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','ct_custCoreBank','Customer Core Bank','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','ct_custCtgCode','Customer Category Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','ct_custTypeCode','Customer Type Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','ct_custGenderCode','Customer Gender Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','DPRCIATE','ct_salariedCustomer','Salaried Customer','nchar',1,'0','1',' ','static,global',' ');
				
				Delete From RBFIELDDETAILS where RBMODULE = 'FEES' And RBEVENT = 'EARLYPAY';
						
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_finBranch','Finance Branch','nvarchar',12,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_finSourceID','Finance Source ID','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_downPayment','Down Payment','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_totalProfit','Total Profit','Decimal',18,'1','1',' ','static,global',' ');			
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_totalCpz','Total CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_totalGrossPft','Total Gross Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_totalGrossGrcPft','Total Gross Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_totalGracePft','Total Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_totalGraceCpz','Total Grace CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_totalRepayAmt','Total Repay Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_finType','Loan Type','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_finCcy','Loan Currency','nvarchar',3,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_calTerms','Calculate Terms','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_finAmount','Loan Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_finRepaymentAmount','Loan Repayment Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_feeChargeAmt','Fee Charge Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_finAssetValue','Loan Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_finCurrAssetValue','Loan Current Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_finStatus','Loan Status','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_deductInsDisb','Deduct Ins Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_bpiAmount','BPI Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_deductFeeDisb','Deduct Fee Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_dueBucket','Deduct Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_reAgeBucket','ReAge Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_finCategory','Loan Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','fm_productCategory','Product Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','ct_custCIF','Customer CIF','nvarchar',20,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','ct_custCoreBank','Customer Core Bank','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','ct_custCtgCode','Customer Category Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','ct_custTypeCode','Customer Type Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','ct_custGenderCode','Customer Gender Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','ct_salariedCustomer','Salaried Customer','nchar',1,'0','1',' ','static,global',' ');
				
				Delete From RBFIELDDETAILS where RBMODULE = 'FEES' And RBEVENT = 'EARLYSTL';
						
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_finBranch','Finance Branch','nvarchar',12,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_finSourceID','Finance Source ID','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_downPayment','Down Payment','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_totalProfit','Total Profit','Decimal',18,'1','1',' ','static,global',' ');			
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_totalCpz','Total CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_totalGrossPft','Total Gross Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_totalGrossGrcPft','Total Gross Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_totalGracePft','Total Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_totalGraceCpz','Total Grace CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_totalRepayAmt','Total Repay Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_finType','Loan Type','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_finCcy','Loan Currency','nvarchar',3,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_calTerms','Calculate Terms','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_finAmount','Loan Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_finRepaymentAmount','Loan Repayment Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_feeChargeAmt','Fee Charge Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_finAssetValue','Loan Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_finCurrAssetValue','Loan Current Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_finStatus','Loan Status','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_deductInsDisb','Deduct Ins Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_bpiAmount','BPI Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_deductFeeDisb','Deduct Fee Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_dueBucket','Deduct Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_reAgeBucket','ReAge Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_finCategory','Loan Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','fm_productCategory','Product Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','ct_custCIF','Customer CIF','nvarchar',20,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','ct_custCoreBank','Customer Core Bank','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','ct_custCtgCode','Customer Category Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','ct_custTypeCode','Customer Type Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','ct_custGenderCode','Customer Gender Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','ct_salariedCustomer','Salaried Customer','nchar',1,'0','1',' ','static,global',' ');
				
				Delete From RBFIELDDETAILS where RBMODULE = 'FEES' And RBEVENT = 'MNTCMT';
						
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_finBranch','Finance Branch','nvarchar',12,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_finSourceID','Finance Source ID','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_downPayment','Down Payment','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_totalProfit','Total Profit','Decimal',18,'1','1',' ','static,global',' ');			
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_totalCpz','Total CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_totalGrossPft','Total Gross Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_totalGrossGrcPft','Total Gross Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_totalGracePft','Total Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_totalGraceCpz','Total Grace CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_totalRepayAmt','Total Repay Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_finType','Loan Type','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_finCcy','Loan Currency','nvarchar',3,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_calTerms','Calculate Terms','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_finAmount','Loan Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_finRepaymentAmount','Loan Repayment Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_feeChargeAmt','Fee Charge Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_finAssetValue','Loan Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_finCurrAssetValue','Loan Current Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_finStatus','Loan Status','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_deductInsDisb','Deduct Ins Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_bpiAmount','BPI Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_deductFeeDisb','Deduct Fee Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_dueBucket','Deduct Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_reAgeBucket','ReAge Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_finCategory','Loan Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','fm_productCategory','Product Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','ct_custCIF','Customer CIF','nvarchar',20,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','ct_custCoreBank','Customer Core Bank','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','ct_custCtgCode','Customer Category Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','ct_custTypeCode','Customer Type Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','ct_custGenderCode','Customer Gender Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','MNTCMT','ct_salariedCustomer','Salaried Customer','nchar',1,'0','1',' ','static,global',' ');
				
				Delete From RBFIELDDETAILS where RBMODULE = 'FEES' And RBEVENT = 'NEWCMT';
						
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_finBranch','Finance Branch','nvarchar',12,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_finSourceID','Finance Source ID','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_downPayment','Down Payment','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_totalProfit','Total Profit','Decimal',18,'1','1',' ','static,global',' ');			
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_totalCpz','Total CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_totalGrossPft','Total Gross Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_totalGrossGrcPft','Total Gross Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_totalGracePft','Total Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_totalGraceCpz','Total Grace CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_totalRepayAmt','Total Repay Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_finType','Loan Type','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_finCcy','Loan Currency','nvarchar',3,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_calTerms','Calculate Terms','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_finAmount','Loan Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_finRepaymentAmount','Loan Repayment Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_feeChargeAmt','Fee Charge Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_finAssetValue','Loan Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_finCurrAssetValue','Loan Current Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_finStatus','Loan Status','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_deductInsDisb','Deduct Ins Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_bpiAmount','BPI Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_deductFeeDisb','Deduct Fee Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_dueBucket','Deduct Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_reAgeBucket','ReAge Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_finCategory','Loan Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','fm_productCategory','Product Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','ct_custCIF','Customer CIF','nvarchar',20,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','ct_custCoreBank','Customer Core Bank','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','ct_custCtgCode','Customer Category Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','ct_custTypeCode','Customer Type Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','ct_custGenderCode','Customer Gender Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','NEWCMT','ct_salariedCustomer','Salaried Customer','nchar',1,'0','1',' ','static,global',' ');
				
				Delete From RBFIELDDETAILS where RBMODULE = 'FEES' And RBEVENT = 'REPAY';
						
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_finBranch','Finance Branch','nvarchar',12,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_finSourceID','Finance Source ID','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_downPayment','Down Payment','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_totalProfit','Total Profit','Decimal',18,'1','1',' ','static,global',' ');			
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_totalCpz','Total CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_totalGrossPft','Total Gross Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_totalGrossGrcPft','Total Gross Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_totalGracePft','Total Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_totalGraceCpz','Total Grace CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_totalRepayAmt','Total Repay Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_finType','Loan Type','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_finCcy','Loan Currency','nvarchar',3,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_calTerms','Calculate Terms','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_finAmount','Loan Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_finRepaymentAmount','Loan Repayment Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_feeChargeAmt','Fee Charge Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_finAssetValue','Loan Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_finCurrAssetValue','Loan Current Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_finStatus','Loan Status','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_deductInsDisb','Deduct Ins Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_bpiAmount','BPI Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_deductFeeDisb','Deduct Fee Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_dueBucket','Deduct Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_reAgeBucket','ReAge Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_finCategory','Loan Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','fm_productCategory','Product Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','ct_custCIF','Customer CIF','nvarchar',20,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','ct_custCoreBank','Customer Core Bank','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','ct_custCtgCode','Customer Category Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','ct_custTypeCode','Customer Type Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','ct_custGenderCode','Customer Gender Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','ct_salariedCustomer','Salaried Customer','nchar',1,'0','1',' ','static,global',' ');
				
				Delete From RBFIELDDETAILS where RBMODULE = 'FEES' And RBEVENT = 'WRITEOFF';
						
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_finBranch','Finance Branch','nvarchar',12,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_finSourceID','Finance Source ID','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_downPayment','Down Payment','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_totalProfit','Total Profit','Decimal',18,'1','1',' ','static,global',' ');			
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_totalCpz','Total CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_totalGrossPft','Total Gross Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_totalGrossGrcPft','Total Gross Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_totalGracePft','Total Grace Profit','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_totalGraceCpz','Total Grace CPZ','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_totalRepayAmt','Total Repay Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_finType','Loan Type','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_finCcy','Loan Currency','nvarchar',3,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_calTerms','Calculate Terms','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_finAmount','Loan Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_finRepaymentAmount','Loan Repayment Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_feeChargeAmt','Fee Charge Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_finAssetValue','Loan Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_finCurrAssetValue','Loan Current Asset Value','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_finStatus','Loan Status','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_deductInsDisb','Deduct Ins Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_bpiAmount','BPI Amount','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_deductFeeDisb','Deduct Fee Disbursement','Decimal',18,'1','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_dueBucket','Deduct Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_reAgeBucket','ReAge Bucket','int',10,'0','0',' ','static,global,calvalue',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_finCategory','Loan Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','fm_productCategory','Product Category','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','ct_custCIF','Customer CIF','nvarchar',20,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','ct_custCoreBank','Customer Core Bank','nvarchar',50,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','ct_custCtgCode','Customer Category Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','ct_custTypeCode','Customer Type Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','ct_custGenderCode','Customer Gender Code','nvarchar',8,'0','1',' ','static,global',' ');
				Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','WRITEOFF','ct_salariedCustomer','Salaried Customer','nchar',1,'0','1',' ','static,global',' ');
			</sql>
		</changeSet>
		
		<changeSet id="547" author="Siva">
		<sql>
	        Insert into BMTAmountCodes values( 'LATEPAY', 0, 'ae_exPenaltyPaid', 'Penalty Paid from Excess', 1, 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0  )  ;
	        Insert into BMTAmountCodes values( 'LATEPAY', 0, 'ae_exPenaltyWaived', 'Penalty Waived Excess', 1, 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0  )  ;
	        Insert into BMTAmountCodes values( 'LATEPAY', 0, 'ae_eAPenaltyPaid', 'Penalty Paid EMIinAdvance', 1, 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0  )  ;
	        Insert into BMTAmountCodes values( 'LATEPAY', 0, 'ae_eAPenaltyWaived', 'Penalty Waived EMIinAdvance', 1, 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0  )  ;
	        Insert into BMTAmountCodes values( 'LATEPAY', 0, 'ae_pAPenaltyPaid', 'Penalty Paid Payable', 1, 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0  )  ;
	        Insert into BMTAmountCodes values( 'LATEPAY', 0, 'ae_pAPenaltyWaived', 'Penalty Waived Payable', 1, 1, 1000, Current_TimeStamp, 'Approved', null, null, null, null, null, 0  )  ;
		</sql>
	</changeSet>
	<changeSet id="548" author="madhubabu">
	<createView viewName="FINCOVENANTTYPE_EVIEW" replaceIfExists="true">
			SELECT   T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
	         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
	         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
	         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
	         FROM  FinCovenantType_Temp T1 INNER JOIN
			  BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  
	UNION ALL
	SELECT   T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
	         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
	         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
	         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
	         FROM  FinCovenantType T1 INNER JOIN
			  BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  
	WHERE NOT EXISTS
	                 (SELECT   1
					  FROM        FinCovenantType_Temp
					  WHERE       FinReference = T1.FinReference and CovenantType = T1.CovenantType)
		</createView>
	
	</changeSet>
	<changeSet id="549" author="madhubabu">
	<createView viewName="FINCOVENANTTYPE_EAVIEW" replaceIfExists="true">
			SELECT   T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
         FROM  FinCovenantType T1 INNER JOIN
		  FinanceMain T2 ON T2.FinReference = T1.FinReference  INNER JOIN
		  BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType
		</createView>
	
	</changeSet>
	
	<changeSet id="550" author="chaitanya.ch">
		<addColumn tableName="TAXDOWNLOADDETAIL">
		   <column name="LOAN_BRANCH_ADDRESS" type="varchar(500)" />
		</addColumn>
	</changeSet>
	
	<changeSet id="551" author="chaitanya.ch">
		<addColumn tableName="LEA_GST_TMP_DTL">
		   <column name="LOAN_BRANCH_ADDRESS" type="varchar(500)" />
		</addColumn>
	</changeSet>
	
	<changeSet id="552" author="chaitanya.ch">
		<createView viewName="TAXDOWNLOADDETAIL_VIEW" replaceIfExists="true">
			SELECT T1.POSTDATE, T1.LINKEDTRANID, T1.TRANSORDER, T1.FINEVENT, 
			T1.ACCOUNT, T1.FINREFERENCE, T1.USERBRANCH, T1.POSTSTATUS STATUS, 
			T2.FINTYPE, T2.FINBRANCH, T2.FINAPPROVEDDATE, T2.CUSTID CUSTID,
			T4.ENTITYCODE, 
			T5.CUSTSHRTNAME, T5.CUSTCIF, T5.CUSTCRCPR,
			T6.CUSTADDRHNBR, T6.CUSTFLATNBR, T6.CUSTADDRSTREET, T6.CUSTADDRLINE1,
			T6.CUSTADDRLINE2, T6.CUSTADDRCITY, T6.CUSTADDRPROVINCE, T6.CUSTADDRCOUNTRY, 
			T6.CUSTADDRZIP CUSTADDRZIP, T6.LASTMNTON CUSTADDRLASTMNTON, 
			T7.TAXNUMBER CUSTOMERGSTIN, T7.ADDRLINE1 TAXADDRLINE1, T7.ADDRLINE2 TAXADDRLINE2,
			T7.ADDRLINE3 TAXADDRLINE3, T7.ADDRLINE4 TAXADDRLINE4, T7.COUNTRY TAXCOUNTRY, 
			T7.PROVINCE TAXPROVINCE, T7.CITY TAXCITY, T7.PINCODE TAXPINCODE, T7.LASTMNTON TAXLASTMNTON,
			T8.CUSTCIF TAXCUSTCIF, T8.CUSTSHRTNAME TAXCUSTSHRTNAME, T8.CUSTCRCPR TAXCUSTCRCPR, 
			T9.ACCADDLVAR1 HSNSACCODE, T9.ACCADDLVAR1 NATUREOFSERVICE, T9.aCCADDLCHAR1 REVERSECHARGEAPPLICABLE,
			 '' ORIGINALINVOICENO, T10.CCYMINORCCYUNITS
			
			FROM POSTINGS T1 
			INNER JOIN FINANCEMAIN T2 ON T1.FINREFERENCE = T2.FINREFERENCE 
			INNER JOIN RMTFINANCETYPES T3 ON T2.FINTYPE = T3.FINTYPE 
			INNER JOIN SMTDIVISIONDETAIL T4 ON T3.FINDIVISION = T4.DIVISIONCODE
			INNER JOIN CUSTOMERS T5 ON T5.CUSTID = T2.CUSTID
			INNER JOIN CUSTOMERAddresses T6 ON T6.CUSTID = T2.CUSTID And CustAddrPriority = 5
			LEFT JOIN FINTAXDETAIL T7 ON T7.FINREFERENCE = T1.FINREFERENCE 
			LEFT JOIN CUSTOMERS T8 ON T8.CUSTID = T7.TAXCUSTID
			INNER JOIN RMTACCOUNTTYPES T9 ON T9.ACTYPE = T1.ACCOUNTTYPE 
			INNER JOIN RMTCURRENCIES T10 ON T10.CCYCODE = T1.ACCCY
		
		</createView>
	
	</changeSet>
	<changeSet id="553" author="chaitanya.ch">
		<createView viewName="TAXDOWNLOADDETAIL_VIEW" replaceIfExists="true">
			SELECT T1.POSTDATE, T1.LINKEDTRANID, T1.TRANSORDER, T1.FINEVENT, 
			T1.ACCOUNT, T1.FINREFERENCE, T1.USERBRANCH, T1.POSTSTATUS STATUS, 
			T2.FINTYPE, T2.FINBRANCH, T2.FINAPPROVEDDATE, T2.CUSTID CUSTID,
			T4.ENTITYCODE, 
			T5.CUSTSHRTNAME, T5.CUSTCIF, T5.CUSTCRCPR,
			T6.CUSTADDRHNBR, T6.CUSTFLATNBR, T6.CUSTADDRSTREET, T6.CUSTADDRLINE1,
			T6.CUSTADDRLINE2, T6.CUSTADDRCITY, T6.CUSTADDRPROVINCE, T6.CUSTADDRCOUNTRY, 
			T6.CUSTADDRZIP CUSTADDRZIP, T6.LASTMNTON CUSTADDRLASTMNTON, T6.CUSTPOBOX, 
			T7.TAXNUMBER CUSTOMERGSTIN, T7.ADDRLINE1 TAXADDRLINE1, T7.ADDRLINE2 TAXADDRLINE2,
			T7.ADDRLINE3 TAXADDRLINE3, T7.ADDRLINE4 TAXADDRLINE4, T7.COUNTRY TAXCOUNTRY, 
			T7.PROVINCE TAXPROVINCE, T7.CITY TAXCITY, T7.PINCODE TAXPINCODE, T7.LASTMNTON TAXLASTMNTON,
			T8.CUSTCIF TAXCUSTCIF, T8.CUSTSHRTNAME TAXCUSTSHRTNAME, T8.CUSTCRCPR TAXCUSTCRCPR, 
			T9.ACCADDLVAR1 HSNSACCODE, T9.ACCADDLVAR1 NATUREOFSERVICE, T9.aCCADDLCHAR1 REVERSECHARGEAPPLICABLE,
      		T9.TAXAPPLICABLE, 
			 '' ORIGINALINVOICENO, T10.CCYMINORCCYUNITS
			FROM POSTINGS T1 
			INNER JOIN FINANCEMAIN T2 ON T1.FINREFERENCE = T2.FINREFERENCE 
			INNER JOIN RMTFINANCETYPES T3 ON T2.FINTYPE = T3.FINTYPE 
			INNER JOIN SMTDIVISIONDETAIL T4 ON T3.FINDIVISION = T4.DIVISIONCODE
			INNER JOIN CUSTOMERS T5 ON T5.CUSTID = T2.CUSTID
			INNER JOIN CUSTOMERAddresses T6 ON T6.CUSTID = T2.CUSTID And CustAddrPriority = 5
			LEFT JOIN FINTAXDETAIL T7 ON T7.FINREFERENCE = T1.FINREFERENCE 
			LEFT JOIN CUSTOMERS T8 ON T8.CUSTID = T7.TAXCUSTID
			INNER JOIN RMTACCOUNTTYPES T9 ON T9.ACTYPE = T1.ACCOUNTTYPE 
			INNER JOIN RMTCURRENCIES T10 ON T10.CCYCODE = T1.ACCCY
		
		</createView>
	
	</changeSet>
	<changeSet id="554" author="Chaitanya.ch">
 
		<createView viewName="TAXDOWNLOADDETAIL_VIEW" replaceIfExists="true">
			SELECT T1.POSTDATE, T1.LINKEDTRANID, T1.TRANSORDER, T1.FINEVENT, 
			T1.ACCOUNT, T1.FINREFERENCE, T1.USERBRANCH, T1.POSTSTATUS STATUS,
			T1.POSTAMOUNT,  
			T2.FINTYPE, T2.FINBRANCH, T2.FINAPPROVEDDATE, T2.CUSTID CUSTID,
			T4.ENTITYCODE, 
			T5.CUSTSHRTNAME, T5.CUSTCIF, T5.CUSTCRCPR,
			T6.CUSTADDRHNBR, T6.CUSTFLATNBR, T6.CUSTADDRSTREET, T6.CUSTADDRLINE1,
			T6.CUSTADDRLINE2, T6.CUSTADDRCITY, T6.CUSTADDRPROVINCE, T6.CUSTADDRCOUNTRY, 
			T6.CUSTADDRZIP CUSTADDRZIP, T6.LASTMNTON CUSTADDRLASTMNTON, T6.CUSTPOBOX, 
			T7.TAXNUMBER CUSTOMERGSTIN, T7.ADDRLINE1 TAXADDRLINE1, T7.ADDRLINE2 TAXADDRLINE2,
			T7.ADDRLINE3 TAXADDRLINE3, T7.ADDRLINE4 TAXADDRLINE4, T7.COUNTRY TAXCOUNTRY, 
			T7.PROVINCE TAXPROVINCE, T7.CITY TAXCITY, T7.PINCODE TAXPINCODE, T7.LASTMNTON TAXLASTMNTON,
			T8.CUSTCIF TAXCUSTCIF, T8.CUSTSHRTNAME TAXCUSTSHRTNAME, T8.CUSTCRCPR TAXCUSTCRCPR, 
			T9.ACCADDLVAR1 HSNSACCODE, T9.ACCADDLVAR1 NATUREOFSERVICE, T9.aCCADDLCHAR1 REVERSECHARGEAPPLICABLE,
      		T9.TAXAPPLICABLE, 
			 '' ORIGINALINVOICENO, T10.CCYMINORCCYUNITS
			FROM POSTINGS T1 
			INNER JOIN FINANCEMAIN T2 ON T1.FINREFERENCE = T2.FINREFERENCE 
			INNER JOIN RMTFINANCETYPES T3 ON T2.FINTYPE = T3.FINTYPE 
			INNER JOIN SMTDIVISIONDETAIL T4 ON T3.FINDIVISION = T4.DIVISIONCODE
			INNER JOIN CUSTOMERS T5 ON T5.CUSTID = T2.CUSTID
			INNER JOIN CUSTOMERAddresses T6 ON T6.CUSTID = T2.CUSTID And CustAddrPriority = 5
			LEFT JOIN FINTAXDETAIL T7 ON T7.FINREFERENCE = T1.FINREFERENCE 
			LEFT JOIN CUSTOMERS T8 ON T8.CUSTID = T7.TAXCUSTID
			INNER JOIN RMTACCOUNTTYPES T9 ON T9.ACTYPE = T1.ACCOUNTTYPE 
			INNER JOIN RMTCURRENCIES T10 ON T10.CCYCODE = T1.ACCCY
		
		</createView>
	
	
	</changeSet>
	<changeSet author="Madhubabu" id="555">
		<sql>
			delete from errordetails where errorcode='99007';
			INSERT INTO ErrorDetails VALUES('99007','EN','E','{0} not valid for Agreement No : {1}','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	
	<changeSet id="556" author="madhubabu">
	<createView viewName="FINCOVENANTTYPE_EVIEW" replaceIfExists="true">
			SELECT      T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
	         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
	         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
	         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
           CASE WHEN T1.CovenantType=T7.docCategory THEN T7.lastmnton 
                WHEN T1.CovenantType=T6.custdocCategory THEN T6.lastmnton
           else null end AS DocReceivedDate
	         FROM  fincovenanttype_temp T1 INNER JOIN
                 BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
                 Financemain T4 ON T4.FinReference= T1.FinReference LEFT JOIN
                 customerdocuments T6 on  T6.custid=T4.custId LEFT join
                 documentdetails T7 on T7.referenceID = T4.FinReference And  T1.CovenantType = T3.DocTypeCode
                
	UNION ALL
		SELECT      T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
	         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
	         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
	         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
           CASE WHEN T1.CovenantType=T7.docCategory THEN T7.lastmnton 
                WHEN T1.CovenantType=T6.custdocCategory THEN T6.lastmnton
           else null end AS DocReceivedDate
	         FROM  fincovenanttype T1 INNER JOIN
                 BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
                 Financemain T4 ON T4.FinReference= T1.FinReference LEFT JOIN
                 customerdocuments T6 on  T6.custid=T4.custId LEFT join
                 documentdetails T7 on T7.referenceID = T4.FinReference And  T1.CovenantType = T3.DocTypeCode

	WHERE NOT EXISTS
	                 (SELECT   1
					  FROM        FinCovenantType_Temp
					  WHERE       FinReference = T1.FinReference and CovenantType = T1.CovenantType)
		</createView>
	
	</changeSet>
	
	<changeSet id="557" author="madhubabu">
	<createView viewName="FINCOVENANTTYPE_EAVIEW" replaceIfExists="true">
			SELECT      T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
	         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
	         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
	         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
           CASE WHEN T1.CovenantType=T7.docCategory THEN T7.lastmnton 
                WHEN T1.CovenantType=T6.custdocCategory THEN T6.lastmnton
           else null end AS DocReceivedDate
	         FROM  fincovenanttype T1 INNER JOIN
                 BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
                 Financemain T4 ON T4.FinReference= T1.FinReference LEFT JOIN
                 customerdocuments T6 on  T6.custid=T4.custId LEFT join
                 documentdetails T7 on T7.referenceID = T4.FinReference And  T1.CovenantType = T3.DocTypeCode
		</createView>
	
	</changeSet>
	
	<changeSet id="559" author="Manoj">
		<sql>
			update smtparameters set sysparmvalue = 'PENNANT'  where sysparmcode = 'POSIDEX_SOURCE_SYSTEM';
		</sql>
	</changeSet>
	
	<changeSet id="560" author="Manoj" dbms="oracle">
		<createView viewName="DE_FILE_CONTROL_VIEW" replaceIfExists="true">
			SELECT DS.ID,
		  DC.NAME,
		  DC.UPLOADPATH FILELOCATION,
		  DS.FILENAME,
		  DS.ENDTIME,
		  DS.STATUS,
		  DC.id AS CONFIGID,
		  DC.POSTEVENT,
		  DS.VALUEDATE
			FROM DATA_ENGINE_CONFIG DC
			INNER JOIN DATA_ENGINE_STATUS DS
			ON DS.NAME = DC.NAME
			ORDER BY DS.ID DESC
		</createView>
	</changeSet>
	<changeSet id="560" author="Manoj" dbms="mssql">
		<createView viewName="DE_FILE_CONTROL_VIEW" replaceIfExists="true">
			SELECT DS.ID,
		  DC.NAME,
		  DC.UPLOADPATH FILELOCATION,
		  DS.FILENAME,
		  DS.ENDTIME,
		  DS.STATUS,
		  DC.id AS CONFIGID,
		  DC.POSTEVENT,
		  DS.VALUEDATE
			FROM DATA_ENGINE_CONFIG DC
			INNER JOIN DATA_ENGINE_STATUS DS
			ON DS.NAME = DC.NAME
		</createView>
	</changeSet>
	<changeSet id="561" author="Irfan">
		<sql>

			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FINJOINTACCDETAIL_SER', 'Joint accout Details in Servicing', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FINGUARANTORACCDETAIL_SER', 'Guarantor Details in Servicing', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINJOINTACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinanceMainDialog_btnAddJointAccount'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINJOINTACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_JountAccountDetailDialog_btnNew'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINJOINTACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_JountAccountDetailDialog_btnEdit'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINJOINTACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_JountAccountDetailDialog_btnDelete'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINJOINTACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_JountAccountDetailDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FinanceMainDialog_btnAddGurantor'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_GuarantorCIF'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_GuarantorIDType'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_GuarantorIDNumber'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_GuranteePercentage'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_MobileNo'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_EmailId'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_GuarantorCIFName'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_addrHNbr'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_flatNbr'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_addrStreet'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_addrLine1'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_addrLine2'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_poBox'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_addrCountry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_addrProvince'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_addrCity'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='GuarantorDetailDialog_addrZIP'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_GuarantorDetailDialog_btnNew'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_GuarantorDetailDialog_btnEdit'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_GuarantorDetailDialog_btnDelete'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_GuarantorDetailDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 

		</sql>
	</changeSet>


	<changeSet id="562" author="Irfan">
		<sql>
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
			
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='FINJOINTACCDETAIL_SER'), (Select  RoleID  From SecRoles Where RoleCd='OPERATIONS_OFFICER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='FINGUARANTORACCDETAIL_SER'), (Select  RoleID  From SecRoles Where RoleCd='OPERATIONS_OFFICER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
		</sql>
	</changeSet>
	<changeSet author="Madhubabu" id="563">
		<sql>
			delete from errordetails where errorcode='99015';
			INSERT INTO ErrorDetails VALUES('99015','EN','E','Agreement No. Should not Empty','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	
	<changeSet id="568" author="Kesav">
		<createView viewName="ENTITY_VIEW" replaceIfExists="true">
				SELECT		T1.ENTITYCODE, T1.ENTITYDESC, T1.PANNUMBER,T1.EntityAddrLine1,T1.EntityAddrLine2,T1.EntityAddrHNbr, T1.EntityFlatNbr, T1.EntityAddrStreet, 
			                T1.EntityPOBox, T1.Country, T1.STATECODE, T1.CityCode, T1.PinCode,T1.ACTIVE	, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, 
			                T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			                T2.CountryDesc CountryName, 
			                T3.CPProvinceName ProvinceName,
			                T4.PCCItyName CityName, 
			                T5.areaname PinCodeName						
				FROM    	Entity_TEMP T1 
			    LEFT JOIN 	BMTCountries T2 ON T1.Country = T2.CountryCode 
			    LEFT JOIN 	RmtCountryvsProvince T3 ON T1.STATECODE = t3.cpprovince and T1.Country = T3.CPCountry  
			    LEFT JOIN 	Rmtprovincevscity T4 ON T1.CityCode = t4.pccity and T1.STATECODE = t4.pcprovince and T1.Country = T4.pcCountry 
			    LEFT JOIN 	Pincodes T5 ON T1.PinCode = T5.pincode and T1.CityCode = T5.city
						
			    UNION ALL
						
			    SELECT		T1.ENTITYCODE, T1.ENTITYDESC, T1.PANNUMBER,T1.EntityAddrLine1,T1.EntityAddrLine2,T1.EntityAddrHNbr, T1.EntityFlatNbr, T1.EntityAddrStreet, 
			          		T1.EntityPOBox, T1.Country, T1.STATECODE, T1.CityCode, T1.PinCode,T1.ACTIVE	, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, 
			          		T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          		T2.CountryDesc CountryName, 
			          		T3.CPProvinceName ProvinceName,
			          		T4.PCCItyName CityName, 
			          		T5.areaname PinCodeName						
				FROM    	Entity T1 
			    LEFT JOIN 	BMTCountries T2 ON T1.Country = T2.CountryCode 
			    LEFT JOIN 	RmtCountryvsProvince T3 ON T1.STATECODE = t3.cpprovince and T1.Country = T3.CPCountry  
			    LEFT JOIN 	Rmtprovincevscity T4 ON T1.CityCode = t4.pccity and T1.STATECODE = t4.pcprovince and T1.Country = T4.pcCountry 
			    LEFT JOIN 	Pincodes T5 ON T1.PinCode = T5.pincode and T1.CityCode = T5.city
			      
				WHERE     	NOT EXISTS (SELECT 1 FROM Entity_TEMP WHERE ENTITYCODE = T1.ENTITYCODE)		
		</createView>
	</changeSet>
	
	<changeSet id="569" author="Kesav">
		<createView viewName="ENTITY_AVIEW" replaceIfExists="true">
			    SELECT		T1.ENTITYCODE, T1.ENTITYDESC, T1.PANNUMBER,T1.EntityAddrLine1,T1.EntityAddrLine2,T1.EntityAddrHNbr, T1.EntityFlatNbr, T1.EntityAddrStreet, 
			          		T1.EntityPOBox, T1.Country, T1.STATECODE, T1.CityCode, T1.PinCode,T1.ACTIVE	, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, 
			          		T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          		T2.CountryDesc CountryName, 
			          		T3.CPProvinceName ProvinceName,
			          		T4.PCCItyName CityName, 
			          		T5.areaname PinCodeName						
				FROM    	Entity T1 
			    LEFT JOIN 	BMTCountries T2 ON T1.Country = T2.CountryCode 
			    LEFT JOIN 	RmtCountryvsProvince T3 ON T1.STATECODE = t3.cpprovince and T1.Country = T3.CPCountry  
			    LEFT JOIN 	Rmtprovincevscity T4 ON T1.CityCode = t4.pccity and T1.STATECODE = t4.pcprovince and T1.Country = T4.pcCountry 
			    LEFT JOIN 	Pincodes T5 ON T1.PinCode = T5.pincode and T1.CityCode = T5.city
		</createView>
	</changeSet>
	<changeSet id="565" author="Somasekhar">
		<dropColumn tableName="Entity" columnName="EntityAddrLine1"/>
	 <dropColumn tableName="Entity" columnName="EntityAddrLine2"/>
	 <dropColumn tableName="Entity" columnName="EntityAddrHNbr"/>
	 <dropColumn tableName="Entity" columnName="EntityFlatNbr"/>
	 <dropColumn tableName="Entity" columnName="EntityAddrStreet"/>
	 <dropColumn tableName="Entity" columnName="EntityPOBox"/>
	 
	 <dropColumn tableName="Entity_Temp" columnName="EntityAddrLine1"/>
	 <dropColumn tableName="Entity_Temp" columnName="EntityAddrLine2"/>
	 <dropColumn tableName="Entity_Temp" columnName="EntityAddrHNbr"/>
	 <dropColumn tableName="Entity_Temp" columnName="EntityFlatNbr"/>
	 <dropColumn tableName="Entity_Temp" columnName="EntityAddrStreet"/>
	 <dropColumn tableName="Entity_Temp" columnName="EntityPOBox"/>
	</changeSet>
	<changeSet id="566" author="Somasekhar">
	 <addColumn tableName="Entity">
	 <column name="EntityAddrLine1" type="varchar(50)"/>
	 <column name="EntityAddrLine2" type="varchar(50)"/>
	 <column name="EntityAddrHNbr" type="varchar(50)"/>
	 <column name="EntityFlatNbr" type="varchar(50)"/>
	 <column name="EntityAddrStreet" type="varchar(50)"/>
	 <column name="EntityPOBox" type="varchar(8)"/>
	 </addColumn>
	 <addColumn tableName="Entity_Temp">
	 <column name="EntityAddrLine1" type="varchar(50)"/>
	 <column name="EntityAddrLine2" type="varchar(50)"/>
	 <column name="EntityAddrHNbr" type="varchar(50)"/>
	 <column name="EntityFlatNbr" type="varchar(50)"/>
	 <column name="EntityAddrStreet" type="varchar(50)"/>
	 <column name="EntityPOBox" type="varchar(8)"/>
	 </addColumn>
	 </changeSet>
	 <changeSet id="568" author="Somasekhar">
	 <sql>
	  delete from secgrouprights where rightid in (select rightid from secrights where rightname='EntityDialog_EntityAddrLine1');
    delete from secgrouprights where rightid in (select rightid from secrights where rightname='EntityDialog_EntityAddrLine2');
    delete from secgrouprights where rightid in (select rightid from secrights where rightname='EntityDialog_EntityPOBox');
    delete from secgrouprights where rightid in (select rightid from secrights where rightname='EntityDialog_EntityAddrHNbr');
    delete from secgrouprights where rightid in (select rightid from secrights where rightname='EntityDialog_EntityFlatNbr');
    delete from secgrouprights where rightid in (select rightid from secrights where rightname='EntityDialog_EntityAddrStreet');
    
    delete from secrights where rightname='EntityDialog_EntityAddrLine1';
    delete from secrights where rightname='EntityDialog_EntityAddrLine2';
    delete from secrights where rightname='EntityDialog_EntityPOBox';
    delete from secrights where rightname='EntityDialog_EntityAddrHNbr';
    delete from secrights where rightname='EntityDialog_EntityFlatNbr';
    delete from secrights where rightname='EntityDialog_EntityAddrStreet';
    
	insert into SecRights values((select max(rightid) from secrights)+1,3,'EntityDialog_EntityAddrLine1','EntityDialog',1,1000,CURRENT_timestamp,'','','','','','',0);
	
	insert into SecRights values((select max(rightid) from secrights)+1,3,'EntityDialog_EntityAddrLine2','EntityDialog',1,1000,CURRENT_timestamp,'','','','','','',0);
	
	insert into SecRights values((select max(rightid) from secrights)+1,3,'EntityDialog_EntityPOBox','EntityDialog',1,1000,CURRENT_timestamp,'','','','','','',0);
	
	insert into SecRights values((select max(rightid) from secrights)+1,3,'EntityDialog_EntityAddrHNbr','EntityDialog',1,1000,CURRENT_timestamp,'','','','','','',0);
	
	insert into SecRights values((select max(rightid) from secrights)+1,3,'EntityDialog_EntityFlatNbr','EntityDialog',1,1000,CURRENT_timestamp,'','','','','','',0);
	
	insert into SecRights values((select max(rightid) from secrights)+1,3,'EntityDialog_EntityAddrStreet','EntityDialog',1,1000,CURRENT_timestamp,'','','','','','',0);
		 
	insert into secgrouprights values((select max(grprightid) from secgrouprights)+1,(select grpid from secgroups where grpcode='ENTITY_MAKER'),(select rightid from secrights where rightname='EntityDialog_EntityAddrLine1'),1,0,1000,current_timestamp,'Aproved','','','','','',0);
	
	insert into secgrouprights values((select max(grprightid) from secgrouprights)+1,(select grpid from secgroups where grpcode='ENTITY_MAKER'),(select rightid from secrights where rightname='EntityDialog_EntityAddrLine2'),1,0,1000,current_timestamp,'Aproved','','','','','',0);
	
	insert into secgrouprights values((select max(grprightid) from secgrouprights)+1,(select grpid from secgroups where grpcode='ENTITY_MAKER'),(select rightid from secrights where rightname='EntityDialog_EntityPOBox'),1,0,1000,current_timestamp,'Aproved','','','','','',0);
	
	insert into secgrouprights values((select max(grprightid) from secgrouprights)+1,(select grpid from secgroups where grpcode='ENTITY_MAKER'),(select rightid from secrights where rightname='EntityDialog_EntityAddrHNbr'),1,0,1000,current_timestamp,'Aproved','','','','','',0);
	
	insert into secgrouprights values((select max(grprightid) from secgrouprights)+1,(select grpid from secgroups where grpcode='ENTITY_MAKER'),(select rightid from secrights where rightname='EntityDialog_EntityFlatNbr'),1,0,1000,current_timestamp,'Aproved','','','','','',0);
	
	insert into secgrouprights values((select max(grprightid) from secgrouprights)+1,(select grpid from secgroups where grpcode='ENTITY_MAKER'),(select rightid from secrights where rightname='EntityDialog_EntityAddrStreet'),1,0,1000,current_timestamp,'Aproved','','','','','',0);
		 
	 </sql>
	 </changeSet>
	 <changeSet id="569" author="Irfan">
	 <sql>
	 	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINJOINTACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='CustSuspenseDialog_btnSearchCustCIF'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	 </sql>
	 
	 </changeSet>
	 <changeSet id="570" author="Irfan">
	 	<sql>
	 		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			
			DELETE FROM SECGROUPRIGHTS WHERE GRPID = (Select GrpID from SecGRoups WHERE GRPCODE = 'FINJOINTACCDETAIL_SER') AND RIGHTID = (Select Rightid From Secrights where rightname = 'CustSuspenseDialog_btnSearchCustCIF');
			
			INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_JountAccountDetailDialog_btnSearchCustCIF','JountAccountDetailDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINJOINTACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_JountAccountDetailDialog_btnSearchCustCIF'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	 	</sql>
	 </changeSet>
	 <changeSet id="571" author="Irfan">
	 	<sql>
	 		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			
			INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_GuarantorDetailDialog_btnSearchGuarantorCIF','GuarantorDetailDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINGUARANTORACCDETAIL_SER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_GuarantorDetailDialog_btnSearchGuarantorCIF'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	 	</sql>
	 </changeSet>
	 <changeSet id="572" author="Madhubabu">
	    <sql>
	    	delete from errordetails where errorcode='99006';
	        INSERT INTO ErrorDetails VALUES('99006','EN','E','For Agreement No :{0} the {1} length exceeding :{2}','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	    </sql>
	</changeSet>
	 <changeSet id="573" author="Irfan">
	 	<sql>
	 		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
						
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CL_ORIGINATION_WRM') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_JountAccountDetailDialog_btnSearchCustCIF'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BFSD_ORIGINATION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_JountAccountDetailDialog_btnSearchCustCIF'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

			
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	 	</sql>
	 </changeSet>
	 <changeSet id="574" author="Pruthvi">
	     <sql>
	         update reportfilterfields set Fielddbname='T.FinReference' where reportid=(select reportid from reportconfiguration where menuitemcode='menu_Item_LISTOFDOCUMENTEXTRACT');
	     </sql>
	 </changeSet>
	 
	  <changeSet id="575" author="Sriram">
	 	<sql>
	 		
			DELETE FROM SECGROUPRIGHTS WHERE GRPID = (Select GrpID from SecGRoups WHERE GRPCODE = 'FEETYPE_MAKER') AND RIGHTID = (Select Rightid From Secrights where rightname = 'FeeTypeDialog_HostFeeTypeCode');
	 		DELETE from secrights where RightName='FeeTypeDialog_HostFeeTypeCode';

			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeTypeDialog_HostFeeTypeCode','FeeTypeDialog',1,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEETYPE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeTypeDialog_HostFeeTypeCode'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
			
	 	</sql>
	 </changeSet>
	  <changeSet id="576" author="Sriram">
	 	
		<dropColumn tableName="FEETYPES" columnName="HostFeeTypeCode"/>
		<dropColumn tableName="FEETYPES_TEMP" columnName="HostFeeTypeCode"/>
		
		 <addColumn tableName="FEETYPES">
			<column name="HostFeeTypeCode" type="varchar(50)"/>
		</addColumn>
		<addColumn tableName="FEETYPES_TEMP">
			<column name="HostFeeTypeCode" type="varchar(50)"/>
		</addColumn>
	</changeSet>
	<changeSet id="577" author="Sriram" >
		<createView viewName="FEETYPES_VIEW" replaceIfExists="true">
		
			SELECT		T1.FeeTypeID, T1.FeeTypeCode, T1.FeeTypeDesc, T1.ManualAdvice, T1.AdviseType, T1.AccountSetId, 			
						T1.Active,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
						T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.ACCOUNTSETCODE, T2.ACCOUNTSETCODENAME,T1.HostFeeTypeCode
			
			FROM    	FeeTypes_Temp  T1  LEFT JOIN 
						RMTACCOUNTINGSET T2 ON T1.AccountSetId = T2.ACCOUNTSETID
			
			UNION ALL
			
			SELECT		T1.FeeTypeID, T1.FeeTypeCode, T1.FeeTypeDesc, T1.ManualAdvice, T1.AdviseType, T1.AccountSetId, 			
						T1.Active,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
						T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.ACCOUNTSETCODE, T2.ACCOUNTSETCODENAME,T1.HostFeeTypeCode	
			
			FROM    	FeeTypes  T1 LEFT JOIN 	
						RMTACCOUNTINGSET T2 ON T1.AccountSetId = T2.ACCOUNTSETID     
			
			WHERE     	NOT EXISTS (SELECT 1 FROM FeeTypes_TEMP WHERE FeeTypeID = T1.FeeTypeID)
		</createView>
		<createView viewName="FEETYPES_AVIEW" replaceIfExists="true">
		
		SELECT		T1.FeeTypeID, T1.FeeTypeCode, T1.FeeTypeDesc, T1.ManualAdvice, T1.AdviseType, T1.AccountSetId,			
					T1.Active,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
					T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.ACCOUNTSETCODE, T2.ACCOUNTSETCODENAME,T1.HostFeeTypeCode	
		
		FROM    	FeeTypes  T1  LEFT JOIN 
					RMTACCOUNTINGSET T2 ON T1.AccountSetId = T2.ACCOUNTSETID
		</createView>
		<createView viewName="FEETYPES_TVIEW" replaceIfExists="true">
		
		SELECT		T1.FeeTypeID, T1.FeeTypeCode, T1.FeeTypeDesc, T1.ManualAdvice, T1.AdviseType, T1.AccountSetId,			
					T1.Active,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId,
					T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.ACCOUNTSETCODE, T2.ACCOUNTSETCODENAME,T1.HostFeeTypeCode	
		
		FROM    	FeeTypes_Temp  T1  LEFT JOIN 
					RMTACCOUNTINGSET T2 ON T1.AccountSetId = T2.ACCOUNTSETID
		</createView>
	</changeSet>
	 <changeSet id="575" author="Srikanth">
	     <sql>
		INSERT INTO ErrorDetails VALUES('90344','EN','E','Unable to find quick disbursment Stage.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		update EXTENDEDFIELDDETAIL set FIELDCONSTRAINT = 'REGEX_ALPHA_SPACE_SPL' where FIELDTYPE = 'TEXT' AND FIELDCONSTRAINT = 'REGEX_ALPHANUM_SPL';
	     </sql>
	 </changeSet>
	 <changeSet id="578" author="Srikanth">
	     <sql>
		 update EXTENDEDFIELDDETAIL set FIELDCONSTRAINT = 'REGEX_NUMERIC' where FIELDTYPE = 'TEXT' AND FIELDNAME = 'ACNO';
	     </sql>
	 </changeSet>
	 <changeSet id="579" author="Manoj">
	 	<sql>
	 		update data_engine_config set POSTEVENT = 'MOVE_TO_S3_BUCKET', backupfile = 1  where Name IN ('MANDATES_EXPORT');
			delete from data_engine_event_properties where config_id in (select id from data_engine_config where name = 'MANDATES_EXPORT');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'MANDATES_EXPORT'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O', 'MANDATES');
	 	</sql>
	 </changeSet>
	 <changeSet id="580" author="Manoj" dbms="oracle">
	  	<createView viewName="DE_FILE_CONTROL_VIEW" replaceIfExists="true">
	  		SELECT DS.ID,
		 	DC.NAME,
		    DC.UPLOADPATH FILELOCATION,
		  	DS.FILENAME,
		  	DS.ENDTIME,
		  	DS.STATUS,
		  	DC.id AS CONFIGID,
		  	DC.POSTEVENT,
		  	DS.VALUEDATE
			FROM DATA_ENGINE_CONFIG DC
			INNER JOIN DATA_ENGINE_STATUS DS
			ON DS.NAME = DC.NAME
			ORDER BY DS.ID DESC
	  	</createView>
	 </changeSet>
	 <changeSet id="580" author="Manoj" dbms="mssql">
	  	<createView viewName="DE_FILE_CONTROL_VIEW" replaceIfExists="true">
	  		SELECT DS.ID,
		 	DC.NAME,
		    DC.UPLOADPATH FILELOCATION,
		  	DS.FILENAME,
		  	DS.ENDTIME,
		  	DS.STATUS,
		  	DC.id AS CONFIGID,
		  	DC.POSTEVENT,
		  	DS.VALUEDATE
			FROM DATA_ENGINE_CONFIG DC
			INNER JOIN DATA_ENGINE_STATUS DS
			ON DS.NAME = DC.NAME
	  	</createView>
	 </changeSet>
	 <changeSet id="581" author="Manoj">
	 	<sql>
	 		update data_engine_config set POSTEVENT = 'MOVE_TO_S3_BUCKET', backupfile = 1  where Name IN ('DISB_HDFC_EXPORT', 'DISB_OTHER_CHEQUE_DD_EXPORT', 'DISB_OTHER_NEFT_RTGS_EXPORT');
			delete from data_engine_event_properties where config_id in (select id from data_engine_config where name IN ('DISB_HDFC_EXPORT', 'DISB_OTHER_CHEQUE_DD_EXPORT', 'DISB_OTHER_NEFT_RTGS_EXPORT') );
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'DISB_HDFC_EXPORT'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O', 'DISBURSEMENTS');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'DISB_OTHER_CHEQUE_DD_EXPORT'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O', 'DISBURSEMENTS');
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'DISB_OTHER_NEFT_RTGS_EXPORT'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O', 'DISBURSEMENTS');
	 	</sql>
	 </changeSet>
	 <changeSet id="582" author="Manoj" dbms="oracle">
	 	<createView viewName="DE_DISBURSE_FILE_CONTROL_VIEW" replaceIfExists="true">
	 		SELECT DISTINCT(DS.ID), DC.NAME, DC.UPLOADPATH FILELOCATION, DS.FILENAME, DS.ENDTIME, DS.STATUS,  DC.id AS CONFIGID,  DC.POSTEVENT,
			PB.ALWFILEDOWNLOAD,  PB.PARTNERBANKID, PB.PARTNERBANKCODE, PB.PARTNERBANKNAME, FA.PAYMENTTYPE
			FROM DATA_ENGINE_CONFIG DC
			INNER JOIN DATA_ENGINE_STATUS DS ON DS.NAME = DC.NAME 
			INNER JOIN DISBURSEMENT_REQUESTS DR ON DR.BATCH_ID =DS.ID
      		INNER JOIN FINADVANCEPAYMENTS FA ON FA.PAYMENTID = DR.DISBURSEMENT_ID
			INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
      
	  UNION ALL
	  SELECT DISTINCT(DS.ID), DC.NAME, DC.UPLOADPATH FILELOCATION, DS.FILENAME, DS.ENDTIME, DS.STATUS,  DC.id AS CONFIGID,  DC.POSTEVENT,
			PB.ALWFILEDOWNLOAD,  PB.PARTNERBANKID, PB.PARTNERBANKCODE, PB.PARTNERBANKNAME, PI.PAYMENTTYPE
			FROM DATA_ENGINE_CONFIG DC
			INNER JOIN DATA_ENGINE_STATUS DS ON DS.NAME = DC.NAME 
			INNER JOIN DISBURSEMENT_REQUESTS DR ON DR.BATCH_ID =DS.ID
      		INNER JOIN PAYMENTINSTRUCTIONS PI ON PI.PAYMENTINSTRUCTIONID = DR.DISBURSEMENT_ID
			INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = PI.PARTNERBANKID
     ORDER BY ID DESC
	 	</createView>
	 </changeSet>
	 <changeSet id="582" author="Manoj" dbms="mssql">
	 	<createView viewName="DE_DISBURSE_FILE_CONTROL_VIEW" replaceIfExists="true">
	 		SELECT DISTINCT(DS.ID), DC.NAME, DC.UPLOADPATH FILELOCATION, DS.FILENAME, DS.ENDTIME, DS.STATUS,  DC.id AS CONFIGID,  DC.POSTEVENT,
			PB.ALWFILEDOWNLOAD,  PB.PARTNERBANKID, PB.PARTNERBANKCODE, PB.PARTNERBANKNAME, FA.PAYMENTTYPE
			FROM DATA_ENGINE_CONFIG DC
			INNER JOIN DATA_ENGINE_STATUS DS ON DS.NAME = DC.NAME 
			INNER JOIN DISBURSEMENT_REQUESTS DR ON DR.BATCH_ID =DS.ID
      		INNER JOIN FINADVANCEPAYMENTS FA ON FA.PAYMENTID = DR.DISBURSEMENT_ID
			INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
      
	  UNION ALL
	  SELECT DISTINCT(DS.ID), DC.NAME, DC.UPLOADPATH FILELOCATION, DS.FILENAME, DS.ENDTIME, DS.STATUS,  DC.id AS CONFIGID,  DC.POSTEVENT,
			PB.ALWFILEDOWNLOAD,  PB.PARTNERBANKID, PB.PARTNERBANKCODE, PB.PARTNERBANKNAME, PI.PAYMENTTYPE
			FROM DATA_ENGINE_CONFIG DC
			INNER JOIN DATA_ENGINE_STATUS DS ON DS.NAME = DC.NAME 
			INNER JOIN DISBURSEMENT_REQUESTS DR ON DR.BATCH_ID =DS.ID
      		INNER JOIN PAYMENTINSTRUCTIONS PI ON PI.PAYMENTINSTRUCTIONID = DR.DISBURSEMENT_ID
			INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = PI.PARTNERBANKID
	 	</createView>
	 </changeSet>
	 <changeSet id="583" author="Manoj">
	 	<sql>
	 		delete from data_engine_event_properties where config_id in (select id from data_engine_config where name IN ('CIBIL_REPORT') );
	 	    delete from DATA_ENGINE_CONFIG where name = 'CIBIL_REPORT';
	 	    
		    INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'CIBIL_REPORT', 
		    'Cibil Report', 5, NULL, NULL, NULL, NULL, 0, 0, NULL, NULL,  NULL, 'A', NULL, 'DBFILE', NULL, 0, NULL, NULL, NULL, 0, NULL, 1, 1); 
		     
    		update data_engine_config set POSTEVENT = 'MOVE_TO_S3_BUCKET', backupfile = 1  where Name IN ('CIBIL_REPORT');
    		
			insert into data_engine_event_properties values ((select id from data_engine_config where name = 'CIBIL_REPORT'), 'S3', 'us-east-2', 'sai-workshop-bucket-1', 'AKIAIYG2R7I7C5R64G3Q', 'pP0U8zA2qSxBaTQgZHnHx8tOGV409SxFf8Y58X1O', 'CIBIL');
	 	</sql>
	 </changeSet>
	 
	 <changeSet id="584" author="Manoj">
	 	<createView viewName="CIBIL_FILE_INFO_VIEW" replaceIfExists="true">
	 		select ID, FILE_NAME, CREATEDON, STATUS, FILE_LOCATION, (select id from data_engine_config where name = 'CIBIL_REPORT') configId, 'MOVE_TO_S3_BUCKET'  POSTEVENT  
			FROM CIBIL_FILE_INFO
	 	</createView>
	 </changeSet>
	 <changeSet author="Madhubabu" id="585">
		<sql>
			delete from errordetails where errorcode='99016';
			INSERT INTO ErrorDetails VALUES('99016','EN','E','For Agreement No :{0} Already having GST details captured from LOS','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
		</sql>
	</changeSet>
	<changeSet id="586" author="madhubabu">
	<createView viewName="FINCOVENANTTYPE_EVIEW"
		replaceIfExists="true">
			SELECT       T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
	         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
	         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
	         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
           CASE WHEN T1.CovenantType=T7.docCategory THEN T7.lastmnton 
                WHEN T1.CovenantType=T6.custdocCategory THEN T6.lastmnton
           else null end AS DocReceivedDate
	         FROM  fincovenanttype_temp T1 INNER JOIN
                 BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
                 Financemain T4 ON T4.FinReference= T1.FinReference  LEFT JOIN
                 customerdocuments T6 on  T6.custid=T4.custId LEFT join
                 documentdetails T7 on T7.referenceID = T1.FinReference And  T1.CovenantType = T7.DocCategory 
                
	UNION ALL
			SELECT       T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
	         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
	         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
	         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
           CASE WHEN T1.CovenantType=T7.docCategory THEN T7.lastmnton 
                WHEN T1.CovenantType=T6.custdocCategory THEN T6.lastmnton
           else null end AS DocReceivedDate
	         FROM  fincovenanttype T1 INNER JOIN
                 BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
                 Financemain T4 ON T4.FinReference= T1.FinReference  LEFT JOIN
                 customerdocuments T6 on  T6.custid=T4.custId LEFT join
                 documentdetails T7 on T7.referenceID = T1.FinReference And  T1.CovenantType = T7.DocCategory 

	WHERE NOT EXISTS
	                 (SELECT   1
					  FROM        FinCovenantType_Temp
					  WHERE       FinReference = T1.FinReference and CovenantType = T1.CovenantType)
		</createView>

</changeSet>
	<changeSet id="587" author="madhubabu">
		<createView viewName="FINCOVENANTTYPE_EAVIEW"
			replaceIfExists="true">
			SELECT       T1.FinReference, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
	         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
	         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
	         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
           CASE WHEN T1.CovenantType=T7.docCategory THEN T7.lastmnton 
                WHEN T1.CovenantType=T6.custdocCategory THEN T6.lastmnton
           else null end AS DocReceivedDate
	         FROM  fincovenanttype T1 INNER JOIN
                 BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
                 Financemain T4 ON T4.FinReference= T1.FinReference  LEFT JOIN
                 customerdocuments T6 on  T6.custid=T4.custId LEFT join
                 documentdetails T7 on T7.referenceID = T1.FinReference And  T1.CovenantType = T7.DocCategory 
		</createView>

	</changeSet>
	 <changeSet id="588" author="Irfan">
	 	<sql>
	 		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
						
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CL_ORIGINATION_WRM') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_GuarantorDetailDialog_btnSearchGuarantorCIF'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BFSD_ORIGINATION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_GuarantorDetailDialog_btnSearchGuarantorCIF'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

			
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	 	</sql>
	 </changeSet>
	 <changeSet id="589" author="madhubabu">
	<createView viewName="FINCOVENANTTYPE_EVIEW"
		replaceIfExists="true">
			 Select T.FinReference,T.custid,T.CovenantType,T.Description,T.MandRole,T.AlwWaiver,
                    T.AlwPostpone,T.PostponeDays,T.CovenantTypeDesc,T.lovdescIsCustDoc,T.ReceivableDate,
                    T.Version,T.LastMntBy, T.LastMntOn, T.RecordStatus, T.RoleCode,
                   T.NextRoleCode, T.TaskId, T.NextTaskId, T.RecordType, T.WorkflowId, 
                   Case when T.DocReceivedDate is null then Cd.lastmnton else T.DocReceivedDate end DocReceivedDate 
          from (SELECT  T1.FinReference,T4.custid, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
                         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
                         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
                         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                         T7.DocReceivedDate
                 FROM  fincovenanttype_temp T1 INNER JOIN
                       BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
                       Financemain T4 ON T4.FinReference= T1.FinReference  LEFT JOIN
                       documentdetails T7 on T7.referenceID = T1.FinReference And  T1.CovenantType = T7.DocCategory 
                UNION ALL
                SELECT  T1.FinReference,T4.custid, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
                         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
                         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
                         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                         T7.DocReceivedDate
                 FROM  fincovenanttype T1 INNER JOIN
                       BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
                       Financemain T4 ON T4.FinReference= T1.FinReference  LEFT JOIN
                       documentdetails T7 on T7.referenceID = T1.FinReference And  T1.CovenantType = T7.DocCategory 
                       WHERE NOT EXISTS (SELECT   1  FROM        FinCovenantType_Temp  WHERE FinReference = T1.FinReference and CovenantType = T1.CovenantType)
                )T 
          left join CUSTOMERDOCUMENTS CD on Cd.custid =T.custid and T.CovenantType = cd.CUSTDOCCATEGORY
		</createView>

</changeSet>
	<changeSet id="590" author="madhubabu">
		<createView viewName="FINCOVENANTTYPE_EAVIEW"
			replaceIfExists="true">
			Select T.FinReference,T.custid,T.CovenantType,T.Description,T.MandRole,T.AlwWaiver,
                    T.AlwPostpone,T.PostponeDays,T.CovenantTypeDesc,T.lovdescIsCustDoc,T.ReceivableDate,
                    T.Version,T.LastMntBy, T.LastMntOn, T.RecordStatus, T.RoleCode,
                   T.NextRoleCode, T.TaskId, T.NextTaskId, T.RecordType, T.WorkflowId, 
                   Case when T.DocReceivedDate is null then Cd.lastmnton else T.DocReceivedDate end DocReceivedDate 
          from (SELECT  T1.FinReference,T4.custid, T1.CovenantType, T1.Description, T1.MandRole, T1.AlwWaiver,
                         T1.AlwPostpone, T1.PostponeDays,T3.DocTypeDesc CovenantTypeDesc,T3.DocIsCustDoc lovdescIsCustDoc,
                         T1.ReceivableDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
                         T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                         T7.DocReceivedDate
                 FROM  fincovenanttype T1 INNER JOIN
                       BMTDocumentTypes T3 ON T3.DocTypeCode = T1.CovenantType  INNER JOIN 
                       Financemain T4 ON T4.FinReference= T1.FinReference  LEFT JOIN
                       documentdetails T7 on T7.referenceID = T1.FinReference And  T1.CovenantType = T7.DocCategory 
                )T 
          left join CUSTOMERDOCUMENTS CD on Cd.custid =T.custid and T.CovenantType = cd.CUSTDOCCATEGORY
		</createView>

	</changeSet>
	<changeSet id="591" author="Irfan">
		<createView viewName="FINGUARANTORSDETAILS_VIEW" replaceIfExists="true">
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
						T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
						T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
						T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
						(SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
						T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
						coalesce(T3.CUSTID,0) CUSTID, T3.CustShrtName			            
			FROM        FinGuarantorsDetails_Temp T1 INNER JOIN
						SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
						Customers T3 ON T1.GuarantorCIF =  T3.CustCIF
						
			UNION ALL
						
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
			            T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
			            T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
			            T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
			            (SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
			            T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
			            coalesce(T3.CUSTID,0) CUSTID, T3.CustShrtName            
			FROM        FinGuarantorsDetails T1 INNER JOIN
			            SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
			            Customers T3 ON T1.GuarantorCIF =  T3.CustCIF
			
			WHERE     	NOT EXISTS (SELECT 1 FROM FinGuarantorsDetails_TEMP  WHERE GuarantorId = T1.GuarantorId)
		
		</createView>
	
	</changeSet>
	<changeSet id="592" author="Irfan">
		<createView viewName="FINGUARANTORSDETAILS_TVIEW" replaceIfExists="true">
			SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
						 T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
						 T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
						 T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
						 (SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
						 T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
						 coalesce(T3.CUSTID,0) CUSTID , T3.CustShrtName
			FROM        FinGuarantorsDetails_Temp T1 INNER JOIN
						SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
						Customers T3 ON T1.GuarantorCIF =  T3.CustCIF
		</createView>
	
	</changeSet>
	<changeSet id="593" author="Irfan">
		<createView viewName="FINGUARANTORSDETAILS_AVIEW" replaceIfExists="true">
		SELECT      T1.GuarantorId, T1.FinReference, T1.BankCustomer, T1.GuarantorCIF, T1.GuarantorIDType, T1.GuarantorIDNumber, T1.GuranteePercentage, 
			            T1.MobileNo, T1.EmailId, T1.GuarantorProof, T1.GuarantorProofName, T1.Version, T1.LastMntBy, T1.LastMntOn,  T1.RecordStatus, 
						T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.GuarantorCIFName, T1.Remarks, T1.AddrHNbr,
						T1.FlatNbr, T1.AddrStreet, T1.AddrLine1, T1.AddrLine2, T1.POBox, T1.AddrCity, T1.AddrProvince, T1.AddrCountry, T1.AddrZIP,
			            (SELECT IdentityDesc  FROM BMTIdentityType WHERE (IdentityType = T1.GuarantorIDType)) GuarantorIDTypeName,
			            T2.UsrLogin, T2.UsrFName, T2.UsrMName, T2.UsrLName,
			            coalesce(T3.CUSTID,0) CUSTID, T3.CustShrtName			            
			FROM        FinGuarantorsDetails T1 INNER JOIN
				        SecUsers T2 ON T1.LastMntBy = T2.UsrID Left Outer Join
				        Customers T3 ON T1.GuarantorCIF =  T3.CustCIF
		
		</createView>
	</changeSet>
	<changeSet id="594" author="Manoj">
	<createTable tableName="DATAMART_HEADER">
		<column name="BATCHID" type="decimal(12,0)" autoIncrement="true"
			incrementBy="1">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="STATUS" type="varchar(1)">
			<constraints nullable="false" />
		</column>
		<column name="INSERT_TIMESTAMP" type="datetime">
			<constraints nullable="false" />
		</column>
		<column name="COMPLETION_TIMESTAMP" type="datetime" />
		<column name="ERR_DESCRIPTION" type="varchar(500)" />
		<column name="ERROR_CODE" type="varchar(500)" />
	</createTable>
</changeSet>

<changeSet id="595" author="Manoj">
	<addColumn tableName="DM_WRITEOFF_DETAILS">
			<column name="BATCH_ID" type="bigint"/>
		</addColumn>
		
</changeSet>

<changeSet id="596" author="Manoj">
	<addColumn tableName="DM_SEND_SOA_EMAIL">
		<column name="BATCH_ID" type="bigint" />
	</addColumn>
</changeSet>

<changeSet id="597" author="Manoj">
	<addColumn tableName="DM_RESCH_DETAILS_DAILY">
		<column name="BATCH_ID" type="bigint" />
	</addColumn>
	<addColumn tableName="DM_PRESENTATION_DETAILS">
		<column name="BATCH_ID" type="bigint" />
	</addColumn>
	<addColumn tableName="DM_PREPAYMENT_DETAILS">
		<column name="BATCH_ID" type="bigint" />
	</addColumn>
	<addColumn tableName="DM_NOC_ELIGIBLE_LOANS">
		<column name="BATCH_ID" type="bigint" />
	</addColumn>
	<addColumn tableName="DM_LOAN_VOUCHER_DETAILS">
		<column name="BATCH_ID" type="bigint" />
	</addColumn>
	<addColumn tableName="DM_LEA_DOC_DTL">
		<column name="BATCH_ID" type="bigint" />
	</addColumn>
	<addColumn tableName="DM_HTS_UNADJUSTED_AMT">
		<column name="BATCH_ID" type="bigint" />
	</addColumn>
	<addColumn tableName="FORECLOSURECHARGES">
		<column name="BATCH_ID" type="bigint" />
	</addColumn>
	<addColumn tableName="DM_BOUNCE_DETAILS">
		<column name="BATCH_ID" type="bigint" />
	</addColumn>
</changeSet>

<changeSet id="598" author="Manoj">
	<createView viewName="DM_BOUNCE_DETAILS_VIEW" replaceIfExists="true">
		select
		cast(T2.Applicationno as numeric(8,0)) APPLID,
		cast(null as numeric(32,0)) CHEQUEID,t1.finreference AGREEMENTNO,'' BOUNCE_DATE,'' BOUNCE_REASON,
		cast(null as numeric(16,2)) BOUNCE_AMT,(select SysParmValue  from SMTparameters where SysParmCode = 'APP_NEXT_BUS_DATE') BUSINESSDATE,'N' PROCESSED_FLAG,'' PROCESS_DATE,'' SEGMENTS,
		cast(null as numeric(16,2)) BUSINESS_YEAR,'' CHEQUEDATE, null BATCH_ID
		from finpftdetails T1
		inner join FinanceMain T2 on t1.finreference=t2.finreference
	</createView>
</changeSet>
<changeSet id="599" author="Manoj" dbms="oracle">
	<createView viewName="FORECLOSURECHARGES_VIEW" replaceIfExists="true">
		select 
		substr(T1.FinReference,7,length(T1.FinReference)) AGREEMENTID,udf_convertcurrency(t3.PriAmount,T2.finccy,'INR')  BAL_PRINCIPAL,null RESEDUL_VALUE,null INSTALLMENTS,
		null ADVICES,null PENALTY,udf_convertcurrency(t4.PftAmount,T2.finccy,'INR')  INTREST_ON_TERMINATION,null FLOATINTREST_ON_TERMINATION,
		null OVER_DUES,null CURRENT_OVERDUES,null CURRENT_WAVEOFFAMT,null OVER_DISTANCE_CHARGES,
		null INTREST_ON_TERMINATION_PER_DAY,null INTREST_ACCRUALS,null EXCESS_AMOUNT,null EXCESS_REFUND,
		null ADVICE,null REBATE,null ADVINSTL,null EXCESSPRINPMNT,null SDAMT,
		null SDINT,null EXCESS_INTREST_RATE,null VAT_ON_FORECLOSURE,null UNDER_DISTANCE_CHARGES,
		null NET_PAYBALE,udf_convertcurrency(t5.TotalFeeAmount,T2.finccy,'INR')  WAIVEOFFAMOUNT,null ACTIVITY,null AUTHORIZEDON,null COMMITMENT_FEE,null ORIGINATION_FEE,
		null PRE_EMI,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESS_DATE,
		null CHEQUEID,null STATUS,null INTEREST_WAIVE_OFF,null BALANCE_PRIN_WAIVE_OFF,
		udf_convertcurrency(t6.LPFTWaivedAmount,T2.finccy,'INR')  INSTALLMET_INT_WAIVE_OFF,udf_convertcurrency(t7.PFTWaivedAmount,T2.finccy,'INR')  WOFF_CURRMONTH_INT,udf_convertcurrency(t8.ODCWaivedAmount,T2.finccy,'INR')  WOFF_OVERDUE_CHARGE,null WOFF_CHQBOUNCE_CHARGES,
		null WOFF_OTHERS,null INSTALLMENT_PRIN_WAIVE_OFF,null WOFF_PARKING_CHARGES,null TOT_OTHER_REPO_CHARGES,
		null WOFF_OTHER_REPO_CHARGES,null TOT_REPOSESSION_CHARGES,null WOFF_REPOSESSION_CHARGES,null TOT_PARKING_CHARGES,null BATCH_ID
		from Finpftdetails t1
		inner join financemain t2 on t1.finreference=t2.finreference
		left join (select finreference,sum(PriAmount)PriAmount from FinRepayHeader where FinEvent = 'EarlySettlement' group by finreference) t3 on  t3.finreference=t2.finreference  
		left join (select finreference,sum(PftAmount)PftAmount from FinRepayHeader where FinEvent = 'EarlySettlement' group by finreference) t4 on  t4.finreference=t2.finreference  
		left join (select reference,receiptid,sum(TotFeeAmount)TotalFeeAmount from FinReceiptHeader where receiptpurpose = 'EarlySettlement' group by reference,receiptid) t5 on  t5.reference=t2.finreference  
		left join (select receiptid,sum(WaivedAmount)LPFTWaivedAmount from ReceiptAllocationDetail where allocationType = 'LPFT' group by receiptid) t6 on  t6.receiptid=t5.receiptid  
		left join (select receiptid,sum(WaivedAmount)PFTWaivedAmount from ReceiptAllocationDetail where allocationType = 'PFT' group by receiptid) t7 on  t7.receiptid=t5.receiptid  
		left join (select receiptid,sum(WaivedAmount)ODCWaivedAmount from ReceiptAllocationDetail where allocationType = 'ODC' group by receiptid) t8 on  t8.receiptid=t5.receiptid
	</createView>
</changeSet>
<changeSet id="599" author="Manoj" dbms="mssql">
	<createView viewName="FORECLOSURECHARGES_VIEW" replaceIfExists="true">
		select 
		substring(T1.FinReference,7,len(T1.FinReference)) AGREEMENTID,dbo.udf_convertcurrency(t3.PriAmount,T2.finccy,'INR')  BAL_PRINCIPAL,null RESEDUL_VALUE,null INSTALLMENTS,
		null ADVICES,null PENALTY,dbo.udf_convertcurrency(t4.PftAmount,T2.finccy,'INR')  INTREST_ON_TERMINATION,null FLOATINTREST_ON_TERMINATION,
		null OVER_DUES,null CURRENT_OVERDUES,null CURRENT_WAVEOFFAMT,null OVER_DISTANCE_CHARGES,
		null INTREST_ON_TERMINATION_PER_DAY,null INTREST_ACCRUALS,null EXCESS_AMOUNT,null EXCESS_REFUND,
		null ADVICE,null REBATE,null ADVINSTL,null EXCESSPRINPMNT,null SDAMT,
		null SDINT,null EXCESS_INTREST_RATE,null VAT_ON_FORECLOSURE,null UNDER_DISTANCE_CHARGES,
		null NET_PAYBALE,dbo.udf_convertcurrency(t5.TotalFeeAmount,T2.finccy,'INR')  WAIVEOFFAMOUNT,null ACTIVITY,null AUTHORIZEDON,null COMMITMENT_FEE,null ORIGINATION_FEE,
		null PRE_EMI,(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESS_DATE,
		null CHEQUEID,null STATUS,null INTEREST_WAIVE_OFF,null BALANCE_PRIN_WAIVE_OFF,
		dbo.udf_convertcurrency(t6.LPFTWaivedAmount,T2.finccy,'INR')  INSTALLMET_INT_WAIVE_OFF,dbo.udf_convertcurrency(t7.PFTWaivedAmount,T2.finccy,'INR')  WOFF_CURRMONTH_INT,dbo.udf_convertcurrency(t8.ODCWaivedAmount,T2.finccy,'INR')  WOFF_OVERDUE_CHARGE,null WOFF_CHQBOUNCE_CHARGES,
		null WOFF_OTHERS,null INSTALLMENT_PRIN_WAIVE_OFF,null WOFF_PARKING_CHARGES,null TOT_OTHER_REPO_CHARGES,
		null WOFF_OTHER_REPO_CHARGES,null TOT_REPOSESSION_CHARGES,null WOFF_REPOSESSION_CHARGES,null TOT_PARKING_CHARGES,null BATCH_ID
		from Finpftdetails t1
		inner join financemain t2 on t1.finreference=t2.finreference
		left join (select finreference,sum(PriAmount)PriAmount from FinRepayHeader where FinEvent = 'EarlySettlement' group by finreference) t3 on  t3.finreference=t2.finreference  
		left join (select finreference,sum(PftAmount)PftAmount from FinRepayHeader where FinEvent = 'EarlySettlement' group by finreference) t4 on  t4.finreference=t2.finreference  
		left join (select reference,receiptid,sum(TotFeeAmount)TotalFeeAmount from FinReceiptHeader where receiptpurpose = 'EarlySettlement' group by reference,receiptid) t5 on  t5.reference=t2.finreference  
		left join (select receiptid,sum(WaivedAmount)LPFTWaivedAmount from ReceiptAllocationDetail where allocationType = 'LPFT' group by receiptid) t6 on  t6.receiptid=t5.receiptid  
		left join (select receiptid,sum(WaivedAmount)PFTWaivedAmount from ReceiptAllocationDetail where allocationType = 'PFT' group by receiptid) t7 on  t7.receiptid=t5.receiptid  
		left join (select receiptid,sum(WaivedAmount)ODCWaivedAmount from ReceiptAllocationDetail where allocationType = 'ODC' group by receiptid) t8 on  t8.receiptid=t5.receiptid
	</createView>
</changeSet>
<changeSet id="600" author="Manoj" dbms="oracle">
	<createView viewName="DM_HTS_UNADJUSTED_AMT_VIEW" replaceIfExists="true">
		  select substr(T1.FinReference,7,length(T1.FinReference)) APPLID,
		 udf_convertcurrency(BalanceAmt,T1.finccy,'INR')  UNADJUSTED_AMOUNT,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE
		  ,null BATCH_ID 
		  
		from financemain T1 
		inner join (Select FinReference,sum(BalanceAmt)BalanceAmt from FINEXCESSAMOUNT
		group by FinReference)t2 on t1.FinReference =t2.FinReference
	</createView>
</changeSet>
<changeSet id="600" author="Manoj" dbms="mssql">
	<createView viewName="DM_HTS_UNADJUSTED_AMT_VIEW" replaceIfExists="true">
		  select substring(T1.FinReference,7,len(T1.FinReference)) APPLID,
		 dbo.udf_convertcurrency(BalanceAmt,T1.finccy,'INR')  UNADJUSTED_AMOUNT,(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE
		  ,null BATCH_ID 
		  
		from financemain T1 
		inner join (Select FinReference,sum(BalanceAmt)BalanceAmt from FINEXCESSAMOUNT
		group by FinReference)t2 on t1.FinReference =t2.FinReference
	</createView>
</changeSet>
<changeSet id="601" author="Manoj" dbms="oracle">
	<createView viewName="DM_LEA_DOC_DTLE_VIEW" replaceIfExists="true">
			select substr(T1.FinReference,7,length(T1.FinReference))  AGREEMENTID,null APPLICABLE,
			substr(T2.FinReference,7,length(T2.FinReference))  APPLID,null APPROVED_BY,null AUTHDATE,null AUTHID,null AWB_NO,null BRANCHSTATUS,
			cast(null as numeric(8,0)) CONSTITUTION,null COURIER_NAME,'N' CRITICAL,null CUSTOMER_TYPE,
			t1.custid  CUSTOMERID,null DATE_BRANCH_STATUS,null DATELASTUPDT,null DOC_CLASSFN,null DOC_RETRIEVAL_STATUS,
			cast(null as numeric(8,0)) DOCID,null DOCTYPE,null FILE_BARCODE,null MAKERDATE,null MAKERID,null MC_STATUS,null NEW_FLAG,null ORIGINALS,
			null PACKET_TRACKER_NO,null PROPERTY_ADDRESS,null PROPERTY_CODE,null REASON,null RECEIVED,null RECEIVEDDATE,null REJECTION_REASONS,
			null RELEASED_DATE,null RELEASED_REMARKS,null REMARKS,null STAGE,null TARGETDATE,null TITLE_DOCUMENT,
			cast(null as numeric(8,0)) TXNDOCID,null VALIDTILLDATE,null VAP_LOAN_FLAG,
			(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
			'N' PROCESSFLAG,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESSDATE,null SEGMENT,
			null REVISED_TARGET_DATE,null BATCH_ID
			from Finpftdetails t1
			inner join financemain t2 on t1.finreference=t2.finreference
	</createView>
</changeSet>
<changeSet id="601" author="Manoj" dbms="mssql">
	<createView viewName="DM_LEA_DOC_DTLE_VIEW" replaceIfExists="true">
			select substring(T1.FinReference,7,len(T1.FinReference))  AGREEMENTID,null APPLICABLE,
			substring(T2.FinReference,7,len(T2.FinReference))  APPLID,null APPROVED_BY,null AUTHDATE,null AUTHID,null AWB_NO,null BRANCHSTATUS,
			cast(null as numeric(8,0)) CONSTITUTION,null COURIER_NAME,'N' CRITICAL,null CUSTOMER_TYPE,
			t1.custid  CUSTOMERID,null DATE_BRANCH_STATUS,null DATELASTUPDT,null DOC_CLASSFN,null DOC_RETRIEVAL_STATUS,
			cast(null as numeric(8,0)) DOCID,null DOCTYPE,null FILE_BARCODE,null MAKERDATE,null MAKERID,null MC_STATUS,null NEW_FLAG,null ORIGINALS,
			null PACKET_TRACKER_NO,null PROPERTY_ADDRESS,null PROPERTY_CODE,null REASON,null RECEIVED,null RECEIVEDDATE,null REJECTION_REASONS,
			null RELEASED_DATE,null RELEASED_REMARKS,null REMARKS,null STAGE,null TARGETDATE,null TITLE_DOCUMENT,
			cast(null as numeric(8,0)) TXNDOCID,null VALIDTILLDATE,null VAP_LOAN_FLAG,
			(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
			'N' PROCESSFLAG,(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESSDATE,null SEGMENT,
			null REVISED_TARGET_DATE,null BATCH_ID
			from Finpftdetails t1
			inner join financemain t2 on t1.finreference=t2.finreference
	</createView>
</changeSet>
<changeSet id="602" author="Manoj" dbms="oracle">
	<createView viewName="DM_LOAN_VOUCHER_DETAILS_VIEW" replaceIfExists="true">
				 SELECT NULL MODULEID,
			  NULL STAGEID,
			  NULL LEA_VOUCHERID,
			  NULL FA_VOUCHERID,
			  NULL VOUCHERTYPE,
			  NULL VOUCHERDATE,
			  NULL VALUEDATE,
			  NULL BRANCHID,
			  NULL BRANCH_CODE,
			  NULL BRANCHDESC,
			  NULL BUSINESS_AREA,
			  NULL PROFIT_CENTRE,
			  t1.fintype PRODUCT_FLAG,
			  t3.ID SCHEMEID,
			  T3.FINTYPEDESC SCHEMEDESC,
			  NULL ASSIGNMENT,
			  SUBSTR(T2.FinReference,7,LENGTH(T2.FinReference)) AGREEMENTID,
			  t2.Finreference AGREEMENTNO,
			  T1.FinstartDate AGREEMENTDATE,
			  NULL DISBURSALDATE,
			  t1.FinIsActive LOAN_STATUS,
			  NULL NPA_STAGEID,
			  NULL FINNONE_GLID,
			  NULL GROUPGLDESC,
			  NULL SAPGL_CODE,
			  NULL COST_CENTRE,
			  NULL DRAMT,
			  NULL CRAMT,
			  NULL DRCR_FLAG,
			  NULL DRCR_AMT,
			  NULL NARRATION,
			  NULL CHEQUEID,
			  (SELECT to_date(sysparmvalue, 'YYYY-MM-DD') sysparmvalue
			  FROM smtparameters
			  WHERE SYSPARMCODE='APP_DATE'
			  ) BUSINESSDATE,
			  (SELECT to_date(sysparmvalue, 'YYYY-MM-DD') sysparmvalue
			  FROM smtparameters
			  WHERE SYSPARMCODE='VALUE_DATE'
			  ) PROCESSDATE,
			  NULL SEGMENT,
			  'N' PROCESSED_FLAG,
			  null BATCH_ID
			FROM Finpftdetails t1
			INNER JOIN financemain t2
			ON t1.finreference=t2.finreference
			INNER JOIN RMTFINANCETYPES T3
			ON T3.fintype=T1.fintype
		</createView>
</changeSet>
<changeSet id="602" author="Manoj" dbms="mssql">
	<createView viewName="DM_LOAN_VOUCHER_DETAILS_VIEW" replaceIfExists="true">
				 SELECT NULL MODULEID,
			  NULL STAGEID,
			  NULL LEA_VOUCHERID,
			  NULL FA_VOUCHERID,
			  NULL VOUCHERTYPE,
			  NULL VOUCHERDATE,
			  NULL VALUEDATE,
			  NULL BRANCHID,
			  NULL BRANCH_CODE,
			  NULL BRANCHDESC,
			  NULL BUSINESS_AREA,
			  NULL PROFIT_CENTRE,
			  t1.fintype PRODUCT_FLAG,
			  t3.ID SCHEMEID,
			  T3.FINTYPEDESC SCHEMEDESC,
			  NULL ASSIGNMENT,
			  SUBSTRING(T2.FinReference,7,LEN(T2.FinReference)) AGREEMENTID,
			  t2.Finreference AGREEMENTNO,
			  T1.FinstartDate AGREEMENTDATE,
			  NULL DISBURSALDATE,
			  t1.FinIsActive LOAN_STATUS,
			  NULL NPA_STAGEID,
			  NULL FINNONE_GLID,
			  NULL GROUPGLDESC,
			  NULL SAPGL_CODE,
			  NULL COST_CENTRE,
			  NULL DRAMT,
			  NULL CRAMT,
			  NULL DRCR_FLAG,
			  NULL DRCR_AMT,
			  NULL NARRATION,
			  NULL CHEQUEID,
			  (SELECT sysparmvalue sysparmvalue
			  FROM smtparameters
			  WHERE SYSPARMCODE='APP_DATE'
			  ) BUSINESSDATE,
			  (SELECT sysparmvalue sysparmvalue
			  FROM smtparameters
			  WHERE SYSPARMCODE='VALUE_DATE'
			  ) PROCESSDATE,
			  NULL SEGMENT,
			  'N' PROCESSED_FLAG,
			  null BATCH_ID
			FROM Finpftdetails t1
			INNER JOIN financemain t2
			ON t1.finreference=t2.finreference
			INNER JOIN RMTFINANCETYPES T3
			ON T3.fintype=T1.fintype
		</createView>
</changeSet>
<changeSet id="603" author="Manoj.P" dbms="oracle">
	<createView viewName="DM_NOC_ELIGIBLE_LOANS_VIEW" replaceIfExists="true">
		 select t1.Finreference AGREEMENTNO,t1.Finreference LOANACCTNUM,t1.fintype PRODUCTFLAG,CustEmail EMAIL,
		(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')BUSINESSDATE,
		(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,'N' PROCESSED_FLAG ,null BATCH_ID
		from Finpftdetails t1
		left join CustomerEMails T3 on T3.custid=T1.custid and custEmailPriority=5
	</createView>
</changeSet>
<changeSet id="603" author="Manoj.P" dbms="mssql">
	<createView viewName="DM_NOC_ELIGIBLE_LOANS_VIEW" replaceIfExists="true">
		 select t1.Finreference AGREEMENTNO,t1.Finreference LOANACCTNUM,t1.fintype PRODUCTFLAG,CustEmail EMAIL,
		(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')BUSINESSDATE,
		(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,'N' PROCESSED_FLAG ,null BATCH_ID
		from Finpftdetails t1
		left join CustomerEMails T3 on T3.custid=T1.custid and custEmailPriority=5
	</createView>
</changeSet>
<changeSet id="604" author="Manoj" dbms="mssql">
	<createView viewName="DM_PREPAYMENT_DETAILS_VIEW" replaceIfExists="true">
		select 
		cast(t2.applicationno as numeric(8,0)) APPLID,t1.finreference AGREEMENTNO,
		null PREPAYMENTID,
		null PREPAYMENT_RATE,null PREPAYMENT_TYPE,
		null PREPAYMENT_PENALTY_DUE,
		null PREPAYMENT_PENALTY_PAID,null PREPAYMENT_AMT,
		(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,'N' PROCESSED_FLAG,
		(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
		'' SEGMENTS,'' PREPAYMENT_DATE,
		cast(null as numeric(8,0)) BUSINESS_YEAR, null BATCH_ID 
		from Finpftdetails t1
		  inner join financemain t2 on t1.finreference=t2.finreference
	</createView>
</changeSet>
<changeSet id="604" author="Manoj" dbms="oracle">
	<createView viewName="DM_PREPAYMENT_DETAILS_VIEW" replaceIfExists="true">
		select 
		cast(t2.applicationno as numeric(8,0)) APPLID,t1.finreference AGREEMENTNO,
		null PREPAYMENTID,
		null PREPAYMENT_RATE,null PREPAYMENT_TYPE,
		null PREPAYMENT_PENALTY_DUE,
		null PREPAYMENT_PENALTY_PAID,null PREPAYMENT_AMT,
		(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,'N' PROCESSED_FLAG,
		(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
		'' SEGMENTS,'' PREPAYMENT_DATE,
		cast(null as numeric(8,0)) BUSINESS_YEAR, null BATCH_ID 
		from Finpftdetails t1
		  inner join financemain t2 on t1.finreference=t2.finreference
	</createView>
</changeSet>
<changeSet id="605" author="Manoj" dbms="mssql">
	<createView viewName="DM_PRESENTATION_DETAILS_VIEW" replaceIfExists="true">
		  select t1.finreference AGREEMENTNO,
		  dbo.udf_convertcurrency(FirstRepayAmt,T2.finccy,'INR')  EMI,dbo.udf_convertcurrency(FirstRepayAmt,T2.finccy,'INR')  REPAY_TYPE,null DEPOSITED_DATE,null CREDIT_STATUS,null RETURN_CODE,null RETURN_REASON,null REMARKS,
		  null SEGMENTS,(Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESSDATE,
		  (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
		  calTerms EMI_NO,t7.bankname CUSTOMER_BANK_NAME,
		  null BOM_BOUNCE_BUCKET,t6.micr MICR_CODE,null STATUS_UPDT_DATE,t3.ACCNUMBER CUST_BANK_AC_NO,t6.Branchdesc CUSTOMER_BANK_BRANCH,
		  null CHEQUESNO,null CHEQUEDATE,null FEMI_FLAG,null HOLD_IGNORE_CODE,null HOLD_IGNORE_REASON,null DEST_ACC_HOLDER,
		  t3.Mandateid PDCID,  t6.bankcode BBRANCHID, null BATCH_ID 
		  from Finpftdetails t1
		  inner join financemain t2 on t1.finreference=t2.finreference
		 INNER JOIN mandates t3 on t3.ORGReference = t2.finreference
		inner join BankBranches T6 on T6.BankBranchid=t3.BankBranchid 
		inner join BMTBankDetail T7 on T7.Bankcode=t6.bankcode
	</createView>
</changeSet>
<changeSet id="605" author="Manoj" dbms="oracle">
	<createView viewName="DM_PRESENTATION_DETAILS_VIEW" replaceIfExists="true">
		  select t1.finreference AGREEMENTNO,
		  udf_convertcurrency(FirstRepayAmt,T2.finccy,'INR')  EMI,udf_convertcurrency(FirstRepayAmt,T2.finccy,'INR')  REPAY_TYPE,null DEPOSITED_DATE,null CREDIT_STATUS,null RETURN_CODE,null RETURN_REASON,null REMARKS,
		  null SEGMENTS,(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESSDATE,
		  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
		  calTerms EMI_NO,t7.bankname CUSTOMER_BANK_NAME,
		  null BOM_BOUNCE_BUCKET,t6.micr MICR_CODE,null STATUS_UPDT_DATE,t3.ACCNUMBER CUST_BANK_AC_NO,t6.Branchdesc CUSTOMER_BANK_BRANCH,
		  null CHEQUESNO,null CHEQUEDATE,null FEMI_FLAG,null HOLD_IGNORE_CODE,null HOLD_IGNORE_REASON,null DEST_ACC_HOLDER,
		  t3.Mandateid PDCID,  t6.bankcode BBRANCHID, null BATCH_ID 
		  from Finpftdetails t1
		  inner join financemain t2 on t1.finreference=t2.finreference
		 INNER JOIN mandates t3 on t3.ORGReference = t2.finreference
		inner join BankBranches T6 on T6.BankBranchid=t3.BankBranchid 
		inner join BMTBankDetail T7 on T7.Bankcode=t6.bankcode
	</createView>
</changeSet>
<changeSet id="606" author="Manoj" dbms="mssql">
	<createView viewName="DM_RESCH_DETAILS_DAILY_VIEW" replaceIfExists="true">
		select substring(T2.FinReference,7,len(T2.FinReference)) APPLID,t2.finreference AGREEMENTNO,
         cASE WHEN FinAssetvalue - FinCurrAssetValue > 0 THEN 'Partially Disbursed' ELSE 'Fully Disbursed' END DISB_STATUS,
         NULL GROSS_TENURE,null NET_TENURE,t2.MaturityDate MATURITYDATE,t2.LastRepayDate EXPIRYDATE,
         dbo.udf_convertcurrency(T1.FirstRepayAmt,T2.finccy,'INR')  EMI,t2.FinRepayMethod REPAYMENT_MODE,T1.fintype PRODUCTFLAG,
         (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,'N' PROCESSED_FLAG,
         (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
         NULL SEGMENTS,substring(t2.REPAYFRQ,1,1) FREQ,
         Case when t1.finisactive =1 then 'Active' when t1.CLOSINGSTATUS='C' 
         then 'Cancelled' else 'Closed' end LOAN_STATUS,t1.MaturityDate CLOSUREDATE,
         t1.CUSTCIF CUST_ACCT_NO,
         T7.bankname BANKNAME,T6.micr MICRCODE,t6.Branchdesc CUST_BANK_BRANCH,
        T8.PCCITYNAME  CUST_BANK_CITY,null BUSINESS_YEAR,
        t3.Mandateid PDCID,null PCFLAG,null TIE_UP,
        CASE WHEN RepayMargin>999 then 999 else RepayMargin end MARGIN,null SPECIALMARGIN,
        t2.NumberofTerms FIXEDTENOR,null CEEFFECTIVEDATE,
        null EFF_RATE,null PLRRATE,
        null TIE_UP_WITH,null DATE_OF_CLOSURE,null PDCMS_SEQ_GENERATED_DATE,
        null INSTRUMENT_DATA_ENTRY_DATE,null PAYMENT_AUTHORIZATION_DATE, null BATCH_ID
			from finpftdetails T1
			inner join Financemain T2 on t1.finreference=t2.finreference
			INNER JOIN mandates t3 on t3.ORGReference = t2.finreference
			inner join BankBranches T6 on T6.BankBranchid=t3.BankBranchid 
			inner join BMTBankDetail T7 on T7.Bankcode=t6.bankcode
			left join RMTPROVINCEVSCITY T8 on T8.PCCITY = T6.CITY
	</createView>
</changeSet>
<changeSet id="606" author="Manoj" dbms="oracle">
	<createView viewName="DM_RESCH_DETAILS_DAILY_VIEW" replaceIfExists="true">
		select substr(T2.FinReference,7,length(T2.FinReference)) APPLID,t2.finreference AGREEMENTNO,
         cASE WHEN FinAssetvalue - FinCurrAssetValue > 0 THEN 'Partially Disbursed' ELSE 'Fully Disbursed' END DISB_STATUS,
         NULL GROSS_TENURE,null NET_TENURE,t2.MaturityDate MATURITYDATE,t2.LastRepayDate EXPIRYDATE,
         udf_convertcurrency(T1.FirstRepayAmt,T2.finccy,'INR')  EMI,t2.FinRepayMethod REPAYMENT_MODE,T1.fintype PRODUCTFLAG,
         (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,'N' PROCESSED_FLAG,
         (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='VALUE_DATE') PROCESS_DATE,
         NULL SEGMENTS,substr(t2.REPAYFRQ,1,1) FREQ,
         Case when t1.finisactive =1 then 'Active' when t1.CLOSINGSTATUS='C' 
         then 'Cancelled' else 'Closed' end LOAN_STATUS,t1.MaturityDate CLOSUREDATE,
         t1.CUSTCIF CUST_ACCT_NO,
         T7.bankname BANKNAME,T6.micr MICRCODE,t6.Branchdesc CUST_BANK_BRANCH,
        T8.PCCITYNAME  CUST_BANK_CITY,null BUSINESS_YEAR,
        t3.Mandateid PDCID,null PCFLAG,null TIE_UP,
        CASE WHEN RepayMargin>999 then 999 else RepayMargin end MARGIN,null SPECIALMARGIN,
        t2.NumberofTerms FIXEDTENOR,null CEEFFECTIVEDATE,
        null EFF_RATE,null PLRRATE,
        null TIE_UP_WITH,null DATE_OF_CLOSURE,null PDCMS_SEQ_GENERATED_DATE,
        null INSTRUMENT_DATA_ENTRY_DATE,null PAYMENT_AUTHORIZATION_DATE, null BATCH_ID
			from finpftdetails T1
			inner join Financemain T2 on t1.finreference=t2.finreference
			INNER JOIN mandates t3 on t3.ORGReference = t2.finreference
			inner join BankBranches T6 on T6.BankBranchid=t3.BankBranchid 
			inner join BMTBankDetail T7 on T7.Bankcode=t6.bankcode
			left join RMTPROVINCEVSCITY T8 on T8.PCCITY = T6.CITY
	</createView>
</changeSet>
<changeSet id="607" author="Manoj" dbms="oracle">
	<createView viewName="DM_SEND_SOA_EMAIL_VIEW" replaceIfExists="true">
		  select T1.Finreference AGREEMENTNO,t1.custid CUSTOMERID,t4.CustEmail EMAILID,
		  substr(T2.FinReference,7,length(T2.FinReference)) AGREEMENTID,
		  substr(T2.FinReference,7,length(T2.FinReference))PROCESSID,
		  (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  GENERATION_DATE,
		  null PROCESSED,t1.fintype PRODUCTFLAG,null GROUPID,
		  T5.ActiveCnt+T6.CloseCnt TOTAL_LAN,
		  T6.CloseCnt TOTAL_CLOSED_LAN,
		  T5.ActiveCnt TOTAL_ACTIVE_LAN,null SWIPE_FLAG,null EMI_CARD_NO,
		  T1.latestDisbDate DISBURSEMENT_DATE,
		  null SUPPLIERID,null SUPPLIERDESC,
		  udf_convertcurrency(TotalPriSchd,T2.finccy,'INR')  AMT_FIN,udf_convertcurrency(FirstRepayAmt,T2.finccy,'INR')  EMI,NextRepayDate NEXT_EMI_DUE_DATE,
		  null CHEQUE_BOUNCE_CHARGE, null BATCH_ID 
		from Finpftdetails t1
		inner join financemain t2 on t1.finreference=t2.finreference
		Inner join customers T3 on T3.custid=T1.custid
		left join CustomerEMails T4 on T4.custid=T3.custid and custEmailPriority=5
		Left join (Select CustID,COUNT(*)ActiveCnt from FinPftDetails
				where (FinIsActive=1) group by CustID)T5 ON T1.CustID =T5.CustID  
		Left join (Select CustID,COUNT(*)CloseCnt from FinPftDetails
				where (FinIsActive!=1)group by CustID)T6 ON T1.CustID =T6.CustID
	</createView>
</changeSet>
<changeSet id="607" author="Manoj" dbms="mssql">
	<createView viewName="DM_SEND_SOA_EMAIL_VIEW" replaceIfExists="true">
		  select T1.Finreference AGREEMENTNO,t1.custid CUSTOMERID,t4.CustEmail EMAILID,
		  substring(T2.FinReference,7,len(T2.FinReference)) AGREEMENTID,
		  substring(T2.FinReference,7,len(T2.FinReference))PROCESSID,
		  (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  GENERATION_DATE,
		  null PROCESSED,t1.fintype PRODUCTFLAG,null GROUPID,
		  T5.ActiveCnt+T6.CloseCnt TOTAL_LAN,
		  T6.CloseCnt TOTAL_CLOSED_LAN,
		  T5.ActiveCnt TOTAL_ACTIVE_LAN,null SWIPE_FLAG,null EMI_CARD_NO,
		  T1.latestDisbDate DISBURSEMENT_DATE,
		  null SUPPLIERID,null SUPPLIERDESC,
		  dbo.udf_convertcurrency(TotalPriSchd,T2.finccy,'INR')  AMT_FIN,dbo.udf_convertcurrency(FirstRepayAmt,T2.finccy,'INR')  EMI,NextRepayDate NEXT_EMI_DUE_DATE,
		  null CHEQUE_BOUNCE_CHARGE, null BATCH_ID 
		from Finpftdetails t1
		inner join financemain t2 on t1.finreference=t2.finreference
		Inner join customers T3 on T3.custid=T1.custid
		left join CustomerEMails T4 on T4.custid=T3.custid and custEmailPriority=5
		Left join (Select CustID,COUNT(*)ActiveCnt from FinPftDetails
				where (FinIsActive=1) group by CustID)T5 ON T1.CustID =T5.CustID  
		Left join (Select CustID,COUNT(*)CloseCnt from FinPftDetails
				where (FinIsActive!=1)group by CustID)T6 ON T1.CustID =T6.CustID
	</createView>
</changeSet>
<changeSet id="608" author="Manoj" dbms="oracle">
	<createView viewName="DM_WRITEOFF_DETAILS_VIEW" replaceIfExists="true">
		select substr(T2.FinReference,7,length(T2.FinReference)) APPLID,
         t2.finreference AGREEMENTNO,WriteoffDate CHARGEOFF_DT,null CHARGEOFF_FLG,
         t1.Remarks CHARGEOFF_REASON,null SETTLEMENT_LOSS,
         udf_convertcurrency((WriteoffPrincipal+WriteoffProfit),T2.finccy,'INR')  GROSS_WRITEOFF_AMT,
         udf_convertcurrency((WriteoffPrincipal+WriteoffProfit),T2.finccy,'INR')  NET_WRITEOFF_AMT,
           (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
         'N' PROCESSED_FLAG,null PROCESS_DATE,null SEGMENTS,
          null RECEIPT_ON_CHARGEOFF,null BUSINESS_YEAR, null BATCH_ID 
  from FinWriteoffDetail T1
  inner join financemain t2 on t1.finreference=t2.finreference
	</createView>
</changeSet>
<changeSet id="608" author="Manoj" dbms="mssql">
	<createView viewName="DM_WRITEOFF_DETAILS_VIEW" replaceIfExists="true">
		select substring(T2.FinReference,7,len(T2.FinReference)) APPLID,
         t2.finreference AGREEMENTNO,WriteoffDate CHARGEOFF_DT,null CHARGEOFF_FLG,
         t1.Remarks CHARGEOFF_REASON,null SETTLEMENT_LOSS,
         dbo.udf_convertcurrency((WriteoffPrincipal+WriteoffProfit),T2.finccy,'INR')  GROSS_WRITEOFF_AMT,
         dbo.udf_convertcurrency((WriteoffPrincipal+WriteoffProfit),T2.finccy,'INR')  NET_WRITEOFF_AMT,
           (Select sysparmvalue  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') BUSINESSDATE,
         'N' PROCESSED_FLAG,null PROCESS_DATE,null SEGMENTS,
          null RECEIPT_ON_CHARGEOFF,null BUSINESS_YEAR, null BATCH_ID 
  from FinWriteoffDetail T1
  inner join financemain t2 on t1.finreference=t2.finreference
	</createView>
</changeSet>
	<changeSet id="609" author="Kesav">
		<createView viewName="FINANCEMAIN_DVIEW" replaceIfExists="true">
			SELECT    T1.FinReference, T1.InvestmentRef, T1.FinType, T1.FinCcy, T1.FinAmount, T1.DownPayment, T1.FeeChargeAmt, T1.ScheduleMethod, 
			          T1.RecordStatus, T1.RecordType, T1.RoleCode, T1.NextRoleCode, T1.FinBranch, T1.FINASSETVALUE,
			          T2.CustCIF lovDescCustCif, T2.CustShrtName lovDescCustShrtName, T2.CustId, T2.CustCIF ,
			          T3.FinCategory lovDescProductCodeName, T3.FinDivision LovDescFinDivision 
			FROM      FinanceMain_Temp T1 INNER JOIN
			          Customers T2 ON T1.CustID = T2.CustID INNER JOIN
			          RMTFinanceTypes T3 ON T3.FinType = T1.FinType INNER JOIN
			          InvestmentFinHeader T4 ON T4.InvestmentRef = T1.InvestmentRef		
		</createView>
	</changeSet>
	<changeSet id="610" author="Kesav" dbms="oracle">
		<createView viewName="FINANCEMAIN_LVIEW" replaceIfExists="true">
			SELECT      T1.FinReference, T1.InvestmentRef, T1.FinType, T1.FinCcy, T1.FinAmount, T1.DownPayment, T1.FeeChargeAmt, T1.ScheduleMethod, 
			            T1.NumberOfTerms, T1.RecordStatus, T1.RecordType, T1.RoleCode, T1.NextRoleCode, T1.FinBranch, T1.FinContractDate, T1.LinkedFinRef,
			            T1.NextUserId, T1.Priority, T1.WorkflowId, T1.TaskId, T1.NextTaskId, T1.FinPreApprovedRef, T1.RcdMaintainSts,T1.InsuranceAmt,
			            T1.FinCurrAssetValue, T1.CalTerms, T1.DeviationApproval, T1.FinPurpose, T1.InitiateDate, T1.FINASSETVALUE,
			            T2.CustCIF lovDescCustCif, T2.CustShrtName lovDescCustShrtName, T2.CustPassportNo lovDescCustPassportNo, T2.CustDOB LovDescCustDOB, 
			            T2.CustCRCPR LovDescCustCRCPR, T2.PhoneNumber, 
			            T3.FinCategory lovDescProductCodeName, T3.FinDivision lovdescfindivision, T3.Product lovdescFinProduct, T3.FinTypeDesc lovDescFinTypeName,
			            COALESCE(T4.RoleDesc, FN_GET_ROLEDESC(T1.NextRoleCode)) LovDescRequestStage 
			FROM        FinanceMain_Temp T1 INNER JOIN
			            Customers T2 ON T1.CustID = T2.CustID INNER JOIN
			            RMTFinanceTypes T3 ON T3.FinType = T1.FinType LEFT OUTER JOIN
			            SecRoles T4 ON T1.NextRoleCode = T4.RoleCd		
		</createView>
	</changeSet>
	<changeSet id="610" author="Kesav" dbms="mssql">
		<createView viewName="FINANCEMAIN_LVIEW" replaceIfExists="true">
			SELECT      T1.FinReference, T1.InvestmentRef, T1.FinType, T1.FinCcy, T1.FinAmount, T1.DownPayment, T1.FeeChargeAmt, T1.ScheduleMethod, 
			            T1.NumberOfTerms, T1.RecordStatus, T1.RecordType, T1.RoleCode, T1.NextRoleCode, T1.FinBranch, T1.FinContractDate, T1.LinkedFinRef,
			            T1.NextUserId, T1.Priority, T1.WorkflowId, T1.TaskId, T1.NextTaskId, T1.FinPreApprovedRef, T1.RcdMaintainSts,T1.InsuranceAmt,
			            T1.FinCurrAssetValue, T1.CalTerms, T1.DeviationApproval, T1.FinPurpose, T1.InitiateDate, T1.FINASSETVALUE,
			            T2.CustCIF lovDescCustCif, T2.CustShrtName lovDescCustShrtName, T2.CustPassportNo lovDescCustPassportNo, T2.CustDOB LovDescCustDOB, 
			            T2.CustCRCPR LovDescCustCRCPR, T2.PhoneNumber, 
			            T3.FinCategory lovDescProductCodeName, T3.FinDivision lovdescfindivision, T3.Product lovdescFinProduct, T3.FinTypeDesc lovDescFinTypeName,
			            COALESCE(T4.RoleDesc, dbo.FN_GET_ROLEDESC(T1.NextRoleCode)) LovDescRequestStage 
			FROM        FinanceMain_Temp T1 INNER JOIN
			            Customers T2 ON T1.CustID = T2.CustID INNER JOIN
			            RMTFinanceTypes T3 ON T3.FinType = T1.FinType LEFT OUTER JOIN
			            SecRoles T4 ON T1.NextRoleCode = T4.RoleCd		
		</createView>
	</changeSet>
	<changeSet id="611" author="Kesav" dbms="oracle">
		<createView viewName="FINANCEMAINLIMITCHECK_AVIEW" replaceIfExists="true">
			SELECT    Fm.FinReference ,Fm.FinBranch, Fm.FinSourceID, Fm.FinType, Fm.FinCcy, Fm.NumberOfTerms, Fm.ScheduleMethod, Fm.SecurityCollateral, 
			          Fm.AllowRepayRvw, Fm.FinPurpose, FM.FINASSETVALUE,
			          c.CustID, C.CustDftBranch, C.CustCtgCode, C.CustTypeCode, C.CustGenderCode, C.CustIsStaff, C.CustIndustry, C.CustSector, C.CustSubSector,
			          C.CustEmpSts, C.CustMaritalSts, C.CustSegment, C.CustSubSegment, C.CustParentCountry, C.CustRiskCountry, C.CustNationality, C.CustAddlVar2,
			          CA.CustAddrProvince,
			          Ft.FinCategory, Ft.FinDivision,
			          utils.datediff('MM', Fm.FinStartDate, utils.dateadd('MM', 0, Fm.MaturityDate)) Tenor  
			FROM      FinanceMain FM
			          JOIN Customers C ON c.CustID = Fm.CustID
			          JOIN RMTFinanceTypes ft ON ft.FinType = fm.FinType
			          LEFT JOIN CustomerAddresses CA ON CA.CustID = C.CustID AND CA.CustAddrType = 'PERM'		
		</createView>
	</changeSet>
		<changeSet id="611" author="Kesav" dbms="mssql">
		<createView viewName="FINANCEMAINLIMITCHECK_AVIEW" replaceIfExists="true">
			SELECT    Fm.FinReference ,Fm.FinBranch, Fm.FinSourceID, Fm.FinType, Fm.FinCcy, Fm.NumberOfTerms, Fm.ScheduleMethod, Fm.SecurityCollateral, 
			          Fm.AllowRepayRvw, Fm.FinPurpose, FM.FINASSETVALUE,
			          c.CustID, C.CustDftBranch, C.CustCtgCode, C.CustTypeCode, C.CustGenderCode, C.CustIsStaff, C.CustIndustry, C.CustSector, C.CustSubSector,
			          C.CustEmpSts, C.CustMaritalSts, C.CustSegment, C.CustSubSegment, C.CustParentCountry, C.CustRiskCountry, C.CustNationality, C.CustAddlVar2,
			          CA.CustAddrProvince,
			          Ft.FinCategory, Ft.FinDivision,
			          datediff(month, Fm.FinStartDate,Fm.MaturityDate) Tenor  
			FROM      FinanceMain FM
			          JOIN Customers C ON c.CustID = Fm.CustID
			          JOIN RMTFinanceTypes ft ON ft.FinType = fm.FinType
			          LEFT JOIN CustomerAddresses CA ON CA.CustID = C.CustID AND CA.CustAddrType = 'PERM'		
		</createView>
	</changeSet>
	<changeSet id="612" author="Kesav" dbms="oracle">
		<createView viewName="FINANCEMAINLIMITCHECK_TVIEW" replaceIfExists="true">
			SELECT    Fm.FinReference ,Fm.FinBranch, Fm.FinSourceID, Fm.FinType, Fm.FinCcy, Fm.NumberOfTerms, Fm.ScheduleMethod, Fm.SecurityCollateral, 
			          Fm.AllowRepayRvw, Fm.FinPurpose, FM.FINASSETVALUE,
			          c.CustID, C.CustDftBranch, C.CustCtgCode, C.CustTypeCode, C.CustGenderCode, C.CustIsStaff, C.CustIndustry, C.CustSector, C.CustSubSector,
			          C.CustEmpSts, C.CustMaritalSts, C.CustSegment, C.CustSubSegment, C.CustParentCountry, C.CustRiskCountry, C.CustNationality, C.CustAddlVar2,
			          CA.CustAddrProvince,
			          Ft.FinCategory, Ft.FinDivision,
			          utils.datediff('MM', Fm.FinStartDate, utils.dateadd('MM', 0, Fm.MaturityDate)) Tenor  
			FROM      FinanceMain_Temp FM
			          JOIN Customers C ON c.CustID = Fm.CustID
			          JOIN RMTFinanceTypes ft ON ft.FinType = fm.FinType
			          LEFT JOIN CustomerAddresses CA ON CA.CustID = C.CustID AND CA.CustAddrType = 'PERM'		
		</createView>
	</changeSet>
	<changeSet id="612" author="Kesav" dbms="mssql">
		<createView viewName="FINANCEMAINLIMITCHECK_TVIEW" replaceIfExists="true">
			SELECT    Fm.FinReference ,Fm.FinBranch, Fm.FinSourceID, Fm.FinType, Fm.FinCcy, Fm.NumberOfTerms, Fm.ScheduleMethod, Fm.SecurityCollateral, 
			          Fm.AllowRepayRvw, Fm.FinPurpose, FM.FINASSETVALUE,
			          c.CustID, C.CustDftBranch, C.CustCtgCode, C.CustTypeCode, C.CustGenderCode, C.CustIsStaff, C.CustIndustry, C.CustSector, C.CustSubSector,
			          C.CustEmpSts, C.CustMaritalSts, C.CustSegment, C.CustSubSegment, C.CustParentCountry, C.CustRiskCountry, C.CustNationality, C.CustAddlVar2,
			          CA.CustAddrProvince,
			          Ft.FinCategory, Ft.FinDivision,
			          datediff(month, Fm.FinStartDate,Fm.MaturityDate) Tenor  
			FROM      FinanceMain_Temp FM
			          JOIN Customers C ON c.CustID = Fm.CustID
			          JOIN RMTFinanceTypes ft ON ft.FinType = fm.FinType
			          LEFT JOIN CustomerAddresses CA ON CA.CustID = C.CustID AND CA.CustAddrType = 'PERM'		
		</createView>
	</changeSet>
	<changeSet id="613" author="Kesav">
		<createView viewName="FINANCEMAINTENANCE_AVIEW" replaceIfExists="true">
			SELECT    T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.NumberOfTerms, 
			          T1.CustID, T1.FinAmount, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive,  T1.Blacklisted, T1.FeeChargeAmt, T1.InsuranceAmt,
			          T1.GraceTerms,T1.AllowGrcPeriod,T1.GrcPeriodEndDate, T1.AlwMultiDisb, T1.Defferments, T1.NextRoleCode, T1.RecordStatus, T1.RecordType,
			          T1.allowgrcpftrvw, T1.allowrepayrvw, T1.lastrepaydate, T1.lastrepaypftdate, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange,
			          T1.MigratedFinance, T1.RcdMaintainSts,T1.ClosingStatus, T1.RepayRateBasis, T1.ManualSchedule , T1.TakeOverFinance , 
			          T1.NextRolloverDate, T1.DownPayment, T1.planEMIHAlw, T1.FinCurrAssetValue, T1.FINASSETVALUE, 
			          T2.CustCIF LovDescCustCIF,
			          T3.FinCategory LovDescProductCodeName, T3.FinIsAlwDifferment lovDescFinAlwDeferment,
			          T4.ProductCategory
			FROM      FinanceMain T1 INNER JOIN
			          Customers T2 ON T1.CustId = T2.CustId INNER JOIN
			          RMTFinanceTypes T3 ON T1.FinType = T3.FinType INNER JOIN
			          BMTProduct T4 ON T3.FinCategory = T4.ProductCode		
		</createView>
	</changeSet>
	<changeSet id="615" author="Kesav" dbms="oracle">
		<createView viewName="FINANCEMAINTENANCE_VIEW" replaceIfExists="true">
			SELECT	    T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.NumberOfTerms,
			            T1.CustID, T1.FinAmount, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.Blacklisted, T1.FeeChargeAmt, T1.InsuranceAmt,
			            T1.GraceTerms,T1.AllowGrcPeriod,T1.GrcPeriodEndDate, T1.AlwMultiDisb, T1.Defferments, T1.NextRoleCode, T1.RecordStatus, T1.RecordType,
			            T1.allowgrcpftrvw, T1.allowrepayrvw, T1.lastrepaydate, T1.lastrepaypftdate, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, 
			            T1.RcdMaintainSts, T1.MigratedFinance, T1.ClosingStatus, T1.RepayRateBasis, T1.ManualSchedule, T1.FinCurrAssetValue,  
			            T1.TakeOverFinance , T1.NextRolloverDate, T1.AvailedUnPlanEmi, T1.AvailedReAgeH, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays,
			            T1.DownPayment, T1.planEMIHAlw, T1.CalTerms, T1.RateChgAnyDay, T1.finAssetValue,
			            T2.CustCIF LovDescCustCIF, 
			            T3.FinIsAlwDifferment lovDescFinAlwDeferment, T3.FinDivision LovDescFinDivision, T3.FinCategory LovDescProductCodeName, 
			            T4.ProductCategory,
			            COALESCE(T5.RoleDesc,  FN_GET_ROLEDESC(T1.NextRoleCode)) LovDescRequestStage
			FROM        FinanceMain_Temp T1 INNER JOIN
			            Customers T2 ON T1.CustId = T2.CustId INNER JOIN
			            RMTFinanceTypes T3 ON T1.FinType = T3.FinType LEFT OUTER JOIN
			            SecRoles T5 ON T1.NextRoleCode = T5.RoleCd INNER JOIN
			            BMTProduct T4 ON T3.FinCategory = T4.ProductCode
			
			UNION ALL
			
			SELECT	    T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.NumberOfTerms,
			            T1.CustID, T1.FinAmount, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.Blacklisted, T1.FeeChargeAmt, T1.InsuranceAmt,
			            T1.GraceTerms,T1.AllowGrcPeriod,T1.GrcPeriodEndDate, T1.AlwMultiDisb, T1.Defferments, T1.NextRoleCode, T1.RecordStatus, T1.RecordType,
			            T1.allowgrcpftrvw, T1.allowrepayrvw, T1.lastrepaydate, T1.lastrepaypftdate, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, 
			            T1.RcdMaintainSts, T1.MigratedFinance, T1.ClosingStatus, T1.RepayRateBasis, T1.ManualSchedule, T1.FinCurrAssetValue,  
			            T1.TakeOverFinance , T1.NextRolloverDate, T1.AvailedUnPlanEmi, T1.AvailedReAgeH, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays,
			            T1.DownPayment, T1.planEMIHAlw, T1.CalTerms, T1.RateChgAnyDay, T1.finAssetValue,
			            T2.CustCIF LovDescCustCIF, 
			            T3.FinIsAlwDifferment lovDescFinAlwDeferment, T3.FinDivision LovDescFinDivision, T3.FinCategory LovDescProductCodeName, 
			            T4.ProductCategory,
			            COALESCE(T5.RoleDesc,  FN_GET_ROLEDESC(T1.NextRoleCode)) LovDescRequestStage
			FROM        FinanceMain T1 INNER JOIN
				    	Customers T2 ON T1.CustId = T2.CustId INNER JOIN
			            RMTFinanceTypes T3 ON T1.FinType = T3.FinType LEFT OUTER JOIN
			            SecRoles T5 ON T1.NextRoleCode = T5.RoleCd INNER JOIN
			            BMTProduct T4 ON T3.FinCategory = T4.ProductCode
			WHERE     	(NOT EXISTS (SELECT 1 Expr1 FROM FinanceMain_Temp WHERE (FinReference = T1.FinReference)))		
		</createView>
	</changeSet>
	<changeSet id="615" author="Kesav" dbms="mssql">
		<createView viewName="FINANCEMAINTENANCE_VIEW" replaceIfExists="true">
			SELECT	    T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.NumberOfTerms,
			            T1.CustID, T1.FinAmount, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.Blacklisted, T1.FeeChargeAmt, T1.InsuranceAmt,
			            T1.GraceTerms,T1.AllowGrcPeriod,T1.GrcPeriodEndDate, T1.AlwMultiDisb, T1.Defferments, T1.NextRoleCode, T1.RecordStatus, T1.RecordType,
			            T1.allowgrcpftrvw, T1.allowrepayrvw, T1.lastrepaydate, T1.lastrepaypftdate, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, 
			            T1.RcdMaintainSts, T1.MigratedFinance, T1.ClosingStatus, T1.RepayRateBasis, T1.ManualSchedule, T1.FinCurrAssetValue,  
			            T1.TakeOverFinance , T1.NextRolloverDate, T1.AvailedUnPlanEmi, T1.AvailedReAgeH, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays,
			            T1.DownPayment, T1.planEMIHAlw, T1.CalTerms, T1.RateChgAnyDay, T1.finAssetValue,
			            T2.CustCIF LovDescCustCIF, 
			            T3.FinIsAlwDifferment lovDescFinAlwDeferment, T3.FinDivision LovDescFinDivision, T3.FinCategory LovDescProductCodeName, 
			            T4.ProductCategory,
			            COALESCE(T5.RoleDesc, dbo.FN_GET_ROLEDESC(T1.NextRoleCode)) LovDescRequestStage
			FROM        FinanceMain_Temp T1 INNER JOIN
			            Customers T2 ON T1.CustId = T2.CustId INNER JOIN
			            RMTFinanceTypes T3 ON T1.FinType = T3.FinType LEFT OUTER JOIN
			            SecRoles T5 ON T1.NextRoleCode = T5.RoleCd INNER JOIN
			            BMTProduct T4 ON T3.FinCategory = T4.ProductCode
			
			UNION ALL
			
			SELECT	    T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.NumberOfTerms,
			            T1.CustID, T1.FinAmount, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.Blacklisted, T1.FeeChargeAmt, T1.InsuranceAmt,
			            T1.GraceTerms,T1.AllowGrcPeriod,T1.GrcPeriodEndDate, T1.AlwMultiDisb, T1.Defferments, T1.NextRoleCode, T1.RecordStatus, T1.RecordType,
			            T1.allowgrcpftrvw, T1.allowrepayrvw, T1.lastrepaydate, T1.lastrepaypftdate, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, 
			            T1.RcdMaintainSts, T1.MigratedFinance, T1.ClosingStatus, T1.RepayRateBasis, T1.ManualSchedule, T1.FinCurrAssetValue,  
			            T1.TakeOverFinance , T1.NextRolloverDate, T1.AvailedUnPlanEmi, T1.AvailedReAgeH, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays,
			            T1.DownPayment, T1.planEMIHAlw, T1.CalTerms, T1.RateChgAnyDay, T1.finAssetValue,
			            T2.CustCIF LovDescCustCIF, 
			            T3.FinIsAlwDifferment lovDescFinAlwDeferment, T3.FinDivision LovDescFinDivision, T3.FinCategory LovDescProductCodeName, 
			            T4.ProductCategory,
			            COALESCE(T5.RoleDesc, dbo.FN_GET_ROLEDESC(T1.NextRoleCode)) LovDescRequestStage
			FROM        FinanceMain T1 INNER JOIN
				    	Customers T2 ON T1.CustId = T2.CustId INNER JOIN
			            RMTFinanceTypes T3 ON T1.FinType = T3.FinType LEFT OUTER JOIN
			            SecRoles T5 ON T1.NextRoleCode = T5.RoleCd INNER JOIN
			            BMTProduct T4 ON T3.FinCategory = T4.ProductCode
			WHERE     	(NOT EXISTS (SELECT 1 Expr1 FROM FinanceMain_Temp WHERE (FinReference = T1.FinReference)))		
		</createView>
	</changeSet>
	<changeSet id="616" author="Kesav">
		<createView viewName="REJECTFINANCEMAIN_VIEW" replaceIfExists="true">
			Select    F.FinReference, T.FinCategory LovDescProductCodeName, F.FinType, F.FinBranch, F.FinStartDate, F.MaturityDate, F.NumberOfTerms,
			          F.FinCcy, F.FinAmount, (F.FinAmount-F.DownPayment+F.FeeChargeAmt+F.InsuranceAmt) FinancingAmount, F.FeeChargeAmt, F.InsuranceAmt, 
			          (F.FinAmount-F.DownPayment+F.FeeChargeAmt+F.InsuranceAmt-F.FinRepaymentAmount) CurFinAmount, F.DownPayment, F.FinCurrAssetValue, F.FinAssetValue,
			          C.CustCIF LovDescCustCIF
			FROM      RejectFinanceMain F LEFT OUTER JOIN
			          Customers C ON F.CustID = C.CustID  LEFT OUTER JOIN
			          RMTFinanceTypes T ON F.FinType = T.FinType		
		</createView>
	</changeSet>
	<changeSet id="617" author="Kesav">
		<createView viewName="WIFFINANCEMAIN_SVIEW" replaceIfExists="true">
			SELECT      T1.FinReference, T1.FinAmount, T1.FinCcy, T1.FinType,T1.CustID, T1.FinAssetValue, T1.LastMntOn,T1.FinStartDate,
			            T4.FirstTaskOwner LovDescFirstTaskOwner,
			            T5.ProductCategory lovDescProductCodeName 
			FROM        WIFFinanceMain T1                        
			INNER JOIN  RMTFinanceTypes T2   ON T1.FinType = T2.FinType AND T2.FinIsActive=1
			LEFT JOIN   LMTFinanceWorkFlowDef T3 ON T2.FinType = T3.FinType AND T3.FinEvent = 'Origination' 
			INNER JOIN  WorkFlowDetails T4   ON T3.WorkFlowType = T4.WorkFlowType AND T4.WorkFlowActive = 1
			INNER JOin  BMTProduct T5 ON T2.FinCategory = T5.ProductCode		
		</createView>
	</changeSet>	
	<changeSet id="618" author="Durgaprasad g">
	<sql>
		UPDATE PDC_CONSL_EMI_DTL SET TXN_TYPE_CODE = 1,SOURCE_CODE=1
	</sql>
	</changeSet>
	<changeSet  id="619" author="Prasad" dbms="oracle">
	<createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		  <![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and (t2.closingstatus!='C' or t2.closingstatus is null) and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
  Select t2.finreference,Schdate,FeeTypeDesc ||'- Due ('||T2.Finreference||')', SchAmount Debit, 0 credit,2 Ordby from finfeescheduledetail T1 
  Inner Join FinFeeDetail T2 on T1.FeeID = T2.FeeID
  Inner Join FeeTypes T3 On T2.FeeTypeid = T3.FeeTypeId 
  inner join financemain t4 on t4.FINREFERENCE =t2.FINREFERENCE
  where SchAmount!=0 and (t4.closingstatus!='C' or t4.closingstatus is null) 
  and  schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
union
     Select T1.Finreference,Schdate,  'Part Prepayment Amount ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,3 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,4 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and (t2.closingstatus!='C' or t2.closingstatus is null)
     union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||PAYMENTREF||' '||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,5 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
       
        Select REFERENCE,Bouncedate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||' ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,6 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID 
       Where T1.ReceiptModeStatus  IN ('B') and T3.Advisetype=1 and T3.Bounceid>0
  union
		SELECT M.FINREFERENCE,M.POSTDATE,FEETYPEDESC ||'- Due ('||M.Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,7 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType <> 2 and	m.ADVISEAMOUNT >0 
    union    
    SELECT M.FINREFERENCE,M.POSTDATE,'Bounce - Due for Installment:'||T5.InstNumber||' ('||M.Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,7 Ordby
		FROM MANUALADVISE M
    INNER Join PRESENTMENTDETAILS T4 on T4.RECEIPTID = M.RECEIPTID and M.RECEIPTID !=0 and T4.RECEIPTID !=0
    INNER Join FINSCHEDULEDETAILS T5 on T4.FInreference = T5.FInreference and T4.schdate = T5.schdate
		where M.AdviseType <> 2 and	m.ADVISEAMOUNT >0 and FEETYPEID not in (Select FEETYPEID from FEETYPES)
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  ||'- Payable ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,8 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,9 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,10 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', PaidAmount Debit, 0 credit,11 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)

	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(t1.FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,12 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   (t2.closingstatus!='C' or t2.closingstatus is null)
  union
    Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,13 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,14 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
  Select T2.Reference,T2.Receiptdate,'TDS Adjustment('||T2.Reference||')' Particulars,0 Debit,T1.PaidAmount credit,15 ordby
  from RECEIPTALLOCATIONDETAIL T1
  inner join FINRECEIPTHEADER T2 on T2.RECEIPTID  = T1.RECEIPTID where T1.ALLOCATIONTYPE='TDS'
  and T2.ReceiptModeStatus Not IN ('C')
  union  
  Select distinct T2.Reference,Bouncedate,'TDS Adjustment Reversal('||T2.Reference||')' Particulars,T5.TDSSCHDPAYNOW Debit,0 credit, 16 ordby
  from FINRECEIPTHEADER T2
  inner join FINRECEIPTDETAIL T3 on T3.RECEIPTID = T2.RECEIPTID
  inner join finrepayheader T4 on T3.Receiptseqid = T4.Receiptseqid
  inner join (Select repayid,sum(TDSSCHDPAYNOW) TDSSCHDPAYNOW from FinRepayscheduledetail
  where TDSSCHDPAYNOW!=0
  group by repayid) T5 on T5.repayid =T4.repayid
  where T3.Status ='B' 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy where Debit!=0 or credit !=0]]>
		</createView>
	</changeSet>
	
	<changeSet id="620" author="murthy.y">
		<sql>
			update DATA_ENGINE_CONFIG set FIELDNAMES = NULL, Header = 'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{PARENT GROUP,LEDGER,DESCRIPTION,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR}' where Name = 'GL_TRAIL_BALANCE_EXPORT';
		</sql>
	</changeSet>
	
	<changeSet id="621" author="Kesav">
		<createView viewName="FINANCEENQUIRY_TVIEW" replaceIfExists="true">
			SELECT      T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.CalTerms NumberOfTerms,
			            T1.CustID, T1.FinAmount, T1.GrcPeriodEndDate, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.AllowGrcPeriod,
			            T1.DownPayment, T1.MigratedFinance,T1.LastRepayDate, T1.LastRepayPftDate,T1.FinCurrAssetvalue, T1.Blacklisted, T1.FeeChargeAmt,
			            T1.ClosingStatus, T1.GraceTerms, T1.AlwMultiDisb, T1.Defferments, T1.FinStatus ,T1.MandateID,T1.FinRepayMethod, T1.FINASSETVALUE,
			            (T1.FinCurrAssetvalue+ T1.FeeChargeAmt+T1.InsuranceAmt) FinancingAmount,
			            (T1.FinCurrAssetvalue- T1.FinRepaymentAmount+ T1.FeeChargeAmt+T1.InsuranceAmt) CurFinAmount,
			            T2.FinTypeDesc LovDescFinTypeName, T2.FinScheduleOn LovDescFinScheduleOn, T2.FinDivision lovDescFinDivision, 
			            T2.FinCategory lovDescProductCodeName,  T2.FinIsAlwDifferment lovDescFinAlwDeferment,
			            T3.CustCIF LovDescCustCIF, T3.CustShrtName LovDescCustShrtName, 
			            T4.BranchDesc LovDescFinBranchName, 
			            T5.CustTypeCtg                
			FROM        FinanceMain_Temp T1 INNER JOIN
			            RMTFinanceTypes T2 ON T1.FinType = T2.FinType INNER JOIN
			            Customers T3 ON T1.CustID = T3.CustID INNER JOIN
			            RMTBranches T4 ON T1.FinBranch = T4.BranchCode INNER JOIN
			            RMTCustTypes T5 ON T3.CustTypeCode = T5.CustTypeCode		
		</createView>
	</changeSet>
	
	<changeSet id="622" author="Kesav">
		<createView viewName="FINANCEENQUIRY_VIEW" replaceIfExists="true">
			SELECT      T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.CalTerms NumberOfTerms,
			            T1.CustID, T1.FinAmount, T1.GrcPeriodEndDate, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.AllowGrcPeriod,
			            T1.DownPayment, T1.MigratedFinance,T1.LastRepayDate, T1.LastRepayPftDate,T1.FinCurrAssetvalue, T1.Blacklisted, T1.FeeChargeAmt,
			            T1.ClosingStatus, T1.GraceTerms, T1.AlwMultiDisb, T1.Defferments, T1.FinStatus ,T1.MandateID,T1.FinRepayMethod, T1.FINASSETVALUE,
			            (T1.FinCurrAssetvalue+ T1.FeeChargeAmt+T1.InsuranceAmt) FinancingAmount,
			            (T1.FinCurrAssetvalue- T1.FinRepaymentAmount+ T1.FeeChargeAmt+T1.InsuranceAmt) CurFinAmount,
			            T2.FinTypeDesc LovDescFinTypeName, T2.FinScheduleOn LovDescFinScheduleOn, T2.FinDivision lovDescFinDivision, 
			            T2.FinCategory lovDescProductCodeName,  T2.FinIsAlwDifferment lovDescFinAlwDeferment,
			            T3.CustCIF LovDescCustCIF, T3.CustShrtName LovDescCustShrtName, 
			            T4.BranchDesc LovDescFinBranchName, 
			            T5.CustTypeCtg                
			FROM        FinanceMain T1 INNER JOIN
			            RMTFinanceTypes T2 ON T1.FinType = T2.FinType INNER JOIN
			            Customers T3 ON T1.CustID = T3.CustID INNER JOIN
			            RMTBranches T4 ON T1.FinBranch = T4.BranchCode INNER JOIN
			            RMTCustTypes T5 ON T3.CustTypeCode = T5.CustTypeCode		
		</createView>
	</changeSet>
	<changeSet id="623" author="MadhuBabu">
		<createView viewName="DOCUMENTDETAILS_TVIEW" replaceIfExists="true">
			SELECT     T1.DocId, T1.DocModule, T1.DocCategory, T1.Doctype, T1.DocName, T1.DocImage, T1.FinEvent,
		   T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode,
		   T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.ReferenceId, T1.DocRefId,
		   T1.DocPurpose, T1.DocUri,T1.DocReceivedDate,T1.DocReceived
			FROM   DocumentDetails_temp T1
		</createView>
	</changeSet>
	
	
	<changeSet id="624" author="satish">
	<createView viewName="RMTFINANCETYPES_ORGVIEW" replaceIfExists="true">
	  SELECT		T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, 
					T1.FinContingentAcType, T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, 
					T1.FinIsAlwMD, T1.FinSchdMthd, T1.FInIsAlwGrace, T1.EqualRepayment, T1.FinRateType, 
					T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, 
					T1.FinIsIntCpz, T1.FinCpzFrq, T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, 
					T1.FinGrcSplRate, T1.FinGrcIntRate, T1.FInGrcMinRate, T1.FinGrcMaxRate, T1.FinGrcDftIntFrq, 
					T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, T1.FinGrcRvwFrq, T1.FinMinTerm, 
					T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwDifferment, 
					T1.FinMaxDifferment, T1.FinIsActive, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, 
					T1.AlwdStepPolicies, T1.DftStepPolicy, T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,
					T1.FinAlwRateChangeAnyDate,  T1.FinIsIntCpzAtGrcEnd, T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment, 
					T1.PlanDeferCount, T1.PftPayAcType, T1.FinIsOpenPftPayAcc, T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, 
					T1.FinGrcMargin, T1.FinMargin, T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, 
					T1.FinDepreciationFrq, T1.FinBankContingentAcType, T1.FinProvisionAcType, T1.AllowRIAInvestment, 
					T1.OverrideLimit, T1.LimitRequired, T1.FinCommitmentOvrride, T1.FinCollateralOvrride, 
					T1.FinRepayPftOnFrq, T1.FinPftUnChanged, T1.ApplyODPenalty, T1.ODIncGrcDays, T1.ODChargeType, 
					T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc, T1.ODAllowWaiver, T1.ODMaxWaiverPerc, 
					T1.FinDivision, T3.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType, T1.Product, 
					T1.StartDate, T1.EndDate, T1.AllowDownpayPgm, T1.FinTypeDesc lovDescPromoFinTypeDesc, T1.Remarks, 
					T4.PolicyDesc lovDescDftStepPolicyName, T1.PastduePftCalMthd, T1.PASTDUEPFTMARGIN, T1.AlwAdvanceRent, 
					T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, 
					T1.RpyAdvPftRate, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule, T1.AlwMultiPartyDisb, 
					T1.collateralType, T1.TDSApplicable, T5.RuleCode DownPayRuleDesc, T1.ApplyGrcPricing, 
					T1.ApplyRpyPricing, T6.RuleCode GrcPricingMethodDesc, T7.RuleCode RpyPricingMethodDesc, 
					T1.DroplineOD, T1.DroppingMethod, T1.RateChgAnyDay, T4.StepType DftStepPolicyType, 
					T1.ManualSchedule, T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , 
					T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax ,T1.PlanEMIHLockPeriod , 
					T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, 
					T1.AlwdRpyMethods, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.RoundingMode,T1.RoundingTarget, T1.FrequencyDays, 
					T1.QuickDisb,T1.AlwReage,T1.AlwUnPlanEmiHoliday,T1.AlwMaxDisbCheckReq, T1.ProductCategory, T1.RpyHierarchy
					FROM			RMTFinanceTypes T1 INNER JOIN
                    SMTDivisionDetail T3 ON T1.FinDivision = T3.DivisionCode LEFT OUTER JOIN
					                StepPolicyHeader T4 ON T1.DftStepPolicy = T4.PolicyCode LEFT OUTER JOIN
					                Rules T5 ON T1.DownPayRule = T5.RuleId LEFT OUTER JOIN
					                Rules T6 ON T1.GrcPricingMethod = T6.RuleId LEFT OUTER JOIN
					                Rules T7 ON T1.RpyPricingMethod = T7.RuleId
	</createView>
	
	
	</changeSet>
	<changeSet  id="625" author="Prasad" dbms="oracle">
	<createView viewName="RPT_SOA_TXNDETAILS_VIEW" replaceIfExists="true">
		  <![CDATA[Select T1.Finreference,Schdate,Particulars,Debit,Credit,ccyMinorccyunits,ccyEditField,
		 (Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') APP_DATE ,Ordby
		 from ( 
		Select T1.Finreference,Schdate, (case when T1.Disbonschdate=1 then 'Amount Financed - Payable ('||T1.Finreference||')' else 
											  'Due for Installment '||T1.INSTNUMBER||' ('||T1.Finreference||')' end) Particulars,
			 case when T1.Disbonschdate=1 then 0 else T1.Repayamount-T1.PartialPaidamt end Debit,
			 case when T1.Disbonschdate=1 then T1.DisbAmount+(CASE WHEN T1.Schdate = T2.FInStartDate Then T2.feechargeamt else 0 End )else 0 end Credit,1 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where (BPIORHOLIDAY!='H' or BPIORHOLIDAY!='B' or BPIORHOLIDAY is null) and (t2.closingstatus!='C' or t2.closingstatus is null) and 
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
  union
  Select t2.finreference,Schdate,FeeTypeDesc ||'- Due ('||T2.Finreference||')', SchAmount Debit, 0 credit,2 Ordby from finfeescheduledetail T1 
  Inner Join FinFeeDetail T2 on T1.FeeID = T2.FeeID
  Inner Join FeeTypes T3 On T2.FeeTypeid = T3.FeeTypeId 
  inner join financemain t4 on t4.FINREFERENCE =t2.FINREFERENCE
  where SchAmount!=0 and (t4.closingstatus!='C' or t4.closingstatus is null) 
  and  schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  	
union
     Select T1.Finreference,Schdate,  'Part Prepayment Amount ('||T1.Finreference||')' Particulars,
			T1.PartialPaidamt Debit,0 Credit,3 Ordby       
	   from finscheduledetails T1 inner join
          financemain t2 on t1.finreference = t2.finreference
	   where T1.PartialPaidamt !=0 and  
			 schdate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE')  
      union
  Select T1.Finreference,T2.FInApprovedDate,'Broken Period Interest Receivable- Due('||T1.Finreference||')' Particulars,
			 Repayamount Debit, 0 Credit,4 Ordby
	   from finscheduledetails T1
          inner join Financemain T2 on T2.Finreference = T1.Finreference
	   where BPIORHOLIDAY='B' and Repayamount!=0 and (t2.closingstatus!='C' or t2.closingstatus is null)
     union
      Select T1.Finreference,T1.LLDate,'Amount Paid Vide '||PaymentType||' :'|| (case when PaymentType in ('CHEQUE','DD') then LLREFERENCENO else Transactionref end)||'('||T1.Finreference||')' ,
    AmtToBeReleased Debit, 0 credit,5 Ordby
    from FINADVANCEPAYMENTS T1 inner join Financemain T2 on T2.Finreference = T1.Finreference
    where Status!='CANCELED' and LLDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
    Select T.Finreference,T1.PostDate,'Amount Paid Vide '||T1.PaymentType||' :'|| (case when T1.PaymentType in ('CHEQUE','DD') then T1.Favournumber else T1.Transactionref end)||'('||T.Finreference||')' ,
    T1.PaymentAmount Debit, 0 credit,6 Ordby
    from paymentheader T inner join
         paymentinstructions T1 on T1.Paymentid =T.Paymentid inner join
         Financemain T2 on T2.Finreference = T.Finreference
        where T1.Status!='CANCELED' and T1.PostDate<=(Select to_date(sysparmvalue, 'YYYY-MM-DD')  sysparmvalue from smtparameters where SYSPARMCODE='APP_DATE') 
  union
	Select REFERENCE,T1.Receiptdate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Recieved vide '||PAYMENTTYPE ||' No.:'||PAYMENTREF||' '||FavourNumber ||'('||REFERENCE||')'
										 when PAYMENTTYPE in ('EXCESS') then 'Amount Adjusted ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash received Vide Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			    Case when PAYMENTTYPE NOT in ('EXCESS') then 0  when PAYMENTTYPE in ('EXCESS') then Amount end debit,Amount credit,7 Ordby
		from FINRECEIPTHEADER T1 inner join 
			 FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID 	
       Where T1.ReceiptModeStatus Not IN ('C')
	union 	
       
        Select REFERENCE,Bouncedate,(Case when PAYMENTTYPE NOT in ('EXCESS','CASH') then 'Payment Bounced For '||PAYMENTTYPE ||' No.:'||FavourNumber ||' ('||REFERENCE||')' 
										 when PAYMENTTYPE in ('CASH') then 'Cash Bounced For Receipt No.'||PAYMENTREF ||'('||REFERENCE||')' end) Particulars,
			   Amount debit, 0 credit,8 Ordby
		from FINRECEIPTHEADER T1 inner join 
         FINRECEIPTDETAIL T2 on T1.RECEIPTID =T2.RECEIPTID And T1.ReceiptMode = T2.PaymentType  inner join
         ManualAdvise T3 on T3.RECEIPTID = T1.RECEIPTID 
       Where T1.ReceiptModeStatus  IN ('B') and T3.Advisetype=1 and T3.Bounceid>0
  union
		SELECT FINREFERENCE,M.POSTDATE,(CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end) ||'- Due ('||Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,9 Ordby
		FROM MANUALADVISE M
		LEFT JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType <> 2 and 	m.ADVISEAMOUNT >0 and RECEIPTID not in (Select RECEIPTID from PRESENTMENTDETAILS) 
    union    
    SELECT M.FINREFERENCE,M.POSTDATE,'Bounce - Due for Installment:'||T5.InstNumber||' ('||M.Finreference||')' ,m.ADVISEAMOUNT Debit ,0 Credit ,10 Ordby
		FROM MANUALADVISE M
    INNER Join PRESENTMENTDETAILS T4 on T4.RECEIPTID = M.RECEIPTID and M.RECEIPTID !=0 and T4.RECEIPTID !=0
    INNER Join FINSCHEDULEDETAILS T5 on T4.FInreference = T5.FInreference and T4.schdate = T5.schdate
		where M.AdviseType <> 2 and	m.ADVISEAMOUNT >0 and FEETYPEID not in (Select FEETYPEID from FEETYPES)
  union
  	SELECT FINREFERENCE,M.POSTDATE, FEETYPEDESC  ||'- Payable ('||Finreference||')' ,0 Debit ,m.ADVISEAMOUNT Credit ,11 Ordby
		FROM MANUALADVISE M
		INNER JOIN FEETYPES F ON F.FEETYPEID = M.FEETYPEID 	
		where M.AdviseType = 2 	and 	m.ADVISEAMOUNT >0  
	union	  
  Select t2.Finreference,t1.Movementdate,
'Waived Amount '|| (CASE WHEN F.FEETYPEID IS NOT NULL THEN FEETYPEDESC 
		else 'Bounce' end)||'('||t2.Finreference||')' Particulars ,0,t2.WaivedAmount,12 Ordby
from manualadvisemovements t1 
inner join manualadvise t2 on t1.Adviseid = t2.Adviseid
LEFT JOIN FEETYPES F ON F.FEETYPEID = t2.FEETYPEID 
where t2.WaivedAmount>0
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', RemainingFee+PaidAmount Debit, 0 credit,13 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where Originationfee=1 and feeSchedulemethod in ('DISB','POSP') and (RemainingFee+PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)
union
    Select T1.Finreference,T3.finstartdate,
    CASE WHEN Feetypedesc is not null Then FeeTypeDesc Else ProductDesc End  ||'- Due ('||T1.Finreference||')', PaidAmount Debit, 0 credit,14 Ordby
    from finfeedetail T1 
    Left join feetypes T2 on T1.Feetypeid = T2.Feetypeid
    inner join Financemain T3 on T3.Finreference = T1.Finreference
    Left join VasRecording T4 on T1.VasReference = T4.VasReference
    Left Join VasStructure T5 on T4.ProductCode = T5.ProductCode     
    where  feeSchedulemethod not in ('DISB','POSP')  and (PaidAmount)!=0 and (t3.closingstatus!='C' or t3.closingstatus is null)

	union 	
		Select t1.finreference, FinODSchdDate, 'Penalty Due Created for Past due till date ' || to_char(t1.FINODTILLDATE, 'dd/mm/yyyy') Particulars, 
		t1.TotPenaltyAmt Debit, 0 credit,15 Ordby
		From FinODDetails T1 inner join Financemain T2 on T1.Finreference = T2.Finreference where TOtPenaltyAmt > 0 and   (t2.closingstatus!='C' or t2.closingstatus is null)
  union
  Select T2.Reference,T2.Receiptdate,'TDS Adjustment('||T2.Reference||')' Particulars,0 Debit,T1.PaidAmount credit,16 ordby
  from RECEIPTALLOCATIONDETAIL T1
  inner join FINRECEIPTHEADER T2 on T2.RECEIPTID  = T1.RECEIPTID where T1.ALLOCATIONTYPE='TDS'
  and T2.ReceiptModeStatus Not IN ('C')
  union  
  Select distinct T2.Reference,Bouncedate,'TDS Adjustment Reversal('||T2.Reference||')' Particulars,T5.TDSSCHDPAYNOW Debit,0 credit, 17 ordby
  from FINRECEIPTHEADER T2
  inner join FINRECEIPTDETAIL T3 on T3.RECEIPTID = T2.RECEIPTID
  inner join finrepayheader T4 on T3.Receiptseqid = T4.Receiptseqid
  inner join (Select repayid,sum(TDSSCHDPAYNOW) TDSSCHDPAYNOW from FinRepayscheduledetail
  where TDSSCHDPAYNOW!=0
  group by repayid) T5 on T5.repayid =T4.repayid
  where T3.Status ='B' 
	)T1 
	 inner join finpftdetails t2 on t2.Finreference=t1.Finreference
	 inner join RMTCURRENCIES C on C.ccycode= T2.finccy where Debit!=0 or credit !=0]]>
		</createView>
	</changeSet>
	
	<changeSet id="625" author="Manoj">
		<createTable tableName="TRAIL_BALANCE_REPORT_FILE">
			<column name="HEADERID" type="bigint">
				<constraints  nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="varchar(100)" />
			<column name="COUNTRY" type="varchar(100)" />
			<column name="PROVINCE" type="varchar(100)" />
			<column name="HOSTACCOUNT" type="varchar(100)" />
			<column name="DESCRIPTION" type="varchar(100)" />
			<column name="OPENINGBAL" type="varchar(100)" />
			<column name="OPENINGBALTYPE" type="varchar(100)" />
			<column name="DEBITAMOUNT" type="varchar(100)" />
			<column name="CREDITAMOUNT" type="varchar(100)" />
			<column name="CLOSINGBAL" type="varchar(100)" />
			<column name="CLOSINGBALTYPE" type="varchar(100)" />
		</createTable>
	</changeSet>
	
	<changeSet id="626" author="Manoj">
		<addForeignKeyConstraint constraintName="FK_TBRF_HID"
			referencedTableName="TRAIL_BALANCE_HEADER" referencedColumnNames="ID"
			baseTableName="TRAIL_BALANCE_REPORT_FILE" baseColumnNames="HEADERID" />
	</changeSet>
		
	<changeSet id="626" author="Kesav">
		<createView viewName="CUSTOMERFINANCEDETAILS_AVIEW" replaceIfExists="true">
			SELECT      FM.FinReference, FM.FinBranch, FM.RoleCode, FM.NextRoleCode, FM.RecordType, FM.FinCcy, FM.FinType,FM.FinAmount,
			            FM.DownPayment, FM.FeeChargeAmt,FM.FinStartDate,FM.LastMntBy, FM.FinAssetValue,
			            C.CustCIF, C.CustShrtName, '' PrvRoleDesc, '' NextRoleDesc, C.CustID, 
			            D.DeptDesc,
			            U.UsrFName UsrFName, U.UsrLName lastMntByUser,
			            FT.FinTypeDesc,FT.FinDivision lovDescFinDivision
			FROM        FinanceMain FM
			INNER JOIN  RMTFinanceTypes FT on FT.FinType = FM.FinType
			INNER JOIN  Customers C ON C.CustID = FM.CustID 
			INNER JOIN  SecUsers U ON U.UsrID = FM.LastMntBy 
			INNER JOIN  BMTDepartments D ON D.DeptCode = U.UsrDeptCode		
		</createView>
	</changeSet>
	
	<changeSet id="627" author="Kesav">
		<createView viewName="CUSTOMERFINANCEDETAILS_VIEW" replaceIfExists="true">
			SELECT      T1.FinReference, T1.FinBranch, T1.RoleCode, T1.NextRoleCode, T1.FinType, T1.FinAmount, T1.DownPayment, T1.FeeChargeAmt,
			            T1.FinStartDate,T1.LastMntBy, T1.FinCcy, T1.RecordType, T1.FinAssetValue,
			            T2.CustID, T2.CustCIF, T2.CustShrtName, 
			            T3.RoleDesc PrvRoleDesc, 
			            COALESCE(T4.RoleDesc,  FN_GET_ROLEDESC(T1.NextRoleCode)) NextRoleDesc,
			            T6.DeptDesc,
			            T7.UsrFName UsrFName,T7.UsrLName lastMntByUser,
			            T9.FinTypeDesc, T9.FinDivision lovDescFinDivision
			FROM        FinanceMain_Temp T1 INNER JOIN
			            Customers T2 ON T1.CustID = T2.CustID   LEFT OUTER JOIN
			            SecRoles T3 ON T3.RoleCd = T1.RoleCode LEFT OUTER JOIN
			            SecRoles T4 ON T4.RoleCd = T1.NextRoleCode LEFT OUTER JOIN
			            SecUsers T5 ON T5.UsrID = T1.LastMntBy LEFT OUTER JOIN
			            BMTDepartments T6 ON T6.DeptCode = T5.UsrDeptCode LEFT OUTER JOIN
			            SecUsers  T7 on T1.LastMntBy =T7.UsrID LEFT OUTER JOIN
			            RMTFinanceTypes T9 on T1.FinType=T9.FinType	
		</createView>
	</changeSet>
	<changeSet id="626" author="Srikanth">
	<createView viewName="FINANCEENQUIRY_VIEW" replaceIfExists="true">
			SELECT      T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.CalTerms NumberOfTerms,
			            T1.CustID, T1.FinAmount, T1.GrcPeriodEndDate, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.AllowGrcPeriod,
			            T1.DownPayment, T1.MigratedFinance,T1.LastRepayDate, T1.LastRepayPftDate,T1.FinCurrAssetvalue, T1.Blacklisted, T1.FeeChargeAmt,
			            T1.ClosingStatus, T1.GraceTerms, T1.AlwMultiDisb, T1.Defferments, T1.FinStatus ,T1.MandateID,T1.FinRepayMethod, T1.FINASSETVALUE,
			            (T1.FinCurrAssetvalue+ T1.FeeChargeAmt+T1.InsuranceAmt) FinancingAmount,
			            (T1.FinCurrAssetvalue- T1.FinRepaymentAmount+ T1.FeeChargeAmt+T1.InsuranceAmt) CurFinAmount,
			            T2.FinTypeDesc LovDescFinTypeName, T2.FinScheduleOn LovDescFinScheduleOn, T2.FinDivision lovDescFinDivision, 
			            T2.FinCategory lovDescProductCodeName,  T2.FinIsAlwDifferment lovDescFinAlwDeferment,
			            T3.CustCIF LovDescCustCIF, T3.CustShrtName LovDescCustShrtName, 
			            T4.BranchDesc LovDescFinBranchName, 
			            T5.CustTypeCtg,coalesce(T9.NOINST,0) NOINST               
			FROM        FinanceMain T1 INNER JOIN
			            RMTFinanceTypes T2 ON T1.FinType = T2.FinType INNER JOIN
			            Customers T3 ON T1.CustID = T3.CustID INNER JOIN
			            RMTBranches T4 ON T1.FinBranch = T4.BranchCode INNER JOIN
			            RMTCustTypes T5 ON T3.CustTypeCode = T5.CustTypeCode LEFT JOIN
                        FinPftDetails T9 ON T1.FinReference = T9.FinReference		
		</createView>
</changeSet>	

	<changeSet id="628" author="Kesav">
		<createView viewName="FINLIABILITYREQ_VIEW" replaceIfExists="true">
			SELECT	  T1.FinReference, T1.InitiatedBy, T1.FinEvent,T1.InsPaidStatus,T1.InsClaimAmount,T1.InsClaimReason, 
			          T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          T2.FinType, T2.FinBranch, T2.FinStartDate, T2.NumberOfTerms, T2.MaturityDate, T2.FinCcy, T2.FinAmount, T2.FinAssetValue,
			          T4.CustCIF, T4.CustShrtName , 
			          T5.BranchDesc , 
			          T6.FinDivision lovDescFinDivision
			FROM      FinLiabilityReq_Temp T1 INNER JOIN
			          FinanceMain T2 ON T1.FinReference = T2.FinReference INNER JOIN
			          Customers T4 ON T2.CustID = T4.CustID    INNER JOIN
			          RMTBranches T5 ON T2.FinBranch = T5.BranchCode  INNER JOIN
			          RMTFinanceTypes T6 ON T2.FinType = T6.FinType 
			
			UNION ALL
			
			SELECT	  T1.FinReference, T1.InitiatedBy, T1.FinEvent,T1.InsPaidStatus,T1.InsClaimAmount,T1.InsClaimReason, 
			          T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			          T2.FinType, T2.FinBranch, T2.FinStartDate, T2.NumberOfTerms, T2.MaturityDate, T2.FinCcy, T2.FinAmount, T2.FinAssetValue,
			          T4.CustCIF, T4.CustShrtName , 
			          T5.BranchDesc , 
			          T6.FinDivision lovDescFinDivision
			FROM      FinLiabilityReq T1 INNER JOIN
			          FinanceMain T2 ON T1.FinReference = T2.FinReference INNER JOIN
			          Customers T4 ON T2.CustID = T4.CustID    INNER JOIN
			          RMTBranches T5 ON T2.FinBranch = T5.BranchCode   INNER JOIN
			          RMTFinanceTypes T6 ON T2.FinType = T6.FinType     
			
			WHERE     NOT EXISTS (SELECT 1 FROM FinLiabilityReq_TEMP WHERE FinReference = T1.FinReference AND FinEvent = T1.FinEvent)
		</createView>
	</changeSet>
	<changeSet id="629" author="Siva">
		<createView viewName="MANUALADVISE_AVIEW" replaceIfExists="true">
		  SELECT		T1.AdviseID, T1.AdviseType, T1.FinReference, T1.FeeTypeID, T1.Sequence,
  				T1.AdviseAmount, T1.PaidAmount, T1.WaivedAmount, T1.Remarks, T1.ValueDate, T1.PostDate,
  					T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.FeeTypeDesc, T2.FeeTypeCode, T1.BounceID, 
                      T1.ReceiptID,T3.BOUNCECODE, T1.ReservedAmt, T1.BalanceAmt, T3.Reason BounceCodeDesc
				FROM    	ManualAdvise  T1
       			LEFT JOIN FEETYPES T2 ON T1.FeeTypeID = T2.FeeTypeID
				LEFT JOIN BOUNCEREASONS T3 ON T1.BounceID = T3.BOUNCEID
		</createView>
	</changeSet>
	<changeSet id="630" author="Siva">
		<createView viewName="MANUALADVISE_LVIEW" replaceIfExists="true">
		 SELECT		T1.AdviseID, T1.AdviseType, T1.FinReference, T1.FeeTypeID, T1.Sequence,
			  			T1.AdviseAmount, T1.PaidAmount, T1.WaivedAmount, T1.Remarks, T1.ValueDate, T1.PostDate,
			 			T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
			          	T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.FeeTypeDesc, T2.FeeTypeCode, T1.BounceID, T1.ReceiptID,T3.BOUNCECODE, 
			          	T1.ReservedAmt, T1.BalanceAmt, T3.Reason BounceCodeDesc
			FROM    	ManualAdvise  T1
			INNER JOIN  FEETYPES T2 ON T1.FeeTypeID = T2.FeeTypeID
			LEFT JOIN  BOUNCEREASONS T3 ON T1.BounceID = T3.BOUNCEID
		</createView>
	</changeSet>
	<changeSet id="631" author="Siva">
		<createView viewName="MANUALADVISE_TVIEW" replaceIfExists="true">
		  SELECT		T1.AdviseID, T1.AdviseType, T1.FinReference, T1.FeeTypeID, T1.Sequence, 
  				T1.AdviseAmount, T1.PaidAmount, T1.WaivedAmount, T1.Remarks, T1.ValueDate, T1.PostDate,
  					T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.FeeTypeDesc, T2.FeeTypeCode, T1.BounceID, T1.ReceiptID, 
                      T3.BOUNCECODE, T1.ReservedAmt, T1.BalanceAmt, T3.Reason BounceCodeDesc
				FROM    	ManualAdvise_Temp  T1
       			LEFT JOIN FEETYPES T2 ON T1.FeeTypeID = T2.FeeTypeID
       			LEFT JOIN BOUNCEREASONS T3 ON T1.BounceID = T3.BOUNCEID
		</createView>
	</changeSet>
	<changeSet id="632" author="Siva">
		<createView viewName="MANUALADVISE_VIEW" replaceIfExists="true">
		   SELECT		T1.AdviseID, T1.AdviseType, T1.FinReference, T1.FeeTypeID, T1.Sequence,
  				T1.AdviseAmount, T1.PaidAmount, T1.WaivedAmount, T1.Remarks, T1.ValueDate, T1.PostDate,
  					T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.FeeTypeDesc, T2.FeeTypeCode, T1.BounceID, T1.ReceiptID,
                      T3.BOUNCECODE, T1.ReservedAmt, T1.BalanceAmt, T3.Reason BounceCodeDesc
				FROM    	ManualAdvise_Temp  T1
       			LEFT JOIN FEETYPES T2 ON T1.FeeTypeID = T2.FeeTypeID
         		LEFT JOIN BOUNCEREASONS T3 ON T1.BounceID = T3.BOUNCEID
				UNION ALL
SELECT		T1.AdviseID, T1.AdviseType, T1.FinReference, T1.FeeTypeID, T1.Sequence,
  				T1.AdviseAmount, T1.PaidAmount, T1.WaivedAmount, T1.Remarks, T1.ValueDate, T1.PostDate,
  					T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.FeeTypeDesc, T2.FeeTypeCode, T1.BounceID, T1.ReceiptID,
                      T3.BOUNCECODE, T1.ReservedAmt, T1.BalanceAmt, T3.Reason BounceCodeDesc
				FROM    	ManualAdvise  T1
       			LEFT JOIN FEETYPES T2 ON T1.FeeTypeID = T2.FeeTypeID
           		LEFT JOIN BOUNCEREASONS T3 ON T1.BounceID = T3.BOUNCEID
				WHERE     NOT EXISTS (SELECT 1 FROM ManualAdvise_TEMP WHERE AdviseID = T1.AdviseID)
		</createView>
	</changeSet>
	<changeSet id="633" author="Srikanth">
	<createView viewName="FINANCEENQUIRY_TVIEW" replaceIfExists="true">
			 SELECT      T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.CalTerms NumberOfTerms,
			            T1.CustID, T1.FinAmount, T1.GrcPeriodEndDate, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.AllowGrcPeriod,
			            T1.DownPayment, T1.MigratedFinance,T1.LastRepayDate, T1.LastRepayPftDate,T1.FinCurrAssetvalue, T1.Blacklisted, T1.FeeChargeAmt,
			            T1.ClosingStatus, T1.GraceTerms, T1.AlwMultiDisb, T1.Defferments, T1.FinStatus ,T1.MandateID,T1.FinRepayMethod, T1.FINASSETVALUE,
			            (T1.FinCurrAssetvalue+ T1.FeeChargeAmt+T1.InsuranceAmt) FinancingAmount,
			            (T1.FinCurrAssetvalue- T1.FinRepaymentAmount+ T1.FeeChargeAmt+T1.InsuranceAmt) CurFinAmount,
			            T2.FinTypeDesc LovDescFinTypeName, T2.FinScheduleOn LovDescFinScheduleOn, T2.FinDivision lovDescFinDivision, 
			            T2.FinCategory lovDescProductCodeName,  T2.FinIsAlwDifferment lovDescFinAlwDeferment,
			            T3.CustCIF LovDescCustCIF, T3.CustShrtName LovDescCustShrtName, 
			            T4.BranchDesc LovDescFinBranchName, 
			            T5.CustTypeCtg,coalesce(T9.NOINST,0) NOINST                
			FROM        FinanceMain_Temp T1 INNER JOIN
			            RMTFinanceTypes T2 ON T1.FinType = T2.FinType INNER JOIN
			            Customers T3 ON T1.CustID = T3.CustID INNER JOIN
			            RMTBranches T4 ON T1.FinBranch = T4.BranchCode INNER JOIN
			            RMTCustTypes T5 ON T3.CustTypeCode = T5.CustTypeCode LEFT JOIN
                  FinPftDetails T9 ON T1.FinReference = T9.FinReference		
		</createView>
</changeSet>
<changeSet  id="634" author="Prasad">
	<createView viewName="RPT_SOA_LOAN_VIEW" replaceIfExists="true">
		  <![CDATA[Select FM.FinReference,Case when RF.ProductCategory='ODFCLITY' then FM.FInAssetValue else  FP.TotalPriSchd end LoanAmount,
		   FM.RepayBaseRate PLRRate,FM.repaymargin Variance,FM.EffectiveRateOfReturn IRR,FP.CURREDUCINGRATE ROI,
		   FP.NOINST Tenure,TotalPriPaid EMIReceivedPri ,TotalPftPaid EMIReceivedPft,
		   0.00 PreferredCardLimit,PRVRPYSCHPRI PrevInstAmtPri,PRVRPYSCHPFT PrevInstAmtPft,
		   Case when FM.RvwRateApplFor is null or FM.RvwRateApplFor='#' then 'Fixed' else 'Floating' end intRateType,FP.latestDisbDate LastDisbursalDate,
		   FP.FirstRepayDate FirstDueDate,FM.MaturityDate EndInstallmentDate,
		   '0.00/ 0' AdvInstAmt,FM.FinIsActive,FM.closingstatus,
		   FP.Futureinst FutureInstNo,FP.totalpriSchd FuturePri1,FP.tdSchdPri FuturePri2,
       FP.totalPftSchd FutureRpyPft1,FP.tdSchdPft FutureRpyPft2,
		   FP.totchargespaid Charge_coll_cust,
		   FP.UpFrontFee Upfront_int_cust,	0 Int_paid_Dealer_upfront,0 Pre_emi_Int_Paid,
		   '' Repo_Status,'' Repo_Date,'' Sale_Date,'' Release_Date,FP.LATESTRPYDATE,
       C.ccyMinorccyunits,ccyEditField
	From FinanceMain FM inner join
       FinPftDetails FP on FP.FinReference = FM.FinReference inner join
       rmtfinancetypes RF on RF.fintype = FM.fintype  inner join
       RMTCURRENCIES C on C.ccycode= FP.finccy]]>
		</createView>
	</changeSet>
	
	<changeSet id="635" author="Manoj">
		<createView viewName="TRAIL_BALANCE_REPORT_VIEW" replaceIfExists="true">
				  SELECT 		HEADERID,
				  COUNTRY,
				  PROVINCE,
				  ACTYPEGRPID,
				  HOSTACCOUNT,
				  DESCRIPTION,
				  UDF_CONVERTCURRENCY(OPENINGBAL, TBH.CURRENCY, 'INR') OPENINGBAL,
				  OPENINGBALTYPE,
				  UDF_CONVERTCURRENCY(DEBITAMOUNT, TBH.CURRENCY, 'INR') DEBITAMOUNT,
				  UDF_CONVERTCURRENCY(CREDITAMOUNT, TBH.CURRENCY, 'INR') CREDITAMOUNT,
				  UDF_CONVERTCURRENCY(CLOSINGBAL, TBH.CURRENCY, 'INR') CLOSINGBAL,
				  CLOSINGBALTYPE
				  FROM TRAIL_BALANCE_REPORT_LAST_RUN TBR
				  INNER JOIN TRAIL_BALANCE_HEADER TBH ON TBH.ID = TBR.HEADERID
		</createView>
	</changeSet>
	
	<changeSet id="636" author="Manoj">
		<dropTable tableName="TRAIL_BALANCE_REPORT_FILE"/>
	</changeSet>
	
	<changeSet id="637" author="Manoj">
		<createTable tableName="TRAIL_BALANCE_REPORT_FILE">
			<column name="ID" type="bigint" autoIncrement="true" incrementBy="1">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="varchar(100)" />
			<column name="COUNTRY" type="varchar(100)" />
			<column name="PROVINCE" type="varchar(100)" />
			<column name="HOSTACCOUNT" type="varchar(100)" />
			<column name="DESCRIPTION" type="varchar(100)" />
			<column name="OPENINGBAL" type="varchar(100)" />
			<column name="OPENINGBALTYPE" type="varchar(100)" />
			<column name="DEBITAMOUNT" type="varchar(100)" />
			<column name="CREDITAMOUNT" type="varchar(100)" />
			<column name="CLOSINGBAL" type="varchar(100)" />
			<column name="CLOSINGBALTYPE" type="varchar(100)" />
		</createTable>
	</changeSet>
	
	<changeSet id="638" author="Manoj">
		<createView viewName="TRAIL_BALANCE_REPORT_FILE_VIEW" replaceIfExists="true">
			SELECT ID,COUNTRY,
			  PROVINCE,
			  ACTYPEGRPID,
			  HOSTACCOUNT,
			  DESCRIPTION,
			  OPENINGBAL,
			  OPENINGBALTYPE,
			  DEBITAMOUNT,
			  CREDITAMOUNT,
			  CLOSINGBAL,
			  CLOSINGBALTYPE
			  FROM TRAIL_BALANCE_REPORT_FILE order by ID, PROVINCE
		</createView>
	</changeSet>
	
	<changeSet id="639" author="Manoj">
		<sql>
			update data_engine_table set Filter = NULL where name = 'TRAIL_BALANCE_REPORT_VIEW';
			update data_engine_table set Name = 'TRAIL_BALANCE_REPORT_FILE_VIEW' where name = 'TRAIL_BALANCE_REPORT_VIEW';
			update DATA_ENGINE_CONFIG set FIELDNAMES = NULL, Header = 'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}' where Name = 'GL_TRAIL_BALANCE_EXPORT';
		</sql>
	</changeSet>
	<changeSet id="640" author="Manoj">
		<sql>
			 update data_engine_config set FILENAMEFORMAT= NULL where Name = 'GL_TRAIL_BALANCE_EXPORT';
		</sql>
	</changeSet>
	
	<changeSet id="641" author="Manoj">
		<dropTable tableName="CF_CONTROL_DUMP_LOG"/>
		<dropTable tableName="CF_CONTROL_DUMP"/>
	</changeSet>
	
	<changeSet  id="645" author="Manoj" >
<createTable tableName="CF_CONTROL_DUMP">
			<column name="AGREEMENTNO" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="AGREEMENTID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="PRODUCTFLAG" type="varchar(8)">
				<constraints nullable="false" />
			</column>
			<column name="SCHEMEID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="BRANCHID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="NPA_STAGEID" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="LOAN_STATUS" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="DISB_STATUS" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="FIRST_DUE_DATE" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="MATURITY_DATE" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="AMTFIN" type="int" />
			<column name="DISBURSED_AMOUNT" type="decimal(18,2)" />
			<column name="EMI_DUE" type="decimal(18,2)" />
			<column name="PRINCIPAL_DUE" type="decimal(18,2)"  />
			<column name="INTEREST_DUE" type="decimal(18,2)"  />
			<column name="EMI_RECEIVED" type="decimal(18,2)" />
			<column name="PRINCIPAL_RECEIVED" type="decimal(18,2)" />
			<column name="INTEREST_RECEIVED" type="decimal(18,2)" />
			<column name="EMI_OS" type="decimal(18,2)" />
			<column name="PRINCIPAL_OS" type="decimal(18,2)" />
			<column name="INTEREST_OS" type="decimal(18,2)" />
			<column name="BULK_REFUND" type="decimal(18,2)" />
			<column name="PRINCIPAL_WAIVED" type="decimal(18,2)" />
			<column name="EMI_PRINCIPAL_WAIVED" type="decimal(18,2)" />
			<column name="EMI_INTEREST_WAIVED" type="decimal(18,2)" />
			<column name="PRINCIPAL_AT_TERM" type="decimal(18,2)" />
			<column name="ADVANCE_EMI" type="decimal(18,2)" />
			<column name="ADVANCE_EMI_BILLED" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI_BILLED" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI_UNBILLED" type="decimal(18,2)" />
			<column name="CLOSED_CAN_ADV_EMI" type="decimal(18,2)" />
			<column name="PRINCIPAL_BALANCE" type="decimal(18,2)" />
			<column name="INTEREST_BALANCE" type="decimal(18,2)" />
			<column name="SOH_BALANCE" type="decimal(18,2)" />
			<column name="NO_OF_UNBILLED_EMI" type="decimal(18,2)" />
			<column name="TOTAL_INTEREST" type="decimal(18,2)" />
			<column name="ACCRUED_AMOUNT" type="decimal(18,2)" />
			<column name="BALANCE_UMFC" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_RECEIVED_MAKER" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_BILLED" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_UNBILLED" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_BILLED_PRIN_COMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_BILLED_INTCOMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_UNBILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_UNBILLED_INTCOMP"   type ="decimal(18,2)" />
			<column name="EMI_IN_ADV_BILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_BILLED_INTCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_UNBILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_UNBILLED_INTCOMP" type="decimal(18,2)" />
			<column name="CLOS_CAN_ADV_EMI_PRINCOMP" type="decimal(18,2)" />
			<column name="CLOS_CAN_ADV_EMI_INTCOMP" type="decimal(18,2)" />
			<column name="SECURITY_DEPOSIT" type="decimal(18,2)" />
			<column name="SECURITY_DEPOSIT_ADJUSTED" type="decimal(18,2)" />
			<column name="ROUNDING_DIFF_RECEIVABLE" type="decimal(18,2)" />
			<column name="ROUNDING_DIFF_RECEIVED" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_RECEIVABLE" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_RECEIVED" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_PAYABLE" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_PAID" type="decimal(18,2)" />
			<column name="WRITEOFF_DUE" type="decimal(18,2)" />
			<column name="WRITEOFF_RECEIVED" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_RECEIVABLE" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_RECEIVED" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_PAYABLE" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_PAID" type="decimal(18,2)" />
			<column name="NET_EXCESS_RECEIVED" type="decimal(18,2)" />
			<column name="NET_EXCESS_ADJUSTED" type="decimal(18,2)" />
			<column name="LPP_CHARGES_RECEIVABLE" type="decimal(18,2)" />
			<column name="LPP_CHARGES_RECEIVED" type="decimal(18,2)" />			
			<column name="PDC_SWAP_CHARGESRECEIVABLE" type="decimal(18,2)" />			
			<column name="PDC_SWAP_CHARGESRECEIVED" type="decimal(18,2)" />			
			<column name="REPO_CHARGES_RECEIVABLE" type="decimal(18,2)" />
			<column name="REPO_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="FORECLOSURE_CHARGES_DUE" type="decimal(18,2)" />
			<column name="FORECLOSURE_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="BOUNCE_CHARGES_DUE" type="decimal(18,2)" />
			<column name="BOUNCE_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="INSUR_RENEW_CHARGE" type="decimal(18,2)" />
			<column name="INSUR_RENEW_CHARGE_RECD" type="decimal(18,2)" />
			<column name="INSUR_RECEIVABLE" type="decimal(18,2)" />
			<column name="INSUR_RECEIVED" type="decimal(18,2)" />
			<column name="INSUR_PAYABLE" type="decimal(18,2)" />
			<column name="INSUR_PAID" type="decimal(18,2)" />
			<column name="CUSTOMERID" type="bigint" />
			<column name="CUSTOMERNAME" type="varchar(300)" />
			<column name="SANCTIONED_TENURE" type="int" />
			<column name="LOAN_EMI" type="decimal(18,2)" />
			<column name="FLAT_RATE" type="Number(10,7)" />
			<column name="EFFECTIVE_RATE" type="Number(10,7)" />
			<column name="AGREEMENTDATE" type="datetime" />
			<column name="DISBURSALDATE" type="datetime" />
			<column name="CLOSUREDATE" type="datetime" />
			<column name="NO_OF_ADVANCE_EMIS" type="Number(3)" />
			<column name="ASSETCOST" type="Number(16,2)" />
			<column name="NO_OF_EMI_OS" type="int" />
			<column name="DPD" type="int" />
			<column name="CURRENT_BUCKET" type="int" />
			<column name="BRANCH_NAME" type="varchar(600)" />
			<column name="SCHEME_NAME" type="varchar(200)" />
			<column name="DERIVED_BUCKET" type="Number" />
			<column name="ASSETDESC" type="varchar(150)" />
			<column name="MAKE" type="varchar(35)" />
			<column name="CHASISNUM" type="varchar(50)" />
			<column name="REGDNUM" type="varchar(30)" />
			<column name="ENGINENUM" type="varchar(30)" />
			<column name="INVOICEAMT" type="Number(16,2)" />
			<column name="SUPPLIERDESC" type="varchar(300)" />
			<column name="INSTRUMENT" type="char(1)" />
			<column name="REPO_DATE" type="datetime" />
			<column name="LOCAL_OUTSTATION_FLAG" type="char(1)" />
			<column name="FIRST_REPAYDUE_DATE" type="datetime" />
			<column name="CREATED_ON" type="datetime" />
</createTable>
</changeSet>

<changeSet  id="646" author="Manoj" >
<createTable tableName="CF_CONTROL_DUMP_LOG">
			<column name="AGREEMENTNO" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="AGREEMENTID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="PRODUCTFLAG" type="varchar(8)">
				<constraints nullable="false" />
			</column>
			<column name="SCHEMEID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="BRANCHID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="NPA_STAGEID" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="LOAN_STATUS" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="DISB_STATUS" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="FIRST_DUE_DATE" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="MATURITY_DATE" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="AMTFIN" type="int" />
			<column name="DISBURSED_AMOUNT" type="decimal(18,2)" />
			<column name="EMI_DUE" type="decimal(18,2)" />
			<column name="PRINCIPAL_DUE" type="decimal(18,2)"  />
			<column name="INTEREST_DUE" type="decimal(18,2)"  />
			<column name="EMI_RECEIVED" type="decimal(18,2)" />
			<column name="PRINCIPAL_RECEIVED" type="decimal(18,2)" />
			<column name="INTEREST_RECEIVED" type="decimal(18,2)" />
			<column name="EMI_OS" type="decimal(18,2)" />
			<column name="PRINCIPAL_OS" type="decimal(18,2)" />
			<column name="INTEREST_OS" type="decimal(18,2)" />
			<column name="BULK_REFUND" type="decimal(18,2)" />
			<column name="PRINCIPAL_WAIVED" type="decimal(18,2)" />
			<column name="EMI_PRINCIPAL_WAIVED" type="decimal(18,2)" />
			<column name="EMI_INTEREST_WAIVED" type="decimal(18,2)" />
			<column name="PRINCIPAL_AT_TERM" type="decimal(18,2)" />
			<column name="ADVANCE_EMI" type="decimal(18,2)" />
			<column name="ADVANCE_EMI_BILLED" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI_BILLED" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI_UNBILLED" type="decimal(18,2)" />
			<column name="CLOSED_CAN_ADV_EMI" type="decimal(18,2)" />
			<column name="PRINCIPAL_BALANCE" type="decimal(18,2)" />
			<column name="INTEREST_BALANCE" type="decimal(18,2)" />
			<column name="SOH_BALANCE" type="decimal(18,2)" />
			<column name="NO_OF_UNBILLED_EMI" type="decimal(18,2)" />
			<column name="TOTAL_INTEREST" type="decimal(18,2)" />
			<column name="ACCRUED_AMOUNT" type="decimal(18,2)" />
			<column name="BALANCE_UMFC" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_RECEIVED_MAKER" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_BILLED" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_UNBILLED" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_BILLED_PRIN_COMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_BILLED_INTCOMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_UNBILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_UNBILLED_INTCOMP"   type ="decimal(18,2)" />
			<column name="EMI_IN_ADV_BILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_BILLED_INTCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_UNBILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_UNBILLED_INTCOMP" type="decimal(18,2)" />
			<column name="CLOS_CAN_ADV_EMI_PRINCOMP" type="decimal(18,2)" />
			<column name="CLOS_CAN_ADV_EMI_INTCOMP" type="decimal(18,2)" />
			<column name="SECURITY_DEPOSIT" type="decimal(18,2)" />
			<column name="SECURITY_DEPOSIT_ADJUSTED" type="decimal(18,2)" />
			<column name="ROUNDING_DIFF_RECEIVABLE" type="decimal(18,2)" />
			<column name="ROUNDING_DIFF_RECEIVED" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_RECEIVABLE" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_RECEIVED" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_PAYABLE" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_PAID" type="decimal(18,2)" />
			<column name="WRITEOFF_DUE" type="decimal(18,2)" />
			<column name="WRITEOFF_RECEIVED" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_RECEIVABLE" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_RECEIVED" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_PAYABLE" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_PAID" type="decimal(18,2)" />
			<column name="NET_EXCESS_RECEIVED" type="decimal(18,2)" />
			<column name="NET_EXCESS_ADJUSTED" type="decimal(18,2)" />
			<column name="LPP_CHARGES_RECEIVABLE" type="decimal(18,2)" />
			<column name="LPP_CHARGES_RECEIVED" type="decimal(18,2)" />			
			<column name="PDC_SWAP_CHARGESRECEIVABLE" type="decimal(18,2)" />			
			<column name="PDC_SWAP_CHARGESRECEIVED" type="decimal(18,2)" />			
			<column name="REPO_CHARGES_RECEIVABLE" type="decimal(18,2)" />
			<column name="REPO_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="FORECLOSURE_CHARGES_DUE" type="decimal(18,2)" />
			<column name="FORECLOSURE_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="BOUNCE_CHARGES_DUE" type="decimal(18,2)" />
			<column name="BOUNCE_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="INSUR_RENEW_CHARGE" type="decimal(18,2)" />
			<column name="INSUR_RENEW_CHARGE_RECD" type="decimal(18,2)" />
			<column name="INSUR_RECEIVABLE" type="decimal(18,2)" />
			<column name="INSUR_RECEIVED" type="decimal(18,2)" />
			<column name="INSUR_PAYABLE" type="decimal(18,2)" />
			<column name="INSUR_PAID" type="decimal(18,2)" />
			<column name="CUSTOMERID" type="bigint" />
			<column name="CUSTOMERNAME" type="varchar(300)" />
			<column name="SANCTIONED_TENURE" type="int" />
			<column name="LOAN_EMI" type="decimal(18,2)" />
			<column name="FLAT_RATE" type="Number(10,7)" />
			<column name="EFFECTIVE_RATE" type="Number(10,7)" />
			<column name="AGREEMENTDATE" type="datetime" />
			<column name="DISBURSALDATE" type="datetime" />
			<column name="CLOSUREDATE" type="datetime" />
			<column name="NO_OF_ADVANCE_EMIS" type="Number(3)" />
			<column name="ASSETCOST" type="Number(16,2)" />
			<column name="NO_OF_EMI_OS" type="int" />
			<column name="DPD" type="int" />
			<column name="CURRENT_BUCKET" type="int" />
			<column name="BRANCH_NAME" type="varchar(600)" />
			<column name="SCHEME_NAME" type="varchar(200)" />
			<column name="DERIVED_BUCKET" type="Number" />
			<column name="ASSETDESC" type="varchar(150)" />
			<column name="MAKE" type="varchar(35)" />
			<column name="CHASISNUM" type="varchar(50)" />
			<column name="REGDNUM" type="varchar(30)" />
			<column name="ENGINENUM" type="varchar(30)" />
			<column name="INVOICEAMT" type="Number(16,2)" />
			<column name="SUPPLIERDESC" type="varchar(300)" />
			<column name="INSTRUMENT" type="char(1)" />
			<column name="REPO_DATE" type="datetime" />
			<column name="LOCAL_OUTSTATION_FLAG" type="char(1)" />
			<column name="FIRST_REPAYDUE_DATE" type="datetime" />
			<column name="CREATED_ON" type="datetime" />
			<column name="LOGGED_ON" type="datetime" />
</createTable>
</changeSet>

<changeSet id="647" author="DurgaprasadG">
		<dropTable tableName="CF_CONTROL_DUMP_LOG"/>
		<dropTable tableName="CF_CONTROL_DUMP"/>
	</changeSet>
	
	<changeSet  id="648" author="DurgaprasadG" >
<createTable tableName="CF_CONTROL_DUMP">
			<column name="AGREEMENTNO" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="AGREEMENTID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="PRODUCTFLAG" type="varchar(8)">
				<constraints nullable="false" />
			</column>
			<column name="SCHEMEID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="BRANCHID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="NPA_STAGEID" type="varchar(8)">
				<constraints nullable="false" />
			</column>
			<column name="LOAN_STATUS" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="DISB_STATUS" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="FIRST_DUE_DATE" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="MATURITY_DATE" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="AMTFIN" type="int" />
			<column name="DISBURSED_AMOUNT" type="decimal(18,2)" />
			<column name="EMI_DUE" type="decimal(18,2)" />
			<column name="PRINCIPAL_DUE" type="decimal(18,2)"  />
			<column name="INTEREST_DUE" type="decimal(18,2)"  />
			<column name="EMI_RECEIVED" type="decimal(18,2)" />
			<column name="PRINCIPAL_RECEIVED" type="decimal(18,2)" />
			<column name="INTEREST_RECEIVED" type="decimal(18,2)" />
			<column name="EMI_OS" type="decimal(18,2)" />
			<column name="PRINCIPAL_OS" type="decimal(18,2)" />
			<column name="INTEREST_OS" type="decimal(18,2)" />
			<column name="BULK_REFUND" type="decimal(18,2)" />
			<column name="PRINCIPAL_WAIVED" type="decimal(18,2)" />
			<column name="EMI_PRINCIPAL_WAIVED" type="decimal(18,2)" />
			<column name="EMI_INTEREST_WAIVED" type="decimal(18,2)" />
			<column name="PRINCIPAL_AT_TERM" type="decimal(18,2)" />
			<column name="ADVANCE_EMI" type="decimal(18,2)" />
			<column name="ADVANCE_EMI_BILLED" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI_BILLED" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI_UNBILLED" type="decimal(18,2)" />
			<column name="CLOSED_CAN_ADV_EMI" type="decimal(18,2)" />
			<column name="PRINCIPAL_BALANCE" type="decimal(18,2)" />
			<column name="INTEREST_BALANCE" type="decimal(18,2)" />
			<column name="SOH_BALANCE" type="decimal(18,2)" />
			<column name="NO_OF_UNBILLED_EMI" type="decimal(18,2)" />
			<column name="TOTAL_INTEREST" type="decimal(18,2)" />
			<column name="ACCRUED_AMOUNT" type="decimal(18,2)" />
			<column name="BALANCE_UMFC" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_RECEIVED_MAKER" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_BILLED" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_UNBILLED" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_BILLED_PRIN_COMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_BILLED_INTCOMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_UNBILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_UNBILLED_INTCOMP"   type ="decimal(18,2)" />
			<column name="EMI_IN_ADV_BILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_BILLED_INTCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_UNBILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_UNBILLED_INTCOMP" type="decimal(18,2)" />
			<column name="CLOS_CAN_ADV_EMI_PRINCOMP" type="decimal(18,2)" />
			<column name="CLOS_CAN_ADV_EMI_INTCOMP" type="decimal(18,2)" />
			<column name="SECURITY_DEPOSIT" type="decimal(18,2)" />
			<column name="SECURITY_DEPOSIT_ADJUSTED" type="decimal(18,2)" />
			<column name="ROUNDING_DIFF_RECEIVABLE" type="decimal(18,2)" />
			<column name="ROUNDING_DIFF_RECEIVED" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_RECEIVABLE" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_RECEIVED" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_PAYABLE" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_PAID" type="decimal(18,2)" />
			<column name="WRITEOFF_DUE" type="decimal(18,2)" />
			<column name="WRITEOFF_RECEIVED" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_RECEIVABLE" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_RECEIVED" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_PAYABLE" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_PAID" type="decimal(18,2)" />
			<column name="NET_EXCESS_RECEIVED" type="decimal(18,2)" />
			<column name="NET_EXCESS_ADJUSTED" type="decimal(18,2)" />
			<column name="LPP_CHARGES_RECEIVABLE" type="decimal(18,2)" />
			<column name="LPP_CHARGES_RECEIVED" type="decimal(18,2)" />			
			<column name="PDC_SWAP_CHARGESRECEIVABLE" type="decimal(18,2)" />			
			<column name="PDC_SWAP_CHARGESRECEIVED" type="decimal(18,2)" />			
			<column name="REPO_CHARGES_RECEIVABLE" type="decimal(18,2)" />
			<column name="REPO_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="FORECLOSURE_CHARGES_DUE" type="decimal(18,2)" />
			<column name="FORECLOSURE_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="BOUNCE_CHARGES_DUE" type="decimal(18,2)" />
			<column name="BOUNCE_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="INSUR_RENEW_CHARGE" type="decimal(18,2)" />
			<column name="INSUR_RENEW_CHARGE_RECD" type="decimal(18,2)" />
			<column name="INSUR_RECEIVABLE" type="decimal(18,2)" />
			<column name="INSUR_RECEIVED" type="decimal(18,2)" />
			<column name="INSUR_PAYABLE" type="decimal(18,2)" />
			<column name="INSUR_PAID" type="decimal(18,2)" />
			<column name="CUSTOMERID" type="bigint" />
			<column name="CUSTOMERNAME" type="varchar(300)" />
			<column name="SANCTIONED_TENURE" type="int" />
			<column name="LOAN_EMI" type="decimal(18,2)" />
			<column name="FLAT_RATE" type="Number(10,7)" />
			<column name="EFFECTIVE_RATE" type="Number(10,7)" />
			<column name="AGREEMENTDATE" type="datetime" />
			<column name="DISBURSALDATE" type="datetime" />
			<column name="CLOSUREDATE" type="datetime" />
			<column name="NO_OF_ADVANCE_EMIS" type="Number(3)" />
			<column name="ASSETCOST" type="Number(16,2)" />
			<column name="NO_OF_EMI_OS" type="int" />
			<column name="DPD" type="int" />
			<column name="CURRENT_BUCKET" type="int" />
			<column name="BRANCH_NAME" type="varchar(600)" />
			<column name="SCHEME_NAME" type="varchar(200)" />
			<column name="DERIVED_BUCKET" type="Number" />
			<column name="ASSETDESC" type="varchar(150)" />
			<column name="MAKE" type="varchar(35)" />
			<column name="CHASISNUM" type="varchar(50)" />
			<column name="REGDNUM" type="varchar(30)" />
			<column name="ENGINENUM" type="varchar(30)" />
			<column name="INVOICEAMT" type="Number(16,2)" />
			<column name="SUPPLIERDESC" type="varchar(300)" />
			<column name="INSTRUMENT" type="char(1)" />
			<column name="REPO_DATE" type="datetime" />
			<column name="LOCAL_OUTSTATION_FLAG" type="char(1)" />
			<column name="FIRST_REPAYDUE_DATE" type="datetime" />
			<column name="CREATED_ON" type="datetime" />
</createTable>
</changeSet>

<changeSet  id="649" author="DurgaprasadG" >
<createTable tableName="CF_CONTROL_DUMP_LOG">
			<column name="AGREEMENTNO" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="AGREEMENTID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="PRODUCTFLAG" type="varchar(8)">
				<constraints nullable="false" />
			</column>
			<column name="SCHEMEID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="BRANCHID" type="int">
				<constraints nullable="false" />
			</column>
			<column name="NPA_STAGEID" type="varchar(8)">
				<constraints nullable="false" />
			</column>
			<column name="LOAN_STATUS" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="DISB_STATUS" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="FIRST_DUE_DATE" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="MATURITY_DATE" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="AMTFIN" type="int" />
			<column name="DISBURSED_AMOUNT" type="decimal(18,2)" />
			<column name="EMI_DUE" type="decimal(18,2)" />
			<column name="PRINCIPAL_DUE" type="decimal(18,2)"  />
			<column name="INTEREST_DUE" type="decimal(18,2)"  />
			<column name="EMI_RECEIVED" type="decimal(18,2)" />
			<column name="PRINCIPAL_RECEIVED" type="decimal(18,2)" />
			<column name="INTEREST_RECEIVED" type="decimal(18,2)" />
			<column name="EMI_OS" type="decimal(18,2)" />
			<column name="PRINCIPAL_OS" type="decimal(18,2)" />
			<column name="INTEREST_OS" type="decimal(18,2)" />
			<column name="BULK_REFUND" type="decimal(18,2)" />
			<column name="PRINCIPAL_WAIVED" type="decimal(18,2)" />
			<column name="EMI_PRINCIPAL_WAIVED" type="decimal(18,2)" />
			<column name="EMI_INTEREST_WAIVED" type="decimal(18,2)" />
			<column name="PRINCIPAL_AT_TERM" type="decimal(18,2)" />
			<column name="ADVANCE_EMI" type="decimal(18,2)" />
			<column name="ADVANCE_EMI_BILLED" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI_BILLED" type="decimal(18,2)" />
			<column name="MIGRATED_ADVANCE_EMI_UNBILLED" type="decimal(18,2)" />
			<column name="CLOSED_CAN_ADV_EMI" type="decimal(18,2)" />
			<column name="PRINCIPAL_BALANCE" type="decimal(18,2)" />
			<column name="INTEREST_BALANCE" type="decimal(18,2)" />
			<column name="SOH_BALANCE" type="decimal(18,2)" />
			<column name="NO_OF_UNBILLED_EMI" type="decimal(18,2)" />
			<column name="TOTAL_INTEREST" type="decimal(18,2)" />
			<column name="ACCRUED_AMOUNT" type="decimal(18,2)" />
			<column name="BALANCE_UMFC" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_RECEIVED_MAKER" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_BILLED" type="decimal(18,2)" />
			<column name="EMI_IN_ADVANCE_UNBILLED" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_BILLED_PRIN_COMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_BILLED_INTCOMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_UNBILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="MIG_ADV_EMI_UNBILLED_INTCOMP"   type ="decimal(18,2)" />
			<column name="EMI_IN_ADV_BILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_BILLED_INTCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_UNBILLED_PRINCOMP" type="decimal(18,2)" />
			<column name="EMI_IN_ADV_UNBILLED_INTCOMP" type="decimal(18,2)" />
			<column name="CLOS_CAN_ADV_EMI_PRINCOMP" type="decimal(18,2)" />
			<column name="CLOS_CAN_ADV_EMI_INTCOMP" type="decimal(18,2)" />
			<column name="SECURITY_DEPOSIT" type="decimal(18,2)" />
			<column name="SECURITY_DEPOSIT_ADJUSTED" type="decimal(18,2)" />
			<column name="ROUNDING_DIFF_RECEIVABLE" type="decimal(18,2)" />
			<column name="ROUNDING_DIFF_RECEIVED" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_RECEIVABLE" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_RECEIVED" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_PAYABLE" type="decimal(18,2)" />
			<column name="MIG_DIFFERENCE_PAID" type="decimal(18,2)" />
			<column name="WRITEOFF_DUE" type="decimal(18,2)" />
			<column name="WRITEOFF_RECEIVED" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_RECEIVABLE" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_RECEIVED" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_PAYABLE" type="decimal(18,2)" />
			<column name="SOLD_SEIZE_PAID" type="decimal(18,2)" />
			<column name="NET_EXCESS_RECEIVED" type="decimal(18,2)" />
			<column name="NET_EXCESS_ADJUSTED" type="decimal(18,2)" />
			<column name="LPP_CHARGES_RECEIVABLE" type="decimal(18,2)" />
			<column name="LPP_CHARGES_RECEIVED" type="decimal(18,2)" />			
			<column name="PDC_SWAP_CHARGESRECEIVABLE" type="decimal(18,2)" />			
			<column name="PDC_SWAP_CHARGESRECEIVED" type="decimal(18,2)" />			
			<column name="REPO_CHARGES_RECEIVABLE" type="decimal(18,2)" />
			<column name="REPO_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="FORECLOSURE_CHARGES_DUE" type="decimal(18,2)" />
			<column name="FORECLOSURE_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="BOUNCE_CHARGES_DUE" type="decimal(18,2)" />
			<column name="BOUNCE_CHARGES_RECEIVED" type="decimal(18,2)" />
			<column name="INSUR_RENEW_CHARGE" type="decimal(18,2)" />
			<column name="INSUR_RENEW_CHARGE_RECD" type="decimal(18,2)" />
			<column name="INSUR_RECEIVABLE" type="decimal(18,2)" />
			<column name="INSUR_RECEIVED" type="decimal(18,2)" />
			<column name="INSUR_PAYABLE" type="decimal(18,2)" />
			<column name="INSUR_PAID" type="decimal(18,2)" />
			<column name="CUSTOMERID" type="bigint" />
			<column name="CUSTOMERNAME" type="varchar(300)" />
			<column name="SANCTIONED_TENURE" type="int" />
			<column name="LOAN_EMI" type="decimal(18,2)" />
			<column name="FLAT_RATE" type="Number(10,7)" />
			<column name="EFFECTIVE_RATE" type="Number(10,7)" />
			<column name="AGREEMENTDATE" type="datetime" />
			<column name="DISBURSALDATE" type="datetime" />
			<column name="CLOSUREDATE" type="datetime" />
			<column name="NO_OF_ADVANCE_EMIS" type="Number(3)" />
			<column name="ASSETCOST" type="Number(16,2)" />
			<column name="NO_OF_EMI_OS" type="int" />
			<column name="DPD" type="int" />
			<column name="CURRENT_BUCKET" type="int" />
			<column name="BRANCH_NAME" type="varchar(600)" />
			<column name="SCHEME_NAME" type="varchar(200)" />
			<column name="DERIVED_BUCKET" type="Number" />
			<column name="ASSETDESC" type="varchar(150)" />
			<column name="MAKE" type="varchar(35)" />
			<column name="CHASISNUM" type="varchar(50)" />
			<column name="REGDNUM" type="varchar(30)" />
			<column name="ENGINENUM" type="varchar(30)" />
			<column name="INVOICEAMT" type="Number(16,2)" />
			<column name="SUPPLIERDESC" type="varchar(300)" />
			<column name="INSTRUMENT" type="char(1)" />
			<column name="REPO_DATE" type="datetime" />
			<column name="LOCAL_OUTSTATION_FLAG" type="char(1)" />
			<column name="FIRST_REPAYDUE_DATE" type="datetime" />
			<column name="CREATED_ON" type="datetime" />
			<column name="LOGGED_ON" type="datetime" />
</createTable>
</changeSet>
<!-- FOR AWS	 -->
<!-- <changeSet  id="650" author="Madhubabu">
	<sql>
	INSERT INTO SMTPARAMETERS VALUES ('POSIDEX_DEDUP_REQUEST_URL','Posidex Request URL','String', 1,'http://172.30.1.31:11000/DedupeRestWS/Services/','200',0, NULL, NULL,'Posidex Request URL',1, 1000, CURRENT_TIMESTAMP,'Approved',NULL, NULL, NULL, NULL, NULL, 0);
	</sql>
</changeSet> -->
<!-- For QC & DEV -->
<!-- <changeSet  id="650.1" author="Madhubabu">
	<sql>
	INSERT INTO SMTPARAMETERS VALUES ('POSIDEX_DEDUP_REQUEST_URL','Posidex Request URL','String', 1,'http://192.168.1.158:8080/pff-api/services/','200',0, NULL, NULL,'Posidex Request URL',1, 1000, CURRENT_TIMESTAMP,'Approved',NULL, NULL, NULL, NULL, NULL, 0);
	</sql>
</changeSet> -->


<changeSet id="651" author="Vinay">
		<addColumn tableName="FINRECEIPTHEADER">
			<column name="REMARKS" type="VARCHAR2(200)" />
		</addColumn>
</changeSet>


<changeSet id="652" author="Vinay">
		<addColumn tableName="FINRECEIPTHEADER_TEMP">
			<column name="REMARKS" type="VARCHAR2(200)" />
		</addColumn>
</changeSet>
	
<changeSet id="653" author="Vinay">
		<createView replaceIfExists="true" viewName="FINRECEIPTHEADER_FCVIEW">
 				SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, 
				 T2.ScheduleMethod, T2.ProfitDaysBasis PftDaysBasis, T1.WaviedAmt, T3.CustID, T1.TotFeeAmount, T1.BounceDate , T1.Remarks
							FROM         FinReceiptHeader_Temp T1 INNER JOIN
				       FinanceMain_Temp T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
			UNION ALL
			SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, 
				 T2.ScheduleMethod, T2.ProfitDaysBasis PftDaysBasis, T1.WaviedAmt, T3.CustID, T1.TotFeeAmount, T1.BounceDate , T1.Remarks
							FROM         FinReceiptHeader T1 INNER JOIN
				       FinanceMain_Temp T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
               	WHERE     NOT EXISTS
				                          (SELECT     1
				                            FROM          FinReceiptHeader_TEMP 
				                            WHERE      ReceiptID = T1.ReceiptID)
		</createView>
</changeSet>



<changeSet id="654" author="Vinay">
		<createView replaceIfExists="true" viewName="FINRECEIPTHEADER_FVIEW">
				SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, 
				 T2.ScheduleMethod, T2.ProfitDaysBasis PftDaysBasis, T1.WaviedAmt, T3.CustID, T1.TotFeeAmount, T1.BounceDate , T1.Remarks
							FROM         FinReceiptHeader_Temp T1 INNER JOIN
				       FinanceMain_Temp T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
		</createView>
</changeSet>


<changeSet id="655" author="Vinay">
		<createView replaceIfExists="true" viewName="FINRECEIPTHEADER_VIEW">
				SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, T1.WaviedAmt, T1.TotFeeAmount, T1.BounceDate , T1.Remarks
							FROM         FinReceiptHeader_Temp T1 INNER JOIN
				       FinanceMain T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
				UNION ALL
				 SELECT     T1.ReceiptID, T1.ReceiptDate, T1.ReceiptType,T1.RecAgainst,T1.Reference, T1.ReceiptPurpose, 
				 T1.ReceiptMode, T1.ExcessAdjustTo,T1.AllocationType,T1.ReceiptAmount,T1.EffectSchdMethod, 
				 T1.ReceiptModeStatus, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
				 T2.FinType,  T2.FinBranch, T3.CustCIF , 	T3.CustShrtName, T2.FinCcy, T1.RealizationDate,
				 T1.CancelReason, T4.FinTypeDesc,  T6.BranchDesc FinBranchDesc, T5.CcyDesc FinCcyDesc, T7.RejectDesc CancelReasonDesc, T2.FinIsActive, T1.WaviedAmt, T1.TotFeeAmount, T1.BounceDate , T1.Remarks
							FROM         FinReceiptHeader T1 INNER JOIN
				       FinanceMain T2 ON T1.Reference = T2.FinReference INNER JOIN
				       Customers T3 ON T2.CustId = T3.CustId INNER JOIN
				       RMTFinanceTypes T4 ON T2.FinType = T4.FinType INNER JOIN
				       RMTCurrencies T5 ON T2.FinCcy = T5.CcyCode INNER JOIN
				       RMTBranches T6 ON T2.FinBranch = T6.BranchCode LEFT JOIN
				       BMTRejectCodes T7 ON T1.CancelReason = T7.RejectCode
						WHERE     NOT EXISTS
				                          (SELECT     1
				                            FROM          FinReceiptHeader_TEMP 
				                            WHERE      ReceiptID = T1.ReceiptID)
		</createView>
</changeSet>

<changeSet id="656" author="Vinay">
		<createView viewName="FINRECEIPTDETAIL_AVIEW" replaceIfExists="true">
		Select T1.ReceiptID , T1.ReceiptSeqID , T1.ReceiptType , T1.PaymentTo , T1.PaymentType , T1.PayAgainstID  , 
			T1.Amount  , T1.FavourNumber , T1.ValueDate , T1.BankCode , T1.FavourName , T1.DepositDate , T1.DepositNo , T1.PaymentRef , 
			 T1.TransactionRef , T1.ChequeAcNo , T1.FundingAc , T1.ReceivedDate , T1.Status , T2.BankName BankCodeDesc,
			 T3.PartnerBankCode FundingAcDesc, T1.PayOrder , T1.LogKey, T3.AccountNo PartnerBankAc, T3.AcType PartnerBankAcType, T5.FeeTypeDesc
			 From FinReceiptDetail T1 LEFT JOIN 
			   BMTBankDetail T2 ON T1.BankCode = T2.BankCode LEFT JOIN 
			   PartnerBanks T3 ON T1.FundingAc  = T3.PartnerBankID LEFT JOIN 
			   manualadvise T4 ON T1.PayAgainstID  = T4.AdviseID AND T1.PaymentType = 'PAYABLE' LEFT JOIN
         FeeTypes T5 ON T4.FeeTypeID = T5.FeeTypeID

		</createView>
</changeSet>

<changeSet id="657" author="Vinay">
		<createView viewName="FINSCHEDULEDETAILS_TVIEW" replaceIfExists="true">
			Select T1.ReceiptID , T1.ReceiptSeqID , T1.ReceiptType , T1.PaymentTo , T1.PaymentType , T1.PayAgainstID  , 
			T1.Amount  , T1.FavourNumber , T1.ValueDate , T1.BankCode , T1.FavourName , T1.DepositDate , T1.DepositNo , T1.PaymentRef , 
			 T1.TransactionRef , T1.ChequeAcNo , T1.FundingAc , T1.ReceivedDate , T1.Status , T2.BankName BankCodeDesc,
			 T3.PartnerBankCode FundingAcDesc , T1.PayOrder, T1.LogKey, T3.AccountNo PartnerBankAc, T3.AcType PartnerBankAcType
			 From FinReceiptDetail_Temp T1 LEFT JOIN 
			   BMTBankDetail T2 ON T1.BankCode = T2.BankCode LEFT JOIN 
			   PartnerBanks T3 ON T1.FundingAc  = T3.PartnerBankID

		</createView>
</changeSet>
	
<changeSet id="658" author="Vinay">
		<dropColumn columnName="REMARKS" tableName="FINRECEIPTDETAIL" />
</changeSet>

<changeSet id="659" author="Vinay">
		<dropColumn columnName="REMARKS" tableName="FINRECEIPTDETAIL_TEMP" />
</changeSet>


<changeSet id="660" author="Vinay">
		<createView viewName="FINSCHEDULEDETAILS_TVIEW" replaceIfExists="true">
			 SELECT     T1.FinReference, T1.SchSeq, T1.SchDate, T1.PftOnSchDate, T1.RepayOnSchDate, T1.CpzOnSchDate, T1.RvwOnSchDate, T1.DisbOnSchDate, 
	                     T1.DownpaymentOnSchDate, T1.BalanceForPftCal, T1.BaseRate, T1.SplRate, T1.ActRate, T1.NoOfDays, T1.DayFactor, T1.ProfitCalc, T1.ProfitSchd, 
	                      T1.PrincipalSchd, T1.RepayAmount, T1.ProfitBalance, T1.DisbAmount, T1.CpzAmount, T1.DownPaymentAmount,  
	                      T1.ClosingBalance, T1.ProfitFraction, T1.PrvRepayAmount, T1.SchdPftPaid, T1.SchPftPaid, T1.SchdPriPaid, T1.SchPriPaid, 
	                      T1.Specifier, T1.DefSchdDate, T1.SchdMethod, T1.MrgRate, 
	                      T1.CalOnIndRate,T1.FeeChargeAmt, T1.CalculatedRate, T1.EarlyPaidBal, T1.EarlyPaid, T1.RefundOrWaiver, T1.WriteoffPrincipal, 
	                      T1.WriteoffProfit, T1.OrgPft, T1.OrgPri, T1.OrgEndBal, T1.OrgPlanPft, T1.FeeSchd, T1.SchdFeePaid, T1.SchdFeeOS, T1.InsSchd, T1. SchdInsPaid, 
	                       T1.AdvPftRate , T1.AdvProfit ,  T1.AdvRepayAmount , T1.AdvBaseRate , T1.AdvMargin , T1.AdvCalRate, T1.SuplRent ,  T1.IncrCost ,  T1.SuplRentPaid ,  T1.IncrCostPaid ,
	                       T1.RolloverOnSchDate,  T1.RolloverAmount,  T1.RolloverAmountPaid, T1.TDSAmount, T1.TDSPaid,
	                       T1.PftDaysBasis,T1.WriteoffIns,T1.WriteoffIncrCost,T1.WriteoffSuplRent,T1.WriteoffSchFee,T1.InsuranceAmt, T1.InstNumber, T1.BpiOrHoliday, T1.FrqDate,T1.PresentmentId,
	                       T1.PartialPaidAmt
	
					FROM         FinScheduleDetails_Temp  T1

		</createView>
</changeSet>

<changeSet id="661" author="Vinay">
		<createView viewName="FINRECEIPTDETAIL_TVIEW" replaceIfExists="true">
			Select T1.ReceiptID , T1.ReceiptSeqID , T1.ReceiptType , T1.PaymentTo , T1.PaymentType , T1.PayAgainstID  , 
			T1.Amount  , T1.FavourNumber , T1.ValueDate , T1.BankCode , T1.FavourName , T1.DepositDate , T1.DepositNo , T1.PaymentRef , 
			 T1.TransactionRef , T1.ChequeAcNo , T1.FundingAc , T1.ReceivedDate , T1.Status , T2.BankName BankCodeDesc,
			 T3.PartnerBankCode FundingAcDesc , T1.PayOrder, T1.LogKey, T3.AccountNo PartnerBankAc, T3.AcType PartnerBankAcType
			 From FinReceiptDetail_Temp T1 LEFT JOIN 
			   BMTBankDetail T2 ON T1.BankCode = T2.BankCode LEFT JOIN 
			   PartnerBanks T3 ON T1.FundingAc  = T3.PartnerBankID

		</createView>
</changeSet>
<changeSet id="662" author="Srikanth">
		<createView viewName="FINANCEMAINTENANCE_VIEW" replaceIfExists="true">
			SELECT	    T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.NumberOfTerms,
			            T1.CustID, T1.FinAmount, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.Blacklisted, T1.FeeChargeAmt, T1.InsuranceAmt,
			            T1.GraceTerms,T1.AllowGrcPeriod,T1.GrcPeriodEndDate, T1.AlwMultiDisb, T1.Defferments, T1.NextRoleCode, T1.RecordStatus, T1.RecordType,
			            T1.allowgrcpftrvw, T1.allowrepayrvw, T1.lastrepaydate, T1.lastrepaypftdate, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, 
			            T1.RcdMaintainSts, T1.MigratedFinance, T1.ClosingStatus, T1.RepayRateBasis, T1.ManualSchedule, T1.FinCurrAssetValue,  
			            T1.TakeOverFinance , T1.NextRolloverDate, T1.AvailedUnPlanEmi, T1.AvailedReAgeH, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays,
			            T1.DownPayment, T1.planEMIHAlw, T1.CalTerms, T1.RateChgAnyDay, T1.finAssetValue,
			            T2.CustCIF LovDescCustCIF, 
			            T3.FinIsAlwDifferment lovDescFinAlwDeferment, T3.FinDivision LovDescFinDivision, T3.FinCategory LovDescProductCodeName, 
			            T4.ProductCategory,
			            COALESCE(T5.RoleDesc,  FN_GET_ROLEDESC(T1.NextRoleCode)) LovDescRequestStage,
						coalesce(T9.NOINST,0) NOINST
			FROM        FinanceMain_Temp T1 INNER JOIN
			            Customers T2 ON T1.CustId = T2.CustId INNER JOIN
			            RMTFinanceTypes T3 ON T1.FinType = T3.FinType LEFT OUTER JOIN
			            SecRoles T5 ON T1.NextRoleCode = T5.RoleCd INNER JOIN
			            BMTProduct T4 ON T3.FinCategory = T4.ProductCode LEFT JOIN
                        FinPftDetails T9 ON T1.FinReference = T9.FinReference
			
			UNION ALL
			
			SELECT	    T1.FinReference, T1.FinBranch, T1.FinType, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.FinStartDate, T1.NumberOfTerms,
			            T1.CustID, T1.FinAmount, T1.MaturityDate, T1.FinRepaymentAmount, T1.FinIsActive, T1.Blacklisted, T1.FeeChargeAmt, T1.InsuranceAmt,
			            T1.GraceTerms,T1.AllowGrcPeriod,T1.GrcPeriodEndDate, T1.AlwMultiDisb, T1.Defferments, T1.NextRoleCode, T1.RecordStatus, T1.RecordType,
			            T1.allowgrcpftrvw, T1.allowrepayrvw, T1.lastrepaydate, T1.lastrepaypftdate, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, 
			            T1.RcdMaintainSts, T1.MigratedFinance, T1.ClosingStatus, T1.RepayRateBasis, T1.ManualSchedule, T1.FinCurrAssetValue,  
			            T1.TakeOverFinance , T1.NextRolloverDate, T1.AvailedUnPlanEmi, T1.AvailedReAgeH, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays,
			            T1.DownPayment, T1.planEMIHAlw, T1.CalTerms, T1.RateChgAnyDay, T1.finAssetValue,
			            T2.CustCIF LovDescCustCIF, 
			            T3.FinIsAlwDifferment lovDescFinAlwDeferment, T3.FinDivision LovDescFinDivision, T3.FinCategory LovDescProductCodeName, 
			            T4.ProductCategory,
			            COALESCE(T5.RoleDesc,  FN_GET_ROLEDESC(T1.NextRoleCode)) LovDescRequestStage,
						coalesce(T9.NOINST,0) NOINST
			FROM        FinanceMain T1 INNER JOIN
				    	Customers T2 ON T1.CustId = T2.CustId INNER JOIN
			            RMTFinanceTypes T3 ON T1.FinType = T3.FinType LEFT OUTER JOIN
			            SecRoles T5 ON T1.NextRoleCode = T5.RoleCd INNER JOIN
			            BMTProduct T4 ON T3.FinCategory = T4.ProductCode LEFT JOIN
                        FinPftDetails T9 ON T1.FinReference = T9.FinReference
			WHERE     	(NOT EXISTS (SELECT 1 Expr1 FROM FinanceMain_Temp WHERE (FinReference = T1.FinReference)))
	</createView>
</changeSet>

	<changeSet id="663" author="murthy.y">
		<renameColumn columnDataType="decimal(18,2)"
			newColumnName="PDC_SWAP_CHARGES_RECEIVABLE" oldColumnName="PDC_SWAP_CHARGESRECEIVABLE"
			tableName="CF_CONTROL_DUMP" />
		<renameColumn columnDataType="decimal(18,2)"
			newColumnName="PDC_SWAP_CHARGES_RECEIVED" oldColumnName="PDC_SWAP_CHARGESRECEIVED"
			tableName="CF_CONTROL_DUMP" />
		<renameColumn columnDataType="decimal(18,2)"
			newColumnName="PDC_SWAP_CHARGES_RECEIVABLE" oldColumnName="PDC_SWAP_CHARGESRECEIVABLE"
			tableName="CF_CONTROL_DUMP_LOG" />
		<renameColumn columnDataType="decimal(18,2)"
			newColumnName="PDC_SWAP_CHARGES_RECEIVED" oldColumnName="PDC_SWAP_CHARGESRECEIVED"
			tableName="CF_CONTROL_DUMP_LOG" />
	</changeSet>
	
	<changeSet id="664" author="murthy.y">
   		 <renameColumn columnDataType="decimal(18,2)" newColumnName="MIG_ADV_EMI_BILLED_PRINCOMP" oldColumnName="MIG_ADV_EMI_BILLED_PRIN_COMP" tableName="CF_CONTROL_DUMP"/>
   		 <renameColumn columnDataType="decimal(18,2)" newColumnName="MIG_ADV_EMI_BILLED_PRINCOMP" oldColumnName="MIG_ADV_EMI_BILLED_PRIN_COMP" tableName="CF_CONTROL_DUMP_LOG"/>
	</changeSet>
	
	<changeSet id="665" author="Kesav">
		<sql>
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'REPAY' and RBFLDNAME = 'totalOutStanding';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'REPAY' and RBFLDNAME = 'principalOutStanding';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'REPAY' and RBFLDNAME = 'totOSExcludeFees';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'REPAY' and RBFLDNAME = 'totOSIncludeFees';
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','totalOutStanding','Profit Outstanding','Decimal',18,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','principalOutStanding','Principal Outstanding','Decimal',18,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','totOSExcludeFees','Total Outstanding Instalment Excluding Fees','Decimal',18,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','REPAY','totOSIncludeFees','Total Outstanding Instalment Including Fees','Decimal',18,'1','1',' ','static,global',' ');
			
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYPAY' and RBFLDNAME = 'totalOutStanding';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYPAY' and RBFLDNAME = 'principalOutStanding';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYPAY' and RBFLDNAME = 'totOSExcludeFees';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYPAY' and RBFLDNAME = 'totOSIncludeFees';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYPAY' and RBFLDNAME = 'totalPayment';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYPAY' and RBFLDNAME = 'partialPaymentAmount';
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','totalOutStanding','Profit Outstanding','Decimal',18,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','principalOutStanding','Principal Outstanding','Decimal',18,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','totOSExcludeFees','Total Outstanding Instalment Excluding Fees','Decimal',18,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','totOSIncludeFees','Total Outstanding Instalment Including Fees','Decimal',18,'1','1',' ','static,global',' ');
			
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','totalPayment','Total Payment (Including Past Instalments and Partial Payment)','Decimal',18,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYPAY','partialPaymentAmount','Partial Payment Amount','Decimal',18,'1','1',' ','static,global',' ');
			
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYSTL' and RBFLDNAME = 'totalOutStanding';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYSTL' and RBFLDNAME = 'principalOutStanding';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYSTL' and RBFLDNAME = 'totOSExcludeFees';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYSTL' and RBFLDNAME = 'totOSIncludeFees';
			DELETE from RBFIELDDETAILS where RBMODULE = 'FEES' and RBEVENT = 'EARLYSTL' and RBFLDNAME = 'totalDueAmount';
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','totalOutStanding','Profit Outstanding','Decimal',18,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','principalOutStanding','Principal Outstanding','Decimal',18,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','totOSExcludeFees','Total Outstanding Instalment Excluding Fees','Decimal',18,'1','1',' ','static,global',' ');
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','totOSIncludeFees','Total Outstanding Instalment Including Fees','Decimal',18,'1','1',' ','static,global',' ');			
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('FEES','EARLYSTL','totalDueAmount','Total Due Amount (Payment Amount including Manual Advise)','Decimal',18,'1','1',' ','static,global',' ');		
		</sql>
	</changeSet>
	
	<changeSet id="666" author="Durgaprasad G">
		<createView viewName="TAXDOWNLOADDETAIL_VIEW" replaceIfExists="true">
		SELECT T1.POSTDATE, T1.LINKEDTRANID, T1.TRANSORDER, T1.FINEVENT, 
				T1.ACCOUNT, T1.FINREFERENCE, T1.USERBRANCH, T1.POSTSTATUS STATUS,
				T1.POSTAMOUNT,  
				T2.FINTYPE, T2.FINBRANCH, T2.FINAPPROVEDDATE, T2.CUSTID CUSTID,
				T4.ENTITYCODE, 
				T5.CUSTSHRTNAME, T5.CUSTCIF, T5.CUSTCRCPR,
				T6.CUSTADDRHNBR, T6.CUSTFLATNBR, T6.CUSTADDRSTREET, T6.CUSTADDRLINE1,
				T6.CUSTADDRLINE2, T6.CUSTADDRCITY, T6.CUSTADDRPROVINCE, T6.CUSTADDRCOUNTRY, 
				T6.CUSTADDRZIP CUSTADDRZIP, T6.LASTMNTON CUSTADDRLASTMNTON, T6.CUSTPOBOX, 
				T7.TAXNUMBER CUSTOMERGSTIN, T7.ADDRLINE1 TAXADDRLINE1, T7.ADDRLINE2 TAXADDRLINE2,
				T7.ADDRLINE3 TAXADDRLINE3, T7.ADDRLINE4 TAXADDRLINE4, T7.COUNTRY TAXCOUNTRY, 
				T7.PROVINCE TAXPROVINCE, T7.CITY TAXCITY, T7.PINCODE TAXPINCODE, T7.LASTMNTON TAXLASTMNTON,
				T8.CUSTCIF TAXCUSTCIF, T8.CUSTSHRTNAME TAXCUSTSHRTNAME, T8.CUSTCRCPR TAXCUSTCRCPR, 
				T9.ACCADDLVAR1 HSNSACCODE, T9.ACCADDLVAR2 NATUREOFSERVICE, T9.aCCADDLCHAR1 REVERSECHARGEAPPLICABLE,
	      		T9.TAXAPPLICABLE, 
				 '' ORIGINALINVOICENO, T10.CCYMINORCCYUNITS
				FROM POSTINGS T1 
				INNER JOIN FINANCEMAIN T2 ON T1.FINREFERENCE = T2.FINREFERENCE 
				INNER JOIN RMTFINANCETYPES T3 ON T2.FINTYPE = T3.FINTYPE 
				INNER JOIN SMTDIVISIONDETAIL T4 ON T3.FINDIVISION = T4.DIVISIONCODE
				INNER JOIN CUSTOMERS T5 ON T5.CUSTID = T2.CUSTID
				INNER JOIN CUSTOMERAddresses T6 ON T6.CUSTID = T2.CUSTID And CustAddrPriority = 5
				LEFT JOIN FINTAXDETAIL T7 ON T7.FINREFERENCE = T1.FINREFERENCE 
				LEFT JOIN CUSTOMERS T8 ON T8.CUSTID = T7.TAXCUSTID
				INNER JOIN RMTACCOUNTTYPES T9 ON T9.ACTYPE = T1.ACCOUNTTYPE 
				INNER JOIN RMTCURRENCIES T10 ON T10.CCYCODE = T1.ACCCY
		</createView>
		</changeSet>
		
		<changeSet id="667" author="durgaprasasd g">
		 <dropColumn tableName="LEA_GST_TMP_DTL" columnName="BFLGSTINNO"/>
		</changeSet>
		
		<changeSet id="668" author="durgaprasad g">
		<dropColumn tableName="TAXDOWNLOADDETAIL" columnName="BFLGSTINNO"/>
		</changeSet>

	<changeSet id="669" author="Siva">
		<addColumn tableName="FinServiceInstruction_Temp">
			<column name="GrcPftFrq" type="varchar(5)" />
		</addColumn>
		<addColumn tableName="FinServiceInstruction_Temp">
			<column name="GrcRvwFrq" type="varchar(5)" />
		</addColumn>
		<addColumn tableName="FinServiceInstruction_Temp">
			<column name="GrcCpzFrq" type="varchar(5)" />
		</addColumn>
		<addColumn tableName="FinServiceInstruction_Temp">
			<column name="RepayPftFrq" type="varchar(5)" />
		</addColumn>
		<addColumn tableName="FinServiceInstruction_Temp">
			<column name="RepayRvwFrq" type="varchar(5)" />
		</addColumn>
		<addColumn tableName="FinServiceInstruction_Temp">
			<column name="RepayCpzFrq" type="varchar(5)" />
		</addColumn>
	</changeSet>

	<changeSet id="670" author="Siva">
		<addColumn tableName="FinServiceInstruction">
			<column name="GrcPftFrq" type="varchar(5)" />
		</addColumn>
		<addColumn tableName="FinServiceInstruction">
			<column name="GrcRvwFrq" type="varchar(5)" />
		</addColumn>
		<addColumn tableName="FinServiceInstruction">
			<column name="GrcCpzFrq" type="varchar(5)" />
		</addColumn>
		<addColumn tableName="FinServiceInstruction">
			<column name="RepayPftFrq" type="varchar(5)" />
		</addColumn>
		<addColumn tableName="FinServiceInstruction">
			<column name="RepayRvwFrq" type="varchar(5)" />
		</addColumn>
		<addColumn tableName="FinServiceInstruction">
			<column name="RepayCpzFrq" type="varchar(5)" />
		</addColumn>
	</changeSet>
		
</databaseChangeLog>