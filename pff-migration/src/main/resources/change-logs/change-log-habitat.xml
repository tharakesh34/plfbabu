<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />

	<changeSet id="pre_run_for_pgp" author="Adarsh" runAlways="true" dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>
		<changeSet id="1.1" author="rahul.r">
		<sql>
			<![CDATA[
				DELETE FROM CREDITREVIEWDATA;
				DELETE FROM CREDITREVIEWCONFIG;
			]]>
		</sql>
	</changeSet>
	<changeSet id="2.1" author="rahul.r">
		<sql>
			<![CDATA[
				INSERT INTO CREDITREVIEWCONFIG (ID,ELIGIBILITYMETHOD,TEMPLATENAME,TEMPLATEVERSION,FIELDKEYS,FIELDS) VALUES (1,'DEFAULT','DEFAULT.xlsx',1,'{"FINAL_OFFER": "TENOR,ROI,CUST_OBLIGATION,FIN_ASSET_VALUE","APP":"CUST_FULL_NAME,CUST_OBLIGATION,TENOR,ROI,FIN_ASSET_VALUE","CO_APP_SAL":"CO_APP_CUST_FULL_NAME,CO_APP_CUST_OBLIGATION,CO_APP_TENOR,CO_APP_ROI,CO_APP_FIN_ASSET_VALUE","CO_APP_SEP":"CO_APP_CUST_FULL_NAME,CO_APP_CUST_OBLIGATION,CO_APP_TENOR,CO_APP_ROI,CO_APP_FIN_ASSET_VALUE","CO_APP_SENP":"CO_APP_CUST_FULL_NAME,CO_APP_CUST_OBLIGATION,CO_APP_TENOR,CO_APP_ROI,CO_APP_FIN_ASSET_VALUE"}','{
				"APP" : "A15,A16,A17,A18,A19,A20,A21,A22,A23,A24,A25,A26,A27,B15,B16,B17,B18,B19,B20,B21,B22,B23,B24,B25,B26,B27,B28,B29,B30,C3,C4,C5,C6,C7,C8,C9,C15,C16,C17,C18,C19,C20,C21,C22,C23,C24,C25,C26,C34,C35,C39,C40,C45,C46,C47,48,C49,C50,C61,C62,C63,C64,C65,C67,C82,C83,D3,D4,D5,D6,D7,D8,D9,D15,D16,D17,D18,D19,D20,D21,D22,D23,D24,D25,D26,D34,D35,D39,D40,D45,D46,D47,48,D49,D50,D55,D56,D61,D62,D63,D64,D65,D67,E15,E16,E17,E18,E19,E20,E21,E22,E23,E24,E25,E26,E45,E46,E47,48,E49,E50,F7,F13,F15,F16,F17,F18,F19,F20,F21,F22,F23,F24,F25,F26,F34,F35,F39,J55,J57,J60,J61,J62,J63"
				, "CO_APP_SENP" : "A15,A16,A17,A18,A19,A20,A21,A22,A23,A24,A25,A26,A27,B15,B16,B17,B18,B19,B20,B21,B22,B23,B24,B25,B26,B27,B28,B29,B30,C3,C4,C5,C6,C7,C8,C9,C15,C16,C17,C18,C19,C20,C21,C22,C23,C24,C25,C26,C34,C35,C39,C40,C45,C46,C47,48,C49,C50,C61,C62,C63,C64,C65,C67,C82,C83,D3,D4,D5,D6,D7,D8,D9,D15,D16,D17,D18,D19,D20,D21,D22,D23,D24,D25,D26,D34,D35,D39,D40,D45,D46,D47,48,D49,D50,D55,D56,D61,D62,D63,D64,D65,D67,E15,E16,E17,E18,E19,E20,E21,E22,E23,E24,E25,E26,E45,E46,E47,48,E49,E50,F7,F13,F15,F16,F17,F18,F19,F20,F21,F22,F23,F24,F25,F26,F34,F35,F39,J55,J57,J60,J61,J62,J63"
				, "CO_APP_SAL": "A15,A16,A17,A18,A19,A20,A21,A22,A23,A24,A25,A26,A27,B15,B16,B17,B18,B19,B20,B21,B22,B23,B24,B25,B26,B27,B28,B29,B30,C3,C4,C5,C6,C7,C8,C9,C15,C16,C17,C18,C19,C20,C21,C22,C23,C24,C25,C26,C34,C35,C39,C40,C45,C46,C47,48,C49,C50,C61,C62,C63,C64,C65,C67,C82,C83,D3,D4,D5,D6,D7,D8,D9,D15,D16,D17,D18,D19,D20,D21,D22,D23,D24,D25,D26,D34,D35,D39,D40,D45,D46,D47,48,D49,D50,D55,D56,D61,D62,D63,D64,D65,D67,E15,E16,E17,E18,E19,E20,E21,E22,E23,E24,E25,E26,E45,E46,E47,48,E49,E50,F7,F13,F15,F16,F17,F18,F19,F20,F21,F22,F23,F24,F25,F26,F34,F35,F39,J55,J57,J60,J61,J62,J63"
				, "CO_APP_SEP" : "A15,A16,A17,A18,A19,A20,A21,A22,A23,A24,A25,A26,A27,B15,B16,B17,B18,B19,B20,B21,B22,B23,B24,B25,B26,B27,B28,B29,B30,C3,C4,C5,C6,C7,C8,C9,C15,C16,C17,C18,C19,C20,C21,C22,C23,C24,C25,C26,C34,C35,C39,C40,C45,C46,C47,48,C49,C50,C61,C62,C63,C64,C65,C67,C82,C83,D3,D4,D5,D6,D7,D8,D9,D15,D16,D17,D18,D19,D20,D21,D22,D23,D24,D25,D26,D34,D35,D39,D40,D45,D46,D47,48,D49,D50,D55,D56,D61,D62,D63,D64,D65,D67,E15,E16,E17,E18,E19,E20,E21,E22,E23,E24,E25,E26,E45,E46,E47,48,E49,E50,F7,F13,F15,F16,F17,F18,F19,F20,F21,F22,F23,F24,F25,F26,F34,F35,F39,J55,J57,J60,J61,J62,J63"
				, "FINAL_OFFER": "C8,C9,C10,I5"
				}');
			]]>
		</sql>
	</changeSet>
	<changeSet id="3" author="rahul.r">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_COLUMN  WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT'));
				DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT');
				DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT';
								
				INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'DISB_DEFAULT_IMPORT','Disbursement Response File.',12,'Sheet1',null,null,',',1,1, null, null, null,'C','/opt/Habitat/PFF/BASE/disbursement/response','DEFAULT_PAY','.xls',0,null,null,'0 0/5 * * * ?','0','null',1,1);
				INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE),(Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_DEFAULT_IMPORT'),'DISBURSEMENT_REQUESTS',2,'ID',null,null,null,null,null,null,NULL,2,0,0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'RESP_BATCH_ID',        0, 'N', NULL, NULL, '${FILE_ID}', NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'ID',                   0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'BENFICIARY_ACCOUNT',   0, 'N', NULL, NULL, NULL, NULL, '1', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'DISBURSEMENT_DATE',    0, 'N', NULL, NULL, NULL, NULL, '2', NULL, NULL, NULL, 'yyyyMMdd', 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'CUSTCIF',              0, 'N', NULL, NULL, NULL, NULL, '3', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'BENFICIARY_NAME',      0, 'N', NULL, NULL, NULL, NULL, '4', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'PAYMENT_DETAIL6',      0, 'N', NULL, NULL, NULL, NULL, '5', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'IFSC_CODE',            0, 'N', NULL, NULL, NULL, NULL, '6', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'DISBURSEMENT_TYPE',    0, 'N', NULL, NULL, NULL, NULL, '7', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'DISBURSEMENT_AMOUNT',  0, 'N', NULL, NULL, NULL, NULL, '8', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'PAYMENT_DETAIL1',      0, 'N', NULL, NULL, NULL, NULL, '9', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'PAYMENT_DETAIL2',      0, 'N', NULL, NULL, NULL, NULL, '10', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'PAYMENT_DETAIL3',      0, 'N', NULL, NULL, NULL, NULL, '11', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'PAYMENT_DETAIL4',      0, 'N', NULL, NULL, NULL, NULL, '12', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'DRAWEE_LOCATION',      0, 'N', NULL, NULL, NULL, NULL, '13', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'PRINT_LOCATION',       0, 'N', NULL, NULL, NULL, NULL, '14', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'BENFICIARY_ADDRESS1',  0, 'N', NULL, NULL, NULL, NULL, '15', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'BENFICIARY_ADDRESS2',  0, 'N', NULL, NULL, NULL, NULL, '16', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'BENFICIARY_ADDRESS3',  0, 'N', NULL, NULL, NULL, NULL, '17', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'BENFICIARY_ADDRESS4',  0, 'N', NULL, NULL, NULL, NULL, '18', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'CHEQUE_NUMBER',        0, 'N', NULL, NULL, NULL, NULL, '19', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'BENFICIRY_EMAIL',      0, 'N', NULL, NULL, NULL, NULL, '20', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'BENFICIARY_ADDRESS5',  0, 'N', NULL, NULL, NULL, NULL, '21', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'TRANSACTIONREF',       0, 'N', NULL, NULL, NULL, NULL, '22', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'STATUS',               0, 'N', NULL, NULL, NULL, NULL, '23', NULL, NULL, NULL, NULL, 'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'REMARKS',              0, 'N', NULL, NULL, NULL, NULL, '24', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'DISBURSEMENT_REQUESTS' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'DISB_DEFAULT_IMPORT')), 'PAYMENT_DATE',         0, 'N', NULL, NULL, NULL, NULL, '25', NULL, NULL, NULL, 'yyyyMMdd', 'O');
			]]>
		</sql>
	</changeSet>
	
	
	<changeSet id="5" author="rahul.r">
		<sql>
			<![CDATA[
			UPDATE CREDITREVIEWCONFIG SET FIELDS='{
				"APP" : "A15,A16,A17,A18,A19,A20,A21,A22,A23,A24,A25,A26,A27,B15,B16,B17,B18,B19,B20,B21,B22,B23,B24,B25,B26,B27,B28,B29,B30,C3,C4,C5,C6,C7,C8,C9,C15,C16,C17,C18,C19,C20,C21,C22,C23,C24,C25,C26,C34,C35,C39,C40,C45,C46,C47,C48,C49,C50,C61,C62,C63,C64,C65,C67,C82,C83,D3,D4,D5,D6,D7,D8,D9,D15,D16,D17,D18,D19,D20,D21,D22,D23,D24,D25,D26,D34,D35,D39,D40,D45,D46,D47,D48,D49,D50,D55,D56,D61,D62,D63,D64,D65,D67,E15,E16,E17,E18,E19,E20,E21,E22,E23,E24,E25,E26,E45,E46,E47,E48,E49,E50,F7,F13,F15,F16,F17,F18,F19,F20,F21,F22,F23,F24,F25,F26,F34,F35,F39,J55,J57,J60,J61,J62,J63"
				, "CO_APP" : "A15,A16,A17,A18,A19,A20,A21,A22,A23,A24,A25,A26,A27,B13,B15,B16,B17,B18,B19,B20,B21,B22,B23,B24,B25,B26,B27,B28,B29,B30,C3,C4,C5,C6,C7,C8,C9,C13,C15,C16,C17,C18,C19,C20,C21,C22,C23,C24,C25,C26,C33,C34,C38,C39,C44,C45,C46,C47,C48,C50,C54,C55,C59,C60,C61,C62,C63,C65,C80,C81,D3,D4,D5,D6,D7,D8,D9,D15,D16,D17,D18,D19,D20,D21,D22,D23,D24,D25,D26,D33,D34,D38,D39,D44,D45,D46,D47,D48,D49,D54,D55,D59,D60,D61,D62,D63,D65,E15,E16,E17,E18,E19,E20,E21,E22,E23,E24,E25,E26,E44,E45,E46,E47,E48,E49,F7,F13,F15,F16,F17,F18,F19,F20,F21,F22,F23,F24,F25,F26,F33,F34,F38"
				, "FINAL_OFFER": "C8,C9,C10,I5,I10"
				}',protectedcells='{"FINAL_OFFER": "I10"}' WHERE ELIGIBILITYMETHOD='DEFAULT';
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="6" author="rahul.r">
		<sql>
			<![CDATA[
			Delete from SMTPARAMETERS where SYSPARMCODE ='CREDIT_ELIGIBILITY_TOTAL';
			Insert into SMTPARAMETERS (SYSPARMCODE,SYSPARMDESC,SYSPARMTYPE,SYSPARMMAINT,SYSPARMVALUE,SYSPARMLENGTH,SYSPARMDEC,SYSPARMLIST,SYSPARMVALDMOD,SYSPARMDESCRIPTION,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID) values ('CREDIT_ELIGIBILITY_TOTAL','Eligibility total in credit review sheet','String',1,'I10',10,0,null,null,null,1,1000,to_date('01-12-22','DD-MM-RR'),'Approved',null,null,null,null,null,0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="7" author="sandeepkumar.m">
		<sql>
			<![CDATA[
			
					DELETE FROM DATA_ENGINE_COLUMN WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT'));
					DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID IN (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT');
					DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT';
					
                    INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'GL_TRANSACTION_SUMMARY_EXPORT', 'Transaction Summary Report', 2, NULL, NULL, '', ',' , 0, 0, NULL, 'LINK, BLDAT, BLART, BUKRS, BUDAT, MONAT, CURRCY, XBLNR, BKTXT', '', 'A', '/opt/Habitat/PFF/BASE/SAPGL', '${ENTITY_CODE}', '.csv', 0, NULL, NULL, NULL, 0, NULL, 1, 1);
					INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT'), 'TRANSACTION_SUMMARY_REPORT',  0, 'ID', 'ENTITY=:ENTITY', NULL, NULL, NULL, NULL, 0, 0, 0, 0, 0);
					           
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT')), 'LINK', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT')), 'BLDAT', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:YYYYMMDD', 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT')), 'BLART', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT')), 'BUKRS', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT')), 'BUDAT', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:YYYYMMDD', 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT')), 'MONAT', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT')), 'CURRCY', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT')), 'XBLNR', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'GL_TRANSACTION_SUMMARY_EXPORT')), 'BKTXT', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
		             
		           ]]>
			  </sql>
		</changeSet>

	<changeSet id="8" author="sandeepkumar.m">
		<sql>
			<![CDATA[

					DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'GL_TRANSACTION_EXPORT'));
					DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'GL_TRANSACTION_EXPORT');
					DELETE FROM DATA_ENGINE_CONFIG where Name = 'GL_TRANSACTION_EXPORT';
					
					INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'GL_TRANSACTION_EXPORT', 'Transaction Detail Report', 2, NULL, NULL, '', ',' , 0, 0, NULL, 'LINK, BSCHL, HKONT, UMSKZ, WRBTR, GSBER, BUPLA, KOSTL, PRCTR, ZUONR, SGTXT', '', 'A', '/opt/Habitat/PFF/BASE/SAPGL', '${ENTITY_CODE}', '.csv', 0, NULL, NULL, NULL, 0, NULL, 1, 1);
					INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT'), 'TRANSACTION_DETAIL_REPORT_VIEW',  0, 'ID', 'ENTITY=:ENTITY', NULL, NULL, NULL, NULL, 0, 0, 0, 0, 0);
					                   
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'LINK', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'BSCHL', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'HKONT', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'UMSKZ', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'WRBTR', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'GSBER', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'BUPLA', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'KOSTL', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'PRCTR', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'ZUONR', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');
					INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (Select Id FROM DATA_ENGINE_TABLE WHERE CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'GL_TRANSACTION_EXPORT')), 'SGTXT', 0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, 'O');

                   ]]>
			   </sql>
		 </changeSet>
		 <changeSet id="9" author="rahul.r">
			<sql>
				<![CDATA[
					UPDATE RMTFINANCETYPES SET DEVELOPERFINANCE = 0;
				]]>
			</sql>
		</changeSet>
		<changeSet id="10" author="rahul.r">
			<sql>
				<![CDATA[
					Update MASTER_DEF Set proceedexception=1 Where Key_type in ('PAN','AADHAAR');
				]]>
			</sql>
		</changeSet>
		<changeSet id="11" author="rahul.r">
			<sql>
				<![CDATA[
					UPDATE CIBIL_MEMBER_DETAILS SET MEMBER_ID='HF63639988_UATC2CNPE' ,MEMBER_PASSWORD='h8ksYs@marshhuhfbw',FILE_FORMATE='JSON';
				]]>
			</sql>
		</changeSet>
		<changeSet id="12" author="rahul.r">
			<sql>
				<![CDATA[
					DELETE FROM CIBIL_DOCUMENT_TYPES_MAPPING;
	
					INSERT INTO CIBIL_DOCUMENT_TYPES_MAPPING (CODE, DOCTYPECODE) VALUES ('01','03');
					INSERT INTO CIBIL_DOCUMENT_TYPES_MAPPING (CODE, DOCTYPECODE) VALUES ('02','02');
					INSERT INTO CIBIL_DOCUMENT_TYPES_MAPPING (CODE, DOCTYPECODE) VALUES ('03','VC');
					INSERT INTO CIBIL_DOCUMENT_TYPES_MAPPING (CODE, DOCTYPECODE) VALUES ('04','DV');
					INSERT INTO CIBIL_DOCUMENT_TYPES_MAPPING (CODE, DOCTYPECODE) VALUES ('05','RC');
					INSERT INTO CIBIL_DOCUMENT_TYPES_MAPPING (CODE, DOCTYPECODE) VALUES ('06','01');
				]]>
			</sql>
		</changeSet>
		<changeSet id="13" author="rahul.r">
			<sql>
				<![CDATA[
					DELETE FROM CIBIL_PHONE_TYPES_MAPPING;

					INSERT INTO CIBIL_PHONE_TYPES_MAPPING (CODE, PHONETYPECODE) VALUES ('01','MOBILE');
					INSERT INTO CIBIL_PHONE_TYPES_MAPPING (CODE, PHONETYPECODE) VALUES ('01','MOB1');
					INSERT INTO CIBIL_PHONE_TYPES_MAPPING (CODE, PHONETYPECODE) VALUES ('02','MOB2');
					INSERT INTO CIBIL_PHONE_TYPES_MAPPING (CODE, PHONETYPECODE) VALUES ('03','OFF');
				]]>
			</sql>
		</changeSet>
		<changeSet id="14" author="rahul.r">
			<sql>
				<![CDATA[
					DELETE FROM CIBIL_ADDRESS_TYPES_MAPPING;

					INSERT INTO CIBIL_ADDRESS_TYPES_MAPPING (CODE, SEGMENT_TYPE, ADDRESS_TYPE) VALUES ('01','RETAIL','PERMADR');
					INSERT INTO CIBIL_ADDRESS_TYPES_MAPPING (CODE, SEGMENT_TYPE, ADDRESS_TYPE) VALUES ('02','RETAIL','PRSNADR');
					INSERT INTO CIBIL_ADDRESS_TYPES_MAPPING (CODE, SEGMENT_TYPE, ADDRESS_TYPE) VALUES ('03','RETAIL','BUSIADR');
				]]>
			</sql>
		</changeSet>
		<changeSet id="15" author="rahul.r">
			<sql>
				<![CDATA[
					DELETE FROM CIBIL_STATES_MAPPING;

					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('01','RETAIL','JK','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('02','RETAIL','HP','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('03','RETAIL','PB','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('04','RETAIL','CH','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('06','RETAIL','HR','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('07','RETAIL','DL','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('08','RETAIL','RJ','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('09','RETAIL','UP','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('10','RETAIL','BR','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('11','RETAIL','SK','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('12','RETAIL','AR','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('13','RETAIL','NL','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('14','RETAIL','MN','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('15','RETAIL','MZ','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('16','RETAIL','TR','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('17','RETAIL','ML','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('18','RETAIL','AS','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('19','RETAIL','WB','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('20','RETAIL','JH','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('21','RETAIL','OD','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('22','RETAIL','CG','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('23','RETAIL','MP','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('24','RETAIL','GJ','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('25','RETAIL','DD','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('26','RETAIL','DNH','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('27','RETAIL','MH','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('28','RETAIL','AD','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('29','RETAIL','KA','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('30','RETAIL','GA','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('31','RETAIL','LD','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('32','RETAIL','KL','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('33','RETAIL','TN','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('34','RETAIL','PY','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('35','RETAIL','AN','IN','',0,0);
					INSERT INTO CIBIL_STATES_MAPPING (CODE, SEGMENT_TYPE, CPPROVINCE,COUNTRY,DESCRIPTION,FIRSTDIGITPREFIXMIN,FIRSTDIGITPREFIXMAX) VALUES ('36','RETAIL','TS','IN','',0,0);
				]]>
			</sql>
		</changeSet>
		
		<changeSet id="16" author="rahul.r">
		<createTable tableName="OGL_TRANSACTIONS_QUEUE">
		    <column name="Id" type="bigint" >
			 	<constraints nullable="false"/>
			</column>
        	<column name="LinkedTranID" type="bigint">
        		<constraints nullable="false"/>
        	</column>
        	<column name="Reference" type="varchar(20)"/>
			<column name="ThreadId" type="int" defaultValueNumeric="0"/> 
			<column name="StartTime" type="datetime"/>
			<column name="EndTime" type="datetime"/>
			<column name="Progress" type="int" defaultValueNumeric="0">
				<constraints nullable="false"/> 
			</column>
		</createTable>
 	</changeSet>  
	    
	<changeSet id="17" author="rahul.r">
		<createTable tableName="OGL_TRANSACTIONS">
			<column name="ID" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="LinkedTranId" type="bigint" />
			<column name="FinId" type="bigint"/>
            <column name="Event" type="varchar(20)" />
			<column name="DocumentDate" type="datetime"/>
			<column name="PostingDate" type="datetime"/>
			<column name="CompanyCode" type="varchar(20)" />
			<column name="Currency" type="varchar(5)"/>
			<column name="Reference" type="varchar(20)"/>
			<column name="EventDesc" type="varchar(50)" />
			<column name="TranType" type="varchar(20)"/>
			<column name="BankBranch" type="varchar(12)"/>
			<column name="CustId" type="varchar(20)" />
            <column name="GLAccount" type="varchar(50)" />
			<column name="DebitAmount" type="decimal(18,0)" />
			<column name="CreditAmount" type="decimal(18,0)" />
			<column name="DrOrCr" type="varchar(1)" /> 
			<column name="CostCenter" type="varchar(20)" />
			<column name="Project" type="varchar(20)" />
			<column name="ProfitCentre" type="varchar(20)" />
			<column name="Assignment" type="varchar(20)" />
			<column name="Remarks" type="varchar(150)" />
		</createTable>
	</changeSet>
	
	<changeSet id="18" author="rahul.r">
		<createTable tableName="OGL_TRANSACTIONS_FILE">
			<column name="ID" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="LinkedTranId" type="bigint" />
			<column name="FinId" type="bigint"/>
            <column name="Event" type="varchar(20)" />
			<column name="DocumentDate" type="datetime"/>
			<column name="PostingDate" type="datetime"/>
			<column name="CompanyCode" type="varchar(20)" />
			<column name="Currency" type="varchar(5)"/>
			<column name="Reference" type="varchar(20)"/>
			<column name="EventDesc" type="varchar(50)" />
			<column name="TranType" type="varchar(20)"/>
			<column name="BankBranch" type="varchar(12)"/>
			<column name="CustId" type="varchar(20)" />
            <column name="GLAccount" type="varchar(50)" />
			<column name="DebitAmount" type="decimal(18,0)" />
			<column name="CreditAmount" type="decimal(18,0)" />
			<column name="DrOrCr" type="varchar(1)" /> 
			<column name="CostCenter" type="varchar(20)" />
			<column name="Project" type="varchar(20)" />
			<column name="ProfitCentre" type="varchar(20)" />
			<column name="Assignment" type="varchar(20)" />
			<column name="Remarks" type="varchar(150)" />
		</createTable>
	</changeSet>
	
	<changeSet id="19" author="rahul.r">
		<createTable tableName="OGL_TRANSACTIONS_LOG">
			<column name="ID" type="bigint" autoIncrement="true">
				<constraints nullable="false" />
			</column>
			<column name="LinkedTranId" type="bigint" />
			<column name="FinId" type="bigint"/>
            <column name="Event" type="varchar(20)" />
			<column name="DocumentDate" type="datetime"/>
			<column name="PostingDate" type="datetime"/>
			<column name="CompanyCode" type="varchar(20)" />
			<column name="Currency" type="varchar(5)"/>
			<column name="Reference" type="varchar(20)"/>
			<column name="EventDesc" type="varchar(50)" />
			<column name="TranType" type="varchar(20)"/>
			<column name="BankBranch" type="varchar(12)"/>
			<column name="CustId" type="varchar(20)" />
            <column name="GLAccount" type="varchar(50)" />
			<column name="DebitAmount" type="decimal(18,0)" />
			<column name="CreditAmount" type="decimal(18,0)" />
			<column name="DrOrCr" type="varchar(1)" /> 
			<column name="CostCenter" type="varchar(20)" />
			<column name="Project" type="varchar(20)" />
			<column name="ProfitCentre" type="varchar(20)" />
			<column name="Assignment" type="varchar(20)" />
			<column name="Remarks" type="varchar(150)" /> 
		</createTable>
	</changeSet>  
	
	<changeSet id="20" author="rahul.r">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_LOG WHERE STATUSID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='OGL_TRANSACTIONS');
 				DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='OGL_TRANSACTIONS');
 				DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='OGL_TRANSACTIONS';
 				
	            DELETE FROM DATA_ENGINE_COLUMN  WHERE TABLEID IN (SELECT ID FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS'));
                DELETE FROM DATA_ENGINE_TABLE WHERE CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS');
                DELETE FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS';

                INSERT INTO DATA_ENGINE_CONFIG (ID, NAME, DESCRIPTION, PARSER, WORKSHEET, TEXTQUALIFIER, ROWDELIMITER, COLUMNDELIMITER, STARTINGROW, SKIPHEADERROW, FIELDNAMES, HEADER, TRAILER, UPLOADLOCATION, UPLOADPATH, FILEPREFIXNAME, FILEEXTENSION, FILESEQUENCENO, LASTPROCESSEDON, FILENAMEFORMAT, CRONEXPRESSION, NOTIFICATIONSTATUSEMAIL, POSTEVENT, BACKUPFILE, ACTIVE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG), 'OGL_TRANSACTIONS', 'OGL Transactions on post Date', 3, NULL, NULL, NULL, ',', 0, 0, NULL, 'ROW:{LinkedTranId,Event,DocumentDate,PostingDate,CompanyCode,Currency,Reference,EventDesc,TranType,BankBranch,CustId,GLAccount,DebitAmount,CreditAmount,CostCenter,Project,ProfitCentre,Assignment,Remarks}', NULL, 'A', '/opt/Habitat/PFF/BASE/DailyLedger', 'DAILY_LEDGER_', '.xlsx', 0, CURRENT_TIMESTAMP, '${ddMMYYYYHms}', null, '0', 'COPY_TO_SFTP', 1, 1);

                INSERT INTO DATA_ENGINE_TABLE (ID, CONFIGID, NAME, OPERATION, KEYFIELDS, FILTER, STATUSUPDATE, SKIPROWS, IDENTIFIER, DESCRIPTION, STARTINDEX, ENDINDEX, RECORDLENGTH, MULTIROW, HEADERTABLE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS'), 'OGL_TRANSACTIONS_FILE', 0, 'ID', 'ID IN (:ID)', NULL, NULL, NULL, 'OGL Transactions on post Date', NULL, NULL, 0, 0, 0);
				
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'LinkedTranId',0, 'N', NULL, NULL, NULL, NULL, '0', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'Event',0, 'N', NULL, NULL, NULL, NULL, '1', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'DocumentDate',0, 'N', NULL, NULL, NULL, NULL, '2', NULL, NULL, NULL,'DATE:dd.MM.yyyy', 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'PostingDate',0, 'N', NULL, NULL, NULL, NULL, '3', NULL, NULL, NULL,'DATE:dd.MM.yyyy', 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'CompanyCode',0, 'N', NULL, NULL, NULL, NULL, '4', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'Currency',0, 'N', NULL, NULL, NULL, NULL, '5', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'Reference',0, 'N', NULL, NULL, NULL, NULL, '6', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'EventDesc',0, 'N', NULL, NULL, NULL, NULL, '7', NULL, NULL, NULL,NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'TranType',0, 'N', NULL, NULL, NULL, NULL, '8', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'BankBranch',0, 'N', NULL, NULL, NULL, NULL, '9', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'CustId',0, 'N', NULL, NULL, NULL, NULL, '10', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'GLAccount',0, 'N', NULL, NULL, NULL, NULL, '11', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'DebitAmount',0, 'N', NULL, NULL, NULL, NULL, '12', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'CreditAmount',0, 'N', NULL, NULL, NULL, NULL, '13', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'CostCenter',0, 'N', NULL, NULL, NULL, NULL, '14', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'Project',0, 'N', NULL, NULL, NULL, NULL, '15', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'ProfitCentre',0, 'N', NULL, NULL, NULL, NULL, '16', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'Assignment',0, 'N', NULL, NULL, NULL, NULL, '17', NULL, NULL, NULL, NULL, 'O');
				INSERT INTO DATA_ENGINE_COLUMN (ID, TABLEID, NAME, SKIP, SEQTYPE, SEQOBJECT, DEFAULTVALUE, DERIVEDFROM, REFERENCECOLUMN, STARTINDEX, ENDINDEX, RULEFORVALUE, QUERYFORVALUE, FORMAT, CONSTRAINTTYPE) VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN), (SELECT ID FROM DATA_ENGINE_TABLE WHERE NAME = 'OGL_TRANSACTIONS_FILE' AND CONFIGID = (SELECT ID FROM DATA_ENGINE_CONFIG WHERE NAME = 'OGL_TRANSACTIONS')), 'Remarks',0, 'N', NULL, NULL, NULL, NULL, '18', NULL, NULL, NULL, NULL, 'O');
			]]>
		</sql>
	</changeSet>
	<changeSet id="21" author="rahul.r">
		<sql>
			<![CDATA[
				Delete FROM RBFieldDetails WHERE RBModule = 'LTVRULE' AND RBEvent = 'LTVRULE' and rbfldname='fm_finCurrentAssetValue';
				Delete FROM RBFieldDetails WHERE RBModule = 'LTVRULE' AND RBEvent = 'LTVRULE' and rbfldname='fm_finAssetValue';
				Delete From RBFieldDetails WHERE RBModule = 'LTVRULE' AND RBEvent = 'LTVRULE' and rbfldname='fm_finRequestedAmount';
								
				INSERT INTO RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('LTVRULE','LTVRULE','fm_finCurrentAssetValue','Current Loan Amount','decimal',18,'0','1',NULL,'static,global',null);
				INSERT INTO RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('LTVRULE','LTVRULE','fm_finAssetValue','Total Loan Amount','decimal',18,'0','1',NULL,'static,global',null);
				INSERT INTO RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('LTVRULE','LTVRULE','fm_finRequestedAmount','Requested Loan Amount','decimal',18,'0','1',NULL,'static,global',null);
			]]>
		</sql>
	</changeSet>
	<changeSet id="22" author="sandeepkuamr.m">
			<sql>
				<![CDATA[
					Update EODCONFIG Set INEXTMNTH = 0;
				]]>
			</sql>
	</changeSet>
	<changeSet id="23" author="rahul.r">
			<sql>
				<![CDATA[
					UPDATE JOB_DETAILS SET ENABLED=1,PORT=null, HOST_NAME=null WHERE JOBKEY='NOTIFICATION_SMS_JOB';
				]]>
			</sql>
	</changeSet>
	<changeSet id="24" author="rahul.r">
			<sql>
				<![CDATA[
					INSERT INTO CIBIL_ADDRESS_TYPES_MAPPING (CODE,SEGMENT_TYPE,ADDRESS_TYPE) VALUES ('04','RETAIL','CURRES');
					INSERT INTO CIBIL_ADDRESS_TYPES_MAPPING (CODE,SEGMENT_TYPE,ADDRESS_TYPE) VALUES ('04','RETAIL','PROPADR');
				]]>
			</sql>
	</changeSet>
	<changeSet id="25" author="rahul.r">
			<sql>
				<![CDATA[
					UPDATE CREDITREVIEWCONFIG SET FIELDKEYS='{"FINAL_OFFER": "TENOR,ROI,CUST_OBLIGATION_GREATER12,FIN_ASSET_VALUE","APP":"CUST_FULL_NAME,CUST_OBLIGATION_GREATER12,TENOR,ROI,FIN_ASSET_VALUE","CO_APP_SAL":"CO_APP_CUST_FULL_NAME,CO_APP_CUST_OBLIGATION_GREATER12,CO_APP_TENOR,CO_APP_ROI,CO_APP_FIN_ASSET_VALUE","CO_APP_SEP":"CO_APP_CUST_FULL_NAME,CO_APP_CUST_OBLIGATION_GREATER12,CO_APP_TENOR,CO_APP_ROI,CO_APP_FIN_ASSET_VALUE","CO_APP_SENP":"CO_APP_CUST_FULL_NAME,CO_APP_CUST_OBLIGATION_GREATER12,CO_APP_TENOR,CO_APP_ROI,CO_APP_FIN_ASSET_VALUE"}' WHERE ELIGIBILITYMETHOD='DEFAULT';
				]]>
			</sql>
	</changeSet>
	<changeSet id="26" author="rahul.r">
			<sql>
				<![CDATA[
					UPDATE CREDITREVIEWCONFIG SET FORMULACELLS='{"FINAL_OFFER": "I4","CO_APP":"C80,C81"}' WHERE ELIGIBILITYMETHOD='DEFAULT';
				]]>
			</sql>
	</changeSet>
</databaseChangeLog>