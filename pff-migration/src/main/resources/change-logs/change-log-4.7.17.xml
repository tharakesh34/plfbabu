<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />


	<changeSet id="pre_run_for_pgp" author="Jayant" runAlways="true"
		dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>
	
	<changeSet id="1" author="Siva">
		<sql>
			insert into BMTAMOUNTCODES values('REPAY',0,'bounceCharge_CGST_P','Bounce charge CGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
			insert into BMTAMOUNTCODES values('REPAY',0,'bounceCharge_SGST_P','Bounce charge SGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
			insert into BMTAMOUNTCODES values('REPAY',0,'bounceCharge_IGST_P','Bounce charge IGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
			insert into BMTAMOUNTCODES values('REPAY',0,'bounceCharge_UGST_P','Bounce charge UGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="2" author="SrinivasaVarma">
		<comment> New Column added allowInRule </comment>
		<createView viewName="extendedfielddetail_aview"
			replaceIfExists="true">
			select t1.moduleid,  t1.fieldname,  t2.modulename as lovdescmodulename, t2.submodulename as lovdescsubmodulename,
			t1.fieldtype, t1.fieldlength,  t1.fieldprec, t1.fieldlabel, t1.fieldmandatory,
			t1.fieldconstraint,  t1.fieldseqorder, t1.fieldlist, t1.fielddefaultvalue,
			t1.fieldminvalue, t1.fieldmaxvalue, t1.fieldunique, t1.extendedtype, t1.version,
			t1.lastmntby, t1.lastmnton,  t1.recordstatus,  t1.rolecode, t1.nextrolecode,
			t1.taskid,  t1.nexttaskid, t1.recordtype,  t1.workflowid, t1.multiline,  t1.parenttag,
			t1.inputelement, t1.editable,t1.allowInRule
			from extendedfielddetail t1 join extendedfieldheader t2 on t1.moduleid = t2.moduleid
		</createView>
	</changeSet>

	<changeSet id="3" author="SrinivasaVarma">
		<comment> New Column added allowInRule </comment>
		<createView viewName="extendedfielddetail_view"
			replaceIfExists="true">
			SELECT t1.moduleid, t1.fieldname, t2.modulename AS lovdescmodulename, t2.submodulename AS lovdescsubmodulename,
		    t1.fieldtype, t1.fieldlength, t1.fieldprec, t1.fieldlabel,
		    t1.fieldmandatory,
		    t1.fieldconstraint,
		    t1.fieldseqorder,
		    t1.fieldlist,
		    t1.fielddefaultvalue,
		    t1.fieldminvalue,
		    t1.fieldmaxvalue,
		    t1.fieldunique,
		    t1.extendedtype,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t1.multiline,
		    t1.parenttag,
		    t1.inputelement,
		    t1.editable,
		    t1.allowInRule
		   FROM extendedfielddetail_temp t1 JOIN extendedfieldheader_temp t2 ON t1.moduleid = t2.moduleid
		UNION ALL
		 SELECT t1.moduleid,
		    t1.fieldname,
		    t2.modulename AS lovdescmodulename,
		    t2.submodulename AS lovdescsubmodulename,
		    t1.fieldtype,
		    t1.fieldlength,
		    t1.fieldprec,
		    t1.fieldlabel,
		    t1.fieldmandatory,
		    t1.fieldconstraint,
		    t1.fieldseqorder,
		    t1.fieldlist,
		    t1.fielddefaultvalue,
		    t1.fieldminvalue,
		    t1.fieldmaxvalue,
		    t1.fieldunique,
		    t1.extendedtype,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t1.multiline,
		    t1.parenttag,
		    t1.inputelement,
		    t1.editable,
		    t1.allowInRule
		   FROM extendedfielddetail t1 JOIN extendedfieldheader t2 ON t1.moduleid = t2.moduleid
		   WHERE NOT (EXISTS ( SELECT 1 FROM extendedfielddetail_temp WHERE extendedfielddetail_temp.moduleid = t1.moduleid AND extendedfielddetail_temp.fieldname = t1.fieldname))
		</createView>
	</changeSet>
	
	<changeSet id="4" author="Siva">
		<addColumn tableName="FinRepayHeader">
			<column name="RealizeUnAmz" type="decimal(18,0)" />
		</addColumn>
		<addColumn tableName="FinRepayHeader_Temp">
			<column name="RealizeUnAmz" type="decimal(18,0)" />
		</addColumn>
	</changeSet>
	
	<changeSet id="5" author="Siva" dbms="oracle">
		<addDefaultValue columnName="RealizeUnAmz" tableName="FinRepayHeader" defaultValue="0"/>
		<addDefaultValue columnName="RealizeUnAmz" tableName="FinRepayHeader_Temp" defaultValue="0"/>
	</changeSet>
	<changeSet id="5" author="Siva" dbms="postgresql">
		<addDefaultValue columnName="RealizeUnAmz" tableName="FinRepayHeader" defaultValue="0"/>
		<addDefaultValue columnName="RealizeUnAmz" tableName="FinRepayHeader_Temp" defaultValue="0"/>
	</changeSet>
		<changeSet id="5" author="Siva" dbms="mssql">
		<sql>
			alter table FinRepayHeader add constraint df_fph_RealizeUnAmz default 0 for RealizeUnAmz;
			alter table FinRepayHeader_Temp add constraint df_fph_t_RealizeUnAmz default 0 for RealizeUnAmz;
		</sql>
	</changeSet>
	<changeSet id="6" author="Siva">
		<sql>
			update FinRepayHeader set RealizeUnAmz = 0 where RealizeUnAmz is null;
			update FinRepayHeader_Temp set RealizeUnAmz = 0 where RealizeUnAmz is null;
		</sql>
	</changeSet>
	<changeSet id="7" author="Ganesh.p">
		<comment> change the severity of the LoanStartDate and DisbursmentDate should be matched error</comment>
		<sql>
			update ERRORDETAILS set severity='E' where code='65032';
		</sql>
	</changeSet>
	<changeSet id="8" author="Manoj">
		<comment> New Table : InterfaceMappingConfiguration for mapping PLF and InterfaceData</comment>
		<createTable tableName="InterfaceMappingConfiguration">
			<column name="ServiceName" type="varchar(100)">
				<constraints nullable="false"/>
			</column>
			<column name="ModuleCode" type="varchar(100)">
				<constraints nullable="false"/>
			</column>
			<column name="SourceCode" type="varchar(30)	">
			</column>
			<column name="DestCode" type="varchar(30)">
			</column>
			<column name="SourceId" type="bigint">
			</column>
			<column name="DestId" type="bigint">
			</column>
			<column name="DestDescription" type="varchar(200)" />
			<column name="active" type="boolean" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet id="8_Post" author="manoj" dbms="oracle">
		<addDefaultValue columnName="SourceId" tableName="InterfaceMappingConfiguration" defaultValue="0"/>
		<addDefaultValue columnName="DestId" tableName="InterfaceMappingConfiguration" defaultValue="0"/>
	</changeSet>
	<changeSet id="8_Post" author="manoj" dbms="postgresql">
		<addDefaultValue columnName="SourceId" tableName="InterfaceMappingConfiguration" defaultValue="0"/>
		<addDefaultValue columnName="DestId" tableName="InterfaceMappingConfiguration" defaultValue="0"/>
	</changeSet>
		<changeSet id="8_Post" author="manoj" dbms="mssql">
		<sql>
			alter table InterfaceMappingConfiguration add constraint df_imc_SourceId default 0 for SourceId;
			alter table InterfaceMappingConfiguration add constraint df_imc_DestId default 0 for DestId;
		</sql>
	</changeSet>
	<changeSet id="9" author="Manoj">
		<createIndex tableName="InterfaceMappingConfiguration" indexName="IDX_IMC_MOD_SRC_SM">
			<column name="ModuleCode" type="varchar(100)"/>
			<column name="SourceCode" type="varchar(100)"/>
			<column name="ServiceName" type="varchar(100)"/>
		</createIndex>
	</changeSet>
	<changeSet id="10" author="Manoj">
		<createIndex tableName="InterfaceMappingConfiguration" indexName="IDX_IMC_MOD_SID_SM">
			<column name="ModuleCode" type="varchar(100)"/>
			<column name="SourceId" type="bigint"/>
			<column name="ServiceName" type="varchar(100)"/>
		</createIndex>
	</changeSet>
	<changeSet id="11" author="Manoj">
		<createIndex tableName="InterfaceMappingConfiguration" indexName="IDX_IMC_MOD_SM">
			<column name="ModuleCode" type="varchar(100)"/>
			<column name="ServiceName" type="varchar(100)"/>
		</createIndex>
	</changeSet>

	 <changeSet id="12" author="Ganesh.p">
		<modifyDataType tableName="CollateralCoOwners_Temp"
			columnName="CoOwnerIDType" newDataType="VARCHAR(50)" />
	</changeSet>

	<changeSet id="13" author="Ganesh.p">
		<modifyDataType tableName="CollateralCoOwners"
			columnName="CoOwnerIDType" newDataType="VARCHAR(50)" />
	</changeSet>
	<changeSet id="14" author="srikanth.m">
	<addColumn tableName="mandate_requests">
		<column name="ifsc_code" type= "varchar(20)"/>
		<column name="customer_phone" type= "varchar(20)"/>
		<column name="customer_email" type= "varchar(100)"/>
		<column name="folio_number" type= "varchar(20)"/>
		<column name="branch_code" type= "varchar(8)"/>
		<column name="branch_address" type= "varchar(100)"/>
		<column name="auxiliary_field1" type= "varchar(50)"/>
		<column name="auxiliary_field2" type= "varchar(50)"/>
		<column name="auxiliary_field3" type= "varchar(50)"/>
		<column name="auxiliary_field4" type= "varchar(50)"/>
	</addColumn>
</changeSet>
<changeSet id="14.1" author="srikanth.m">
	<addColumn tableName="mandate_response">
		<column name="ifsc_code" type= "varchar(20)"/>
		<column name="customer_phone" type= "varchar(20)"/>
		<column name="customer_email" type= "varchar(100)"/>
		<column name="folio_number" type= "varchar(20)"/>
		<column name="branch_code" type= "varchar(8)"/>
		<column name="branch_address" type= "varchar(100)"/>
		<column name="auxiliary_field1" type= "varchar(50)"/>
		<column name="auxiliary_field2" type= "varchar(50)"/>
		<column name="auxiliary_field3" type= "varchar(50)"/>
		<column name="auxiliary_field4" type= "varchar(50)"/>
	</addColumn>
</changeSet>
<changeSet id="14.2" author="srikanth.m">
	<createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true">
 SELECT M.MANDATEID, 
			BD.BANKSHORTCODE BANKCODE,
			BD.BANKNAME,
			case when LB.BRANCHCODE IS NULL THEN CB.BRANCHCODE ELSE LB.BRANCHCODE END BRANCHCODE,
      		case when LB.BRANCHDESC IS NULL THEN CB.BRANCHDESC ELSE LB.BRANCHDESC END BRANCHDESC,
			CUST.CUSTCIF,
			CUST.CUSTSHRTNAME,
			FT.FINTYPEDESC FINTYPE ,
			FIN.FINREFERENCE ,
			COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) TotalAmount 
													FROM FINSCHEDULEDETAILS FSD 
													INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE =FSD.FINREFERENCE AND FM.CUSTID = M.CUSTID 
													GROUP BY FM.FINREFERENCE)T)/CCYMINORCCYUNITS, 0) CUST_EMI,
			COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) TotalAmount FROM FINSCHEDULEDETAILS FSD WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID = M.MANDATEID) GROUP BY FINREFERENCE)T)/CCYMINORCCYUNITS, 0) EMI,
			  CASE M.OPENMANDATE
			    WHEN 1
			    THEN 'New Open ECS'
			    ELSE 'No Open ECS'
			  END OPENMANDATE,
			M.ACCNUMBER,
			M.ACCTYPE,
			M.ACCHOLDERNAME,
			BB.MICR,
			BB.IFSC,
			BB.ADDOFBRANCH,
			(select MIN(FIRSTREPAYDATE) from FINPFTDETAILS where FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) FIRSTDUEDATE,
			(select MAX(SCHDATE) from FINSCHEDULEDETAILS where (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) and FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) EMIENDDATE,
			 COALESCE (M.MAXLIMIT/CCYMINORCCYUNITS, 0) MAXLIMIT, 
     		 COALESCE((SELECT SUM(MANDATEDEBITAMOUNT) from (Select MAX(REPAYAMOUNT+FEESCHD) MANDATEDEBITAMOUNT FROM FINSCHEDULEDETAILS WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)
     		 GROUP BY FINREFERENCE)T), 0)/CCYMINORCCYUNITS DEBITAMOUNT,
			  M.STARTDATE,
			  M.EXPIRYDATE,
			  FIN.APPLICATIONNO,
			  M.MANDATETYPE,
			  M.STATUS,
			  M.INPUTDATE,
			  M.RECORDSTATUS,
			  M.RECORDTYPE,
        	M.MANDATECCY,
			  COALESCE (CCY.CCYMINORCCYUNITS, 100) CCYMINORCCYUNITS,M.EntityCode
			FROM MANDATES M
			INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID
			INNER JOIN BMTBANKDETAIL BD ON BD.BANKCODE=BB.BANKCODE 
			INNER JOIN CUSTOMERS CUST   ON CUST.CUSTID = M.CUSTID
			INNER JOIN RMTBRANCHES CB ON CB.BRANCHCODE = CUST.CUSTDFTBRANCH 
			LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CUST.CUSTID AND CE.CUSTEMAILPRIORITY = 5
			LEFT JOIN CUSTOMERPHONENUMBERS CP ON CP.PHONECUSTID = CUST.CUSTID AND CP.PHONETYPEPRIORITY = 5
			LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY
			LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE
			LEFT JOIN RMTBRANCHES LB ON LB.BRANCHCODE = FIN.FINBRANCH 
			LEFT OUTER JOIN RMTFINANCETYPES FT ON FIN.FINTYPE =FT.FINTYPE 
			WHERE M.STATUS = 'NEW' AND M.MANDATEID NOT IN  (select MANDATEID FROM MANDATE_REQUESTS where (status = 'AC' OR status = 'NEW'))
		</createView>
</changeSet>
<changeSet id="14.3" author="srikanth.m">
<createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true">
SELECT M.MANDATEID, 
			BD.BANKSHORTCODE BANKCODE,
			BD.BANKNAME,
			case when LB.BRANCHCODE IS NULL THEN CB.BRANCHCODE ELSE LB.BRANCHCODE END BRANCHCODE,
      		case when LB.BRANCHDESC IS NULL THEN CB.BRANCHDESC ELSE LB.BRANCHDESC END BRANCHDESC,
			CUST.CUSTCIF,
			CUST.CUSTSHRTNAME,
			FT.FINTYPEDESC FINTYPE ,
			FIN.FINREFERENCE ,
			COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) TotalAmount 
													FROM FINSCHEDULEDETAILS FSD 
													INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE =FSD.FINREFERENCE AND FM.CUSTID = M.CUSTID 
													GROUP BY FM.FINREFERENCE)T)/CCYMINORCCYUNITS, 0) CUST_EMI,
			COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) TotalAmount FROM FINSCHEDULEDETAILS FSD WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID = M.MANDATEID) GROUP BY FINREFERENCE)T)/CCYMINORCCYUNITS, 0) EMI,
			  CASE M.OPENMANDATE
			    WHEN 1
			    THEN 'New Open ECS'
			    ELSE 'No Open ECS'
			  END OPENMANDATE,
			M.ACCNUMBER,
			M.ACCTYPE,
			M.ACCHOLDERNAME,
			BB.MICR,
			BB.IFSC,
			BB.ADDOFBRANCH,
			(select MIN(FIRSTREPAYDATE) from FINPFTDETAILS where FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) FIRSTDUEDATE,
			(select MAX(SCHDATE) from FINSCHEDULEDETAILS where (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) and FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) EMIENDDATE,
			 COALESCE (M.MAXLIMIT/CCYMINORCCYUNITS, 0) MAXLIMIT, 
     		 COALESCE((SELECT SUM(MANDATEDEBITAMOUNT) from (Select MAX(REPAYAMOUNT+FEESCHD) MANDATEDEBITAMOUNT FROM FINSCHEDULEDETAILS WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)
     		 GROUP BY FINREFERENCE)T), 0)/CCYMINORCCYUNITS DEBITAMOUNT,
			  M.STARTDATE,
			  M.EXPIRYDATE,
			  FIN.APPLICATIONNO,
			  M.MANDATETYPE,
			  M.STATUS,
			  M.INPUTDATE,
			  M.RECORDSTATUS,
			  M.RECORDTYPE,
        	M.MANDATECCY,
			  COALESCE (CCY.CCYMINORCCYUNITS, 100) CCYMINORCCYUNITS,M.EntityCode,
              CP.PHONENUMBER,
			CE.CUSTEMAIL
			FROM MANDATES M
			INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID
			INNER JOIN BMTBANKDETAIL BD ON BD.BANKCODE=BB.BANKCODE 
			INNER JOIN CUSTOMERS CUST   ON CUST.CUSTID = M.CUSTID
			INNER JOIN RMTBRANCHES CB ON CB.BRANCHCODE = CUST.CUSTDFTBRANCH 
			LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CUST.CUSTID AND CE.CUSTEMAILPRIORITY = 5
			LEFT JOIN CUSTOMERPHONENUMBERS CP ON CP.PHONECUSTID = CUST.CUSTID AND CP.PHONETYPEPRIORITY = 5
			LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY
			LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE
			LEFT JOIN RMTBRANCHES LB ON LB.BRANCHCODE = FIN.FINBRANCH 
			LEFT OUTER JOIN RMTFINANCETYPES FT ON FIN.FINTYPE =FT.FINTYPE 
			WHERE M.STATUS = 'NEW' AND M.MANDATEID NOT IN  (select MANDATEID FROM MANDATE_REQUESTS where (status = 'AC' OR status = 'NEW'))
			</createView>
</changeSet>
<changeSet id="15" author="Jayant">
	<createSequence sequenceName="SeqPostingId" startValue="1" incrementBy="1"/>
</changeSet>
<changeSet id="16" author="vijaykumar.l">
<sql>
			Delete from RBFIELDDETAILS where RBMODULE = 'SCORES' and RBEVENT = 'RSCORE' and RbFldName = 'IIR_RATIO';
			Delete from RBFIELDDETAILS where RBMODULE = 'SCORES' and RBEVENT = 'RSCORE' and RbFldName = 'MRKVALUE_CONSIDER';
			Delete from RBFIELDDETAILS where RBMODULE = 'SCORES' and RBEVENT = 'RSCORE' and RbFldName = 'PROP_LTV';
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
			('SCORES','RSCORE','IIR_RATIO',' Installment Income Ratio','decimal',18,'1','1',null,'static,calvalue',null);
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
			('SCORES','RSCORE','MRKVALUE_CONSIDER',' Market Value Considered','decimal',18,'1','1',null,'static,calvalue',null);
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
			('SCORES','RSCORE','PROP_LTV',' LTV On Property ','decimal',18,'1','1',null,'static,calvalue',null);
</sql>
</changeSet>
<changeSet id="17" author="Vinay">
		<createView viewName="querydetail_aview" replaceIfExists="true">
			SELECT t1.finreference,
		    t1.id,
		    s1.usrlogin,
		    t1.raisedon,
		    b1.description,
		    t1.qrynotes,
		    t1.status,
		    t1.raisedby,
		    b1.code AS categorycode,
		    b1.description AS categorydescription,
		    t1.categoryid,
		    t1.assignedrole,
		    t1.notifyto,
		    t1.responsnotes,
		    t1.responseby,
		    s2.usrlogin AS responseuser,
		    t1.responseon,
		    t1.closernotes,
		    t1.closerby,
		    s3.usrlogin AS closeruser,
		    t1.closeron,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid
		   FROM querydetail t1
		     JOIN bmtquerycategories b1 ON t1.categoryid = b1.id
		     JOIN secusers s1 ON t1.raisedby = s1.usrid
		     LEFT JOIN secusers s2 ON t1.responseby = s2.usrid
		     LEFT JOIN secusers s3 ON t1.closerby = s3.usrid
		</createView>
	</changeSet>
	
	<changeSet id="18" author="Vinay">
		<createView viewName="querydetail_view" replaceIfExists="true"> 
			SELECT t1.finreference,
			    t1.id,
			    s1.usrlogin,
			    t1.raisedon,
			    b1.description,
			    t1.qrynotes,
			    t1.status,
			    t1.raisedby,
			    b1.code AS categorycode,
			    b1.description AS categorydescription,
			    t1.categoryid,
			    t1.assignedrole,
			    t1.notifyto,
			    t1.responsnotes,
			    t1.responseby,
			    s2.usrlogin AS responseuser,
			    t1.responseon,
			    t1.closernotes,
			    t1.closerby,
			    s3.usrlogin AS closeruser,
			    t1.closeron,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid
			   FROM querydetail t1
			     JOIN bmtquerycategories b1 ON t1.categoryid = b1.id
			     JOIN secusers s1 ON t1.raisedby = s1.usrid
			     LEFT JOIN secusers s2 ON t1.responseby = s2.usrid
			     LEFT JOIN secusers s3 ON t1.closerby = s3.usrid
		</createView>
	</changeSet>
	
	<changeSet id="19" author="Vinay">
		<sql>
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='QUERYDETAIL_MAKER') and rightid=(select rightid from secrights where rightname='menuItem_LoanQuery_QueryDetail');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='QUERYDETAIL_APPROVER') and rightid=(select rightid from secrights where rightname='menuItem_LoanQuery_QueryDetail');
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='QUERYDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_LoanQuery_QueryDetail'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='QUERYDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_LoanQuery_QueryDetail'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		</sql>
	</changeSet>
		
	<changeSet id="20" author="Vinay">
		<modifyDataType tableName="QueryDetail" columnName="closernotes" newDataType="varchar(200)"/>
		<modifyDataType tableName="QueryDetail_Temp" columnName="closernotes" newDataType="varchar(200)"/>
	</changeSet>
	
	<changeSet id="21" author="Vinay">
		<dropSequence sequenceName="seqQuerydetail"/>
	</changeSet>
	
	<changeSet id="22" author="Vinay">
		<createTable tableName="seqQuerydetail">
			<column name="SeqNo" type="bigint"/>
		</createTable>
	</changeSet>
	 <changeSet id="23" author="Vinay">
		<sql>
			delete from errordetails where code='QRYMGMT1';
			Insert into ERRORDETAILS values ('QRYMGMT1','EN','E','Please close if any query is open or resolve from this {0}.','test','Approved',null,null,null,null,null,0,null,1000,3);
		</sql>
	</changeSet>
	<changeSet id="24" author="Umarohini">
		<comment>Add marginDeviation column as null in customers.</comment>
		<addColumn tableName="customers">
			<column name="marginDeviation" type="boolean"/>
		</addColumn>
	</changeSet>
	<changeSet id="25" author="Umarohini">
		<comment>Add marginDeviation column as null in customers_temp.</comment>
		<addColumn tableName="customers_temp">
			<column name="marginDeviation" type="boolean"/>
		</addColumn>
	</changeSet>	
	
	<changeSet id="26" author="Umarohini">
		<createView viewName="customers_view" replaceIfExists="true">
			SELECT t1.custid,
    t1.custcif,
    t1.custcorebank,
    t1.custctgcode,
    t1.custtypecode,
    t1.custsalutationcode,
    t1.custfname,
    t1.custmname,
    t1.custlname,
    t1.custshrtname,
    t1.custfnamelcllng,
    t1.custmnamelcllng,
    t1.custlnamelcllng,
    t1.custshrtnamelcllng,
    t1.custdftbranch,
    t1.custgendercode,
    t1.custdob,
    t1.custpob,
    t1.custcob,
    t1.custpassportno,
    t1.custmothermaiden,
    t1.custisminor,
    t1.custreferedby,
    t1.custdsa,
    t1.custdsadept,
    t1.custro1,
    t1.custro2,
    t1.custgroupid,
    t1.custsts,
    t1.custstschgdate,
    t1.custgroupsts,
    t1.custisblocked,
    t1.custisactive,
    t1.custisclosed,
    t1.custinactivereason,
    t1.custisdecease,
    t1.custisdormant,
    t1.custisdelinquent,
    t1.custistradefincust,
    t1.custtradelicencenum,
    t1.custtradelicenceexpiry,
    t1.custpassportexpiry,
    t1.custvisanum,
    t1.custvisaexpiry,
    t1.custisstaff,
    t1.custstaffid,
    t1.custindustry,
    t1.custsector,
    t1.custsubsector,
    t1.custprofession,
    t1.custtotalincome,
    t1.custmaritalsts,
    t1.custempsts,
    t1.custsegment,
    t1.custsubsegment,
    t1.custisblacklisted,
    t1.custblrsncode,
    t1.custisrejected,
    t1.custrejectedrsn,
    t1.custbaseccy,
    t1.custlng,
    t1.custparentcountry,
    t1.custresdcountry,
    t1.custriskcountry,
    t1.custnationality,
    t1.custclosedon,
    t1.custstmtfrq,
    t1.custisstmtcombined,
    t1.custstmtlastdate,
    t1.custstmtnextdate,
    t1.custstmtdispatchmode,
    t1.custfirstbusinessdate,
    t1.custaddlvar81,
    t1.custaddlvar82,
    t1.custaddlvar83,
    t1.custaddlvar84,
    t1.custaddlvar85,
    t1.custaddlvar86,
    t1.custaddlvar87,
    t1.custaddlvar88,
    t1.custaddlvar89,
    t1.custaddldate1,
    t1.custaddldate2,
    t1.custaddldate3,
    t1.custaddldate4,
    t1.custaddldate5,
    t1.custaddlvar1,
    t1.custaddlvar2,
    t1.custaddlvar3,
    t1.custaddlvar4,
    t1.custaddlvar5,
    t1.custaddlvar6,
    t1.custaddlvar7,
    t1.custaddlvar8,
    t1.custaddlvar9,
    t1.custaddlvar10,
    t1.custaddlvar11,
    t1.custaddldec1,
    t1.custaddldec2,
    t1.custaddldec3,
    t1.custaddldec4,
    t1.custaddldec5,
    t1.custaddlint1,
    t1.custaddlint2,
    t1.custaddlint3,
    t1.custaddlint4,
    t1.custaddlint5,
    t1.custsourceid,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.custtypedesc AS lovdesccusttypecodename,
    t3.maritalstsdesc AS lovdesccustmaritalstsname,
    t4.empstsdesc AS lovdesccustempstsname,
    t6.custstsdescription AS lovdesccuststsname,
    t7.industrydesc AS lovdesccustindustryname,
    t8.sectordesc AS lovdesccustsectorname,
    t9.subsectordesc AS lovdesccustsubsectorname,
    t10.professiondesc AS lovdesccustprofessionname,
    t11.countrydesc AS lovdesccustcobname,
    t20.segmentdesc AS lovdesccustsegmentname,
    t12.nationalitydesc AS lovdesccustnationalityname,
    t13.genderdesc AS lovdesccustgendercodename,
    t14.deptdesc AS lovdesccustdsadeptname,
    t15.dealername AS lovdesccustro1name,
    t15.dealercity AS lovdesccustro1city,
    t16.grpstsdescription AS lovdesccustgroupstsname,
    t17.branchdesc AS lovdesccustdftbranchname,
    t17.bankrefno AS branchrefno,
    t17.branchswiftbrncde AS custswiftbrncode,
    t18.custctgdesc AS lovdesccustctgcodename,
    t2.custtypectg AS lovdesccustctgtype,
    t19.saluationdesc AS lovdesccustsalutationcodename,
    t21.countrydesc AS lovdesccustparentcountryname,
    t22.countrydesc AS lovdesccustresdcountryname,
    t23.countrydesc AS lovdesccustriskcountryname,
    t24.rofficerdesc AS lovdesccustro2name,
    t25.blrsndesc AS lovdesccustblrsncodename,
    t26.rejectdesc AS lovdesccustrejectedrsnname,
    t27.custgrpdesc AS lovdesccustgroupidname,
    t28.subsegmentdesc AS lovdesccustsubsegmentname,
    t29.lngdesc AS lovdesccustlngname,
    t30.dispatchmodedesc AS lovdescdispatchmodedescname,
    t1.dedupfound,
    t1.skipdedup,
    t1.custtotalexpense,
    t1.custblacklistdate,
    t1.noofdependents,
    t1.custcrcpr,
    t1.jointcust,
    t1.jointcustname,
    t1.jointcustdob,
    t27.custgrpcode AS lovdesccustgroupcode,
    t1.custrelation,
    t1.contactpersonname,
    t1.phonenumber,
    t1.emailid,
    t1.salariedcustomer,
    t31.targetdesc AS lovdesctargetname,
    t1.custsuspsts,
    t1.custsuspdate,
    t1.custsusptrigger,
    t1.subcategory,
    t1.casteid,
    t1.religionid,
    t32.castecode,
    t32.castedesc,
    t33.religioncode,
    t33.religiondesc,
    COALESCE((t34.roledesc), ${add.schema}fn_get_roledesc((t1.nextrolecode))) AS lovdescrequeststage,
	t1.marginDeviation
   FROM ((((((((((((((((((((((((((((((((customers_temp t1
     LEFT JOIN rmtcusttypes t2 ON ((t1.custtypecode = t2.custtypecode)))
     LEFT JOIN bmtmaritalstatuscodes t3 ON ((t1.custmaritalsts = t3.maritalstscode)))
     LEFT JOIN bmtempstscodes t4 ON ((t1.custempsts = t4.empstscode)))
     LEFT JOIN bmtcuststatuscodes t6 ON ((t1.custsts = t6.custstscode)))
     LEFT JOIN bmtindustries t7 ON ((t1.custindustry = t7.industrycode)))
     LEFT JOIN bmtsectors t8 ON ((t1.custsector = t8.sectorcode)))
     LEFT JOIN bmtsubsectors t9 ON (((t1.custsector = t9.sectorcode) AND (t1.custsubsector = t9.subsectorcode))))
     LEFT JOIN bmtprofessions t10 ON ((t1.custprofession = t10.professioncode)))
     LEFT JOIN bmtcountries t11 ON ((t1.custcob = t11.countrycode)))
     LEFT JOIN bmtnationalitycodes t12 ON ((t1.custnationality = t12.nationalitycode)))
     LEFT JOIN bmtgenders t13 ON ((t1.custgendercode = t13.gendercode)))
     LEFT JOIN bmtdepartments t14 ON ((t1.custdsadept = t14.deptcode)))
     LEFT JOIN amtvehicledealer t15 ON ((t1.custro1 = t15.dealerid)))
     LEFT JOIN bmtgrpstatuscodes t16 ON ((t1.custgroupsts = t16.grpstscode)))
     LEFT JOIN rmtbranches t17 ON ((t1.custdftbranch = t17.branchcode)))
     LEFT JOIN bmtcustcategories t18 ON ((t1.custctgcode = t18.custctgcode)))
     LEFT JOIN bmtsalutations t19 ON ((t1.custsalutationcode = t19.salutationcode)))
     LEFT JOIN bmtsegments t20 ON ((t1.custsegment = t20.segmentcode)))
     LEFT JOIN bmtcountries t21 ON ((t1.custparentcountry = t21.countrycode)))
     LEFT JOIN bmtcountries t22 ON ((t1.custresdcountry = t22.countrycode)))
     LEFT JOIN bmtcountries t23 ON ((t1.custriskcountry = t23.countrycode)))
     LEFT JOIN relationshipofficers t24 ON ((t1.custro2 = t24.rofficercode)))
     LEFT JOIN bmtblacklistrsncodes t25 ON ((t1.custblrsncode = t25.blrsncode)))
     LEFT JOIN bmtrejectcodes t26 ON (((t1.custrejectedrsn) = (t26.rejectcode))))
     LEFT JOIN customergroups t27 ON ((t1.custgroupid = t27.custgrpid)))
     LEFT JOIN bmtsubsegments t28 ON ((t1.custsubsegment = t28.subsegmentcode)))
     LEFT JOIN bmtlanguage t29 ON ((t1.custlng = t29.lngcode)))
     LEFT JOIN bmtdispatchmodes t30 ON ((t1.custstmtdispatchmode = t30.dispatchmodecode)))
     LEFT JOIN targetdetails t31 ON ((t1.custaddlvar82 = t31.targetcode)))
     LEFT JOIN secroles t34 ON ((t1.nextrolecode = t34.rolecd)))
     LEFT JOIN caste t32 ON ((t1.casteid = t32.casteid)))
     LEFT JOIN religion t33 ON ((t1.religionid = t33.religionid)))
UNION ALL
 SELECT t1.custid,
    t1.custcif,
    t1.custcorebank,
    t1.custctgcode,
    t1.custtypecode,
    t1.custsalutationcode,
    t1.custfname,
    t1.custmname,
    t1.custlname,
    t1.custshrtname,
    t1.custfnamelcllng,
    t1.custmnamelcllng,
    t1.custlnamelcllng,
    t1.custshrtnamelcllng,
    t1.custdftbranch,
    t1.custgendercode,
    t1.custdob,
    t1.custpob,
    t1.custcob,
    t1.custpassportno,
    t1.custmothermaiden,
    t1.custisminor,
    t1.custreferedby,
    t1.custdsa,
    t1.custdsadept,
    t1.custro1,
    t1.custro2,
    t1.custgroupid,
    t1.custsts,
    t1.custstschgdate,
    t1.custgroupsts,
    t1.custisblocked,
    t1.custisactive,
    t1.custisclosed,
    t1.custinactivereason,
    t1.custisdecease,
    t1.custisdormant,
    t1.custisdelinquent,
    t1.custistradefincust,
    t1.custtradelicencenum,
    t1.custtradelicenceexpiry,
    t1.custpassportexpiry,
    t1.custvisanum,
    t1.custvisaexpiry,
    t1.custisstaff,
    t1.custstaffid,
    t1.custindustry,
    t1.custsector,
    t1.custsubsector,
    t1.custprofession,
    t1.custtotalincome,
    t1.custmaritalsts,
    t1.custempsts,
    t1.custsegment,
    t1.custsubsegment,
    t1.custisblacklisted,
    t1.custblrsncode,
    t1.custisrejected,
    t1.custrejectedrsn,
    t1.custbaseccy,
    t1.custlng,
    t1.custparentcountry,
    t1.custresdcountry,
    t1.custriskcountry,
    t1.custnationality,
    t1.custclosedon,
    t1.custstmtfrq,
    t1.custisstmtcombined,
    t1.custstmtlastdate,
    t1.custstmtnextdate,
    t1.custstmtdispatchmode,
    t1.custfirstbusinessdate,
    t1.custaddlvar81,
    t1.custaddlvar82,
    t1.custaddlvar83,
    t1.custaddlvar84,
    t1.custaddlvar85,
    t1.custaddlvar86,
    t1.custaddlvar87,
    t1.custaddlvar88,
    t1.custaddlvar89,
    t1.custaddldate1,
    t1.custaddldate2,
    t1.custaddldate3,
    t1.custaddldate4,
    t1.custaddldate5,
    t1.custaddlvar1,
    t1.custaddlvar2,
    t1.custaddlvar3,
    t1.custaddlvar4,
    t1.custaddlvar5,
    t1.custaddlvar6,
    t1.custaddlvar7,
    t1.custaddlvar8,
    t1.custaddlvar9,
    t1.custaddlvar10,
    t1.custaddlvar11,
    t1.custaddldec1,
    t1.custaddldec2,
    t1.custaddldec3,
    t1.custaddldec4,
    t1.custaddldec5,
    t1.custaddlint1,
    t1.custaddlint2,
    t1.custaddlint3,
    t1.custaddlint4,
    t1.custaddlint5,
    t1.custsourceid,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.custtypedesc AS lovdesccusttypecodename,
    t3.maritalstsdesc AS lovdesccustmaritalstsname,
    t4.empstsdesc AS lovdesccustempstsname,
    t6.custstsdescription AS lovdesccuststsname,
    t7.industrydesc AS lovdesccustindustryname,
    t8.sectordesc AS lovdesccustsectorname,
    t9.subsectordesc AS lovdesccustsubsectorname,
    t10.professiondesc AS lovdesccustprofessionname,
    t11.countrydesc AS lovdesccustcobname,
    t20.segmentdesc AS lovdesccustsegmentname,
    t12.nationalitydesc AS lovdesccustnationalityname,
    t13.genderdesc AS lovdesccustgendercodename,
    t14.deptdesc AS lovdesccustdsadeptname,
    t15.dealername AS lovdesccustro1name,
    t15.dealercity AS lovdesccustro1city,
    t16.grpstsdescription AS lovdesccustgroupstsname,
    t17.branchdesc AS lovdesccustdftbranchname,
    t17.bankrefno AS branchrefno,
    t17.branchswiftbrncde AS custswiftbrncode,
    t18.custctgdesc AS lovdesccustctgcodename,
    t2.custtypectg AS lovdesccustctgtype,
    t19.saluationdesc AS lovdesccustsalutationcodename,
    t21.countrydesc AS lovdesccustparentcountryname,
    t22.countrydesc AS lovdesccustresdcountryname,
    t23.countrydesc AS lovdesccustriskcountryname,
    t24.rofficerdesc AS lovdesccustro2name,
    t25.blrsndesc AS lovdesccustblrsncodename,
    t26.rejectdesc AS lovdesccustrejectedrsnname,
    t27.custgrpdesc AS lovdesccustgroupidname,
    t28.subsegmentdesc AS lovdesccustsubsegmentname,
    t29.lngdesc AS lovdesccustlngname,
    t30.dispatchmodedesc AS lovdescdispatchmodedescname,
    t1.dedupfound,
    t1.skipdedup,
    t1.custtotalexpense,
    t1.custblacklistdate,
    t1.noofdependents,
    t1.custcrcpr,
    t1.jointcust,
    t1.jointcustname,
    t1.jointcustdob,
    t27.custgrpcode AS lovdesccustgroupcode,
    t1.custrelation,
    t1.contactpersonname,
    t1.phonenumber,
    t1.emailid,
    t1.salariedcustomer,
    t31.targetdesc AS lovdesctargetname,
    t1.custsuspsts,
    t1.custsuspdate,
    t1.custsusptrigger,
    t1.subcategory,
    t1.casteid,
    t1.religionid,
    t32.castecode,
    t32.castedesc,
    t33.religioncode,
    t33.religiondesc,
    COALESCE((t34.roledesc), ${add.schema}fn_get_roledesc((t1.nextrolecode))) AS lovdescrequeststage,
	t1.marginDeviation
   FROM ((((((((((((((((((((((((((((((((customers t1
     LEFT JOIN rmtcusttypes t2 ON ((t1.custtypecode = t2.custtypecode)))
     LEFT JOIN bmtmaritalstatuscodes t3 ON ((t1.custmaritalsts = t3.maritalstscode)))
     LEFT JOIN bmtempstscodes t4 ON ((t1.custempsts = t4.empstscode)))
     LEFT JOIN bmtcuststatuscodes t6 ON ((t1.custsts = t6.custstscode)))
     LEFT JOIN bmtindustries t7 ON ((t1.custindustry = t7.industrycode)))
     LEFT JOIN bmtsectors t8 ON ((t1.custsector = t8.sectorcode)))
     LEFT JOIN bmtsubsectors t9 ON (((t1.custsector = t9.sectorcode) AND (t1.custsubsector = t9.subsectorcode))))
     LEFT JOIN bmtprofessions t10 ON ((t1.custprofession = t10.professioncode)))
     LEFT JOIN bmtcountries t11 ON ((t1.custcob = t11.countrycode)))
     LEFT JOIN bmtnationalitycodes t12 ON ((t1.custnationality = t12.nationalitycode)))
     LEFT JOIN bmtgenders t13 ON ((t1.custgendercode = t13.gendercode)))
     LEFT JOIN bmtdepartments t14 ON ((t1.custdsadept = t14.deptcode)))
     LEFT JOIN amtvehicledealer t15 ON ((t1.custro1 = t15.dealerid)))
     LEFT JOIN bmtgrpstatuscodes t16 ON ((t1.custgroupsts = t16.grpstscode)))
     LEFT JOIN rmtbranches t17 ON ((t1.custdftbranch = t17.branchcode)))
     LEFT JOIN bmtcustcategories t18 ON ((t1.custctgcode = t18.custctgcode)))
     LEFT JOIN bmtsalutations t19 ON ((t1.custsalutationcode = t19.salutationcode)))
     LEFT JOIN bmtsegments t20 ON ((t1.custsegment = t20.segmentcode)))
     LEFT JOIN bmtcountries t21 ON ((t1.custparentcountry = t21.countrycode)))
     LEFT JOIN bmtcountries t22 ON ((t1.custresdcountry = t22.countrycode)))
     LEFT JOIN bmtcountries t23 ON ((t1.custriskcountry = t23.countrycode)))
     LEFT JOIN relationshipofficers t24 ON ((t1.custro2 = t24.rofficercode)))
     LEFT JOIN bmtblacklistrsncodes t25 ON ((t1.custblrsncode = t25.blrsncode)))
     LEFT JOIN bmtrejectcodes t26 ON (((t1.custrejectedrsn) = (t26.rejectcode))))
     LEFT JOIN customergroups t27 ON ((t1.custgroupid = t27.custgrpid)))
     LEFT JOIN bmtsubsegments t28 ON ((t1.custsubsegment = t28.subsegmentcode)))
     LEFT JOIN bmtlanguage t29 ON ((t1.custlng = t29.lngcode)))
     LEFT JOIN bmtdispatchmodes t30 ON ((t1.custstmtdispatchmode = t30.dispatchmodecode)))
     LEFT JOIN targetdetails t31 ON ((t1.custaddlvar82 = t31.targetcode)))
     LEFT JOIN secroles t34 ON ((t1.nextrolecode = t34.rolecd)))
     LEFT JOIN caste t32 ON ((t1.casteid = t32.casteid)))
     LEFT JOIN religion t33 ON ((t1.religionid = t33.religionid)))
  WHERE (NOT (EXISTS ( SELECT 1 AS expr1
           FROM customers_temp
          WHERE (customers_temp.custid = t1.custid))))
		</createView>
		</changeSet>
		
		<changeSet  author="umarohini" id="28">
		<createView replaceIfExists="true" viewName="customers_tview">
		 SELECT t1.custid,
    t1.custcif,
    t1.custcorebank,
    t1.custctgcode,
    t1.custtypecode,
    t1.custsalutationcode,
    t1.custfname,
    t1.custmname,
    t1.custlname,
    t1.custshrtname,
    t1.custfnamelcllng,
    t1.custmnamelcllng,
    t1.custlnamelcllng,
    t1.custshrtnamelcllng,
    t1.custdftbranch,
    t1.custgendercode,
    t1.custdob,
    t1.custpob,
    t1.custcob,
    t1.custpassportno,
    t1.custmothermaiden,
    t1.custisminor,
    t1.custreferedby,
    t1.custdsa,
    t1.custdsadept,
    t1.custro1,
    t1.custro2,
    t1.custgroupid,
    t1.custsts,
    t1.custstschgdate,
    t1.custgroupsts,
    t1.custisblocked,
    t1.custisactive,
    t1.custisclosed,
    t1.custinactivereason,
    t1.custisdecease,
    t1.custisdormant,
    t1.custisdelinquent,
    t1.custistradefincust,
    t1.custtradelicencenum,
    t1.custtradelicenceexpiry,
    t1.custpassportexpiry,
    t1.custvisanum,
    t1.custvisaexpiry,
    t1.custisstaff,
    t1.custstaffid,
    t1.custindustry,
    t1.custsector,
    t1.custsubsector,
    t1.custprofession,
    t1.custtotalincome,
    t1.custmaritalsts,
    t1.custempsts,
    t1.custsegment,
    t1.custsubsegment,
    t1.custisblacklisted,
    t1.custblrsncode,
    t1.custisrejected,
    t1.custrejectedrsn,
    t1.custbaseccy,
    t1.custlng,
    t1.custparentcountry,
    t1.custresdcountry,
    t1.custriskcountry,
    t1.custnationality,
    t1.custclosedon,
    t1.custstmtfrq,
    t1.custisstmtcombined,
    t1.custstmtlastdate,
    t1.custstmtnextdate,
    t1.custstmtdispatchmode,
    t1.custfirstbusinessdate,
    t1.custaddlvar81,
    t1.custaddlvar82,
    t1.custaddlvar83,
    t1.custaddlvar84,
    t1.custaddlvar85,
    t1.custaddlvar86,
    t1.custaddlvar87,
    t1.custaddlvar88,
    t1.custaddlvar89,
    t1.custaddldate1,
    t1.custaddldate2,
    t1.custaddldate3,
    t1.custaddldate4,
    t1.custaddldate5,
    t1.custaddlvar1,
    t1.custaddlvar2,
    t1.custaddlvar3,
    t1.custaddlvar4,
    t1.custaddlvar5,
    t1.custaddlvar6,
    t1.custaddlvar7,
    t1.custaddlvar8,
    t1.custaddlvar9,
    t1.custaddlvar10,
    t1.custaddlvar11,
    t1.custaddldec1,
    t1.custaddldec2,
    t1.custaddldec3,
    t1.custaddldec4,
    t1.custaddldec5,
    t1.custaddlint1,
    t1.custaddlint2,
    t1.custaddlint3,
    t1.custaddlint4,
    t1.custaddlint5,
    t1.custsourceid,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.custtypedesc AS lovdesccusttypecodename,
    t3.maritalstsdesc AS lovdesccustmaritalstsname,
    t4.empstsdesc AS lovdesccustempstsname,
    t6.custstsdescription AS lovdesccuststsname,
    t7.industrydesc AS lovdesccustindustryname,
    t8.sectordesc AS lovdesccustsectorname,
    t9.subsectordesc AS lovdesccustsubsectorname,
    t10.professiondesc AS lovdesccustprofessionname,
    t11.countrydesc AS lovdesccustcobname,
    t20.segmentdesc AS lovdesccustsegmentname,
    t12.nationalitydesc AS lovdesccustnationalityname,
    t13.genderdesc AS lovdesccustgendercodename,
    t14.deptdesc AS lovdesccustdsadeptname,
    t15.dealername AS lovdesccustro1name,
    t15.dealercity AS lovdesccustro1city,
    t16.grpstsdescription AS lovdesccustgroupstsname,
    t17.branchdesc AS lovdesccustdftbranchname,
    t17.bankrefno AS branchrefno,
    t17.branchswiftbrncde AS custswiftbrncode,
    t18.custctgdesc AS lovdesccustctgcodename,
    t2.custtypectg AS lovdesccustctgtype,
    t19.saluationdesc AS lovdesccustsalutationcodename,
    t21.countrydesc AS lovdesccustparentcountryname,
    t22.countrydesc AS lovdesccustresdcountryname,
    t23.countrydesc AS lovdesccustriskcountryname,
    t24.rofficerdesc AS lovdesccustro2name,
    t25.blrsndesc AS lovdesccustblrsncodename,
    t26.rejectdesc AS lovdesccustrejectedrsnname,
    t27.custgrpdesc AS lovdesccustgroupidname,
    t28.subsegmentdesc AS lovdesccustsubsegmentname,
    t29.lngdesc AS lovdesccustlngname,
    t30.dispatchmodedesc AS lovdescdispatchmodedescname,
    t1.dedupfound,
    t1.skipdedup,
    t1.custtotalexpense,
    t1.custblacklistdate,
    t1.noofdependents,
    t1.custcrcpr,
    t1.jointcust,
    t1.jointcustname,
    t1.jointcustdob,
    t27.custgrpcode AS lovdesccustgroupcode,
    t1.contactpersonname,
    t1.phonenumber,
    t1.emailid,
    t1.salariedcustomer,
    t31.targetdesc AS lovdesctargetname,
    t1.custrelation,
    t1.custsuspsts,
    t1.custsuspdate,
    t1.custsusptrigger,
    t1.subcategory,
    t1.casteid,
    t1.religionid,
    t32.castecode,
    t32.castedesc,
    t33.religioncode,
    t33.religiondesc,
    COALESCE((t34.roledesc), ${add.schema}fn_get_roledesc((t1.nextrolecode))) AS lovdescrequeststage,
    t1.marginDeviation
   FROM ((((((((((((((((((((((((((((((((customers_temp t1
     LEFT JOIN rmtcusttypes t2 ON ((t1.custtypecode = t2.custtypecode)))
     LEFT JOIN bmtmaritalstatuscodes t3 ON ((t1.custmaritalsts = t3.maritalstscode)))
     LEFT JOIN bmtempstscodes t4 ON ((t1.custempsts = t4.empstscode)))
     LEFT JOIN bmtcuststatuscodes t6 ON ((t1.custsts = t6.custstscode)))
     LEFT JOIN bmtindustries t7 ON ((t1.custindustry = t7.industrycode)))
     LEFT JOIN bmtsectors t8 ON ((t1.custsector = t8.sectorcode)))
     LEFT JOIN bmtsubsectors t9 ON (((t1.custsector = t9.sectorcode) AND (t1.custsubsector = t9.subsectorcode))))
     LEFT JOIN bmtprofessions t10 ON ((t1.custprofession = t10.professioncode)))
     LEFT JOIN bmtcountries t11 ON ((t1.custcob = t11.countrycode)))
     LEFT JOIN bmtnationalitycodes t12 ON ((t1.custnationality = t12.nationalitycode)))
     LEFT JOIN bmtgenders t13 ON ((t1.custgendercode = t13.gendercode)))
     LEFT JOIN bmtdepartments t14 ON ((t1.custdsadept = t14.deptcode)))
     LEFT JOIN amtvehicledealer t15 ON ((t1.custro1 = t15.dealerid)))
     LEFT JOIN bmtgrpstatuscodes t16 ON ((t1.custgroupsts = t16.grpstscode)))
     LEFT JOIN rmtbranches t17 ON ((t1.custdftbranch = t17.branchcode)))
     LEFT JOIN bmtcustcategories t18 ON ((t1.custctgcode = t18.custctgcode)))
     LEFT JOIN bmtsalutations t19 ON ((t1.custsalutationcode = t19.salutationcode)))
     LEFT JOIN bmtsegments t20 ON ((t1.custsegment = t20.segmentcode)))
     LEFT JOIN bmtcountries t21 ON ((t1.custparentcountry = t21.countrycode)))
     LEFT JOIN bmtcountries t22 ON ((t1.custresdcountry = t22.countrycode)))
     LEFT JOIN bmtcountries t23 ON ((t1.custriskcountry = t23.countrycode)))
     LEFT JOIN relationshipofficers t24 ON ((t1.custro2 = t24.rofficercode)))
     LEFT JOIN bmtblacklistrsncodes t25 ON ((t1.custblrsncode = t25.blrsncode)))
     LEFT JOIN bmtrejectcodes t26 ON (((t1.custrejectedrsn) = (t26.rejectcode))))
     LEFT JOIN customergroups t27 ON ((t1.custgroupid = t27.custgrpid)))
     LEFT JOIN bmtsubsegments t28 ON ((t1.custsubsegment = t28.subsegmentcode)))
     LEFT JOIN bmtlanguage t29 ON ((t1.custlng = t29.lngcode)))
     LEFT JOIN bmtdispatchmodes t30 ON ((t1.custstmtdispatchmode = t30.dispatchmodecode)))
     LEFT JOIN targetdetails t31 ON ((t1.custaddlvar82 = t31.targetcode)))
     LEFT JOIN caste t32 ON ((t1.casteid = t32.casteid)))
     LEFT JOIN religion t33 ON ((t1.religionid = t33.religionid)))
     LEFT JOIN secroles t34 ON ((t1.nextrolecode = t34.rolecd)))
</createView>
	</changeSet>

	<changeSet  author="umarohini" id="29">
		<createView replaceIfExists="true" viewName="customers_aview">
 	 SELECT t1.custid,
    t1.custcif,
    t1.custcorebank,
    t1.custctgcode,
    t1.custtypecode,
    t1.custsalutationcode,
    t1.custfname,
    t1.custmname,
    t1.custlname,
    t1.custshrtname,
    t1.custfnamelcllng,
    t1.custmnamelcllng,
    t1.custlnamelcllng,
    t1.custshrtnamelcllng,
    t1.custdftbranch,
    t1.custgendercode,
    t1.custdob,
    t1.custpob,
    t1.custcob,
    t1.custpassportno,
    t1.custmothermaiden,
    t1.custisminor,
    t1.custreferedby,
    t1.custdsa,
    t1.custdsadept,
    t1.custro1,
    t1.custro2,
    t1.custgroupid,
    t1.custsts,
    t1.custstschgdate,
    t1.custgroupsts,
    t1.custisblocked,
    t1.custisactive,
    t1.custisclosed,
    t1.custinactivereason,
    t1.custisdecease,
    t1.custisdormant,
    t1.custisdelinquent,
    t1.custistradefincust,
    t1.custtradelicencenum,
    t1.custtradelicenceexpiry,
    t1.custpassportexpiry,
    t1.custvisanum,
    t1.custvisaexpiry,
    t1.custisstaff,
    t1.custstaffid,
    t1.custindustry,
    t1.custsector,
    t1.custsubsector,
    t1.custprofession,
    t1.custtotalincome,
    t1.custmaritalsts,
    t1.custempsts,
    t1.custsegment,
    t1.custsubsegment,
    t1.custisblacklisted,
    t1.custblrsncode,
    t1.custisrejected,
    t1.custrejectedrsn,
    t1.custbaseccy,
    t1.custlng,
    t1.custparentcountry,
    t1.custresdcountry,
    t1.custriskcountry,
    t1.custnationality,
    t1.custclosedon,
    t1.custstmtfrq,
    t1.custisstmtcombined,
    t1.custstmtlastdate,
    t1.custstmtnextdate,
    t1.custstmtdispatchmode,
    t1.custfirstbusinessdate,
    t1.custaddlvar81,
    t1.custaddlvar82,
    t1.custaddlvar83,
    t1.custaddlvar84,
    t1.custaddlvar85,
    t1.custaddlvar86,
    t1.custaddlvar87,
    t1.custaddlvar88,
    t1.custaddlvar89,
    t1.custaddldate1,
    t1.custaddldate2,
    t1.custaddldate3,
    t1.custaddldate4,
    t1.custaddldate5,
    t1.custaddlvar1,
    t1.custaddlvar2,
    t1.custaddlvar3,
    t1.custaddlvar4,
    t1.custaddlvar5,
    t1.custaddlvar6,
    t1.custaddlvar7,
    t1.custaddlvar8,
    t1.custaddlvar9,
    t1.custaddlvar10,
    t1.custaddlvar11,
    t1.custaddldec1,
    t1.custaddldec2,
    t1.custaddldec3,
    t1.custaddldec4,
    t1.custaddldec5,
    t1.custaddlint1,
    t1.custaddlint2,
    t1.custaddlint3,
    t1.custaddlint4,
    t1.custaddlint5,
    t1.version,
    t1.custsourceid,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.custtypedesc AS lovdesccusttypecodename,
    t3.maritalstsdesc AS lovdesccustmaritalstsname,
    t4.empstsdesc AS lovdesccustempstsname,
    t6.custstsdescription AS lovdesccuststsname,
    t7.industrydesc AS lovdesccustindustryname,
    t8.sectordesc AS lovdesccustsectorname,
    t9.subsectordesc AS lovdesccustsubsectorname,
    t10.professiondesc AS lovdesccustprofessionname,
    t11.countrydesc AS lovdesccustcobname,
    t20.segmentdesc AS lovdesccustsegmentname,
    t12.nationalitydesc AS lovdesccustnationalityname,
    t13.genderdesc AS lovdesccustgendercodename,
    t14.deptdesc AS lovdesccustdsadeptname,
    t15.dealername AS lovdesccustro1name,
    t15.dealercity AS lovdesccustro1city,
    t16.grpstsdescription AS lovdesccustgroupstsname,
    t17.branchdesc AS lovdesccustdftbranchname,
    t17.bankrefno AS branchrefno,
    t17.branchswiftbrncde AS custswiftbrncode,
    t18.custctgdesc AS lovdesccustctgcodename,
    t2.custtypectg AS lovdesccustctgtype,
    t19.saluationdesc AS lovdesccustsalutationcodename,
    t21.countrydesc AS lovdesccustparentcountryname,
    t22.countrydesc AS lovdesccustresdcountryname,
    t23.countrydesc AS lovdesccustriskcountryname,
    t24.rofficerdesc AS lovdesccustro2name,
    t25.blrsndesc AS lovdesccustblrsncodename,
    t26.rejectdesc AS lovdesccustrejectedrsnname,
    t27.custgrpdesc AS lovdesccustgroupidname,
    t28.subsegmentdesc AS lovdesccustsubsegmentname,
    t29.lngdesc AS lovdesccustlngname,
    t30.dispatchmodedesc AS lovdescdispatchmodedescname,
    t1.dedupfound,
    t1.skipdedup,
    t1.custtotalexpense,
    t1.custblacklistdate,
    t1.noofdependents,
    t1.custcrcpr,
    t1.jointcust,
    t1.jointcustname,
    t1.jointcustdob,
    t27.custgrpcode AS lovdesccustgroupcode,
    t1.custrelation,
    t1.contactpersonname,
    t1.phonenumber,
    t1.emailid,
    t1.salariedcustomer,
    t31.targetdesc AS lovdesctargetname,
    t1.custsuspsts,
    t1.custsuspdate,
    t1.custsusptrigger,
    t1.subcategory,
    t1.casteid,
    t1.religionid,
    t32.castecode,
    t32.castedesc,
    t33.religioncode,
    t33.religiondesc,
    COALESCE((t34.roledesc), ${add.schema}fn_get_roledesc((t1.nextrolecode))) AS lovdescrequeststage,
    t1.marginDeviation
   FROM ((((((((((((((((((((((((((((((((customers t1
     LEFT JOIN rmtcusttypes t2 ON ((t1.custtypecode = t2.custtypecode)))
     LEFT JOIN bmtmaritalstatuscodes t3 ON ((t1.custmaritalsts = t3.maritalstscode)))
     LEFT JOIN bmtempstscodes t4 ON ((t1.custempsts = t4.empstscode)))
     LEFT JOIN bmtcuststatuscodes t6 ON ((t1.custsts = t6.custstscode)))
     LEFT JOIN bmtindustries t7 ON ((t1.custindustry = t7.industrycode)))
     LEFT JOIN bmtsectors t8 ON ((t1.custsector = t8.sectorcode)))
     LEFT JOIN bmtsubsectors t9 ON (((t1.custsector = t9.sectorcode) AND (t1.custsubsector = t9.subsectorcode))))
     LEFT JOIN bmtprofessions t10 ON ((t1.custprofession = t10.professioncode)))
     LEFT JOIN bmtcountries t11 ON ((t1.custcob = t11.countrycode)))
     LEFT JOIN bmtnationalitycodes t12 ON ((t1.custnationality = t12.nationalitycode)))
     LEFT JOIN bmtgenders t13 ON ((t1.custgendercode = t13.gendercode)))
     LEFT JOIN bmtdepartments t14 ON ((t1.custdsadept = t14.deptcode)))
     LEFT JOIN amtvehicledealer t15 ON ((t1.custro1 = t15.dealerid)))
     LEFT JOIN bmtgrpstatuscodes t16 ON ((t1.custgroupsts = t16.grpstscode)))
     LEFT JOIN rmtbranches t17 ON ((t1.custdftbranch = t17.branchcode)))
     LEFT JOIN bmtcustcategories t18 ON ((t1.custctgcode = t18.custctgcode)))
     LEFT JOIN bmtsalutations t19 ON ((t1.custsalutationcode = t19.salutationcode)))
     LEFT JOIN bmtsegments t20 ON ((t1.custsegment = t20.segmentcode)))
     LEFT JOIN bmtcountries t21 ON ((t1.custparentcountry = t21.countrycode)))
     LEFT JOIN bmtcountries t22 ON ((t1.custresdcountry = t22.countrycode)))
     LEFT JOIN bmtcountries t23 ON ((t1.custriskcountry = t23.countrycode)))
     LEFT JOIN relationshipofficers t24 ON ((t1.custro2 = t24.rofficercode)))
     LEFT JOIN bmtblacklistrsncodes t25 ON ((t1.custblrsncode = t25.blrsncode)))
     LEFT JOIN bmtrejectcodes t26 ON (((t1.custrejectedrsn) = (t26.rejectcode))))
     LEFT JOIN customergroups t27 ON ((t1.custgroupid = t27.custgrpid)))
     LEFT JOIN bmtsubsegments t28 ON ((t1.custsubsegment = t28.subsegmentcode)))
     LEFT JOIN bmtlanguage t29 ON ((t1.custlng = t29.lngcode)))
     LEFT JOIN bmtdispatchmodes t30 ON ((t1.custstmtdispatchmode = t30.dispatchmodecode)))
     LEFT JOIN targetdetails t31 ON ((t1.custaddlvar82 = t31.targetcode)))
     LEFT JOIN caste t32 ON ((t1.casteid = t32.casteid)))
     LEFT JOIN religion t33 ON ((t1.religionid = t33.religionid)))
     LEFT JOIN secroles t34 ON ((t1.nextrolecode = t34.rolecd)))
		</createView>
	</changeSet>
	<changeSet  author="umarohini" id="30">
		<createView replaceIfExists="true" viewName="customers_aeview">
 	 		 SELECT t1.custid,
		    t1.custcif,
		    t1.custcorebank,
		    t1.custctgcode,
		    t1.custtypecode,
		    t1.custshrtname,
		    t1.custfname,
		    t1.custlname,
		    t1.custdob,
		    t1.custnationality,
		    t1.custsector,
		    t1.custsubsector,
		    t2.phonenumber,
		    t2.phoneareacode,
		    t2.phonecountrycode,
		    t1.custcrcpr,
		    t1.custpassportno,
		    t3.custemail AS emailid,
		    t1.custaddlvar82,
		    t4.custtypedesc AS lovdesccusttypecodename,
		    t1.custbaseccy,
		    t4.custtypectg AS lovdesccustctgtype,
		    t5.custctgdesc AS lovdesccustctgcodename,
		    t6.custstsdescription AS lovdesccuststsname,
		    t1.custdftbranch,
		    t7.branchdesc AS lovdesccustdftbranchname,
		    t1.subcategory,
		    t1.casteid,
		    t1.religionid,
		    t8.castecode,
		    t8.castedesc,
		    t9.religioncode,
		    t9.religiondesc,
    COALESCE((t32.roledesc), ${add.schema}fn_get_roledesc((t1.nextrolecode))) AS lovdescrequeststage,
    t1.marginDeviation
   FROM (((((((((customers t1
     LEFT JOIN customerphonenumbers t2 ON (((t1.custid = t2.phonecustid) AND (t2.phonetypepriority = 5))))
     LEFT JOIN customeremails t3 ON (((t1.custid = t3.custid) AND (t3.custemailtypecode = 'OFFICE'))))
     LEFT JOIN rmtcusttypes t4 ON ((t1.custtypecode = t4.custtypecode)))
     LEFT JOIN bmtcustcategories t5 ON ((t1.custctgcode = t5.custctgcode)))
     LEFT JOIN bmtcuststatuscodes t6 ON ((t1.custsts = t6.custstscode)))
     LEFT JOIN rmtbranches t7 ON ((t1.custdftbranch = t7.branchcode)))
     LEFT JOIN caste t8 ON ((t1.casteid = t8.casteid)))
     LEFT JOIN religion t9 ON ((t1.religionid = t9.religionid)))
     LEFT JOIN secroles t32 ON ((t1.nextrolecode = t32.rolecd)))
		</createView>
	</changeSet>
<changeSet  author="umarohini" id="31">
		<createView replaceIfExists="true" viewName="customers_lview">
 	 		SELECT c.custid,
		    c.custcif,
		    c.custcorebank,
		    c.custctgcode,
		    c.custtypecode,
		    c.custshrtname,
		    c.custdftbranch,
		    c.recordstatus,
		    c.rolecode,
		    c.nextrolecode,
		    c.recordtype,
		    ct.custtypedesc AS lovdesccusttypecodename,
		    t1.custctgdesc AS lovdesccustctgcodename,
		    c.subcategory,
		    c.casteid,
		    c.religionid,
		    t2.castecode,
		    t2.castedesc,
		    t3.religioncode,
		    t3.religiondesc,
		    COALESCE((t4.roledesc), ${add.schema}fn_get_roledesc((c.nextrolecode))) AS lovdescrequeststage,
    c.marginDeviation
   FROM (((((customers_temp c
     LEFT JOIN rmtcusttypes ct ON ((c.custtypecode = ct.custtypecode)))
     LEFT JOIN bmtcustcategories t1 ON ((c.custctgcode = t1.custctgcode)))
     LEFT JOIN secroles t4 ON ((c.nextrolecode = t4.rolecd)))
     LEFT JOIN caste t2 ON ((c.casteid = t2.casteid)))
     LEFT JOIN religion t3 ON ((c.religionid = t3.religionid)))
UNION ALL
 SELECT c.custid,
    c.custcif,
    c.custcorebank,
    c.custctgcode,
    c.custtypecode,
    c.custshrtname,
    c.custdftbranch,
    c.recordstatus,
    c.rolecode,
    c.nextrolecode,
    c.recordtype,
    ct.custtypedesc AS lovdesccusttypecodename,
    t1.custctgdesc AS lovdesccustctgcodename,
    c.subcategory,
    c.casteid,
    c.religionid,
    t2.castecode,
    t2.castedesc,
    t3.religioncode,
    t3.religiondesc,
    COALESCE((t4.roledesc), ${add.schema}fn_get_roledesc((c.nextrolecode))) AS lovdescrequeststage,
    c.marginDeviation
   FROM (((((customers c
     LEFT JOIN rmtcusttypes ct ON ((c.custtypecode = ct.custtypecode)))
     LEFT JOIN bmtcustcategories t1 ON ((c.custctgcode = t1.custctgcode)))
     LEFT JOIN secroles t4 ON ((c.nextrolecode = t4.rolecd)))
     LEFT JOIN caste t2 ON ((c.casteid = t2.casteid)))
     LEFT JOIN religion t3 ON ((c.religionid = t3.religionid)))
  WHERE (NOT (c.custid IN ( SELECT customers_temp.custid
           FROM customers_temp
          WHERE (customers_temp.custid = c.custid))))
		</createView>
</changeSet>
<changeSet  author="Umarohini" id="32">
<sql>
update Customers set marginDeviation=0;	
update customers_temp set marginDeviation=0;	
</sql>
</changeSet>

<changeSet id="Durgaprasad G" author="33">
	<modifyDataType tableName="PRESENTMENT_REQ_DETAILS_TEMP" columnName="UMRN_NO" newDataType="VARCHAR(50)"/>
	<modifyDataType tableName="PRESENTMENT_REQ_DETAILS" columnName="UMRN_NO" newDataType="VARCHAR(50)"/>
</changeSet>
<changeSet id="34" author="vijaykumar.l">
<sql>
	Delete from RBFIELDDETAILS where RBMODULE = 'SCORES' and RBEVENT = 'RSCORE' and RbFldName = 'Total_Co_Applicants_Income';
	Delete from RBFIELDDETAILS where RBMODULE = 'SCORES' and RBEVENT = 'RSCORE' and RbFldName = 'Total_Co_Applicants_Expense';
    Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	('SCORES','RSCORE','Total_Co_Applicants_Income','  Total CoApplicants Income','decimal',18,'1','1',null,'static,calvalue',null);
	Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	('SCORES','RSCORE','Total_Co_Applicants_Expense',' Total CoApplicants Expense','decimal',18,'1','1',null,'static,calvalue',null);
</sql>
</changeSet>
<changeSet id="35.1" author="madhubabu.p">
	<createView viewName="fincovenanttype_view" replaceIfExists="true">
SELECT t1.finreference,
    t1.covenanttype,
    t1.description,
    t1.mandrole,
    t1.alwwaiver,
    t1.alwpostpone,
    t1.postponedays,
    t1.alwotc,
    t3.doctypedesc AS covenanttypedesc,
    t5.code AS categorycode,
    t4.roledesc AS mandroledesc,
    t1.receivabledate,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.pdd AS pddFlag,
    t3.otc AS otcFlag
   FROM fincovenanttype_temp t1
     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
     LEFT JOIN secroles t4 ON t4.rolecd = t1.mandrole
UNION ALL
 SELECT t1.finreference,
    t1.covenanttype,
    t1.description,
    t1.mandrole,
    t1.alwwaiver,
    t1.alwpostpone,
    t1.postponedays,
    t1.alwotc,
    t3.doctypedesc AS covenanttypedesc,
    t5.code AS categorycode,
    t4.roledesc AS mandroledesc,
    t1.receivabledate,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.pdd AS pddFlag,
    t3.otc AS otcFlag
   FROM fincovenanttype t1
     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
     LEFT JOIN secroles t4 ON t4.rolecd = t1.mandrole
  WHERE NOT (EXISTS ( SELECT 1
           FROM fincovenanttype_temp
          WHERE fincovenanttype_temp.finreference = t1.finreference AND fincovenanttype_temp.covenanttype = t1.covenanttype))
			</createView>
</changeSet>
<changeSet id="36.1" author="madhubabu.p">
	<createView viewName="fincovenanttype_aview" replaceIfExists="true">
SELECT t1.finreference,
    t1.covenanttype,
    t1.description,
    t1.mandrole,
    t1.alwwaiver,
    t1.alwpostpone,
    t1.postponedays,
    t1.alwotc,
    t3.doctypedesc AS covenanttypedesc,
    t5.code AS categorycode,
    t4.roledesc AS mandroledesc,
    t1.receivabledate,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.pdd AS pddFlag,
    t3.otc AS otcFlag
   FROM fincovenanttype t1
     JOIN financemain t2 ON t2.finreference = t1.finreference
     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
     JOIN secroles t4 ON t4.rolecd = t1.mandrole
			</createView>
</changeSet>
<changeSet id="37.1" author="madhubabu.p">
	<createView viewName="fincovenanttype_eaview" replaceIfExists="true">
SELECT t.finreference,
    t.custid,
    t.covenanttype,
    t.description,
    t.mandrole,
    t.alwwaiver,
    t.alwpostpone,
    t.alwotc,
    t.postponedays,
    t.covenanttypedesc,
    t.categorycode,
    t.receivabledate,
    t.version,
    t.lastmntby,
    t.lastmnton,
    t.recordstatus,
    t.rolecode,
    t.nextrolecode,
    t.taskid,
    t.nexttaskid,
    t.recordtype,
    t.workflowid,
        CASE
            WHEN t.docreceiveddate IS NULL THEN cd.lastmnton
            ELSE t.docreceiveddate
        END AS docreceiveddate,
     t.pddFlag,
     t.otcFlag
   FROM ( SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
            t1.alwotc,
            t1.postponedays,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate,
         	t3.pdd AS pddFlag,
    		t3.otc AS otcFlag
         
           FROM fincovenanttype t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory) t
     LEFT JOIN customerdocuments cd ON cd.custid = t.custid AND t.covenanttype = cd.custdoccategory
			</createView>
</changeSet>
<changeSet id="38.1" author="madhubabu.p">
	<createView viewName="fincovenanttype_eview" replaceIfExists="true">
SELECT t.finreference,
    t.custid,
    t.covenanttype,
    t.description,
    t.mandrole,
    t.alwwaiver,
    t.alwpostpone,
    t.alwotc,
    t.postponedays,
    t.covenanttypedesc,
    t.categorycode,
    t.receivabledate,
    t.version,
    t.lastmntby,
    t.lastmnton,
    t.recordstatus,
    t.rolecode,
    t.nextrolecode,
    t.taskid,
    t.nexttaskid,
    t.recordtype,
    t.workflowid,
        CASE
            WHEN t.docreceiveddate IS NULL THEN cd.lastmnton
            ELSE t.docreceiveddate
        END AS docreceiveddate,
     t.pddFlag,
     t.otcFlag
   FROM ( SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
            t1.postponedays,
            t1.alwotc,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate,
         	t3.pdd AS pddFlag,
    		t3.otc AS otcFlag
           FROM fincovenanttype_temp t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory
        UNION ALL
         SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
            t1.postponedays,
            t1.alwotc,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate,
            t3.pdd AS pddFlag,
    		t3.otc AS otcFlag
           FROM fincovenanttype t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory
          WHERE NOT (EXISTS ( SELECT 1
                   FROM fincovenanttype_temp
                  WHERE fincovenanttype_temp.finreference = t1.finreference AND fincovenanttype_temp.covenanttype = t1.covenanttype))) t
     LEFT JOIN customerdocuments cd ON cd.custid = t.custid AND t.covenanttype = cd.custdoccategory
			</createView>
</changeSet>
<changeSet id="39" author="madhubabu.p">
	<createView viewName="fincovenanttype_tview" replaceIfExists="true">
SELECT t1.finreference,
    t1.covenanttype,
    t1.description,
    t1.mandrole,
    t1.alwwaiver,
    t1.alwpostpone,
    t1.postponedays,
    t1.alwotc,
    t3.doctypedesc AS covenanttypedesc,
    t5.code AS categorycode,
    t4.roledesc AS mandroledesc,
    t1.receivabledate,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.pdd AS pddFlag,
    t3.otc AS otcFlag
   FROM fincovenanttype_temp t1
     JOIN financemain_temp t2 ON t2.finreference = t1.finreference
     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
     JOIN secroles t4 ON t4.rolecd = t1.mandrole
			</createView>
</changeSet>

<changeSet id="40" author="vinay">
		<addColumn tableName="finjointaccountdetails">
			<column name="IncludeIncome" type="boolean" />
		</addColumn>
	</changeSet>
<changeSet id="41" author="vinay">
		<addColumn tableName="finjointaccountdetails_temp">
			<column name="IncludeIncome" type="boolean" />
		</addColumn>
	</changeSet>
	
<changeSet id="42" author="vinay">
	<createView viewName="finjointaccountdetails_aview" replaceIfExists="true">
	SELECT t1.jointaccountid,
    t1.finreference,
    t1.custcif,
    t1.includerepay,
    t1.repayaccountid,
    t1.catofcoapplicant,
    t1.authoritysignatory,
    t1.sequence,
	t1.IncludeIncome,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.usrlogin,
    t2.usrfname,
    t2.usrmname,
    t2.usrlname,
    t3.custshrtname AS lovdesccifname,
    t3.custid
   FROM finjointaccountdetails t1
     JOIN secusers t2 ON t1.lastmntby = t2.usrid
     JOIN customers t3 ON t1.custcif = t3.custcif
	</createView>
</changeSet>
	
<changeSet id="43" author="vinay">
	<createView viewName="finjointaccountdetails_tview" replaceIfExists="true">
	SELECT t1.jointaccountid,
    t1.finreference,
    t1.custcif,
    t1.includerepay,
    t1.repayaccountid,
    t1.catofcoapplicant,
    t1.authoritysignatory,
    t1.sequence,
	t1.IncludeIncome,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.usrlogin,
    t2.usrfname,
    t2.usrmname,
    t2.usrlname,
    t3.custshrtname AS lovdesccifname,
    t3.custid
   FROM finjointaccountdetails_temp t1
     JOIN secusers t2 ON t1.lastmntby = t2.usrid
     JOIN customers t3 ON t1.custcif = t3.custcif
	</createView>
</changeSet>
	 
<changeSet id="44" author="vinay">
	<createView viewName="finjointaccountdetails_view" replaceIfExists="true">
	SELECT t1.jointaccountid,
    t1.finreference,
    t1.custcif,
    t1.includerepay,
    t1.repayaccountid,
    t1.catofcoapplicant,
    t1.authoritysignatory,
    t1.sequence,
	t1.includeIncome,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.usrlogin,
    t2.usrfname,
    t2.usrmname,
    t2.usrlname,
    t3.custshrtname AS lovdesccifname,
    t3.custid
   FROM finjointaccountdetails_temp t1
     JOIN secusers t2 ON t1.lastmntby = t2.usrid
     JOIN customers t3 ON t1.custcif = t3.custcif
UNION ALL
 SELECT t1.jointaccountid,
    t1.finreference,
    t1.custcif,
    t1.includerepay,
    t1.repayaccountid,
    t1.catofcoapplicant,
    t1.authoritysignatory,
    t1.sequence,
    t1.version,
	t1.includeIncome,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.usrlogin,
    t2.usrfname,
    t2.usrmname,
    t2.usrlname,
    t3.custshrtname AS lovdesccifname,
    t3.custid
   FROM finjointaccountdetails t1
     JOIN secusers t2 ON t1.lastmntby = t2.usrid
     JOIN customers t3 ON t1.custcif = t3.custcif
  WHERE NOT (EXISTS ( SELECT 1
           FROM finjointaccountdetails_temp
          WHERE finjointaccountdetails_temp.jointaccountid = t1.jointaccountid))
	</createView>
</changeSet>

<changeSet id="45" author="vinay">
<sql>
	update finjointaccountdetails set  IncludeIncome=0;
	update finjointaccountdetails_temp set  IncludeIncome=0;
</sql>
</changeSet>

<changeSet id="46" author="Vinay">
		<createTable tableName="STAGETABDETAIL">
			<column name="TABID" type="bigint">
				<constraints nullable="false" primaryKey="true" primaryKeyName="pk_stagetabdetail_tabid"/>
			</column>
			<column name="TABCODE" type="VARCHAR(8)">
				<constraints nullable="false"/>
			</column>
			<column name="TABDESCRIPTION" type="VARCHAR(50)">
				<constraints nullable="false"/>
			</column>
			<column name="active" type="number(1,0)" defaultValue="1" />
		</createTable>
	</changeSet>
	
	<!-- <changeSet id="47" author="Vinay">
		<createView viewName="LMTFINREFDETAIL_TFSVIEW" replaceIfExists="true">
			SELECT     T1.FinRefDetailId, T1.FinType, T2.FinTypeDesc lovDescFinTypeDescName, T1.FinRefType, T1.FinRefId, T3.TabCode lovDescNamelov, 
					  T1.IsActive, T1.ShowInStage, T1.MandInputInStage, T1.AllowInputInStage, T1.AllowDeviation, T1.AllowWaiver, T1.AllowPostpone, 
					  T1.AllowExpire, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
					  T3.TabId lovDescCodelov, T3.TabDescription lovDescRefDesc,  T1.OverRide,  T1.OverRideValue, T1.FinEvent,T1.AlertType
					  FROM         LMTFinRefDetail_Temp T1 LEFT JOIN
					  RMTFinanceTypes T2 ON T1.FinType = T2.FinType  INNER JOIN
					  STAGETABDETAIL T3 ON T1.FinRefId = T3.TabID AND T1.FinRefType = '15'
					  UNION ALL
  					  SELECT     T1.FinRefDetailId, T1.FinType, T2.FinTypeDesc lovDescFinTypeDescName, T1.FinRefType, T1.FinRefId, T3.TabCode lovDescNamelov, 
					  T1.IsActive, T1.ShowInStage, T1.MandInputInStage, T1.AllowInputInStage, T1.AllowDeviation, T1.AllowWaiver, T1.AllowPostpone, 
					  T1.AllowExpire, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
					  T3.TabId lovDescCodelov, T3.TabDescription lovDescRefDesc,  T1.OverRide,  T1.OverRideValue, T1.FinEvent,T1.AlertType
                      FROM         LMTFinRefDetail T1 LEFT JOIN
					  RMTFinanceTypes T2 ON T1.FinType = T2.FinType  INNER JOIN
					  STAGETABDETAIL T3 ON T1.FinRefId = T3.TabID AND T1.FinRefType = '15'
					  WHERE     (NOT EXISTS
					  (SELECT     1 Expr1
					  FROM          LMTFinRefDetail_Temp
					  WHERE      (FinRefDetailId = T1.FinRefDetailId AND T1.FinRefType = '15')))
		</createView>
	</changeSet> -->
	<changeSet id="49" author="Vijaykumar.l">
	<sql>
	Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Total_Co_Applicants_Income';
	Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Total_Co_Applicants_Expense';
	Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'CUSTOMER_MARGIN_DEVIATION';
	Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	   ('ELGRULE','ELGRULE','Total_Co_Applicants_Income','  Total CoApplicants Income','decimal',18,'1','1','','static,calvalue','');
	Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	   ('ELGRULE','ELGRULE','Total_Co_Applicants_Expense',' Total CoApplicants Expense','decimal',18,'1','1','','static,calvalue','');
	Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	   ('ELGRULE','ELGRULE','CUSTOMER_MARGIN_DEVIATION','CUSTOMER MARGIN DEVIATION','nchar',2,'1','1','','static,global,dbvalue','');	
	  
 </sql>
	</changeSet>
	
	<changeSet id="50" author="Durgaprasad G">
			<sql>
				Delete from secrolegroups Where grpid in (Select grpid from secgroups Where grpcode = 'GROUP_PRESENTMENTDETAILS');
				Delete from secrolegroups Where Roleid in (Select Roleid from Secroles Where Rolecd in ('ROLE_PRESENTMENTDETAILS','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER','PRESENTMENT_DETAIL_ENQUIRY')); 
				Delete from secgrouprights Where grpid in (Select grpid from secgroups Where grpcode = 'GROUP_PRESENTMENTDETAILS'); 
				Delete from secgroups Where grpcode = 'GROUP_PRESENTMENTDETAILS';
                Delete from secoperationroles Where Roleid in (Select Roleid from Secroles Where Rolecd in ('ROLE_PRESENTMENTDETAILS','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER'));
				Delete from Secroles Where Rolecd = 'ROLE_PRESENTMENTDETAILS';
				delete from secroles where rolecd='PRESENTMENTBATCH_MAKER';
				delete from secroles where rolecd='PRESENTMENT_DETAIL_ENQUIRY';				
				delete from secroles where rolecd='PRESENTMENTBATCH_APPROVER';
				Delete from secgrouprights Where 
				grpid in (Select grpid from secgroups Where grpcode in ('PRESENTMENT_DETAIL_EXTRACT','PRESENTMENT_FILE_IMPORT','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER'));
				Delete from secrolegroups Where 
				grpid in (Select grpid from secgroups Where grpcode in ('PRESENTMENT_DETAIL_EXTRACT','PRESENTMENT_FILE_IMPORT','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER')); 
				 
				delete from secgroups where grpcode='PRESENTMENT_DETAIL_EXTRACT';
				delete from secgroups where grpcode in ('PRESENTMENT_FILE_IMPORT','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER');
				delete from secroles where rolecd in ('PRESENTMENT_DETAIL_EXTRACT','PRESENTMENT_FILE_IMPORT','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER');
								
				Delete from secgrouprights where rightid in (Select rightid from Secrights Where Rightname in ('menuItem_PresentmentDetail_PresentmentEnquiry',
				'menuItem_PresentmentDetail_PresentmentExtract',
				'menuItem_PresentmentDetail_PresentmentFileImport',
				'menuItem_PresentmentDetail_PresentmentBatchCreation',
				'menuItem_PresentmentDetail_PresentmentApprove'));
				Delete from Secrights Where Rightname in ('menuItem_PresentmentDetail_PresentmentEnquiry',
				'menuItem_PresentmentDetail_PresentmentExtract',
				'menuItem_PresentmentDetail_PresentmentFileImport',
				'menuItem_PresentmentDetail_PresentmentBatchCreation',
				'menuItem_PresentmentDetail_PresentmentApprove',
				'button_PresentmentDetailDialog_btnSave','button_PresentmentDetailDialog_btnExclude',
				'button_PresentmentDetailDialog_btnInclude','PresentmentDetailDialog_partnerBank');
				
				 
				UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
				UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(Rolegrpid) FROM SECROLEGROUPS);	
				UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);	
				 
				
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_PresentmentDetail_PresentmentEnquiry','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				delete from secrolegroups where grpid in (Select grpid from SECGROUPS where grpcode='PRESENTMENT_DETAIL_ENQUIRY');
				delete from SECGROUPS where grpcode='PRESENTMENT_DETAIL_ENQUIRY';
				INSERT INTO SECGROUPS Values ((select max(grpid)+1 from SecGroups), 'PRESENTMENT_DETAIL_ENQUIRY', 'Presentment detail enquiry', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
						
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENT_DETAIL_ENQUIRY') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentEnquiry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SECROLES SELECT (select MAX(RoleID)+1 from SecRoles),1,'PRESENTMENT_DETAIL_ENQUIRY','Presentment detail enquiry','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
						
				INSERT INTO SecRoleGroups Values((select max(rolegrpid)+1 from SecRoleGroups), (select grpid from SecGroups Where grpcode = 'PRESENTMENT_DETAIL_ENQUIRY'),(select roleid from SecRoles where RoleCd='PRESENTMENT_DETAIL_ENQUIRY'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
					
				
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_PresentmentDetail_PresentmentExtract','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECGROUPS Values ((select max(grpid)+1 from SecGroups), 'PRESENTMENT_DETAIL_EXTRACT', 'Presentment detail extraction', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
						
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENT_DETAIL_EXTRACT') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentExtract'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'PRESENTMENT_DETAIL_EXTRACT','Presentment detail extraction','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
						
				INSERT INTO SecRoleGroups Values((select max(rolegrpid)+1 from SecRoleGroups), (select grpid from SecGroups Where grpcode = 'PRESENTMENT_DETAIL_EXTRACT'),(select roleid from SecRoles where RoleCd='PRESENTMENT_DETAIL_EXTRACT'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_PresentmentDetail_PresentmentFileImport','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECGROUPS Values ((select max(grpid)+1 from SecGroups), 'PRESENTMENT_FILE_IMPORT', 'Presentment file Import', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
						
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENT_FILE_IMPORT') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentFileImport'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'PRESENTMENT_FILE_IMPORT','Presentment file import','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
						
				INSERT INTO SecRoleGroups Values((select max(rolegrpid)+1 from SecRoleGroups), (select grpid from SecGroups Where grpcode = 'PRESENTMENT_FILE_IMPORT'),(select roleid from SecRoles where RoleCd='PRESENTMENT_FILE_IMPORT'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
					
				
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_PresentmentDetail_PresentmentBatchCreation','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_PresentmentDetail_PresentmentApprove','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_PresentmentDetailDialog_btnSave','PresentmentDetailDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_PresentmentDetailDialog_btnExclude','PresentmentDetailDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_PresentmentDetailDialog_btnInclude','PresentmentDetailDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'PresentmentDetailDialog_partnerBank','PresentmentDetailDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				
				INSERT INTO SECGROUPS Values ((select max(grpid)+1 from SecGroups), 'PRESENTMENTBATCH_MAKER', 'Presentment btach maker', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPS Values ((select max(grpid)+1 from SecGroups), 'PRESENTMENTBATCH_APPROVER', 'Presentment btach approver', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PresentmentDetailDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PresentmentDetailDialog_btnExclude'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PresentmentDetailDialog_btnInclude'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PresentmentDetailDialog_partnerBank'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PresentmentDetailDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'PRESENTMENTBATCH_MAKER','Presentment btach maker','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
				INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'PRESENTMENTBATCH_APPROVER','Presentment btach approver','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
						
				INSERT INTO SecRoleGroups Values((select max(rolegrpid)+1 from SecRoleGroups), (select grpid from SecGroups Where grpcode = 'PRESENTMENTBATCH_MAKER'),(select roleid from SecRoles where RoleCd='PRESENTMENTBATCH_MAKER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
				INSERT INTO SecRoleGroups Values((select max(rolegrpid)+1 from SecRoleGroups), (select grpid from SecGroups Where grpcode = 'PRESENTMENTBATCH_APPROVER'),(select roleid from SecRoles where RoleCd='PRESENTMENTBATCH_APPROVER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
				
				UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
				UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(Rolegrpid) FROM SECROLEGROUPS);	
				UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);	
			</sql>
	</changeSet>
	
	<changeSet id="51" author="Durgaprasad G">
			<sql>
					UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);
					INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentBatchCreation'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
					INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentApprove'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
					
					INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentBatchCreation'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
					INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentApprove'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
					UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);
			</sql>
	</changeSet>
	<changeSet id="52" author="Durgaprasad G">
			<sql>
				Delete from SECGROUPRIGHTS Where GRPID = (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_APPROVER') AND RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentBatchCreation');
				Delete from SECGROUPRIGHTS Where GRPID = (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') AND RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentApprove');
			</sql>
	</changeSet>
	
	 <changeSet id="53" author="Durgaprasad G">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='PRESENTMENTBATCH';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">PRESENTMENTBATCH</column>
			<column name="WorkFlowSubType">PRESENTMENTBATCH</column>
			<column name="WorkFlowDesc">Presentment batch Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">PRESENTMENTBATCH_MAKER;PRESENTMENTBATCH_APPROVER</column>
			<column name="FirstTaskOwner">PRESENTMENTBATCH_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="54" author="Durgaprasad G">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":816,"properties":{"process_id":"PRESENTMENTBATCH","name":"PRESENTMENTBATCH","documentation":"PRESENTMENTBATCH","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"PRESENTMENTBATCH_MAKER","firstName":"PRESENTMENTBATCH_MAKER","fullName":"PRESENTMENTBATCH_MAKER","id":"PRESENTMENTBATCH_MAKER","roledesc":"Workflow Maker","$$hashKey":"object:575"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":265,"y":215},"upperLeft":{"x":165,"y":135}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":164.78169969647763,"y":177.54813849089433},"upperLeft":{"x":130.06205030352237,"y":176.50654900910567}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"PRESENTMENTBATCH_APPROVER","firstName":"PRESENTMENTBATCH_APPROVER","fullName":"PRESENTMENTBATCH_APPROVER","id":"PRESENTMENTBATCH_APPROVER","roledesc":"Workflow Approver","$$hashKey":"object:965"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.78125,"y":178},"upperLeft":{"x":265.21875,"y":175}},"dockers":[{"x":50,"y":40},{"x":327.5,"y":175},{"x":327.5,"y":178},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":215,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":215,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","rerunnable":"true","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","rerunnable":"true","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.859375,"y":329},"upperLeft":{"x":215,"y":215.703125}},"dockers":[{"x":50,"y":40},{"x":215,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
  <process id="PRESENTMENTBATCH" name="PRESENTMENTBATCH" isExecutable="true">
    <documentation>PRESENTMENTBATCH</documentation>
    <startEvent id="startEvent1" name="Start"/>
    <userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="PRESENTMENTBATCH_MAKER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="PRESENTMENTBATCH_APPROVER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"/>
    <sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
    </sequenceFlow>
    <serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved"/>
    <sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected"/>
    <sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_PRESENTMENTBATCH">
    <bpmndi:BPMNPlane bpmnElement="PRESENTMENTBATCH" id="BPMNPlane_PRESENTMENTBATCH">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897">
        <omgdc:Bounds height="80.0" width="100.0" x="165.0" y="135.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08">
        <omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01">
        <omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429">
        <omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B">
        <omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB">
        <omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA">
        <omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247">
        <omgdi:waypoint x="760.0" y="178.0"/>
        <omgdi:waypoint x="805.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035">
        <omgdi:waypoint x="215.0" y="215.0"/>
        <omgdi:waypoint x="215.0" y="329.0"/>
        <omgdi:waypoint x="505.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736">
        <omgdi:waypoint x="574.5616883116883" y="178.4383116883117"/>
        <omgdi:waypoint x="660.0" y="178.16181229773463"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22">
        <omgdi:waypoint x="490.0" y="178.2164502164502"/>
        <omgdi:waypoint x="535.4130434782609" y="178.41304347826087"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B">
        <omgdi:waypoint x="605.0" y="329.0"/>
        <omgdi:waypoint x="650.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1">
        <omgdi:waypoint x="129.9932545528355" y="177.5502023634149"/>
        <omgdi:waypoint x="165.0" y="176.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE">
        <omgdi:waypoint x="555.4366666666667" y="197.56333333333333"/>
        <omgdi:waypoint x="555.1328903654485" y="289.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3">
        <omgdi:waypoint x="265.0" y="175.0"/>
        <omgdi:waypoint x="327.5" y="175.0"/>
        <omgdi:waypoint x="327.5" y="178.0"/>
        <omgdi:waypoint x="390.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D">
        <omgdi:waypoint x="555.5" y="158.5"/>
        <omgdi:waypoint x="555.5" y="76.0"/>
        <omgdi:waypoint x="215.0" y="76.0"/>
        <omgdi:waypoint x="215.0" y="135.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>]]></column>
			<where>workflowtype='PRESENTMENTBATCH'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="55" author="Durgaprasad G">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>
	<changeSet id="56" author="murthy.y">
		<sql>
			<![CDATA[
				update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_FI';
				update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_TV';
				update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_LV';
				update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_RCU';
			]]>
		</sql>
	</changeSet>
	<changeSet id="56.1" author="murthy.y">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">VERIFICATION_FI</column>
			<column name="WorkFlowSubType">Field Verification</column>
			<column name="WorkFlowDesc">Field Investigation Verification Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_FI_MAKER;VERIFICATION_FI_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_FI_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="56.2" author="murthy.y">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 2 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">VERIFICATION_TV</column>
			<column name="WorkFlowSubType">Technical Verification</column>
			<column name="WorkFlowDesc">Technical Verification Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_TV_MAKER;VERIFICATION_TV_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_TV_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="56.3" author="murthy.y">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 3 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">VERIFICATION_LV</column>
			<column name="WorkFlowSubType">Legal Verification</column>
			<column name="WorkFlowDesc">Legal Verification Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_LV_MAKER;VERIFICATION_LV_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_LV_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="56.4" author="murthy.y">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 4 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">VERIFICATION_RCU</column>
			<column name="WorkFlowSubType">RCU Verification</column>
			<column name="WorkFlowDesc">RCU Verification Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_RCU_MAKER;VERIFICATION_RCU_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_RCU_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="56.5" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":824,"properties":{"process_id":"VERIFICATION_FI","name":"Field Verification","documentation":"Field Investigation Verification","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-2F54590C-F1D2-4447-B487-D13A1AA0D196"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B","properties":{"overrideid":"","name":"VERIFICATION_FI_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_FI_MAKER","firstName":"VERIFICATION_FI_MAKER","fullName":"VERIFICATION_FI_MAKER","id":"VERIFICATION_FI_MAKER","roledesc":"Field Invistigation Verification Maker Role","$$hashKey":"object:3152"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-2F54590C-F1D2-4447-B487-D13A1AA0D196","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}},{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4","properties":{"overrideid":"","name":"VERIFICATION_FI_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_FI_APPROVER","firstName":"VERIFICATION_FI_APPROVER","fullName":"VERIFICATION_FI_APPROVER","id":"VERIFICATION_FI_APPROVER","roledesc":"Field Invistigation Verification Approver Role","$$hashKey":"object:4005"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB"}],"bounds":{"lowerRight":{"x":550,"y":218},"upperLeft":{"x":450,"y":138}},"dockers":[]},{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C"},{"resourceId":"sid-E82A1014-BBF2-4166-A4DF-433883518CB0"}],"bounds":{"lowerRight":{"x":685,"y":198},"upperLeft":{"x":645,"y":158}},"dockers":[]},{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-00B5AFB8-379A-48A1-888B-F6E24EC76394"}],"bounds":{"lowerRight":{"x":852.8333435058594,"y":218},"upperLeft":{"x":752.8333435058594,"y":138}},"dockers":[]},{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":925.8333435058594,"y":192},"upperLeft":{"x":897.8333435058594,"y":164}},"dockers":[]},{"resourceId":"sid-00B5AFB8-379A-48A1-888B-F6E24EC76394","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"}],"bounds":{"lowerRight":{"x":897.2083435058594,"y":178},"upperLeft":{"x":853.2239685058594,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"}},{"resourceId":"sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"}],"bounds":{"lowerRight":{"x":449.78125,"y":178},"upperLeft":{"x":325.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"}},{"resourceId":"sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"}],"bounds":{"lowerRight":{"x":644.4589889386365,"y":178.43643199075117},"upperLeft":{"x":550.1328079363635,"y":178.15145863424883}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"}},{"resourceId":"sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}],"bounds":{"lowerRight":{"x":665.5,"y":157.421875},"upperLeft":{"x":275,"y":50}},"dockers":[{"x":20.5,"y":20.5},{"x":665.5,"y":50},{"x":275,"y":50},{"x":50,"y":40}],"target":{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}},{"resourceId":"sid-E82A1014-BBF2-4166-A4DF-433883518CB0","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"}],"bounds":{"lowerRight":{"x":752.4791798110018,"y":178.42604674770013},"upperLeft":{"x":685.8124948029508,"y":178.18332825229987}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_FI" name="Field Verification" isExecutable="true">
				    <documentation>Field Investigation Verification</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" name="VERIFICATION_FI_MAKER" activiti:actor="VERIFICATION_FI_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-2F54590C-F1D2-4447-B487-D13A1AA0D196" sourceRef="startEvent1" targetRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" name="VERIFICATION_FI_APPROVER" activiti:actor="VERIFICATION_FI_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"/>
				    <serviceTask id="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" name="Approved"/>
				    <sequenceFlow id="sid-00B5AFB8-379A-48A1-888B-F6E24EC76394" sourceRef="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" targetRef="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0" name="Submit" sourceRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" targetRef="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Submitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB" sourceRef="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" targetRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C" name="Resubmit" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Resubmitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-E82A1014-BBF2-4166-A4DF-433883518CB0" name="Approve" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Approved'></conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_FI">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_FI" id="BPMNPlane_VERIFICATION_FI">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" id="BPMNShape_sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" id="BPMNShape_sid-01C30853-3F80-445A-86B5-8DDB55EA16B4">
				        <omgdc:Bounds height="80.0" width="100.0" x="450.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" id="BPMNShape_sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6">
				        <omgdc:Bounds height="40.0" width="40.0" x="645.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" id="BPMNShape_sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D">
				        <omgdc:Bounds height="80.0" width="100.0" x="752.8333435058594" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" id="BPMNShape_sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F">
				        <omgdc:Bounds height="28.0" width="28.0" x="897.8333435058594" y="164.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C" id="BPMNEdge_sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C">
				        <omgdi:waypoint x="665.5" y="158.5"/>
				        <omgdi:waypoint x="665.5" y="50.0"/>
				        <omgdi:waypoint x="275.0" y="50.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2F54590C-F1D2-4447-B487-D13A1AA0D196" id="BPMNEdge_sid-2F54590C-F1D2-4447-B487-D13A1AA0D196">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB" id="BPMNEdge_sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB">
				        <omgdi:waypoint x="550.0" y="178.1510574018127"/>
				        <omgdi:waypoint x="645.439393939394" y="178.43939393939394"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-E82A1014-BBF2-4166-A4DF-433883518CB0" id="BPMNEdge_sid-E82A1014-BBF2-4166-A4DF-433883518CB0">
				        <omgdi:waypoint x="684.5694275222442" y="178.43057247775582"/>
				        <omgdi:waypoint x="752.8333435058594" y="178.18203882146753"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-00B5AFB8-379A-48A1-888B-F6E24EC76394" id="BPMNEdge_sid-00B5AFB8-379A-48A1-888B-F6E24EC76394">
				        <omgdi:waypoint x="852.8333435058594" y="178.0"/>
				        <omgdi:waypoint x="897.8333435058594" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0" id="BPMNEdge_sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="450.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]>
			</column>
			<where>workflowtype='VERIFICATION_FI' and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="56.6" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":822,"properties":{"process_id":"VERIFICATION_TV","name":"Technical Verification","documentation":"Technical Verification Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-C9D47264-DAC3-4547-B326-8FD59338A4D3"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C","properties":{"overrideid":"","name":"VERIFICATION_TV_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_TV_MAKER","firstName":"VERIFICATION_TV_MAKER","fullName":"VERIFICATION_TV_MAKER","id":"VERIFICATION_TV_MAKER","roledesc":"Technical Verification Maker Role","$$hashKey":"object:1341"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-C9D47264-DAC3-4547-B326-8FD59338A4D3","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}},{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5","properties":{"overrideid":"","name":"VERIFICATION_TV_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_TV_APPROVER","firstName":"VERIFICATION_TV_APPROVER","fullName":"VERIFICATION_TV_APPROVER","id":"VERIFICATION_TV_APPROVER","roledesc":"Technical Verification Approver Role","$$hashKey":"object:2194"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05"}],"bounds":{"lowerRight":{"x":550,"y":218},"upperLeft":{"x":450,"y":138}},"dockers":[]},{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-2F494FD9-CD15-447D-B93F-C5CFF962185E"},{"resourceId":"sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3"}],"bounds":{"lowerRight":{"x":640,"y":198},"upperLeft":{"x":600,"y":158}},"dockers":[]},{"resourceId":"sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F"}],"bounds":{"lowerRight":{"x":599.7304773585561,"y":178.41381940812678},"upperLeft":{"x":550.8945226414439,"y":178.21118059187322}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F"}},{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5D097275-7E6E-48F1-B265-A0DC79266F84"}],"bounds":{"lowerRight":{"x":820,"y":218},"upperLeft":{"x":720,"y":138}},"dockers":[]},{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1003,"y":192},"upperLeft":{"x":975,"y":164}},"dockers":[]},{"resourceId":"sid-5D097275-7E6E-48F1-B265-A0DC79266F84","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"}],"bounds":{"lowerRight":{"x":974.3125,"y":178},"upperLeft":{"x":820.6171875,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"}},{"resourceId":"sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"}],"bounds":{"lowerRight":{"x":449.78125,"y":178},"upperLeft":{"x":325.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"}},{"resourceId":"sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}],"bounds":{"lowerRight":{"x":620.5,"y":157.38671875},"upperLeft":{"x":275,"y":43}},"dockers":[{"x":20.5,"y":20.5},{"x":620.5,"y":43},{"x":275,"y":43},{"x":50,"y":40}],"target":{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}},{"resourceId":"sid-2F494FD9-CD15-447D-B93F-C5CFF962185E","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1"}],"bounds":{"lowerRight":{"x":719.9453180927317,"y":178.43415553709943},"upperLeft":{"x":640.1874944072683,"y":178.16740696290057}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_TV" name="Technical Verification" isExecutable="true">
				    <documentation>Technical Verification Workflow Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" name="VERIFICATION_TV_MAKER" activiti:actor="VERIFICATION_TV_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-C9D47264-DAC3-4547-B326-8FD59338A4D3" sourceRef="startEvent1" targetRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" name="VERIFICATION_TV_APPROVER" activiti:actor="VERIFICATION_TV_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-A2C15554-D562-4730-BB39-F90E5EDA653F"/>
				    <sequenceFlow id="sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05" sourceRef="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" targetRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <serviceTask id="sid-6486A084-E0B9-43D5-85BC-125785D208A1" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" name="Approved"/>
				    <sequenceFlow id="sid-5D097275-7E6E-48F1-B265-A0DC79266F84" sourceRef="sid-6486A084-E0B9-43D5-85BC-125785D208A1" targetRef="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF" name="Submit" sourceRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" targetRef="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Submitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3" name="Resubmit" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Resubmitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-2F494FD9-CD15-447D-B93F-C5CFF962185E" name="Approve" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-6486A084-E0B9-43D5-85BC-125785D208A1" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Approved'></conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_TV">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_TV" id="BPMNPlane_VERIFICATION_TV">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" id="BPMNShape_sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" id="BPMNShape_sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5">
				        <omgdc:Bounds height="80.0" width="100.0" x="450.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" id="BPMNShape_sid-A2C15554-D562-4730-BB39-F90E5EDA653F">
				        <omgdc:Bounds height="40.0" width="40.0" x="600.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-6486A084-E0B9-43D5-85BC-125785D208A1" id="BPMNShape_sid-6486A084-E0B9-43D5-85BC-125785D208A1">
				        <omgdc:Bounds height="80.0" width="100.0" x="720.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" id="BPMNShape_sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C">
				        <omgdc:Bounds height="28.0" width="28.0" x="975.0" y="164.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-5D097275-7E6E-48F1-B265-A0DC79266F84" id="BPMNEdge_sid-5D097275-7E6E-48F1-B265-A0DC79266F84">
				        <omgdi:waypoint x="820.0" y="178.0"/>
				        <omgdi:waypoint x="975.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-C9D47264-DAC3-4547-B326-8FD59338A4D3" id="BPMNEdge_sid-C9D47264-DAC3-4547-B326-8FD59338A4D3">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05" id="BPMNEdge_sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05">
				        <omgdi:waypoint x="550.0" y="178.20746887966806"/>
				        <omgdi:waypoint x="600.4166666666666" y="178.41666666666666"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF" id="BPMNEdge_sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="450.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3" id="BPMNEdge_sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3">
				        <omgdi:waypoint x="620.5" y="158.5"/>
				        <omgdi:waypoint x="620.5" y="43.0"/>
				        <omgdi:waypoint x="275.0" y="43.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2F494FD9-CD15-447D-B93F-C5CFF962185E" id="BPMNEdge_sid-2F494FD9-CD15-447D-B93F-C5CFF962185E">
				        <omgdi:waypoint x="639.5637583892617" y="178.43624161073825"/>
				        <omgdi:waypoint x="720.0" y="178.16722408026754"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
				]]></column>
				<where>workflowtype='VERIFICATION_TV' and workflowactive=1</where>
			</update>
		</changeSet>
	<changeSet id="56.7" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":821,"properties":{"process_id":"VERIFICATION_LV","name":"Legal Verification","documentation":"Legal Verification Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC","properties":{"overrideid":"","name":"VERIFICATION_LV_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_LV_MAKER","firstName":"VERIFICATION_LV_MAKER","fullName":"VERIFICATION_LV_MAKER","id":"VERIFICATION_LV_MAKER","roledesc":"Legal Verification  Maker Role","$$hashKey":"object:4797"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}},{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993","properties":{"overrideid":"","name":"VERIFICATION_LV_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_LV_APPROVER","firstName":"VERIFICATION_LV_APPROVER","fullName":"VERIFICATION_LV_APPROVER","id":"VERIFICATION_LV_APPROVER","roledesc":"Legal Verification Approver Role","$$hashKey":"object:2089"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12"}],"bounds":{"lowerRight":{"x":565,"y":218},"upperLeft":{"x":465,"y":138}},"dockers":[]},{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E"},{"resourceId":"sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC"}],"bounds":{"lowerRight":{"x":650,"y":198},"upperLeft":{"x":610,"y":158}},"dockers":[]},{"resourceId":"sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"}],"bounds":{"lowerRight":{"x":609.6484468700075,"y":178.4097335362338},"upperLeft":{"x":565.6288968799925,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"}},{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882","properties":{"overrideid":"","name":"Approve","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A"}],"bounds":{"lowerRight":{"x":880,"y":219},"upperLeft":{"x":780,"y":139}},"dockers":[]},{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":953,"y":193},"upperLeft":{"x":925,"y":165}},"dockers":[]},{"resourceId":"sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"}],"bounds":{"lowerRight":{"x":924.375,"y":179},"upperLeft":{"x":880.390625,"y":179}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"}},{"resourceId":"sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}],"bounds":{"lowerRight":{"x":630.5,"y":157.482421875},"upperLeft":{"x":275,"y":40}},"dockers":[{"x":20.5,"y":20.5},{"x":630.5,"y":40},{"x":275,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}},{"resourceId":"sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882"}],"bounds":{"lowerRight":{"x":779.125003140669,"y":178.87249374220718},"upperLeft":{"x":650.203121859331,"y":178.54938125779282}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882"}},{"resourceId":"sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"}],"bounds":{"lowerRight":{"x":464.3125,"y":178},"upperLeft":{"x":325.6875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_LV" name="Legal Verification" isExecutable="true">
				    <documentation>Legal Verification Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" name="VERIFICATION_LV_MAKER" activiti:actor="VERIFICATION_LV_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429" sourceRef="startEvent1" targetRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" name="VERIFICATION_LV_APPROVER" activiti:actor="VERIFICATION_LV_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"/>
				    <sequenceFlow id="sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12" sourceRef="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" targetRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <serviceTask id="sid-B6912A57-A720-41C6-9848-F18CD022A882" name="Approve" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" name="Approved"/>
				    <sequenceFlow id="sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A" sourceRef="sid-B6912A57-A720-41C6-9848-F18CD022A882" targetRef="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E" name="Resubmit" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Resubmitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC" name="Approve" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-B6912A57-A720-41C6-9848-F18CD022A882" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Approved'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1" name="Submit" sourceRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" targetRef="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Submitted'></conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_LV">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_LV" id="BPMNPlane_VERIFICATION_LV">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" id="BPMNShape_sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" id="BPMNShape_sid-A83FA45C-5E90-4206-B37D-A6FC02C39993">
				        <omgdc:Bounds height="80.0" width="100.0" x="465.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" id="BPMNShape_sid-8D807C3F-B007-4737-8971-81A8B1D8D91D">
				        <omgdc:Bounds height="40.0" width="40.0" x="610.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-B6912A57-A720-41C6-9848-F18CD022A882" id="BPMNShape_sid-B6912A57-A720-41C6-9848-F18CD022A882">
				        <omgdc:Bounds height="80.0" width="100.0" x="780.0" y="139.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" id="BPMNShape_sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC">
				        <omgdc:Bounds height="28.0" width="28.0" x="925.0" y="165.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E" id="BPMNEdge_sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E">
				        <omgdi:waypoint x="630.5" y="158.5"/>
				        <omgdi:waypoint x="630.5" y="40.0"/>
				        <omgdi:waypoint x="275.0" y="40.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429" id="BPMNEdge_sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC" id="BPMNEdge_sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC">
				        <omgdi:waypoint x="649.4525" y="178.5475"/>
				        <omgdi:waypoint x="780.0" y="178.87468671679198"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1" id="BPMNEdge_sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="465.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12" id="BPMNEdge_sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12">
				        <omgdi:waypoint x="565.0" y="178.2164502164502"/>
				        <omgdi:waypoint x="610.4130434782609" y="178.41304347826087"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A" id="BPMNEdge_sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A">
				        <omgdi:waypoint x="880.0" y="179.0"/>
				        <omgdi:waypoint x="925.0" y="179.0"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]></column>
			<where>workflowtype='VERIFICATION_LV' and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="56.8" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":804,"properties":{"process_id":"VERIFICATION_RCU","name":"RCU Verification","documentation":"RCU Verification Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-F217549F-16A8-4A3D-B25B-E61372BCA670"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA","properties":{"overrideid":"","name":"VERIFICATION_RCU_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_RCU_MAKER","firstName":"VERIFICATION_RCU_MAKER","fullName":"VERIFICATION_RCU_MAKER","id":"VERIFICATION_RCU_MAKER","roledesc":"RCU Verification Maker Role","$$hashKey":"object:1752"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E1B2B81D-D508-4EF3-B494-E90840775928"}],"bounds":{"lowerRight":{"x":280,"y":218},"upperLeft":{"x":180,"y":138}},"dockers":[]},{"resourceId":"sid-F217549F-16A8-4A3D-B25B-E61372BCA670","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}],"bounds":{"lowerRight":{"x":179.5859375,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}},{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61","properties":{"overrideid":"","name":"VERIFICATION_RCU_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_RCU_APPROVER","firstName":"VERIFICATION_RCU_APPROVER","fullName":"VERIFICATION_RCU_APPROVER","id":"VERIFICATION_RCU_APPROVER","roledesc":"RCU Verification Approver Role","$$hashKey":"object:2605"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D"}],"bounds":{"lowerRight":{"x":505,"y":218},"upperLeft":{"x":405,"y":138}},"dockers":[]},{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038"},{"resourceId":"sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF"}],"bounds":{"lowerRight":{"x":700,"y":198},"upperLeft":{"x":660,"y":158}},"dockers":[]},{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94"}],"bounds":{"lowerRight":{"x":945.8333435058594,"y":220},"upperLeft":{"x":845.8333435058594,"y":140}},"dockers":[]},{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1018.8333435058594,"y":194},"upperLeft":{"x":990.8333435058594,"y":166}},"dockers":[]},{"resourceId":"sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"}],"bounds":{"lowerRight":{"x":990.2083435058594,"y":180},"upperLeft":{"x":946.2239685058594,"y":180}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"}},{"resourceId":"sid-E1B2B81D-D508-4EF3-B494-E90840775928","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"}],"bounds":{"lowerRight":{"x":404.78125,"y":178},"upperLeft":{"x":280.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"}},{"resourceId":"sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"}],"bounds":{"lowerRight":{"x":659.2402368331893,"y":178.4528608355503},"upperLeft":{"x":505.3281225418107,"y":178.1115922894497}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"}},{"resourceId":"sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}],"bounds":{"lowerRight":{"x":680.5,"y":157.51171875},"upperLeft":{"x":230,"y":28}},"dockers":[{"x":20.5,"y":20.5},{"x":680.5,"y":28},{"x":230,"y":28},{"x":50,"y":40}],"target":{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}},{"resourceId":"sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E"}],"bounds":{"lowerRight":{"x":845.2057612560479,"y":179.64733110005952},"upperLeft":{"x":700.0051849462302,"y":178.63587202494048}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_RCU" name="RCU Verification" isExecutable="true">
				    <documentation>RCU Verification Workflow Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" name="VERIFICATION_RCU_MAKER" activiti:actor="VERIFICATION_RCU_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-F217549F-16A8-4A3D-B25B-E61372BCA670" sourceRef="startEvent1" targetRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" name="VERIFICATION_RCU_APPROVER" activiti:actor="VERIFICATION_RCU_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"/>
				    <serviceTask id="sid-A389106C-0EE9-4B05-AB86-E175C528734E" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" name="Approved"/>
				    <sequenceFlow id="sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94" sourceRef="sid-A389106C-0EE9-4B05-AB86-E175C528734E" targetRef="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-E1B2B81D-D508-4EF3-B494-E90840775928" name="Submit" sourceRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" targetRef="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Submitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D" sourceRef="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" targetRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038" name="Resubmit" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Resubmitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF" name="Approve" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-A389106C-0EE9-4B05-AB86-E175C528734E" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Approved'></conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_RCU">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_RCU" id="BPMNPlane_VERIFICATION_RCU">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" id="BPMNShape_sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA">
				        <omgdc:Bounds height="80.0" width="100.0" x="180.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" id="BPMNShape_sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61">
				        <omgdc:Bounds height="80.0" width="100.0" x="405.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" id="BPMNShape_sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C">
				        <omgdc:Bounds height="40.0" width="40.0" x="660.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A389106C-0EE9-4B05-AB86-E175C528734E" id="BPMNShape_sid-A389106C-0EE9-4B05-AB86-E175C528734E">
				        <omgdc:Bounds height="80.0" width="100.0" x="845.8333435058594" y="140.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" id="BPMNShape_sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68">
				        <omgdc:Bounds height="28.0" width="28.0" x="990.8333435058594" y="166.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-F217549F-16A8-4A3D-B25B-E61372BCA670" id="BPMNEdge_sid-F217549F-16A8-4A3D-B25B-E61372BCA670">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="180.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038" id="BPMNEdge_sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038">
				        <omgdi:waypoint x="680.5" y="158.5"/>
				        <omgdi:waypoint x="680.5" y="28.0"/>
				        <omgdi:waypoint x="230.0" y="28.0"/>
				        <omgdi:waypoint x="230.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94" id="BPMNEdge_sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94">
				        <omgdi:waypoint x="945.8333435058594" y="180.0"/>
				        <omgdi:waypoint x="990.8333435058594" y="180.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF" id="BPMNEdge_sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF">
				        <omgdi:waypoint x="699.3685626502862" y="178.63143734971385"/>
				        <omgdi:waypoint x="845.8333435058594" y="179.65170280283155"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-E1B2B81D-D508-4EF3-B494-E90840775928" id="BPMNEdge_sid-E1B2B81D-D508-4EF3-B494-E90840775928">
				        <omgdi:waypoint x="280.0" y="178.0"/>
				        <omgdi:waypoint x="405.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D" id="BPMNEdge_sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D">
				        <omgdi:waypoint x="505.0" y="178.1108647450111"/>
				        <omgdi:waypoint x="660.4555555555555" y="178.45555555555555"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]></column>
			<where>workflowtype='VERIFICATION_RCU' and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="56.9" author="murthy.y">
		<sql>
			<![CDATA[
				UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
			]]>
		</sql>
	</changeSet>
	<changeSet id="57" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":824,"properties":{"process_id":"VERIFICATION_FI","name":"Field Verification","documentation":"Field Investigation Verification","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-2F54590C-F1D2-4447-B487-D13A1AA0D196"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B","properties":{"overrideid":"","name":"VERIFICATION_FI_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_FI_MAKER","firstName":"VERIFICATION_FI_MAKER","fullName":"VERIFICATION_FI_MAKER","id":"VERIFICATION_FI_MAKER","roledesc":"Field Invistigation Verification Maker Role","$$hashKey":"object:3152"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-2F54590C-F1D2-4447-B487-D13A1AA0D196","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}},{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4","properties":{"overrideid":"","name":"VERIFICATION_FI_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_FI_APPROVER","firstName":"VERIFICATION_FI_APPROVER","fullName":"VERIFICATION_FI_APPROVER","id":"VERIFICATION_FI_APPROVER","roledesc":"Field Invistigation Verification Approver Role","$$hashKey":"object:4005"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB"}],"bounds":{"lowerRight":{"x":550,"y":218},"upperLeft":{"x":450,"y":138}},"dockers":[]},{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C"},{"resourceId":"sid-E82A1014-BBF2-4166-A4DF-433883518CB0"}],"bounds":{"lowerRight":{"x":685,"y":198},"upperLeft":{"x":645,"y":158}},"dockers":[]},{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-00B5AFB8-379A-48A1-888B-F6E24EC76394"}],"bounds":{"lowerRight":{"x":852.8333435058594,"y":218},"upperLeft":{"x":752.8333435058594,"y":138}},"dockers":[]},{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":925.8333435058594,"y":192},"upperLeft":{"x":897.8333435058594,"y":164}},"dockers":[]},{"resourceId":"sid-00B5AFB8-379A-48A1-888B-F6E24EC76394","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"}],"bounds":{"lowerRight":{"x":897.2083435058594,"y":178},"upperLeft":{"x":853.2239685058594,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"}},{"resourceId":"sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"}],"bounds":{"lowerRight":{"x":449.78125,"y":178},"upperLeft":{"x":325.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"}},{"resourceId":"sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"}],"bounds":{"lowerRight":{"x":644.4589889386365,"y":178.43643199075117},"upperLeft":{"x":550.1328079363635,"y":178.15145863424883}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"}},{"resourceId":"sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}],"bounds":{"lowerRight":{"x":665.5,"y":157.421875},"upperLeft":{"x":275,"y":50}},"dockers":[{"x":20.5,"y":20.5},{"x":665.5,"y":50},{"x":275,"y":50},{"x":50,"y":40}],"target":{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}},{"resourceId":"sid-E82A1014-BBF2-4166-A4DF-433883518CB0","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"}],"bounds":{"lowerRight":{"x":752.4791798110018,"y":178.42604674770013},"upperLeft":{"x":685.8124948029508,"y":178.18332825229987}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_FI" name="Field Verification" isExecutable="true">
				    <documentation>Field Investigation Verification</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" name="VERIFICATION_FI_MAKER" activiti:actor="VERIFICATION_FI_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-2F54590C-F1D2-4447-B487-D13A1AA0D196" sourceRef="startEvent1" targetRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" name="VERIFICATION_FI_APPROVER" activiti:actor="VERIFICATION_FI_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"/>
				    <serviceTask id="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" name="Approved"/>
				    <sequenceFlow id="sid-00B5AFB8-379A-48A1-888B-F6E24EC76394" sourceRef="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" targetRef="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0" name="Submit" sourceRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" targetRef="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB" sourceRef="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" targetRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C" name="Resubmit" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-E82A1014-BBF2-4166-A4DF-433883518CB0" name="Approve" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_FI">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_FI" id="BPMNPlane_VERIFICATION_FI">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" id="BPMNShape_sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" id="BPMNShape_sid-01C30853-3F80-445A-86B5-8DDB55EA16B4">
				        <omgdc:Bounds height="80.0" width="100.0" x="450.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" id="BPMNShape_sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6">
				        <omgdc:Bounds height="40.0" width="40.0" x="645.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" id="BPMNShape_sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D">
				        <omgdc:Bounds height="80.0" width="100.0" x="752.8333435058594" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" id="BPMNShape_sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F">
				        <omgdc:Bounds height="28.0" width="28.0" x="897.8333435058594" y="164.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C" id="BPMNEdge_sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C">
				        <omgdi:waypoint x="665.5" y="158.5"/>
				        <omgdi:waypoint x="665.5" y="50.0"/>
				        <omgdi:waypoint x="275.0" y="50.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2F54590C-F1D2-4447-B487-D13A1AA0D196" id="BPMNEdge_sid-2F54590C-F1D2-4447-B487-D13A1AA0D196">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB" id="BPMNEdge_sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB">
				        <omgdi:waypoint x="550.0" y="178.1510574018127"/>
				        <omgdi:waypoint x="645.439393939394" y="178.43939393939394"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-E82A1014-BBF2-4166-A4DF-433883518CB0" id="BPMNEdge_sid-E82A1014-BBF2-4166-A4DF-433883518CB0">
				        <omgdi:waypoint x="684.5694275222442" y="178.43057247775582"/>
				        <omgdi:waypoint x="752.8333435058594" y="178.18203882146753"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-00B5AFB8-379A-48A1-888B-F6E24EC76394" id="BPMNEdge_sid-00B5AFB8-379A-48A1-888B-F6E24EC76394">
				        <omgdi:waypoint x="852.8333435058594" y="178.0"/>
				        <omgdi:waypoint x="897.8333435058594" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0" id="BPMNEdge_sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="450.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]>
			</column>
			<where>workflowtype='VERIFICATION_FI' and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="57.2" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":822,"properties":{"process_id":"VERIFICATION_TV","name":"Technical Verification","documentation":"Technical Verification Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-C9D47264-DAC3-4547-B326-8FD59338A4D3"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C","properties":{"overrideid":"","name":"VERIFICATION_TV_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_TV_MAKER","firstName":"VERIFICATION_TV_MAKER","fullName":"VERIFICATION_TV_MAKER","id":"VERIFICATION_TV_MAKER","roledesc":"Technical Verification Maker Role","$$hashKey":"object:1341"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-C9D47264-DAC3-4547-B326-8FD59338A4D3","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}},{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5","properties":{"overrideid":"","name":"VERIFICATION_TV_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_TV_APPROVER","firstName":"VERIFICATION_TV_APPROVER","fullName":"VERIFICATION_TV_APPROVER","id":"VERIFICATION_TV_APPROVER","roledesc":"Technical Verification Approver Role","$$hashKey":"object:2194"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05"}],"bounds":{"lowerRight":{"x":550,"y":218},"upperLeft":{"x":450,"y":138}},"dockers":[]},{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-2F494FD9-CD15-447D-B93F-C5CFF962185E"},{"resourceId":"sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3"}],"bounds":{"lowerRight":{"x":640,"y":198},"upperLeft":{"x":600,"y":158}},"dockers":[]},{"resourceId":"sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F"}],"bounds":{"lowerRight":{"x":599.7304773585561,"y":178.41381940812678},"upperLeft":{"x":550.8945226414439,"y":178.21118059187322}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F"}},{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5D097275-7E6E-48F1-B265-A0DC79266F84"}],"bounds":{"lowerRight":{"x":820,"y":218},"upperLeft":{"x":720,"y":138}},"dockers":[]},{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1003,"y":192},"upperLeft":{"x":975,"y":164}},"dockers":[]},{"resourceId":"sid-5D097275-7E6E-48F1-B265-A0DC79266F84","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"}],"bounds":{"lowerRight":{"x":974.3125,"y":178},"upperLeft":{"x":820.6171875,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"}},{"resourceId":"sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"}],"bounds":{"lowerRight":{"x":449.78125,"y":178},"upperLeft":{"x":325.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"}},{"resourceId":"sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}],"bounds":{"lowerRight":{"x":620.5,"y":157.38671875},"upperLeft":{"x":275,"y":43}},"dockers":[{"x":20.5,"y":20.5},{"x":620.5,"y":43},{"x":275,"y":43},{"x":50,"y":40}],"target":{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}},{"resourceId":"sid-2F494FD9-CD15-447D-B93F-C5CFF962185E","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1"}],"bounds":{"lowerRight":{"x":719.9453180927317,"y":178.43415553709943},"upperLeft":{"x":640.1874944072683,"y":178.16740696290057}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_TV" name="Technical Verification" isExecutable="true">
				    <documentation>Technical Verification Workflow Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" name="VERIFICATION_TV_MAKER" activiti:actor="VERIFICATION_TV_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-C9D47264-DAC3-4547-B326-8FD59338A4D3" sourceRef="startEvent1" targetRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" name="VERIFICATION_TV_APPROVER" activiti:actor="VERIFICATION_TV_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-A2C15554-D562-4730-BB39-F90E5EDA653F"/>
				    <sequenceFlow id="sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05" sourceRef="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" targetRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <serviceTask id="sid-6486A084-E0B9-43D5-85BC-125785D208A1" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" name="Approved"/>
				    <sequenceFlow id="sid-5D097275-7E6E-48F1-B265-A0DC79266F84" sourceRef="sid-6486A084-E0B9-43D5-85BC-125785D208A1" targetRef="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF" name="Submit" sourceRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" targetRef="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3" name="Resubmit" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-2F494FD9-CD15-447D-B93F-C5CFF962185E" name="Approve" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-6486A084-E0B9-43D5-85BC-125785D208A1" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_TV">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_TV" id="BPMNPlane_VERIFICATION_TV">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" id="BPMNShape_sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" id="BPMNShape_sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5">
				        <omgdc:Bounds height="80.0" width="100.0" x="450.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" id="BPMNShape_sid-A2C15554-D562-4730-BB39-F90E5EDA653F">
				        <omgdc:Bounds height="40.0" width="40.0" x="600.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-6486A084-E0B9-43D5-85BC-125785D208A1" id="BPMNShape_sid-6486A084-E0B9-43D5-85BC-125785D208A1">
				        <omgdc:Bounds height="80.0" width="100.0" x="720.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" id="BPMNShape_sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C">
				        <omgdc:Bounds height="28.0" width="28.0" x="975.0" y="164.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-5D097275-7E6E-48F1-B265-A0DC79266F84" id="BPMNEdge_sid-5D097275-7E6E-48F1-B265-A0DC79266F84">
				        <omgdi:waypoint x="820.0" y="178.0"/>
				        <omgdi:waypoint x="975.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-C9D47264-DAC3-4547-B326-8FD59338A4D3" id="BPMNEdge_sid-C9D47264-DAC3-4547-B326-8FD59338A4D3">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05" id="BPMNEdge_sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05">
				        <omgdi:waypoint x="550.0" y="178.20746887966806"/>
				        <omgdi:waypoint x="600.4166666666666" y="178.41666666666666"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF" id="BPMNEdge_sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="450.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3" id="BPMNEdge_sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3">
				        <omgdi:waypoint x="620.5" y="158.5"/>
				        <omgdi:waypoint x="620.5" y="43.0"/>
				        <omgdi:waypoint x="275.0" y="43.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2F494FD9-CD15-447D-B93F-C5CFF962185E" id="BPMNEdge_sid-2F494FD9-CD15-447D-B93F-C5CFF962185E">
				        <omgdi:waypoint x="639.5637583892617" y="178.43624161073825"/>
				        <omgdi:waypoint x="720.0" y="178.16722408026754"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
				]]></column>
				<where>workflowtype='VERIFICATION_TV' and workflowactive=1</where>
			</update>
		</changeSet>
	<changeSet id="57.3" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":821,"properties":{"process_id":"VERIFICATION_LV","name":"Legal Verification","documentation":"Legal Verification Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC","properties":{"overrideid":"","name":"VERIFICATION_LV_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_LV_MAKER","firstName":"VERIFICATION_LV_MAKER","fullName":"VERIFICATION_LV_MAKER","id":"VERIFICATION_LV_MAKER","roledesc":"Legal Verification  Maker Role","$$hashKey":"object:4797"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}},{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993","properties":{"overrideid":"","name":"VERIFICATION_LV_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_LV_APPROVER","firstName":"VERIFICATION_LV_APPROVER","fullName":"VERIFICATION_LV_APPROVER","id":"VERIFICATION_LV_APPROVER","roledesc":"Legal Verification Approver Role","$$hashKey":"object:2089"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12"}],"bounds":{"lowerRight":{"x":565,"y":218},"upperLeft":{"x":465,"y":138}},"dockers":[]},{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E"},{"resourceId":"sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC"}],"bounds":{"lowerRight":{"x":650,"y":198},"upperLeft":{"x":610,"y":158}},"dockers":[]},{"resourceId":"sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"}],"bounds":{"lowerRight":{"x":609.6484468700075,"y":178.4097335362338},"upperLeft":{"x":565.6288968799925,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"}},{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882","properties":{"overrideid":"","name":"Approve","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A"}],"bounds":{"lowerRight":{"x":880,"y":219},"upperLeft":{"x":780,"y":139}},"dockers":[]},{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":953,"y":193},"upperLeft":{"x":925,"y":165}},"dockers":[]},{"resourceId":"sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"}],"bounds":{"lowerRight":{"x":924.375,"y":179},"upperLeft":{"x":880.390625,"y":179}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"}},{"resourceId":"sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}],"bounds":{"lowerRight":{"x":630.5,"y":157.482421875},"upperLeft":{"x":275,"y":40}},"dockers":[{"x":20.5,"y":20.5},{"x":630.5,"y":40},{"x":275,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}},{"resourceId":"sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882"}],"bounds":{"lowerRight":{"x":779.125003140669,"y":178.87249374220718},"upperLeft":{"x":650.203121859331,"y":178.54938125779282}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882"}},{"resourceId":"sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"}],"bounds":{"lowerRight":{"x":464.3125,"y":178},"upperLeft":{"x":325.6875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_LV" name="Legal Verification" isExecutable="true">
				    <documentation>Legal Verification Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" name="VERIFICATION_LV_MAKER" activiti:actor="VERIFICATION_LV_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429" sourceRef="startEvent1" targetRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" name="VERIFICATION_LV_APPROVER" activiti:actor="VERIFICATION_LV_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"/>
				    <sequenceFlow id="sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12" sourceRef="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" targetRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <serviceTask id="sid-B6912A57-A720-41C6-9848-F18CD022A882" name="Approve" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" name="Approved"/>
				    <sequenceFlow id="sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A" sourceRef="sid-B6912A57-A720-41C6-9848-F18CD022A882" targetRef="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E" name="Resubmit" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC" name="Approve" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-B6912A57-A720-41C6-9848-F18CD022A882" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1" name="Submit" sourceRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" targetRef="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_LV">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_LV" id="BPMNPlane_VERIFICATION_LV">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" id="BPMNShape_sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" id="BPMNShape_sid-A83FA45C-5E90-4206-B37D-A6FC02C39993">
				        <omgdc:Bounds height="80.0" width="100.0" x="465.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" id="BPMNShape_sid-8D807C3F-B007-4737-8971-81A8B1D8D91D">
				        <omgdc:Bounds height="40.0" width="40.0" x="610.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-B6912A57-A720-41C6-9848-F18CD022A882" id="BPMNShape_sid-B6912A57-A720-41C6-9848-F18CD022A882">
				        <omgdc:Bounds height="80.0" width="100.0" x="780.0" y="139.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" id="BPMNShape_sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC">
				        <omgdc:Bounds height="28.0" width="28.0" x="925.0" y="165.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E" id="BPMNEdge_sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E">
				        <omgdi:waypoint x="630.5" y="158.5"/>
				        <omgdi:waypoint x="630.5" y="40.0"/>
				        <omgdi:waypoint x="275.0" y="40.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429" id="BPMNEdge_sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC" id="BPMNEdge_sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC">
				        <omgdi:waypoint x="649.4525" y="178.5475"/>
				        <omgdi:waypoint x="780.0" y="178.87468671679198"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1" id="BPMNEdge_sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="465.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12" id="BPMNEdge_sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12">
				        <omgdi:waypoint x="565.0" y="178.2164502164502"/>
				        <omgdi:waypoint x="610.4130434782609" y="178.41304347826087"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A" id="BPMNEdge_sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A">
				        <omgdi:waypoint x="880.0" y="179.0"/>
				        <omgdi:waypoint x="925.0" y="179.0"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]></column>
			<where>workflowtype='VERIFICATION_LV' and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="57.4" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":804,"properties":{"process_id":"VERIFICATION_RCU","name":"RCU Verification","documentation":"RCU Verification Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-F217549F-16A8-4A3D-B25B-E61372BCA670"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA","properties":{"overrideid":"","name":"VERIFICATION_RCU_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_RCU_MAKER","firstName":"VERIFICATION_RCU_MAKER","fullName":"VERIFICATION_RCU_MAKER","id":"VERIFICATION_RCU_MAKER","roledesc":"RCU Verification Maker Role","$$hashKey":"object:1752"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E1B2B81D-D508-4EF3-B494-E90840775928"}],"bounds":{"lowerRight":{"x":280,"y":218},"upperLeft":{"x":180,"y":138}},"dockers":[]},{"resourceId":"sid-F217549F-16A8-4A3D-B25B-E61372BCA670","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}],"bounds":{"lowerRight":{"x":179.5859375,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}},{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61","properties":{"overrideid":"","name":"VERIFICATION_RCU_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_RCU_APPROVER","firstName":"VERIFICATION_RCU_APPROVER","fullName":"VERIFICATION_RCU_APPROVER","id":"VERIFICATION_RCU_APPROVER","roledesc":"RCU Verification Approver Role","$$hashKey":"object:2605"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D"}],"bounds":{"lowerRight":{"x":505,"y":218},"upperLeft":{"x":405,"y":138}},"dockers":[]},{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038"},{"resourceId":"sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF"}],"bounds":{"lowerRight":{"x":700,"y":198},"upperLeft":{"x":660,"y":158}},"dockers":[]},{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94"}],"bounds":{"lowerRight":{"x":945.8333435058594,"y":220},"upperLeft":{"x":845.8333435058594,"y":140}},"dockers":[]},{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1018.8333435058594,"y":194},"upperLeft":{"x":990.8333435058594,"y":166}},"dockers":[]},{"resourceId":"sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"}],"bounds":{"lowerRight":{"x":990.2083435058594,"y":180},"upperLeft":{"x":946.2239685058594,"y":180}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"}},{"resourceId":"sid-E1B2B81D-D508-4EF3-B494-E90840775928","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"}],"bounds":{"lowerRight":{"x":404.78125,"y":178},"upperLeft":{"x":280.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"}},{"resourceId":"sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"}],"bounds":{"lowerRight":{"x":659.2402368331893,"y":178.4528608355503},"upperLeft":{"x":505.3281225418107,"y":178.1115922894497}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"}},{"resourceId":"sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}],"bounds":{"lowerRight":{"x":680.5,"y":157.51171875},"upperLeft":{"x":230,"y":28}},"dockers":[{"x":20.5,"y":20.5},{"x":680.5,"y":28},{"x":230,"y":28},{"x":50,"y":40}],"target":{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}},{"resourceId":"sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E"}],"bounds":{"lowerRight":{"x":845.2057612560479,"y":179.64733110005952},"upperLeft":{"x":700.0051849462302,"y":178.63587202494048}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_RCU" name="RCU Verification" isExecutable="true">
				    <documentation>RCU Verification Workflow Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" name="VERIFICATION_RCU_MAKER" activiti:actor="VERIFICATION_RCU_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-F217549F-16A8-4A3D-B25B-E61372BCA670" sourceRef="startEvent1" targetRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" name="VERIFICATION_RCU_APPROVER" activiti:actor="VERIFICATION_RCU_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"/>
				    <serviceTask id="sid-A389106C-0EE9-4B05-AB86-E175C528734E" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" name="Approved"/>
				    <sequenceFlow id="sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94" sourceRef="sid-A389106C-0EE9-4B05-AB86-E175C528734E" targetRef="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-E1B2B81D-D508-4EF3-B494-E90840775928" name="Submit" sourceRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" targetRef="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D" sourceRef="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" targetRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038" name="Resubmit" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF" name="Approve" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-A389106C-0EE9-4B05-AB86-E175C528734E" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_RCU">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_RCU" id="BPMNPlane_VERIFICATION_RCU">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" id="BPMNShape_sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA">
				        <omgdc:Bounds height="80.0" width="100.0" x="180.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" id="BPMNShape_sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61">
				        <omgdc:Bounds height="80.0" width="100.0" x="405.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" id="BPMNShape_sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C">
				        <omgdc:Bounds height="40.0" width="40.0" x="660.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A389106C-0EE9-4B05-AB86-E175C528734E" id="BPMNShape_sid-A389106C-0EE9-4B05-AB86-E175C528734E">
				        <omgdc:Bounds height="80.0" width="100.0" x="845.8333435058594" y="140.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" id="BPMNShape_sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68">
				        <omgdc:Bounds height="28.0" width="28.0" x="990.8333435058594" y="166.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-F217549F-16A8-4A3D-B25B-E61372BCA670" id="BPMNEdge_sid-F217549F-16A8-4A3D-B25B-E61372BCA670">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="180.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038" id="BPMNEdge_sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038">
				        <omgdi:waypoint x="680.5" y="158.5"/>
				        <omgdi:waypoint x="680.5" y="28.0"/>
				        <omgdi:waypoint x="230.0" y="28.0"/>
				        <omgdi:waypoint x="230.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94" id="BPMNEdge_sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94">
				        <omgdi:waypoint x="945.8333435058594" y="180.0"/>
				        <omgdi:waypoint x="990.8333435058594" y="180.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF" id="BPMNEdge_sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF">
				        <omgdi:waypoint x="699.3685626502862" y="178.63143734971385"/>
				        <omgdi:waypoint x="845.8333435058594" y="179.65170280283155"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-E1B2B81D-D508-4EF3-B494-E90840775928" id="BPMNEdge_sid-E1B2B81D-D508-4EF3-B494-E90840775928">
				        <omgdi:waypoint x="280.0" y="178.0"/>
				        <omgdi:waypoint x="405.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D" id="BPMNEdge_sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D">
				        <omgdi:waypoint x="505.0" y="178.1108647450111"/>
				        <omgdi:waypoint x="660.4555555555555" y="178.45555555555555"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]></column>
			<where>workflowtype='VERIFICATION_RCU' and workflowactive=1</where>
		</update>
	</changeSet>
	 
	<changeSet id="58" author="madhubabu.p">
	<comment> covenants Enquiry view only to show the temp records</comment>
	<createView viewName="fincovenanttype_eview" replaceIfExists="true">
			SELECT t.finreference,
    t.custid,
    t.covenanttype,
    t.description,
    t.mandrole,
    t.alwwaiver,
    t.alwpostpone,
    t.alwotc,
    t.postponedays,
    t.covenanttypedesc,
    t.categorycode,
    t.receivabledate,
    t.version,
    t.lastmntby,
    t.lastmnton,
    t.recordstatus,
    t.rolecode,
    t.nextrolecode,
    t.taskid,
    t.nexttaskid,
    t.recordtype,
    t.workflowid,
        CASE
            WHEN t.docreceiveddate IS NULL THEN cd.lastmnton
            ELSE t.docreceiveddate
        END AS docreceiveddate,
    t.pddflag,
    t.otcflag
   FROM ( SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
            t1.postponedays,
            t1.alwotc,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate,
            t3.pdd AS pddflag,
            t3.otc AS otcflag
           FROM fincovenanttype_temp t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain_temp t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory
        ) t
     LEFT JOIN customerdocuments cd ON cd.custid = t.custid AND t.covenanttype = cd.custdoccategory
			</createView>
</changeSet>

<changeSet id="59" author="Manoj">
	<sql>
		DELETE FROM SMTPARAMETERS where SYSPARMCODE = 'EXT_CRM_INT_ENABLED';
		INSERT INTO SMTPARAMETERS VALUES ('EXT_CRM_INT_ENABLED', 'CRM Required or Not(Y, N)', 'String', 1, 'Y', 1, 0, NULL, NULL,'CRM Required or Not', 1, 1000, CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0);
	</sql>
</changeSet>
<changeSet id="60" author="vijaykumar.l">
<sql>
delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Customer_Obligation_Internal';
delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Customer_Obligation_External';
delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Co_Applicants_Obligation_Internal';
delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Co_Applicants_Obligation_External';

Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
 ('ELGRULE','ELGRULE','Customer_Obligation_Internal','  Customer Obligation Internal','decimal',18,'1','1','','static,calvalue','');
Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('ELGRULE','ELGRULE','Customer_Obligation_External',' Customer Oblication External','decimal',18,'1','1','','static,calvalue','');
Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('ELGRULE','ELGRULE','Co_Applicants_Obligation_Internal',' Co Applicants Obgligation Internal','decimal',18,'1','1','','static,calvalue','');
 Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values  ('ELGRULE','ELGRULE','Co_Applicants_Obligation External','Co Applicants Obgligation External','decimal',18,'1','1','','static,calvalue','');
	   
</sql>
</changeSet>

<changeSet id="61" author="Durgaprasad g">
	<sql>
	    UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);	
				 
				 
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_ChequeDetailDialog_btnGenerate','ChequeDetailDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CHEQUEDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ChequeDetailDialog_btnGenerate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CHEQUEDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_pdc_ChequeDetail'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CHEQUEDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_pdc_ChequeDetailEnquiry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CHEQUEDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ChequeDetailDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);	
	</sql>
</changeSet>
<changeSet id="62" author="vijay.l">
<sql>
delete from RBFIELDDETAILS where RBMODULE = 'CLRULE' and RBEVENT = 'CLRULE' and RbFldName = 'custEmpType';
Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) 
values ('CLRULE','CLRULE','custEmpType','Customer Employee Type','nvarchar',8,'0','1','EmploymentType','static,dbvalue','EmploymentType');

</sql>
</changeSet>

	<changeSet id="63" author="Ganesh.p">
		<modifyDataType tableName="FinanceDeviations_Temp"
			columnName="Remarks" newDataType="VARCHAR(500)" />
	</changeSet>
	<changeSet id="64" author="Ganesh.p">
		<modifyDataType tableName="FinanceDeviations"
			columnName="Remarks" newDataType="VARCHAR(500)" />
	</changeSet>
	<changeSet id="65" author="vijaykumar.l">
	<sql>
	delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Co_Applicants_Obligation_External';
	delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Co_Applicants_Obligation External';
	Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) 
 	values  ('ELGRULE','ELGRULE','Co_Applicants_Obligation_External','Co Applicants Obgligation External','decimal',18,'1','1','','static,calvalue','');
	</sql>
	</changeSet>
	
	<changeSet id="66" author="Vinay">
		<sql>
			Delete from ERRORDETAILS where code='41041';
			Insert into ERRORDETAILS values ('41041','EN','E','{0} {1}  NOC already issued.','test','Approved',null,null,null,null,null,0,CURRENT_TIMESTAMP,1000,3);
		</sql>
	</changeSet>
	<changeSet id="67" author="vijaykumar.l">
	<sql>
	delete from STAGETABDETAIL;
	insert into STAGETABDETAIL values(1,'ADVPAY','Advance Payment',1);
	insert into STAGETABDETAIL values(2,'COAPP','Co Applicants ',1);
	insert into STAGETABDETAIL values(3,'TAXDET','Tax Detail',1);
	insert into STAGETABDETAIL values(4,'DOCUMENT','Documents Details',1);
	insert into STAGETABDETAIL values(5,'COVENANT','Covenant Details',1);
	insert into STAGETABDETAIL values(6,'MANDATE','Mandate Details',1);
	insert into STAGETABDETAIL values(7,'CHEQUE','Cheque Details',1);
	insert into STAGETABDETAIL values(8,'COLLATER','Collateral Setup',1);
	insert into STAGETABDETAIL values(9,'VAS','VAS Details',1);
	insert into STAGETABDETAIL values(10,'EXNTFLDS','Extended Field Details',1);
	insert into STAGETABDETAIL values(11,'QRYMGMT','Query Mangement Details',1);
	</sql>
	</changeSet>
	
	<changeSet id="68" author="Manoj">
	<sql>
	<comment>Recreatig view with new column</comment>
		Drop view bouncereasons_aview;
	</sql>
	</changeSet>
	
<changeSet id="70" author="Manoj">
	<sql>
		<comment>Adding SMTParameter for finance tab requirement in corp customer</comment>
		DELETE FROM SMTPARAMETERS where SYSPARMCODE = 'CUSTOMER_CORP_FINANCE_TAB_REQ';
		INSERT INTO SMTPARAMETERS VALUES ('CUSTOMER_CORP_FINANCE_TAB_REQ', 'FinanceTab Required or Not for Corp Cust(Y, N)', 'String', 1, 'N', 1, 0, NULL, NULL,'FinanceTab Required or Not', 1, 1000, CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0);
	</sql>
</changeSet>

<changeSet id="60" author="Vinay">
	<addColumn tableName="FinLiabilityReq_Temp">
		<column name="Id" type="bigint"/>
	</addColumn>
	<addColumn tableName="FinLiabilityReq">
		<column name="Id" type="bigint"/>
	</addColumn>
</changeSet>
<changeSet id="60_Post.2" author="Vinay">
	<comment> Update Newly added column Id with RowNumbers to preserve null error </comment>
	<sql>
		update FinLiabilityReq T1 set id=( Select Cnt from (Select Finreference,ROW_NUMBER() OVER( order by Finreference ) cnt FROM FinLiabilityReq)T WHERE T.FINREFERENCE=T1.FINREFERENCE);
		update FinLiabilityReq_Temp T1 set id=( Select Cnt from (Select Finreference,ROW_NUMBER() OVER(order by Finreference) cnt FROM FinLiabilityReq_Temp)T WHERE T.FINREFERENCE=T1.FINREFERENCE)
	</sql>
</changeSet>
<changeSet id="60.1_Post" author="Vinay" dbms="postgresql">
	<addNotNullConstraint tableName="FinLiabilityReq" columnName="id"/>
	<addNotNullConstraint tableName="FinLiabilityReq_Temp" columnName="id"/>
</changeSet>
<changeSet id="60.1_Post" author="Vinay" dbms="mssql">
	<addNotNullConstraint tableName="FinLiabilityReq" columnName="id" columnDataType="bigint"/>
	<addNotNullConstraint tableName="FinLiabilityReq_Temp" columnName="id" columnDataType="bigint"/>
</changeSet>
<changeSet id="60.1_Post" author="Vinay" dbms="oracle">
	<addNotNullConstraint tableName="FinLiabilityReq" columnName="id"/>
	<addNotNullConstraint tableName="FinLiabilityReq_Temp" columnName="id"/>
</changeSet>
<changeSet id="61" author="Vinay">
	<dropPrimaryKey tableName="FinLiabilityReq" constraintName="pk_finliabilityreq"/>
	<dropPrimaryKey tableName="FinLiabilityReq_Temp" constraintName="pk_finliabilityreq_temp"/>
</changeSet>

<changeSet id="62" author="">
	<addPrimaryKey tableName="FinLiabilityReq" columnNames="Id" constraintName="pk_finliabilityreq"/>
	<addPrimaryKey tableName="FinLiabilityReq_Temp" columnNames="Id" constraintName="pk_finliabilityreq_temp"/>
</changeSet>

<changeSet id="63" author="Vinay">
	<createSequence sequenceName="SeqFinLiabilityReq" startValue="1" incrementBy="1" />
</changeSet>
<changeSet id="64" author="Vinay" dbms="postgresql">
	<sql>
		Select setval('seqfinliabilityreq',(Select max(id) from (Select max(id)+1 id from FinLiabilityReq UNION select max(id)+1 id from FinLiabilityReq_Temp)T));
	</sql>
</changeSet>
<changeSet id="65" author="Vinay" dbms="oracle">
	<sql>
		alter sequence seqfinliabilityreq restart start with (Select max(id) from (Select max(id)+1 id from FinLiabilityReq UNION select max(id)+1 id from FinLiabilityReq_Temp)T));
	</sql>
</changeSet>

<changeSet id="66" author="Manoj">
	<addColumn tableName="BlackListCustomer_Temp">
			<column name="CustCtgCode" type="varchar(20)" />
			<column name="CustCompName" type="varchar(200)" />
			<column name="CustAadhaar" type="varchar(15)" />
			<column name="CustCin" type="varchar(100)" />
		</addColumn>
</changeSet>

<changeSet id="67" author="Manoj">
	<addColumn tableName="BlackListCustomer">
			<column name="CustCtgCode" type="varchar(20)" />
			<column name="CustCompName" type="varchar(200)" />
			<column name="CustAadhaar" type="varchar(15)" />
			<column name="CustCin" type="varchar(100)" />
		</addColumn>
</changeSet>

<changeSet id="71" author="Manoj">
	<sql>
		INSERT INTO SecRights Values ((Select MAX(RightID)+1 From SecRights), 3, 'BlacklistCustomerDialog_CustCtgCode', 'BlacklistCustomerDialog', 1, 1000, NULL, 'Approved',' ',' ',' ',' ',' ',0);
		INSERT INTO SecGroupRights values((SELECT MAX(GrpRightID) + 1 From SecGroupRights), (Select GrpId  From SecGroups Where GrpCode = 'BLACKLISTCUSTOMER_MAKER'), (SELECT RightID FROM SecRights where RightName = 'BlacklistCustomerDialog_CustCtgCode'), 1, 1, 1000, NULL,'Approved',' ',' ',' ',' ',' ', 0);

		INSERT INTO SecRights Values ((Select MAX(RightID)+1 From SecRights), 3, 'BlacklistCustomerDialog_CustCin', 'BlacklistCustomerDialog', 1, 1000, NULL, 'Approved',' ',' ',' ',' ',' ',0);
		INSERT INTO SecGroupRights values((SELECT MAX(GrpRightID) + 1 From SecGroupRights), (Select GrpId  From SecGroups Where GrpCode = 'BLACKLISTCUSTOMER_MAKER'), (SELECT RightID FROM SecRights where RightName = 'BlacklistCustomerDialog_CustCin'), 1, 1, 1000, NULL,'Approved',' ',' ',' ',' ',' ', 0);

		INSERT INTO SecRights Values ((Select MAX(RightID)+1 From SecRights), 3, 'BlacklistCustomerDialog_CustAadhaar', 'BlacklistCustomerDialog', 1, 1000, NULL, 'Approved',' ',' ',' ',' ',' ',0);
		INSERT INTO SecGroupRights values((SELECT MAX(GrpRightID) + 1 From SecGroupRights), (Select GrpId  From SecGroups Where GrpCode = 'BLACKLISTCUSTOMER_MAKER'), (SELECT RightID FROM SecRights where RightName = 'BlacklistCustomerDialog_CustAadhaar'), 1, 1, 1000, NULL,'Approved',' ',' ',' ',' ',' ', 0);
	</sql>
</changeSet>
<changeSet id="72" author="SaiKrishna">
	<comment>story #413 Allow scriptlet for extended fields</comment>
	<addColumn tableName="extendedfielddetail">
		<column name="scriptlet" type="varchar(8000)"/>
	</addColumn>
</changeSet>
<changeSet id="73" author="SaiKrishna">
	<comment>story #413 Allow scriptlet for extended fields</comment>
	<addColumn tableName="extendedfielddetail_temp">
		<column name="scriptlet" type="varchar(8000)"/>
	</addColumn>
</changeSet>
<changeSet id="72" author="Manoj">
	<sql>
		INSERT INTO SecRights Values ((Select MAX(RightID)+1 From SecRights), 3, 'BlacklistCustomerDialog_CustSName', 'BlacklistCustomerDialog', 1, 1000, NULL, 'Approved',' ',' ',' ',' ',' ',0);
		INSERT INTO SecGroupRights values((SELECT MAX(GrpRightID) + 1 From SecGroupRights), (Select GrpId  From SecGroups Where GrpCode = 'BLACKLISTCUSTOMER_MAKER'), (SELECT RightID FROM SecRights where RightName = 'BlacklistCustomerDialog_CustSName'), 1, 1, 1000, NULL,'Approved',' ',' ',' ',' ',' ', 0);
	</sql>
</changeSet>
<changeSet id="74" author="Saikrishna">
	<comment>story #413 Allow scriptlet for extended fields</comment>
	<createView viewName="extendedfielddetail_aview" replaceIfExists="true">
	 SELECT t1.moduleid,
	    t1.fieldname,
	    t2.modulename AS lovdescmodulename,
	    t2.submodulename AS lovdescsubmodulename,
	    t1.fieldtype,
	    t1.fieldlength,
	    t1.fieldprec,
	    t1.fieldlabel,
	    t1.fieldmandatory,
	    t1.fieldconstraint,
	    t1.fieldseqorder,
	    t1.fieldlist,
	    t1.fielddefaultvalue,
	    t1.fieldminvalue,
	    t1.fieldmaxvalue,
	    t1.fieldunique,
	    t1.extendedtype,
	    t1.version,
	    t1.lastmntby,
	    t1.lastmnton,
	    t1.recordstatus,
	    t1.rolecode,
	    t1.nextrolecode,
	    t1.taskid,
	    t1.nexttaskid,
	    t1.recordtype,
	    t1.workflowid,
	    t1.multiline,
	    t1.parenttag,
	    t1.inputelement,
	    t1.editable,
	    t1.allowinrule,
	    t1.scriptlet
	   FROM extendedfielddetail t1
	     JOIN extendedfieldheader t2 ON t1.moduleid = t2.moduleid
	</createView>
</changeSet>
<changeSet id="75" author="Saikrishna">
	<comment>story #413 Allow scriptlet for extended fields</comment>
	<createView viewName="extendedfielddetail_view" replaceIfExists="true">
	SELECT t1.moduleid,
	    t1.fieldname,
	    t2.modulename AS lovdescmodulename,
	    t2.submodulename AS lovdescsubmodulename,
	    t1.fieldtype,
	    t1.fieldlength,
	    t1.fieldprec,
	    t1.fieldlabel,
	    t1.fieldmandatory,
	    t1.fieldconstraint,
	    t1.fieldseqorder,
	    t1.fieldlist,
	    t1.fielddefaultvalue,
	    t1.fieldminvalue,
	    t1.fieldmaxvalue,
	    t1.fieldunique,
	    t1.extendedtype,
	    t1.version,
	    t1.lastmntby,
	    t1.lastmnton,
	    t1.recordstatus,
	    t1.rolecode,
	    t1.nextrolecode,
	    t1.taskid,
	    t1.nexttaskid,
	    t1.recordtype,
	    t1.workflowid,
	    t1.multiline,
	    t1.parenttag,
	    t1.inputelement,
	    t1.editable,
	    t1.allowinrule,
	    t1.scriptlet
	   FROM extendedfielddetail_temp t1
	     JOIN extendedfieldheader_temp t2 ON t1.moduleid = t2.moduleid
	UNION ALL
	SELECT t1.moduleid,
	    t1.fieldname,
	    t2.modulename AS lovdescmodulename,
	    t2.submodulename AS lovdescsubmodulename,
	    t1.fieldtype,
	    t1.fieldlength,
	    t1.fieldprec,
	    t1.fieldlabel,
	    t1.fieldmandatory,
	    t1.fieldconstraint,
	    t1.fieldseqorder,
	    t1.fieldlist,
	    t1.fielddefaultvalue,
	    t1.fieldminvalue,
	    t1.fieldmaxvalue,
	    t1.fieldunique,
	    t1.extendedtype,
	    t1.version,
	    t1.lastmntby,
	    t1.lastmnton,
	    t1.recordstatus,
	    t1.rolecode,
	    t1.nextrolecode,
	    t1.taskid,
	    t1.nexttaskid,
	    t1.recordtype,
	    t1.workflowid,
	    t1.multiline,
	    t1.parenttag,
	    t1.inputelement,
	    t1.editable,
	    t1.allowinrule,
	    t1.scriptlet
	   FROM extendedfielddetail t1
	     JOIN extendedfieldheader t2 ON t1.moduleid = t2.moduleid
	  WHERE NOT (EXISTS ( SELECT 1
	           FROM extendedfielddetail_temp
	          WHERE extendedfielddetail_temp.moduleid = t1.moduleid AND extendedfielddetail_temp.fieldname = t1.fieldname))
	</createView>
</changeSet>
<changeSet id="76" author="vijaykumar.l">
		<addColumn tableName="amtvehicledealer">
	        <column name="code"  type="varchar(20)"/>
	    </addColumn>
	</changeSet>
 <changeSet id="77" author="vijaykumar.l">
		<addColumn tableName="amtvehicledealer_temp">
	        <column name="code"  type="varchar(20)"/>
	    </addColumn>
	 </changeSet>
	  <changeSet id="78" author="vijaykumar.l">
	<createView viewName="AMTVEHICLEDEALER_AVIEW" replaceIfExists="true">
 SELECT t1.dealerid,
    t1.dealertype,
    t1.dealername,
    t1.dealertelephone,
    t1.dealerfax,
    t1.dealeraddress1,
    t1.dealeraddress2,
    t1.dealeraddress3,
    t1.dealeraddress4,
    t1.dealercountry,
    t5.countrydesc AS lovdesccountry,
    t1.dealerprovince,
    t4.cpprovincename AS lovdescprovince,
    t1.dealercity,
    t3.pccityname AS lovdesccity,
    t1.email,
    t1.pobox,
    t1.zipcode,
    t1.active,
    t1.emirates,
    t1.commisionpaidat,
    t1.calculationrule,
    t7.rulecodedesc AS calruledesc,
    t1.paymentmode,
    t1.accountnumber,
    t1.accountingsetid,
    t8.accountsetcode AS accountingsetcode,
    t8.accountsetcodename AS accountingsetdesc,
    t9.cpprovincename AS emiratesdescription,
    t1.sellertype,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
	t1.code
   FROM amtvehicledealer t1
     LEFT JOIN rmtprovincevscity t3 ON t1.dealercountry = t3.pccountry AND t1.dealerprovince = t3.pcprovince AND t1.dealercity = t3.pccity AND t1.dealercity = t3.pccity
     LEFT JOIN rmtcountryvsprovince t4 ON t1.dealercountry = t4.cpcountry AND t1.dealerprovince = t4.cpprovince
     LEFT JOIN bmtcountries t5 ON t1.dealercountry = t5.countrycode
     LEFT JOIN rules t7 ON t1.calculationrule = t7.rulecode AND t7.ruleevent = 'ADDDBS'
     LEFT JOIN rmtaccountingset t8 ON t1.accountingsetid = t8.accountsetid
     LEFT JOIN rmtcountryvsprovince t9 ON t1.emirates = t9.cpprovince
</createView>
	</changeSet>
<changeSet id="79" author="vijaykumar.l">
	<createView viewName="AMTVEHICLEDEALER_VIEW" replaceIfExists="true">
 SELECT t1.dealerid,
    t1.dealertype,
    t1.dealername,
    t1.dealertelephone,
    t1.dealerfax,
    t1.dealeraddress1,
    t1.dealeraddress2,
    t1.dealeraddress3,
    t1.dealeraddress4,
    t1.dealercountry,
    t5.countrydesc AS lovdesccountry,
    t1.dealerprovince,
    t4.cpprovincename AS lovdescprovince,
    t1.dealercity,
    t3.pccityname AS lovdesccity,
    t1.email,
    t1.pobox,
    t1.zipcode,
    t1.active,
    t1.emirates,
    t1.commisionpaidat,
    t1.calculationrule,
    t7.rulecodedesc AS calruledesc,
    t1.paymentmode,
    t1.accountnumber,
    t1.accountingsetid,
    t8.accountsetcode AS accountingsetcode,
    t8.accountsetcodename AS accountingsetdesc,
    t9.cpprovincename AS emiratesdescription,
    t1.sellertype,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
	t1.code
   FROM amtvehicledealer_temp t1
     LEFT JOIN rmtprovincevscity t3 ON t1.dealercountry = t3.pccountry AND t1.dealerprovince = t3.pcprovince AND t1.dealercity = t3.pccity
     LEFT JOIN rmtcountryvsprovince t4 ON t1.dealercountry = t4.cpcountry AND t1.dealerprovince = t4.cpprovince
     LEFT JOIN bmtcountries t5 ON t1.dealercountry = t5.countrycode
     LEFT JOIN rules t7 ON t1.calculationrule = t7.rulecode AND t7.ruleevent = 'ADDDBS'
     LEFT JOIN rmtaccountingset t8 ON t1.accountingsetid = t8.accountsetid
     LEFT JOIN rmtcountryvsprovince t9 ON t1.emirates = t9.cpprovince
UNION ALL
 SELECT t1.dealerid,
    t1.dealertype,
    t1.dealername,
    t1.dealertelephone,
    t1.dealerfax,
    t1.dealeraddress1,
    t1.dealeraddress2,
    t1.dealeraddress3,
    t1.dealeraddress4,
    t1.dealercountry,
    t5.countrydesc AS lovdesccountry,
    t1.dealerprovince,
    t4.cpprovincename AS lovdescprovince,
    t1.dealercity,
    t3.pccityname AS lovdesccity,
    t1.email,
    t1.pobox,
    t1.zipcode,
    t1.active,
    t1.emirates,
    t1.commisionpaidat,
    t1.calculationrule,
    t7.rulecodedesc AS calruledesc,
    t1.paymentmode,
    t1.accountnumber,
    t1.accountingsetid,
    t8.accountsetcode AS accountingsetcode,
    t8.accountsetcodename AS accountingsetdesc,
    t9.cpprovincename AS emiratesdescription,
    t1.sellertype,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
	t1.code
   FROM amtvehicledealer t1
     LEFT JOIN rmtprovincevscity t3 ON t1.dealercountry = t3.pccountry AND t1.dealerprovince = t3.pcprovince AND t1.dealercity = t3.pccity AND t1.dealercity = t3.pccity
     LEFT JOIN rmtcountryvsprovince t4 ON t1.dealercountry = t4.cpcountry AND t1.dealerprovince = t4.cpprovince
     LEFT JOIN bmtcountries t5 ON t1.dealercountry = t5.countrycode
     LEFT JOIN rules t7 ON t1.calculationrule = t7.rulecode AND t7.ruleevent = 'ADDDBS'
     LEFT JOIN rmtaccountingset t8 ON t1.accountingsetid = t8.accountsetid
     LEFT JOIN rmtcountryvsprovince t9 ON t1.emirates = t9.cpprovince
  WHERE NOT (EXISTS ( SELECT 1
           FROM amtvehicledealer_temp
          WHERE amtvehicledealer_temp.dealerid = t1.dealerid))
</createView>
	</changeSet>
	<changeSet id="80" author="vijaykumar.l">
	<sql>
	UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_DSA_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_DMA_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_TVAGENCY_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_RCUVAGENCY_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_LVAGENCY_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_FIAGENCY_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_VASM_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_SOPT_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_Code'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_TVAGENCY_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_RCUVAGENCY_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_LVAGENCY_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_FIAGENCY_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_VASM_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_SOPT_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	</sql>
	</changeSet>
	
	<changeSet id="Vinay" author="81">
		<createView viewName="finliabilityreq_view" replaceIfExists="true">
		 SELECT t1.id,
			t1.finreference,
		    t1.initiatedby,
		    t1.finevent,
		    t1.inspaidstatus,
		    t1.insclaimamount,
		    t1.insclaimreason,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t2.fintype,
		    t2.finbranch,
		    t2.finstartdate,
		    t2.numberofterms,
		    t2.maturitydate,
		    t2.finccy,
		    t2.finamount,
		    t2.finassetvalue,
		    t4.custcif,
		    t4.custshrtname,
		    t5.branchdesc,
		    t6.findivision AS lovdescfindivision
		   FROM finliabilityreq_temp t1
		     JOIN financemain t2 ON t1.finreference = t2.finreference
		     JOIN customers t4 ON t2.custid = t4.custid
		     JOIN rmtbranches t5 ON t2.finbranch = t5.branchcode
		     JOIN rmtfinancetypes t6 ON t2.fintype = t6.fintype
		UNION ALL
		 SELECT t1.id,
			t1.finreference,
		    t1.initiatedby,
		    t1.finevent,
		    t1.inspaidstatus,
		    t1.insclaimamount,
		    t1.insclaimreason,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t2.fintype,
		    t2.finbranch,
		    t2.finstartdate,
		    t2.numberofterms,
		    t2.maturitydate,
		    t2.finccy,
		    t2.finamount,
		    t2.finassetvalue,
		    t4.custcif,
		    t4.custshrtname,
		    t5.branchdesc,
		    t6.findivision AS lovdescfindivision
		   FROM finliabilityreq t1
		     JOIN financemain t2 ON t1.finreference = t2.finreference
		     JOIN customers t4 ON t2.custid = t4.custid
		     JOIN rmtbranches t5 ON t2.finbranch = t5.branchcode
		     JOIN rmtfinancetypes t6 ON t2.fintype = t6.fintype
		  WHERE NOT (EXISTS ( SELECT 1
		           FROM finliabilityreq_temp
		          WHERE finliabilityreq_temp.id = t1.id))
		</createView>
	</changeSet>
	<changeSet id="82" author="Siva">
		<createSequence sequenceName="SeqReceiptNumber" startValue="1" maxValue="9223372036854775807" incrementBy="1" cycle="false" />
	</changeSet>
	<changeSet id="84" author="manoj">
		<addColumn tableName="POSTINGS">
	 		<column name="EntityCode" type="varchar(8)"/>
		</addColumn>
	</changeSet>
	<changeSet id="86" author="manoj">
		<addColumn tableName="POSTINGS_TAXDOWNLOAD">
	 		<column name="EntityCode" type="varchar(8)"/>
		</addColumn>
	</changeSet>

<changeSet id="87" author="Sriram">
		<sql>
			Create table TRIAL_BALANCE_HEADER_BKP as select * from TRIAL_BALANCE_HEADER
		</sql>
	</changeSet>
	
	<changeSet id="88" author="Sriram">
		<sql>
			Create table TRIAL_BALANCE_REPORT_BKP as select * from TRIAL_BALANCE_REPORT
		</sql>
	</changeSet>
	
	<changeSet id="89" author="Sriram">
		 <dropForeignKeyConstraint baseTableName="TRIAL_BALANCE_REPORT_LAST_RUN" constraintName="FK_TBRLR_HID"/>
	</changeSet>
	
	<changeSet id="90" author="Sriram">
		<dropForeignKeyConstraint baseTableName="TRIAL_BALANCE_REPORT" constraintName="FK_TBR_HID"/>
	</changeSet>
	
	<changeSet id="91" author="Sriram">
		<dropIndex tableName="TRIAL_BALANCE_HEADER" indexName="IDX_TBH_DIMENSION"/>
	</changeSet>
	
	<changeSet id="92.1" author="Sriram">
		<dropView viewName="TRIAL_BALANCE_REPORT_FILE_VIEW"/>
	</changeSet>
	
	<changeSet id="92.2" author="Sriram">
		<dropView viewName="TRIAL_BALANCE_REPORT_VIEW"/>
	</changeSet>
	
	<changeSet id="92.3" author="Sriram">
		<dropTable tableName="TRIAL_BALANCE_REPORT_FILE"/>
	</changeSet>
	
	<changeSet id="93" author="Sriram">
		<dropTable tableName="TRIAL_BALANCE_REPORT_LAST_RUN"/>
	</changeSet>
	
	<changeSet id="94" author="Sriram">
		<dropTable tableName="TRIAL_BALANCE_REPORT"/>
	</changeSet>
	
	<changeSet id="95" author="Sriram">
		<dropTable tableName="TRIAL_BALANCE_HEADER"/>
	</changeSet>
	
	<changeSet id="96" author="Sriram">
		<createTable tableName="TRIAL_BALANCE_HEADER">
				<column name="ID" type="bigint">
					<constraints nullable="false" />
				</column>
				<column name="SEQNO" type="bigint">
					<constraints nullable="false" />
				</column>
				<column name="DIMENSION" type="varchar(20)">
					<constraints nullable="false" />
				</column>
				<column name="FILENAME" type="varchar(100)"/>
				<column name="COMPANYNAME" type="varchar(100)">
					<constraints nullable="false" />
				</column>
				<column name="REPORTNAME" type="varchar(100)">
					<constraints nullable="false" />
				</column>
				<column name="STARTDATE" type="datetime">
					<constraints nullable="false" />
				</column>
				<column name="ENDDATE" type="datetime">
					<constraints nullable="false" />
				</column>
				<column name="CURRENCY" type="char(3)">
					<constraints nullable="false" />
				</column>
				<column name="ENTITYCODE" type="varchar(8)">
				</column>
		</createTable>
	</changeSet>

	<changeSet id="97" author="Sriram">
		<addPrimaryKey columnNames="ID" constraintName="PK_TBH" tableName="TRIAL_BALANCE_HEADER" />
	</changeSet>
	
	<changeSet id="98" author="Sriram">
		<createIndex indexName="IDX_TBH_DIMENSION" tableName="TRIAL_BALANCE_HEADER">
			<column name="DIMENSION" type="varchar(20)"/>
		</createIndex>
	</changeSet>
	
	
	<changeSet id="99" author="Sriram">
		<createTable tableName="TRIAL_BALANCE_REPORT">
			<column name="HEADERID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="VARCHAR(20)">
				<constraints nullable="false" />
			</column>
			<column name="COUNTRY" type="char(2)"/>
			<column name="PROVINCE" type="varchar(8)"/>
			<column name="FINTYPE" type="varchar(8)"/>
			<column name="ACCOUNT" type="varchar(50)"/>
			<column name="HOSTACCOUNT" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="DESCRIPTION" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="DEBITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CREDITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="100" author="Sriram">
		<createTable tableName="TRIAL_BALANCE_REPORT_LAST_RUN">
			<column name="HEADERID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="COUNTRY" type="char(2)"/>
			<column name="PROVINCE" type="varchar(8)"/>
			<column name="FINTYPE" type="varchar(8)"/>
			<column name="ACCOUNT" type="varchar(50)"/>
			<column name="HOSTACCOUNT" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="DESCRIPTION" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="DEBITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CREDITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="101" author="Sriram">
			<addForeignKeyConstraint constraintName="FK_TBR_HID" referencedTableName="TRIAL_BALANCE_HEADER" baseColumnNames="HEADERID" baseTableName="TRIAL_BALANCE_REPORT" referencedColumnNames="ID"/>
			<addForeignKeyConstraint constraintName="FK_TBRLR_HID" referencedTableName="TRIAL_BALANCE_HEADER" baseColumnNames="HEADERID" baseTableName="TRIAL_BALANCE_REPORT_LAST_RUN" referencedColumnNames="ID"/>
	</changeSet>
	
	<changeSet id="102" author="Sriram">
		<createTable tableName="TRIAL_BALANCE_REPORT_FILE">
			<column name="ID" type="bigint" autoIncrement="true" incrementBy="1">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="varchar(100)" />
			<column name="COUNTRY" type="varchar(100)" />
			<column name="PROVINCE" type="varchar(100)" />
			<column name="FINTYPE" type="varchar(8)"/>
			<column name="ACCOUNT" type="varchar(50)"/>
			<column name="HOSTACCOUNT" type="varchar(100)" />
			<column name="DESCRIPTION" type="varchar(100)" />
			<column name="OPENINGBAL" type="varchar(100)" />
			<column name="OPENINGBALTYPE" type="varchar(100)" />
			<column name="DEBITAMOUNT" type="varchar(100)" />
			<column name="CREDITAMOUNT" type="varchar(100)" />
			<column name="CLOSINGBAL" type="varchar(100)" />
			<column name="CLOSINGBALTYPE" type="varchar(100)" />
		</createTable>
	</changeSet>
	<changeSet id="103" author="Sriram">
	<sql>
		update data_engine_config set header = 
		'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{STATE,PARENT GROUP,PLF LEDGER,SAP GL,DESCRIPTION,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR}'
		where name = 'TRIAL_BALANCE_EXPORT_STATE';
		update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'TRIAL_BALANCE_EXPORT_STATE';
	 	update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE';
	  	update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'GL_TRANSACTION_EXPORT';
		update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'GL_TRANSACTION_SUMMARY_EXPORT';
		update data_engine_config set header = 'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{PARENT GROUP,PLF LEDGER, SAP GL,DESCRIPTION,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR}' where 
		name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE';
        update data_engine_table set name = 'TBR_CONSOLIDATE_FILE_VIEW' where CONFIGID in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE');
	</sql>
	</changeSet>
	
	<changeSet id="104.1" author="Sriram">
	<sql>
	Delete From DATA_ENGINE_CONFIG where Name In ('TRIAL_BALANCE_EXPORT_STATE', 'TRIAL_BALANCE_EXPORT_CONSOLIDATE');
	
	Insert into DATA_ENGINE_CONFIG  values ((Select max(ID)+1 from DATA_ENGINE_CONFIG),'TRIAL_BALANCE_EXPORT_STATE', 'SAP GL Trail Balance Report',2,null,null,null,',',0,0, ' ','Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{STATE,PARENT GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}', ' ','A','/opt/PFF/SAPGL',	'${ENTITY_CODE}','.csv',0,CURRENT_TIMESTAMP,'${START_DATE},_${END_DATE},_${HEADER_ID}',null,'0','MOVE_TO_S3_BUCKET',1,1);
	Insert into DATA_ENGINE_CONFIG values ((Select max(ID)+1 from DATA_ENGINE_CONFIG),'TRIAL_BALANCE_EXPORT_CONSOLIDATE','Trial balance consolidate report',2,null,null,null,',',0,0, ' ','Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{PARENT GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}', ' ','A','/opt/PFF/SAPGL','${ENTITY_CODE}','.csv',0,CURRENT_TIMESTAMP,'${START_DATE}, _${END_DATE},_${HEADER_ID}',null,'0','MOVE_TO_S3_BUCKET',1,1);
	</sql>
	</changeSet>
	<changeSet id="104.2" author="Sriram">
	<sql>
	Delete from DATA_ENGINE_TABLE Where Id IN (select ID from data_engine_table where configid in (select id from data_engine_config where name In( 'TRIAL_BALANCE_EXPORT_STATE','TRIAL_BALANCE_EXPORT_CONSOLIDATE')));
	Insert into DATA_ENGINE_TABLE values ((Select max(Id) + 1 from DATA_ENGINE_TABLE),(select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE'),'TRIAL_BALANCE_CONSOLIDATE_VIEW',0,'HEADERID',null,'UPDATE TRIAL_BALANCE_HEADER SET FILENAME = :FILE_NAME WHERE ID = :ID AND DIMENSION = :DIMENSION',null,null,null,null,null,0,0,0);
	Insert into DATA_ENGINE_TABLE values ((Select max(Id) + 1 from DATA_ENGINE_TABLE),(select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE'),'TRIAL_BALANCE_REPORT_FILE_VIEW',0,'HEADERID',null,'UPDATE TRIAL_BALANCE_HEADER SET FILENAME = :FILE_NAME WHERE ID = :ID AND DIMENSION = :DIMENSION',null,null,null,null,null,0,0,0);	
	</sql>
	</changeSet>
	<changeSet id="104.3" author="Sriram">
		<sql>
		delete from data_engine_column where tableid in  (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE'));
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'ACTYPEGRPID',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'ACCOUNT',    	   0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'DESCRIPTION',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'HOSTACCOUNT',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'OPENINGBAL',     0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'OPENINGBALTYPE', 0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'DEBITAMOUNT',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'CREDITAMOUNT',   0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'CLOSINGBAL',     0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'CLOSINGBALTYPE', 0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'FINTYPE',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN)
		</sql>
	</changeSet>
	<changeSet id="105" author="Sriram">
		<sql>
	    delete from data_engine_column where tableid in  (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE'));
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'STATE',          0,'N',null,null,null,null,'0',null,null,null,null,'0');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),   (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'ACTYPEGRPID',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),   (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'ACCOUNT',        0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),   (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'DESCRIPTION',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),   (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'HOSTACCOUNT',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'OPENINGBAL',     0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'OPENINGBALTYPE', 0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'DEBITAMOUNT',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'CREDITAMOUNT',   0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'CLOSINGBAL',     0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'CLOSINGBALTYPE', 0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),   (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'PRODUCTFLAG',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN)
		</sql>
	</changeSet>
	<changeSet id="106" author="Sriram">
		<sql>
		update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'TRIAL_BALANCE_EXPORT_STATE';
	 	update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE';
	  	update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'GL_TRANSACTION_EXPORT';
		update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'GL_TRANSACTION_SUMMARY_EXPORT';
		update data_engine_config set header = <![CDATA['Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{STATE,PARENT GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}']]> where name = 'TRIAL_BALANCE_EXPORT_STATE';
		update data_engine_config set header = <![CDATA['Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{PARENT GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}']]> where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE';
		update data_Engine_table set name = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' where  CONFIGID in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE');
 		update data_engine_config set filenameformat = null where name in ('GL_TRANSACTION_EXPORT','GL_TRANSACTION_SUMMARY_EXPORT');		
		</sql>
	</changeSet>
	<changeSet id="107" author="Sriram">
		<createView viewName="TRIAL_BALANCE_REPORT_FILE_VIEW" replaceIfExists="true">
		SELECT 	ID,COUNTRY,
		       	PROVINCE,
           		CPPROVINCENAME AS STATE,
		   		ACTYPEGRPID,
           		TBRF.ACCOUNT,
		   		TBRF.HOSTACCOUNT,
		   		DESCRIPTION,
		   		OPENINGBAL,
		   		OPENINGBALTYPE,
		   		DEBITAMOUNT,
		   		CREDITAMOUNT,
		   		CLOSINGBAL,
		   		CLOSINGBALTYPE,
		   		FINTYPE AS PRODUCTFLAG
		FROM 	TRIAL_BALANCE_REPORT_FILE TBRF LEFT JOIN
      			RMTCOUNTRYVSPROVINCE RMT ON RMT.CPPROVINCE = TBRF.PROVINCE
	  		order by  ID
		</createView>
	</changeSet>
	<changeSet id="108" author="Sriram">
		<createView viewName="TRIAL_BALANCE_REPORT_VIEW" replaceIfExists="true">
     	SELECT	HEADERID,
			  	COUNTRY,
			  	PROVINCE,
			  	ACTYPEGRPID,
			  	HOSTACCOUNT,
			  	DESCRIPTION,
			  	UDF_CONVERTCURRENCY(OPENINGBAL, TBH.CURRENCY, 'INR') OPENINGBAL,
			  	OPENINGBALTYPE,
			  	UDF_CONVERTCURRENCY(DEBITAMOUNT, TBH.CURRENCY, 'INR') DEBITAMOUNT,
			  	UDF_CONVERTCURRENCY(CREDITAMOUNT, TBH.CURRENCY, 'INR') CREDITAMOUNT,
			  	UDF_CONVERTCURRENCY(CLOSINGBAL, TBH.CURRENCY, 'INR') CLOSINGBAL,
			  	CLOSINGBALTYPE,
			  	ACCOUNT,
			  	FINTYPE
	 	FROM 	TRIAL_BALANCE_REPORT_LAST_RUN TBR INNER JOIN
			   	TRIAL_BALANCE_HEADER TBH ON TBH.ID = TBR.HEADERID
		</createView>	  
	</changeSet>
	<changeSet id="109.1" author="Sriram">
	<comment>Removed semicolon</comment>
		<createView viewName="TRIAL_BALANCE_CONSOLIDATE_VIEW">
		SELECT ID,
		   	   ACTYPEGRPID,
	           TBRF.ACCOUNT,
			   TBRF.HOSTACCOUNT,
			   DESCRIPTION,
			   OPENINGBAL,
			   OPENINGBALTYPE,
			   DEBITAMOUNT,
			   CREDITAMOUNT,
			   CLOSINGBAL,
			   CLOSINGBALTYPE,
			   FINTYPE
		FROM   TRIAL_BALANCE_REPORT_FILE TBRF LEFT JOIN
     		   RMTCOUNTRYVSPROVINCE RMT ON RMT.CPPROVINCE = TBRF.PROVINCE
	  	order by ID
		</createView>
	</changeSet>
	<changeSet id="110" author="Sriram">
		<sql>
		delete from SMTPARAMETERS where SYSPARMCODE = 'PRFT_LOSS_GLCODE';
		Insert into SMTPARAMETERS values ('PRFT_LOSS_GLCODE','sum of closing balance of income  GLs  minus sum of closing balance of expenses GL','String',1,'PLACCT',50,0,null,null,'PROFIT And LOSS A/C',1,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
</databaseChangeLog>
	