<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />


	 <changeSet id="pre_run_for_pgp" author="Jayant" runAlways="true"
		dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>
	
	<changeSet id="1" author="Siva">
		<sql>
			insert into BMTAMOUNTCODES values('REPAY',0,'bounceCharge_CGST_P','Bounce charge CGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
			insert into BMTAMOUNTCODES values('REPAY',0,'bounceCharge_SGST_P','Bounce charge SGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
			insert into BMTAMOUNTCODES values('REPAY',0,'bounceCharge_IGST_P','Bounce charge IGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
			insert into BMTAMOUNTCODES values('REPAY',0,'bounceCharge_UGST_P','Bounce charge UGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="2" author="SrinivasaVarma">
		<comment> New Column added allowInRule </comment>
		<createView viewName="extendedfielddetail_aview"
			replaceIfExists="true">
			select t1.moduleid,  t1.fieldname,  t2.modulename as lovdescmodulename, t2.submodulename as lovdescsubmodulename,
			t1.fieldtype, t1.fieldlength,  t1.fieldprec, t1.fieldlabel, t1.fieldmandatory,
			t1.fieldconstraint,  t1.fieldseqorder, t1.fieldlist, t1.fielddefaultvalue,
			t1.fieldminvalue, t1.fieldmaxvalue, t1.fieldunique, t1.extendedtype, t1.version,
			t1.lastmntby, t1.lastmnton,  t1.recordstatus,  t1.rolecode, t1.nextrolecode,
			t1.taskid,  t1.nexttaskid, t1.recordtype,  t1.workflowid, t1.multiline,  t1.parenttag,
			t1.inputelement, t1.editable,t1.allowInRule
			from extendedfielddetail t1 join extendedfieldheader t2 on t1.moduleid = t2.moduleid
		</createView>
	</changeSet>

	<changeSet id="3" author="SrinivasaVarma">
		<comment> New Column added allowInRule </comment>
		<createView viewName="extendedfielddetail_view"
			replaceIfExists="true">
			SELECT t1.moduleid, t1.fieldname, t2.modulename AS lovdescmodulename, t2.submodulename AS lovdescsubmodulename,
		    t1.fieldtype, t1.fieldlength, t1.fieldprec, t1.fieldlabel,
		    t1.fieldmandatory,
		    t1.fieldconstraint,
		    t1.fieldseqorder,
		    t1.fieldlist,
		    t1.fielddefaultvalue,
		    t1.fieldminvalue,
		    t1.fieldmaxvalue,
		    t1.fieldunique,
		    t1.extendedtype,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t1.multiline,
		    t1.parenttag,
		    t1.inputelement,
		    t1.editable,
		    t1.allowInRule
		   FROM extendedfielddetail_temp t1 JOIN extendedfieldheader_temp t2 ON t1.moduleid = t2.moduleid
		UNION ALL
		 SELECT t1.moduleid,
		    t1.fieldname,
		    t2.modulename AS lovdescmodulename,
		    t2.submodulename AS lovdescsubmodulename,
		    t1.fieldtype,
		    t1.fieldlength,
		    t1.fieldprec,
		    t1.fieldlabel,
		    t1.fieldmandatory,
		    t1.fieldconstraint,
		    t1.fieldseqorder,
		    t1.fieldlist,
		    t1.fielddefaultvalue,
		    t1.fieldminvalue,
		    t1.fieldmaxvalue,
		    t1.fieldunique,
		    t1.extendedtype,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t1.multiline,
		    t1.parenttag,
		    t1.inputelement,
		    t1.editable,
		    t1.allowInRule
		   FROM extendedfielddetail t1 JOIN extendedfieldheader t2 ON t1.moduleid = t2.moduleid
		   WHERE NOT (EXISTS ( SELECT 1 FROM extendedfielddetail_temp WHERE extendedfielddetail_temp.moduleid = t1.moduleid AND extendedfielddetail_temp.fieldname = t1.fieldname))
		</createView>
	</changeSet>
	
	<changeSet id="4" author="Siva">
		<addColumn tableName="FinRepayHeader">
			<column name="RealizeUnAmz" type="decimal(18,0)" />
		</addColumn>
		<addColumn tableName="FinRepayHeader_Temp">
			<column name="RealizeUnAmz" type="decimal(18,0)" />
		</addColumn>
	</changeSet>
	
	<changeSet id="5" author="Siva" dbms="oracle">
		<addDefaultValue columnName="RealizeUnAmz" tableName="FinRepayHeader" defaultValue="0"/>
		<addDefaultValue columnName="RealizeUnAmz" tableName="FinRepayHeader_Temp" defaultValue="0"/>
	</changeSet>
	<changeSet id="5" author="Siva" dbms="postgresql">
		<addDefaultValue columnName="RealizeUnAmz" tableName="FinRepayHeader" defaultValue="0"/>
		<addDefaultValue columnName="RealizeUnAmz" tableName="FinRepayHeader_Temp" defaultValue="0"/>
	</changeSet>
		<changeSet id="5" author="Siva" dbms="mssql">
		<sql>
			alter table FinRepayHeader add constraint df_fph_RealizeUnAmz default 0 for RealizeUnAmz;
			alter table FinRepayHeader_Temp add constraint df_fph_t_RealizeUnAmz default 0 for RealizeUnAmz;
		</sql>
	</changeSet>
	<changeSet id="6" author="Siva">
		<sql>
			update FinRepayHeader set RealizeUnAmz = 0 where RealizeUnAmz is null;
			update FinRepayHeader_Temp set RealizeUnAmz = 0 where RealizeUnAmz is null;
		</sql>
	</changeSet>
	<changeSet id="7" author="Ganesh.p">
		<comment> change the severity of the LoanStartDate and DisbursmentDate should be matched error</comment>
		<sql>
			update ERRORDETAILS set severity='E' where code='65032';
		</sql>
	</changeSet>
	<changeSet id="8" author="Manoj">
		<comment> New Table : InterfaceMappingConfiguration for mapping PLF and InterfaceData</comment>
		<createTable tableName="InterfaceMappingConfiguration">
			<column name="ServiceName" type="varchar(100)">
				<constraints nullable="false"/>
			</column>
			<column name="ModuleCode" type="varchar(100)">
				<constraints nullable="false"/>
			</column>
			<column name="SourceCode" type="varchar(30)	">
			</column>
			<column name="DestCode" type="varchar(30)">
			</column>
			<column name="SourceId" type="bigint">
			</column>
			<column name="DestId" type="bigint">
			</column>
			<column name="DestDescription" type="varchar(200)" />
			<column name="active" type="boolean" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet id="8_Post" author="manoj" dbms="oracle">
		<addDefaultValue columnName="SourceId" tableName="InterfaceMappingConfiguration" defaultValue="0"/>
		<addDefaultValue columnName="DestId" tableName="InterfaceMappingConfiguration" defaultValue="0"/>
	</changeSet>
	<changeSet id="8_Post" author="manoj" dbms="postgresql">
		<addDefaultValue columnName="SourceId" tableName="InterfaceMappingConfiguration" defaultValue="0"/>
		<addDefaultValue columnName="DestId" tableName="InterfaceMappingConfiguration" defaultValue="0"/>
	</changeSet>
		<changeSet id="8_Post" author="manoj" dbms="mssql">
		<sql>
			alter table InterfaceMappingConfiguration add constraint df_imc_SourceId default 0 for SourceId;
			alter table InterfaceMappingConfiguration add constraint df_imc_DestId default 0 for DestId;
		</sql>
	</changeSet>
	<changeSet id="9" author="Manoj">
		<createIndex tableName="InterfaceMappingConfiguration" indexName="IDX_IMC_MOD_SRC_SM">
			<column name="ModuleCode" type="varchar(100)"/>
			<column name="SourceCode" type="varchar(100)"/>
			<column name="ServiceName" type="varchar(100)"/>
		</createIndex>
	</changeSet>
	<changeSet id="10" author="Manoj">
		<createIndex tableName="InterfaceMappingConfiguration" indexName="IDX_IMC_MOD_SID_SM">
			<column name="ModuleCode" type="varchar(100)"/>
			<column name="SourceId" type="bigint"/>
			<column name="ServiceName" type="varchar(100)"/>
		</createIndex>
	</changeSet>
	<changeSet id="11" author="Manoj">
		<createIndex tableName="InterfaceMappingConfiguration" indexName="IDX_IMC_MOD_SM">
			<column name="ModuleCode" type="varchar(100)"/>
			<column name="ServiceName" type="varchar(100)"/>
		</createIndex>
	</changeSet>

	 <changeSet id="12" author="Ganesh.p">
		<modifyDataType tableName="CollateralCoOwners_Temp"
			columnName="CoOwnerIDType" newDataType="VARCHAR(50)" />
	</changeSet>

	<changeSet id="13" author="Ganesh.p">
		<modifyDataType tableName="CollateralCoOwners"
			columnName="CoOwnerIDType" newDataType="VARCHAR(50)" />
	</changeSet>
	<changeSet id="14" author="srikanth.m">
	<addColumn tableName="mandate_requests">
		<column name="ifsc_code" type= "varchar(20)"/>
		<column name="customer_phone" type= "varchar(20)"/>
		<column name="customer_email" type= "varchar(100)"/>
		<column name="folio_number" type= "varchar(20)"/>
		<column name="branch_code" type= "varchar(8)"/>
		<column name="branch_address" type= "varchar(100)"/>
		<column name="auxiliary_field1" type= "varchar(50)"/>
		<column name="auxiliary_field2" type= "varchar(50)"/>
		<column name="auxiliary_field3" type= "varchar(50)"/>
		<column name="auxiliary_field4" type= "varchar(50)"/>
	</addColumn>
</changeSet>
<changeSet id="14.1" author="srikanth.m">
	<addColumn tableName="mandate_response">
		<column name="ifsc_code" type= "varchar(20)"/>
		<column name="customer_phone" type= "varchar(20)"/>
		<column name="customer_email" type= "varchar(100)"/>
		<column name="folio_number" type= "varchar(20)"/>
		<column name="branch_code" type= "varchar(8)"/>
		<column name="branch_address" type= "varchar(100)"/>
		<column name="auxiliary_field1" type= "varchar(50)"/>
		<column name="auxiliary_field2" type= "varchar(50)"/>
		<column name="auxiliary_field3" type= "varchar(50)"/>
		<column name="auxiliary_field4" type= "varchar(50)"/>
	</addColumn>
</changeSet>
<changeSet id="14.2" author="srikanth.m">
	<createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true">
 SELECT M.MANDATEID, 
			BD.BANKSHORTCODE BANKCODE,
			BD.BANKNAME,
			case when LB.BRANCHCODE IS NULL THEN CB.BRANCHCODE ELSE LB.BRANCHCODE END BRANCHCODE,
      		case when LB.BRANCHDESC IS NULL THEN CB.BRANCHDESC ELSE LB.BRANCHDESC END BRANCHDESC,
			CUST.CUSTCIF,
			CUST.CUSTSHRTNAME,
			FT.FINTYPEDESC FINTYPE ,
			FIN.FINREFERENCE ,
			COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) TotalAmount 
													FROM FINSCHEDULEDETAILS FSD 
													INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE =FSD.FINREFERENCE AND FM.CUSTID = M.CUSTID 
													GROUP BY FM.FINREFERENCE)T)/CCYMINORCCYUNITS, 0) CUST_EMI,
			COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) TotalAmount FROM FINSCHEDULEDETAILS FSD WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID = M.MANDATEID) GROUP BY FINREFERENCE)T)/CCYMINORCCYUNITS, 0) EMI,
			  CASE M.OPENMANDATE
			    WHEN 1
			    THEN 'New Open ECS'
			    ELSE 'No Open ECS'
			  END OPENMANDATE,
			M.ACCNUMBER,
			M.ACCTYPE,
			M.ACCHOLDERNAME,
			BB.MICR,
			BB.IFSC,
			BB.ADDOFBRANCH,
			(select MIN(FIRSTREPAYDATE) from FINPFTDETAILS where FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) FIRSTDUEDATE,
			(select MAX(SCHDATE) from FINSCHEDULEDETAILS where (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) and FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) EMIENDDATE,
			 COALESCE (M.MAXLIMIT/CCYMINORCCYUNITS, 0) MAXLIMIT, 
     		 COALESCE((SELECT SUM(MANDATEDEBITAMOUNT) from (Select MAX(REPAYAMOUNT+FEESCHD) MANDATEDEBITAMOUNT FROM FINSCHEDULEDETAILS WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)
     		 GROUP BY FINREFERENCE)T), 0)/CCYMINORCCYUNITS DEBITAMOUNT,
			  M.STARTDATE,
			  M.EXPIRYDATE,
			  FIN.APPLICATIONNO,
			  M.MANDATETYPE,
			  M.STATUS,
			  M.INPUTDATE,
			  M.RECORDSTATUS,
			  M.RECORDTYPE,
        	M.MANDATECCY,
			  COALESCE (CCY.CCYMINORCCYUNITS, 100) CCYMINORCCYUNITS,M.EntityCode
			FROM MANDATES M
			INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID
			INNER JOIN BMTBANKDETAIL BD ON BD.BANKCODE=BB.BANKCODE 
			INNER JOIN CUSTOMERS CUST   ON CUST.CUSTID = M.CUSTID
			INNER JOIN RMTBRANCHES CB ON CB.BRANCHCODE = CUST.CUSTDFTBRANCH 
			LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CUST.CUSTID AND CE.CUSTEMAILPRIORITY = 5
			LEFT JOIN CUSTOMERPHONENUMBERS CP ON CP.PHONECUSTID = CUST.CUSTID AND CP.PHONETYPEPRIORITY = 5
			LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY
			LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE
			LEFT JOIN RMTBRANCHES LB ON LB.BRANCHCODE = FIN.FINBRANCH 
			LEFT OUTER JOIN RMTFINANCETYPES FT ON FIN.FINTYPE =FT.FINTYPE 
			WHERE M.STATUS = 'NEW' AND M.MANDATEID NOT IN  (select MANDATEID FROM MANDATE_REQUESTS where (status = 'AC' OR status = 'NEW'))
		</createView>
</changeSet>
<changeSet id="14.3" author="srikanth.m">
<createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true">
SELECT M.MANDATEID, 
			BD.BANKSHORTCODE BANKCODE,
			BD.BANKNAME,
			case when LB.BRANCHCODE IS NULL THEN CB.BRANCHCODE ELSE LB.BRANCHCODE END BRANCHCODE,
      		case when LB.BRANCHDESC IS NULL THEN CB.BRANCHDESC ELSE LB.BRANCHDESC END BRANCHDESC,
			CUST.CUSTCIF,
			CUST.CUSTSHRTNAME,
			FT.FINTYPEDESC FINTYPE ,
			FIN.FINREFERENCE ,
			COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) TotalAmount 
													FROM FINSCHEDULEDETAILS FSD 
													INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE =FSD.FINREFERENCE AND FM.CUSTID = M.CUSTID 
													GROUP BY FM.FINREFERENCE)T)/CCYMINORCCYUNITS, 0) CUST_EMI,
			COALESCE((SELECT SUM(TotalAmount) from (Select MAX(FSD.REPAYAMOUNT+FSD.FEESCHD) TotalAmount FROM FINSCHEDULEDETAILS FSD WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID = M.MANDATEID) GROUP BY FINREFERENCE)T)/CCYMINORCCYUNITS, 0) EMI,
			  CASE M.OPENMANDATE
			    WHEN 1
			    THEN 'New Open ECS'
			    ELSE 'No Open ECS'
			  END OPENMANDATE,
			M.ACCNUMBER,
			M.ACCTYPE,
			M.ACCHOLDERNAME,
			BB.MICR,
			BB.IFSC,
			BB.ADDOFBRANCH,
			(select MIN(FIRSTREPAYDATE) from FINPFTDETAILS where FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) FIRSTDUEDATE,
			(select MAX(SCHDATE) from FINSCHEDULEDETAILS where (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) and FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)) EMIENDDATE,
			 COALESCE (M.MAXLIMIT/CCYMINORCCYUNITS, 0) MAXLIMIT, 
     		 COALESCE((SELECT SUM(MANDATEDEBITAMOUNT) from (Select MAX(REPAYAMOUNT+FEESCHD) MANDATEDEBITAMOUNT FROM FINSCHEDULEDETAILS WHERE (REPAYONSCHDATE = 1 OR PFTONSCHDATE = 1) AND FINREFERENCE IN (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID)
     		 GROUP BY FINREFERENCE)T), 0)/CCYMINORCCYUNITS DEBITAMOUNT,
			  M.STARTDATE,
			  M.EXPIRYDATE,
			  FIN.APPLICATIONNO,
			  M.MANDATETYPE,
			  M.STATUS,
			  M.INPUTDATE,
			  M.RECORDSTATUS,
			  M.RECORDTYPE,
        	M.MANDATECCY,
			  COALESCE (CCY.CCYMINORCCYUNITS, 100) CCYMINORCCYUNITS,M.EntityCode,
              CP.PHONENUMBER,
			CE.CUSTEMAIL
			FROM MANDATES M
			INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID
			INNER JOIN BMTBANKDETAIL BD ON BD.BANKCODE=BB.BANKCODE 
			INNER JOIN CUSTOMERS CUST   ON CUST.CUSTID = M.CUSTID
			INNER JOIN RMTBRANCHES CB ON CB.BRANCHCODE = CUST.CUSTDFTBRANCH 
			LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CUST.CUSTID AND CE.CUSTEMAILPRIORITY = 5
			LEFT JOIN CUSTOMERPHONENUMBERS CP ON CP.PHONECUSTID = CUST.CUSTID AND CP.PHONETYPEPRIORITY = 5
			LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY
			LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE
			LEFT JOIN RMTBRANCHES LB ON LB.BRANCHCODE = FIN.FINBRANCH 
			LEFT OUTER JOIN RMTFINANCETYPES FT ON FIN.FINTYPE =FT.FINTYPE 
			WHERE M.STATUS = 'NEW' AND M.MANDATEID NOT IN  (select MANDATEID FROM MANDATE_REQUESTS where (status = 'AC' OR status = 'NEW'))
			</createView>
</changeSet>
<changeSet id="15" author="Jayant">
	<createSequence sequenceName="SeqPostingId" startValue="1" incrementBy="1"/>
</changeSet>
<changeSet id="16" author="vijaykumar.l">
<sql>
			Delete from RBFIELDDETAILS where RBMODULE = 'SCORES' and RBEVENT = 'RSCORE' and RbFldName = 'IIR_RATIO';
			Delete from RBFIELDDETAILS where RBMODULE = 'SCORES' and RBEVENT = 'RSCORE' and RbFldName = 'MRKVALUE_CONSIDER';
			Delete from RBFIELDDETAILS where RBMODULE = 'SCORES' and RBEVENT = 'RSCORE' and RbFldName = 'PROP_LTV';
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
			('SCORES','RSCORE','IIR_RATIO',' Installment Income Ratio','decimal',18,'1','1',null,'static,calvalue',null);
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
			('SCORES','RSCORE','MRKVALUE_CONSIDER',' Market Value Considered','decimal',18,'1','1',null,'static,calvalue',null);
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
			('SCORES','RSCORE','PROP_LTV',' LTV On Property ','decimal',18,'1','1',null,'static,calvalue',null);
</sql>
</changeSet>
<changeSet id="17" author="Vinay">
		<createView viewName="querydetail_aview" replaceIfExists="true">
			SELECT t1.finreference,
		    t1.id,
		    s1.usrlogin,
		    t1.raisedon,
		    b1.description,
		    t1.qrynotes,
		    t1.status,
		    t1.raisedby,
		    b1.code AS categorycode,
		    b1.description AS categorydescription,
		    t1.categoryid,
		    t1.assignedrole,
		    t1.notifyto,
		    t1.responsnotes,
		    t1.responseby,
		    s2.usrlogin AS responseuser,
		    t1.responseon,
		    t1.closernotes,
		    t1.closerby,
		    s3.usrlogin AS closeruser,
		    t1.closeron,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid
		   FROM querydetail t1
		     JOIN bmtquerycategories b1 ON t1.categoryid = b1.id
		     JOIN secusers s1 ON t1.raisedby = s1.usrid
		     LEFT JOIN secusers s2 ON t1.responseby = s2.usrid
		     LEFT JOIN secusers s3 ON t1.closerby = s3.usrid
		</createView>
	</changeSet>
	
	<changeSet id="18" author="Vinay">
		<createView viewName="querydetail_view" replaceIfExists="true"> 
			SELECT t1.finreference,
			    t1.id,
			    s1.usrlogin,
			    t1.raisedon,
			    b1.description,
			    t1.qrynotes,
			    t1.status,
			    t1.raisedby,
			    b1.code AS categorycode,
			    b1.description AS categorydescription,
			    t1.categoryid,
			    t1.assignedrole,
			    t1.notifyto,
			    t1.responsnotes,
			    t1.responseby,
			    s2.usrlogin AS responseuser,
			    t1.responseon,
			    t1.closernotes,
			    t1.closerby,
			    s3.usrlogin AS closeruser,
			    t1.closeron,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid
			   FROM querydetail t1
			     JOIN bmtquerycategories b1 ON t1.categoryid = b1.id
			     JOIN secusers s1 ON t1.raisedby = s1.usrid
			     LEFT JOIN secusers s2 ON t1.responseby = s2.usrid
			     LEFT JOIN secusers s3 ON t1.closerby = s3.usrid
		</createView>
	</changeSet>
	
	<changeSet id="19" author="Vinay">
		<sql>
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='QUERYDETAIL_MAKER') and rightid=(select rightid from secrights where rightname='menuItem_LoanQuery_QueryDetail');
			delete from secgrouprights where grpid=(select grpid from secgroups where grpcode='QUERYDETAIL_APPROVER') and rightid=(select rightid from secrights where rightname='menuItem_LoanQuery_QueryDetail');
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='QUERYDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_LoanQuery_QueryDetail'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='QUERYDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_LoanQuery_QueryDetail'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		</sql>
	</changeSet>
		
	<changeSet id="20" author="Vinay">
		<modifyDataType tableName="QueryDetail" columnName="closernotes" newDataType="varchar(200)"/>
		<modifyDataType tableName="QueryDetail_Temp" columnName="closernotes" newDataType="varchar(200)"/>
	</changeSet>
	
	<changeSet id="21" author="Vinay">
		<dropSequence sequenceName="seqQuerydetail"/>
	</changeSet>
	
	<changeSet id="22" author="Vinay">
		<createTable tableName="seqQuerydetail">
			<column name="SeqNo" type="bigint"/>
		</createTable>
	</changeSet>
	 <changeSet id="23" author="Vinay">
		<sql>
			delete from errordetails where code='QRYMGMT1';
			Insert into ERRORDETAILS values ('QRYMGMT1','EN','E','Please close if any query is open or resolve from this {0}.','test','Approved',null,null,null,null,null,0,null,1000,3);
		</sql>
	</changeSet>
	<changeSet id="24" author="Umarohini">
		<comment>Add marginDeviation column as null in customers.</comment>
		<addColumn tableName="customers">
			<column name="marginDeviation" type="boolean"/>
		</addColumn>
	</changeSet>
	<changeSet id="25" author="Umarohini">
		<comment>Add marginDeviation column as null in customers_temp.</comment>
		<addColumn tableName="customers_temp">
			<column name="marginDeviation" type="boolean"/>
		</addColumn>
	</changeSet>	
	
	<changeSet id="26" author="Umarohini">
		<createView viewName="customers_view" replaceIfExists="true">
			SELECT t1.custid,
    t1.custcif,
    t1.custcorebank,
    t1.custctgcode,
    t1.custtypecode,
    t1.custsalutationcode,
    t1.custfname,
    t1.custmname,
    t1.custlname,
    t1.custshrtname,
    t1.custfnamelcllng,
    t1.custmnamelcllng,
    t1.custlnamelcllng,
    t1.custshrtnamelcllng,
    t1.custdftbranch,
    t1.custgendercode,
    t1.custdob,
    t1.custpob,
    t1.custcob,
    t1.custpassportno,
    t1.custmothermaiden,
    t1.custisminor,
    t1.custreferedby,
    t1.custdsa,
    t1.custdsadept,
    t1.custro1,
    t1.custro2,
    t1.custgroupid,
    t1.custsts,
    t1.custstschgdate,
    t1.custgroupsts,
    t1.custisblocked,
    t1.custisactive,
    t1.custisclosed,
    t1.custinactivereason,
    t1.custisdecease,
    t1.custisdormant,
    t1.custisdelinquent,
    t1.custistradefincust,
    t1.custtradelicencenum,
    t1.custtradelicenceexpiry,
    t1.custpassportexpiry,
    t1.custvisanum,
    t1.custvisaexpiry,
    t1.custisstaff,
    t1.custstaffid,
    t1.custindustry,
    t1.custsector,
    t1.custsubsector,
    t1.custprofession,
    t1.custtotalincome,
    t1.custmaritalsts,
    t1.custempsts,
    t1.custsegment,
    t1.custsubsegment,
    t1.custisblacklisted,
    t1.custblrsncode,
    t1.custisrejected,
    t1.custrejectedrsn,
    t1.custbaseccy,
    t1.custlng,
    t1.custparentcountry,
    t1.custresdcountry,
    t1.custriskcountry,
    t1.custnationality,
    t1.custclosedon,
    t1.custstmtfrq,
    t1.custisstmtcombined,
    t1.custstmtlastdate,
    t1.custstmtnextdate,
    t1.custstmtdispatchmode,
    t1.custfirstbusinessdate,
    t1.custaddlvar81,
    t1.custaddlvar82,
    t1.custaddlvar83,
    t1.custaddlvar84,
    t1.custaddlvar85,
    t1.custaddlvar86,
    t1.custaddlvar87,
    t1.custaddlvar88,
    t1.custaddlvar89,
    t1.custaddldate1,
    t1.custaddldate2,
    t1.custaddldate3,
    t1.custaddldate4,
    t1.custaddldate5,
    t1.custaddlvar1,
    t1.custaddlvar2,
    t1.custaddlvar3,
    t1.custaddlvar4,
    t1.custaddlvar5,
    t1.custaddlvar6,
    t1.custaddlvar7,
    t1.custaddlvar8,
    t1.custaddlvar9,
    t1.custaddlvar10,
    t1.custaddlvar11,
    t1.custaddldec1,
    t1.custaddldec2,
    t1.custaddldec3,
    t1.custaddldec4,
    t1.custaddldec5,
    t1.custaddlint1,
    t1.custaddlint2,
    t1.custaddlint3,
    t1.custaddlint4,
    t1.custaddlint5,
    t1.custsourceid,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.custtypedesc AS lovdesccusttypecodename,
    t3.maritalstsdesc AS lovdesccustmaritalstsname,
    t4.empstsdesc AS lovdesccustempstsname,
    t6.custstsdescription AS lovdesccuststsname,
    t7.industrydesc AS lovdesccustindustryname,
    t8.sectordesc AS lovdesccustsectorname,
    t9.subsectordesc AS lovdesccustsubsectorname,
    t10.professiondesc AS lovdesccustprofessionname,
    t11.countrydesc AS lovdesccustcobname,
    t20.segmentdesc AS lovdesccustsegmentname,
    t12.nationalitydesc AS lovdesccustnationalityname,
    t13.genderdesc AS lovdesccustgendercodename,
    t14.deptdesc AS lovdesccustdsadeptname,
    t15.dealername AS lovdesccustro1name,
    t15.dealercity AS lovdesccustro1city,
    t16.grpstsdescription AS lovdesccustgroupstsname,
    t17.branchdesc AS lovdesccustdftbranchname,
    t17.bankrefno AS branchrefno,
    t17.branchswiftbrncde AS custswiftbrncode,
    t18.custctgdesc AS lovdesccustctgcodename,
    t2.custtypectg AS lovdesccustctgtype,
    t19.saluationdesc AS lovdesccustsalutationcodename,
    t21.countrydesc AS lovdesccustparentcountryname,
    t22.countrydesc AS lovdesccustresdcountryname,
    t23.countrydesc AS lovdesccustriskcountryname,
    t24.rofficerdesc AS lovdesccustro2name,
    t25.blrsndesc AS lovdesccustblrsncodename,
    t26.rejectdesc AS lovdesccustrejectedrsnname,
    t27.custgrpdesc AS lovdesccustgroupidname,
    t28.subsegmentdesc AS lovdesccustsubsegmentname,
    t29.lngdesc AS lovdesccustlngname,
    t30.dispatchmodedesc AS lovdescdispatchmodedescname,
    t1.dedupfound,
    t1.skipdedup,
    t1.custtotalexpense,
    t1.custblacklistdate,
    t1.noofdependents,
    t1.custcrcpr,
    t1.jointcust,
    t1.jointcustname,
    t1.jointcustdob,
    t27.custgrpcode AS lovdesccustgroupcode,
    t1.custrelation,
    t1.contactpersonname,
    t1.phonenumber,
    t1.emailid,
    t1.salariedcustomer,
    t31.targetdesc AS lovdesctargetname,
    t1.custsuspsts,
    t1.custsuspdate,
    t1.custsusptrigger,
    t1.subcategory,
    t1.casteid,
    t1.religionid,
    t32.castecode,
    t32.castedesc,
    t33.religioncode,
    t33.religiondesc,
    COALESCE((t34.roledesc), ${add.schema}fn_get_roledesc((t1.nextrolecode))) AS lovdescrequeststage,
	t1.marginDeviation
   FROM ((((((((((((((((((((((((((((((((customers_temp t1
     LEFT JOIN rmtcusttypes t2 ON ((t1.custtypecode = t2.custtypecode)))
     LEFT JOIN bmtmaritalstatuscodes t3 ON ((t1.custmaritalsts = t3.maritalstscode)))
     LEFT JOIN bmtempstscodes t4 ON ((t1.custempsts = t4.empstscode)))
     LEFT JOIN bmtcuststatuscodes t6 ON ((t1.custsts = t6.custstscode)))
     LEFT JOIN bmtindustries t7 ON ((t1.custindustry = t7.industrycode)))
     LEFT JOIN bmtsectors t8 ON ((t1.custsector = t8.sectorcode)))
     LEFT JOIN bmtsubsectors t9 ON (((t1.custsector = t9.sectorcode) AND (t1.custsubsector = t9.subsectorcode))))
     LEFT JOIN bmtprofessions t10 ON ((t1.custprofession = t10.professioncode)))
     LEFT JOIN bmtcountries t11 ON ((t1.custcob = t11.countrycode)))
     LEFT JOIN bmtnationalitycodes t12 ON ((t1.custnationality = t12.nationalitycode)))
     LEFT JOIN bmtgenders t13 ON ((t1.custgendercode = t13.gendercode)))
     LEFT JOIN bmtdepartments t14 ON ((t1.custdsadept = t14.deptcode)))
     LEFT JOIN amtvehicledealer t15 ON ((t1.custro1 = t15.dealerid)))
     LEFT JOIN bmtgrpstatuscodes t16 ON ((t1.custgroupsts = t16.grpstscode)))
     LEFT JOIN rmtbranches t17 ON ((t1.custdftbranch = t17.branchcode)))
     LEFT JOIN bmtcustcategories t18 ON ((t1.custctgcode = t18.custctgcode)))
     LEFT JOIN bmtsalutations t19 ON ((t1.custsalutationcode = t19.salutationcode)))
     LEFT JOIN bmtsegments t20 ON ((t1.custsegment = t20.segmentcode)))
     LEFT JOIN bmtcountries t21 ON ((t1.custparentcountry = t21.countrycode)))
     LEFT JOIN bmtcountries t22 ON ((t1.custresdcountry = t22.countrycode)))
     LEFT JOIN bmtcountries t23 ON ((t1.custriskcountry = t23.countrycode)))
     LEFT JOIN relationshipofficers t24 ON ((t1.custro2 = t24.rofficercode)))
     LEFT JOIN bmtblacklistrsncodes t25 ON ((t1.custblrsncode = t25.blrsncode)))
     LEFT JOIN bmtrejectcodes t26 ON (((t1.custrejectedrsn) = (t26.rejectcode))))
     LEFT JOIN customergroups t27 ON ((t1.custgroupid = t27.custgrpid)))
     LEFT JOIN bmtsubsegments t28 ON ((t1.custsubsegment = t28.subsegmentcode)))
     LEFT JOIN bmtlanguage t29 ON ((t1.custlng = t29.lngcode)))
     LEFT JOIN bmtdispatchmodes t30 ON ((t1.custstmtdispatchmode = t30.dispatchmodecode)))
     LEFT JOIN targetdetails t31 ON ((t1.custaddlvar82 = t31.targetcode)))
     LEFT JOIN secroles t34 ON ((t1.nextrolecode = t34.rolecd)))
     LEFT JOIN caste t32 ON ((t1.casteid = t32.casteid)))
     LEFT JOIN religion t33 ON ((t1.religionid = t33.religionid)))
UNION ALL
 SELECT t1.custid,
    t1.custcif,
    t1.custcorebank,
    t1.custctgcode,
    t1.custtypecode,
    t1.custsalutationcode,
    t1.custfname,
    t1.custmname,
    t1.custlname,
    t1.custshrtname,
    t1.custfnamelcllng,
    t1.custmnamelcllng,
    t1.custlnamelcllng,
    t1.custshrtnamelcllng,
    t1.custdftbranch,
    t1.custgendercode,
    t1.custdob,
    t1.custpob,
    t1.custcob,
    t1.custpassportno,
    t1.custmothermaiden,
    t1.custisminor,
    t1.custreferedby,
    t1.custdsa,
    t1.custdsadept,
    t1.custro1,
    t1.custro2,
    t1.custgroupid,
    t1.custsts,
    t1.custstschgdate,
    t1.custgroupsts,
    t1.custisblocked,
    t1.custisactive,
    t1.custisclosed,
    t1.custinactivereason,
    t1.custisdecease,
    t1.custisdormant,
    t1.custisdelinquent,
    t1.custistradefincust,
    t1.custtradelicencenum,
    t1.custtradelicenceexpiry,
    t1.custpassportexpiry,
    t1.custvisanum,
    t1.custvisaexpiry,
    t1.custisstaff,
    t1.custstaffid,
    t1.custindustry,
    t1.custsector,
    t1.custsubsector,
    t1.custprofession,
    t1.custtotalincome,
    t1.custmaritalsts,
    t1.custempsts,
    t1.custsegment,
    t1.custsubsegment,
    t1.custisblacklisted,
    t1.custblrsncode,
    t1.custisrejected,
    t1.custrejectedrsn,
    t1.custbaseccy,
    t1.custlng,
    t1.custparentcountry,
    t1.custresdcountry,
    t1.custriskcountry,
    t1.custnationality,
    t1.custclosedon,
    t1.custstmtfrq,
    t1.custisstmtcombined,
    t1.custstmtlastdate,
    t1.custstmtnextdate,
    t1.custstmtdispatchmode,
    t1.custfirstbusinessdate,
    t1.custaddlvar81,
    t1.custaddlvar82,
    t1.custaddlvar83,
    t1.custaddlvar84,
    t1.custaddlvar85,
    t1.custaddlvar86,
    t1.custaddlvar87,
    t1.custaddlvar88,
    t1.custaddlvar89,
    t1.custaddldate1,
    t1.custaddldate2,
    t1.custaddldate3,
    t1.custaddldate4,
    t1.custaddldate5,
    t1.custaddlvar1,
    t1.custaddlvar2,
    t1.custaddlvar3,
    t1.custaddlvar4,
    t1.custaddlvar5,
    t1.custaddlvar6,
    t1.custaddlvar7,
    t1.custaddlvar8,
    t1.custaddlvar9,
    t1.custaddlvar10,
    t1.custaddlvar11,
    t1.custaddldec1,
    t1.custaddldec2,
    t1.custaddldec3,
    t1.custaddldec4,
    t1.custaddldec5,
    t1.custaddlint1,
    t1.custaddlint2,
    t1.custaddlint3,
    t1.custaddlint4,
    t1.custaddlint5,
    t1.custsourceid,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.custtypedesc AS lovdesccusttypecodename,
    t3.maritalstsdesc AS lovdesccustmaritalstsname,
    t4.empstsdesc AS lovdesccustempstsname,
    t6.custstsdescription AS lovdesccuststsname,
    t7.industrydesc AS lovdesccustindustryname,
    t8.sectordesc AS lovdesccustsectorname,
    t9.subsectordesc AS lovdesccustsubsectorname,
    t10.professiondesc AS lovdesccustprofessionname,
    t11.countrydesc AS lovdesccustcobname,
    t20.segmentdesc AS lovdesccustsegmentname,
    t12.nationalitydesc AS lovdesccustnationalityname,
    t13.genderdesc AS lovdesccustgendercodename,
    t14.deptdesc AS lovdesccustdsadeptname,
    t15.dealername AS lovdesccustro1name,
    t15.dealercity AS lovdesccustro1city,
    t16.grpstsdescription AS lovdesccustgroupstsname,
    t17.branchdesc AS lovdesccustdftbranchname,
    t17.bankrefno AS branchrefno,
    t17.branchswiftbrncde AS custswiftbrncode,
    t18.custctgdesc AS lovdesccustctgcodename,
    t2.custtypectg AS lovdesccustctgtype,
    t19.saluationdesc AS lovdesccustsalutationcodename,
    t21.countrydesc AS lovdesccustparentcountryname,
    t22.countrydesc AS lovdesccustresdcountryname,
    t23.countrydesc AS lovdesccustriskcountryname,
    t24.rofficerdesc AS lovdesccustro2name,
    t25.blrsndesc AS lovdesccustblrsncodename,
    t26.rejectdesc AS lovdesccustrejectedrsnname,
    t27.custgrpdesc AS lovdesccustgroupidname,
    t28.subsegmentdesc AS lovdesccustsubsegmentname,
    t29.lngdesc AS lovdesccustlngname,
    t30.dispatchmodedesc AS lovdescdispatchmodedescname,
    t1.dedupfound,
    t1.skipdedup,
    t1.custtotalexpense,
    t1.custblacklistdate,
    t1.noofdependents,
    t1.custcrcpr,
    t1.jointcust,
    t1.jointcustname,
    t1.jointcustdob,
    t27.custgrpcode AS lovdesccustgroupcode,
    t1.custrelation,
    t1.contactpersonname,
    t1.phonenumber,
    t1.emailid,
    t1.salariedcustomer,
    t31.targetdesc AS lovdesctargetname,
    t1.custsuspsts,
    t1.custsuspdate,
    t1.custsusptrigger,
    t1.subcategory,
    t1.casteid,
    t1.religionid,
    t32.castecode,
    t32.castedesc,
    t33.religioncode,
    t33.religiondesc,
    COALESCE((t34.roledesc), ${add.schema}fn_get_roledesc((t1.nextrolecode))) AS lovdescrequeststage,
	t1.marginDeviation
   FROM ((((((((((((((((((((((((((((((((customers t1
     LEFT JOIN rmtcusttypes t2 ON ((t1.custtypecode = t2.custtypecode)))
     LEFT JOIN bmtmaritalstatuscodes t3 ON ((t1.custmaritalsts = t3.maritalstscode)))
     LEFT JOIN bmtempstscodes t4 ON ((t1.custempsts = t4.empstscode)))
     LEFT JOIN bmtcuststatuscodes t6 ON ((t1.custsts = t6.custstscode)))
     LEFT JOIN bmtindustries t7 ON ((t1.custindustry = t7.industrycode)))
     LEFT JOIN bmtsectors t8 ON ((t1.custsector = t8.sectorcode)))
     LEFT JOIN bmtsubsectors t9 ON (((t1.custsector = t9.sectorcode) AND (t1.custsubsector = t9.subsectorcode))))
     LEFT JOIN bmtprofessions t10 ON ((t1.custprofession = t10.professioncode)))
     LEFT JOIN bmtcountries t11 ON ((t1.custcob = t11.countrycode)))
     LEFT JOIN bmtnationalitycodes t12 ON ((t1.custnationality = t12.nationalitycode)))
     LEFT JOIN bmtgenders t13 ON ((t1.custgendercode = t13.gendercode)))
     LEFT JOIN bmtdepartments t14 ON ((t1.custdsadept = t14.deptcode)))
     LEFT JOIN amtvehicledealer t15 ON ((t1.custro1 = t15.dealerid)))
     LEFT JOIN bmtgrpstatuscodes t16 ON ((t1.custgroupsts = t16.grpstscode)))
     LEFT JOIN rmtbranches t17 ON ((t1.custdftbranch = t17.branchcode)))
     LEFT JOIN bmtcustcategories t18 ON ((t1.custctgcode = t18.custctgcode)))
     LEFT JOIN bmtsalutations t19 ON ((t1.custsalutationcode = t19.salutationcode)))
     LEFT JOIN bmtsegments t20 ON ((t1.custsegment = t20.segmentcode)))
     LEFT JOIN bmtcountries t21 ON ((t1.custparentcountry = t21.countrycode)))
     LEFT JOIN bmtcountries t22 ON ((t1.custresdcountry = t22.countrycode)))
     LEFT JOIN bmtcountries t23 ON ((t1.custriskcountry = t23.countrycode)))
     LEFT JOIN relationshipofficers t24 ON ((t1.custro2 = t24.rofficercode)))
     LEFT JOIN bmtblacklistrsncodes t25 ON ((t1.custblrsncode = t25.blrsncode)))
     LEFT JOIN bmtrejectcodes t26 ON (((t1.custrejectedrsn) = (t26.rejectcode))))
     LEFT JOIN customergroups t27 ON ((t1.custgroupid = t27.custgrpid)))
     LEFT JOIN bmtsubsegments t28 ON ((t1.custsubsegment = t28.subsegmentcode)))
     LEFT JOIN bmtlanguage t29 ON ((t1.custlng = t29.lngcode)))
     LEFT JOIN bmtdispatchmodes t30 ON ((t1.custstmtdispatchmode = t30.dispatchmodecode)))
     LEFT JOIN targetdetails t31 ON ((t1.custaddlvar82 = t31.targetcode)))
     LEFT JOIN secroles t34 ON ((t1.nextrolecode = t34.rolecd)))
     LEFT JOIN caste t32 ON ((t1.casteid = t32.casteid)))
     LEFT JOIN religion t33 ON ((t1.religionid = t33.religionid)))
  WHERE (NOT (EXISTS ( SELECT 1 AS expr1
           FROM customers_temp
          WHERE (customers_temp.custid = t1.custid))))
		</createView>
		</changeSet>
		
		<changeSet  author="umarohini" id="28">
		<createView replaceIfExists="true" viewName="customers_tview">
		 SELECT t1.custid,
    t1.custcif,
    t1.custcorebank,
    t1.custctgcode,
    t1.custtypecode,
    t1.custsalutationcode,
    t1.custfname,
    t1.custmname,
    t1.custlname,
    t1.custshrtname,
    t1.custfnamelcllng,
    t1.custmnamelcllng,
    t1.custlnamelcllng,
    t1.custshrtnamelcllng,
    t1.custdftbranch,
    t1.custgendercode,
    t1.custdob,
    t1.custpob,
    t1.custcob,
    t1.custpassportno,
    t1.custmothermaiden,
    t1.custisminor,
    t1.custreferedby,
    t1.custdsa,
    t1.custdsadept,
    t1.custro1,
    t1.custro2,
    t1.custgroupid,
    t1.custsts,
    t1.custstschgdate,
    t1.custgroupsts,
    t1.custisblocked,
    t1.custisactive,
    t1.custisclosed,
    t1.custinactivereason,
    t1.custisdecease,
    t1.custisdormant,
    t1.custisdelinquent,
    t1.custistradefincust,
    t1.custtradelicencenum,
    t1.custtradelicenceexpiry,
    t1.custpassportexpiry,
    t1.custvisanum,
    t1.custvisaexpiry,
    t1.custisstaff,
    t1.custstaffid,
    t1.custindustry,
    t1.custsector,
    t1.custsubsector,
    t1.custprofession,
    t1.custtotalincome,
    t1.custmaritalsts,
    t1.custempsts,
    t1.custsegment,
    t1.custsubsegment,
    t1.custisblacklisted,
    t1.custblrsncode,
    t1.custisrejected,
    t1.custrejectedrsn,
    t1.custbaseccy,
    t1.custlng,
    t1.custparentcountry,
    t1.custresdcountry,
    t1.custriskcountry,
    t1.custnationality,
    t1.custclosedon,
    t1.custstmtfrq,
    t1.custisstmtcombined,
    t1.custstmtlastdate,
    t1.custstmtnextdate,
    t1.custstmtdispatchmode,
    t1.custfirstbusinessdate,
    t1.custaddlvar81,
    t1.custaddlvar82,
    t1.custaddlvar83,
    t1.custaddlvar84,
    t1.custaddlvar85,
    t1.custaddlvar86,
    t1.custaddlvar87,
    t1.custaddlvar88,
    t1.custaddlvar89,
    t1.custaddldate1,
    t1.custaddldate2,
    t1.custaddldate3,
    t1.custaddldate4,
    t1.custaddldate5,
    t1.custaddlvar1,
    t1.custaddlvar2,
    t1.custaddlvar3,
    t1.custaddlvar4,
    t1.custaddlvar5,
    t1.custaddlvar6,
    t1.custaddlvar7,
    t1.custaddlvar8,
    t1.custaddlvar9,
    t1.custaddlvar10,
    t1.custaddlvar11,
    t1.custaddldec1,
    t1.custaddldec2,
    t1.custaddldec3,
    t1.custaddldec4,
    t1.custaddldec5,
    t1.custaddlint1,
    t1.custaddlint2,
    t1.custaddlint3,
    t1.custaddlint4,
    t1.custaddlint5,
    t1.custsourceid,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.custtypedesc AS lovdesccusttypecodename,
    t3.maritalstsdesc AS lovdesccustmaritalstsname,
    t4.empstsdesc AS lovdesccustempstsname,
    t6.custstsdescription AS lovdesccuststsname,
    t7.industrydesc AS lovdesccustindustryname,
    t8.sectordesc AS lovdesccustsectorname,
    t9.subsectordesc AS lovdesccustsubsectorname,
    t10.professiondesc AS lovdesccustprofessionname,
    t11.countrydesc AS lovdesccustcobname,
    t20.segmentdesc AS lovdesccustsegmentname,
    t12.nationalitydesc AS lovdesccustnationalityname,
    t13.genderdesc AS lovdesccustgendercodename,
    t14.deptdesc AS lovdesccustdsadeptname,
    t15.dealername AS lovdesccustro1name,
    t15.dealercity AS lovdesccustro1city,
    t16.grpstsdescription AS lovdesccustgroupstsname,
    t17.branchdesc AS lovdesccustdftbranchname,
    t17.bankrefno AS branchrefno,
    t17.branchswiftbrncde AS custswiftbrncode,
    t18.custctgdesc AS lovdesccustctgcodename,
    t2.custtypectg AS lovdesccustctgtype,
    t19.saluationdesc AS lovdesccustsalutationcodename,
    t21.countrydesc AS lovdesccustparentcountryname,
    t22.countrydesc AS lovdesccustresdcountryname,
    t23.countrydesc AS lovdesccustriskcountryname,
    t24.rofficerdesc AS lovdesccustro2name,
    t25.blrsndesc AS lovdesccustblrsncodename,
    t26.rejectdesc AS lovdesccustrejectedrsnname,
    t27.custgrpdesc AS lovdesccustgroupidname,
    t28.subsegmentdesc AS lovdesccustsubsegmentname,
    t29.lngdesc AS lovdesccustlngname,
    t30.dispatchmodedesc AS lovdescdispatchmodedescname,
    t1.dedupfound,
    t1.skipdedup,
    t1.custtotalexpense,
    t1.custblacklistdate,
    t1.noofdependents,
    t1.custcrcpr,
    t1.jointcust,
    t1.jointcustname,
    t1.jointcustdob,
    t27.custgrpcode AS lovdesccustgroupcode,
    t1.contactpersonname,
    t1.phonenumber,
    t1.emailid,
    t1.salariedcustomer,
    t31.targetdesc AS lovdesctargetname,
    t1.custrelation,
    t1.custsuspsts,
    t1.custsuspdate,
    t1.custsusptrigger,
    t1.subcategory,
    t1.casteid,
    t1.religionid,
    t32.castecode,
    t32.castedesc,
    t33.religioncode,
    t33.religiondesc,
    COALESCE((t34.roledesc), ${add.schema}fn_get_roledesc((t1.nextrolecode))) AS lovdescrequeststage,
    t1.marginDeviation
   FROM ((((((((((((((((((((((((((((((((customers_temp t1
     LEFT JOIN rmtcusttypes t2 ON ((t1.custtypecode = t2.custtypecode)))
     LEFT JOIN bmtmaritalstatuscodes t3 ON ((t1.custmaritalsts = t3.maritalstscode)))
     LEFT JOIN bmtempstscodes t4 ON ((t1.custempsts = t4.empstscode)))
     LEFT JOIN bmtcuststatuscodes t6 ON ((t1.custsts = t6.custstscode)))
     LEFT JOIN bmtindustries t7 ON ((t1.custindustry = t7.industrycode)))
     LEFT JOIN bmtsectors t8 ON ((t1.custsector = t8.sectorcode)))
     LEFT JOIN bmtsubsectors t9 ON (((t1.custsector = t9.sectorcode) AND (t1.custsubsector = t9.subsectorcode))))
     LEFT JOIN bmtprofessions t10 ON ((t1.custprofession = t10.professioncode)))
     LEFT JOIN bmtcountries t11 ON ((t1.custcob = t11.countrycode)))
     LEFT JOIN bmtnationalitycodes t12 ON ((t1.custnationality = t12.nationalitycode)))
     LEFT JOIN bmtgenders t13 ON ((t1.custgendercode = t13.gendercode)))
     LEFT JOIN bmtdepartments t14 ON ((t1.custdsadept = t14.deptcode)))
     LEFT JOIN amtvehicledealer t15 ON ((t1.custro1 = t15.dealerid)))
     LEFT JOIN bmtgrpstatuscodes t16 ON ((t1.custgroupsts = t16.grpstscode)))
     LEFT JOIN rmtbranches t17 ON ((t1.custdftbranch = t17.branchcode)))
     LEFT JOIN bmtcustcategories t18 ON ((t1.custctgcode = t18.custctgcode)))
     LEFT JOIN bmtsalutations t19 ON ((t1.custsalutationcode = t19.salutationcode)))
     LEFT JOIN bmtsegments t20 ON ((t1.custsegment = t20.segmentcode)))
     LEFT JOIN bmtcountries t21 ON ((t1.custparentcountry = t21.countrycode)))
     LEFT JOIN bmtcountries t22 ON ((t1.custresdcountry = t22.countrycode)))
     LEFT JOIN bmtcountries t23 ON ((t1.custriskcountry = t23.countrycode)))
     LEFT JOIN relationshipofficers t24 ON ((t1.custro2 = t24.rofficercode)))
     LEFT JOIN bmtblacklistrsncodes t25 ON ((t1.custblrsncode = t25.blrsncode)))
     LEFT JOIN bmtrejectcodes t26 ON (((t1.custrejectedrsn) = (t26.rejectcode))))
     LEFT JOIN customergroups t27 ON ((t1.custgroupid = t27.custgrpid)))
     LEFT JOIN bmtsubsegments t28 ON ((t1.custsubsegment = t28.subsegmentcode)))
     LEFT JOIN bmtlanguage t29 ON ((t1.custlng = t29.lngcode)))
     LEFT JOIN bmtdispatchmodes t30 ON ((t1.custstmtdispatchmode = t30.dispatchmodecode)))
     LEFT JOIN targetdetails t31 ON ((t1.custaddlvar82 = t31.targetcode)))
     LEFT JOIN caste t32 ON ((t1.casteid = t32.casteid)))
     LEFT JOIN religion t33 ON ((t1.religionid = t33.religionid)))
     LEFT JOIN secroles t34 ON ((t1.nextrolecode = t34.rolecd)))
</createView>
	</changeSet>

	<changeSet  author="umarohini" id="29">
		<createView replaceIfExists="true" viewName="customers_aview">
 	 SELECT t1.custid,
    t1.custcif,
    t1.custcorebank,
    t1.custctgcode,
    t1.custtypecode,
    t1.custsalutationcode,
    t1.custfname,
    t1.custmname,
    t1.custlname,
    t1.custshrtname,
    t1.custfnamelcllng,
    t1.custmnamelcllng,
    t1.custlnamelcllng,
    t1.custshrtnamelcllng,
    t1.custdftbranch,
    t1.custgendercode,
    t1.custdob,
    t1.custpob,
    t1.custcob,
    t1.custpassportno,
    t1.custmothermaiden,
    t1.custisminor,
    t1.custreferedby,
    t1.custdsa,
    t1.custdsadept,
    t1.custro1,
    t1.custro2,
    t1.custgroupid,
    t1.custsts,
    t1.custstschgdate,
    t1.custgroupsts,
    t1.custisblocked,
    t1.custisactive,
    t1.custisclosed,
    t1.custinactivereason,
    t1.custisdecease,
    t1.custisdormant,
    t1.custisdelinquent,
    t1.custistradefincust,
    t1.custtradelicencenum,
    t1.custtradelicenceexpiry,
    t1.custpassportexpiry,
    t1.custvisanum,
    t1.custvisaexpiry,
    t1.custisstaff,
    t1.custstaffid,
    t1.custindustry,
    t1.custsector,
    t1.custsubsector,
    t1.custprofession,
    t1.custtotalincome,
    t1.custmaritalsts,
    t1.custempsts,
    t1.custsegment,
    t1.custsubsegment,
    t1.custisblacklisted,
    t1.custblrsncode,
    t1.custisrejected,
    t1.custrejectedrsn,
    t1.custbaseccy,
    t1.custlng,
    t1.custparentcountry,
    t1.custresdcountry,
    t1.custriskcountry,
    t1.custnationality,
    t1.custclosedon,
    t1.custstmtfrq,
    t1.custisstmtcombined,
    t1.custstmtlastdate,
    t1.custstmtnextdate,
    t1.custstmtdispatchmode,
    t1.custfirstbusinessdate,
    t1.custaddlvar81,
    t1.custaddlvar82,
    t1.custaddlvar83,
    t1.custaddlvar84,
    t1.custaddlvar85,
    t1.custaddlvar86,
    t1.custaddlvar87,
    t1.custaddlvar88,
    t1.custaddlvar89,
    t1.custaddldate1,
    t1.custaddldate2,
    t1.custaddldate3,
    t1.custaddldate4,
    t1.custaddldate5,
    t1.custaddlvar1,
    t1.custaddlvar2,
    t1.custaddlvar3,
    t1.custaddlvar4,
    t1.custaddlvar5,
    t1.custaddlvar6,
    t1.custaddlvar7,
    t1.custaddlvar8,
    t1.custaddlvar9,
    t1.custaddlvar10,
    t1.custaddlvar11,
    t1.custaddldec1,
    t1.custaddldec2,
    t1.custaddldec3,
    t1.custaddldec4,
    t1.custaddldec5,
    t1.custaddlint1,
    t1.custaddlint2,
    t1.custaddlint3,
    t1.custaddlint4,
    t1.custaddlint5,
    t1.version,
    t1.custsourceid,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.custtypedesc AS lovdesccusttypecodename,
    t3.maritalstsdesc AS lovdesccustmaritalstsname,
    t4.empstsdesc AS lovdesccustempstsname,
    t6.custstsdescription AS lovdesccuststsname,
    t7.industrydesc AS lovdesccustindustryname,
    t8.sectordesc AS lovdesccustsectorname,
    t9.subsectordesc AS lovdesccustsubsectorname,
    t10.professiondesc AS lovdesccustprofessionname,
    t11.countrydesc AS lovdesccustcobname,
    t20.segmentdesc AS lovdesccustsegmentname,
    t12.nationalitydesc AS lovdesccustnationalityname,
    t13.genderdesc AS lovdesccustgendercodename,
    t14.deptdesc AS lovdesccustdsadeptname,
    t15.dealername AS lovdesccustro1name,
    t15.dealercity AS lovdesccustro1city,
    t16.grpstsdescription AS lovdesccustgroupstsname,
    t17.branchdesc AS lovdesccustdftbranchname,
    t17.bankrefno AS branchrefno,
    t17.branchswiftbrncde AS custswiftbrncode,
    t18.custctgdesc AS lovdesccustctgcodename,
    t2.custtypectg AS lovdesccustctgtype,
    t19.saluationdesc AS lovdesccustsalutationcodename,
    t21.countrydesc AS lovdesccustparentcountryname,
    t22.countrydesc AS lovdesccustresdcountryname,
    t23.countrydesc AS lovdesccustriskcountryname,
    t24.rofficerdesc AS lovdesccustro2name,
    t25.blrsndesc AS lovdesccustblrsncodename,
    t26.rejectdesc AS lovdesccustrejectedrsnname,
    t27.custgrpdesc AS lovdesccustgroupidname,
    t28.subsegmentdesc AS lovdesccustsubsegmentname,
    t29.lngdesc AS lovdesccustlngname,
    t30.dispatchmodedesc AS lovdescdispatchmodedescname,
    t1.dedupfound,
    t1.skipdedup,
    t1.custtotalexpense,
    t1.custblacklistdate,
    t1.noofdependents,
    t1.custcrcpr,
    t1.jointcust,
    t1.jointcustname,
    t1.jointcustdob,
    t27.custgrpcode AS lovdesccustgroupcode,
    t1.custrelation,
    t1.contactpersonname,
    t1.phonenumber,
    t1.emailid,
    t1.salariedcustomer,
    t31.targetdesc AS lovdesctargetname,
    t1.custsuspsts,
    t1.custsuspdate,
    t1.custsusptrigger,
    t1.subcategory,
    t1.casteid,
    t1.religionid,
    t32.castecode,
    t32.castedesc,
    t33.religioncode,
    t33.religiondesc,
    COALESCE((t34.roledesc), ${add.schema}fn_get_roledesc((t1.nextrolecode))) AS lovdescrequeststage,
    t1.marginDeviation
   FROM ((((((((((((((((((((((((((((((((customers t1
     LEFT JOIN rmtcusttypes t2 ON ((t1.custtypecode = t2.custtypecode)))
     LEFT JOIN bmtmaritalstatuscodes t3 ON ((t1.custmaritalsts = t3.maritalstscode)))
     LEFT JOIN bmtempstscodes t4 ON ((t1.custempsts = t4.empstscode)))
     LEFT JOIN bmtcuststatuscodes t6 ON ((t1.custsts = t6.custstscode)))
     LEFT JOIN bmtindustries t7 ON ((t1.custindustry = t7.industrycode)))
     LEFT JOIN bmtsectors t8 ON ((t1.custsector = t8.sectorcode)))
     LEFT JOIN bmtsubsectors t9 ON (((t1.custsector = t9.sectorcode) AND (t1.custsubsector = t9.subsectorcode))))
     LEFT JOIN bmtprofessions t10 ON ((t1.custprofession = t10.professioncode)))
     LEFT JOIN bmtcountries t11 ON ((t1.custcob = t11.countrycode)))
     LEFT JOIN bmtnationalitycodes t12 ON ((t1.custnationality = t12.nationalitycode)))
     LEFT JOIN bmtgenders t13 ON ((t1.custgendercode = t13.gendercode)))
     LEFT JOIN bmtdepartments t14 ON ((t1.custdsadept = t14.deptcode)))
     LEFT JOIN amtvehicledealer t15 ON ((t1.custro1 = t15.dealerid)))
     LEFT JOIN bmtgrpstatuscodes t16 ON ((t1.custgroupsts = t16.grpstscode)))
     LEFT JOIN rmtbranches t17 ON ((t1.custdftbranch = t17.branchcode)))
     LEFT JOIN bmtcustcategories t18 ON ((t1.custctgcode = t18.custctgcode)))
     LEFT JOIN bmtsalutations t19 ON ((t1.custsalutationcode = t19.salutationcode)))
     LEFT JOIN bmtsegments t20 ON ((t1.custsegment = t20.segmentcode)))
     LEFT JOIN bmtcountries t21 ON ((t1.custparentcountry = t21.countrycode)))
     LEFT JOIN bmtcountries t22 ON ((t1.custresdcountry = t22.countrycode)))
     LEFT JOIN bmtcountries t23 ON ((t1.custriskcountry = t23.countrycode)))
     LEFT JOIN relationshipofficers t24 ON ((t1.custro2 = t24.rofficercode)))
     LEFT JOIN bmtblacklistrsncodes t25 ON ((t1.custblrsncode = t25.blrsncode)))
     LEFT JOIN bmtrejectcodes t26 ON (((t1.custrejectedrsn) = (t26.rejectcode))))
     LEFT JOIN customergroups t27 ON ((t1.custgroupid = t27.custgrpid)))
     LEFT JOIN bmtsubsegments t28 ON ((t1.custsubsegment = t28.subsegmentcode)))
     LEFT JOIN bmtlanguage t29 ON ((t1.custlng = t29.lngcode)))
     LEFT JOIN bmtdispatchmodes t30 ON ((t1.custstmtdispatchmode = t30.dispatchmodecode)))
     LEFT JOIN targetdetails t31 ON ((t1.custaddlvar82 = t31.targetcode)))
     LEFT JOIN caste t32 ON ((t1.casteid = t32.casteid)))
     LEFT JOIN religion t33 ON ((t1.religionid = t33.religionid)))
     LEFT JOIN secroles t34 ON ((t1.nextrolecode = t34.rolecd)))
		</createView>
	</changeSet>
	<changeSet  author="umarohini" id="30">
		<createView replaceIfExists="true" viewName="customers_aeview">
 	 		 SELECT t1.custid,
		    t1.custcif,
		    t1.custcorebank,
		    t1.custctgcode,
		    t1.custtypecode,
		    t1.custshrtname,
		    t1.custfname,
		    t1.custlname,
		    t1.custdob,
		    t1.custnationality,
		    t1.custsector,
		    t1.custsubsector,
		    t2.phonenumber,
		    t2.phoneareacode,
		    t2.phonecountrycode,
		    t1.custcrcpr,
		    t1.custpassportno,
		    t3.custemail AS emailid,
		    t1.custaddlvar82,
		    t4.custtypedesc AS lovdesccusttypecodename,
		    t1.custbaseccy,
		    t4.custtypectg AS lovdesccustctgtype,
		    t5.custctgdesc AS lovdesccustctgcodename,
		    t6.custstsdescription AS lovdesccuststsname,
		    t1.custdftbranch,
		    t7.branchdesc AS lovdesccustdftbranchname,
		    t1.subcategory,
		    t1.casteid,
		    t1.religionid,
		    t8.castecode,
		    t8.castedesc,
		    t9.religioncode,
		    t9.religiondesc,
    COALESCE((t32.roledesc), ${add.schema}fn_get_roledesc((t1.nextrolecode))) AS lovdescrequeststage,
    t1.marginDeviation
   FROM (((((((((customers t1
     LEFT JOIN customerphonenumbers t2 ON (((t1.custid = t2.phonecustid) AND (t2.phonetypepriority = 5))))
     LEFT JOIN customeremails t3 ON (((t1.custid = t3.custid) AND (t3.custemailtypecode = 'OFFICE'))))
     LEFT JOIN rmtcusttypes t4 ON ((t1.custtypecode = t4.custtypecode)))
     LEFT JOIN bmtcustcategories t5 ON ((t1.custctgcode = t5.custctgcode)))
     LEFT JOIN bmtcuststatuscodes t6 ON ((t1.custsts = t6.custstscode)))
     LEFT JOIN rmtbranches t7 ON ((t1.custdftbranch = t7.branchcode)))
     LEFT JOIN caste t8 ON ((t1.casteid = t8.casteid)))
     LEFT JOIN religion t9 ON ((t1.religionid = t9.religionid)))
     LEFT JOIN secroles t32 ON ((t1.nextrolecode = t32.rolecd)))
		</createView>
	</changeSet>
<changeSet  author="umarohini" id="31">
		<createView replaceIfExists="true" viewName="customers_lview">
 	 		SELECT c.custid,
		    c.custcif,
		    c.custcorebank,
		    c.custctgcode,
		    c.custtypecode,
		    c.custshrtname,
		    c.custdftbranch,
		    c.recordstatus,
		    c.rolecode,
		    c.nextrolecode,
		    c.recordtype,
		    ct.custtypedesc AS lovdesccusttypecodename,
		    t1.custctgdesc AS lovdesccustctgcodename,
		    c.subcategory,
		    c.casteid,
		    c.religionid,
		    t2.castecode,
		    t2.castedesc,
		    t3.religioncode,
		    t3.religiondesc,
		    COALESCE((t4.roledesc), ${add.schema}fn_get_roledesc((c.nextrolecode))) AS lovdescrequeststage,
    c.marginDeviation
   FROM (((((customers_temp c
     LEFT JOIN rmtcusttypes ct ON ((c.custtypecode = ct.custtypecode)))
     LEFT JOIN bmtcustcategories t1 ON ((c.custctgcode = t1.custctgcode)))
     LEFT JOIN secroles t4 ON ((c.nextrolecode = t4.rolecd)))
     LEFT JOIN caste t2 ON ((c.casteid = t2.casteid)))
     LEFT JOIN religion t3 ON ((c.religionid = t3.religionid)))
UNION ALL
 SELECT c.custid,
    c.custcif,
    c.custcorebank,
    c.custctgcode,
    c.custtypecode,
    c.custshrtname,
    c.custdftbranch,
    c.recordstatus,
    c.rolecode,
    c.nextrolecode,
    c.recordtype,
    ct.custtypedesc AS lovdesccusttypecodename,
    t1.custctgdesc AS lovdesccustctgcodename,
    c.subcategory,
    c.casteid,
    c.religionid,
    t2.castecode,
    t2.castedesc,
    t3.religioncode,
    t3.religiondesc,
    COALESCE((t4.roledesc), ${add.schema}fn_get_roledesc((c.nextrolecode))) AS lovdescrequeststage,
    c.marginDeviation
   FROM (((((customers c
     LEFT JOIN rmtcusttypes ct ON ((c.custtypecode = ct.custtypecode)))
     LEFT JOIN bmtcustcategories t1 ON ((c.custctgcode = t1.custctgcode)))
     LEFT JOIN secroles t4 ON ((c.nextrolecode = t4.rolecd)))
     LEFT JOIN caste t2 ON ((c.casteid = t2.casteid)))
     LEFT JOIN religion t3 ON ((c.religionid = t3.religionid)))
  WHERE (NOT (c.custid IN ( SELECT customers_temp.custid
           FROM customers_temp
          WHERE (customers_temp.custid = c.custid))))
		</createView>
</changeSet>
<changeSet  author="Umarohini" id="32">
<sql>
update Customers set marginDeviation=0;	
update customers_temp set marginDeviation=0;	
</sql>
</changeSet>

<changeSet id="Durgaprasad G" author="33">
	<modifyDataType tableName="PRESENTMENT_REQ_DETAILS_TEMP" columnName="UMRN_NO" newDataType="VARCHAR(50)"/>
	<modifyDataType tableName="PRESENTMENT_REQ_DETAILS" columnName="UMRN_NO" newDataType="VARCHAR(50)"/>
</changeSet>
<changeSet id="34" author="vijaykumar.l">
<sql>
	Delete from RBFIELDDETAILS where RBMODULE = 'SCORES' and RBEVENT = 'RSCORE' and RbFldName = 'Total_Co_Applicants_Income';
	Delete from RBFIELDDETAILS where RBMODULE = 'SCORES' and RBEVENT = 'RSCORE' and RbFldName = 'Total_Co_Applicants_Expense';
    Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	('SCORES','RSCORE','Total_Co_Applicants_Income','  Total CoApplicants Income','decimal',18,'1','1',null,'static,calvalue',null);
	Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	('SCORES','RSCORE','Total_Co_Applicants_Expense',' Total CoApplicants Expense','decimal',18,'1','1',null,'static,calvalue',null);
</sql>
</changeSet>
<changeSet id="35.1" author="madhubabu.p">
	<createView viewName="fincovenanttype_view" replaceIfExists="true">
SELECT t1.finreference,
    t1.covenanttype,
    t1.description,
    t1.mandrole,
    t1.alwwaiver,
    t1.alwpostpone,
    t1.postponedays,
    t1.alwotc,
    t3.doctypedesc AS covenanttypedesc,
    t5.code AS categorycode,
    t4.roledesc AS mandroledesc,
    t1.receivabledate,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.pdd AS pddFlag,
    t3.otc AS otcFlag
   FROM fincovenanttype_temp t1
     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
     LEFT JOIN secroles t4 ON t4.rolecd = t1.mandrole
UNION ALL
 SELECT t1.finreference,
    t1.covenanttype,
    t1.description,
    t1.mandrole,
    t1.alwwaiver,
    t1.alwpostpone,
    t1.postponedays,
    t1.alwotc,
    t3.doctypedesc AS covenanttypedesc,
    t5.code AS categorycode,
    t4.roledesc AS mandroledesc,
    t1.receivabledate,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.pdd AS pddFlag,
    t3.otc AS otcFlag
   FROM fincovenanttype t1
     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
     LEFT JOIN secroles t4 ON t4.rolecd = t1.mandrole
  WHERE NOT (EXISTS ( SELECT 1
           FROM fincovenanttype_temp
          WHERE fincovenanttype_temp.finreference = t1.finreference AND fincovenanttype_temp.covenanttype = t1.covenanttype))
			</createView>
</changeSet>
<changeSet id="36.1" author="madhubabu.p">
	<createView viewName="fincovenanttype_aview" replaceIfExists="true">
SELECT t1.finreference,
    t1.covenanttype,
    t1.description,
    t1.mandrole,
    t1.alwwaiver,
    t1.alwpostpone,
    t1.postponedays,
    t1.alwotc,
    t3.doctypedesc AS covenanttypedesc,
    t5.code AS categorycode,
    t4.roledesc AS mandroledesc,
    t1.receivabledate,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.pdd AS pddFlag,
    t3.otc AS otcFlag
   FROM fincovenanttype t1
     JOIN financemain t2 ON t2.finreference = t1.finreference
     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
     JOIN secroles t4 ON t4.rolecd = t1.mandrole
			</createView>
</changeSet>
<changeSet id="37.1" author="madhubabu.p">
	<createView viewName="fincovenanttype_eaview" replaceIfExists="true">
SELECT t.finreference,
    t.custid,
    t.covenanttype,
    t.description,
    t.mandrole,
    t.alwwaiver,
    t.alwpostpone,
    t.alwotc,
    t.postponedays,
    t.covenanttypedesc,
    t.categorycode,
    t.receivabledate,
    t.version,
    t.lastmntby,
    t.lastmnton,
    t.recordstatus,
    t.rolecode,
    t.nextrolecode,
    t.taskid,
    t.nexttaskid,
    t.recordtype,
    t.workflowid,
        CASE
            WHEN t.docreceiveddate IS NULL THEN cd.lastmnton
            ELSE t.docreceiveddate
        END AS docreceiveddate,
     t.pddFlag,
     t.otcFlag
   FROM ( SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
            t1.alwotc,
            t1.postponedays,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate,
         	t3.pdd AS pddFlag,
    		t3.otc AS otcFlag
         
           FROM fincovenanttype t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory) t
     LEFT JOIN customerdocuments cd ON cd.custid = t.custid AND t.covenanttype = cd.custdoccategory
			</createView>
</changeSet>
<changeSet id="38.1" author="madhubabu.p">
	<createView viewName="fincovenanttype_eview" replaceIfExists="true">
SELECT t.finreference,
    t.custid,
    t.covenanttype,
    t.description,
    t.mandrole,
    t.alwwaiver,
    t.alwpostpone,
    t.alwotc,
    t.postponedays,
    t.covenanttypedesc,
    t.categorycode,
    t.receivabledate,
    t.version,
    t.lastmntby,
    t.lastmnton,
    t.recordstatus,
    t.rolecode,
    t.nextrolecode,
    t.taskid,
    t.nexttaskid,
    t.recordtype,
    t.workflowid,
        CASE
            WHEN t.docreceiveddate IS NULL THEN cd.lastmnton
            ELSE t.docreceiveddate
        END AS docreceiveddate,
     t.pddFlag,
     t.otcFlag
   FROM ( SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
            t1.postponedays,
            t1.alwotc,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate,
         	t3.pdd AS pddFlag,
    		t3.otc AS otcFlag
           FROM fincovenanttype_temp t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory
        UNION ALL
         SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
            t1.postponedays,
            t1.alwotc,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate,
            t3.pdd AS pddFlag,
    		t3.otc AS otcFlag
           FROM fincovenanttype t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory
          WHERE NOT (EXISTS ( SELECT 1
                   FROM fincovenanttype_temp
                  WHERE fincovenanttype_temp.finreference = t1.finreference AND fincovenanttype_temp.covenanttype = t1.covenanttype))) t
     LEFT JOIN customerdocuments cd ON cd.custid = t.custid AND t.covenanttype = cd.custdoccategory
			</createView>
</changeSet>
<changeSet id="39" author="madhubabu.p">
	<createView viewName="fincovenanttype_tview" replaceIfExists="true">
SELECT t1.finreference,
    t1.covenanttype,
    t1.description,
    t1.mandrole,
    t1.alwwaiver,
    t1.alwpostpone,
    t1.postponedays,
    t1.alwotc,
    t3.doctypedesc AS covenanttypedesc,
    t5.code AS categorycode,
    t4.roledesc AS mandroledesc,
    t1.receivabledate,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t3.pdd AS pddFlag,
    t3.otc AS otcFlag
   FROM fincovenanttype_temp t1
     JOIN financemain_temp t2 ON t2.finreference = t1.finreference
     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
     JOIN secroles t4 ON t4.rolecd = t1.mandrole
			</createView>
</changeSet>

<changeSet id="40" author="vinay">
		<addColumn tableName="finjointaccountdetails">
			<column name="IncludeIncome" type="boolean" />
		</addColumn>
	</changeSet>
<changeSet id="41" author="vinay">
		<addColumn tableName="finjointaccountdetails_temp">
			<column name="IncludeIncome" type="boolean" />
		</addColumn>
	</changeSet>
	
<changeSet id="42" author="vinay">
	<createView viewName="finjointaccountdetails_aview" replaceIfExists="true">
	SELECT t1.jointaccountid,
    t1.finreference,
    t1.custcif,
    t1.includerepay,
    t1.repayaccountid,
    t1.catofcoapplicant,
    t1.authoritysignatory,
    t1.sequence,
	t1.IncludeIncome,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.usrlogin,
    t2.usrfname,
    t2.usrmname,
    t2.usrlname,
    t3.custshrtname AS lovdesccifname,
    t3.custid
   FROM finjointaccountdetails t1
     JOIN secusers t2 ON t1.lastmntby = t2.usrid
     JOIN customers t3 ON t1.custcif = t3.custcif
	</createView>
</changeSet>
	
<changeSet id="43" author="vinay">
	<createView viewName="finjointaccountdetails_tview" replaceIfExists="true">
	SELECT t1.jointaccountid,
    t1.finreference,
    t1.custcif,
    t1.includerepay,
    t1.repayaccountid,
    t1.catofcoapplicant,
    t1.authoritysignatory,
    t1.sequence,
	t1.IncludeIncome,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.usrlogin,
    t2.usrfname,
    t2.usrmname,
    t2.usrlname,
    t3.custshrtname AS lovdesccifname,
    t3.custid
   FROM finjointaccountdetails_temp t1
     JOIN secusers t2 ON t1.lastmntby = t2.usrid
     JOIN customers t3 ON t1.custcif = t3.custcif
	</createView>
</changeSet>
	 
<changeSet id="44" author="vinay">
	<createView viewName="finjointaccountdetails_view" replaceIfExists="true">
	SELECT t1.jointaccountid,
    t1.finreference,
    t1.custcif,
    t1.includerepay,
    t1.repayaccountid,
    t1.catofcoapplicant,
    t1.authoritysignatory,
    t1.sequence,
	t1.includeIncome,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.usrlogin,
    t2.usrfname,
    t2.usrmname,
    t2.usrlname,
    t3.custshrtname AS lovdesccifname,
    t3.custid
   FROM finjointaccountdetails_temp t1
     JOIN secusers t2 ON t1.lastmntby = t2.usrid
     JOIN customers t3 ON t1.custcif = t3.custcif
UNION ALL
 SELECT t1.jointaccountid,
    t1.finreference,
    t1.custcif,
    t1.includerepay,
    t1.repayaccountid,
    t1.catofcoapplicant,
    t1.authoritysignatory,
    t1.sequence,
    t1.version,
	t1.includeIncome,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.usrlogin,
    t2.usrfname,
    t2.usrmname,
    t2.usrlname,
    t3.custshrtname AS lovdesccifname,
    t3.custid
   FROM finjointaccountdetails t1
     JOIN secusers t2 ON t1.lastmntby = t2.usrid
     JOIN customers t3 ON t1.custcif = t3.custcif
  WHERE NOT (EXISTS ( SELECT 1
           FROM finjointaccountdetails_temp
          WHERE finjointaccountdetails_temp.jointaccountid = t1.jointaccountid))
	</createView>
</changeSet>

<changeSet id="45" author="vinay">
<sql>
	update finjointaccountdetails set  IncludeIncome=0;
	update finjointaccountdetails_temp set  IncludeIncome=0;
</sql>
</changeSet>

<changeSet id="46" author="Vinay">
		<createTable tableName="STAGETABDETAIL">
			<column name="TABID" type="bigint">
				<constraints nullable="false" primaryKey="true" primaryKeyName="pk_stagetabdetail_tabid"/>
			</column>
			<column name="TABCODE" type="VARCHAR(8)">
				<constraints nullable="false"/>
			</column>
			<column name="TABDESCRIPTION" type="VARCHAR(50)">
				<constraints nullable="false"/>
			</column>
			<column name="active" type="number(1,0)" defaultValue="1" />
		</createTable>
	</changeSet>
	
	<changeSet id="47.1" author="Vinay">
		<createView viewName="LMTFINREFDETAIL_TFSVIEW" replaceIfExists="true">
			SELECT     T1.FinRefDetailId, T1.FinType, T2.FinTypeDesc lovDescFinTypeDescName, T1.FinRefType, T1.FinRefId, T3.TabCode lovDescNamelov, 
					  T1.IsActive, T1.ShowInStage, T1.MandInputInStage, T1.AllowInputInStage, T1.AllowDeviation, T1.AllowWaiver, T1.AllowPostpone, 
					  T1.AllowExpire, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
					  T3.TabId lovDescCodelov, T3.TabDescription lovDescRefDesc,  T1.OverRide,  T1.OverRideValue, T1.FinEvent,T1.AlertType
					  FROM         LMTFinRefDetail_Temp T1 LEFT JOIN
					  RMTFinanceTypes T2 ON T1.FinType = T2.FinType  INNER JOIN
					  STAGETABDETAIL T3 ON T1.FinRefId = T3.TabID AND T1.FinRefType = '15'
					  UNION ALL
  					  SELECT     T1.FinRefDetailId, T1.FinType, T2.FinTypeDesc lovDescFinTypeDescName, T1.FinRefType, T1.FinRefId, T3.TabCode lovDescNamelov, 
					  T1.IsActive, T1.ShowInStage, T1.MandInputInStage, T1.AllowInputInStage, T1.AllowDeviation, T1.AllowWaiver, T1.AllowPostpone, 
					  T1.AllowExpire, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
					  T3.TabId lovDescCodelov, T3.TabDescription lovDescRefDesc,  T1.OverRide,  T1.OverRideValue, T1.FinEvent,T1.AlertType
                      FROM         LMTFinRefDetail T1 LEFT JOIN
					  RMTFinanceTypes T2 ON T1.FinType = T2.FinType  INNER JOIN
					  STAGETABDETAIL T3 ON T1.FinRefId = T3.TabID AND T1.FinRefType = '15'
					  WHERE     (NOT EXISTS
					  (SELECT     1 Expr1
					  FROM          LMTFinRefDetail_Temp
					  WHERE      (FinRefDetailId = T1.FinRefDetailId AND T1.FinRefType = '15')))
		</createView>
	</changeSet>
	<changeSet id="49" author="Vijaykumar.l">
	<sql>
	Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Total_Co_Applicants_Income';
	Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Total_Co_Applicants_Expense';
	Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'CUSTOMER_MARGIN_DEVIATION';
	Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	   ('ELGRULE','ELGRULE','Total_Co_Applicants_Income','  Total CoApplicants Income','decimal',18,'1','1','','static,calvalue','');
	Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	   ('ELGRULE','ELGRULE','Total_Co_Applicants_Expense',' Total CoApplicants Expense','decimal',18,'1','1','','static,calvalue','');
	Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	   ('ELGRULE','ELGRULE','CUSTOMER_MARGIN_DEVIATION','CUSTOMER MARGIN DEVIATION','nchar',2,'1','1','','static,global,dbvalue','');	
	  
 </sql>
	</changeSet>
	
	<changeSet id="50" author="Durgaprasad G">
			<sql>
				Delete from secrolegroups Where grpid in (Select grpid from secgroups Where grpcode = 'GROUP_PRESENTMENTDETAILS');
				Delete from secrolegroups Where Roleid in (Select Roleid from Secroles Where Rolecd in ('ROLE_PRESENTMENTDETAILS','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER','PRESENTMENT_DETAIL_ENQUIRY')); 
				Delete from secgrouprights Where grpid in (Select grpid from secgroups Where grpcode = 'GROUP_PRESENTMENTDETAILS'); 
				Delete from secgroups Where grpcode = 'GROUP_PRESENTMENTDETAILS';
                Delete from secoperationroles Where Roleid in (Select Roleid from Secroles Where Rolecd in ('ROLE_PRESENTMENTDETAILS','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER'));
				Delete from Secroles Where Rolecd = 'ROLE_PRESENTMENTDETAILS';
				delete from secroles where rolecd='PRESENTMENTBATCH_MAKER';
				delete from secroles where rolecd='PRESENTMENT_DETAIL_ENQUIRY';				
				delete from secroles where rolecd='PRESENTMENTBATCH_APPROVER';
				Delete from secgrouprights Where 
				grpid in (Select grpid from secgroups Where grpcode in ('PRESENTMENT_DETAIL_EXTRACT','PRESENTMENT_FILE_IMPORT','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER'));
				Delete from secrolegroups Where 
				grpid in (Select grpid from secgroups Where grpcode in ('PRESENTMENT_DETAIL_EXTRACT','PRESENTMENT_FILE_IMPORT','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER')); 
				 
				delete from secgroups where grpcode='PRESENTMENT_DETAIL_EXTRACT';
				delete from secgroups where grpcode in ('PRESENTMENT_FILE_IMPORT','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER');
				delete from secroles where rolecd in ('PRESENTMENT_DETAIL_EXTRACT','PRESENTMENT_FILE_IMPORT','PRESENTMENTBATCH_MAKER','PRESENTMENTBATCH_APPROVER');
								
				Delete from secgrouprights where rightid in (Select rightid from Secrights Where Rightname in ('menuItem_PresentmentDetail_PresentmentEnquiry',
				'menuItem_PresentmentDetail_PresentmentExtract',
				'menuItem_PresentmentDetail_PresentmentFileImport',
				'menuItem_PresentmentDetail_PresentmentBatchCreation',
				'menuItem_PresentmentDetail_PresentmentApprove'));
				Delete from Secrights Where Rightname in ('menuItem_PresentmentDetail_PresentmentEnquiry',
				'menuItem_PresentmentDetail_PresentmentExtract',
				'menuItem_PresentmentDetail_PresentmentFileImport',
				'menuItem_PresentmentDetail_PresentmentBatchCreation',
				'menuItem_PresentmentDetail_PresentmentApprove',
				'button_PresentmentDetailDialog_btnSave','button_PresentmentDetailDialog_btnExclude',
				'button_PresentmentDetailDialog_btnInclude','PresentmentDetailDialog_partnerBank');
				
				 
				UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
				UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(Rolegrpid) FROM SECROLEGROUPS);	
				UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);	
				 
				
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_PresentmentDetail_PresentmentEnquiry','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				delete from secrolegroups where grpid in (Select grpid from SECGROUPS where grpcode='PRESENTMENT_DETAIL_ENQUIRY');
				delete from SECGROUPS where grpcode='PRESENTMENT_DETAIL_ENQUIRY';
				INSERT INTO SECGROUPS Values ((select max(grpid)+1 from SecGroups), 'PRESENTMENT_DETAIL_ENQUIRY', 'Presentment detail enquiry', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
						
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENT_DETAIL_ENQUIRY') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentEnquiry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SECROLES SELECT (select MAX(RoleID)+1 from SecRoles),1,'PRESENTMENT_DETAIL_ENQUIRY','Presentment detail enquiry','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
						
				INSERT INTO SecRoleGroups Values((select max(rolegrpid)+1 from SecRoleGroups), (select grpid from SecGroups Where grpcode = 'PRESENTMENT_DETAIL_ENQUIRY'),(select roleid from SecRoles where RoleCd='PRESENTMENT_DETAIL_ENQUIRY'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
					
				
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_PresentmentDetail_PresentmentExtract','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECGROUPS Values ((select max(grpid)+1 from SecGroups), 'PRESENTMENT_DETAIL_EXTRACT', 'Presentment detail extraction', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
						
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENT_DETAIL_EXTRACT') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentExtract'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'PRESENTMENT_DETAIL_EXTRACT','Presentment detail extraction','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
						
				INSERT INTO SecRoleGroups Values((select max(rolegrpid)+1 from SecRoleGroups), (select grpid from SecGroups Where grpcode = 'PRESENTMENT_DETAIL_EXTRACT'),(select roleid from SecRoles where RoleCd='PRESENTMENT_DETAIL_EXTRACT'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_PresentmentDetail_PresentmentFileImport','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECGROUPS Values ((select max(grpid)+1 from SecGroups), 'PRESENTMENT_FILE_IMPORT', 'Presentment file Import', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
						
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENT_FILE_IMPORT') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentFileImport'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'PRESENTMENT_FILE_IMPORT','Presentment file import','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
						
				INSERT INTO SecRoleGroups Values((select max(rolegrpid)+1 from SecRoleGroups), (select grpid from SecGroups Where grpcode = 'PRESENTMENT_FILE_IMPORT'),(select roleid from SecRoles where RoleCd='PRESENTMENT_FILE_IMPORT'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
					
				
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_PresentmentDetail_PresentmentBatchCreation','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_PresentmentDetail_PresentmentApprove','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_PresentmentDetailDialog_btnSave','PresentmentDetailDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_PresentmentDetailDialog_btnExclude','PresentmentDetailDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_PresentmentDetailDialog_btnInclude','PresentmentDetailDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'PresentmentDetailDialog_partnerBank','PresentmentDetailDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
				
				INSERT INTO SECGROUPS Values ((select max(grpid)+1 from SecGroups), 'PRESENTMENTBATCH_MAKER', 'Presentment btach maker', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPS Values ((select max(grpid)+1 from SecGroups), 'PRESENTMENTBATCH_APPROVER', 'Presentment btach approver', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PresentmentDetailDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PresentmentDetailDialog_btnExclude'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PresentmentDetailDialog_btnInclude'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='PresentmentDetailDialog_partnerBank'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_PresentmentDetailDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
				
				INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'PRESENTMENTBATCH_MAKER','Presentment btach maker','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
				INSERT INTO SecRoles SELECT (select MAX(RoleID)+1 from SecRoles),1,'PRESENTMENTBATCH_APPROVER','Presentment btach approver','',0,1000,null,' ',' ',null,' ',' ',' ',0 FROM SeqSecRoles WHERE 0=0;
						
				INSERT INTO SecRoleGroups Values((select max(rolegrpid)+1 from SecRoleGroups), (select grpid from SecGroups Where grpcode = 'PRESENTMENTBATCH_MAKER'),(select roleid from SecRoles where RoleCd='PRESENTMENTBATCH_MAKER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
				INSERT INTO SecRoleGroups Values((select max(rolegrpid)+1 from SecRoleGroups), (select grpid from SecGroups Where grpcode = 'PRESENTMENTBATCH_APPROVER'),(select roleid from SecRoles where RoleCd='PRESENTMENTBATCH_APPROVER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
				
				UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
				UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(Rolegrpid) FROM SECROLEGROUPS);	
				UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);	
			</sql>
	</changeSet>
	
	<changeSet id="51" author="Durgaprasad G">
			<sql>
					UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);
					INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentBatchCreation'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
					INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentApprove'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
					
					INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentBatchCreation'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
					INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentApprove'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
					UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);
			</sql>
	</changeSet>
	<changeSet id="52" author="Durgaprasad G">
			<sql>
				Delete from SECGROUPRIGHTS Where GRPID = (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_APPROVER') AND RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentBatchCreation');
				Delete from SECGROUPRIGHTS Where GRPID = (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='PRESENTMENTBATCH_MAKER') AND RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_PresentmentDetail_PresentmentApprove');
			</sql>
	</changeSet>
	
	 <changeSet id="53" author="Durgaprasad G">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='PRESENTMENTBATCH';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">PRESENTMENTBATCH</column>
			<column name="WorkFlowSubType">PRESENTMENTBATCH</column>
			<column name="WorkFlowDesc">Presentment batch Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">PRESENTMENTBATCH_MAKER;PRESENTMENTBATCH_APPROVER</column>
			<column name="FirstTaskOwner">PRESENTMENTBATCH_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="54" author="Durgaprasad G">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":816,"properties":{"process_id":"PRESENTMENTBATCH","name":"PRESENTMENTBATCH","documentation":"PRESENTMENTBATCH","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"PRESENTMENTBATCH_MAKER","firstName":"PRESENTMENTBATCH_MAKER","fullName":"PRESENTMENTBATCH_MAKER","id":"PRESENTMENTBATCH_MAKER","roledesc":"Workflow Maker","$$hashKey":"object:575"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":265,"y":215},"upperLeft":{"x":165,"y":135}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":164.78169969647763,"y":177.54813849089433},"upperLeft":{"x":130.06205030352237,"y":176.50654900910567}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"PRESENTMENTBATCH_APPROVER","firstName":"PRESENTMENTBATCH_APPROVER","fullName":"PRESENTMENTBATCH_APPROVER","id":"PRESENTMENTBATCH_APPROVER","roledesc":"Workflow Approver","$$hashKey":"object:965"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.78125,"y":178},"upperLeft":{"x":265.21875,"y":175}},"dockers":[{"x":50,"y":40},{"x":327.5,"y":175},{"x":327.5,"y":178},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":215,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":215,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","rerunnable":"true","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","rerunnable":"true","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.859375,"y":329},"upperLeft":{"x":215,"y":215.703125}},"dockers":[{"x":50,"y":40},{"x":215,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
  <process id="PRESENTMENTBATCH" name="PRESENTMENTBATCH" isExecutable="true">
    <documentation>PRESENTMENTBATCH</documentation>
    <startEvent id="startEvent1" name="Start"/>
    <userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="PRESENTMENTBATCH_MAKER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="PRESENTMENTBATCH_APPROVER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"/>
    <sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
    </sequenceFlow>
    <serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved"/>
    <sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected"/>
    <sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_PRESENTMENTBATCH">
    <bpmndi:BPMNPlane bpmnElement="PRESENTMENTBATCH" id="BPMNPlane_PRESENTMENTBATCH">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897">
        <omgdc:Bounds height="80.0" width="100.0" x="165.0" y="135.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08">
        <omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01">
        <omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429">
        <omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B">
        <omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB">
        <omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA">
        <omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247">
        <omgdi:waypoint x="760.0" y="178.0"/>
        <omgdi:waypoint x="805.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035">
        <omgdi:waypoint x="215.0" y="215.0"/>
        <omgdi:waypoint x="215.0" y="329.0"/>
        <omgdi:waypoint x="505.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736">
        <omgdi:waypoint x="574.5616883116883" y="178.4383116883117"/>
        <omgdi:waypoint x="660.0" y="178.16181229773463"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22">
        <omgdi:waypoint x="490.0" y="178.2164502164502"/>
        <omgdi:waypoint x="535.4130434782609" y="178.41304347826087"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B">
        <omgdi:waypoint x="605.0" y="329.0"/>
        <omgdi:waypoint x="650.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1">
        <omgdi:waypoint x="129.9932545528355" y="177.5502023634149"/>
        <omgdi:waypoint x="165.0" y="176.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE">
        <omgdi:waypoint x="555.4366666666667" y="197.56333333333333"/>
        <omgdi:waypoint x="555.1328903654485" y="289.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3">
        <omgdi:waypoint x="265.0" y="175.0"/>
        <omgdi:waypoint x="327.5" y="175.0"/>
        <omgdi:waypoint x="327.5" y="178.0"/>
        <omgdi:waypoint x="390.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D">
        <omgdi:waypoint x="555.5" y="158.5"/>
        <omgdi:waypoint x="555.5" y="76.0"/>
        <omgdi:waypoint x="215.0" y="76.0"/>
        <omgdi:waypoint x="215.0" y="135.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>]]></column>
			<where>workflowtype='PRESENTMENTBATCH'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="55" author="Durgaprasad G">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>
	<changeSet id="56" author="murthy.y">
		<sql>
			<![CDATA[
				update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_FI';
				update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_TV';
				update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_LV';
				update workflowdetails set WorkFlowActive='0' where WorkFlowType='VERIFICATION_RCU';
			]]>
		</sql>
	</changeSet>
	<changeSet id="56.1" author="murthy.y">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">VERIFICATION_FI</column>
			<column name="WorkFlowSubType">Field Verification</column>
			<column name="WorkFlowDesc">Field Investigation Verification Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_FI_MAKER;VERIFICATION_FI_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_FI_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="56.2" author="murthy.y">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 2 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">VERIFICATION_TV</column>
			<column name="WorkFlowSubType">Technical Verification</column>
			<column name="WorkFlowDesc">Technical Verification Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_TV_MAKER;VERIFICATION_TV_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_TV_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="56.3" author="murthy.y">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 3 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">VERIFICATION_LV</column>
			<column name="WorkFlowSubType">Legal Verification</column>
			<column name="WorkFlowDesc">Legal Verification Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_LV_MAKER;VERIFICATION_LV_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_LV_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="56.4" author="murthy.y">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 4 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">VERIFICATION_RCU</column>
			<column name="WorkFlowSubType">RCU Verification</column>
			<column name="WorkFlowDesc">RCU Verification Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">VERIFICATION_RCU_MAKER;VERIFICATION_RCU_APPROVER</column>
			<column name="FirstTaskOwner">VERIFICATION_RCU_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="56.5" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":824,"properties":{"process_id":"VERIFICATION_FI","name":"Field Verification","documentation":"Field Investigation Verification","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-2F54590C-F1D2-4447-B487-D13A1AA0D196"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B","properties":{"overrideid":"","name":"VERIFICATION_FI_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_FI_MAKER","firstName":"VERIFICATION_FI_MAKER","fullName":"VERIFICATION_FI_MAKER","id":"VERIFICATION_FI_MAKER","roledesc":"Field Invistigation Verification Maker Role","$$hashKey":"object:3152"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-2F54590C-F1D2-4447-B487-D13A1AA0D196","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}},{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4","properties":{"overrideid":"","name":"VERIFICATION_FI_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_FI_APPROVER","firstName":"VERIFICATION_FI_APPROVER","fullName":"VERIFICATION_FI_APPROVER","id":"VERIFICATION_FI_APPROVER","roledesc":"Field Invistigation Verification Approver Role","$$hashKey":"object:4005"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB"}],"bounds":{"lowerRight":{"x":550,"y":218},"upperLeft":{"x":450,"y":138}},"dockers":[]},{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C"},{"resourceId":"sid-E82A1014-BBF2-4166-A4DF-433883518CB0"}],"bounds":{"lowerRight":{"x":685,"y":198},"upperLeft":{"x":645,"y":158}},"dockers":[]},{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-00B5AFB8-379A-48A1-888B-F6E24EC76394"}],"bounds":{"lowerRight":{"x":852.8333435058594,"y":218},"upperLeft":{"x":752.8333435058594,"y":138}},"dockers":[]},{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":925.8333435058594,"y":192},"upperLeft":{"x":897.8333435058594,"y":164}},"dockers":[]},{"resourceId":"sid-00B5AFB8-379A-48A1-888B-F6E24EC76394","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"}],"bounds":{"lowerRight":{"x":897.2083435058594,"y":178},"upperLeft":{"x":853.2239685058594,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"}},{"resourceId":"sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"}],"bounds":{"lowerRight":{"x":449.78125,"y":178},"upperLeft":{"x":325.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"}},{"resourceId":"sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"}],"bounds":{"lowerRight":{"x":644.4589889386365,"y":178.43643199075117},"upperLeft":{"x":550.1328079363635,"y":178.15145863424883}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"}},{"resourceId":"sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}],"bounds":{"lowerRight":{"x":665.5,"y":157.421875},"upperLeft":{"x":275,"y":50}},"dockers":[{"x":20.5,"y":20.5},{"x":665.5,"y":50},{"x":275,"y":50},{"x":50,"y":40}],"target":{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}},{"resourceId":"sid-E82A1014-BBF2-4166-A4DF-433883518CB0","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"}],"bounds":{"lowerRight":{"x":752.4791798110018,"y":178.42604674770013},"upperLeft":{"x":685.8124948029508,"y":178.18332825229987}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_FI" name="Field Verification" isExecutable="true">
				    <documentation>Field Investigation Verification</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" name="VERIFICATION_FI_MAKER" activiti:actor="VERIFICATION_FI_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-2F54590C-F1D2-4447-B487-D13A1AA0D196" sourceRef="startEvent1" targetRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" name="VERIFICATION_FI_APPROVER" activiti:actor="VERIFICATION_FI_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"/>
				    <serviceTask id="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" name="Approved"/>
				    <sequenceFlow id="sid-00B5AFB8-379A-48A1-888B-F6E24EC76394" sourceRef="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" targetRef="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0" name="Submit" sourceRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" targetRef="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Submitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB" sourceRef="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" targetRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C" name="Resubmit" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Resubmitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-E82A1014-BBF2-4166-A4DF-433883518CB0" name="Approve" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Approved'></conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_FI">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_FI" id="BPMNPlane_VERIFICATION_FI">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" id="BPMNShape_sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" id="BPMNShape_sid-01C30853-3F80-445A-86B5-8DDB55EA16B4">
				        <omgdc:Bounds height="80.0" width="100.0" x="450.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" id="BPMNShape_sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6">
				        <omgdc:Bounds height="40.0" width="40.0" x="645.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" id="BPMNShape_sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D">
				        <omgdc:Bounds height="80.0" width="100.0" x="752.8333435058594" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" id="BPMNShape_sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F">
				        <omgdc:Bounds height="28.0" width="28.0" x="897.8333435058594" y="164.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C" id="BPMNEdge_sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C">
				        <omgdi:waypoint x="665.5" y="158.5"/>
				        <omgdi:waypoint x="665.5" y="50.0"/>
				        <omgdi:waypoint x="275.0" y="50.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2F54590C-F1D2-4447-B487-D13A1AA0D196" id="BPMNEdge_sid-2F54590C-F1D2-4447-B487-D13A1AA0D196">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB" id="BPMNEdge_sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB">
				        <omgdi:waypoint x="550.0" y="178.1510574018127"/>
				        <omgdi:waypoint x="645.439393939394" y="178.43939393939394"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-E82A1014-BBF2-4166-A4DF-433883518CB0" id="BPMNEdge_sid-E82A1014-BBF2-4166-A4DF-433883518CB0">
				        <omgdi:waypoint x="684.5694275222442" y="178.43057247775582"/>
				        <omgdi:waypoint x="752.8333435058594" y="178.18203882146753"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-00B5AFB8-379A-48A1-888B-F6E24EC76394" id="BPMNEdge_sid-00B5AFB8-379A-48A1-888B-F6E24EC76394">
				        <omgdi:waypoint x="852.8333435058594" y="178.0"/>
				        <omgdi:waypoint x="897.8333435058594" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0" id="BPMNEdge_sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="450.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]>
			</column>
			<where>workflowtype='VERIFICATION_FI' and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="56.6" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":822,"properties":{"process_id":"VERIFICATION_TV","name":"Technical Verification","documentation":"Technical Verification Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-C9D47264-DAC3-4547-B326-8FD59338A4D3"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C","properties":{"overrideid":"","name":"VERIFICATION_TV_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_TV_MAKER","firstName":"VERIFICATION_TV_MAKER","fullName":"VERIFICATION_TV_MAKER","id":"VERIFICATION_TV_MAKER","roledesc":"Technical Verification Maker Role","$$hashKey":"object:1341"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-C9D47264-DAC3-4547-B326-8FD59338A4D3","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}},{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5","properties":{"overrideid":"","name":"VERIFICATION_TV_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_TV_APPROVER","firstName":"VERIFICATION_TV_APPROVER","fullName":"VERIFICATION_TV_APPROVER","id":"VERIFICATION_TV_APPROVER","roledesc":"Technical Verification Approver Role","$$hashKey":"object:2194"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05"}],"bounds":{"lowerRight":{"x":550,"y":218},"upperLeft":{"x":450,"y":138}},"dockers":[]},{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-2F494FD9-CD15-447D-B93F-C5CFF962185E"},{"resourceId":"sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3"}],"bounds":{"lowerRight":{"x":640,"y":198},"upperLeft":{"x":600,"y":158}},"dockers":[]},{"resourceId":"sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F"}],"bounds":{"lowerRight":{"x":599.7304773585561,"y":178.41381940812678},"upperLeft":{"x":550.8945226414439,"y":178.21118059187322}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F"}},{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5D097275-7E6E-48F1-B265-A0DC79266F84"}],"bounds":{"lowerRight":{"x":820,"y":218},"upperLeft":{"x":720,"y":138}},"dockers":[]},{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1003,"y":192},"upperLeft":{"x":975,"y":164}},"dockers":[]},{"resourceId":"sid-5D097275-7E6E-48F1-B265-A0DC79266F84","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"}],"bounds":{"lowerRight":{"x":974.3125,"y":178},"upperLeft":{"x":820.6171875,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"}},{"resourceId":"sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"}],"bounds":{"lowerRight":{"x":449.78125,"y":178},"upperLeft":{"x":325.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"}},{"resourceId":"sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}],"bounds":{"lowerRight":{"x":620.5,"y":157.38671875},"upperLeft":{"x":275,"y":43}},"dockers":[{"x":20.5,"y":20.5},{"x":620.5,"y":43},{"x":275,"y":43},{"x":50,"y":40}],"target":{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}},{"resourceId":"sid-2F494FD9-CD15-447D-B93F-C5CFF962185E","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1"}],"bounds":{"lowerRight":{"x":719.9453180927317,"y":178.43415553709943},"upperLeft":{"x":640.1874944072683,"y":178.16740696290057}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_TV" name="Technical Verification" isExecutable="true">
				    <documentation>Technical Verification Workflow Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" name="VERIFICATION_TV_MAKER" activiti:actor="VERIFICATION_TV_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-C9D47264-DAC3-4547-B326-8FD59338A4D3" sourceRef="startEvent1" targetRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" name="VERIFICATION_TV_APPROVER" activiti:actor="VERIFICATION_TV_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-A2C15554-D562-4730-BB39-F90E5EDA653F"/>
				    <sequenceFlow id="sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05" sourceRef="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" targetRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <serviceTask id="sid-6486A084-E0B9-43D5-85BC-125785D208A1" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" name="Approved"/>
				    <sequenceFlow id="sid-5D097275-7E6E-48F1-B265-A0DC79266F84" sourceRef="sid-6486A084-E0B9-43D5-85BC-125785D208A1" targetRef="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF" name="Submit" sourceRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" targetRef="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Submitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3" name="Resubmit" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Resubmitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-2F494FD9-CD15-447D-B93F-C5CFF962185E" name="Approve" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-6486A084-E0B9-43D5-85BC-125785D208A1" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Approved'></conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_TV">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_TV" id="BPMNPlane_VERIFICATION_TV">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" id="BPMNShape_sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" id="BPMNShape_sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5">
				        <omgdc:Bounds height="80.0" width="100.0" x="450.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" id="BPMNShape_sid-A2C15554-D562-4730-BB39-F90E5EDA653F">
				        <omgdc:Bounds height="40.0" width="40.0" x="600.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-6486A084-E0B9-43D5-85BC-125785D208A1" id="BPMNShape_sid-6486A084-E0B9-43D5-85BC-125785D208A1">
				        <omgdc:Bounds height="80.0" width="100.0" x="720.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" id="BPMNShape_sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C">
				        <omgdc:Bounds height="28.0" width="28.0" x="975.0" y="164.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-5D097275-7E6E-48F1-B265-A0DC79266F84" id="BPMNEdge_sid-5D097275-7E6E-48F1-B265-A0DC79266F84">
				        <omgdi:waypoint x="820.0" y="178.0"/>
				        <omgdi:waypoint x="975.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-C9D47264-DAC3-4547-B326-8FD59338A4D3" id="BPMNEdge_sid-C9D47264-DAC3-4547-B326-8FD59338A4D3">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05" id="BPMNEdge_sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05">
				        <omgdi:waypoint x="550.0" y="178.20746887966806"/>
				        <omgdi:waypoint x="600.4166666666666" y="178.41666666666666"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF" id="BPMNEdge_sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="450.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3" id="BPMNEdge_sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3">
				        <omgdi:waypoint x="620.5" y="158.5"/>
				        <omgdi:waypoint x="620.5" y="43.0"/>
				        <omgdi:waypoint x="275.0" y="43.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2F494FD9-CD15-447D-B93F-C5CFF962185E" id="BPMNEdge_sid-2F494FD9-CD15-447D-B93F-C5CFF962185E">
				        <omgdi:waypoint x="639.5637583892617" y="178.43624161073825"/>
				        <omgdi:waypoint x="720.0" y="178.16722408026754"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
				]]></column>
				<where>workflowtype='VERIFICATION_TV' and workflowactive=1</where>
			</update>
		</changeSet>
	<changeSet id="56.7" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":821,"properties":{"process_id":"VERIFICATION_LV","name":"Legal Verification","documentation":"Legal Verification Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC","properties":{"overrideid":"","name":"VERIFICATION_LV_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_LV_MAKER","firstName":"VERIFICATION_LV_MAKER","fullName":"VERIFICATION_LV_MAKER","id":"VERIFICATION_LV_MAKER","roledesc":"Legal Verification  Maker Role","$$hashKey":"object:4797"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}},{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993","properties":{"overrideid":"","name":"VERIFICATION_LV_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_LV_APPROVER","firstName":"VERIFICATION_LV_APPROVER","fullName":"VERIFICATION_LV_APPROVER","id":"VERIFICATION_LV_APPROVER","roledesc":"Legal Verification Approver Role","$$hashKey":"object:2089"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12"}],"bounds":{"lowerRight":{"x":565,"y":218},"upperLeft":{"x":465,"y":138}},"dockers":[]},{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E"},{"resourceId":"sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC"}],"bounds":{"lowerRight":{"x":650,"y":198},"upperLeft":{"x":610,"y":158}},"dockers":[]},{"resourceId":"sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"}],"bounds":{"lowerRight":{"x":609.6484468700075,"y":178.4097335362338},"upperLeft":{"x":565.6288968799925,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"}},{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882","properties":{"overrideid":"","name":"Approve","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A"}],"bounds":{"lowerRight":{"x":880,"y":219},"upperLeft":{"x":780,"y":139}},"dockers":[]},{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":953,"y":193},"upperLeft":{"x":925,"y":165}},"dockers":[]},{"resourceId":"sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"}],"bounds":{"lowerRight":{"x":924.375,"y":179},"upperLeft":{"x":880.390625,"y":179}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"}},{"resourceId":"sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}],"bounds":{"lowerRight":{"x":630.5,"y":157.482421875},"upperLeft":{"x":275,"y":40}},"dockers":[{"x":20.5,"y":20.5},{"x":630.5,"y":40},{"x":275,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}},{"resourceId":"sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882"}],"bounds":{"lowerRight":{"x":779.125003140669,"y":178.87249374220718},"upperLeft":{"x":650.203121859331,"y":178.54938125779282}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882"}},{"resourceId":"sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"}],"bounds":{"lowerRight":{"x":464.3125,"y":178},"upperLeft":{"x":325.6875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_LV" name="Legal Verification" isExecutable="true">
				    <documentation>Legal Verification Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" name="VERIFICATION_LV_MAKER" activiti:actor="VERIFICATION_LV_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429" sourceRef="startEvent1" targetRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" name="VERIFICATION_LV_APPROVER" activiti:actor="VERIFICATION_LV_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"/>
				    <sequenceFlow id="sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12" sourceRef="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" targetRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <serviceTask id="sid-B6912A57-A720-41C6-9848-F18CD022A882" name="Approve" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" name="Approved"/>
				    <sequenceFlow id="sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A" sourceRef="sid-B6912A57-A720-41C6-9848-F18CD022A882" targetRef="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E" name="Resubmit" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Resubmitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC" name="Approve" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-B6912A57-A720-41C6-9848-F18CD022A882" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Approved'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1" name="Submit" sourceRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" targetRef="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Submitted'></conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_LV">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_LV" id="BPMNPlane_VERIFICATION_LV">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" id="BPMNShape_sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" id="BPMNShape_sid-A83FA45C-5E90-4206-B37D-A6FC02C39993">
				        <omgdc:Bounds height="80.0" width="100.0" x="465.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" id="BPMNShape_sid-8D807C3F-B007-4737-8971-81A8B1D8D91D">
				        <omgdc:Bounds height="40.0" width="40.0" x="610.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-B6912A57-A720-41C6-9848-F18CD022A882" id="BPMNShape_sid-B6912A57-A720-41C6-9848-F18CD022A882">
				        <omgdc:Bounds height="80.0" width="100.0" x="780.0" y="139.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" id="BPMNShape_sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC">
				        <omgdc:Bounds height="28.0" width="28.0" x="925.0" y="165.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E" id="BPMNEdge_sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E">
				        <omgdi:waypoint x="630.5" y="158.5"/>
				        <omgdi:waypoint x="630.5" y="40.0"/>
				        <omgdi:waypoint x="275.0" y="40.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429" id="BPMNEdge_sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC" id="BPMNEdge_sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC">
				        <omgdi:waypoint x="649.4525" y="178.5475"/>
				        <omgdi:waypoint x="780.0" y="178.87468671679198"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1" id="BPMNEdge_sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="465.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12" id="BPMNEdge_sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12">
				        <omgdi:waypoint x="565.0" y="178.2164502164502"/>
				        <omgdi:waypoint x="610.4130434782609" y="178.41304347826087"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A" id="BPMNEdge_sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A">
				        <omgdi:waypoint x="880.0" y="179.0"/>
				        <omgdi:waypoint x="925.0" y="179.0"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]></column>
			<where>workflowtype='VERIFICATION_LV' and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="56.8" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":804,"properties":{"process_id":"VERIFICATION_RCU","name":"RCU Verification","documentation":"RCU Verification Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-F217549F-16A8-4A3D-B25B-E61372BCA670"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA","properties":{"overrideid":"","name":"VERIFICATION_RCU_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_RCU_MAKER","firstName":"VERIFICATION_RCU_MAKER","fullName":"VERIFICATION_RCU_MAKER","id":"VERIFICATION_RCU_MAKER","roledesc":"RCU Verification Maker Role","$$hashKey":"object:1752"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E1B2B81D-D508-4EF3-B494-E90840775928"}],"bounds":{"lowerRight":{"x":280,"y":218},"upperLeft":{"x":180,"y":138}},"dockers":[]},{"resourceId":"sid-F217549F-16A8-4A3D-B25B-E61372BCA670","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}],"bounds":{"lowerRight":{"x":179.5859375,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}},{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61","properties":{"overrideid":"","name":"VERIFICATION_RCU_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_RCU_APPROVER","firstName":"VERIFICATION_RCU_APPROVER","fullName":"VERIFICATION_RCU_APPROVER","id":"VERIFICATION_RCU_APPROVER","roledesc":"RCU Verification Approver Role","$$hashKey":"object:2605"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D"}],"bounds":{"lowerRight":{"x":505,"y":218},"upperLeft":{"x":405,"y":138}},"dockers":[]},{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038"},{"resourceId":"sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF"}],"bounds":{"lowerRight":{"x":700,"y":198},"upperLeft":{"x":660,"y":158}},"dockers":[]},{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94"}],"bounds":{"lowerRight":{"x":945.8333435058594,"y":220},"upperLeft":{"x":845.8333435058594,"y":140}},"dockers":[]},{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1018.8333435058594,"y":194},"upperLeft":{"x":990.8333435058594,"y":166}},"dockers":[]},{"resourceId":"sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"}],"bounds":{"lowerRight":{"x":990.2083435058594,"y":180},"upperLeft":{"x":946.2239685058594,"y":180}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"}},{"resourceId":"sid-E1B2B81D-D508-4EF3-B494-E90840775928","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"}],"bounds":{"lowerRight":{"x":404.78125,"y":178},"upperLeft":{"x":280.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"}},{"resourceId":"sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"}],"bounds":{"lowerRight":{"x":659.2402368331893,"y":178.4528608355503},"upperLeft":{"x":505.3281225418107,"y":178.1115922894497}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"}},{"resourceId":"sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}],"bounds":{"lowerRight":{"x":680.5,"y":157.51171875},"upperLeft":{"x":230,"y":28}},"dockers":[{"x":20.5,"y":20.5},{"x":680.5,"y":28},{"x":230,"y":28},{"x":50,"y":40}],"target":{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}},{"resourceId":"sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E"}],"bounds":{"lowerRight":{"x":845.2057612560479,"y":179.64733110005952},"upperLeft":{"x":700.0051849462302,"y":178.63587202494048}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_RCU" name="RCU Verification" isExecutable="true">
				    <documentation>RCU Verification Workflow Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" name="VERIFICATION_RCU_MAKER" activiti:actor="VERIFICATION_RCU_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-F217549F-16A8-4A3D-B25B-E61372BCA670" sourceRef="startEvent1" targetRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" name="VERIFICATION_RCU_APPROVER" activiti:actor="VERIFICATION_RCU_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"/>
				    <serviceTask id="sid-A389106C-0EE9-4B05-AB86-E175C528734E" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" name="Approved"/>
				    <sequenceFlow id="sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94" sourceRef="sid-A389106C-0EE9-4B05-AB86-E175C528734E" targetRef="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-E1B2B81D-D508-4EF3-B494-E90840775928" name="Submit" sourceRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" targetRef="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Submitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D" sourceRef="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" targetRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038" name="Resubmit" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Resubmitted'></conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF" name="Approve" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-A389106C-0EE9-4B05-AB86-E175C528734E" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression"><vo.recordStatus == 'Approved'></conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_RCU">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_RCU" id="BPMNPlane_VERIFICATION_RCU">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" id="BPMNShape_sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA">
				        <omgdc:Bounds height="80.0" width="100.0" x="180.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" id="BPMNShape_sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61">
				        <omgdc:Bounds height="80.0" width="100.0" x="405.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" id="BPMNShape_sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C">
				        <omgdc:Bounds height="40.0" width="40.0" x="660.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A389106C-0EE9-4B05-AB86-E175C528734E" id="BPMNShape_sid-A389106C-0EE9-4B05-AB86-E175C528734E">
				        <omgdc:Bounds height="80.0" width="100.0" x="845.8333435058594" y="140.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" id="BPMNShape_sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68">
				        <omgdc:Bounds height="28.0" width="28.0" x="990.8333435058594" y="166.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-F217549F-16A8-4A3D-B25B-E61372BCA670" id="BPMNEdge_sid-F217549F-16A8-4A3D-B25B-E61372BCA670">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="180.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038" id="BPMNEdge_sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038">
				        <omgdi:waypoint x="680.5" y="158.5"/>
				        <omgdi:waypoint x="680.5" y="28.0"/>
				        <omgdi:waypoint x="230.0" y="28.0"/>
				        <omgdi:waypoint x="230.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94" id="BPMNEdge_sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94">
				        <omgdi:waypoint x="945.8333435058594" y="180.0"/>
				        <omgdi:waypoint x="990.8333435058594" y="180.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF" id="BPMNEdge_sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF">
				        <omgdi:waypoint x="699.3685626502862" y="178.63143734971385"/>
				        <omgdi:waypoint x="845.8333435058594" y="179.65170280283155"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-E1B2B81D-D508-4EF3-B494-E90840775928" id="BPMNEdge_sid-E1B2B81D-D508-4EF3-B494-E90840775928">
				        <omgdi:waypoint x="280.0" y="178.0"/>
				        <omgdi:waypoint x="405.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D" id="BPMNEdge_sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D">
				        <omgdi:waypoint x="505.0" y="178.1108647450111"/>
				        <omgdi:waypoint x="660.4555555555555" y="178.45555555555555"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]></column>
			<where>workflowtype='VERIFICATION_RCU' and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="56.9" author="murthy.y">
		<sql>
			<![CDATA[
				UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
			]]>
		</sql>
	</changeSet>
	<changeSet id="57" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":824,"properties":{"process_id":"VERIFICATION_FI","name":"Field Verification","documentation":"Field Investigation Verification","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-2F54590C-F1D2-4447-B487-D13A1AA0D196"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B","properties":{"overrideid":"","name":"VERIFICATION_FI_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_FI_MAKER","firstName":"VERIFICATION_FI_MAKER","fullName":"VERIFICATION_FI_MAKER","id":"VERIFICATION_FI_MAKER","roledesc":"Field Invistigation Verification Maker Role","$$hashKey":"object:3152"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-2F54590C-F1D2-4447-B487-D13A1AA0D196","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}},{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4","properties":{"overrideid":"","name":"VERIFICATION_FI_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_FI_APPROVER","firstName":"VERIFICATION_FI_APPROVER","fullName":"VERIFICATION_FI_APPROVER","id":"VERIFICATION_FI_APPROVER","roledesc":"Field Invistigation Verification Approver Role","$$hashKey":"object:4005"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB"}],"bounds":{"lowerRight":{"x":550,"y":218},"upperLeft":{"x":450,"y":138}},"dockers":[]},{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C"},{"resourceId":"sid-E82A1014-BBF2-4166-A4DF-433883518CB0"}],"bounds":{"lowerRight":{"x":685,"y":198},"upperLeft":{"x":645,"y":158}},"dockers":[]},{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-00B5AFB8-379A-48A1-888B-F6E24EC76394"}],"bounds":{"lowerRight":{"x":852.8333435058594,"y":218},"upperLeft":{"x":752.8333435058594,"y":138}},"dockers":[]},{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":925.8333435058594,"y":192},"upperLeft":{"x":897.8333435058594,"y":164}},"dockers":[]},{"resourceId":"sid-00B5AFB8-379A-48A1-888B-F6E24EC76394","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"}],"bounds":{"lowerRight":{"x":897.2083435058594,"y":178},"upperLeft":{"x":853.2239685058594,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F"}},{"resourceId":"sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"}],"bounds":{"lowerRight":{"x":449.78125,"y":178},"upperLeft":{"x":325.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-01C30853-3F80-445A-86B5-8DDB55EA16B4"}},{"resourceId":"sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"}],"bounds":{"lowerRight":{"x":644.4589889386365,"y":178.43643199075117},"upperLeft":{"x":550.1328079363635,"y":178.15145863424883}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"}},{"resourceId":"sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}],"bounds":{"lowerRight":{"x":665.5,"y":157.421875},"upperLeft":{"x":275,"y":50}},"dockers":[{"x":20.5,"y":20.5},{"x":665.5,"y":50},{"x":275,"y":50},{"x":50,"y":40}],"target":{"resourceId":"sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B"}},{"resourceId":"sid-E82A1014-BBF2-4166-A4DF-433883518CB0","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"}],"bounds":{"lowerRight":{"x":752.4791798110018,"y":178.42604674770013},"upperLeft":{"x":685.8124948029508,"y":178.18332825229987}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_FI" name="Field Verification" isExecutable="true">
				    <documentation>Field Investigation Verification</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" name="VERIFICATION_FI_MAKER" activiti:actor="VERIFICATION_FI_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-2F54590C-F1D2-4447-B487-D13A1AA0D196" sourceRef="startEvent1" targetRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" name="VERIFICATION_FI_APPROVER" activiti:actor="VERIFICATION_FI_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6"/>
				    <serviceTask id="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" name="Approved"/>
				    <sequenceFlow id="sid-00B5AFB8-379A-48A1-888B-F6E24EC76394" sourceRef="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" targetRef="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0" name="Submit" sourceRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" targetRef="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB" sourceRef="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" targetRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C" name="Resubmit" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-E82A1014-BBF2-4166-A4DF-433883518CB0" name="Approve" sourceRef="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" targetRef="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_FI">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_FI" id="BPMNPlane_VERIFICATION_FI">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B" id="BPMNShape_sid-B6B50CD1-1B30-425A-B4E3-1CAEAC46DE2B">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-01C30853-3F80-445A-86B5-8DDB55EA16B4" id="BPMNShape_sid-01C30853-3F80-445A-86B5-8DDB55EA16B4">
				        <omgdc:Bounds height="80.0" width="100.0" x="450.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6" id="BPMNShape_sid-08596BED-4B01-4E63-98C4-B1EDBC9D46A6">
				        <omgdc:Bounds height="40.0" width="40.0" x="645.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D" id="BPMNShape_sid-130DC025-7EF1-4FA6-B57C-D3C64DDC817D">
				        <omgdc:Bounds height="80.0" width="100.0" x="752.8333435058594" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F" id="BPMNShape_sid-5AC34F0C-FBF2-4DBC-9847-F7D7F747EA2F">
				        <omgdc:Bounds height="28.0" width="28.0" x="897.8333435058594" y="164.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C" id="BPMNEdge_sid-96976E2D-E244-4BD1-98A4-2AC0EE84B46C">
				        <omgdi:waypoint x="665.5" y="158.5"/>
				        <omgdi:waypoint x="665.5" y="50.0"/>
				        <omgdi:waypoint x="275.0" y="50.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2F54590C-F1D2-4447-B487-D13A1AA0D196" id="BPMNEdge_sid-2F54590C-F1D2-4447-B487-D13A1AA0D196">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB" id="BPMNEdge_sid-03AE3E7D-9E47-4FEE-9786-A691B12FE7EB">
				        <omgdi:waypoint x="550.0" y="178.1510574018127"/>
				        <omgdi:waypoint x="645.439393939394" y="178.43939393939394"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-E82A1014-BBF2-4166-A4DF-433883518CB0" id="BPMNEdge_sid-E82A1014-BBF2-4166-A4DF-433883518CB0">
				        <omgdi:waypoint x="684.5694275222442" y="178.43057247775582"/>
				        <omgdi:waypoint x="752.8333435058594" y="178.18203882146753"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-00B5AFB8-379A-48A1-888B-F6E24EC76394" id="BPMNEdge_sid-00B5AFB8-379A-48A1-888B-F6E24EC76394">
				        <omgdi:waypoint x="852.8333435058594" y="178.0"/>
				        <omgdi:waypoint x="897.8333435058594" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0" id="BPMNEdge_sid-ADEA764E-C442-408D-91D8-C38C5D77B0A0">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="450.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]>
			</column>
			<where>workflowtype='VERIFICATION_FI' and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="57.2" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":822,"properties":{"process_id":"VERIFICATION_TV","name":"Technical Verification","documentation":"Technical Verification Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-C9D47264-DAC3-4547-B326-8FD59338A4D3"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C","properties":{"overrideid":"","name":"VERIFICATION_TV_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_TV_MAKER","firstName":"VERIFICATION_TV_MAKER","fullName":"VERIFICATION_TV_MAKER","id":"VERIFICATION_TV_MAKER","roledesc":"Technical Verification Maker Role","$$hashKey":"object:1341"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-C9D47264-DAC3-4547-B326-8FD59338A4D3","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}},{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5","properties":{"overrideid":"","name":"VERIFICATION_TV_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_TV_APPROVER","firstName":"VERIFICATION_TV_APPROVER","fullName":"VERIFICATION_TV_APPROVER","id":"VERIFICATION_TV_APPROVER","roledesc":"Technical Verification Approver Role","$$hashKey":"object:2194"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05"}],"bounds":{"lowerRight":{"x":550,"y":218},"upperLeft":{"x":450,"y":138}},"dockers":[]},{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-2F494FD9-CD15-447D-B93F-C5CFF962185E"},{"resourceId":"sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3"}],"bounds":{"lowerRight":{"x":640,"y":198},"upperLeft":{"x":600,"y":158}},"dockers":[]},{"resourceId":"sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F"}],"bounds":{"lowerRight":{"x":599.7304773585561,"y":178.41381940812678},"upperLeft":{"x":550.8945226414439,"y":178.21118059187322}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-A2C15554-D562-4730-BB39-F90E5EDA653F"}},{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5D097275-7E6E-48F1-B265-A0DC79266F84"}],"bounds":{"lowerRight":{"x":820,"y":218},"upperLeft":{"x":720,"y":138}},"dockers":[]},{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1003,"y":192},"upperLeft":{"x":975,"y":164}},"dockers":[]},{"resourceId":"sid-5D097275-7E6E-48F1-B265-A0DC79266F84","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":"","showdiamondmarker":false},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"}],"bounds":{"lowerRight":{"x":974.3125,"y":178},"upperLeft":{"x":820.6171875,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C"}},{"resourceId":"sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"}],"bounds":{"lowerRight":{"x":449.78125,"y":178},"upperLeft":{"x":325.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5"}},{"resourceId":"sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}],"bounds":{"lowerRight":{"x":620.5,"y":157.38671875},"upperLeft":{"x":275,"y":43}},"dockers":[{"x":20.5,"y":20.5},{"x":620.5,"y":43},{"x":275,"y":43},{"x":50,"y":40}],"target":{"resourceId":"sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C"}},{"resourceId":"sid-2F494FD9-CD15-447D-B93F-C5CFF962185E","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1"}],"bounds":{"lowerRight":{"x":719.9453180927317,"y":178.43415553709943},"upperLeft":{"x":640.1874944072683,"y":178.16740696290057}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-6486A084-E0B9-43D5-85BC-125785D208A1"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_TV" name="Technical Verification" isExecutable="true">
				    <documentation>Technical Verification Workflow Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" name="VERIFICATION_TV_MAKER" activiti:actor="VERIFICATION_TV_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-C9D47264-DAC3-4547-B326-8FD59338A4D3" sourceRef="startEvent1" targetRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" name="VERIFICATION_TV_APPROVER" activiti:actor="VERIFICATION_TV_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-A2C15554-D562-4730-BB39-F90E5EDA653F"/>
				    <sequenceFlow id="sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05" sourceRef="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" targetRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <serviceTask id="sid-6486A084-E0B9-43D5-85BC-125785D208A1" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" name="Approved"/>
				    <sequenceFlow id="sid-5D097275-7E6E-48F1-B265-A0DC79266F84" sourceRef="sid-6486A084-E0B9-43D5-85BC-125785D208A1" targetRef="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF" name="Submit" sourceRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" targetRef="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3" name="Resubmit" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-2F494FD9-CD15-447D-B93F-C5CFF962185E" name="Approve" sourceRef="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" targetRef="sid-6486A084-E0B9-43D5-85BC-125785D208A1" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_TV">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_TV" id="BPMNPlane_VERIFICATION_TV">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C" id="BPMNShape_sid-17C900F5-EDD6-484E-8E05-C3E79F7B594C">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5" id="BPMNShape_sid-C71A4BEB-14DF-4BD8-8B36-854F80415FB5">
				        <omgdc:Bounds height="80.0" width="100.0" x="450.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A2C15554-D562-4730-BB39-F90E5EDA653F" id="BPMNShape_sid-A2C15554-D562-4730-BB39-F90E5EDA653F">
				        <omgdc:Bounds height="40.0" width="40.0" x="600.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-6486A084-E0B9-43D5-85BC-125785D208A1" id="BPMNShape_sid-6486A084-E0B9-43D5-85BC-125785D208A1">
				        <omgdc:Bounds height="80.0" width="100.0" x="720.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C" id="BPMNShape_sid-499F4C6E-A96B-4613-ADA6-E9457F07CF1C">
				        <omgdc:Bounds height="28.0" width="28.0" x="975.0" y="164.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-5D097275-7E6E-48F1-B265-A0DC79266F84" id="BPMNEdge_sid-5D097275-7E6E-48F1-B265-A0DC79266F84">
				        <omgdi:waypoint x="820.0" y="178.0"/>
				        <omgdi:waypoint x="975.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-C9D47264-DAC3-4547-B326-8FD59338A4D3" id="BPMNEdge_sid-C9D47264-DAC3-4547-B326-8FD59338A4D3">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05" id="BPMNEdge_sid-DDEE4FE7-C4F1-4FF5-9FB0-B35596049B05">
				        <omgdi:waypoint x="550.0" y="178.20746887966806"/>
				        <omgdi:waypoint x="600.4166666666666" y="178.41666666666666"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF" id="BPMNEdge_sid-EEBEDD58-745B-4326-BC1A-4595DBCEF8DF">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="450.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3" id="BPMNEdge_sid-D194B2ED-1AA3-4B99-83CC-67EA181DC4B3">
				        <omgdi:waypoint x="620.5" y="158.5"/>
				        <omgdi:waypoint x="620.5" y="43.0"/>
				        <omgdi:waypoint x="275.0" y="43.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2F494FD9-CD15-447D-B93F-C5CFF962185E" id="BPMNEdge_sid-2F494FD9-CD15-447D-B93F-C5CFF962185E">
				        <omgdi:waypoint x="639.5637583892617" y="178.43624161073825"/>
				        <omgdi:waypoint x="720.0" y="178.16722408026754"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
				]]></column>
				<where>workflowtype='VERIFICATION_TV' and workflowactive=1</where>
			</update>
		</changeSet>
	<changeSet id="57.3" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":821,"properties":{"process_id":"VERIFICATION_LV","name":"Legal Verification","documentation":"Legal Verification Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC","properties":{"overrideid":"","name":"VERIFICATION_LV_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_LV_MAKER","firstName":"VERIFICATION_LV_MAKER","fullName":"VERIFICATION_LV_MAKER","id":"VERIFICATION_LV_MAKER","roledesc":"Legal Verification  Maker Role","$$hashKey":"object:4797"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1"}],"bounds":{"lowerRight":{"x":325,"y":218},"upperLeft":{"x":225,"y":138}},"dockers":[]},{"resourceId":"sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}],"bounds":{"lowerRight":{"x":224.625,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}},{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993","properties":{"overrideid":"","name":"VERIFICATION_LV_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_LV_APPROVER","firstName":"VERIFICATION_LV_APPROVER","fullName":"VERIFICATION_LV_APPROVER","id":"VERIFICATION_LV_APPROVER","roledesc":"Legal Verification Approver Role","$$hashKey":"object:2089"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12"}],"bounds":{"lowerRight":{"x":565,"y":218},"upperLeft":{"x":465,"y":138}},"dockers":[]},{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E"},{"resourceId":"sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC"}],"bounds":{"lowerRight":{"x":650,"y":198},"upperLeft":{"x":610,"y":158}},"dockers":[]},{"resourceId":"sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"}],"bounds":{"lowerRight":{"x":609.6484468700075,"y":178.4097335362338},"upperLeft":{"x":565.6288968799925,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"}},{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882","properties":{"overrideid":"","name":"Approve","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A"}],"bounds":{"lowerRight":{"x":880,"y":219},"upperLeft":{"x":780,"y":139}},"dockers":[]},{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":953,"y":193},"upperLeft":{"x":925,"y":165}},"dockers":[]},{"resourceId":"sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"}],"bounds":{"lowerRight":{"x":924.375,"y":179},"upperLeft":{"x":880.390625,"y":179}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC"}},{"resourceId":"sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}],"bounds":{"lowerRight":{"x":630.5,"y":157.482421875},"upperLeft":{"x":275,"y":40}},"dockers":[{"x":20.5,"y":20.5},{"x":630.5,"y":40},{"x":275,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC"}},{"resourceId":"sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882"}],"bounds":{"lowerRight":{"x":779.125003140669,"y":178.87249374220718},"upperLeft":{"x":650.203121859331,"y":178.54938125779282}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-B6912A57-A720-41C6-9848-F18CD022A882"}},{"resourceId":"sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"}],"bounds":{"lowerRight":{"x":464.3125,"y":178},"upperLeft":{"x":325.6875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-A83FA45C-5E90-4206-B37D-A6FC02C39993"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_LV" name="Legal Verification" isExecutable="true">
				    <documentation>Legal Verification Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" name="VERIFICATION_LV_MAKER" activiti:actor="VERIFICATION_LV_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429" sourceRef="startEvent1" targetRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" name="VERIFICATION_LV_APPROVER" activiti:actor="VERIFICATION_LV_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D"/>
				    <sequenceFlow id="sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12" sourceRef="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" targetRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <serviceTask id="sid-B6912A57-A720-41C6-9848-F18CD022A882" name="Approve" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" name="Approved"/>
				    <sequenceFlow id="sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A" sourceRef="sid-B6912A57-A720-41C6-9848-F18CD022A882" targetRef="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E" name="Resubmit" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC" name="Approve" sourceRef="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" targetRef="sid-B6912A57-A720-41C6-9848-F18CD022A882" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1" name="Submit" sourceRef="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" targetRef="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_LV">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_LV" id="BPMNPlane_VERIFICATION_LV">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC" id="BPMNShape_sid-FE192EFC-5336-4FD0-9E08-C134CDC4DBBC">
				        <omgdc:Bounds height="80.0" width="100.0" x="225.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A83FA45C-5E90-4206-B37D-A6FC02C39993" id="BPMNShape_sid-A83FA45C-5E90-4206-B37D-A6FC02C39993">
				        <omgdc:Bounds height="80.0" width="100.0" x="465.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-8D807C3F-B007-4737-8971-81A8B1D8D91D" id="BPMNShape_sid-8D807C3F-B007-4737-8971-81A8B1D8D91D">
				        <omgdc:Bounds height="40.0" width="40.0" x="610.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-B6912A57-A720-41C6-9848-F18CD022A882" id="BPMNShape_sid-B6912A57-A720-41C6-9848-F18CD022A882">
				        <omgdc:Bounds height="80.0" width="100.0" x="780.0" y="139.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC" id="BPMNShape_sid-BA5BFBBF-D153-4B2A-832B-93F44CAEADDC">
				        <omgdc:Bounds height="28.0" width="28.0" x="925.0" y="165.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E" id="BPMNEdge_sid-754CDCA0-A00A-4EB1-A8B5-BF83D76D431E">
				        <omgdi:waypoint x="630.5" y="158.5"/>
				        <omgdi:waypoint x="630.5" y="40.0"/>
				        <omgdi:waypoint x="275.0" y="40.0"/>
				        <omgdi:waypoint x="275.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429" id="BPMNEdge_sid-9C0345D0-B5EB-4F4C-886C-AF4E6CBE9429">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="225.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC" id="BPMNEdge_sid-9DEEC218-5DFF-43C9-9E1F-34B8150E1CCC">
				        <omgdi:waypoint x="649.4525" y="178.5475"/>
				        <omgdi:waypoint x="780.0" y="178.87468671679198"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1" id="BPMNEdge_sid-49B74A98-CD3C-44E9-9E5C-99DA499919E1">
				        <omgdi:waypoint x="325.0" y="178.0"/>
				        <omgdi:waypoint x="465.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12" id="BPMNEdge_sid-EDAAAE1E-16DF-4B8C-8640-B90DBD133D12">
				        <omgdi:waypoint x="565.0" y="178.2164502164502"/>
				        <omgdi:waypoint x="610.4130434782609" y="178.41304347826087"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A" id="BPMNEdge_sid-329543F4-DC3F-4B7B-81F9-CD9E162FD23A">
				        <omgdi:waypoint x="880.0" y="179.0"/>
				        <omgdi:waypoint x="925.0" y="179.0"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]></column>
			<where>workflowtype='VERIFICATION_LV' and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="57.4" author="murthy.y">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":804,"properties":{"process_id":"VERIFICATION_RCU","name":"RCU Verification","documentation":"RCU Verification Workflow Process","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-F217549F-16A8-4A3D-B25B-E61372BCA670"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA","properties":{"overrideid":"","name":"VERIFICATION_RCU_MAKER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_RCU_MAKER","firstName":"VERIFICATION_RCU_MAKER","fullName":"VERIFICATION_RCU_MAKER","id":"VERIFICATION_RCU_MAKER","roledesc":"RCU Verification Maker Role","$$hashKey":"object:1752"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E1B2B81D-D508-4EF3-B494-E90840775928"}],"bounds":{"lowerRight":{"x":280,"y":218},"upperLeft":{"x":180,"y":138}},"dockers":[]},{"resourceId":"sid-F217549F-16A8-4A3D-B25B-E61372BCA670","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}],"bounds":{"lowerRight":{"x":179.5859375,"y":178},"upperLeft":{"x":130.375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}},{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61","properties":{"overrideid":"","name":"VERIFICATION_RCU_APPROVER","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"VERIFICATION_RCU_APPROVER","firstName":"VERIFICATION_RCU_APPROVER","fullName":"VERIFICATION_RCU_APPROVER","id":"VERIFICATION_RCU_APPROVER","roledesc":"RCU Verification Approver Role","$$hashKey":"object:2605"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D"}],"bounds":{"lowerRight":{"x":505,"y":218},"upperLeft":{"x":405,"y":138}},"dockers":[]},{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038"},{"resourceId":"sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF"}],"bounds":{"lowerRight":{"x":700,"y":198},"upperLeft":{"x":660,"y":158}},"dockers":[]},{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E","properties":{"overrideid":"","name":"Complete Process","rerunnable":true,"servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94"}],"bounds":{"lowerRight":{"x":945.8333435058594,"y":220},"upperLeft":{"x":845.8333435058594,"y":140}},"dockers":[]},{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1018.8333435058594,"y":194},"upperLeft":{"x":990.8333435058594,"y":166}},"dockers":[]},{"resourceId":"sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"}],"bounds":{"lowerRight":{"x":990.2083435058594,"y":180},"upperLeft":{"x":946.2239685058594,"y":180}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68"}},{"resourceId":"sid-E1B2B81D-D508-4EF3-B494-E90840775928","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"}],"bounds":{"lowerRight":{"x":404.78125,"y":178},"upperLeft":{"x":280.21875,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61"}},{"resourceId":"sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"}],"bounds":{"lowerRight":{"x":659.2402368331893,"y":178.4528608355503},"upperLeft":{"x":505.3281225418107,"y":178.1115922894497}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"}},{"resourceId":"sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}],"bounds":{"lowerRight":{"x":680.5,"y":157.51171875},"upperLeft":{"x":230,"y":28}},"dockers":[{"x":20.5,"y":20.5},{"x":680.5,"y":28},{"x":230,"y":28},{"x":50,"y":40}],"target":{"resourceId":"sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA"}},{"resourceId":"sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E"}],"bounds":{"lowerRight":{"x":845.2057612560479,"y":179.64733110005952},"upperLeft":{"x":700.0051849462302,"y":178.63587202494048}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-A389106C-0EE9-4B05-AB86-E175C528734E"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[
				<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
				  <process id="VERIFICATION_RCU" name="RCU Verification" isExecutable="true">
				    <documentation>RCU Verification Workflow Process</documentation>
				    <startEvent id="startEvent1" name="Start"/>
				    <userTask id="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" name="VERIFICATION_RCU_MAKER" activiti:actor="VERIFICATION_RCU_MAKER" activiti:assignmentLevel="Role Queue"/>
				    <sequenceFlow id="sid-F217549F-16A8-4A3D-B25B-E61372BCA670" sourceRef="startEvent1" targetRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <userTask id="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" name="VERIFICATION_RCU_APPROVER" activiti:actor="VERIFICATION_RCU_APPROVER" activiti:assignmentLevel="Role Queue"/>
				    <exclusiveGateway id="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C"/>
				    <serviceTask id="sid-A389106C-0EE9-4B05-AB86-E175C528734E" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
				    <endEvent id="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" name="Approved"/>
				    <sequenceFlow id="sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94" sourceRef="sid-A389106C-0EE9-4B05-AB86-E175C528734E" targetRef="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-E1B2B81D-D508-4EF3-B494-E90840775928" name="Submit" sourceRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" targetRef="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D" sourceRef="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" targetRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
				    <sequenceFlow id="sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038" name="Resubmit" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
				    </sequenceFlow>
				    <sequenceFlow id="sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF" name="Approve" sourceRef="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" targetRef="sid-A389106C-0EE9-4B05-AB86-E175C528734E" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
				      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
				    </sequenceFlow>
				  </process>
				  <bpmndi:BPMNDiagram id="BPMNDiagram_VERIFICATION_RCU">
				    <bpmndi:BPMNPlane bpmnElement="VERIFICATION_RCU" id="BPMNPlane_VERIFICATION_RCU">
				      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
				        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA" id="BPMNShape_sid-2DF0510A-2D2A-40BB-BE52-6E53F07B60FA">
				        <omgdc:Bounds height="80.0" width="100.0" x="180.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61" id="BPMNShape_sid-2FE63C37-EAA4-4207-8044-16BA5C04CF61">
				        <omgdc:Bounds height="80.0" width="100.0" x="405.0" y="138.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C" id="BPMNShape_sid-F9CEB5E6-8955-42C1-AB0B-52087F7E756C">
				        <omgdc:Bounds height="40.0" width="40.0" x="660.0" y="158.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-A389106C-0EE9-4B05-AB86-E175C528734E" id="BPMNShape_sid-A389106C-0EE9-4B05-AB86-E175C528734E">
				        <omgdc:Bounds height="80.0" width="100.0" x="845.8333435058594" y="140.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNShape bpmnElement="sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68" id="BPMNShape_sid-577A9C68-23D4-4B6D-BE84-B915ED54EA68">
				        <omgdc:Bounds height="28.0" width="28.0" x="990.8333435058594" y="166.0"/>
				      </bpmndi:BPMNShape>
				      <bpmndi:BPMNEdge bpmnElement="sid-F217549F-16A8-4A3D-B25B-E61372BCA670" id="BPMNEdge_sid-F217549F-16A8-4A3D-B25B-E61372BCA670">
				        <omgdi:waypoint x="130.0" y="178.0"/>
				        <omgdi:waypoint x="180.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038" id="BPMNEdge_sid-ADECC013-FDB0-4C16-AC4E-BE4E2AA8D038">
				        <omgdi:waypoint x="680.5" y="158.5"/>
				        <omgdi:waypoint x="680.5" y="28.0"/>
				        <omgdi:waypoint x="230.0" y="28.0"/>
				        <omgdi:waypoint x="230.0" y="138.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94" id="BPMNEdge_sid-ADE867B5-A06E-4F09-8BD4-AA6A86584C94">
				        <omgdi:waypoint x="945.8333435058594" y="180.0"/>
				        <omgdi:waypoint x="990.8333435058594" y="180.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF" id="BPMNEdge_sid-368E0EE5-60F2-4AA0-A70A-5DCB8650ABBF">
				        <omgdi:waypoint x="699.3685626502862" y="178.63143734971385"/>
				        <omgdi:waypoint x="845.8333435058594" y="179.65170280283155"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-E1B2B81D-D508-4EF3-B494-E90840775928" id="BPMNEdge_sid-E1B2B81D-D508-4EF3-B494-E90840775928">
				        <omgdi:waypoint x="280.0" y="178.0"/>
				        <omgdi:waypoint x="405.0" y="178.0"/>
				      </bpmndi:BPMNEdge>
				      <bpmndi:BPMNEdge bpmnElement="sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D" id="BPMNEdge_sid-2A6A5945-F025-4B6B-AC7A-F2694F99177D">
				        <omgdi:waypoint x="505.0" y="178.1108647450111"/>
				        <omgdi:waypoint x="660.4555555555555" y="178.45555555555555"/>
				      </bpmndi:BPMNEdge>
				    </bpmndi:BPMNPlane>
				  </bpmndi:BPMNDiagram>
				</definitions>
			]]></column>
			<where>workflowtype='VERIFICATION_RCU' and workflowactive=1</where>
		</update>
	</changeSet>
	 
	<changeSet id="58" author="madhubabu.p">
	<comment> covenants Enquiry view only to show the temp records</comment>
	<createView viewName="fincovenanttype_eview" replaceIfExists="true">
			SELECT t.finreference,
    t.custid,
    t.covenanttype,
    t.description,
    t.mandrole,
    t.alwwaiver,
    t.alwpostpone,
    t.alwotc,
    t.postponedays,
    t.covenanttypedesc,
    t.categorycode,
    t.receivabledate,
    t.version,
    t.lastmntby,
    t.lastmnton,
    t.recordstatus,
    t.rolecode,
    t.nextrolecode,
    t.taskid,
    t.nexttaskid,
    t.recordtype,
    t.workflowid,
        CASE
            WHEN t.docreceiveddate IS NULL THEN cd.lastmnton
            ELSE t.docreceiveddate
        END AS docreceiveddate,
    t.pddflag,
    t.otcflag
   FROM ( SELECT t1.finreference,
            t4.custid,
            t1.covenanttype,
            t1.description,
            t1.mandrole,
            t1.alwwaiver,
            t1.alwpostpone,
            t1.postponedays,
            t1.alwotc,
            t3.doctypedesc AS covenanttypedesc,
            t5.code AS categorycode,
            t1.receivabledate,
            t1.version,
            t1.lastmntby,
            t1.lastmnton,
            t1.recordstatus,
            t1.rolecode,
            t1.nextrolecode,
            t1.taskid,
            t1.nexttaskid,
            t1.recordtype,
            t1.workflowid,
            t7.docreceiveddate,
            t3.pdd AS pddflag,
            t3.otc AS otcflag
           FROM fincovenanttype_temp t1
             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
             JOIN financemain_temp t4 ON t4.finreference = t1.finreference
             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory
        ) t
     LEFT JOIN customerdocuments cd ON cd.custid = t.custid AND t.covenanttype = cd.custdoccategory
			</createView>
</changeSet>

<changeSet id="59" author="Manoj">
	<sql>
		DELETE FROM SMTPARAMETERS where SYSPARMCODE = 'EXT_CRM_INT_ENABLED';
		INSERT INTO SMTPARAMETERS VALUES ('EXT_CRM_INT_ENABLED', 'CRM Required or Not(Y, N)', 'String', 1, 'Y', 1, 0, NULL, NULL,'CRM Required or Not', 1, 1000, CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0);
	</sql>
</changeSet>
<changeSet id="60" author="vijaykumar.l">
<sql>
delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Customer_Obligation_Internal';
delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Customer_Obligation_External';
delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Co_Applicants_Obligation_Internal';
delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Co_Applicants_Obligation_External';

Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
 ('ELGRULE','ELGRULE','Customer_Obligation_Internal','  Customer Obligation Internal','decimal',18,'1','1','','static,calvalue','');
Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('ELGRULE','ELGRULE','Customer_Obligation_External',' Customer Oblication External','decimal',18,'1','1','','static,calvalue','');
Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values ('ELGRULE','ELGRULE','Co_Applicants_Obligation_Internal',' Co Applicants Obgligation Internal','decimal',18,'1','1','','static,calvalue','');
 Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values  ('ELGRULE','ELGRULE','Co_Applicants_Obligation External','Co Applicants Obgligation External','decimal',18,'1','1','','static,calvalue','');
	   
</sql>
</changeSet>

<changeSet id="61" author="Durgaprasad g">
	<sql>
	    UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);	
				 
				 
		INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_ChequeDetailDialog_btnGenerate','ChequeDetailDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CHEQUEDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ChequeDetailDialog_btnGenerate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CHEQUEDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_pdc_ChequeDetail'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CHEQUEDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_pdc_ChequeDetailEnquiry'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
		INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CHEQUEDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_ChequeDetailDialog_btnSave'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

		UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
		UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);	
	</sql>
</changeSet>
<changeSet id="62" author="vijay.l">
<sql>
delete from RBFIELDDETAILS where RBMODULE = 'CLRULE' and RBEVENT = 'CLRULE' and RbFldName = 'custEmpType';
Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) 
values ('CLRULE','CLRULE','custEmpType','Customer Employee Type','nvarchar',8,'0','1','EmploymentType','static,dbvalue','EmploymentType');

</sql>
</changeSet>

	<changeSet id="63" author="Ganesh.p">
		<modifyDataType tableName="FinanceDeviations_Temp"
			columnName="Remarks" newDataType="VARCHAR(500)" />
	</changeSet>
	<changeSet id="64" author="Ganesh.p">
		<modifyDataType tableName="FinanceDeviations"
			columnName="Remarks" newDataType="VARCHAR(500)" />
	</changeSet>
	<changeSet id="65" author="vijaykumar.l">
	<sql>
	delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Co_Applicants_Obligation_External';
	delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'Co_Applicants_Obligation External';
	Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) 
 	values  ('ELGRULE','ELGRULE','Co_Applicants_Obligation_External','Co Applicants Obgligation External','decimal',18,'1','1','','static,calvalue','');
	</sql>
	</changeSet>
	
	<changeSet id="66" author="Vinay">
		<sql>
			Delete from ERRORDETAILS where code='41041';
			Insert into ERRORDETAILS values ('41041','EN','E','{0} {1}  NOC already issued.','test','Approved',null,null,null,null,null,0,CURRENT_TIMESTAMP,1000,3);
		</sql>
	</changeSet>
	<changeSet id="67" author="vijaykumar.l">
	<sql>
	delete from STAGETABDETAIL;
	insert into STAGETABDETAIL values(1,'ADVPAY','Advance Payment',1);
	insert into STAGETABDETAIL values(2,'COAPP','Co Applicants ',1);
	insert into STAGETABDETAIL values(3,'TAXDET','Tax Detail',1);
	insert into STAGETABDETAIL values(4,'DOCUMENT','Documents Details',1);
	insert into STAGETABDETAIL values(5,'COVENANT','Covenant Details',1);
	insert into STAGETABDETAIL values(6,'MANDATE','Mandate Details',1);
	insert into STAGETABDETAIL values(7,'CHEQUE','Cheque Details',1);
	insert into STAGETABDETAIL values(8,'COLLATER','Collateral Setup',1);
	insert into STAGETABDETAIL values(9,'VAS','VAS Details',1);
	insert into STAGETABDETAIL values(10,'EXNTFLDS','Extended Field Details',1);
	insert into STAGETABDETAIL values(11,'QRYMGMT','Query Mangement Details',1);
	</sql>
	</changeSet>
	
	
<changeSet id="70" author="Manoj">
	<sql>
		<comment>Adding SMTParameter for finance tab requirement in corp customer</comment>
		DELETE FROM SMTPARAMETERS where SYSPARMCODE = 'CUSTOMER_CORP_FINANCE_TAB_REQ';
		INSERT INTO SMTPARAMETERS VALUES ('CUSTOMER_CORP_FINANCE_TAB_REQ', 'FinanceTab Required or Not for Corp Cust(Y, N)', 'String', 1, 'N', 1, 0, NULL, NULL,'FinanceTab Required or Not', 1, 1000, CURRENT_TIMESTAMP,'Approved', NULL, NULL, NULL, NULL, NULL, 0);
	</sql>
</changeSet>

<changeSet id="60" author="Vinay">
	<addColumn tableName="FinLiabilityReq_Temp">
		<column name="Id" type="bigint"/>
	</addColumn>
	<addColumn tableName="FinLiabilityReq">
		<column name="Id" type="bigint"/>
	</addColumn>
</changeSet>
<changeSet id="60_Post.3" author="Vinay">
	<comment> Update Newly added column Id with RowNumbers to preserve null error and query updated to generic</comment>
	<sql>
		update FinLiabilityReq set id=( Select Cnt from (Select Finreference,ROW_NUMBER() OVER( order by Finreference ) cnt FROM FinLiabilityReq)T WHERE T.FINREFERENCE=FinLiabilityReq.FINREFERENCE);
		update FinLiabilityReq_Temp set id=( Select Cnt from (Select Finreference,ROW_NUMBER() OVER( order by Finreference ) cnt FROM FinLiabilityReq_Temp)T WHERE T.FINREFERENCE=FinLiabilityReq_Temp.FINREFERENCE);
	</sql>
</changeSet>
<changeSet id="60.1_Post" author="Vinay" dbms="postgresql">
	<addNotNullConstraint tableName="FinLiabilityReq" columnName="id"/>
	<addNotNullConstraint tableName="FinLiabilityReq_Temp" columnName="id"/>
</changeSet>
<changeSet id="60.1_Post" author="Vinay" dbms="mssql">
	<addNotNullConstraint tableName="FinLiabilityReq" columnName="id" columnDataType="bigint"/>
	<addNotNullConstraint tableName="FinLiabilityReq_Temp" columnName="id" columnDataType="bigint"/>
</changeSet>
<changeSet id="60.1_Post" author="Vinay" dbms="oracle">
	<addNotNullConstraint tableName="FinLiabilityReq" columnName="id"/>
	<addNotNullConstraint tableName="FinLiabilityReq_Temp" columnName="id"/>
</changeSet>
<changeSet id="61" author="Vinay">
	<dropPrimaryKey tableName="FinLiabilityReq" constraintName="pk_finliabilityreq"/>
	<dropPrimaryKey tableName="FinLiabilityReq_Temp" constraintName="pk_finliabilityreq_temp"/>
</changeSet>

<changeSet id="62" author="Vinay">
	<addPrimaryKey tableName="FinLiabilityReq" columnNames="Id" constraintName="pk_finliabilityreq"/>
	<addPrimaryKey tableName="FinLiabilityReq_Temp" columnNames="Id" constraintName="pk_finliabilityreq_temp"/>
</changeSet>

<changeSet id="63" author="Vinay">
	<createSequence sequenceName="SeqFinLiabilityReq" startValue="1" incrementBy="1" />
</changeSet>
<changeSet id="64" author="Vinay" dbms="postgresql">
	<sql>
		Select setval('seqfinliabilityreq',(Select max(id) from (Select max(id)+1 id from FinLiabilityReq UNION select max(id)+1 id from FinLiabilityReq_Temp)T));
	</sql>
</changeSet>
<changeSet id="65" author="Vinay" dbms="oracle">
	<sql splitStatements="false">
		declare st varchar2(200);
 				nu integer;
		begin
		   Select Coalesce(max(id),0) into nu from (Select max(id)+1 id from FinLiabilityReq UNION select max(id)+1 id from FinLiabilityReq_Temp)T;
		   st:= 'ALTER SEQUENCE seqfinliabilityreq RESTART START WITH ' ||nu ;
		      execute immediate st;
		end;
	</sql>
</changeSet>

<changeSet id="66" author="Manoj">
	<addColumn tableName="BlackListCustomer_Temp">
			<column name="CustCtgCode" type="varchar(20)" />
			<column name="CustCompName" type="varchar(200)" />
			<column name="CustAadhaar" type="varchar(15)" />
			<column name="CustCin" type="varchar(100)" />
		</addColumn>
</changeSet>

<changeSet id="67" author="Manoj">
	<addColumn tableName="BlackListCustomer">
			<column name="CustCtgCode" type="varchar(20)" />
			<column name="CustCompName" type="varchar(200)" />
			<column name="CustAadhaar" type="varchar(15)" />
			<column name="CustCin" type="varchar(100)" />
		</addColumn>
</changeSet>

<changeSet id="71" author="Manoj">
	<sql>
		INSERT INTO SecRights Values ((Select MAX(RightID)+1 From SecRights), 3, 'BlacklistCustomerDialog_CustCtgCode', 'BlacklistCustomerDialog', 1, 1000, NULL, 'Approved',' ',' ',' ',' ',' ',0);
		INSERT INTO SecGroupRights values((SELECT MAX(GrpRightID) + 1 From SecGroupRights), (Select GrpId  From SecGroups Where GrpCode = 'BLACKLISTCUSTOMER_MAKER'), (SELECT RightID FROM SecRights where RightName = 'BlacklistCustomerDialog_CustCtgCode'), 1, 1, 1000, NULL,'Approved',' ',' ',' ',' ',' ', 0);

		INSERT INTO SecRights Values ((Select MAX(RightID)+1 From SecRights), 3, 'BlacklistCustomerDialog_CustCin', 'BlacklistCustomerDialog', 1, 1000, NULL, 'Approved',' ',' ',' ',' ',' ',0);
		INSERT INTO SecGroupRights values((SELECT MAX(GrpRightID) + 1 From SecGroupRights), (Select GrpId  From SecGroups Where GrpCode = 'BLACKLISTCUSTOMER_MAKER'), (SELECT RightID FROM SecRights where RightName = 'BlacklistCustomerDialog_CustCin'), 1, 1, 1000, NULL,'Approved',' ',' ',' ',' ',' ', 0);

		INSERT INTO SecRights Values ((Select MAX(RightID)+1 From SecRights), 3, 'BlacklistCustomerDialog_CustAadhaar', 'BlacklistCustomerDialog', 1, 1000, NULL, 'Approved',' ',' ',' ',' ',' ',0);
		INSERT INTO SecGroupRights values((SELECT MAX(GrpRightID) + 1 From SecGroupRights), (Select GrpId  From SecGroups Where GrpCode = 'BLACKLISTCUSTOMER_MAKER'), (SELECT RightID FROM SecRights where RightName = 'BlacklistCustomerDialog_CustAadhaar'), 1, 1, 1000, NULL,'Approved',' ',' ',' ',' ',' ', 0);
	</sql>
</changeSet>
<changeSet id="72" author="SaiKrishna">
	<comment>story #413 Allow scriptlet for extended fields</comment>
	<addColumn tableName="extendedfielddetail">
		<column name="scriptlet" type="varchar(4000)"/>
	</addColumn>
</changeSet>
<changeSet id="73" author="SaiKrishna">
	<comment>story #413 Allow scriptlet for extended fields</comment>
	<addColumn tableName="extendedfielddetail_temp">
		<column name="scriptlet" type="varchar(4000)"/>
	</addColumn>
</changeSet>
<changeSet id="72" author="Manoj">
	<sql>
		INSERT INTO SecRights Values ((Select MAX(RightID)+1 From SecRights), 3, 'BlacklistCustomerDialog_CustSName', 'BlacklistCustomerDialog', 1, 1000, NULL, 'Approved',' ',' ',' ',' ',' ',0);
		INSERT INTO SecGroupRights values((SELECT MAX(GrpRightID) + 1 From SecGroupRights), (Select GrpId  From SecGroups Where GrpCode = 'BLACKLISTCUSTOMER_MAKER'), (SELECT RightID FROM SecRights where RightName = 'BlacklistCustomerDialog_CustSName'), 1, 1, 1000, NULL,'Approved',' ',' ',' ',' ',' ', 0);
	</sql>
</changeSet>
<changeSet id="74" author="Saikrishna">
	<comment>story #413 Allow scriptlet for extended fields</comment>
	<createView viewName="extendedfielddetail_aview" replaceIfExists="true">
	 SELECT t1.moduleid,
	    t1.fieldname,
	    t2.modulename AS lovdescmodulename,
	    t2.submodulename AS lovdescsubmodulename,
	    t1.fieldtype,
	    t1.fieldlength,
	    t1.fieldprec,
	    t1.fieldlabel,
	    t1.fieldmandatory,
	    t1.fieldconstraint,
	    t1.fieldseqorder,
	    t1.fieldlist,
	    t1.fielddefaultvalue,
	    t1.fieldminvalue,
	    t1.fieldmaxvalue,
	    t1.fieldunique,
	    t1.extendedtype,
	    t1.version,
	    t1.lastmntby,
	    t1.lastmnton,
	    t1.recordstatus,
	    t1.rolecode,
	    t1.nextrolecode,
	    t1.taskid,
	    t1.nexttaskid,
	    t1.recordtype,
	    t1.workflowid,
	    t1.multiline,
	    t1.parenttag,
	    t1.inputelement,
	    t1.editable,
	    t1.allowinrule,
	    t1.scriptlet
	   FROM extendedfielddetail t1
	     JOIN extendedfieldheader t2 ON t1.moduleid = t2.moduleid
	</createView>
</changeSet>
<changeSet id="75" author="Saikrishna">
	<comment>story #413 Allow scriptlet for extended fields</comment>
	<createView viewName="extendedfielddetail_view" replaceIfExists="true">
	SELECT t1.moduleid,
	    t1.fieldname,
	    t2.modulename AS lovdescmodulename,
	    t2.submodulename AS lovdescsubmodulename,
	    t1.fieldtype,
	    t1.fieldlength,
	    t1.fieldprec,
	    t1.fieldlabel,
	    t1.fieldmandatory,
	    t1.fieldconstraint,
	    t1.fieldseqorder,
	    t1.fieldlist,
	    t1.fielddefaultvalue,
	    t1.fieldminvalue,
	    t1.fieldmaxvalue,
	    t1.fieldunique,
	    t1.extendedtype,
	    t1.version,
	    t1.lastmntby,
	    t1.lastmnton,
	    t1.recordstatus,
	    t1.rolecode,
	    t1.nextrolecode,
	    t1.taskid,
	    t1.nexttaskid,
	    t1.recordtype,
	    t1.workflowid,
	    t1.multiline,
	    t1.parenttag,
	    t1.inputelement,
	    t1.editable,
	    t1.allowinrule,
	    t1.scriptlet
	   FROM extendedfielddetail_temp t1
	     JOIN extendedfieldheader_temp t2 ON t1.moduleid = t2.moduleid
	UNION ALL
	SELECT t1.moduleid,
	    t1.fieldname,
	    t2.modulename AS lovdescmodulename,
	    t2.submodulename AS lovdescsubmodulename,
	    t1.fieldtype,
	    t1.fieldlength,
	    t1.fieldprec,
	    t1.fieldlabel,
	    t1.fieldmandatory,
	    t1.fieldconstraint,
	    t1.fieldseqorder,
	    t1.fieldlist,
	    t1.fielddefaultvalue,
	    t1.fieldminvalue,
	    t1.fieldmaxvalue,
	    t1.fieldunique,
	    t1.extendedtype,
	    t1.version,
	    t1.lastmntby,
	    t1.lastmnton,
	    t1.recordstatus,
	    t1.rolecode,
	    t1.nextrolecode,
	    t1.taskid,
	    t1.nexttaskid,
	    t1.recordtype,
	    t1.workflowid,
	    t1.multiline,
	    t1.parenttag,
	    t1.inputelement,
	    t1.editable,
	    t1.allowinrule,
	    t1.scriptlet
	   FROM extendedfielddetail t1
	     JOIN extendedfieldheader t2 ON t1.moduleid = t2.moduleid
	  WHERE NOT (EXISTS ( SELECT 1
	           FROM extendedfielddetail_temp
	          WHERE extendedfielddetail_temp.moduleid = t1.moduleid AND extendedfielddetail_temp.fieldname = t1.fieldname))
	</createView>
</changeSet>
<changeSet id="76" author="vijaykumar.l">
		<addColumn tableName="amtvehicledealer">
	        <column name="code"  type="varchar(20)"/>
	    </addColumn>
	</changeSet>
 <changeSet id="77" author="vijaykumar.l">
		<addColumn tableName="amtvehicledealer_temp">
	        <column name="code"  type="varchar(20)"/>
	    </addColumn>
	 </changeSet>
	  <changeSet id="78.1" author="vijaykumar.l">
	<createView viewName="AMTVEHICLEDEALER_AVIEW" replaceIfExists="true">
 SELECT t1.dealerid,
    t1.dealertype,
    t1.dealername,
    t1.dealertelephone,
    t1.dealerfax,
    t1.dealeraddress1,
    t1.dealeraddress2,
    t1.dealeraddress3,
    t1.dealeraddress4,
    t1.dealercountry,
    t5.countrydesc AS lovdesccountry,
    t1.dealerprovince,
    t4.cpprovincename AS lovdescprovince,
    t1.dealercity,
    t3.pccityname AS lovdesccity,
    t1.email,
    t1.pobox,
    t1.zipcode,
    t1.active,
    t1.emirates,
    t1.commisionpaidat,
    t1.calculationrule,
    t7.rulecodedesc AS calruledesc,
    t1.paymentmode,
    t1.accountnumber,
    t1.accountingsetid,
    t8.accountsetcode AS accountingsetcode,
    t8.accountsetcodename AS accountingsetdesc,
    t9.cpprovincename AS emiratesdescription,
    t1.sellertype,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
	t1.code
   FROM amtvehicledealer t1
     LEFT JOIN rmtprovincevscity t3 ON t1.dealercountry = t3.pccountry AND t1.dealerprovince = t3.pcprovince AND t1.dealercity = t3.pccity AND t1.dealercity = t3.pccity
     LEFT JOIN rmtcountryvsprovince t4 ON t1.dealercountry = t4.cpcountry AND t1.dealerprovince = t4.cpprovince
     LEFT JOIN bmtcountries t5 ON t1.dealercountry = t5.countrycode
     LEFT JOIN rules t7 ON t1.calculationrule = t7.rulecode AND t7.ruleevent = 'ADDDBS'
     LEFT JOIN rmtaccountingset t8 ON t1.accountingsetid = t8.accountsetid
     LEFT JOIN rmtcountryvsprovince t9 ON t1.emirates = t9.cpprovince
</createView>
	</changeSet>
<changeSet id="79.1" author="vijaykumar.l">
	<createView viewName="AMTVEHICLEDEALER_VIEW" replaceIfExists="true">
 SELECT t1.dealerid,
    t1.dealertype,
    t1.dealername,
    t1.dealertelephone,
    t1.dealerfax,
    t1.dealeraddress1,
    t1.dealeraddress2,
    t1.dealeraddress3,
    t1.dealeraddress4,
    t1.dealercountry,
    t5.countrydesc AS lovdesccountry,
    t1.dealerprovince,
    t4.cpprovincename AS lovdescprovince,
    t1.dealercity,
    t3.pccityname AS lovdesccity,
    t1.email,
    t1.pobox,
    t1.zipcode,
    t1.active,
    t1.emirates,
    t1.commisionpaidat,
    t1.calculationrule,
    t7.rulecodedesc AS calruledesc,
    t1.paymentmode,
    t1.accountnumber,
    t1.accountingsetid,
    t8.accountsetcode AS accountingsetcode,
    t8.accountsetcodename AS accountingsetdesc,
    t9.cpprovincename AS emiratesdescription,
    t1.sellertype,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
	t1.code
   FROM amtvehicledealer_temp t1
     LEFT JOIN rmtprovincevscity t3 ON t1.dealercountry = t3.pccountry AND t1.dealerprovince = t3.pcprovince AND t1.dealercity = t3.pccity
     LEFT JOIN rmtcountryvsprovince t4 ON t1.dealercountry = t4.cpcountry AND t1.dealerprovince = t4.cpprovince
     LEFT JOIN bmtcountries t5 ON t1.dealercountry = t5.countrycode
     LEFT JOIN rules t7 ON t1.calculationrule = t7.rulecode AND t7.ruleevent = 'ADDDBS'
     LEFT JOIN rmtaccountingset t8 ON t1.accountingsetid = t8.accountsetid
     LEFT JOIN rmtcountryvsprovince t9 ON t1.emirates = t9.cpprovince
UNION ALL
 SELECT t1.dealerid,
    t1.dealertype,
    t1.dealername,
    t1.dealertelephone,
    t1.dealerfax,
    t1.dealeraddress1,
    t1.dealeraddress2,
    t1.dealeraddress3,
    t1.dealeraddress4,
    t1.dealercountry,
    t5.countrydesc AS lovdesccountry,
    t1.dealerprovince,
    t4.cpprovincename AS lovdescprovince,
    t1.dealercity,
    t3.pccityname AS lovdesccity,
    t1.email,
    t1.pobox,
    t1.zipcode,
    t1.active,
    t1.emirates,
    t1.commisionpaidat,
    t1.calculationrule,
    t7.rulecodedesc AS calruledesc,
    t1.paymentmode,
    t1.accountnumber,
    t1.accountingsetid,
    t8.accountsetcode AS accountingsetcode,
    t8.accountsetcodename AS accountingsetdesc,
    t9.cpprovincename AS emiratesdescription,
    t1.sellertype,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
	t1.code
   FROM amtvehicledealer t1
     LEFT JOIN rmtprovincevscity t3 ON t1.dealercountry = t3.pccountry AND t1.dealerprovince = t3.pcprovince AND t1.dealercity = t3.pccity AND t1.dealercity = t3.pccity
     LEFT JOIN rmtcountryvsprovince t4 ON t1.dealercountry = t4.cpcountry AND t1.dealerprovince = t4.cpprovince
     LEFT JOIN bmtcountries t5 ON t1.dealercountry = t5.countrycode
     LEFT JOIN rules t7 ON t1.calculationrule = t7.rulecode AND t7.ruleevent = 'ADDDBS'
     LEFT JOIN rmtaccountingset t8 ON t1.accountingsetid = t8.accountsetid
     LEFT JOIN rmtcountryvsprovince t9 ON t1.emirates = t9.cpprovince
  WHERE NOT (EXISTS ( SELECT 1
           FROM amtvehicledealer_temp
          WHERE amtvehicledealer_temp.dealerid = t1.dealerid))
</createView>
	</changeSet>
	<changeSet id="80" author="vijaykumar.l">
	<sql>
	UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_DSA_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_DMA_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_TVAGENCY_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_RCUVAGENCY_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_LVAGENCY_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_FIAGENCY_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_VASM_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'VehicleDealerDialog_SOPT_Code','VehicleDealerDialog',0,1000,CURRENT_TIMESTAMP,'
				',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DSA_Code'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_DMA_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_TVAGENCY_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_RCUVAGENCY_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_LVAGENCY_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_FIAGENCY_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_VASM_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='DEALER_MAKER') ,
	(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='VehicleDealerDialog_SOPT_Code'), 1,
				0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
	</sql>
	</changeSet>
	
	<changeSet id="Vinay" author="81">
		<createView viewName="finliabilityreq_view" replaceIfExists="true">
		 SELECT t1.id,
			t1.finreference,
		    t1.initiatedby,
		    t1.finevent,
		    t1.inspaidstatus,
		    t1.insclaimamount,
		    t1.insclaimreason,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t2.fintype,
		    t2.finbranch,
		    t2.finstartdate,
		    t2.numberofterms,
		    t2.maturitydate,
		    t2.finccy,
		    t2.finamount,
		    t2.finassetvalue,
		    t4.custcif,
		    t4.custshrtname,
		    t5.branchdesc,
		    t6.findivision AS lovdescfindivision
		   FROM finliabilityreq_temp t1
		     JOIN financemain t2 ON t1.finreference = t2.finreference
		     JOIN customers t4 ON t2.custid = t4.custid
		     JOIN rmtbranches t5 ON t2.finbranch = t5.branchcode
		     JOIN rmtfinancetypes t6 ON t2.fintype = t6.fintype
		UNION ALL
		 SELECT t1.id,
			t1.finreference,
		    t1.initiatedby,
		    t1.finevent,
		    t1.inspaidstatus,
		    t1.insclaimamount,
		    t1.insclaimreason,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t2.fintype,
		    t2.finbranch,
		    t2.finstartdate,
		    t2.numberofterms,
		    t2.maturitydate,
		    t2.finccy,
		    t2.finamount,
		    t2.finassetvalue,
		    t4.custcif,
		    t4.custshrtname,
		    t5.branchdesc,
		    t6.findivision AS lovdescfindivision
		   FROM finliabilityreq t1
		     JOIN financemain t2 ON t1.finreference = t2.finreference
		     JOIN customers t4 ON t2.custid = t4.custid
		     JOIN rmtbranches t5 ON t2.finbranch = t5.branchcode
		     JOIN rmtfinancetypes t6 ON t2.fintype = t6.fintype
		  WHERE NOT (EXISTS ( SELECT 1
		           FROM finliabilityreq_temp
		          WHERE finliabilityreq_temp.id = t1.id))
		</createView>
	</changeSet>
	<changeSet id="82" author="Siva">
		<createSequence sequenceName="SeqReceiptNumber" startValue="1" maxValue="9223372036854775807" incrementBy="1" cycle="false" />
	</changeSet>
	<changeSet id="84" author="manoj">
		<addColumn tableName="POSTINGS">
	 		<column name="EntityCode" type="varchar(8)"/>
		</addColumn>
	</changeSet>
	<changeSet id="86" author="manoj">
		<addColumn tableName="POSTINGS_TAXDOWNLOAD">
	 		<column name="EntityCode" type="varchar(8)"/>
		</addColumn>
	</changeSet>
	
	<changeSet id="89" author="Sriram">
		 <dropForeignKeyConstraint baseTableName="TRIAL_BALANCE_REPORT_LAST_RUN" constraintName="FK_TBRLR_HID"/>
	</changeSet>
	
	<changeSet id="90" author="Sriram">
		<dropForeignKeyConstraint baseTableName="TRIAL_BALANCE_REPORT" constraintName="FK_TBR_HID"/>
	</changeSet>
	
	<changeSet id="91" author="Sriram">
		<dropIndex tableName="TRIAL_BALANCE_HEADER" indexName="IDX_TBH_DIMENSION"/>
	</changeSet>
	
	<changeSet id="92.1" author="Sriram">
		<dropView viewName="TRIAL_BALANCE_REPORT_FILE_VIEW"/>
	</changeSet>
	
	<changeSet id="92.2" author="Sriram">
		<dropView viewName="TRIAL_BALANCE_REPORT_VIEW"/>
	</changeSet>
	
	<changeSet id="92.3" author="Sriram">
		<dropTable tableName="TRIAL_BALANCE_REPORT_FILE"/>
	</changeSet>
	
	<changeSet id="93" author="Sriram">
		<dropTable tableName="TRIAL_BALANCE_REPORT_LAST_RUN"/>
	</changeSet>
	
	<changeSet id="94" author="Sriram">
		<dropTable tableName="TRIAL_BALANCE_REPORT"/>
	</changeSet>
	
	<changeSet id="95" author="Sriram">
		<dropTable tableName="TRIAL_BALANCE_HEADER"/>
	</changeSet>
	
	<changeSet id="96" author="Sriram">
		<createTable tableName="TRIAL_BALANCE_HEADER">
				<column name="ID" type="bigint">
					<constraints nullable="false" />
				</column>
				<column name="SEQNO" type="bigint">
					<constraints nullable="false" />
				</column>
				<column name="DIMENSION" type="varchar(20)">
					<constraints nullable="false" />
				</column>
				<column name="FILENAME" type="varchar(100)"/>
				<column name="COMPANYNAME" type="varchar(100)">
					<constraints nullable="false" />
				</column>
				<column name="REPORTNAME" type="varchar(100)">
					<constraints nullable="false" />
				</column>
				<column name="STARTDATE" type="datetime">
					<constraints nullable="false" />
				</column>
				<column name="ENDDATE" type="datetime">
					<constraints nullable="false" />
				</column>
				<column name="CURRENCY" type="char(3)">
					<constraints nullable="false" />
				</column>
				<column name="ENTITYCODE" type="varchar(8)">
				</column>
		</createTable>
	</changeSet>

	<changeSet id="97" author="Sriram">
		<addPrimaryKey columnNames="ID" constraintName="PK_TBH" tableName="TRIAL_BALANCE_HEADER" />
	</changeSet>
	
	<changeSet id="98" author="Sriram">
		<createIndex indexName="IDX_TBH_DIMENSION" tableName="TRIAL_BALANCE_HEADER">
			<column name="DIMENSION" type="varchar(20)"/>
		</createIndex>
	</changeSet>
	
	
	<changeSet id="99" author="Sriram">
		<createTable tableName="TRIAL_BALANCE_REPORT">
			<column name="HEADERID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="VARCHAR(20)">
				<constraints nullable="false" />
			</column>
			<column name="COUNTRY" type="char(2)"/>
			<column name="PROVINCE" type="varchar(8)"/>
			<column name="FINTYPE" type="varchar(8)"/>
			<column name="ACCOUNT" type="varchar(50)"/>
			<column name="HOSTACCOUNT" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="DESCRIPTION" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="DEBITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CREDITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="100" author="Sriram">
		<createTable tableName="TRIAL_BALANCE_REPORT_LAST_RUN">
			<column name="HEADERID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="COUNTRY" type="char(2)"/>
			<column name="PROVINCE" type="varchar(8)"/>
			<column name="FINTYPE" type="varchar(8)"/>
			<column name="ACCOUNT" type="varchar(50)"/>
			<column name="HOSTACCOUNT" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="DESCRIPTION" type="varchar(100)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="OPENINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
			<column name="DEBITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CREDITAMOUNT" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBAL" type="decimal(18,0)">
				<constraints nullable="false" />
			</column>
			<column name="CLOSINGBALTYPE" type="char(2)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="101" author="Sriram">
			<addForeignKeyConstraint constraintName="FK_TBR_HID" referencedTableName="TRIAL_BALANCE_HEADER" baseColumnNames="HEADERID" baseTableName="TRIAL_BALANCE_REPORT" referencedColumnNames="ID"/>
			<addForeignKeyConstraint constraintName="FK_TBRLR_HID" referencedTableName="TRIAL_BALANCE_HEADER" baseColumnNames="HEADERID" baseTableName="TRIAL_BALANCE_REPORT_LAST_RUN" referencedColumnNames="ID"/>
	</changeSet>
	
	<changeSet id="102" author="Sriram">
		<createTable tableName="TRIAL_BALANCE_REPORT_FILE">
			<column name="ID" type="bigint" autoIncrement="true" incrementBy="1">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="ACTYPEGRPID" type="varchar(100)" />
			<column name="COUNTRY" type="varchar(100)" />
			<column name="PROVINCE" type="varchar(100)" />
			<column name="FINTYPE" type="varchar(8)"/>
			<column name="ACCOUNT" type="varchar(50)"/>
			<column name="HOSTACCOUNT" type="varchar(100)" />
			<column name="DESCRIPTION" type="varchar(100)" />
			<column name="OPENINGBAL" type="varchar(100)" />
			<column name="OPENINGBALTYPE" type="varchar(100)" />
			<column name="DEBITAMOUNT" type="varchar(100)" />
			<column name="CREDITAMOUNT" type="varchar(100)" />
			<column name="CLOSINGBAL" type="varchar(100)" />
			<column name="CLOSINGBALTYPE" type="varchar(100)" />
		</createTable>
	</changeSet>
	<changeSet id="103" author="Sriram">
	<sql>
		update data_engine_config set header = 
		'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{STATE,PARENT GROUP,PLF LEDGER,SAP GL,DESCRIPTION,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR}'
		where name = 'TRIAL_BALANCE_EXPORT_STATE';
		update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'TRIAL_BALANCE_EXPORT_STATE';
	 	update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE';
	  	update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'GL_TRANSACTION_EXPORT';
		update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'GL_TRANSACTION_SUMMARY_EXPORT';
		update data_engine_config set header = 'Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{PARENT GROUP,PLF LEDGER, SAP GL,DESCRIPTION,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR}' where 
		name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE';
        update data_engine_table set name = 'TBR_CONSOLIDATE_FILE_VIEW' where CONFIGID in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE');
	</sql>
	</changeSet>
	
	<changeSet id="104.1" author="Sriram">
	<sql>
	Delete From DATA_ENGINE_CONFIG where Name In ('TRIAL_BALANCE_EXPORT_STATE', 'TRIAL_BALANCE_EXPORT_CONSOLIDATE');
	
	Insert into DATA_ENGINE_CONFIG  values ((Select max(ID)+1 from DATA_ENGINE_CONFIG),'TRIAL_BALANCE_EXPORT_STATE', 'SAP GL Trail Balance Report',2,null,null,null,',',0,0, ' ','Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{STATE,PARENT GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}', ' ','A','/opt/PFF/SAPGL',	'${ENTITY_CODE}','.csv',0,CURRENT_TIMESTAMP,'${START_DATE},_${END_DATE},_${HEADER_ID}',null,'0','MOVE_TO_S3_BUCKET',1,1);
	Insert into DATA_ENGINE_CONFIG values ((Select max(ID)+1 from DATA_ENGINE_CONFIG),'TRIAL_BALANCE_EXPORT_CONSOLIDATE','Trial balance consolidate report',2,null,null,null,',',0,0, ' ','Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{PARENT GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}', ' ','A','/opt/PFF/SAPGL','${ENTITY_CODE}','.csv',0,CURRENT_TIMESTAMP,'${START_DATE}, _${END_DATE},_${HEADER_ID}',null,'0','MOVE_TO_S3_BUCKET',1,1);
	</sql>
	</changeSet>
	<changeSet id="104.2" author="Sriram">
	<sql>
	Delete from DATA_ENGINE_TABLE Where Id IN (select ID from data_engine_table where configid in (select id from data_engine_config where name In( 'TRIAL_BALANCE_EXPORT_STATE','TRIAL_BALANCE_EXPORT_CONSOLIDATE')));
	Insert into DATA_ENGINE_TABLE values ((Select max(Id) + 1 from DATA_ENGINE_TABLE),(select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE'),'TRIAL_BALANCE_CONSOLIDATE_VIEW',0,'HEADERID',null,'UPDATE TRIAL_BALANCE_HEADER SET FILENAME = :FILE_NAME WHERE ID = :ID AND DIMENSION = :DIMENSION',null,null,null,null,null,0,0,0);
	Insert into DATA_ENGINE_TABLE values ((Select max(Id) + 1 from DATA_ENGINE_TABLE),(select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE'),'TRIAL_BALANCE_REPORT_FILE_VIEW',0,'HEADERID',null,'UPDATE TRIAL_BALANCE_HEADER SET FILENAME = :FILE_NAME WHERE ID = :ID AND DIMENSION = :DIMENSION',null,null,null,null,null,0,0,0);	
	</sql>
	</changeSet>
	<changeSet id="104.3" author="Sriram">
		<sql>
		delete from data_engine_column where tableid in  (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE'));
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'ACTYPEGRPID',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'ACCOUNT',    	   0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'DESCRIPTION',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'HOSTACCOUNT',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'OPENINGBAL',     0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'OPENINGBALTYPE', 0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'DEBITAMOUNT',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'CREDITAMOUNT',   0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'CLOSINGBAL',     0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'CLOSINGBALTYPE', 0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE')),'FINTYPE',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN)
		</sql>
	</changeSet>
	<changeSet id="105" author="Sriram">
		<sql>
	    delete from data_engine_column where tableid in  (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE'));
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'STATE',          0,'N',null,null,null,null,'0',null,null,null,null,'0');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),   (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'ACTYPEGRPID',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),   (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'ACCOUNT',        0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),   (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'DESCRIPTION',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),   (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'HOSTACCOUNT',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'OPENINGBAL',     0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'OPENINGBALTYPE', 0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'DEBITAMOUNT',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'CREDITAMOUNT',   0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'CLOSINGBAL',     0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),	 (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'CLOSINGBALTYPE', 0,'N',null,null,null,null,'0',null,null,null,null,'O');
		Insert into data_engine_column  values ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),   (select id from data_engine_table where configid in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_STATE')),  'PRODUCTFLAG',    0,'N',null,null,null,null,'0',null,null,null,null,'O');
		UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN)
		</sql>
	</changeSet>
	<changeSet id="106" author="Sriram">
		<sql>
		update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'TRIAL_BALANCE_EXPORT_STATE';
	 	update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE';
	  	update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'GL_TRANSACTION_EXPORT';
		update data_engine_config set fileprefixname = '${ENTITY_CODE}' where name = 'GL_TRANSACTION_SUMMARY_EXPORT';
		update data_engine_config set header = <![CDATA['Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{STATE,PARENT GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}']]> where name = 'TRIAL_BALANCE_EXPORT_STATE';
		update data_engine_config set header = <![CDATA['Row:{, ${COMPANY_NAME}}Row:{, ${REPORT_NAME}}Row:{, ${TRANSACTION_DURATION}}Row:{Currency: ${CURRENCY}Row:{PARENT GROUP,PLF LEDGER,DESCRIPTION,SAP GL,OPENING BALANCE,CR/DR,DEBIT AMOUNT,CREDIT AMOUNT,CLOSING BALANCE,CR/DR,LOAN TYPE}']]> where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE';
		update data_Engine_table set name = 'TRIAL_BALANCE_CONSOLIDATE_VIEW' where  CONFIGID in (select id from data_engine_config where name = 'TRIAL_BALANCE_EXPORT_CONSOLIDATE');
 		update data_engine_config set filenameformat = null where name in ('GL_TRANSACTION_EXPORT','GL_TRANSACTION_SUMMARY_EXPORT');		
		</sql>
	</changeSet>
	<changeSet id="107.1" author="Sriram" dbms="oracle">
		<createView viewName="TRIAL_BALANCE_REPORT_FILE_VIEW" replaceIfExists="true">
		SELECT 	ID,COUNTRY,
		       	PROVINCE,
           		CPPROVINCENAME AS STATE,
		   		ACTYPEGRPID,
           		TBRF.ACCOUNT,
		   		TBRF.HOSTACCOUNT,
		   		DESCRIPTION,
		   		OPENINGBAL,
		   		OPENINGBALTYPE,
		   		DEBITAMOUNT,
		   		CREDITAMOUNT,
		   		CLOSINGBAL,
		   		CLOSINGBALTYPE,
		   		FINTYPE AS PRODUCTFLAG
		FROM 	TRIAL_BALANCE_REPORT_FILE TBRF LEFT JOIN
      			RMTCOUNTRYVSPROVINCE RMT ON RMT.CPPROVINCE = TBRF.PROVINCE
	  		order by  ID
		</createView>
	</changeSet>
	<changeSet id="107.2" author="Sriram" dbms="postgresql">
		<createView viewName="TRIAL_BALANCE_REPORT_FILE_VIEW" replaceIfExists="true">
		SELECT 	ID,COUNTRY,
		       	PROVINCE,
           		CPPROVINCENAME AS STATE,
		   		ACTYPEGRPID,
           		TBRF.ACCOUNT,
		   		TBRF.HOSTACCOUNT,
		   		DESCRIPTION,
		   		OPENINGBAL,
		   		OPENINGBALTYPE,
		   		DEBITAMOUNT,
		   		CREDITAMOUNT,
		   		CLOSINGBAL,
		   		CLOSINGBALTYPE,
		   		FINTYPE AS PRODUCTFLAG
		FROM 	TRIAL_BALANCE_REPORT_FILE TBRF LEFT JOIN
      			RMTCOUNTRYVSPROVINCE RMT ON RMT.CPPROVINCE = TBRF.PROVINCE
	  		order by  ID
		</createView>
	</changeSet>
	<changeSet id="107.3" author="Sriram" dbms="mssql">
		<createView viewName="TRIAL_BALANCE_REPORT_FILE_VIEW" replaceIfExists="true">
		SELECT 	ID,COUNTRY,
		       	PROVINCE,
           		CPPROVINCENAME AS STATE,
		   		ACTYPEGRPID,
           		TBRF.ACCOUNT,
		   		TBRF.HOSTACCOUNT,
		   		DESCRIPTION,
		   		OPENINGBAL,
		   		OPENINGBALTYPE,
		   		DEBITAMOUNT,
		   		CREDITAMOUNT,
		   		CLOSINGBAL,
		   		CLOSINGBALTYPE,
		   		FINTYPE AS PRODUCTFLAG
		FROM 	TRIAL_BALANCE_REPORT_FILE TBRF LEFT JOIN
      			RMTCOUNTRYVSPROVINCE RMT ON RMT.CPPROVINCE = TBRF.PROVINCE
		</createView>
	</changeSet>
	<changeSet id="108" author="Sriram">
		<createView viewName="TRIAL_BALANCE_REPORT_VIEW" replaceIfExists="true">
     	SELECT	HEADERID,
			  	COUNTRY,
			  	PROVINCE,
			  	ACTYPEGRPID,
			  	HOSTACCOUNT,
			  	DESCRIPTION,
			  	${add.schema}UDF_CONVERTCURRENCY(OPENINGBAL, TBH.CURRENCY, 'INR') OPENINGBAL,
			  	OPENINGBALTYPE,
			  	${add.schema}UDF_CONVERTCURRENCY(DEBITAMOUNT, TBH.CURRENCY, 'INR') DEBITAMOUNT,
			  	${add.schema}UDF_CONVERTCURRENCY(CREDITAMOUNT, TBH.CURRENCY, 'INR') CREDITAMOUNT,
			  	${add.schema}UDF_CONVERTCURRENCY(CLOSINGBAL, TBH.CURRENCY, 'INR') CLOSINGBAL,
			  	CLOSINGBALTYPE,
			  	ACCOUNT,
			  	FINTYPE
	 	FROM 	TRIAL_BALANCE_REPORT_LAST_RUN TBR INNER JOIN
			   	TRIAL_BALANCE_HEADER TBH ON TBH.ID = TBR.HEADERID
		</createView>	  
	</changeSet>
	<changeSet id="109.2" author="Sriram" dbms="oracle">
	<comment>Removed semicolon</comment>
		<createView viewName="TRIAL_BALANCE_CONSOLIDATE_VIEW" replaceIfExists="true">
		SELECT ID,
		   	   ACTYPEGRPID,
	           TBRF.ACCOUNT,
			   TBRF.HOSTACCOUNT,
			   DESCRIPTION,
			   OPENINGBAL,
			   OPENINGBALTYPE,
			   DEBITAMOUNT,
			   CREDITAMOUNT,
			   CLOSINGBAL,
			   CLOSINGBALTYPE,
			   FINTYPE
		FROM   TRIAL_BALANCE_REPORT_FILE TBRF LEFT JOIN
     		   RMTCOUNTRYVSPROVINCE RMT ON RMT.CPPROVINCE = TBRF.PROVINCE
	  	order by ID
		</createView>
	</changeSet>
	<changeSet id="109.3" author="Sriram" dbms="postgresql">
	<comment>Removed semicolon</comment>
		<createView viewName="TRIAL_BALANCE_CONSOLIDATE_VIEW" replaceIfExists="true">
		SELECT ID,
		   	   ACTYPEGRPID,
	           TBRF.ACCOUNT,
			   TBRF.HOSTACCOUNT,
			   DESCRIPTION,
			   OPENINGBAL,
			   OPENINGBALTYPE,
			   DEBITAMOUNT,
			   CREDITAMOUNT,
			   CLOSINGBAL,
			   CLOSINGBALTYPE,
			   FINTYPE
		FROM   TRIAL_BALANCE_REPORT_FILE TBRF LEFT JOIN
     		   RMTCOUNTRYVSPROVINCE RMT ON RMT.CPPROVINCE = TBRF.PROVINCE
	  	order by ID
		</createView>
	</changeSet>
	<changeSet id="109.4" author="Sriram" dbms="mssql">
	<comment>Removed semicolon</comment>
		<createView viewName="TRIAL_BALANCE_CONSOLIDATE_VIEW" replaceIfExists="true">
		SELECT ID,
		   	   ACTYPEGRPID,
	           TBRF.ACCOUNT,
			   TBRF.HOSTACCOUNT,
			   DESCRIPTION,
			   OPENINGBAL,
			   OPENINGBALTYPE,
			   DEBITAMOUNT,
			   CREDITAMOUNT,
			   CLOSINGBAL,
			   CLOSINGBALTYPE,
			   FINTYPE
		FROM   TRIAL_BALANCE_REPORT_FILE TBRF LEFT JOIN
     		   RMTCOUNTRYVSPROVINCE RMT ON RMT.CPPROVINCE = TBRF.PROVINCE
		</createView>
	</changeSet>
	<changeSet id="110" author="Sriram">
		<sql>
		delete from SMTPARAMETERS where SYSPARMCODE = 'PRFT_LOSS_GLCODE';
		Insert into SMTPARAMETERS values ('PRFT_LOSS_GLCODE','sum of closing balance of income  GLs  minus sum of closing balance of expenses GL','String',1,'PLACCT',50,0,null,null,'PROFIT And LOSS A/C',1,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="111" author="vijaykumar.l">
		<addColumn tableName="relationshipofficers">
	         <column name="grade"  type="varchar(35)"/>
		    <column name="mobileNO"  type="varchar(20)"/>
			<column name="dateOfJoin"  type="datetime"/>
		    <column name="genDesignation"  type="varchar(10)"/>
	    </addColumn>
	</changeSet>
   <changeSet id="112" author="vijaykumar.l">
		<addColumn tableName="relationshipofficers_temp">
	         <column name="grade"  type="varchar(35)"/>
		    <column name="mobileNO"  type="varchar(20)"/>
			<column name="dateOfJoin"  type="datetime"/>
		    <column name="genDesignation"  type="varchar(10)"/>
	    </addColumn>
	</changeSet>
	<changeSet id="113" author="vijaykumar.l">
	<createView viewName="relationshipofficers_view" replaceIfExists="true">
	 SELECT t1.rofficercode,
    t1.rofficerdesc,
    t1.rofficerdeptcode,
    t2.gendeptdesc AS lovdescrofficerdeptcodename,
    t1.rofficerisactive,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
	t1.gendesignation,
	t3.gendesgdesc,
	t1.grade,
	t1.mobileNO,
	t1.dateOfJoin
   FROM relationshipofficers_temp t1
     LEFT JOIN rmtgendepartments t2 ON t1.rofficerdeptcode = t2.gendepartment
	 LEFT JOIN RMTGenDesignations t3 ON t1.gendesignation = t3.gendesignation
UNION ALL
 SELECT t1.rofficercode,
    t1.rofficerdesc,
    t1.rofficerdeptcode,
    t2.gendeptdesc AS lovdescrofficerdeptcodename,
    t1.rofficerisactive,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
	t1.gendesignation,
	t3.gendesgdesc,
	t1.grade,
	t1.mobileNO,
	t1.dateOfJoin
   FROM relationshipofficers t1
     LEFT JOIN rmtgendepartments t2 ON t1.rofficerdeptcode = t2.gendepartment
	 LEFT JOIN RMTGenDesignations t3 ON t1.gendesignation = t3.gendesignation
  WHERE NOT (EXISTS ( SELECT 1
           FROM relationshipofficers_temp
          WHERE relationshipofficers_temp.rofficercode = t1.rofficercode))
	</createView>
	</changeSet>
	<changeSet id="114" author="vijaykumar.l">
	<createView viewName="relationshipofficers_aview" replaceIfExists="true">
	 SELECT t1.rofficercode,
    t1.rofficerdesc,
    t1.rofficerdeptcode,
    t2.gendeptdesc AS lovdescrofficerdeptcodename,
    t1.rofficerisactive,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
	t1.gendesignation,
	t3.gendesgdesc,
	t1.grade,
	t1.mobileNO,
	t1.dateOfJoin
   FROM relationshipofficers t1
     LEFT JOIN rmtgendepartments t2 ON t1.rofficerdeptcode = t2.gendepartment
	 LEFT JOIN RMTGenDesignations t3 ON t1.gendesignation = t3.gendesignation
	</createView>
	</changeSet>
	<changeSet id="115" author="vijaykumar.l">
	<sql>
	UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
	UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);	
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'RelationshipOfficerDialog_genDesignation','RelationshipOfficerDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;		
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'RelationshipOfficerDialog_grade','RelationshipOfficerDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'RelationshipOfficerDialog_dateOfJoin','RelationshipOfficerDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;		
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'RelationshipOfficerDialog_mobileNO','RelationshipOfficerDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='RELATIONSHIPOFFICER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='RelationshipOfficerDialog_genDesignation'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='RELATIONSHIPOFFICER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='RelationshipOfficerDialog_grade'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='RELATIONSHIPOFFICER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='RelationshipOfficerDialog_dateOfJoin'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='RELATIONSHIPOFFICER_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='RelationshipOfficerDialog_mobileNO'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);		
	UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
	UPDATE SEQSECGROUPRIGHTS SET SEQNO= (SELECT MAX(Grprightid) FROM SECGROUPRIGHTS);	
	</sql>
	</changeSet>
	<changeSet id="115.1" author="Sriram">
	<sql>
	Update data_engine_config Set FIELDNAMES = Null,TRAILER = Null, POSTEVENT = Null where name IN('TRIAL_BALANCE_EXPORT_CONSOLIDATE', 'TRIAL_BALANCE_EXPORT_STATE'); 
	</sql>
	</changeSet>
	<changeSet id="116" author="vijaykumar.l">
		<addColumn tableName="FinanceMain">
			<column name="employeeName" defaultValue="" type="VARCHAR(8)" />
		</addColumn>
		<addColumn tableName="FinanceMain_PA">
			<column name="employeeName" defaultValue="" type="VARCHAR(8)" />
		</addColumn>
		<addColumn tableName="FinanceMain_Temp">
			<column name="employeeName" defaultValue="" type="VARCHAR(8)" />
		</addColumn>
	</changeSet>
	
	<changeSet id="117" author="vijaykumar.l">
	<sql>
	UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM	SECRIGHTS);
	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT	MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
	
	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'FinanceMainDialog_employeeName','FinanceMainDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='LAP_SSO') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_employeeName'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO  SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='BFSD_ORIGINATION_MAKER'),(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_employeeName'), 1,	0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='CL_ORIGINATION_WRM'),(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_employeeName'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='CL_ORIGINATION_MAKER'),(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_employeeName'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='FIN_MAINTAINBASIC_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE	RIGHTNAME='FinanceMainDialog_employeeName'), 1,	0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE='OD_ODMAINTENANCE_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_employeeName'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM	SECRIGHTS);
	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT	MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
	</sql>
	</changeSet>
	
	<changeSet id="118.1" author="vijaykumar.l">
	<comment> added one employee name </comment>
		<createView viewName="financemain_view" replaceIfExists="true">
			SELECT t1.finreference,
		    t1.investmentref,
		    t1.numberofterms,
		    t1.grcperiodenddate,
		    t1.allowgrcperiod,
		    t1.gracebaserate,
		    t1.gracespecialrate,
		    t1.grcpftrate,
		    t1.grcpftfrq,
		    t1.nextgrcpftdate,
		    t1.allowgrcpftrvw,
		    t1.grcpftrvwfrq,
		    t1.nextgrcpftrvwdate,
		    t1.allowgrccpz,
		    t1.grccpzfrq,
		    t1.nextgrccpzdate,
		    t1.repaybaserate,
		    t1.repayspecialrate,
		    t1.repayprofitrate,
		    t1.repayfrq,
		    t1.nextrepaydate,
		    t1.repaypftfrq,
		    t1.nextrepaypftdate,
		    t1.allowrepayrvw,
		    t1.repayrvwfrq,
		    t1.nextrepayrvwdate,
		    t1.allowrepaycpz,
		    t1.repaycpzfrq,
		    t1.nextrepaycpzdate,
		    t1.maturitydate,
		    t1.cpzatgraceend,
		    t1.downpayment,
		    t1.graceflatamount,
		    t1.reqrepayamount,
		    t1.totalprofit,
		    t1.totalcpz,
		    t1.totalgrosspft,
		    t1.totalgrossgrcpft,
		    t1.totalgracepft,
		    t1.totalgracecpz,
		    t1.grcratebasis,
		    t1.repayratebasis,
		    t1.fintype,
		    t1.finremarks,
		    t1.finccy,
		    t1.schedulemethod,
		    t1.profitdaysbasis,
		    t1.reqmaturity,
		    t1.calterms,
		    t1.calmaturity,
		    t1.firstrepay,
		    t1.lastrepay,
		    t1.finstartdate,
		    t1.finamount,
		    t1.finamount + t1.feechargeamt - t1.downpayment AS lovdescfinancingamount,
		    t1.finrepaymentamount,
		    t1.custid,
		    t1.defferments,
		    t1.plandefercount,
		    t1.finbranch,
		    t1.finsourceid,
		    t1.alloweddefrpychange,
		    t1.availeddefrpychange,
		    t1.alloweddeffrqchange,
		    t1.availeddeffrqchange,
		    t1.recaltype,
		    t1.finassetvalue,
		    t1.disbaccountid,
		    t1.repayaccountid,
		    t1.finisactive,
		    t1.limitvalid,
		    t1.overridelimit,
		    t1.securitydeposit,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t7.fintypedesc AS lovdescfintypename,
		    t7.finmaxamount AS lovdescfinmaxamt,
		    t7.finminamount AS lovdescfinminamount,
		    t1.mindownpayperc,
		    t7.finisalwdifferment AS lovdescfinalwdeferment,
		    t7.finisdwpayrequired AS lovdescdwnpayreq,
		    t7.finmaxdifferment AS lovdescfinmaxdifferment,
		    t12.branchdesc AS lovdescfinbranchname,
		    t1.lastrepaydate,
		    t1.lastrepaypftdate,
		    t1.lastrepayrvwdate,
		    t1.lastrepaycpzdate,
		    t1.allowgrcrepay,
		    t1.grcschdmthd,
		    t1.grcmargin,
		    t1.repaymargin,
		    t1.fincurrassetvalue,
		    t1.fincommitmentref,
		    t1.finlimitref,
		    t1.depreciationfrq,
		    t1.fincontractdate,
		    t1.nextdepdate,
		    t1.lastdepdate,
		    t1.finaccount,
		    t1.fincustpftaccount,
		    t17.acrtilllbd AS lovdescaccruedtilllbd,
		    t7.finrvwrateapplfor,
		    t1.totalrepayamt,
		    t1.closingstatus,
		    t1.finapproveddate,
		    t1.feechargeamt,
		    t1.blacklisted,
		    t1.finrepaypftonfrq,
		    t1.anualizedpercrate,
		    t1.effectiverateofreturn,
		    t1.migratedfinance,
		    t1.schedulemaintained,
		    t1.scheduleregenerated,
		    t1.finpurpose,
		    t1.finstatus,
		    t1.finstsreason,
		    t1.initiateuser,
		    t1.bankname,
		    t1.iban,
		    t1.accounttype,
		    t1.ddareferenceno,
		    t7.finscheduleon AS lovdescfinscheduleon,
		    t1.custdsr,
		    t1.jointaccount,
		    t1.jointcustid,
		    t1.downpaybank,
		    t1.downpaysupl,
		    t1.downpayaccount,
		    t1.securitycollateral,
		    t1.approved,
		    t1.discrepancy,
		    t1.limitapproved,
		    t1.graceterms,
		    t7.findivision AS lovdescfindivision,
		    t1.rcdmaintainsts,
		    t1.finrepaymethod,
		    t1.grcprofitdaysbasis,
		    t1.stepfinance,
		    t1.steptype,
		    t1.steppolicy,
		    t1.alwmanualsteps,
		    t1.noofsteps,
		    t1.linkedfinref,
		    t1.nextuserid,
		    t1.priority,
		    t24.policydesc AS lovdescsteppolicyname,
		    t1.grcminrate,
		    t1.grcmaxrate,
		    t1.rpyminrate,
		    t1.rpymaxrate,
		    t1.deviationapproval,
		    t1.manualschedule,
		    t1.takeoverfinance,
		    t1.grcadvbaserate,
		    t1.grcadvmargin,
		    t1.grcadvpftrate,
		    t1.rpyadvbaserate,
		    t1.rpyadvmargin,
		    t1.rpyadvpftrate,
		    t1.supplementrent,
		    t1.increasedcost,
		    t1.rolloverfrq,
		    t1.nextrolloverdate,
		    t27.custstsdescription,
		    t1.shariastatus,
		    t1.initiatedate,
		    t1.finpreapprovedref,
		    t1.mmaid,
		    t1.accountsofficer,
		    t1.feeaccountid,
		    t1.fincancelac,
		    t28.dealername AS lovdescaccountsofficer,
		    t28.dealercity AS lovdescsourcecity,
		    t1.dsacode,
		    t30.rofficerdesc AS dsacodedesc,
		    t1.tdsapplicable,
		    t1.mandateid,
		    t1.droplinefrq,
		    t1.firstdroplinedate,
		    t1.pftservicingodlimit,
		    t1.insuranceamt,
		    t1.deductinsdisb,
		    t1.alwbpi,
		    t1.bpitreatment,
		    t1.planemihalw,
		    t1.planemihmethod,
		    t1.planemihmaxperyear,
		    t1.planemihmax,
		    t1.planemihlockperiod,
		    t1.planemicpz,
		    t1.calroundingmode,
		    t1.alwmultidisb,
		    t1.applicationno,
		    t1.referralid,
		    t33.rofficerdesc AS referraliddesc,
		    t1.dmacode,
		    t34.rofficerdesc AS dmacodedesc,
		    t1.salesdepartment,
		    t35.gendeptdesc AS salesdepartmentdesc,
		    t1.quickdisb,
		    t1.wifreference,
		    t1.unplanemihlockperiod,
		    t1.unplanemicpz,
		    t1.reagecpz,
		    t1.maxunplannedemi,
		    t1.maxreageholidays,
		    t1.availedunplanemi,
		    t1.availedreageh,
		    t1.bpiamount,
		    t1.deductfeedisb,
		    t1.rvwrateapplfor,
		    t1.schcalonrvw,
		    t1.pastduepftcalmthd,
		    t1.pastduepftmargin,
		    t1.droppingmethod,
		    t1.ratechganyday,
		    t1.promotioncode,
		    t1.restructureloan,
		    t1.oldfinreference,
		    t1.reagebucket,
		    t1.fincategory,
		    t1.productcategory,
		    t1.roundingtarget,
		    t36.entitycode AS lovdescentitycode,
			t1.eligibilitymethod,
			t1.employeeName,
	        t37.rofficerdesc AS employeeNameDesc
		   FROM financemain_temp t1
		     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
		     LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode
		     LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference
		     LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode
		     LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode
		     LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid
		     LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode
		     LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode
		     LEFT JOIN relationshipofficers t34 ON t1.dmacode = t34.rofficercode
		     LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment
		     LEFT JOIN smtdivisiondetail t36 ON t7.findivision = t36.divisioncode
		     LEFT JOIN relationshipofficers t37 ON t1.employeeName = t37.rofficercode
		UNION ALL
		 SELECT t1.finreference,
		    t1.investmentref,
		    t1.numberofterms,
		    t1.grcperiodenddate,
		    t1.allowgrcperiod,
		    t1.gracebaserate,
		    t1.gracespecialrate,
		    t1.grcpftrate,
		    t1.grcpftfrq,
		    t1.nextgrcpftdate,
		    t1.allowgrcpftrvw,
		    t1.grcpftrvwfrq,
		    t1.nextgrcpftrvwdate,
		    t1.allowgrccpz,
		    t1.grccpzfrq,
		    t1.nextgrccpzdate,
		    t1.repaybaserate,
		    t1.repayspecialrate,
		    t1.repayprofitrate,
		    t1.repayfrq,
		    t1.nextrepaydate,
		    t1.repaypftfrq,
		    t1.nextrepaypftdate,
		    t1.allowrepayrvw,
		    t1.repayrvwfrq,
		    t1.nextrepayrvwdate,
		    t1.allowrepaycpz,
		    t1.repaycpzfrq,
		    t1.nextrepaycpzdate,
		    t1.maturitydate,
		    t1.cpzatgraceend,
		    t1.downpayment,
		    t1.graceflatamount,
		    t1.reqrepayamount,
		    t1.totalprofit,
		    t1.totalcpz,
		    t1.totalgrosspft,
		    t1.totalgrossgrcpft,
		    t1.totalgracepft,
		    t1.totalgracecpz,
		    t1.grcratebasis,
		    t1.repayratebasis,
		    t1.fintype,
		    t1.finremarks,
		    t1.finccy,
		    t1.schedulemethod,
		    t1.profitdaysbasis,
		    t1.reqmaturity,
		    t1.calterms,
		    t1.calmaturity,
		    t1.firstrepay,
		    t1.lastrepay,
		    t1.finstartdate,
		    t1.finamount,
		    t1.finamount + t1.feechargeamt - t1.downpayment AS lovdescfinancingamount,
		    t1.finrepaymentamount,
		    t1.custid,
		    t1.defferments,
		    t1.plandefercount,
		    t1.finbranch,
		    t1.finsourceid,
		    t1.alloweddefrpychange,
		    t1.availeddefrpychange,
		    t1.alloweddeffrqchange,
		    t1.availeddeffrqchange,
		    t1.recaltype,
		    t1.finassetvalue,
		    t1.disbaccountid,
		    t1.repayaccountid,
		    t1.finisactive,
		    t1.limitvalid,
		    t1.overridelimit,
		    t1.securitydeposit,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t7.fintypedesc AS lovdescfintypename,
		    t7.finmaxamount AS lovdescfinmaxamt,
		    t7.finminamount AS lovdescfinminamount,
		    t1.mindownpayperc,
		    t7.finisalwdifferment AS lovdescfinalwdeferment,
		    t7.finisdwpayrequired AS lovdescdwnpayreq,
		    t7.finmaxdifferment AS lovdescfinmaxdifferment,
		    t12.branchdesc AS lovdescfinbranchname,
		    t1.lastrepaydate,
		    t1.lastrepaypftdate,
		    t1.lastrepayrvwdate,
		    t1.lastrepaycpzdate,
		    t1.allowgrcrepay,
		    t1.grcschdmthd,
		    t1.grcmargin,
		    t1.repaymargin,
		    t1.fincurrassetvalue,
		    t1.fincommitmentref,
		    t1.finlimitref,
		    t1.depreciationfrq,
		    t1.fincontractdate,
		    t1.nextdepdate,
		    t1.lastdepdate,
		    t1.finaccount,
		    t1.fincustpftaccount,
		    t17.acrtilllbd AS lovdescaccruedtilllbd,
		    t7.finrvwrateapplfor,
		    t1.totalrepayamt,
		    t1.closingstatus,
		    t1.finapproveddate,
		    t1.feechargeamt,
		    t1.blacklisted,
		    t1.finrepaypftonfrq,
		    t1.anualizedpercrate,
		    t1.effectiverateofreturn,
		    t1.migratedfinance,
		    t1.schedulemaintained,
		    t1.scheduleregenerated,
		    t1.finpurpose,
		    t1.finstatus,
		    t1.finstsreason,
		    t1.initiateuser,
		    t1.bankname,
		    t1.iban,
		    t1.accounttype,
		    t1.ddareferenceno,
		    t7.finscheduleon AS lovdescfinscheduleon,
		    t1.custdsr,
		    t1.jointaccount,
		    t1.jointcustid,
		    t1.downpaybank,
		    t1.downpaysupl,
		    t1.downpayaccount,
		    t1.securitycollateral,
		    t1.approved,
		    t1.discrepancy,
		    t1.limitapproved,
		    t1.graceterms,
		    t7.findivision AS lovdescfindivision,
		    t1.rcdmaintainsts,
		    t1.finrepaymethod,
		    t1.grcprofitdaysbasis,
		    t1.stepfinance,
		    t1.steptype,
		    t1.steppolicy,
		    t1.alwmanualsteps,
		    t1.noofsteps,
		    t1.linkedfinref,
		    t1.nextuserid,
		    t1.priority,
		    t24.policydesc AS lovdescsteppolicyname,
		    t1.grcminrate,
		    t1.grcmaxrate,
		    t1.rpyminrate,
		    t1.rpymaxrate,
		    t1.deviationapproval,
		    t1.manualschedule,
		    t1.takeoverfinance,
		    t1.grcadvbaserate,
		    t1.grcadvmargin,
		    t1.grcadvpftrate,
		    t1.rpyadvbaserate,
		    t1.rpyadvmargin,
		    t1.rpyadvpftrate,
		    t1.supplementrent,
		    t1.increasedcost,
		    t1.rolloverfrq,
		    t1.nextrolloverdate,
		    t27.custstsdescription,
		    t1.shariastatus,
		    t1.initiatedate,
		    t1.finpreapprovedref,
		    t1.mmaid,
		    t1.accountsofficer,
		    t1.feeaccountid,
		    t1.fincancelac,
		    t28.dealername AS lovdescaccountsofficer,
		    t28.dealercity AS lovdescsourcecity,
		    t1.dsacode,
		    t30.rofficerdesc AS dsacodedesc,
		    t1.tdsapplicable,
		    t1.mandateid,
		    t1.droplinefrq,
		    t1.firstdroplinedate,
		    t1.pftservicingodlimit,
		    t1.insuranceamt,
		    t1.deductinsdisb,
		    t1.alwbpi,
		    t1.bpitreatment,
		    t1.planemihalw,
		    t1.planemihmethod,
		    t1.planemihmaxperyear,
		    t1.planemihmax,
		    t1.planemihlockperiod,
		    t1.planemicpz,
		    t1.calroundingmode,
		    t1.alwmultidisb,
		    t1.applicationno,
		    t1.referralid,
		    t33.rofficerdesc AS referraliddesc,
		    t1.dmacode,
		    t34.rofficerdesc AS dmacodedesc,
		    t1.salesdepartment,
		    t35.gendeptdesc AS salesdepartmentdesc,
		    t1.quickdisb,
		    t1.wifreference,
		    t1.unplanemihlockperiod,
		    t1.unplanemicpz,
		    t1.reagecpz,
		    t1.maxunplannedemi,
		    t1.maxreageholidays,
		    t1.availedunplanemi,
		    t1.availedreageh,
		    t1.bpiamount,
		    t1.deductfeedisb,
		    t1.rvwrateapplfor,
		    t1.schcalonrvw,
		    t1.pastduepftcalmthd,
		    t1.pastduepftmargin,
		    t1.droppingmethod,
		    t1.ratechganyday,
		    t1.promotioncode,
		    t1.restructureloan,
		    t1.oldfinreference,
		    t1.reagebucket,
		    t1.fincategory,
		    t1.productcategory,
		    t1.roundingtarget,
		    t36.entitycode AS lovdescentitycode,
			t1.eligibilitymethod,
			t1.employeeName,
			t37.rofficerdesc AS employeeNameDesc
		   FROM financemain t1
		     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
		     LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode
		     LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference
		     LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode
		     LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode
		     LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid
		     LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode
		     LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode
		     LEFT JOIN relationshipofficers t34 ON t1.dmacode = t34.rofficercode
		     LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment
		     LEFT JOIN smtdivisiondetail t36 ON t7.findivision = t36.divisioncode
		     LEFT JOIN relationshipofficers t37 ON t1.employeeName = t37.rofficercode
		  WHERE NOT (EXISTS ( SELECT 1 AS expr1
		           FROM financemain_temp
		          WHERE financemain_temp.finreference = t1.finreference))
			</createView>
	</changeSet>
	<changeSet id="118.2" author="vijaykumar.l">
	<comment> added one employee name </comment>
		<createView viewName="financemain_tview" replaceIfExists="true">
			 	SELECT t1.finreference,
			    t1.investmentref,
			    t1.numberofterms,
			    t1.grcperiodenddate,
			    t1.allowgrcperiod,
			    t1.gracebaserate,
			    t1.gracespecialrate,
			    t1.grcpftrate,
			    t1.grcpftfrq,
			    t1.nextgrcpftdate,
			    t1.allowgrcpftrvw,
			    t1.grcpftrvwfrq,
			    t1.nextgrcpftrvwdate,
			    t1.allowgrccpz,
			    t1.grccpzfrq,
			    t1.nextgrccpzdate,
			    t1.repaybaserate,
			    t1.repayspecialrate,
			    t1.repayprofitrate,
			    t1.repayfrq,
			    t1.nextrepaydate,
			    t1.repaypftfrq,
			    t1.nextrepaypftdate,
			    t1.allowrepayrvw,
			    t1.repayrvwfrq,
			    t1.nextrepayrvwdate,
			    t1.allowrepaycpz,
			    t1.repaycpzfrq,
			    t1.nextrepaycpzdate,
			    t1.maturitydate,
			    t1.cpzatgraceend,
			    t1.downpayment,
			    t1.graceflatamount,
			    t1.reqrepayamount,
			    t1.totalprofit,
			    t1.totalcpz,
			    t1.totalgrosspft,
			    t1.totalgrossgrcpft,
			    t1.totalgracepft,
			    t1.totalgracecpz,
			    t1.grcratebasis,
			    t1.repayratebasis,
			    t1.fintype,
			    t1.finremarks,
			    t1.finccy,
			    t1.schedulemethod,
			    t1.profitdaysbasis,
			    t1.reqmaturity,
			    t1.calterms,
			    t1.calmaturity,
			    t1.firstrepay,
			    t1.lastrepay,
			    t1.finstartdate,
			    t1.finamount,
			    t1.finrepaymentamount,
			    t1.custid,
			    t1.defferments,
			    t1.plandefercount,
			    t1.finbranch,
			    t1.finsourceid,
			    t1.alloweddefrpychange,
			    t1.availeddefrpychange,
			    t1.alloweddeffrqchange,
			    t1.availeddeffrqchange,
			    t1.recaltype,
			    t1.finassetvalue,
			    t1.disbaccountid,
			    t1.repayaccountid,
			    t1.finisactive,
			    t1.limitvalid,
			    t1.overridelimit,
			    t1.securitydeposit,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t2.fintypedesc AS lovdescfintypename,
			    t2.finmaxamount AS lovdescfinmaxamt,
			    t2.finminamount AS lovdescfinminamount,
			    t1.mindownpayperc,
			    t4.branchdesc AS lovdescfinbranchname,
			    t1.lastrepaydate,
			    t1.lastrepaypftdate,
			    t1.lastrepayrvwdate,
			    t1.lastrepaycpzdate,
			    t1.allowgrcrepay,
			    t1.grcschdmthd,
			    t1.grcmargin,
			    t1.repaymargin,
			    t1.fincurrassetvalue,
			    t1.fincommitmentref,
			    t1.finlimitref,
			    t1.depreciationfrq,
			    t1.fincontractdate,
			    t1.nextdepdate,
			    t1.lastdepdate,
			    t1.finaccount,
			    t1.fincustpftaccount,
			    t1.totalrepayamt,
			    t1.finapproveddate,
			    t1.feechargeamt,
			    t1.blacklisted,
			    t1.finrepaypftonfrq,
			    t1.anualizedpercrate,
			    t1.effectiverateofreturn,
			    t1.migratedfinance,
			    t1.schedulemaintained,
			    t1.scheduleregenerated,
			    t1.finpurpose,
			    t1.finstatus,
			    t1.finstsreason,
			    t1.initiateuser,
			    t1.bankname,
			    t1.iban,
			    t1.accounttype,
			    t1.ddareferenceno,
			    t1.custdsr,
			    t1.jointaccount,
			    t1.jointcustid,
			    t1.downpaybank,
			    t1.downpaysupl,
			    t1.downpayaccount,
			    t1.securitycollateral,
			    t1.approved,
			    t1.discrepancy,
			    t1.limitapproved,
			    t1.graceterms,
			    t2.findivision AS lovdescfindivision,
			    t1.rcdmaintainsts,
			    t1.finrepaymethod,
			    t1.grcprofitdaysbasis,
			    t1.stepfinance,
			    t1.steptype,
			    t1.steppolicy,
			    t1.alwmanualsteps,
			    t1.noofsteps,
			    t1.linkedfinref,
			    t1.nextuserid,
			    t1.priority,
			    t5.policydesc AS lovdescsteppolicyname,
			    t1.grcminrate,
			    t1.grcmaxrate,
			    t1.rpyminrate,
			    t1.rpymaxrate,
			    t1.deviationapproval,
			    t1.manualschedule,
			    t1.takeoverfinance,
			    t1.grcadvbaserate,
			    t1.grcadvmargin,
			    t1.grcadvpftrate,
			    t1.rpyadvbaserate,
			    t1.rpyadvmargin,
			    t1.rpyadvpftrate,
			    t1.supplementrent,
			    t1.increasedcost,
			    t1.creditinsamt,
			    t1.rolloverfrq,
			    t1.nextrolloverdate,
			    t1.shariastatus,
			    t1.initiatedate,
			    t1.finpreapprovedref,
			    t1.mmaid,
			    t1.accountsofficer,
			    t1.feeaccountid,
			    t1.fincancelac,
			    t6.dealername AS lovdescaccountsofficer,
			    t6.dealercity AS lovdescsourcecity,
			    t1.dsacode,
			    t7.rofficerdesc AS dsacodedesc,
			    t1.tdsapplicable,
			    t1.mandateid,
			    t1.droplinefrq,
			    t1.firstdroplinedate,
			    t1.pftservicingodlimit,
			    t1.insuranceamt,
			    t1.deductinsdisb,
			    t1.alwbpi,
			    t1.bpitreatment,
			    t1.planemihalw,
			    t1.planemihmethod,
			    t1.planemihmaxperyear,
			    t1.planemihmax,
			    t1.planemihlockperiod,
			    t1.planemicpz,
			    t1.calroundingmode,
			    t1.alwmultidisb,
			    t1.applicationno,
			    t1.referralid,
			    t8.rofficerdesc AS referraliddesc,
			    t1.dmacode,
			    t9.rofficerdesc AS dmacodedesc,
			    t1.salesdepartment,
			    t10.gendeptdesc AS salesdepartmentdesc,
			    t1.quickdisb,
			    t1.wifreference,
			    t1.unplanemihlockperiod,
			    t1.unplanemicpz,
			    t1.reagecpz,
			    t1.maxunplannedemi,
			    t1.maxreageholidays,
			    t1.availedunplanemi,
			    t1.availedreageh,
			    t1.bpiamount,
			    t1.deductfeedisb,
			    t1.rvwrateapplfor,
			    t1.schcalonrvw,
			    t1.pastduepftcalmthd,
			    t1.pastduepftmargin,
			    t1.droppingmethod,
			    t1.ratechganyday,
			    t1.promotioncode,
			    t1.restructureloan,
			    t1.oldfinreference,
			    t1.reagebucket,
			    t1.fincategory,
			    t1.productcategory,
			    t1.roundingtarget,
			    t11.entitycode AS lovdescentitycode,
				t1.eligibilitymethod,
				t1.employeeName,
				t12.rofficerdesc AS employeeNameDesc
			   FROM financemain_temp t1
			     JOIN rmtfinancetypes t2 ON t1.fintype = t2.fintype
			     JOIN rmtbranches t4 ON t1.finbranch = t4.branchcode
			     LEFT JOIN steppolicyheader t5 ON t1.steppolicy = t5.policycode
			     LEFT JOIN amtvehicledealer t6 ON t1.accountsofficer = t6.dealerid
			     LEFT JOIN relationshipofficers t7 ON t1.dsacode = t7.rofficercode
			     LEFT JOIN relationshipofficers t8 ON t1.referralid = t8.rofficercode
			     LEFT JOIN relationshipofficers t9 ON t1.dmacode = t9.rofficercode
			     LEFT JOIN rmtgendepartments t10 ON t1.salesdepartment = t10.gendepartment
			     LEFT JOIN smtdivisiondetail t11 ON t2.findivision = t11.divisioncode
			     LEFT JOIN relationshipofficers t12 ON t1.employeeName = t12.rofficercode
		</createView>
	</changeSet>
<changeSet id="118.3" author="vijaykumar.l">
<comment> added one employee name </comment>
		<createView viewName="financemain_aview" replaceIfExists="true">
			SELECT t1.finreference,
		    t1.numberofterms,
		    t1.grcperiodenddate,
		    t1.allowgrcperiod,
		    t1.gracebaserate,
		    t1.gracespecialrate,
		    t1.grcpftrate,
		    t1.grcpftfrq,
		    t1.nextgrcpftdate,
		    t1.allowgrcpftrvw,
		    t1.grcpftrvwfrq,
		    t1.nextgrcpftrvwdate,
		    t1.allowgrccpz,
		    t1.grccpzfrq,
		    t1.nextgrccpzdate,
		    t1.repaybaserate,
		    t1.repayspecialrate,
		    t1.repayprofitrate,
		    t1.repayfrq,
		    t1.nextrepaydate,
		    t1.repaypftfrq,
		    t1.nextrepaypftdate,
		    t1.allowrepayrvw,
		    t1.repayrvwfrq,
		    t1.nextrepayrvwdate,
		    t1.allowrepaycpz,
		    t1.repaycpzfrq,
		    t1.nextrepaycpzdate,
		    t1.maturitydate,
		    t1.cpzatgraceend,
		    t1.downpayment,
		    t1.graceflatamount,
		    t1.reqrepayamount,
		    t1.totalprofit,
		    t1.totalcpz,
		    t1.totalgrosspft,
		    t1.totalgrossgrcpft,
		    t1.totalgracepft,
		    t1.totalgracecpz,
		    t1.grcratebasis,
		    t1.repayratebasis,
		    t1.fintype,
		    t1.finremarks,
		    t1.finccy,
		    t1.schedulemethod,
		    t1.profitdaysbasis,
		    t1.reqmaturity,
		    t1.calterms,
		    t1.calmaturity,
		    t1.firstrepay,
		    t1.lastrepay,
		    t1.finstartdate,
		    t1.finamount,
		    t1.finamount + t1.feechargeamt - t1.downpayment AS lovdescfinancingamount,
		    t1.finrepaymentamount,
		    t1.custid,
		    t1.defferments,
		    t1.plandefercount,
		    t1.finbranch,
		    t1.finsourceid,
		    t1.alloweddefrpychange,
		    t1.availeddefrpychange,
		    t1.alloweddeffrqchange,
		    t1.availeddeffrqchange,
		    t1.recaltype,
		    t1.finassetvalue,
		    t1.disbaccountid,
		    t1.repayaccountid,
		    t1.finisactive,
		    t1.limitvalid,
		    t1.overridelimit,
		    t1.securitydeposit,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t7.fintypedesc AS lovdescfintypename,
		    t7.finmaxamount AS lovdescfinmaxamt,
		    t7.finminamount AS lovdescfinminamount,
		    t1.mindownpayperc,
		    t7.finisalwdifferment AS lovdescfinalwdeferment,
		    t7.finisdwpayrequired AS lovdescdwnpayreq,
		    t7.finmaxdifferment AS lovdescfinmaxdifferment,
		    t12.branchdesc AS lovdescfinbranchname,
		    t1.lastrepaydate,
		    t1.lastrepaypftdate,
		    t1.lastrepayrvwdate,
		    t1.lastrepaycpzdate,
		    t1.allowgrcrepay,
		    t1.grcschdmthd,
		    t1.grcmargin,
		    t1.repaymargin,
		    t1.fincurrassetvalue,
		    t1.fincommitmentref,
		    t1.finlimitref,
		    t1.depreciationfrq,
		    t1.fincontractdate,
		    t1.nextdepdate,
		    t1.lastdepdate,
		    t1.finaccount,
		    t1.fincustpftaccount,
		    t17.acrtilllbd AS lovdescaccruedtilllbd,
		    t7.finrvwrateapplfor,
		    t1.totalrepayamt,
		    t1.closingstatus,
		    t1.finapproveddate,
		    t1.feechargeamt,
		    t1.blacklisted,
		    t1.finrepaypftonfrq,
		    t1.anualizedpercrate,
		    t1.effectiverateofreturn,
		    t1.migratedfinance,
		    t1.schedulemaintained,
		    t1.scheduleregenerated,
		    t1.finpurpose,
		    t1.finstatus,
		    t1.finstsreason,
		    t1.initiateuser,
		    t1.bankname,
		    t1.iban,
		    t1.accounttype,
		    t1.ddareferenceno,
		    t7.finscheduleon AS lovdescfinscheduleon,
		    t1.custdsr,
		    t1.jointaccount,
		    t1.jointcustid,
		    t1.downpaybank,
		    t1.downpaysupl,
		    t1.downpayaccount,
		    t1.securitycollateral,
		    t1.approved,
		    t1.discrepancy,
		    t1.limitapproved,
		    t1.investmentref,
		    t1.graceterms,
		    t7.findivision AS lovdescfindivision,
		    t1.rcdmaintainsts,
		    t1.finrepaymethod,
		    t1.grcprofitdaysbasis,
		    t1.stepfinance,
		    t1.steptype,
		    t1.steppolicy,
		    t1.alwmanualsteps,
		    t1.noofsteps,
		    t1.linkedfinref,
		    t1.nextuserid,
		    t1.priority,
		    t24.policydesc AS lovdescsteppolicyname,
		    t1.grcminrate,
		    t1.grcmaxrate,
		    t1.rpyminrate,
		    t1.rpymaxrate,
		    t1.deviationapproval,
		    t1.manualschedule,
		    t1.takeoverfinance,
		    t1.grcadvbaserate,
		    t1.grcadvmargin,
		    t1.grcadvpftrate,
		    t1.rpyadvbaserate,
		    t1.rpyadvmargin,
		    t1.rpyadvpftrate,
		    t1.supplementrent,
		    t1.increasedcost,
		    t1.rolloverfrq,
		    t1.nextrolloverdate,
		    t27.custstsdescription,
		    t1.shariastatus,
		    t1.initiatedate,
		    t1.finpreapprovedref,
		    t1.mmaid,
		    t1.accountsofficer,
		    t1.feeaccountid,
		    t1.fincancelac,
		    t28.dealername AS lovdescaccountsofficer,
		    t28.dealercity AS lovdescsourcecity,
		    t29.agreename,
		    t29.mmareference AS lovdescmmareference,
		    t1.dsacode,
		    t30.rofficerdesc AS dsacodedesc,
		    t1.tdsapplicable,
		    t1.mandateid,
		    t1.droplinefrq,
		    t1.firstdroplinedate,
		    t1.pftservicingodlimit,
		    t1.insuranceamt,
		    t1.deductinsdisb,
		    t1.alwbpi,
		    t1.bpitreatment,
		    t1.planemihalw,
		    t1.planemihmethod,
		    t1.planemihmaxperyear,
		    t1.planemihmax,
		    t1.planemihlockperiod,
		    t1.planemicpz,
		    t1.calroundingmode,
		    t1.alwmultidisb,
		    t1.applicationno,
		    t1.referralid,
		    t33.rofficerdesc AS referraliddesc,
		    t1.dmacode,
		    t34.rofficerdesc AS dmacodedesc,
		    t1.salesdepartment,
		    t35.gendeptdesc AS salesdepartmentdesc,
		    t1.quickdisb,
		    t1.wifreference,
		    t1.unplanemihlockperiod,
		    t1.unplanemicpz,
		    t1.reagecpz,
		    t1.maxunplannedemi,
		    t1.maxreageholidays,
		    t1.availedunplanemi,
		    t1.availedreageh,
		    t1.bpiamount,
		    t1.deductfeedisb,
		    t1.rvwrateapplfor,
		    t1.schcalonrvw,
		    t1.pastduepftcalmthd,
		    t1.pastduepftmargin,
		    t1.droppingmethod,
		    t1.ratechganyday,
		    t1.promotioncode,
		    t1.restructureloan,
		    t1.oldfinreference,
		    t1.reagebucket,
		    t1.fincategory,
		    t1.productcategory,
		    t1.roundingtarget,
		    t36.entitycode AS lovdescentitycode,
			t1.eligibilitymethod,
			t1.employeeName,
			t37.rofficerdesc AS employeeNameDesc
		   FROM financemain t1
		     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
		     LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode
		     LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference
		     LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode
		     LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode
		     LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid
		     LEFT JOIN mmagreements t29 ON t1.mmaid = t29.mmaid
		     LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode
		     LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode
		     LEFT JOIN relationshipofficers t34 ON t1.dmacode = t34.rofficercode
		     LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment
		     LEFT JOIN smtdivisiondetail t36 ON t7.findivision = t36.divisioncode
		     LEFT JOIN relationshipofficers t37 ON t1.employeeName = t37.rofficercode
		</createView>
	</changeSet>
 <changeSet id="122" author="vijaykumar.l">
	<addColumn tableName="FINSTAGEACCOUNTINGLOG">
		<column name="ReceiptNo" type="Varchar(16)"/>
	</addColumn>
 </changeSet>
 
 <changeSet id="123.1" author="vijaykumar.l">
 	<sql>
 		Update amtvehicledealer set code =dealerid where dealertype !='DSA';
 	</sql>
 </changeSet>
 
  <changeSet id="124" author="Vinay">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='GSTDETAILS';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">GSTDETAILS</column>
			<column name="WorkFlowSubType">II Level Master Process</column>
			<column name="WorkFlowDesc">Maker/Checker Master WorkFlow</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">GSTDETAILS_MAKER;GSTDETAILS_APPROVER</column>
			<column name="FirstTaskOwner">GSTDETAILS_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="125" author="Vinay">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":792,"properties":{"process_id":"GSTDETAILS","name":"GST DETAILS","documentation":"MakerChecker Master WorkFlow","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"GSTDETAILS_MAKER","firstName":"GSTDETAILS_MAKER","fullName":"GSTDETAILS_MAKER","id":"GSTDETAILS_MAKER","roledesc":"Workflow Maker","$$hashKey":"object:575"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"GSTDETAILS_APPROVER","firstName":"GSTDETAILS_APPROVER","fullName":"GSTDETAILS_APPROVER","id":"GSTDETAILS_APPROVER","roledesc":"Workflow Approver","$$hashKey":"object:965"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.44921875,"y":178},"upperLeft":{"x":275.55078125,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":225,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":225,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.37109375,"y":329},"upperLeft":{"x":225,"y":218.51953125}},"dockers":[{"x":50,"y":40},{"x":225,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="GSTDETAILS" name="II Level Master Process" isExecutable="true"><documentation>MakerChecker Master WorkFlow</documentation><startEvent id="startEvent1" name="Start" /><userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="GSTDETAILS_MAKER" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" /><userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="GSTDETAILS_APPROVER" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" /><sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" /><sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved" /><sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" /><serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" /><sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow><endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected" /><sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" /></process><bpmndi:BPMNDiagram id="BPMNDiagram_GSTDETAILS"><bpmndi:BPMNPlane bpmnElement="GSTDETAILS" id="BPMNPlane_GSTDETAILS"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"><omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"><omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"><omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429"><omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B"><omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"><omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"><omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"><omgdi:waypoint x="275.0" y="178.0" /><omgdi:waypoint x="390.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247"><omgdi:waypoint x="760.0" y="178.0" /><omgdi:waypoint x="805.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736"><omgdi:waypoint x="574.5616883116883" y="178.4383116883117" /><omgdi:waypoint x="660.0" y="178.16181229773463" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"><omgdi:waypoint x="555.5" y="158.5" /><omgdi:waypoint x="555.5" y="76.0" /><omgdi:waypoint x="225.0" y="76.0" /><omgdi:waypoint x="225.0" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"><omgdi:waypoint x="130.0" y="178.0" /><omgdi:waypoint x="175.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035"><omgdi:waypoint x="225.0" y="218.0" /><omgdi:waypoint x="225.0" y="329.0" /><omgdi:waypoint x="505.0" y="329.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"><omgdi:waypoint x="555.4366666666667" y="197.56333333333333" /><omgdi:waypoint x="555.1328903654485" y="289.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"><omgdi:waypoint x="605.0" y="329.0" /><omgdi:waypoint x="650.0" y="329.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"><omgdi:waypoint x="490.0" y="178.2164502164502" /><omgdi:waypoint x="535.4130434782609" y="178.41304347826087" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='GSTDETAILS'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="126" author="Vinay">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>
	
	<changeSet id="127" author="Vinay">
		<createView viewName="querydetail_view" replaceIfExists="true">
			SELECT t1.finreference,
			    t1.id,
			    s1.usrlogin,
			    t1.raisedon,
			    b1.description,
			    t1.qrynotes,
			    t1.status,
			    t1.raisedby,
			    b1.code AS categorycode,
			    b1.description AS categorydescription,
			    t1.categoryid,
			    t1.assignedrole,
			    t1.notifyto,
			    t1.responsnotes,
			    t1.responseby,
			    s2.usrlogin AS responseuser,
			    t1.responseon,
			    t1.closernotes,
			    t1.closerby,
			    s3.usrlogin AS closeruser,
			    t1.closeron,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid
			   FROM querydetail t1
			     JOIN bmtquerycategories b1 ON t1.categoryid = b1.id
			     JOIN secusers s1 ON t1.raisedby = s1.usrid
			     LEFT JOIN secusers s2 ON t1.responseby = s2.usrid
			     LEFT JOIN secusers s3 ON t1.closerby = s3.usrid
		</createView>
	</changeSet>
	
	<changeSet id="128" author="Vinay">
		<modifyDataType tableName="querydetail" columnName="closernotes" newDataType="VARCHAR(2000)"/>
	</changeSet>
	
	<changeSet id="129" author="Vinay">
		<dropTable tableName="SeqQUERYDETAIL"/>
	</changeSet>
	
	<changeSet id="130" author="Vinay">
		<createSequence sequenceName="SeqQUERYDETAIL" startValue="1" incrementBy="1"/>
	</changeSet>
	
	<changeSet id="131" author="Vinay">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_FinanceManagement_FinanceTaxDetailUpload','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_VIEW') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_FinanceTaxDetailUpload'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_FinanceTaxDetailUpload'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FINANCETAXDETAIL_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_FinanceTaxDetailUpload'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='LAP_SSO') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_FinanceTaxDetailUpload'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);

			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		</sql>
	</changeSet>
	
	<changeSet id="132" author="Vinay">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='FEETYPE';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">FEETYPE</column>
			<column name="WorkFlowSubType">FEETYPE</column>
			<column name="WorkFlowDesc">FEETYPE</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">MSTGRP1_MAKER;MSTGRP1_APPROVER</column>
			<column name="FirstTaskOwner">MSTGRP1_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="133" author="Vinay">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":792,"properties":{"process_id":"MSTGRP1","name":"II Level Master Process","documentation":"MakerChecker Master WorkFlow","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"MSTGRP1_MAKER","firstName":"MSTGRP1_MAKER","fullName":"MSTGRP1_MAKER","id":"MSTGRP1_MAKER","roledesc":"Workflow Maker","$$hashKey":"object:575"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"MSTGRP1_APPROVER","firstName":"MSTGRP1_APPROVER","fullName":"MSTGRP1_APPROVER","id":"MSTGRP1_APPROVER","roledesc":"Workflow Approver","$$hashKey":"object:965"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.44921875,"y":178},"upperLeft":{"x":275.55078125,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":225,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":225,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.37109375,"y":329},"upperLeft":{"x":225,"y":218.51953125}},"dockers":[{"x":50,"y":40},{"x":225,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test"><process id="MSTGRP1" name="II Level Master Process" isExecutable="true"><documentation>MakerChecker Master WorkFlow</documentation><startEvent id="startEvent1" name="Start" /><userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="MSTGRP1_MAKER" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" /><userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="MSTGRP1_APPROVER" activiti:assignmentLevel="Role Queue" /><sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression></sequenceFlow><exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" /><sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" /><sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression></sequenceFlow><serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" /><sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression></sequenceFlow><endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved" /><sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" /><serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" /><sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression></sequenceFlow><sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true"><conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression></sequenceFlow><endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected" /><sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" /></process><bpmndi:BPMNDiagram id="BPMNDiagram_MSTGRP1"><bpmndi:BPMNPlane bpmnElement="MSTGRP1" id="BPMNPlane_MSTGRP1"><bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1"><omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"><omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"><omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"><omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429"><omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B"><omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"><omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"><omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"><omgdi:waypoint x="275.0" y="178.0" /><omgdi:waypoint x="390.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247"><omgdi:waypoint x="760.0" y="178.0" /><omgdi:waypoint x="805.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736"><omgdi:waypoint x="574.5616883116883" y="178.4383116883117" /><omgdi:waypoint x="660.0" y="178.16181229773463" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"><omgdi:waypoint x="555.5" y="158.5" /><omgdi:waypoint x="555.5" y="76.0" /><omgdi:waypoint x="225.0" y="76.0" /><omgdi:waypoint x="225.0" y="138.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"><omgdi:waypoint x="130.0" y="178.0" /><omgdi:waypoint x="175.0" y="178.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035"><omgdi:waypoint x="225.0" y="218.0" /><omgdi:waypoint x="225.0" y="329.0" /><omgdi:waypoint x="505.0" y="329.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"><omgdi:waypoint x="555.4366666666667" y="197.56333333333333" /><omgdi:waypoint x="555.1328903654485" y="289.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"><omgdi:waypoint x="605.0" y="329.0" /><omgdi:waypoint x="650.0" y="329.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"><omgdi:waypoint x="490.0" y="178.2164502164502" /><omgdi:waypoint x="535.4130434782609" y="178.41304347826087" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></definitions>]]></column>
			<where>workflowtype='FEETYPE'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="134" author="Vinay">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>
	
	<changeSet id="135" author="Vinay">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='COSTCENTERS';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">COSTCENTERS</column>
			<column name="WorkFlowSubType">COSTCENTERS</column>
			<column name="WorkFlowDesc">COSTCENTERS</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">COSTCENTERS_MAKER;COSTCENTERS_APPROVER</column>
			<column name="FirstTaskOwner">COSTCENTERS_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="136" author="Vinay">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":912,"properties":{"process_id":"COSTCENTERS","name":"COST CENTERS","documentation":"COST CENTERS","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"COSTCENTERS_MAKER","firstName":"COSTCENTERS_MAKER","fullName":"COSTCENTERS_MAKER","id":"COSTCENTERS_MAKER","roledesc":"COSTCENTERS_MAKER","$$hashKey":"object:1291"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"COSTCENTERS_APPROVER","firstName":"COSTCENTERS_APPROVER","fullName":"COSTCENTERS_APPROVER","id":"COSTCENTERS_APPROVER","roledesc":"COSTCENTERS_APPROVER","$$hashKey":"object:2340"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.44921875,"y":178},"upperLeft":{"x":275.55078125,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":225,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":225,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","rerunnable":"true","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","rerunnable":"true","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.37109375,"y":329},"upperLeft":{"x":225,"y":218.51953125}},"dockers":[{"x":50,"y":40},{"x":225,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
  <process id="COSTCENTERS" name="COST CENTERS" isExecutable="true">
    <documentation>COST CENTERS</documentation>
    <startEvent id="startEvent1" name="Start"/>
    <userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="COSTCENTERS_MAKER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="COSTCENTERS_APPROVER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"/>
    <sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
    </sequenceFlow>
    <serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved"/>
    <sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected"/>
    <sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_COSTCENTERS">
    <bpmndi:BPMNPlane bpmnElement="COSTCENTERS" id="BPMNPlane_COSTCENTERS">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897">
        <omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08">
        <omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01">
        <omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429">
        <omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B">
        <omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB">
        <omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA">
        <omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247">
        <omgdi:waypoint x="760.0" y="178.0"/>
        <omgdi:waypoint x="805.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035">
        <omgdi:waypoint x="225.0" y="218.0"/>
        <omgdi:waypoint x="225.0" y="329.0"/>
        <omgdi:waypoint x="505.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736">
        <omgdi:waypoint x="574.5616883116883" y="178.4383116883117"/>
        <omgdi:waypoint x="660.0" y="178.16181229773463"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22">
        <omgdi:waypoint x="490.0" y="178.2164502164502"/>
        <omgdi:waypoint x="535.4130434782609" y="178.41304347826087"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B">
        <omgdi:waypoint x="605.0" y="329.0"/>
        <omgdi:waypoint x="650.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1">
        <omgdi:waypoint x="130.0" y="178.0"/>
        <omgdi:waypoint x="175.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE">
        <omgdi:waypoint x="555.4366666666667" y="197.56333333333333"/>
        <omgdi:waypoint x="555.1328903654485" y="289.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3">
        <omgdi:waypoint x="275.0" y="178.0"/>
        <omgdi:waypoint x="390.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D">
        <omgdi:waypoint x="555.5" y="158.5"/>
        <omgdi:waypoint x="555.5" y="76.0"/>
        <omgdi:waypoint x="225.0" y="76.0"/>
        <omgdi:waypoint x="225.0" y="138.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>]]></column>
			<where>workflowtype='COSTCENTERS'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="137" author="Vinay">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>
	
	<changeSet id="138" author="Vinay">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='PROFITCENTERS';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">PROFITCENTERS</column>
			<column name="WorkFlowSubType">PROFIT CENTERS</column>
			<column name="WorkFlowDesc">PROFIT CENTERS</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">PROFITCENTERS_MAKER;PROFITCENTERS_APPROVER</column>
			<column name="FirstTaskOwner">PROFITCENTERS_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="139" author="Vinay">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":913,"properties":{"process_id":"PROFITCENTERS","name":"PROFIT CENTERS","documentation":"PROFIT CENTERS","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"PROFITCENTERS_MAKER","firstName":"PROFITCENTERS_MAKER","fullName":"PROFITCENTERS_MAKER","id":"PROFITCENTERS_MAKER","roledesc":"PROFITCENTERS_MAKER","$$hashKey":"object:1589"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"PROFITCENTERS_APPROVER","firstName":"PROFITCENTERS_APPROVER","fullName":"PROFITCENTERS_APPROVER","id":"PROFITCENTERS_APPROVER","roledesc":"PROFITCENTERS_APPROVER","$$hashKey":"object:3654"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.44921875,"y":178},"upperLeft":{"x":275.55078125,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":225,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":225,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","rerunnable":"true","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","rerunnable":"true","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.37109375,"y":329},"upperLeft":{"x":225,"y":218.51953125}},"dockers":[{"x":50,"y":40},{"x":225,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
  <process id="PROFITCENTERS" name="PROFIT CENTERS" isExecutable="true">
    <documentation>PROFIT CENTERS</documentation>
    <startEvent id="startEvent1" name="Start"/>
    <userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="PROFITCENTERS_MAKER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="PROFITCENTERS_APPROVER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"/>
    <sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
    </sequenceFlow>
    <serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved"/>
    <sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected"/>
    <sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_PROFITCENTERS">
    <bpmndi:BPMNPlane bpmnElement="PROFITCENTERS" id="BPMNPlane_PROFITCENTERS">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897">
        <omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08">
        <omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01">
        <omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429">
        <omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B">
        <omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB">
        <omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA">
        <omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247">
        <omgdi:waypoint x="760.0" y="178.0"/>
        <omgdi:waypoint x="805.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035">
        <omgdi:waypoint x="225.0" y="218.0"/>
        <omgdi:waypoint x="225.0" y="329.0"/>
        <omgdi:waypoint x="505.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736">
        <omgdi:waypoint x="574.5616883116883" y="178.4383116883117"/>
        <omgdi:waypoint x="660.0" y="178.16181229773463"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22">
        <omgdi:waypoint x="490.0" y="178.2164502164502"/>
        <omgdi:waypoint x="535.4130434782609" y="178.41304347826087"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B">
        <omgdi:waypoint x="605.0" y="329.0"/>
        <omgdi:waypoint x="650.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1">
        <omgdi:waypoint x="130.0" y="178.0"/>
        <omgdi:waypoint x="175.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE">
        <omgdi:waypoint x="555.4366666666667" y="197.56333333333333"/>
        <omgdi:waypoint x="555.1328903654485" y="289.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3">
        <omgdi:waypoint x="275.0" y="178.0"/>
        <omgdi:waypoint x="390.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D">
        <omgdi:waypoint x="555.5" y="158.5"/>
        <omgdi:waypoint x="555.5" y="76.0"/>
        <omgdi:waypoint x="225.0" y="76.0"/>
        <omgdi:waypoint x="225.0" y="138.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>]]></column>
			<where>workflowtype='PROFITCENTERS'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="140" author="Vinay">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>
	
	<changeSet id="141" author="Vinay">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='TRANSACTIONCODES';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">TRANSACTIONCODES</column>
			<column name="WorkFlowSubType">TRANSACTION CODES</column>
			<column name="WorkFlowDesc">TRANSACTION CODES</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">TRANSACTIONCODES_MAKER;TRANSACTIONCODES_APPROVER</column>
			<column name="FirstTaskOwner">TRANSACTIONCODES_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="142" author="Vinay">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":914,"properties":{"process_id":"TRANSACTIONCODES","name":"TRANSACTION CODES","documentation":"TRANSACTION CODES","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"TRANSACTIONCODES_MAKER","firstName":"TRANSACTIONCODES_MAKER","fullName":"TRANSACTIONCODES_MAKER","id":"TRANSACTIONCODES_MAKER","roledesc":"TRANSACTIONCODES_MAKER","$$hashKey":"object:1229"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"TRANSACTIONCODES_APPROVER","firstName":"TRANSACTIONCODES_APPROVER","fullName":"TRANSACTIONCODES_APPROVER","id":"TRANSACTIONCODES_APPROVER","roledesc":"TRANSACTIONCODES_APPROVER","$$hashKey":"object:2278"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.44921875,"y":178},"upperLeft":{"x":275.55078125,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":225,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":225,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","rerunnable":"true","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","rerunnable":"true","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.37109375,"y":329},"upperLeft":{"x":225,"y":218.51953125}},"dockers":[{"x":50,"y":40},{"x":225,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
  <process id="TRANSACTIONCODES" name="TRANSACTION CODES" isExecutable="true">
    <documentation>TRANSACTION CODES</documentation>
    <startEvent id="startEvent1" name="Start"/>
    <userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="TRANSACTIONCODES_MAKER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="TRANSACTIONCODES_APPROVER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"/>
    <sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
    </sequenceFlow>
    <serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved"/>
    <sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected"/>
    <sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_TRANSACTIONCODES">
    <bpmndi:BPMNPlane bpmnElement="TRANSACTIONCODES" id="BPMNPlane_TRANSACTIONCODES">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897">
        <omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08">
        <omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01">
        <omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429">
        <omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B">
        <omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB">
        <omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA">
        <omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247">
        <omgdi:waypoint x="760.0" y="178.0"/>
        <omgdi:waypoint x="805.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035">
        <omgdi:waypoint x="225.0" y="218.0"/>
        <omgdi:waypoint x="225.0" y="329.0"/>
        <omgdi:waypoint x="505.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736">
        <omgdi:waypoint x="574.5616883116883" y="178.4383116883117"/>
        <omgdi:waypoint x="660.0" y="178.16181229773463"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22">
        <omgdi:waypoint x="490.0" y="178.2164502164502"/>
        <omgdi:waypoint x="535.4130434782609" y="178.41304347826087"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B">
        <omgdi:waypoint x="605.0" y="329.0"/>
        <omgdi:waypoint x="650.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1">
        <omgdi:waypoint x="130.0" y="178.0"/>
        <omgdi:waypoint x="175.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE">
        <omgdi:waypoint x="555.4366666666667" y="197.56333333333333"/>
        <omgdi:waypoint x="555.1328903654485" y="289.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3">
        <omgdi:waypoint x="275.0" y="178.0"/>
        <omgdi:waypoint x="390.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D">
        <omgdi:waypoint x="555.5" y="158.5"/>
        <omgdi:waypoint x="555.5" y="76.0"/>
        <omgdi:waypoint x="225.0" y="76.0"/>
        <omgdi:waypoint x="225.0" y="138.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>]]></column>
			<where>workflowtype='TRANSACTIONCODES'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="143" author="Vinay">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>
	
	<changeSet id="144" author="Vinay">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='ACNTYPEGRPS';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">ACNTYPEGRPS</column>
			<column name="WorkFlowSubType">ACNTYPEGRPS</column>
			<column name="WorkFlowDesc">ACNTYPEGRPS</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">ACNTYPEGRPS_MAKER;ACNTYPEGRPS_APPROVER</column>
			<column name="FirstTaskOwner">ACNTYPEGRPS_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="145" author="Vinay">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":916,"properties":{"process_id":"ACNTYPEGRPS","name":"ACNTYPEGRPS","documentation":"ACNTYPEGRPS","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"ACNTYPEGRPS_MAKER","firstName":"ACNTYPEGRPS_MAKER","fullName":"ACNTYPEGRPS_MAKER","id":"ACNTYPEGRPS_MAKER","roledesc":"ACNTYPEGRPS_MAKER","$$hashKey":"object:1261"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"ACNTYPEGRPS_APPROVER","firstName":"ACNTYPEGRPS_APPROVER","fullName":"ACNTYPEGRPS_APPROVER","id":"ACNTYPEGRPS_APPROVER","roledesc":"ACNTYPEGRPS_APPROVER","$$hashKey":"object:2400"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.44921875,"y":178},"upperLeft":{"x":275.55078125,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":225,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":225,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","rerunnable":"true","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","rerunnable":"true","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.37109375,"y":329},"upperLeft":{"x":225,"y":218.51953125}},"dockers":[{"x":50,"y":40},{"x":225,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
  <process id="ACNTYPEGRPS" name="ACNTYPEGRPS" isExecutable="true">
    <documentation>ACNTYPEGRPS</documentation>
    <startEvent id="startEvent1" name="Start"/>
    <userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="ACNTYPEGRPS_MAKER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="ACNTYPEGRPS_APPROVER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"/>
    <sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
    </sequenceFlow>
    <serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved"/>
    <sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected"/>
    <sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_ACNTYPEGRPS">
    <bpmndi:BPMNPlane bpmnElement="ACNTYPEGRPS" id="BPMNPlane_ACNTYPEGRPS">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897">
        <omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08">
        <omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01">
        <omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429">
        <omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B">
        <omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB">
        <omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA">
        <omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247">
        <omgdi:waypoint x="760.0" y="178.0"/>
        <omgdi:waypoint x="805.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035">
        <omgdi:waypoint x="225.0" y="218.0"/>
        <omgdi:waypoint x="225.0" y="329.0"/>
        <omgdi:waypoint x="505.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736">
        <omgdi:waypoint x="574.5616883116883" y="178.4383116883117"/>
        <omgdi:waypoint x="660.0" y="178.16181229773463"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22">
        <omgdi:waypoint x="490.0" y="178.2164502164502"/>
        <omgdi:waypoint x="535.4130434782609" y="178.41304347826087"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B">
        <omgdi:waypoint x="605.0" y="329.0"/>
        <omgdi:waypoint x="650.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1">
        <omgdi:waypoint x="130.0" y="178.0"/>
        <omgdi:waypoint x="175.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE">
        <omgdi:waypoint x="555.4366666666667" y="197.56333333333333"/>
        <omgdi:waypoint x="555.1328903654485" y="289.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3">
        <omgdi:waypoint x="275.0" y="178.0"/>
        <omgdi:waypoint x="390.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D">
        <omgdi:waypoint x="555.5" y="158.5"/>
        <omgdi:waypoint x="555.5" y="76.0"/>
        <omgdi:waypoint x="225.0" y="76.0"/>
        <omgdi:waypoint x="225.0" y="138.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>]]></column>
			<where>workflowtype='ACNTYPEGRPS'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="146" author="Vinay">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>
	
	<changeSet id="147" author="Vinay">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='ACNTYPES';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">ACNTYPES</column>
			<column name="WorkFlowSubType">ACNTYPES</column>
			<column name="WorkFlowDesc">ACNTYPES</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">ACNTYPES_MAKER;ACNTYPES_APPROVER</column>
			<column name="FirstTaskOwner">ACNTYPES_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="148" author="Vinay">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":915,"properties":{"process_id":"ACNTYPES","name":"ACNTYPES","documentation":"ACNTYPES","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"ACNTYPES_MAKER","firstName":"ACNTYPES_MAKER","fullName":"ACNTYPES_MAKER","id":"ACNTYPES_MAKER","roledesc":"ACNTYPES_MAKER","$$hashKey":"object:1313"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":265,"y":215},"upperLeft":{"x":165,"y":135}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":164.78169969647763,"y":177.54813849089433},"upperLeft":{"x":130.06205030352237,"y":176.50654900910567}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"ACNTYPES_APPROVER","firstName":"ACNTYPES_APPROVER","fullName":"ACNTYPES_APPROVER","id":"ACNTYPES_APPROVER","roledesc":"ACNTYPES_APPROVER","$$hashKey":"object:3294"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.78125,"y":178},"upperLeft":{"x":265.21875,"y":175}},"dockers":[{"x":50,"y":40},{"x":327.5,"y":175},{"x":327.5,"y":178},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":215,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":215,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","rerunnable":"true","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","rerunnable":"true","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.859375,"y":329},"upperLeft":{"x":215,"y":215.703125}},"dockers":[{"x":50,"y":40},{"x":215,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
  <process id="ACNTYPES" name="ACNTYPES" isExecutable="true">
    <documentation>ACNTYPES</documentation>
    <startEvent id="startEvent1" name="Start"/>
    <userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="ACNTYPES_MAKER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="ACNTYPES_APPROVER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"/>
    <sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
    </sequenceFlow>
    <serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved"/>
    <sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected"/>
    <sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_ACNTYPES">
    <bpmndi:BPMNPlane bpmnElement="ACNTYPES" id="BPMNPlane_ACNTYPES">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897">
        <omgdc:Bounds height="80.0" width="100.0" x="165.0" y="135.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08">
        <omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01">
        <omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429">
        <omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B">
        <omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB">
        <omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA">
        <omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247">
        <omgdi:waypoint x="760.0" y="178.0"/>
        <omgdi:waypoint x="805.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035">
        <omgdi:waypoint x="215.0" y="215.0"/>
        <omgdi:waypoint x="215.0" y="329.0"/>
        <omgdi:waypoint x="505.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736">
        <omgdi:waypoint x="574.5616883116883" y="178.4383116883117"/>
        <omgdi:waypoint x="660.0" y="178.16181229773463"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22">
        <omgdi:waypoint x="490.0" y="178.2164502164502"/>
        <omgdi:waypoint x="535.4130434782609" y="178.41304347826087"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B">
        <omgdi:waypoint x="605.0" y="329.0"/>
        <omgdi:waypoint x="650.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1">
        <omgdi:waypoint x="129.9932545528355" y="177.5502023634149"/>
        <omgdi:waypoint x="165.0" y="176.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE">
        <omgdi:waypoint x="555.4366666666667" y="197.56333333333333"/>
        <omgdi:waypoint x="555.1328903654485" y="289.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3">
        <omgdi:waypoint x="265.0" y="175.0"/>
        <omgdi:waypoint x="327.5" y="175.0"/>
        <omgdi:waypoint x="327.5" y="178.0"/>
        <omgdi:waypoint x="390.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D">
        <omgdi:waypoint x="555.5" y="158.5"/>
        <omgdi:waypoint x="555.5" y="76.0"/>
        <omgdi:waypoint x="215.0" y="76.0"/>
        <omgdi:waypoint x="215.0" y="135.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>]]></column>
			<where>workflowtype='ACNTYPES'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="149" author="Vinay">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>
	
	<changeSet id="150" author="Vinay">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='ACNTINGSET';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">ACNTINGSET</column>
			<column name="WorkFlowSubType">ACNTINGSET</column>
			<column name="WorkFlowDesc">ACNTINGSET</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">ACNTINGSET_MAKER;ACNTINGSET_APPROVER</column>
			<column name="FirstTaskOwner">ACNTINGSET_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="151" author="Vinay">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":918,"properties":{"process_id":"ACNTINGSET","name":"ACNTINGSET","documentation":"ACNTINGSET","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"ACNTINGSET_MAKER","firstName":"ACNTINGSET_MAKER","fullName":"ACNTINGSET_MAKER","id":"ACNTINGSET_MAKER","roledesc":"ACNTINGSET_MAKER","$$hashKey":"object:1229"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":265,"y":215},"upperLeft":{"x":165,"y":135}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":164.78169969647763,"y":177.54813849089433},"upperLeft":{"x":130.06205030352237,"y":176.50654900910567}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"ACNTINGSET_APPROVER","firstName":"ACNTINGSET_APPROVER","fullName":"ACNTINGSET_APPROVER","id":"ACNTINGSET_APPROVER","roledesc":"ACNTINGSET_APPROVER","$$hashKey":"object:2294"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.78125,"y":178},"upperLeft":{"x":265.21875,"y":175}},"dockers":[{"x":50,"y":40},{"x":327.5,"y":175},{"x":327.5,"y":178},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":215,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":215,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","rerunnable":"true","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","rerunnable":"true","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.859375,"y":329},"upperLeft":{"x":215,"y":215.703125}},"dockers":[{"x":50,"y":40},{"x":215,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
  <process id="ACNTINGSET" name="ACNTINGSET" isExecutable="true">
    <documentation>ACNTINGSET</documentation>
    <startEvent id="startEvent1" name="Start"/>
    <userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="ACNTINGSET_MAKER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="ACNTINGSET_APPROVER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"/>
    <sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
    </sequenceFlow>
    <serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved"/>
    <sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected"/>
    <sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_ACNTINGSET">
    <bpmndi:BPMNPlane bpmnElement="ACNTINGSET" id="BPMNPlane_ACNTINGSET">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897">
        <omgdc:Bounds height="80.0" width="100.0" x="165.0" y="135.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08">
        <omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01">
        <omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429">
        <omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B">
        <omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB">
        <omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA">
        <omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247">
        <omgdi:waypoint x="760.0" y="178.0"/>
        <omgdi:waypoint x="805.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035">
        <omgdi:waypoint x="215.0" y="215.0"/>
        <omgdi:waypoint x="215.0" y="329.0"/>
        <omgdi:waypoint x="505.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736">
        <omgdi:waypoint x="574.5616883116883" y="178.4383116883117"/>
        <omgdi:waypoint x="660.0" y="178.16181229773463"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22">
        <omgdi:waypoint x="490.0" y="178.2164502164502"/>
        <omgdi:waypoint x="535.4130434782609" y="178.41304347826087"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B">
        <omgdi:waypoint x="605.0" y="329.0"/>
        <omgdi:waypoint x="650.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1">
        <omgdi:waypoint x="129.9932545528355" y="177.5502023634149"/>
        <omgdi:waypoint x="165.0" y="176.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE">
        <omgdi:waypoint x="555.4366666666667" y="197.56333333333333"/>
        <omgdi:waypoint x="555.1328903654485" y="289.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3">
        <omgdi:waypoint x="265.0" y="175.0"/>
        <omgdi:waypoint x="327.5" y="175.0"/>
        <omgdi:waypoint x="327.5" y="178.0"/>
        <omgdi:waypoint x="390.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D">
        <omgdi:waypoint x="555.5" y="158.5"/>
        <omgdi:waypoint x="555.5" y="76.0"/>
        <omgdi:waypoint x="215.0" y="76.0"/>
        <omgdi:waypoint x="215.0" y="135.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>]]></column>
			<where>workflowtype='ACNTINGSET'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="152" author="Vinay">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>
	
	<changeSet id="153" author="Vinay">
		<sql>
			update workflowdetails set WorkFlowActive='0' where
			WorkFlowType='HOSTGLMAPPING';
		</sql>
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId" valueComputed="(select max(Seqno) + 1 from SeqWorkFlowDetails)" />
			<column name="WorkFlowType">HOSTGLMAPPING</column>
			<column name="WorkFlowSubType">HOSTGLMAPPING</column>
			<column name="WorkFlowDesc">HOSTGLMAPPING</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">HOSTGLMAPPING_MAKER;HOSTGLMAPPING_APPROVER</column>
			<column name="FirstTaskOwner">HOSTGLMAPPING_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn" valueDate="current_timestamp" />
			<column name="RecordStatus">Null</column>
			<column name="RoleCode"></column>
			<column name="NextRoleCode"></column>
			<column name="TaskId"></column>
			<column name="NextTaskId"></column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	<changeSet id="154" author="Vinay">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":917,"properties":{"process_id":"HOSTGLMAPPING","name":"HOSTGLMAPPING","documentation":"HOSTGLMAPPING","category":"","listenerclass":"","listenerentitytype":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"","name":"Start"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1"}],"bounds":{"lowerRight":{"x":130,"y":193},"upperLeft":{"x":100,"y":163}},"dockers":[]},{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897","properties":{"overrideid":"","name":"Maker","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"HOSTGLMAPPING_MAKER","firstName":"HOSTGLMAPPING_MAKER","fullName":"HOSTGLMAPPING_MAKER","id":"HOSTGLMAPPING_MAKER","roledesc":"HOSTGLMAPPING_MAKER","$$hashKey":"object:1269"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3"},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035"}],"bounds":{"lowerRight":{"x":275,"y":218},"upperLeft":{"x":175,"y":138}},"dockers":[]},{"resourceId":"sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":174.15625,"y":178},"upperLeft":{"x":130.609375,"y":178}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08","properties":{"overrideid":"","name":"Approver","usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"user","assignee":{"email":"HOSTGLMAPPING_APPROVER","firstName":"HOSTGLMAPPING_APPROVER","fullName":"HOSTGLMAPPING_APPROVER","id":"HOSTGLMAPPING_APPROVER","roledesc":"HOSTGLMAPPING_APPROVER","$$hashKey":"object:2358"}}}},"additionalforms":"","formkeydefinition":"","prioritydefinition":"Role Queue","baseactor":"","duedatedefinition":"","multiinstance_type":"None","isforcompensation":"false"},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22"}],"bounds":{"lowerRight":{"x":490,"y":218},"upperLeft":{"x":390,"y":138}},"dockers":[]},{"resourceId":"sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3","properties":{"overrideid":"","name":"Submit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Submitted'"}},"defaultflow":"false","action":"Submit","state":"Submitted","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}],"bounds":{"lowerRight":{"x":389.44921875,"y":178},"upperLeft":{"x":275.55078125,"y":178}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"sid-0E4577E1-11E1-450D-A2B6-DBE242378F08"}},{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01","properties":{"overrideid":"","name":"","sequencefloworder":""},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D"},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736"},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE"}],"bounds":{"lowerRight":{"x":575,"y":198},"upperLeft":{"x":535,"y":158}},"dockers":[]},{"resourceId":"sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}],"bounds":{"lowerRight":{"x":534.6484468700075,"y":178.4097335362338},"upperLeft":{"x":490.62889687999245,"y":178.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"}},{"resourceId":"sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D","properties":{"overrideid":"","name":"Resubmit","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Resubmitted'"}},"defaultflow":"false","action":"Resubmit","state":"Resubmitted","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}],"bounds":{"lowerRight":{"x":555.5,"y":157.48046875},"upperLeft":{"x":225,"y":76}},"dockers":[{"x":20.5,"y":20.5},{"x":555.5,"y":76},{"x":225,"y":76},{"x":50,"y":40}],"target":{"resourceId":"sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897"}},{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429","properties":{"overrideid":"","name":"Complete Process","rerunnable":"true","servicetaskexpression":"doApprove","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"approveTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247"}],"bounds":{"lowerRight":{"x":760,"y":218},"upperLeft":{"x":660,"y":138}},"dockers":[]},{"resourceId":"sid-79F17746-BC9F-45F8-A31F-CA3969C76736","properties":{"overrideid":"","name":"Approve","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Approved'"}},"defaultflow":"false","action":"Approve","state":"Approved","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}],"bounds":{"lowerRight":{"x":659.5117239866028,"y":178.43426377099223},"upperLeft":{"x":575.8124947633972,"y":178.16339247900777}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-22D15E29-D37A-4505-A48C-7A329DF13429"}},{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B","properties":{"overrideid":"","name":"Approved"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":833,"y":192},"upperLeft":{"x":805,"y":164}},"dockers":[]},{"resourceId":"sid-5AABA17A-E718-463D-95FA-7B0E9E938247","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}],"bounds":{"lowerRight":{"x":804.375,"y":178},"upperLeft":{"x":760.390625,"y":178}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-5FF3A069-112E-49C0-9A73-07B73600334B"}},{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB","properties":{"overrideid":"","name":"Cancel Process","rerunnable":"true","servicetaskexpression":"doReject","isforcompensation":"false","multiinstance_type":"None"},"stencil":{"id":"rejectTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B"}],"bounds":{"lowerRight":{"x":605,"y":369},"upperLeft":{"x":505,"y":289}},"dockers":[]},{"resourceId":"sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE","properties":{"overrideid":"","name":"Reject","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Rejected'"}},"defaultflow":"false","action":"Reject","state":"Rejected","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":555.4341777591982,"y":288.0234430186572},"upperLeft":{"x":555.1361347408018,"y":198.3124944813428}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-751124CB-1CC1-40AF-B5DB-360706ED6035","properties":{"overrideid":"","name":"Cancel","repruseaction":true,"conditionsequenceflow":{"expression":{"type":"static","staticValue":"vo.recordStatus == 'Cancelled'"}},"defaultflow":"false","action":"Cancel","state":"Cancelled","mandatenotes":true,"capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}],"bounds":{"lowerRight":{"x":504.37109375,"y":329},"upperLeft":{"x":225,"y":218.51953125}},"dockers":[{"x":50,"y":40},{"x":225,"y":329},{"x":50,"y":40}],"target":{"resourceId":"sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB"}},{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA","properties":{"overrideid":"","name":"Rejected"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":678,"y":343},"upperLeft":{"x":650,"y":315}},"dockers":[]},{"resourceId":"sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B","properties":{"overrideid":"","name":"","repruseaction":"false","conditionsequenceflow":"","defaultflow":"false","action":"","state":"","mandatenotes":"false","capturereasons":"false","typeofreason":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}],"bounds":{"lowerRight":{"x":649.375,"y":329},"upperLeft":{"x":605.390625,"y":329}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://activiti.org/test">
  <process id="HOSTGLMAPPING" name="HOSTGLMAPPING" isExecutable="true">
    <documentation>HOSTGLMAPPING</documentation>
    <startEvent id="startEvent1" name="Start"/>
    <userTask id="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" name="Maker" activiti:actor="HOSTGLMAPPING_MAKER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" sourceRef="startEvent1" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <userTask id="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" name="Approver" activiti:actor="HOSTGLMAPPING_APPROVER" activiti:assignmentLevel="Role Queue"/>
    <sequenceFlow id="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" name="Submit" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" action="Submit" state="Submitted" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Submitted'</conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01"/>
    <sequenceFlow id="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" sourceRef="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" targetRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <sequenceFlow id="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" name="Resubmit" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" action="Resubmit" state="Resubmitted" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Resubmitted'</conditionExpression>
    </sequenceFlow>
    <serviceTask id="sid-22D15E29-D37A-4505-A48C-7A329DF13429" name="Complete Process" activiti:operation="doApprove" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" name="Approve" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" action="Approve" state="Approved" representsUserAction="true" mandateNotes="false" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Approved'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-5FF3A069-112E-49C0-9A73-07B73600334B" name="Approved"/>
    <sequenceFlow id="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" sourceRef="sid-22D15E29-D37A-4505-A48C-7A329DF13429" targetRef="sid-5FF3A069-112E-49C0-9A73-07B73600334B" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
    <serviceTask id="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" name="Cancel Process" activiti:operation="doReject" activiti:rerunnable="true"/>
    <sequenceFlow id="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" name="Reject" sourceRef="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Reject" state="Rejected" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Rejected'</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" name="Cancel" sourceRef="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" targetRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" action="Cancel" state="Cancelled" representsUserAction="true" mandateNotes="true" captureReasons="false">
      <conditionExpression xsi:type="tFormalExpression">vo.recordStatus == 'Cancelled'</conditionExpression>
    </sequenceFlow>
    <endEvent id="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" name="Rejected"/>
    <sequenceFlow id="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" sourceRef="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" targetRef="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" representsUserAction="false" mandateNotes="false" captureReasons="false"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_HOSTGLMAPPING">
    <bpmndi:BPMNPlane bpmnElement="HOSTGLMAPPING" id="BPMNPlane_HOSTGLMAPPING">
      <bpmndi:BPMNShape bpmnElement="startEvent1" id="BPMNShape_startEvent1">
        <omgdc:Bounds height="30.0" width="30.0" x="100.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897" id="BPMNShape_sid-38272C15-118D-4D4F-80E0-DD3A3FEC8897">
        <omgdc:Bounds height="80.0" width="100.0" x="175.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0E4577E1-11E1-450D-A2B6-DBE242378F08" id="BPMNShape_sid-0E4577E1-11E1-450D-A2B6-DBE242378F08">
        <omgdc:Bounds height="80.0" width="100.0" x="390.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01" id="BPMNShape_sid-6D2A3EE4-19BA-44FF-93AB-717BFF16FC01">
        <omgdc:Bounds height="40.0" width="40.0" x="535.0" y="158.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-22D15E29-D37A-4505-A48C-7A329DF13429" id="BPMNShape_sid-22D15E29-D37A-4505-A48C-7A329DF13429">
        <omgdc:Bounds height="80.0" width="100.0" x="660.0" y="138.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-5FF3A069-112E-49C0-9A73-07B73600334B" id="BPMNShape_sid-5FF3A069-112E-49C0-9A73-07B73600334B">
        <omgdc:Bounds height="28.0" width="28.0" x="805.0" y="164.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB" id="BPMNShape_sid-0AD002F0-2C5A-4D9F-B0D2-7A03A8025FEB">
        <omgdc:Bounds height="80.0" width="100.0" x="505.0" y="289.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA" id="BPMNShape_sid-B8114559-3D1A-4A63-A65F-B62B0D0812CA">
        <omgdc:Bounds height="28.0" width="28.0" x="650.0" y="315.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-5AABA17A-E718-463D-95FA-7B0E9E938247" id="BPMNEdge_sid-5AABA17A-E718-463D-95FA-7B0E9E938247">
        <omgdi:waypoint x="760.0" y="178.0"/>
        <omgdi:waypoint x="805.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-751124CB-1CC1-40AF-B5DB-360706ED6035" id="BPMNEdge_sid-751124CB-1CC1-40AF-B5DB-360706ED6035">
        <omgdi:waypoint x="225.0" y="218.0"/>
        <omgdi:waypoint x="225.0" y="329.0"/>
        <omgdi:waypoint x="505.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-79F17746-BC9F-45F8-A31F-CA3969C76736" id="BPMNEdge_sid-79F17746-BC9F-45F8-A31F-CA3969C76736">
        <omgdi:waypoint x="574.5616883116883" y="178.4383116883117"/>
        <omgdi:waypoint x="660.0" y="178.16181229773463"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22" id="BPMNEdge_sid-E75E07AC-22E7-4F1C-B6E9-733C5C1A3E22">
        <omgdi:waypoint x="490.0" y="178.2164502164502"/>
        <omgdi:waypoint x="535.4130434782609" y="178.41304347826087"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B" id="BPMNEdge_sid-9E25CBF1-5C3D-444E-B619-F8DF70F8710B">
        <omgdi:waypoint x="605.0" y="329.0"/>
        <omgdi:waypoint x="650.0" y="329.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1" id="BPMNEdge_sid-CB1DEE00-A9A1-4162-BD4A-CC3D4B6E7CC1">
        <omgdi:waypoint x="130.0" y="178.0"/>
        <omgdi:waypoint x="175.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE" id="BPMNEdge_sid-4A389521-29A1-4967-8A99-23A3D1BA8CDE">
        <omgdi:waypoint x="555.4366666666667" y="197.56333333333333"/>
        <omgdi:waypoint x="555.1328903654485" y="289.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3" id="BPMNEdge_sid-F8AD09C4-9AD3-4E9F-9432-0B753ACDBFF3">
        <omgdi:waypoint x="275.0" y="178.0"/>
        <omgdi:waypoint x="390.0" y="178.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D" id="BPMNEdge_sid-90A1D39E-E70D-4EB1-BB50-DF5F8F43359D">
        <omgdi:waypoint x="555.5" y="158.5"/>
        <omgdi:waypoint x="555.5" y="76.0"/>
        <omgdi:waypoint x="225.0" y="76.0"/>
        <omgdi:waypoint x="225.0" y="138.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>]]></column>
			<where>workflowtype='HOSTGLMAPPING'and workflowactive=1</where>
		</update>
	</changeSet>
	<changeSet id="155" author="Vinay">
		<sql>
			UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM
			workflowdetails);
		</sql>
	</changeSet>

	<changeSet id="156" author="Amarnath.t">
		<createTable tableName="dmsdocprocess">
			<column name="id" type="int" defaultValue="0">
				<constraints primaryKey="true" primaryKeyName="pk_dmsidentification" />
			</column>
			<column name="finreference" type="varchar(100)" />
			<column name="docmodule" type="varchar(100)" />
			<column name="docrefid" type="bigint" defaultValue="0" />
			<column name="state" type="varchar(100)" />
			<column name="status" type="varchar(100)" />
			<column name="referenceid" type="varchar(100)" />
			<column name="retryCount" type="int" defaultValue="0" />
			<column name="customerCif" type="varchar(100)" />
			<column name="docid" type="bigint" defaultValue="0" />
			<column name="docCategory" type="varchar(100)" />
			<column name="docDesc" type="varchar(100)" />
			<column name="docExt" type="varchar(100)" />
			<column name="lastMntOn" type="datetime" />
			<column name="createdOn" type="datetime" />
		</createTable>
	</changeSet>
	<changeSet id="157" author="Amarnath.t">
		<createSequence sequenceName="seqdmsidentification" />
	</changeSet>
	<changeSet id="158" author="Amarnath.t">
		<createTable tableName="dmsdocprocesslog">
			<column name="id" type="integer" />
			<column name="finreference" type="varchar(100)" />
			<column name="docmodule" type="varchar(100)" />
			<column name="docrefid" type="bigint" />
			<column name="state" type="varchar(100)" />
			<column name="status" type="varchar(100)" />
			<column name="referenceid" type="varchar(100)" />
			<column name="retrycount" type="integer" />
			<column name="customercif" type="varchar(100)" />
			<column name="docid" type="bigint" />
			<column name="doccategory" type="varchar(100)" />
			<column name="errorDesc" type="varchar(4000)" />
			<column name="docDesc" type="varchar(100)" />
			<column name="docExt" type="varchar(100)" />
			<column name="lastmnton" type="datetime" />
			<column name="createdon" type="datetime" />
		</createTable>
	</changeSet>

	<changeSet id="135" author="Ganesh.p">
		<comment> Change the error message of Disbursment date mismatch </comment>
		<sql>
			Update Errordetails SET Message = 'Scheduled Disbursement date and Disbursement date should be same.' where code = '65032';
		</sql>
	</changeSet>
	
		<changeSet id="136" author="Ganesh.p">
		<comment> Created new error for either one doc is req between two </comment>
		<sql>
			INSERT INTO ErrorDetails VALUES('41104','EN','E','Either {0} document or {1} document is mandatory.','','Approved','','','','','',0,current_timestamp,1000,0);
		</sql>
	</changeSet>
	
	<changeSet id="159" author="Jayant">
		<sql>
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='GSTINMAPPING_MAKER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='GSTINMAPPING_APPROVER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='FEETYPE_MAKER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='FEETYPE_APPROVER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='COSTCENTERS_MAKER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='COSTCENTERS_APPROVER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='PROFITCENTERS_MAKER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='PROFITCENTERS_APPROVER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='TRANSACTIONCODES_MAKER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='TRANSACTIONCODES_APPROVER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTYPES_MAKER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTYPES_APPROVER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTYPEGRPS_MAKER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTYPEGRPS_APPROVER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='HOSTGLMAPPING_MAKER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='HOSTGLMAPPING_APPROVER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTINGSET_MAKER');
			delete from SECOPERATIONROLES WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTINGSET_APPROVER');
			
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='GSTINMAPPING_MAKER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='GSTINMAPPING_APPROVER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='FEETYPE_MAKER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='FEETYPE_APPROVER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='COSTCENTERS_MAKER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='COSTCENTERS_APPROVER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='PROFITCENTERS_MAKER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='PROFITCENTERS_APPROVER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='TRANSACTIONCODES_MAKER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='TRANSACTIONCODES_APPROVER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTYPES_MAKER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTYPES_APPROVER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTYPEGRPS_MAKER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTYPEGRPS_APPROVER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='HOSTGLMAPPING_MAKER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='HOSTGLMAPPING_APPROVER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTINGSET_MAKER');
			delete from SECROLEGROUPS WHERE ROLEID IN (SELECT ROLEID FROM SECROLES where rolecd='ACNTINGSET_APPROVER');

			delete from SECROLES where rolecd='GSTINMAPPING_MAKER';
			delete from SECROLES where rolecd='GSTINMAPPING_APPROVER';
			delete from SECROLES where rolecd='FEETYPE_MAKER';
			delete from SECROLES where rolecd='FEETYPE_APPROVER';
			delete from SECROLES where rolecd='COSTCENTERS_MAKER';
			delete from SECROLES where rolecd='COSTCENTERS_APPROVER';
			delete from SECROLES where rolecd='PROFITCENTERS_MAKER';
			delete from SECROLES where rolecd='PROFITCENTERS_APPROVER';
			delete from SECROLES where rolecd='TRANSACTIONCODES_MAKER';
			delete from SECROLES where rolecd='TRANSACTIONCODES_APPROVER';
			delete from SECROLES where rolecd='ACNTYPES_MAKER';
			delete from SECROLES where rolecd='ACNTYPES_APPROVER';
			delete from SECROLES where rolecd='ACNTYPEGRPS_MAKER';
			delete from SECROLES where rolecd='ACNTYPEGRPS_APPROVER';
			delete from SECROLES where rolecd='HOSTGLMAPPING_MAKER';
			delete from SECROLES where rolecd='HOSTGLMAPPING_APPROVER';
			delete from SECROLES where rolecd='ACNTINGSET_MAKER';
			delete from SECROLES where rolecd='ACNTINGSET_APPROVER';
			
			UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
			UPDATE SEQSECOPERATIONROLES SET SEQNO= (SELECT MAX(OPRROLEID) FROM SECOPERATIONROLES);
			
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'GSTINMAPPING_MAKER', 'GSTINMAPPING_MAKER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'GSTINMAPPING_APPROVER', 'GSTINMAPPING_APPROVER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'FEETYPE_MAKER', 'FEETYPE_MAKER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'FEETYPE_APPROVER', 'FEETYPE_APPROVER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'COSTCENTERS_MAKER', 'COSTCENTERS_MAKER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'COSTCENTERS_APPROVER', 'COSTCENTERS_APPROVER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'PROFITCENTERS_MAKER', 'PROFITCENTERS_MAKER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'PROFITCENTERS_APPROVER', 'PROFITCENTERS_APPROVER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'TRANSACTIONCODES_MAKER', 'TRANSACTIONCODES_MAKER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'TRANSACTIONCODES_APPROVER', 'TRANSACTIONCODES_APPROVER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'ACNTYPES_MAKER', 'ACNTYPES_MAKER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'ACNTYPES_APPROVER', 'ACNTYPES_APPROVER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'ACNTYPEGRPS_MAKER', 'ACNTYPEGRPS_MAKER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'ACNTYPEGRPS_APPROVER', 'ACNTYPEGRPS_APPROVER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'HOSTGLMAPPING_MAKER', 'HOSTGLMAPPING_MAKER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'HOSTGLMAPPING_APPROVER', 'HOSTGLMAPPING_APPROVER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'ACNTINGSET_MAKER', 'ACNTINGSET_MAKER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'ACNTINGSET_APPROVER', 'ACNTINGSET_APPROVER','', 0,1000,CURRENT_TIMESTAMP,' ',' ',null,' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			
			
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='COSTCENTER_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='COSTCENTERS_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='COSTCENTER_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='COSTCENTERS_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='PROFITCENTER_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='PROFITCENTERS_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='PROFITCENTER_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='PROFITCENTERS_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='TRANSACTIONCODE_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='TRANSACTIONCODES_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='TRANSACTIONCODE_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='TRANSACTIONCODES_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='AccountType_Maker'), (Select  RoleID  From SecRoles Where RoleCd='ACNTYPES_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='AccountType_Approver'), (Select  RoleID  From SecRoles Where RoleCd='ACNTYPES_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='AccountTypeGroup_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='ACNTYPEGRPS_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='AccountTypeGroup_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='ACNTYPEGRPS_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='ACCOUNTMAPPING_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='HOSTGLMAPPING_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='ACCOUNTMAPPING_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='HOSTGLMAPPING_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='ACCOUNTINGSET_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='ACNTINGSET_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='ACCOUNTINGSET_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='ACNTINGSET_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='COSTCENTERS_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='COSTCENTERS_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='PROFITCENTERS_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='PROFITCENTERS_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='TRANSACTIONCODES_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='TRANSACTIONCODES_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='ACNTYPES_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='ACNTYPES_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='ACNTYPEGRPS_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='ACNTYPEGRPS_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='HOSTGLMAPPING_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='HOSTGLMAPPING_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='ACNTINGSET_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='ADMIN'), (Select  RoleID  From SecRoles Where RoleCd='ACNTINGSET_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			
			UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
			UPDATE SEQSECOPERATIONROLES SET SEQNO= (SELECT MAX(OPRROLEID) FROM SECOPERATIONROLES);
						
		</sql>
	</changeSet>
	<changeSet id="160" author="Manoj">
		<comment> custctgcode,custcin,custaadhaar,custcompname added </comment>
		<createView viewName="blacklistcustomer_view" replaceIfExists="true">
			 SELECT t1.custcif,
			    t1.custfname,
			    t1.custlname,
			    t1.custdob,
			    t1.custcrcpr,
			    t1.mobilenumber,
			    t1.custnationality,
			    t1.custpassportno,
			    t1.employer,
			    t1.custisactive,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t2.nationalitydesc AS lovdescnationalitydesc,
			    t3.empname AS lovdescempname,
			    t1.custctgcode,
			    t1.custcin,
			    t1.custaadhaar,
			    t1.custcompname
			   FROM blacklistcustomer_temp t1
			     LEFT JOIN bmtnationalitycodes t2 ON t2.nationalitycode = t1.custnationality
			     LEFT JOIN employerdetail t3 ON t3.employerid = t1.employer
			UNION ALL
			 SELECT t1.custcif,
			    t1.custfname,
			    t1.custlname,
			    t1.custdob,
			    t1.custcrcpr,
			    t1.mobilenumber,
			    t1.custnationality,
			    t1.custpassportno,
			    t1.employer,
			    t1.custisactive,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t2.nationalitydesc AS lovdescnationalitydesc,
			    t3.empname AS lovdescempname,
			    t1.custctgcode,
			    t1.custcin,
			    t1.custaadhaar,
			    t1.custcompname
			   FROM blacklistcustomer t1
			     LEFT JOIN bmtnationalitycodes t2 ON t2.nationalitycode = t1.custnationality
			     LEFT JOIN employerdetail t3 ON t3.employerid = t1.employer
			  WHERE NOT (EXISTS ( SELECT 1
			           FROM blacklistcustomer_temp
			          WHERE blacklistcustomer_temp.custcif = t1.custcif))
		</createView>
	</changeSet>
	 
	<changeSet id="162" author="Siva">
		<comment> Added Accrued and Unaccrued Tds calculated amounts for early settlement </comment>
		<sql>
			Delete from BMTAMOUNTCODES where allowedevent ='EARLYSTL' and amountcode in ('ae_accruedTds','ae_unAccruedTds');
			Insert into BMTAMOUNTCODES (ALLOWEDEVENT,ALLOWEDRIA,AMOUNTCODE,AMOUNTCODEDESC,AMOUNTCODEISACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID) values ('EARLYSTL',0,'ae_accruedTds','Accrued Interest TDS','1',1,1005,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0);
			Insert into BMTAMOUNTCODES (ALLOWEDEVENT,ALLOWEDRIA,AMOUNTCODE,AMOUNTCODEDESC,AMOUNTCODEISACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID) values ('EARLYSTL',0,'ae_unAccruedTds','UnAccrued Interest TDS','1',1,1005,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="163" author="manikanta.p">
		<sql>
			<![CDATA[
				delete from  LimitCodeDetail where LimitCode = 'LEGALINIT';
				INSERT INTO limitcodedetail VALUES ((select max(limitid)+1 from limitcodedetail),'LEGALINIT','Legal Initiation', 1);
			]]>
		</sql>
	</changeSet>
	<changeSet id="164" author="Amarnath.t">
		<comment> Added DMS Document Details rights to display in main menu </comment>
		<sql>
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_DmsDocumentDetails','MENU',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
		</sql>
	</changeSet>
	<changeSet id="165" author="vijaykumar.l">
  <sql>
    UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM	SECRIGHTS);
	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT	MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
	
 	INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3,'CustomerExtLiabilityDialog_OtherName','CustomerExtLiabilityDialog',0,1000,CURRENT_TIMESTAMP,'',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0;
	INSERT INTO  SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='BFSD_ORIGINATION_MAKER'),(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='CustomerExtLiabilityDialog_OtherName'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='CustomerExtLiability_Maker'),(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='CustomerExtLiabilityDialog_OtherName'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE='CL_ORIGINATION_MAKER'),(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='CustomerExtLiabilityDialog_OtherName'), 1,0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
	
	UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM	SECRIGHTS);
	UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT	MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);

   </sql>
</changeSet>
	<changeSet id="172" author="Manoj">
			<comment>New Column to capture module in query Management</comment>
		<addColumn tableName="querydetail_Temp">
			<column name="Module" type="varchar(50)"/>
		</addColumn>
	</changeSet>
	
	<changeSet id="173" author="Manoj">
		<addColumn tableName="querydetail">
			<column name="Module" type="varchar(50)"/>
		</addColumn>
	</changeSet>
	
	<changeSet id="174" author="Manoj">
		<createView viewName="querydetail_aview" replaceIfExists="true">
			SELECT t1.finreference,
		    t1.id,
		    s1.usrlogin,
		    t1.raisedon,
		    b1.description,
		    t1.qrynotes,
		    t1.status,
		    t1.raisedby,
		    b1.code AS categorycode,
		    b1.description AS categorydescription,
		    t1.categoryid,
		    t1.assignedrole,
		    t1.notifyto,
		    t1.responsnotes,
		    t1.responseby,
		    s2.usrlogin AS responseuser,
		    t1.responseon,
		    t1.closernotes,
		    t1.closerby,
		    s3.usrlogin AS closeruser,
		    t1.closeron,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t1.module
   
   FROM querydetail t1
     JOIN bmtquerycategories b1 ON t1.categoryid = b1.id
     JOIN secusers s1 ON t1.raisedby = s1.usrid
     LEFT JOIN secusers s2 ON t1.responseby = s2.usrid
     LEFT JOIN secusers s3 ON t1.closerby = s3.usrid
			
		</createView>
	</changeSet>
	
	<changeSet id="175" author="Manoj">
		<createView viewName="querydetail_view" replaceIfExists="true">
			SELECT t1.finreference,
		    t1.id,
		    s1.usrlogin,
		    t1.raisedon,
		    b1.description,
		    t1.qrynotes,
		    t1.status,
		    t1.raisedby,
		    b1.code AS categorycode,
		    b1.description AS categorydescription,
		    t1.categoryid,
		    t1.assignedrole,
		    t1.notifyto,
		    t1.responsnotes,
		    t1.responseby,
		    s2.usrlogin AS responseuser,
		    t1.responseon,
		    t1.closernotes,
		    t1.closerby,
		    s3.usrlogin AS closeruser,
		    t1.closeron,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t1.module
 	  FROM querydetail t1
     JOIN bmtquerycategories b1 ON t1.categoryid = b1.id
     JOIN secusers s1 ON t1.raisedby = s1.usrid
     LEFT JOIN secusers s2 ON t1.responseby = s2.usrid
     LEFT JOIN secusers s3 ON t1.closerby = s3.usrid
		</createView>
	</changeSet>
	<changeSet id="176" author="PasVarma">
		<sql>
			Delete from RBFIELDDETAILS where RBMODULE = 'ELGRULE' and RBEVENT = 'ELGRULE' and RbFldName = 'ASL_ELIGABLE_AMOUNT';
			Insert into RBFIELDDETAILS (RBMODULE,RBEVENT,RBFLDNAME,RBFLDDESC,RBFLDTYPE,RBFLDLEN,RBFORCALFLDS,RBFORBLDFLDS,RBFLDTABLENAME,RBSTFLDS,MODULECODE) values 
	   		('ELGRULE','ELGRULE','ASL_ELIGABLE_AMOUNT',' ASL End Use Eligible Amount','decimal',18,'1','1','','static,calvalue','');
		</sql>
	</changeSet>
<changeSet id="177" author="vijaykumar.l">
	<dropColumn tableName="external_liabilities_temp" columnName="othername"/>
	<dropColumn tableName="external_liabilities" columnName="othername"/>
</changeSet>
<changeSet id="178" author="Sriram">
		<addColumn tableName="RMTFINANCETYPES">
			<column name="FinLTVCheck" type="varchar(12)"/>		
		</addColumn>
	</changeSet>
	<changeSet id="179" author="Sriram">
		<addColumn tableName="RMTFINANCETYPES_TEMP">
			<column name="FinLTVCheck" type="varchar(12)"/>		
		</addColumn>
	</changeSet>
	
   <changeSet id="180" author="Sriram">
    <comment>Adding FinLTVCheck Column</comment>
		<createView viewName="RMTFINANCETYPES_ORGVIEW" replaceIfExists="true">
			SELECT t1.fintype,
			t1.fincategory,
			t1.fintypedesc,
			t1.finccy,
			t1.findayscaltype,
			t1.finactype,
			t1.fincontingentactype,
			t1.finisgenref,
			t1.finmaxamount,
			t1.finminamount,
			t1.finisopennewfinac,
			t1.finisalwmd,
			t1.finschdmthd,
			t1.finisalwgrace,
			t1.equalrepayment,
			t1.finratetype,
			t1.finbaserate,
			t1.finsplrate,
			t1.finintrate,
			t1.finminrate,
			t1.finmaxrate,
			t1.findftintfrq,
			t1.finisintcpz,
			t1.fincpzfrq,
			t1.finisrvwalw,
			t1.finrvwfrq,
			t1.fingrcratetype,
			t1.fingrcbaserate,
			t1.fingrcsplrate,
			t1.fingrcintrate,
			t1.fingrcminrate,
			t1.fingrcmaxrate,
			t1.fingrcdftintfrq,
			t1.fingrcisintcpz,
			t1.fingrccpzfrq,
			t1.fingrcisrvwalw,
			t1.fingrcrvwfrq,
			t1.finminterm,
			t1.finmaxterm,
			t1.findftterms,
			t1.finrpyfrq,
			t1.finrepaymethod,
			t1.finisalwdifferment,
			t1.finmaxdifferment,
			t1.finisactive,
			t1.stepfinance,
			t1.steppingmandatory,
			t1.alwmanualsteps,
			t1.alwdsteppolicies,
			t1.dftsteppolicy,
			t1.finisdwpayrequired,
			t1.finrvwrateapplfor,
			t1.finalwratechangeanydate,
			t1.finisintcpzatgrcend,
			t1.finschcalcodeonrvw,
			t1.alwplandeferment,
			t1.plandefercount,
			t1.pftpayactype,
			t1.finisopenpftpayacc,
			t1.finisalwgrcrepay,
			t1.fingrcschdmthd,
			t1.fingrcmargin,
			t1.finmargin,
			t1.fincommitmentreq,
			t1.fincollateralreq,
			t1.findepreciationreq,
			t1.findepreciationfrq,
			t1.finbankcontingentactype,
			t1.finprovisionactype,
			t1.allowriainvestment,
			t1.overridelimit,
			t1.limitrequired,
			t1.fincommitmentovrride,
			t1.fincollateralovrride,
			t1.finrepaypftonfrq,
			t1.finpftunchanged,
			t1.applyodpenalty,
			t1.odincgrcdays,
			t1.odchargetype,
			t1.odgracedays,
			t1.odchargecalon,
			t1.odchargeamtorperc,
			t1.odallowwaiver,
			t1.odmaxwaiverperc,
			t1.findivision,
			t3.divisioncodedesc AS lovdescfindivisionname,
			t1.finsuspactype,
			t1.product,
			t1.startdate,
			t1.enddate,
			t1.allowdownpaypgm,
			t1.fintypedesc AS lovdescpromofintypedesc,
			t1.remarks,
			t4.policydesc AS lovdescdftsteppolicyname,
			t1.pastduepftcalmthd,
			t1.pastduepftmargin,
			t1.alwadvancerent,
			t1.grcadvbaserate,
			t1.grcadvmargin,
			t1.grcadvpftrate,
			t1.rpyadvbaserate,
			t1.rpyadvmargin,
			t1.rpyadvpftrate,
			t1.rolloverfinance,
			t1.rolloverfrq,
			t1.downpayrule,
			t1.alwmultipartydisb,
			t1.collateraltype,
			t1.tdsapplicable,
			t5.rulecode AS downpayruledesc,
			t1.applygrcpricing,
			t1.applyrpypricing,
			t6.rulecode AS grcpricingmethoddesc,
			t7.rulecode AS rpypricingmethoddesc,
			t1.droplineod,
			t1.droppingmethod,
			t1.ratechganyday,
			t4.steptype AS dftsteppolicytype,
			t1.manualschedule,
			t1.alwbpi,
			t1.bpitreatment,
			t1.pftdueschon,
			t1.planemihalw,
			t1.planemihmethod,
			t1.planemihmaxperyear,
			t1.planemihmax,
			t1.planemihlockperiod,
			t1.planemicpz,
			t1.unplanemihlockperiod,
			t1.unplanemicpz,
			t1.reagecpz,
			t1.fddlockperiod,
			t1.alwdrpymethods,
			t1.maxunplannedemi,
			t1.maxreageholidays,
			t1.roundingmode,
			t1.roundingtarget,
			t1.frequencydays,
			t1.quickdisb,
			t1.alwreage,
			t1.alwunplanemiholiday,
			t1.alwmaxdisbcheckreq,
			t1.productcategory,
			t1.rpyhierarchy,
			t1.developerfinance,
			t3.entitycode AS lovdescentitycode,
			t8.entitydesc AS lovdescentitydesc,
			t1.costoffunds,
			t1.chequecapturereq,
			t1.FinLTVCheck
		   FROM ((((((rmtfinancetypes t1
			 JOIN smtdivisiondetail t3 ON ((t1.findivision = t3.divisioncode)))
			 LEFT JOIN steppolicyheader t4 ON ((t1.dftsteppolicy = t4.policycode)))
			 LEFT JOIN rules t5 ON ((t1.downpayrule = t5.ruleid)))
			 LEFT JOIN rules t6 ON ((t1.grcpricingmethod = t6.ruleid)))
			 LEFT JOIN rules t7 ON ((t1.rpypricingmethod = t7.ruleid)))
			 LEFT JOIN entity t8 ON ((t3.entitycode = t8.entitycode)))
		</createView>
	</changeSet>
	<changeSet id="181" author="Sriram">
	 <comment>Adding FinLTVCheck Column</comment>
		<createView viewName="RMTFINANCETYPES_AVIEW" replaceIfExists="true">
			SELECT t1.fintype,
			t1.fincategory,
			t1.fintypedesc,
			t1.finccy,
			t1.findayscaltype,
			t1.finactype,
			t1.fincontingentactype,
			t1.finisgenref,
			t1.finmaxamount,
			t1.finminamount,
			t1.finisopennewfinac,
			t1.findftstmtfrq,
			t1.finisalwmd,
			t1.finschdmthd,
			t1.finisalwgrace,
			t1.finhistretension,
			t1.equalrepayment,
			t1.finratetype,
			t1.finbaserate,
			t1.finsplrate,
			t1.finintrate,
			t1.finminrate,
			t1.finmaxrate,
			t1.findftintfrq,
			t1.finisintcpz,
			t1.fincpzfrq,
			t1.finisrvwalw,
			t1.finrvwfrq,
			t1.fingrcratetype,
			t1.fingrcbaserate,
			t1.fingrcsplrate,
			t1.fingrcintrate,
			t1.fingrcminrate,
			t1.fingrcmaxrate,
			t1.fingrcdftintfrq,
			t1.fingrcisintcpz,
			t1.fingrccpzfrq,
			t1.fingrcisrvwalw,
			t1.fingrcrvwfrq,
			t1.finminterm,
			t1.finmaxterm,
			t1.findftterms,
			t1.finrpyfrq,
			t1.finrepaymethod,
			t1.finisalwpartialrpy,
			t1.finisalwdifferment,
			t1.finmaxdifferment,
			t1.finisalwearlyrpy,
			t1.finisalwearlysettle,
			t1.finodrpytries,
			t1.finearlypayrule,
			t1.finearlysettlerule,
			t1.findepositrestrictedto,
			t1.finaebuyorinception,
			t1.finaesellormaturity,
			t1.finisactive,
			t1.version,
			t1.lastmntby,
			t1.lastmnton,
			t1.recordstatus,
			t1.rolecode,
			t1.nextrolecode,
			t1.taskid,
			t1.nexttaskid,
			t1.recordtype,
			t1.workflowid,
			t1.stepfinance,
			t1.steppingmandatory,
			t1.alwmanualsteps,
			t1.alwdsteppolicies,
			t1.dftsteppolicy,
			t4.actypedesc AS lovdescfincontingentactypename,
			t5.actypedesc AS lovdescfinactypename,
			t1.finisdwpayrequired,
			t1.finrvwrateapplfor,
			t1.finalwratechangeanydate,
			t1.finisintcpzatgrcend,
			t1.finelgrulecode,
			t1.limitelgrulecode,
			t1.finschcalcodeonrvw,
			t1.alwplandeferment,
			t1.plandefercount,
			t1.finassettype,
			t1.pftpayactype,
			t1.finisopenpftpayacc,
			t31.actypedesc AS lovdescpftpayactypename,
			t1.finisalwgrcrepay,
			t1.fingrcschdmthd,
			t1.fingrcmargin,
			t1.finmargin,
			t1.finscheduleon,
			t1.fingrcscheduleon,
			t1.fincommitmentreq,
			t1.fincollateralreq,
			t1.findepreciationreq,
			t1.findepreciationfrq,
			t1.finbankcontingentactype,
			t1.finprovisionactype,
			t38.actypedesc AS lovdescfinbankcontactypename,
			t39.actypedesc AS lovdescfinprovisionactypename,
			t1.allowriainvestment,
			t1.overridelimit,
			t1.limitrequired,
			t1.fincommitmentovrride,
			t1.fincollateralovrride,
			t1.finpftunchanged,
			t1.applyodpenalty,
			t1.odincgrcdays,
			t1.odchargetype,
			t1.odgracedays,
			t1.odchargecalon,
			t1.odchargeamtorperc,
			t1.odallowwaiver,
			t1.odmaxwaiverperc,
			t1.findivision,
			t48.divisioncodedesc AS lovdescfindivisionname,
			t48.entitycode AS lovdescentitycode,
			t1.finsuspactype,
			t49.actypedesc AS lovdescfinsuspactypename,
			t1.product,
			t1.startdate,
			t1.enddate,
			t1.allowdownpaypgm,
			t1.remarks,
			t1.alwearlypaymethods,
			t1.pastduepftcalmthd,
			t1.pastduepftmargin,
			t1.alwadvancerent,
			t1.grcadvbaserate,
			t1.grcadvmargin,
			t1.grcadvpftrate,
			t1.rpyadvbaserate,
			t1.rpyadvmargin,
			t1.rpyadvpftrate,
			t1.rolloverfinance,
			t1.rolloverfrq,
			t1.downpayrule,
			t59.rulecode AS downpayruledesc,
			t1.finsusptrigger,
			t1.finsuspremarks,
			t1.alwmultipartydisb,
			t1.collateraltype,
			t1.tdsapplicable,
			t1.manualschedule,
			t1.applygrcpricing,
			t1.grcpricingmethod,
			t1.applyrpypricing,
			t1.rpypricingmethod,
			t1.rpyhierarchy,
			t67.rulecode AS grcpricingmethoddesc,
			t68.rulecode AS rpypricingmethoddesc,
			t1.droplineod,
			t1.droppingmethod,
			t1.ratechganyday,
			t1.finrepaypftonfrq,
			t1.alwbpi,
			t1.bpitreatment,
			t1.pftdueschon,
			t1.planemihalw,
			t1.planemihmethod,
			t1.planemihmaxperyear,
			t1.planemihmax,
			t1.planemihlockperiod,
			t1.planemicpz,
			t1.unplanemihlockperiod,
			t1.unplanemicpz,
			t1.reagecpz,
			t1.fddlockperiod,
			t1.alwdrpymethods,
			t1.maxunplannedemi,
			t1.maxreageholidays,
			t1.roundingmode,
			t1.roundingtarget,
			t1.frequencydays,
			t1.quickdisb,
			t1.alwreage,
			t1.alwunplanemiholiday,
			t1.alwmaxdisbcheckreq,
			t1.fintypedesc AS lovdescpromofintypedesc,
			t1.profitcenterid,
			t69.profitcentercode,
			t69.profitcenterdesc,
			t1.productcategory,
			t2.productdesc AS fincategorydesc,
			t1.developerfinance,
			t1.costoffunds,
			t1.chequecapturereq,
			t1.FinLTVCheck
		   FROM ((((((((((((rmtfinancetypes t1
			 LEFT JOIN bmtproduct t2 ON ((t1.fincategory = t2.productcode)))
			 LEFT JOIN rmtaccounttypes t4 ON ((t1.fincontingentactype = t4.actype)))
			 LEFT JOIN rmtaccounttypes t38 ON ((t1.finbankcontingentactype = t38.actype)))
			 LEFT JOIN rmtaccounttypes t39 ON ((t1.finprovisionactype = t39.actype)))
			 LEFT JOIN rmtaccounttypes t5 ON ((t1.finactype = t5.actype)))
			 LEFT JOIN rmtaccounttypes t31 ON ((t1.pftpayactype = t31.actype)))
			 LEFT JOIN smtdivisiondetail t48 ON ((t1.findivision = t48.divisioncode)))
			 LEFT JOIN rmtaccounttypes t49 ON ((t1.finsuspactype = t49.actype)))
			 LEFT JOIN rules t59 ON ((t1.downpayrule = t59.ruleid)))
			 LEFT JOIN rules t67 ON ((t1.grcpricingmethod = t67.ruleid)))
			 LEFT JOIN rules t68 ON ((t1.rpypricingmethod = t68.ruleid)))
			 LEFT JOIN profitcenters t69 ON ((t69.profitcenterid = t1.profitcenterid)))	
		</createView>
	</changeSet>
	<changeSet id="182" author="Sriram">
	 <comment>Adding FinLTVCheck Column</comment>
		<createView viewName="RMTFINANCETYPES_VIEW" replaceIfExists="true">
			SELECT t1.fintype,
			t1.fincategory,
			t1.fintypedesc,
			t1.finccy,
			t1.findayscaltype,
			t1.finactype,
			t1.fincontingentactype,
			t1.finisgenref,
			t1.finmaxamount,
			t1.finminamount,
			t1.finisopennewfinac,
			t1.findftstmtfrq,
			t1.finisalwmd,
			t1.finschdmthd,
			t1.finisalwgrace,
			t1.finhistretension,
			t1.equalrepayment,
			t1.finratetype,
			t1.finbaserate,
			t1.finsplrate,
			t1.finintrate,
			t1.finminrate,
			t1.finmaxrate,
			t1.findftintfrq,
			t1.finisintcpz,
			t1.fincpzfrq,
			t1.finisrvwalw,
			t1.finrvwfrq,
			t1.fingrcratetype,
			t1.fingrcbaserate,
			t1.fingrcsplrate,
			t1.fingrcintrate,
			t1.fingrcminrate,
			t1.fingrcmaxrate,
			t1.fingrcdftintfrq,
			t1.fingrcisintcpz,
			t1.fingrccpzfrq,
			t1.fingrcisrvwalw,
			t1.fingrcrvwfrq,
			t1.finminterm,
			t1.finmaxterm,
			t1.findftterms,
			t1.finrpyfrq,
			t1.finrepaymethod,
			t1.finisalwpartialrpy,
			t1.finisalwdifferment,
			t1.finmaxdifferment,
			t1.finisalwearlyrpy,
			t1.finisalwearlysettle,
			t1.finodrpytries,
			t1.finearlypayrule,
			t1.finearlysettlerule,
			t1.findepositrestrictedto,
			t1.finaebuyorinception,
			t1.finaesellormaturity,
			t1.finisactive,
			t1.version,
			t1.lastmntby,
			t1.lastmnton,
			t1.recordstatus,
			t1.rolecode,
			t1.nextrolecode,
			t1.taskid,
			t1.nexttaskid,
			t1.recordtype,
			t1.workflowid,
			t1.stepfinance,
			t1.steppingmandatory,
			t1.alwmanualsteps,
			t1.alwdsteppolicies,
			t1.dftsteppolicy,
			t4.actypedesc AS lovdescfincontingentactypename,
			t5.actypedesc AS lovdescfinactypename,
			t1.finisdwpayrequired,
			t1.finrvwrateapplfor,
			t1.finalwratechangeanydate,
			t1.finisintcpzatgrcend,
			t1.finelgrulecode,
			t1.limitelgrulecode,
			t1.finschcalcodeonrvw,
			t1.alwplandeferment,
			t1.plandefercount,
			t1.finassettype,
			t1.pftpayactype,
			t1.finisopenpftpayacc,
			t31.actypedesc AS lovdescpftpayactypename,
			t1.finisalwgrcrepay,
			t1.fingrcschdmthd,
			t1.fingrcmargin,
			t1.finmargin,
			t1.finscheduleon,
			t1.fingrcscheduleon,
			t1.fincommitmentreq,
			t1.fincollateralreq,
			t1.findepreciationreq,
			t1.findepreciationfrq,
			t1.finbankcontingentactype,
			t1.finprovisionactype,
			t38.actypedesc AS lovdescfinbankcontactypename,
			t39.actypedesc AS lovdescfinprovisionactypename,
			t1.allowriainvestment,
			t1.overridelimit,
			t1.limitrequired,
			t1.fincommitmentovrride,
			t1.fincollateralovrride,
			t1.finpftunchanged,
			t1.applyodpenalty,
			t1.odincgrcdays,
			t1.odchargetype,
			t1.odgracedays,
			t1.odchargecalon,
			t1.odchargeamtorperc,
			t1.odallowwaiver,
			t1.odmaxwaiverperc,
			t1.findivision,
			t48.divisioncodedesc AS lovdescfindivisionname,
			t48.entitycode AS lovdescentitycode,
			t1.finsuspactype,
			t49.actypedesc AS lovdescfinsuspactypename,
			t1.product,
			t1.startdate,
			t1.enddate,
			t1.allowdownpaypgm,
			t1.fintypedesc AS lovdescpromofintypedesc,
			t1.remarks,
			t1.alwearlypaymethods,
			t1.pastduepftcalmthd,
			t1.pastduepftmargin,
			t1.alwadvancerent,
			t1.grcadvbaserate,
			t1.grcadvmargin,
			t1.grcadvpftrate,
			t1.rpyadvbaserate,
			t1.rpyadvmargin,
			t1.rpyadvpftrate,
			t1.rolloverfinance,
			t1.rolloverfrq,
			t1.downpayrule,
			t59.rulecode AS downpayruledesc,
			t1.finsusptrigger,
			t1.finsuspremarks,
			t1.alwmultipartydisb,
			t1.collateraltype,
			t1.tdsapplicable,
			t1.manualschedule,
			t1.applygrcpricing,
			t1.grcpricingmethod,
			t1.applyrpypricing,
			t1.rpypricingmethod,
			t1.rpyhierarchy,
			t67.rulecode AS grcpricingmethoddesc,
			t68.rulecode AS rpypricingmethoddesc,
			t1.droplineod,
			t1.droppingmethod,
			t1.ratechganyday,
			t1.finrepaypftonfrq,
			t1.alwbpi,
			t1.bpitreatment,
			t1.pftdueschon,
			t1.planemihalw,
			t1.planemihmethod,
			t1.planemihmaxperyear,
			t1.planemihmax,
			t1.planemihlockperiod,
			t1.planemicpz,
			t1.unplanemihlockperiod,
			t1.unplanemicpz,
			t1.reagecpz,
			t1.fddlockperiod,
			t1.alwdrpymethods,
			t1.maxunplannedemi,
			t1.maxreageholidays,
			t1.roundingmode,
			t1.roundingtarget,
			t1.frequencydays,
			t1.quickdisb,
			t1.alwmaxdisbcheckreq,
			t1.alwreage,
			t1.alwunplanemiholiday,
			t1.profitcenterid,
			t69.profitcentercode,
			t69.profitcenterdesc,
			t1.productcategory,
			t2.productdesc AS fincategorydesc,
			t1.developerfinance,
			t1.costoffunds,
			t1.chequecapturereq,
			t1.FinLTVCheck
		   FROM ((((((((((((rmtfinancetypes_temp t1
			 LEFT JOIN bmtproduct t2 ON ((t1.fincategory = t2.productcode)))
			 LEFT JOIN rmtaccounttypes t4 ON ((t1.fincontingentactype = t4.actype)))
			 LEFT JOIN rmtaccounttypes t38 ON ((t1.finbankcontingentactype = t38.actype)))
			 LEFT JOIN rmtaccounttypes t39 ON ((t1.finprovisionactype = t39.actype)))
			 LEFT JOIN rmtaccounttypes t5 ON ((t1.finactype = t5.actype)))
			 LEFT JOIN rmtaccounttypes t31 ON ((t1.pftpayactype = t31.actype)))
			 LEFT JOIN smtdivisiondetail t48 ON ((t1.findivision = t48.divisioncode)))
			 LEFT JOIN rmtaccounttypes t49 ON ((t1.finsuspactype = t49.actype)))
			 LEFT JOIN rules t59 ON ((t1.downpayrule = t59.ruleid)))
			 LEFT JOIN rules t67 ON ((t1.grcpricingmethod = t67.ruleid)))
			 LEFT JOIN rules t68 ON ((t1.rpypricingmethod = t68.ruleid)))
			 LEFT JOIN profitcenters t69 ON ((t69.profitcenterid = t1.profitcenterid)))
		UNION ALL
		 SELECT t1.fintype,
			t1.fincategory,
			t1.fintypedesc,
			t1.finccy,
			t1.findayscaltype,
			t1.finactype,
			t1.fincontingentactype,
			t1.finisgenref,
			t1.finmaxamount,
			t1.finminamount,
			t1.finisopennewfinac,
			t1.findftstmtfrq,
			t1.finisalwmd,
			t1.finschdmthd,
			t1.finisalwgrace,
			t1.finhistretension,
			t1.equalrepayment,
			t1.finratetype,
			t1.finbaserate,
			t1.finsplrate,
			t1.finintrate,
			t1.finminrate,
			t1.finmaxrate,
			t1.findftintfrq,
			t1.finisintcpz,
			t1.fincpzfrq,
			t1.finisrvwalw,
			t1.finrvwfrq,
			t1.fingrcratetype,
			t1.fingrcbaserate,
			t1.fingrcsplrate,
			t1.fingrcintrate,
			t1.fingrcminrate,
			t1.fingrcmaxrate,
			t1.fingrcdftintfrq,
			t1.fingrcisintcpz,
			t1.fingrccpzfrq,
			t1.fingrcisrvwalw,
			t1.fingrcrvwfrq,
			t1.finminterm,
			t1.finmaxterm,
			t1.findftterms,
			t1.finrpyfrq,
			t1.finrepaymethod,
			t1.finisalwpartialrpy,
			t1.finisalwdifferment,
			t1.finmaxdifferment,
			t1.finisalwearlyrpy,
			t1.finisalwearlysettle,
			t1.finodrpytries,
			t1.finearlypayrule,
			t1.finearlysettlerule,
			t1.findepositrestrictedto,
			t1.finaebuyorinception,
			t1.finaesellormaturity,
			t1.finisactive,
			t1.version,
			t1.lastmntby,
			t1.lastmnton,
			t1.recordstatus,
			t1.rolecode,
			t1.nextrolecode,
			t1.taskid,
			t1.nexttaskid,
			t1.recordtype,
			t1.workflowid,
			t1.stepfinance,
			t1.steppingmandatory,
			t1.alwmanualsteps,
			t1.alwdsteppolicies,
			t1.dftsteppolicy,
			t4.actypedesc AS lovdescfincontingentactypename,
			t5.actypedesc AS lovdescfinactypename,
			t1.finisdwpayrequired,
			t1.finrvwrateapplfor,
			t1.finalwratechangeanydate,
			t1.finisintcpzatgrcend,
			t1.finelgrulecode,
			t1.limitelgrulecode,
			t1.finschcalcodeonrvw,
			t1.alwplandeferment,
			t1.plandefercount,
			t1.finassettype,
			t1.pftpayactype,
			t1.finisopenpftpayacc,
			t31.actypedesc AS lovdescpftpayactypename,
			t1.finisalwgrcrepay,
			t1.fingrcschdmthd,
			t1.fingrcmargin,
			t1.finmargin,
			t1.finscheduleon,
			t1.fingrcscheduleon,
			t1.fincommitmentreq,
			t1.fincollateralreq,
			t1.findepreciationreq,
			t1.findepreciationfrq,
			t1.finbankcontingentactype,
			t1.finprovisionactype,
			t38.actypedesc AS lovdescfinbankcontactypename,
			t39.actypedesc AS lovdescfinprovisionactypename,
			t1.allowriainvestment,
			t1.overridelimit,
			t1.limitrequired,
			t1.fincommitmentovrride,
			t1.fincollateralovrride,
			t1.finpftunchanged,
			t1.applyodpenalty,
			t1.odincgrcdays,
			t1.odchargetype,
			t1.odgracedays,
			t1.odchargecalon,
			t1.odchargeamtorperc,
			t1.odallowwaiver,
			t1.odmaxwaiverperc,
			t1.findivision,
			t48.divisioncodedesc AS lovdescfindivisionname,
			t48.entitycode AS lovdescentitycode,
			t1.finsuspactype,
			t49.actypedesc AS lovdescfinsuspactypename,
			t1.product,
			t1.startdate,
			t1.enddate,
			t1.allowdownpaypgm,
			t1.fintypedesc AS lovdescpromofintypedesc,
			t1.remarks,
			t1.alwearlypaymethods,
			t1.pastduepftcalmthd,
			t1.pastduepftmargin,
			t1.alwadvancerent,
			t1.grcadvbaserate,
			t1.grcadvmargin,
			t1.grcadvpftrate,
			t1.rpyadvbaserate,
			t1.rpyadvmargin,
			t1.rpyadvpftrate,
			t1.rolloverfinance,
			t1.rolloverfrq,
			t1.downpayrule,
			t59.rulecode AS downpayruledesc,
			t1.finsusptrigger,
			t1.finsuspremarks,
			t1.alwmultipartydisb,
			t1.collateraltype,
			t1.tdsapplicable,
			t1.manualschedule,
			t1.applygrcpricing,
			t1.grcpricingmethod,
			t1.applyrpypricing,
			t1.rpypricingmethod,
			t1.rpyhierarchy,
			t67.rulecode AS grcpricingmethoddesc,
			t68.rulecode AS rpypricingmethoddesc,
			t1.droplineod,
			t1.droppingmethod,
			t1.ratechganyday,
			t1.finrepaypftonfrq,
			t1.alwbpi,
			t1.bpitreatment,
			t1.pftdueschon,
			t1.planemihalw,
			t1.planemihmethod,
			t1.planemihmaxperyear,
			t1.planemihmax,
			t1.planemihlockperiod,
			t1.planemicpz,
			t1.unplanemihlockperiod,
			t1.unplanemicpz,
			t1.reagecpz,
			t1.fddlockperiod,
			t1.alwdrpymethods,
			t1.maxunplannedemi,
			t1.maxreageholidays,
			t1.roundingmode,
			t1.roundingtarget,
			t1.frequencydays,
			t1.quickdisb,
			t1.alwmaxdisbcheckreq,
			t1.alwreage,
			t1.alwunplanemiholiday,
			t1.profitcenterid,
			t69.profitcentercode,
			t69.profitcenterdesc,
			t1.productcategory,
			t2.productdesc AS fincategorydesc,
			t1.developerfinance,
			t1.costoffunds,
			t1.chequecapturereq,
			t1.FinLTVCheck
		   FROM ((((((((((((rmtfinancetypes t1
			 LEFT JOIN bmtproduct t2 ON ((t1.fincategory = t2.productcode)))
			 LEFT JOIN rmtaccounttypes t4 ON ((t1.fincontingentactype = t4.actype)))
			 LEFT JOIN rmtaccounttypes t38 ON ((t1.finbankcontingentactype = t38.actype)))
			 LEFT JOIN rmtaccounttypes t39 ON ((t1.finprovisionactype = t39.actype)))
			 LEFT JOIN rmtaccounttypes t5 ON ((t1.finactype = t5.actype)))
			 LEFT JOIN rmtaccounttypes t31 ON ((t1.pftpayactype = t31.actype)))
			 LEFT JOIN smtdivisiondetail t48 ON ((t1.findivision = t48.divisioncode)))
			 LEFT JOIN rmtaccounttypes t49 ON ((t1.finsuspactype = t49.actype)))
			 LEFT JOIN rules t59 ON ((t1.downpayrule = t59.ruleid)))
			 LEFT JOIN rules t67 ON ((t1.grcpricingmethod = t67.ruleid)))
			 LEFT JOIN rules t68 ON ((t1.rpypricingmethod = t68.ruleid)))
			 LEFT JOIN profitcenters t69 ON ((t69.profitcenterid = t1.profitcenterid)))
		  WHERE (NOT (EXISTS ( SELECT 1 AS expr1
				   FROM rmtfinancetypes_temp
				  WHERE (rmtfinancetypes_temp.fintype = t1.fintype))))
		</createView>
	</changeSet>
	
	<changeSet id="183.1" author="Ganesh.p">
	<comment>PartnerBank and Disbursment BankBranch should be same bank in IFT Mode</comment>
		<sql>
			Delete from ErrorDetails where Code='65033';
			INSERT INTO ErrorDetails VALUES('65033','EN','E','Payment Type Internal Fund Trasfer is not allowed if Partner bank and disbusement bank are not same.','','Approved','','','','','',0,current_timestamp,1000,0);
		</sql>
</changeSet>

<changeSet id="184.1" author="Ganesh.p">
	<comment>Error Message for PartnerBank and Disbusement bank are same but the Payment Type is not IFT</comment>
	<sql>
		Delete from ErrorDetails where Code='65034';
		INSERT INTO ErrorDetails VALUES('65034','EN','W','Partner bank and Disbusement bank are same but the Payment Type is {0}. Do you want to proceed ?','','Approved','','','','','',0,current_timestamp,1000,0);
	</sql>
</changeSet>



	<changeSet author="Siva" id="185">
	<comment>Adding Column Grace Maximum Amount for capping Interest Amount</comment>
		<addColumn tableName="FinanceMain">
			<column name="GrcMaxAmount" type="decimal(18,0)" />
		</addColumn>
	</changeSet>
	
	<changeSet author="Siva" id="186">
	<comment>Adding Column Grace Maximum Amount for capping Interest Amount</comment>
		<addColumn tableName="FinanceMain_Temp">
			<column name="GrcMaxAmount" type="decimal(18,0)" />
		</addColumn>
	</changeSet>
	
	<changeSet author="Siva" id="187">
	<comment>Adding Column Grace Maximum Amount for capping Interest Amount</comment>
		<addColumn tableName="RejectFinanceMain">
			<column name="GrcMaxAmount" type="decimal(18,0)" />
		</addColumn>
	</changeSet>
	<changeSet author="Siva" id="188">
	<comment>Adding Column Grace Maximum Amount for capping Interest Amount</comment>
		<addColumn tableName="FinanceMain_PA">
			<column name="GrcMaxAmount" type="decimal(18,0)" />
		</addColumn>
	</changeSet>
	<changeSet author="Siva" id="189">
	<comment>Adding Column Grace Maximum Amount for capping Interest Amount</comment>
		<addColumn tableName="WIFFinanceMain">
			<column name="GrcMaxAmount" type="decimal(18,0)" />
		</addColumn>
	</changeSet>
	
	<changeSet author="Siva" id="190">
	<comment>Adding Column Grace Maximum Amount for capping Interest Amount</comment>
		<addColumn tableName="WIFFinanceMain_Temp">
			<column name="GrcMaxAmount" type="decimal(18,0)" />
		</addColumn>
	</changeSet>
	
	<changeSet author="Siva" id="191">
	<comment>Added Column updation to default Value</comment>
		<update tableName="FinanceMain">
			<column name="GrcMaxAmount">0</column>
		</update>
	</changeSet>

	<changeSet author="Siva" id="192">
	<comment>Added Column updation to default Value</comment>
		<update tableName="FinanceMain_Temp">
			<column name="GrcMaxAmount">0</column>
		</update>
	</changeSet>
	<changeSet author="Siva" id="193">
	<comment>Added Column updation to default Value</comment>
		<update tableName="RejectFinanceMain">
			<column name="GrcMaxAmount">0</column>
		</update>
	</changeSet>
	<changeSet author="Siva" id="194">
	<comment>Added Column updation to default Value</comment>
		<update tableName="FinanceMain_PA">
			<column name="GrcMaxAmount">0</column>
		</update>
	</changeSet>
	<changeSet author="Siva" id="195">
	<comment>Added Column updation to default Value</comment>
		<update tableName="WIFFinanceMain">
			<column name="GrcMaxAmount">0</column>
		</update>
	</changeSet>

	<changeSet author="Siva" id="196">
	<comment>Added Column updation to default Value</comment>
		<update tableName="WIFFinanceMain_Temp">
			<column name="GrcMaxAmount">0</column>
		</update>
	</changeSet>
	<changeSet id="197" author="Siva">
	 <comment>Adding GrcMaxAmount Column</comment>
		<createView viewName="FINANCEMAIN_AVIEW" replaceIfExists="true">
			SELECT t1.finreference,
				    t1.numberofterms,
				    t1.grcperiodenddate,
				    t1.allowgrcperiod,
				    t1.gracebaserate,
				    t1.gracespecialrate,
				    t1.grcpftrate,
				    t1.grcpftfrq,
				    t1.nextgrcpftdate,
				    t1.allowgrcpftrvw,
				    t1.grcpftrvwfrq,
				    t1.nextgrcpftrvwdate,
				    t1.allowgrccpz,
				    t1.grccpzfrq,
				    t1.nextgrccpzdate,
				    t1.repaybaserate,
				    t1.repayspecialrate,
				    t1.repayprofitrate,
				    t1.repayfrq,
				    t1.nextrepaydate,
				    t1.repaypftfrq,
				    t1.nextrepaypftdate,
				    t1.allowrepayrvw,
				    t1.repayrvwfrq,
				    t1.nextrepayrvwdate,
				    t1.allowrepaycpz,
				    t1.repaycpzfrq,
				    t1.nextrepaycpzdate,
				    t1.maturitydate,
				    t1.cpzatgraceend,
				    t1.downpayment,
				    t1.graceflatamount,
				    t1.reqrepayamount,
				    t1.totalprofit,
				    t1.totalcpz,
				    t1.totalgrosspft,
				    t1.totalgrossgrcpft,
				    t1.totalgracepft,
				    t1.totalgracecpz,
				    t1.grcratebasis,
				    t1.repayratebasis,
				    t1.fintype,
				    t1.finremarks,
				    t1.finccy,
				    t1.schedulemethod,
				    t1.profitdaysbasis,
				    t1.reqmaturity,
				    t1.calterms,
				    t1.calmaturity,
				    t1.firstrepay,
				    t1.lastrepay,
				    t1.finstartdate,
				    t1.finamount,
				    t1.finamount + t1.feechargeamt - t1.downpayment AS lovdescfinancingamount,
				    t1.finrepaymentamount,
				    t1.custid,
				    t1.defferments,
				    t1.plandefercount,
				    t1.finbranch,
				    t1.finsourceid,
				    t1.alloweddefrpychange,
				    t1.availeddefrpychange,
				    t1.alloweddeffrqchange,
				    t1.availeddeffrqchange,
				    t1.recaltype,
				    t1.finassetvalue,
				    t1.disbaccountid,
				    t1.repayaccountid,
				    t1.finisactive,
				    t1.limitvalid,
				    t1.overridelimit,
				    t1.securitydeposit,
				    t1.version,
				    t1.lastmntby,
				    t1.lastmnton,
				    t1.recordstatus,
				    t1.rolecode,
				    t1.nextrolecode,
				    t1.taskid,
				    t1.nexttaskid,
				    t1.recordtype,
				    t1.workflowid,
				    t7.fintypedesc AS lovdescfintypename,
				    t7.finmaxamount AS lovdescfinmaxamt,
				    t7.finminamount AS lovdescfinminamount,
				    t1.mindownpayperc,
				    t7.finisalwdifferment AS lovdescfinalwdeferment,
				    t7.finisdwpayrequired AS lovdescdwnpayreq,
				    t7.finmaxdifferment AS lovdescfinmaxdifferment,
				    t12.branchdesc AS lovdescfinbranchname,
				    t1.lastrepaydate,
				    t1.lastrepaypftdate,
				    t1.lastrepayrvwdate,
				    t1.lastrepaycpzdate,
				    t1.allowgrcrepay,
				    t1.grcschdmthd,
				    t1.grcmargin,
				    t1.repaymargin,
				    t1.fincurrassetvalue,
				    t1.fincommitmentref,
				    t1.finlimitref,
				    t1.depreciationfrq,
				    t1.fincontractdate,
				    t1.nextdepdate,
				    t1.lastdepdate,
				    t1.finaccount,
				    t1.fincustpftaccount,
				    t17.acrtilllbd AS lovdescaccruedtilllbd,
				    t7.finrvwrateapplfor,
				    t1.totalrepayamt,
				    t1.closingstatus,
				    t1.finapproveddate,
				    t1.feechargeamt,
				    t1.blacklisted,
				    t1.finrepaypftonfrq,
				    t1.anualizedpercrate,
				    t1.effectiverateofreturn,
				    t1.migratedfinance,
				    t1.schedulemaintained,
				    t1.scheduleregenerated,
				    t1.finpurpose,
				    t1.finstatus,
				    t1.finstsreason,
				    t1.initiateuser,
				    t1.bankname,
				    t1.iban,
				    t1.accounttype,
				    t1.ddareferenceno,
				    t7.finscheduleon AS lovdescfinscheduleon,
				    t1.custdsr,
				    t1.jointaccount,
				    t1.jointcustid,
				    t1.downpaybank,
				    t1.downpaysupl,
				    t1.downpayaccount,
				    t1.securitycollateral,
				    t1.approved,
				    t1.discrepancy,
				    t1.limitapproved,
				    t1.investmentref,
				    t1.graceterms,
				    t7.findivision AS lovdescfindivision,
				    t1.rcdmaintainsts,
				    t1.finrepaymethod,
				    t1.grcprofitdaysbasis,
				    t1.stepfinance,
				    t1.steptype,
				    t1.steppolicy,
				    t1.alwmanualsteps,
				    t1.noofsteps,
				    t1.linkedfinref,
				    t1.nextuserid,
				    t1.priority,
				    t24.policydesc AS lovdescsteppolicyname,
				    t1.grcminrate,
				    t1.grcmaxrate,
				    t1.rpyminrate,
				    t1.rpymaxrate,
				    t1.deviationapproval,
				    t1.manualschedule,
				    t1.takeoverfinance,
				    t1.grcadvbaserate,
				    t1.grcadvmargin,
				    t1.grcadvpftrate,
				    t1.rpyadvbaserate,
				    t1.rpyadvmargin,
				    t1.rpyadvpftrate,
				    t1.supplementrent,
				    t1.increasedcost,
				    t1.rolloverfrq,
				    t1.nextrolloverdate,
				    t27.custstsdescription,
				    t1.shariastatus,
				    t1.initiatedate,
				    t1.finpreapprovedref,
				    t1.mmaid,
				    t1.accountsofficer,
				    t1.feeaccountid,
				    t1.fincancelac,
				    t28.dealername AS lovdescaccountsofficer,
				    t28.dealercity AS lovdescsourcecity,
				    t29.agreename,
				    t29.mmareference AS lovdescmmareference,
				    t1.dsacode,
				    t30.rofficerdesc AS dsacodedesc,
				    t1.tdsapplicable,
				    t1.mandateid,
				    t1.droplinefrq,
				    t1.firstdroplinedate,
				    t1.pftservicingodlimit,
				    t1.insuranceamt,
				    t1.deductinsdisb,
				    t1.alwbpi,
				    t1.bpitreatment,
				    t1.planemihalw,
				    t1.planemihmethod,
				    t1.planemihmaxperyear,
				    t1.planemihmax,
				    t1.planemihlockperiod,
				    t1.planemicpz,
				    t1.calroundingmode,
				    t1.alwmultidisb,
				    t1.applicationno,
				    t1.referralid,
				    t33.rofficerdesc AS referraliddesc,
				    t1.dmacode,
				    t34.rofficerdesc AS dmacodedesc,
				    t1.salesdepartment,
				    t35.gendeptdesc AS salesdepartmentdesc,
				    t1.quickdisb,
				    t1.wifreference,
				    t1.unplanemihlockperiod,
				    t1.unplanemicpz,
				    t1.reagecpz,
				    t1.maxunplannedemi,
				    t1.maxreageholidays,
				    t1.availedunplanemi,
				    t1.availedreageh,
				    t1.bpiamount,
				    t1.deductfeedisb,
				    t1.rvwrateapplfor,
				    t1.schcalonrvw,
				    t1.pastduepftcalmthd,
				    t1.pastduepftmargin,
				    t1.droppingmethod,
				    t1.ratechganyday,
				    t1.promotioncode,
				    t1.restructureloan,
				    t1.oldfinreference,
				    t1.reagebucket,
				    t1.fincategory,
				    t1.productcategory,
				    t1.roundingtarget,
				    t36.entitycode AS lovdescentitycode,
				    t1.eligibilitymethod,
				    t1.employeename,
				    t37.rofficerdesc AS employeenamedesc,
				    t1.samplingrequired,
				    t1.legalrequired,
				    T1.GrcMaxAmount
				   FROM financemain t1
				     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
				     LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode
				     LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference
				     LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode
				     LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode
				     LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid
				     LEFT JOIN mmagreements t29 ON t1.mmaid = t29.mmaid
				     LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode
				     LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode
				     LEFT JOIN relationshipofficers t34 ON t1.dmacode = t34.rofficercode
				     LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment
				     LEFT JOIN smtdivisiondetail t36 ON t7.findivision = t36.divisioncode
				     LEFT JOIN relationshipofficers t37 ON t1.employeename = t37.rofficercode
		</createView>
	</changeSet>
	
	<changeSet id="198" author="Siva">
	 <comment>Adding GrcMaxAmount Column</comment>
		<createView viewName="FINANCEMAIN_VIEW" replaceIfExists="true">
			SELECT t1.finreference,
    t1.investmentref,
    t1.numberofterms,
    t1.grcperiodenddate,
    t1.allowgrcperiod,
    t1.gracebaserate,
    t1.gracespecialrate,
    t1.grcpftrate,
    t1.grcpftfrq,
    t1.nextgrcpftdate,
    t1.allowgrcpftrvw,
    t1.grcpftrvwfrq,
    t1.nextgrcpftrvwdate,
    t1.allowgrccpz,
    t1.grccpzfrq,
    t1.nextgrccpzdate,
    t1.repaybaserate,
    t1.repayspecialrate,
    t1.repayprofitrate,
    t1.repayfrq,
    t1.nextrepaydate,
    t1.repaypftfrq,
    t1.nextrepaypftdate,
    t1.allowrepayrvw,
    t1.repayrvwfrq,
    t1.nextrepayrvwdate,
    t1.allowrepaycpz,
    t1.repaycpzfrq,
    t1.nextrepaycpzdate,
    t1.maturitydate,
    t1.cpzatgraceend,
    t1.downpayment,
    t1.graceflatamount,
    t1.reqrepayamount,
    t1.totalprofit,
    t1.totalcpz,
    t1.totalgrosspft,
    t1.totalgrossgrcpft,
    t1.totalgracepft,
    t1.totalgracecpz,
    t1.grcratebasis,
    t1.repayratebasis,
    t1.fintype,
    t1.finremarks,
    t1.finccy,
    t1.schedulemethod,
    t1.profitdaysbasis,
    t1.reqmaturity,
    t1.calterms,
    t1.calmaturity,
    t1.firstrepay,
    t1.lastrepay,
    t1.finstartdate,
    t1.finamount,
    t1.finamount + t1.feechargeamt - t1.downpayment AS lovdescfinancingamount,
    t1.finrepaymentamount,
    t1.custid,
    t1.defferments,
    t1.plandefercount,
    t1.finbranch,
    t1.finsourceid,
    t1.alloweddefrpychange,
    t1.availeddefrpychange,
    t1.alloweddeffrqchange,
    t1.availeddeffrqchange,
    t1.recaltype,
    t1.finassetvalue,
    t1.disbaccountid,
    t1.repayaccountid,
    t1.finisactive,
    t1.limitvalid,
    t1.overridelimit,
    t1.securitydeposit,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t7.fintypedesc AS lovdescfintypename,
    t7.finmaxamount AS lovdescfinmaxamt,
    t7.finminamount AS lovdescfinminamount,
    t1.mindownpayperc,
    t7.finisalwdifferment AS lovdescfinalwdeferment,
    t7.finisdwpayrequired AS lovdescdwnpayreq,
    t7.finmaxdifferment AS lovdescfinmaxdifferment,
    t12.branchdesc AS lovdescfinbranchname,
    t1.lastrepaydate,
    t1.lastrepaypftdate,
    t1.lastrepayrvwdate,
    t1.lastrepaycpzdate,
    t1.allowgrcrepay,
    t1.grcschdmthd,
    t1.grcmargin,
    t1.repaymargin,
    t1.fincurrassetvalue,
    t1.fincommitmentref,
    t1.finlimitref,
    t1.depreciationfrq,
    t1.fincontractdate,
    t1.nextdepdate,
    t1.lastdepdate,
    t1.finaccount,
    t1.fincustpftaccount,
    t17.acrtilllbd AS lovdescaccruedtilllbd,
    t7.finrvwrateapplfor,
    t1.totalrepayamt,
    t1.closingstatus,
    t1.finapproveddate,
    t1.feechargeamt,
    t1.blacklisted,
    t1.finrepaypftonfrq,
    t1.anualizedpercrate,
    t1.effectiverateofreturn,
    t1.migratedfinance,
    t1.schedulemaintained,
    t1.scheduleregenerated,
    t1.finpurpose,
    t1.finstatus,
    t1.finstsreason,
    t1.initiateuser,
    t1.bankname,
    t1.iban,
    t1.accounttype,
    t1.ddareferenceno,
    t7.finscheduleon AS lovdescfinscheduleon,
    t1.custdsr,
    t1.jointaccount,
    t1.jointcustid,
    t1.downpaybank,
    t1.downpaysupl,
    t1.downpayaccount,
    t1.securitycollateral,
    t1.approved,
    t1.discrepancy,
    t1.limitapproved,
    t1.graceterms,
    t7.findivision AS lovdescfindivision,
    t1.rcdmaintainsts,
    t1.finrepaymethod,
    t1.grcprofitdaysbasis,
    t1.stepfinance,
    t1.steptype,
    t1.steppolicy,
    t1.alwmanualsteps,
    t1.noofsteps,
    t1.linkedfinref,
    t1.nextuserid,
    t1.priority,
    t24.policydesc AS lovdescsteppolicyname,
    t1.grcminrate,
    t1.grcmaxrate,
    t1.rpyminrate,
    t1.rpymaxrate,
    t1.deviationapproval,
    t1.manualschedule,
    t1.takeoverfinance,
    t1.grcadvbaserate,
    t1.grcadvmargin,
    t1.grcadvpftrate,
    t1.rpyadvbaserate,
    t1.rpyadvmargin,
    t1.rpyadvpftrate,
    t1.supplementrent,
    t1.increasedcost,
    t1.rolloverfrq,
    t1.nextrolloverdate,
    t27.custstsdescription,
    t1.shariastatus,
    t1.initiatedate,
    t1.finpreapprovedref,
    t1.mmaid,
    t1.accountsofficer,
    t1.feeaccountid,
    t1.fincancelac,
    t28.dealername AS lovdescaccountsofficer,
    t28.dealercity AS lovdescsourcecity,
    t1.dsacode,
    t30.rofficerdesc AS dsacodedesc,
    t1.tdsapplicable,
    t1.mandateid,
    t1.droplinefrq,
    t1.firstdroplinedate,
    t1.pftservicingodlimit,
    t1.insuranceamt,
    t1.deductinsdisb,
    t1.alwbpi,
    t1.bpitreatment,
    t1.planemihalw,
    t1.planemihmethod,
    t1.planemihmaxperyear,
    t1.planemihmax,
    t1.planemihlockperiod,
    t1.planemicpz,
    t1.calroundingmode,
    t1.alwmultidisb,
    t1.applicationno,
    t1.referralid,
    t33.rofficerdesc AS referraliddesc,
    t1.dmacode,
    t34.rofficerdesc AS dmacodedesc,
    t1.salesdepartment,
    t35.gendeptdesc AS salesdepartmentdesc,
    t1.quickdisb,
    t1.wifreference,
    t1.unplanemihlockperiod,
    t1.unplanemicpz,
    t1.reagecpz,
    t1.maxunplannedemi,
    t1.maxreageholidays,
    t1.availedunplanemi,
    t1.availedreageh,
    t1.bpiamount,
    t1.deductfeedisb,
    t1.rvwrateapplfor,
    t1.schcalonrvw,
    t1.pastduepftcalmthd,
    t1.pastduepftmargin,
    t1.droppingmethod,
    t1.ratechganyday,
    t1.promotioncode,
    t1.restructureloan,
    t1.oldfinreference,
    t1.reagebucket,
    t1.fincategory,
    t1.productcategory,
    t1.roundingtarget,
    t36.entitycode AS lovdescentitycode,
    t1.eligibilitymethod,
    t1.employeename,
    t37.rofficerdesc AS employeenamedesc,
    t1.samplingrequired,
    t1.legalrequired,
    t1.GrcMaxAmount
   FROM financemain_temp t1
     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
     LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode
     LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference
     LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode
     LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode
     LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid
     LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode
     LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode
     LEFT JOIN relationshipofficers t34 ON t1.dmacode = t34.rofficercode
     LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment
     LEFT JOIN smtdivisiondetail t36 ON t7.findivision = t36.divisioncode
     LEFT JOIN relationshipofficers t37 ON t1.employeename = t37.rofficercode
UNION ALL
 SELECT t1.finreference,
    t1.investmentref,
    t1.numberofterms,
    t1.grcperiodenddate,
    t1.allowgrcperiod,
    t1.gracebaserate,
    t1.gracespecialrate,
    t1.grcpftrate,
    t1.grcpftfrq,
    t1.nextgrcpftdate,
    t1.allowgrcpftrvw,
    t1.grcpftrvwfrq,
    t1.nextgrcpftrvwdate,
    t1.allowgrccpz,
    t1.grccpzfrq,
    t1.nextgrccpzdate,
    t1.repaybaserate,
    t1.repayspecialrate,
    t1.repayprofitrate,
    t1.repayfrq,
    t1.nextrepaydate,
    t1.repaypftfrq,
    t1.nextrepaypftdate,
    t1.allowrepayrvw,
    t1.repayrvwfrq,
    t1.nextrepayrvwdate,
    t1.allowrepaycpz,
    t1.repaycpzfrq,
    t1.nextrepaycpzdate,
    t1.maturitydate,
    t1.cpzatgraceend,
    t1.downpayment,
    t1.graceflatamount,
    t1.reqrepayamount,
    t1.totalprofit,
    t1.totalcpz,
    t1.totalgrosspft,
    t1.totalgrossgrcpft,
    t1.totalgracepft,
    t1.totalgracecpz,
    t1.grcratebasis,
    t1.repayratebasis,
    t1.fintype,
    t1.finremarks,
    t1.finccy,
    t1.schedulemethod,
    t1.profitdaysbasis,
    t1.reqmaturity,
    t1.calterms,
    t1.calmaturity,
    t1.firstrepay,
    t1.lastrepay,
    t1.finstartdate,
    t1.finamount,
    t1.finamount + t1.feechargeamt - t1.downpayment AS lovdescfinancingamount,
    t1.finrepaymentamount,
    t1.custid,
    t1.defferments,
    t1.plandefercount,
    t1.finbranch,
    t1.finsourceid,
    t1.alloweddefrpychange,
    t1.availeddefrpychange,
    t1.alloweddeffrqchange,
    t1.availeddeffrqchange,
    t1.recaltype,
    t1.finassetvalue,
    t1.disbaccountid,
    t1.repayaccountid,
    t1.finisactive,
    t1.limitvalid,
    t1.overridelimit,
    t1.securitydeposit,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t7.fintypedesc AS lovdescfintypename,
    t7.finmaxamount AS lovdescfinmaxamt,
    t7.finminamount AS lovdescfinminamount,
    t1.mindownpayperc,
    t7.finisalwdifferment AS lovdescfinalwdeferment,
    t7.finisdwpayrequired AS lovdescdwnpayreq,
    t7.finmaxdifferment AS lovdescfinmaxdifferment,
    t12.branchdesc AS lovdescfinbranchname,
    t1.lastrepaydate,
    t1.lastrepaypftdate,
    t1.lastrepayrvwdate,
    t1.lastrepaycpzdate,
    t1.allowgrcrepay,
    t1.grcschdmthd,
    t1.grcmargin,
    t1.repaymargin,
    t1.fincurrassetvalue,
    t1.fincommitmentref,
    t1.finlimitref,
    t1.depreciationfrq,
    t1.fincontractdate,
    t1.nextdepdate,
    t1.lastdepdate,
    t1.finaccount,
    t1.fincustpftaccount,
    t17.acrtilllbd AS lovdescaccruedtilllbd,
    t7.finrvwrateapplfor,
    t1.totalrepayamt,
    t1.closingstatus,
    t1.finapproveddate,
    t1.feechargeamt,
    t1.blacklisted,
    t1.finrepaypftonfrq,
    t1.anualizedpercrate,
    t1.effectiverateofreturn,
    t1.migratedfinance,
    t1.schedulemaintained,
    t1.scheduleregenerated,
    t1.finpurpose,
    t1.finstatus,
    t1.finstsreason,
    t1.initiateuser,
    t1.bankname,
    t1.iban,
    t1.accounttype,
    t1.ddareferenceno,
    t7.finscheduleon AS lovdescfinscheduleon,
    t1.custdsr,
    t1.jointaccount,
    t1.jointcustid,
    t1.downpaybank,
    t1.downpaysupl,
    t1.downpayaccount,
    t1.securitycollateral,
    t1.approved,
    t1.discrepancy,
    t1.limitapproved,
    t1.graceterms,
    t7.findivision AS lovdescfindivision,
    t1.rcdmaintainsts,
    t1.finrepaymethod,
    t1.grcprofitdaysbasis,
    t1.stepfinance,
    t1.steptype,
    t1.steppolicy,
    t1.alwmanualsteps,
    t1.noofsteps,
    t1.linkedfinref,
    t1.nextuserid,
    t1.priority,
    t24.policydesc AS lovdescsteppolicyname,
    t1.grcminrate,
    t1.grcmaxrate,
    t1.rpyminrate,
    t1.rpymaxrate,
    t1.deviationapproval,
    t1.manualschedule,
    t1.takeoverfinance,
    t1.grcadvbaserate,
    t1.grcadvmargin,
    t1.grcadvpftrate,
    t1.rpyadvbaserate,
    t1.rpyadvmargin,
    t1.rpyadvpftrate,
    t1.supplementrent,
    t1.increasedcost,
    t1.rolloverfrq,
    t1.nextrolloverdate,
    t27.custstsdescription,
    t1.shariastatus,
    t1.initiatedate,
    t1.finpreapprovedref,
    t1.mmaid,
    t1.accountsofficer,
    t1.feeaccountid,
    t1.fincancelac,
    t28.dealername AS lovdescaccountsofficer,
    t28.dealercity AS lovdescsourcecity,
    t1.dsacode,
    t30.rofficerdesc AS dsacodedesc,
    t1.tdsapplicable,
    t1.mandateid,
    t1.droplinefrq,
    t1.firstdroplinedate,
    t1.pftservicingodlimit,
    t1.insuranceamt,
    t1.deductinsdisb,
    t1.alwbpi,
    t1.bpitreatment,
    t1.planemihalw,
    t1.planemihmethod,
    t1.planemihmaxperyear,
    t1.planemihmax,
    t1.planemihlockperiod,
    t1.planemicpz,
    t1.calroundingmode,
    t1.alwmultidisb,
    t1.applicationno,
    t1.referralid,
    t33.rofficerdesc AS referraliddesc,
    t1.dmacode,
    t34.rofficerdesc AS dmacodedesc,
    t1.salesdepartment,
    t35.gendeptdesc AS salesdepartmentdesc,
    t1.quickdisb,
    t1.wifreference,
    t1.unplanemihlockperiod,
    t1.unplanemicpz,
    t1.reagecpz,
    t1.maxunplannedemi,
    t1.maxreageholidays,
    t1.availedunplanemi,
    t1.availedreageh,
    t1.bpiamount,
    t1.deductfeedisb,
    t1.rvwrateapplfor,
    t1.schcalonrvw,
    t1.pastduepftcalmthd,
    t1.pastduepftmargin,
    t1.droppingmethod,
    t1.ratechganyday,
    t1.promotioncode,
    t1.restructureloan,
    t1.oldfinreference,
    t1.reagebucket,
    t1.fincategory,
    t1.productcategory,
    t1.roundingtarget,
    t36.entitycode AS lovdescentitycode,
    t1.eligibilitymethod,
    t1.employeename,
    t37.rofficerdesc AS employeenamedesc,
    t1.samplingrequired,
    t1.legalrequired,
     t1.GrcMaxAmount
   FROM financemain t1
     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
     LEFT JOIN rmtbranches t12 ON t1.finbranch = t12.branchcode
     LEFT JOIN finpftdetails t17 ON t17.finreference = t1.finreference
     LEFT JOIN steppolicyheader t24 ON t1.steppolicy = t24.policycode
     LEFT JOIN bmtcuststatuscodes t27 ON t1.finstatus = t27.custstscode
     LEFT JOIN amtvehicledealer t28 ON t1.accountsofficer = t28.dealerid
     LEFT JOIN relationshipofficers t30 ON t1.dsacode = t30.rofficercode
     LEFT JOIN relationshipofficers t33 ON t1.referralid = t33.rofficercode
     LEFT JOIN relationshipofficers t34 ON t1.dmacode = t34.rofficercode
     LEFT JOIN rmtgendepartments t35 ON t1.salesdepartment = t35.gendepartment
     LEFT JOIN smtdivisiondetail t36 ON t7.findivision = t36.divisioncode
     LEFT JOIN relationshipofficers t37 ON t1.employeename = t37.rofficercode
  WHERE NOT (EXISTS ( SELECT 1 AS expr1
           FROM financemain_temp
          WHERE financemain_temp.finreference = t1.finreference))
		</createView>
	</changeSet>
	
	<changeSet id="199" author="Siva">
	 <comment>Adding GrcMaxAmount Column</comment>
		<createView viewName="FINANCEMAIN_TVIEW" replaceIfExists="true">
			SELECT t1.finreference,
				    t1.investmentref,
				    t1.numberofterms,
				    t1.grcperiodenddate,
				    t1.allowgrcperiod,
				    t1.gracebaserate,
				    t1.gracespecialrate,
				    t1.grcpftrate,
				    t1.grcpftfrq,
				    t1.nextgrcpftdate,
				    t1.allowgrcpftrvw,
				    t1.grcpftrvwfrq,
				    t1.nextgrcpftrvwdate,
				    t1.allowgrccpz,
				    t1.grccpzfrq,
				    t1.nextgrccpzdate,
				    t1.repaybaserate,
				    t1.repayspecialrate,
				    t1.repayprofitrate,
				    t1.repayfrq,
				    t1.nextrepaydate,
				    t1.repaypftfrq,
				    t1.nextrepaypftdate,
				    t1.allowrepayrvw,
				    t1.repayrvwfrq,
				    t1.nextrepayrvwdate,
				    t1.allowrepaycpz,
				    t1.repaycpzfrq,
				    t1.nextrepaycpzdate,
				    t1.maturitydate,
				    t1.cpzatgraceend,
				    t1.downpayment,
				    t1.graceflatamount,
				    t1.reqrepayamount,
				    t1.totalprofit,
				    t1.totalcpz,
				    t1.totalgrosspft,
				    t1.totalgrossgrcpft,
				    t1.totalgracepft,
				    t1.totalgracecpz,
				    t1.grcratebasis,
				    t1.repayratebasis,
				    t1.fintype,
				    t1.finremarks,
				    t1.finccy,
				    t1.schedulemethod,
				    t1.profitdaysbasis,
				    t1.reqmaturity,
				    t1.calterms,
				    t1.calmaturity,
				    t1.firstrepay,
				    t1.lastrepay,
				    t1.finstartdate,
				    t1.finamount,
				    t1.finrepaymentamount,
				    t1.custid,
				    t1.defferments,
				    t1.plandefercount,
				    t1.finbranch,
				    t1.finsourceid,
				    t1.alloweddefrpychange,
				    t1.availeddefrpychange,
				    t1.alloweddeffrqchange,
				    t1.availeddeffrqchange,
				    t1.recaltype,
				    t1.finassetvalue,
				    t1.disbaccountid,
				    t1.repayaccountid,
				    t1.finisactive,
				    t1.limitvalid,
				    t1.overridelimit,
				    t1.securitydeposit,
				    t1.version,
				    t1.lastmntby,
				    t1.lastmnton,
				    t1.recordstatus,
				    t1.rolecode,
				    t1.nextrolecode,
				    t1.taskid,
				    t1.nexttaskid,
				    t1.recordtype,
				    t1.workflowid,
				    t2.fintypedesc AS lovdescfintypename,
				    t2.finmaxamount AS lovdescfinmaxamt,
				    t2.finminamount AS lovdescfinminamount,
				    t1.mindownpayperc,
				    t4.branchdesc AS lovdescfinbranchname,
				    t1.lastrepaydate,
				    t1.lastrepaypftdate,
				    t1.lastrepayrvwdate,
				    t1.lastrepaycpzdate,
				    t1.allowgrcrepay,
				    t1.grcschdmthd,
				    t1.grcmargin,
				    t1.repaymargin,
				    t1.fincurrassetvalue,
				    t1.fincommitmentref,
				    t1.finlimitref,
				    t1.depreciationfrq,
				    t1.fincontractdate,
				    t1.nextdepdate,
				    t1.lastdepdate,
				    t1.finaccount,
				    t1.fincustpftaccount,
				    t1.totalrepayamt,
				    t1.finapproveddate,
				    t1.feechargeamt,
				    t1.blacklisted,
				    t1.finrepaypftonfrq,
				    t1.anualizedpercrate,
				    t1.effectiverateofreturn,
				    t1.migratedfinance,
				    t1.schedulemaintained,
				    t1.scheduleregenerated,
				    t1.finpurpose,
				    t1.finstatus,
				    t1.finstsreason,
				    t1.initiateuser,
				    t1.bankname,
				    t1.iban,
				    t1.accounttype,
				    t1.ddareferenceno,
				    t1.custdsr,
				    t1.jointaccount,
				    t1.jointcustid,
				    t1.downpaybank,
				    t1.downpaysupl,
				    t1.downpayaccount,
				    t1.securitycollateral,
				    t1.approved,
				    t1.discrepancy,
				    t1.limitapproved,
				    t1.graceterms,
				    t2.findivision AS lovdescfindivision,
				    t1.rcdmaintainsts,
				    t1.finrepaymethod,
				    t1.grcprofitdaysbasis,
				    t1.stepfinance,
				    t1.steptype,
				    t1.steppolicy,
				    t1.alwmanualsteps,
				    t1.noofsteps,
				    t1.linkedfinref,
				    t1.nextuserid,
				    t1.priority,
				    t5.policydesc AS lovdescsteppolicyname,
				    t1.grcminrate,
				    t1.grcmaxrate,
				    t1.rpyminrate,
				    t1.rpymaxrate,
				    t1.deviationapproval,
				    t1.manualschedule,
				    t1.takeoverfinance,
				    t1.grcadvbaserate,
				    t1.grcadvmargin,
				    t1.grcadvpftrate,
				    t1.rpyadvbaserate,
				    t1.rpyadvmargin,
				    t1.rpyadvpftrate,
				    t1.supplementrent,
				    t1.increasedcost,
				    t1.creditinsamt,
				    t1.rolloverfrq,
				    t1.nextrolloverdate,
				    t1.shariastatus,
				    t1.initiatedate,
				    t1.finpreapprovedref,
				    t1.mmaid,
				    t1.accountsofficer,
				    t1.feeaccountid,
				    t1.fincancelac,
				    t6.dealername AS lovdescaccountsofficer,
				    t6.dealercity AS lovdescsourcecity,
				    t1.dsacode,
				    t7.rofficerdesc AS dsacodedesc,
				    t1.tdsapplicable,
				    t1.mandateid,
				    t1.droplinefrq,
				    t1.firstdroplinedate,
				    t1.pftservicingodlimit,
				    t1.insuranceamt,
				    t1.deductinsdisb,
				    t1.alwbpi,
				    t1.bpitreatment,
				    t1.planemihalw,
				    t1.planemihmethod,
				    t1.planemihmaxperyear,
				    t1.planemihmax,
				    t1.planemihlockperiod,
				    t1.planemicpz,
				    t1.calroundingmode,
				    t1.alwmultidisb,
				    t1.applicationno,
				    t1.referralid,
				    t8.rofficerdesc AS referraliddesc,
				    t1.dmacode,
				    t9.rofficerdesc AS dmacodedesc,
				    t1.salesdepartment,
				    t10.gendeptdesc AS salesdepartmentdesc,
				    t1.quickdisb,
				    t1.wifreference,
				    t1.unplanemihlockperiod,
				    t1.unplanemicpz,
				    t1.reagecpz,
				    t1.maxunplannedemi,
				    t1.maxreageholidays,
				    t1.availedunplanemi,
				    t1.availedreageh,
				    t1.bpiamount,
				    t1.deductfeedisb,
				    t1.rvwrateapplfor,
				    t1.schcalonrvw,
				    t1.pastduepftcalmthd,
				    t1.pastduepftmargin,
				    t1.droppingmethod,
				    t1.ratechganyday,
				    t1.promotioncode,
				    t1.restructureloan,
				    t1.oldfinreference,
				    t1.reagebucket,
				    t1.fincategory,
				    t1.productcategory,
				    t1.roundingtarget,
				    t11.entitycode AS lovdescentitycode,
				    t1.eligibilitymethod,
				    t1.employeename,
				    t12.rofficerdesc AS employeenamedesc,
				    t1.samplingrequired,
				    t1.legalrequired,
				    T1.GrcMaxAmount
				   FROM financemain_temp t1
		     JOIN rmtfinancetypes t2 ON t1.fintype = t2.fintype
		     JOIN rmtbranches t4 ON t1.finbranch = t4.branchcode
		     LEFT JOIN steppolicyheader t5 ON t1.steppolicy = t5.policycode
		     LEFT JOIN amtvehicledealer t6 ON t1.accountsofficer = t6.dealerid
		     LEFT JOIN relationshipofficers t7 ON t1.dsacode = t7.rofficercode
		     LEFT JOIN relationshipofficers t8 ON t1.referralid = t8.rofficercode
		     LEFT JOIN relationshipofficers t9 ON t1.dmacode = t9.rofficercode
		     LEFT JOIN rmtgendepartments t10 ON t1.salesdepartment = t10.gendepartment
		     LEFT JOIN smtdivisiondetail t11 ON t2.findivision = t11.divisioncode
		     LEFT JOIN relationshipofficers t12 ON t1.employeename = t12.rofficercode
		</createView>
	</changeSet>
	
	<changeSet id="200" author="Siva">
	 <comment>Adding GrcMaxAmount Column</comment>
		<createView viewName="WIFFINANCEMAIN_AVIEW" replaceIfExists="true">
			SELECT t1.finreference,
				    t1.numberofterms,
				    t1.grcperiodenddate,
				    t1.allowgrcperiod,
				    t1.gracebaserate,
				    t1.gracespecialrate,
				    t1.grcpftrate,
				    t1.grcpftfrq,
				    t1.nextgrcpftdate,
				    t1.allowgrcpftrvw,
				    t1.grcpftrvwfrq,
				    t1.nextgrcpftrvwdate,
				    t1.allowgrccpz,
				    t1.grccpzfrq,
				    t1.nextgrccpzdate,
				    t1.repaybaserate,
				    t1.repayspecialrate,
				    t1.repayprofitrate,
				    t1.repayfrq,
				    t1.nextrepaydate,
				    t1.repaypftfrq,
				    t1.nextrepaypftdate,
				    t1.allowrepayrvw,
				    t1.repayrvwfrq,
				    t1.nextrepayrvwdate,
				    t1.allowrepaycpz,
				    t1.repaycpzfrq,
				    t1.nextrepaycpzdate,
				    t1.maturitydate,
				    t1.cpzatgraceend,
				    t1.downpayment,
				    t1.graceflatamount,
				    t1.reqrepayamount,
				    t1.totalprofit,
				    t1.totalcpz,
				    t1.totalgrosspft,
				    t1.totalgracepft,
				    t1.totalgracecpz,
				    t1.grcratebasis,
				    t1.repayratebasis,
				    t1.fintype,
				    t1.finremarks,
				    t1.finccy,
				    t1.schedulemethod,
				    t1.profitdaysbasis,
				    t1.reqmaturity,
				    t1.calterms,
				    t1.calmaturity,
				    t1.firstrepay,
				    t1.lastrepay,
				    t1.finstartdate,
				    t1.finamount,
				    t1.finrepaymentamount,
				    t1.custid,
				    t1.defferments,
				    t1.plandefercount,
				    t1.finisactive,
				    t1.version,
				    t1.lastmntby,
				    t1.lastmnton,
				    t1.recordstatus,
				    t1.rolecode,
				    t1.nextrolecode,
				    t1.taskid,
				    t1.nexttaskid,
				    t1.recordtype,
				    t1.workflowid,
				    t15.custcif AS lovdesccustcif,
				    t7.fintypedesc AS lovdescfintypename,
				    t1.finbranch,
				    t1.finsourceid,
				    t1.alloweddefrpychange,
				    t1.availeddefrpychange,
				    t1.alloweddeffrqchange,
				    t1.availeddeffrqchange,
				    t7.finmaxamount AS lovdescfinmaxamt,
				    t7.finminamount AS lovdescfinminamount,
				    t7.finisalwdifferment AS lovdescfinalwdeferment,
				    t1.mindownpayperc,
				    t7.finisdwpayrequired AS lovdescdwnpayreq,
				    t1.recaltype,
				    t1.finassetvalue,
				    t7.finmaxdifferment AS lovdescfinmaxdifferment,
				    t1.lastrepaydate,
				    t1.lastrepaypftdate,
				    t1.lastrepayrvwdate,
				    t1.lastrepaycpzdate,
				    t1.disbaccountid,
				    t1.repayaccountid,
				    t1.allowgrcrepay,
				    t1.grcschdmthd,
				    t1.repaymargin,
				    t1.grcmargin,
				    t1.depreciationfrq,
				    t1.fincommitmentref,
				    t1.fincurrassetvalue,
				    t1.fincontractdate,
				    t1.nextdepdate,
				    t1.lastdepdate,
				    t1.finaccount,
				    t1.fincustpftaccount,
				    t7.finrvwrateapplfor,
				    t1.totalrepayamt,
				    t1.closingstatus,
				    t1.finapproveddate,
				    t1.finrepaypftonfrq,
				    t1.anualizedpercrate,
				    t1.effectiverateofreturn,
				    t1.downpaybank,
				    t1.downpaysupl,
				    t7.findivision AS lovdescfindivisionname,
				    t1.graceterms,
				    t14.facilitytype,
				    t15.custshrtname AS lovdesccustshrtname,
				    t16.branchdesc AS lovdescfinbranchname,
				    t1.totalgrossgrcpft,
				    t1.grcprofitdaysbasis,
				    t1.stepfinance,
				    t1.steptype,
				    t1.steppolicy,
				    t1.alwmanualsteps,
				    t1.noofsteps,
				    t1.linkedfinref,
				    t7.product AS lovdescfinproduct,
				    t1.grcminrate,
				    t1.grcmaxrate,
				    t1.rpyminrate,
				    t1.rpymaxrate,
				    t1.manualschedule,
				    t1.takeoverfinance,
				    t1.grcadvbaserate,
				    t1.grcadvmargin,
				    t1.grcadvpftrate,
				    t1.rpyadvbaserate,
				    t1.rpyadvmargin,
				    t1.rpyadvpftrate,
				    t1.supplementrent,
				    t1.increasedcost,
				    t1.feeaccountid,
				    t1.tdsapplicable,
				    t1.insuranceamt,
				    t1.deductinsdisb,
				    t1.alwbpi,
				    t1.bpitreatment,
				    t1.planemihalw,
				    t1.planemihmethod,
				    t1.planemihmaxperyear,
				    t1.planemihmax,
				    t1.planemihlockperiod,
				    t1.planemicpz,
				    t1.calroundingmode,
				    t1.alwmultidisb,
				    t1.bpiamount,
				    t1.deductfeedisb,
				    t1.feechargeamt,
				    t1.rvwrateapplfor,
				    t1.schcalonrvw,
				    t1.pastduepftcalmthd,
				    t1.pastduepftmargin,
				    t1.droppingmethod,
				    t1.ratechganyday,
				    t1.roundingtarget,
				    T1.GrcMaxAmount
		  	 FROM wiffinancemain t1
		     LEFT JOIN wifindicativetermdetail_temp t14 ON t14.finreference = t1.finreference
		     LEFT JOIN customers t15 ON t15.custid = t1.custid
		     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
		     LEFT JOIN rmtbranches t16 ON t1.finbranch = t16.branchcode
		</createView>
	</changeSet>
	
	<changeSet id="201" author="Siva">
	 <comment>Adding GrcMaxAmount Column</comment>
		<createView viewName="WIFFINANCEMAIN_VIEW" replaceIfExists="true">
			SELECT t1.finreference,
				    t1.numberofterms,
				    t1.grcperiodenddate,
				    t1.allowgrcperiod,
				    t1.gracebaserate,
				    t1.gracespecialrate,
				    t1.grcpftrate,
				    t1.grcpftfrq,
				    t1.nextgrcpftdate,
				    t1.allowgrcpftrvw,
				    t1.grcpftrvwfrq,
				    t1.nextgrcpftrvwdate,
				    t1.allowgrccpz,
				    t1.grccpzfrq,
				    t1.nextgrccpzdate,
				    t1.repaybaserate,
				    t1.repayspecialrate,
				    t1.repayprofitrate,
				    t1.repayfrq,
				    t1.nextrepaydate,
				    t1.repaypftfrq,
				    t1.nextrepaypftdate,
				    t1.allowrepayrvw,
				    t1.repayrvwfrq,
				    t1.nextrepayrvwdate,
				    t1.allowrepaycpz,
				    t1.repaycpzfrq,
				    t1.nextrepaycpzdate,
				    t1.maturitydate,
				    t1.cpzatgraceend,
				    t1.downpayment,
				    t1.graceflatamount,
				    t1.reqrepayamount,
				    t1.totalprofit,
				    t1.totalcpz,
				    t1.totalgrosspft,
				    t1.totalgracepft,
				    t1.totalgracecpz,
				    t1.grcratebasis,
				    t1.repayratebasis,
				    t1.fintype,
				    t1.finremarks,
				    t1.finccy,
				    t1.schedulemethod,
				    t1.profitdaysbasis,
				    t1.reqmaturity,
				    t1.calterms,
				    t1.calmaturity,
				    t1.firstrepay,
				    t1.lastrepay,
				    t1.finstartdate,
				    t1.finamount,
				    t1.finrepaymentamount,
				    t1.custid,
				    t1.defferments,
				    t1.plandefercount,
				    t1.finisactive,
				    t1.version,
				    t1.lastmntby,
				    t1.lastmnton,
				    t1.recordstatus,
				    t1.rolecode,
				    t1.nextrolecode,
				    t1.taskid,
				    t1.nexttaskid,
				    t1.recordtype,
				    t1.workflowid,
				    t15.custcif AS lovdesccustcif,
				    t7.fintypedesc AS lovdescfintypename,
				    t1.finbranch,
				    t1.finsourceid,
				    t1.alloweddefrpychange,
				    t1.availeddefrpychange,
				    t1.alloweddeffrqchange,
				    t1.availeddeffrqchange,
				    t7.finmaxamount AS lovdescfinmaxamt,
				    t7.finminamount AS lovdescfinminamount,
				    t7.finisalwdifferment AS lovdescfinalwdeferment,
				    t1.mindownpayperc,
				    t7.finisdwpayrequired AS lovdescdwnpayreq,
				    t1.recaltype,
				    t1.finassetvalue,
				    t7.finmaxdifferment AS lovdescfinmaxdifferment,
				    t1.lastrepaydate,
				    t1.lastrepaypftdate,
				    t1.lastrepayrvwdate,
				    t1.lastrepaycpzdate,
				    t1.disbaccountid,
				    t1.repayaccountid,
				    t1.allowgrcrepay,
				    t1.grcschdmthd,
				    t1.repaymargin,
				    t1.grcmargin,
				    t1.depreciationfrq,
				    t1.fincommitmentref,
				    t1.fincurrassetvalue,
				    t1.fincontractdate,
				    t1.nextdepdate,
				    t1.lastdepdate,
				    t1.finaccount,
				    t1.fincustpftaccount,
				    t7.finrvwrateapplfor,
				    t1.totalrepayamt,
				    t1.closingstatus,
				    t1.finapproveddate,
				    t1.finrepaypftonfrq,
				    t1.anualizedpercrate,
				    t1.effectiverateofreturn,
				    t1.downpaybank,
				    t1.downpaysupl,
				    t7.findivision AS lovdescfindivisionname,
				    t1.graceterms,
				    t14.facilitytype,
				    t15.custshrtname AS lovdesccustshrtname,
				    t16.branchdesc AS lovdescfinbranchname,
				    t1.totalgrossgrcpft,
				    t1.grcprofitdaysbasis,
				    t1.stepfinance,
				    t1.steptype,
				    t1.steppolicy,
				    t1.alwmanualsteps,
				    t1.noofsteps,
				    t1.linkedfinref,
				    t7.product AS lovdescfinproduct,
				    t1.grcminrate,
				    t1.grcmaxrate,
				    t1.rpyminrate,
				    t1.rpymaxrate,
				    t1.manualschedule,
				    t1.takeoverfinance,
				    t1.grcadvbaserate,
				    t1.grcadvmargin,
				    t1.grcadvpftrate,
				    t1.rpyadvbaserate,
				    t1.rpyadvmargin,
				    t1.rpyadvpftrate,
				    t1.supplementrent,
				    t1.increasedcost,
				    t1.feeaccountid,
				    t1.tdsapplicable,
				    t1.insuranceamt,
				    t1.deductinsdisb,
				    t1.alwbpi,
				    t1.bpitreatment,
				    t1.planemihalw,
				    t1.planemihmethod,
				    t1.planemihmaxperyear,
				    t1.planemihmax,
				    t1.planemihlockperiod,
				    t1.planemicpz,
				    t1.calroundingmode,
				    t1.alwmultidisb,
				    t1.bpiamount,
				    t1.deductfeedisb,
				    t1.feechargeamt,
				    t1.rvwrateapplfor,
				    t1.schcalonrvw,
				    t1.pastduepftcalmthd,
				    t1.pastduepftmargin,
				    t1.droppingmethod,
				    t1.ratechganyday,
				    t1.fincategory,
				    t1.productcategory,
				    t1.roundingtarget,
				    T1.GrcMaxAmount
				   FROM wiffinancemain_temp t1
				     LEFT JOIN wifindicativetermdetail_temp t14 ON t14.finreference = t1.finreference
				     LEFT JOIN customers t15 ON t15.custid = t1.custid
				     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
				     LEFT JOIN rmtbranches t16 ON t1.finbranch = t16.branchcode
				UNION ALL
				 SELECT t1.finreference,
				    t1.numberofterms,
				    t1.grcperiodenddate,
				    t1.allowgrcperiod,
				    t1.gracebaserate,
				    t1.gracespecialrate,
				    t1.grcpftrate,
				    t1.grcpftfrq,
				    t1.nextgrcpftdate,
				    t1.allowgrcpftrvw,
				    t1.grcpftrvwfrq,
				    t1.nextgrcpftrvwdate,
				    t1.allowgrccpz,
				    t1.grccpzfrq,
				    t1.nextgrccpzdate,
				    t1.repaybaserate,
				    t1.repayspecialrate,
				    t1.repayprofitrate,
				    t1.repayfrq,
				    t1.nextrepaydate,
				    t1.repaypftfrq,
				    t1.nextrepaypftdate,
				    t1.allowrepayrvw,
				    t1.repayrvwfrq,
				    t1.nextrepayrvwdate,
				    t1.allowrepaycpz,
				    t1.repaycpzfrq,
				    t1.nextrepaycpzdate,
				    t1.maturitydate,
				    t1.cpzatgraceend,
				    t1.downpayment,
				    t1.graceflatamount,
				    t1.reqrepayamount,
				    t1.totalprofit,
				    t1.totalcpz,
				    t1.totalgrosspft,
				    t1.totalgracepft,
				    t1.totalgracecpz,
				    t1.grcratebasis,
				    t1.repayratebasis,
				    t1.fintype,
				    t1.finremarks,
				    t1.finccy,
				    t1.schedulemethod,
				    t1.profitdaysbasis,
				    t1.reqmaturity,
				    t1.calterms,
				    t1.calmaturity,
				    t1.firstrepay,
				    t1.lastrepay,
				    t1.finstartdate,
				    t1.finamount,
				    t1.finrepaymentamount,
				    t1.custid,
				    t1.defferments,
				    t1.plandefercount,
				    t1.finisactive,
				    t1.version,
				    t1.lastmntby,
				    t1.lastmnton,
				    t1.recordstatus,
				    t1.rolecode,
				    t1.nextrolecode,
				    t1.taskid,
				    t1.nexttaskid,
				    t1.recordtype,
				    t1.workflowid,
				    t15.custcif AS lovdesccustcif,
				    t7.fintypedesc AS lovdescfintypename,
				    t1.finbranch,
				    t1.finsourceid,
				    t1.alloweddefrpychange,
				    t1.availeddefrpychange,
				    t1.alloweddeffrqchange,
				    t1.availeddeffrqchange,
				    t7.finmaxamount AS lovdescfinmaxamt,
				    t7.finminamount AS lovdescfinminamount,
				    t7.finisalwdifferment AS lovdescfinalwdeferment,
				    t1.mindownpayperc,
				    t7.finisdwpayrequired AS lovdescdwnpayreq,
				    t1.recaltype,
				    t1.finassetvalue,
				    t7.finmaxdifferment AS lovdescfinmaxdifferment,
				    t1.lastrepaydate,
				    t1.lastrepaypftdate,
				    t1.lastrepayrvwdate,
				    t1.lastrepaycpzdate,
				    t1.disbaccountid,
				    t1.repayaccountid,
				    t1.allowgrcrepay,
				    t1.grcschdmthd,
				    t1.repaymargin,
				    t1.grcmargin,
				    t1.depreciationfrq,
				    t1.fincommitmentref,
				    t1.fincurrassetvalue,
				    t1.fincontractdate,
				    t1.nextdepdate,
				    t1.lastdepdate,
				    t1.finaccount,
				    t1.fincustpftaccount,
				    t7.finrvwrateapplfor,
				    t1.totalrepayamt,
				    t1.closingstatus,
				    t1.finapproveddate,
				    t1.finrepaypftonfrq,
				    t1.anualizedpercrate,
				    t1.effectiverateofreturn,
				    t1.downpaybank,
				    t1.downpaysupl,
				    t7.findivision AS lovdescfindivisionname,
				    t1.graceterms,
				    t14.facilitytype,
				    t15.custshrtname AS lovdesccustshrtname,
				    t16.branchdesc AS lovdescfinbranchname,
				    t1.totalgrossgrcpft,
				    t1.grcprofitdaysbasis,
				    t1.stepfinance,
				    t1.steptype,
				    t1.steppolicy,
				    t1.alwmanualsteps,
				    t1.noofsteps,
				    t1.linkedfinref,
				    t7.product AS lovdescfinproduct,
				    t1.grcminrate,
				    t1.grcmaxrate,
				    t1.rpyminrate,
				    t1.rpymaxrate,
				    t1.manualschedule,
				    t1.takeoverfinance,
				    t1.grcadvbaserate,
				    t1.grcadvmargin,
				    t1.grcadvpftrate,
				    t1.rpyadvbaserate,
				    t1.rpyadvmargin,
				    t1.rpyadvpftrate,
				    t1.supplementrent,
				    t1.increasedcost,
				    t1.feeaccountid,
				    t1.tdsapplicable,
				    t1.insuranceamt,
				    t1.deductinsdisb,
				    t1.alwbpi,
				    t1.bpitreatment,
				    t1.planemihalw,
				    t1.planemihmethod,
				    t1.planemihmaxperyear,
				    t1.planemihmax,
				    t1.planemihlockperiod,
				    t1.planemicpz,
				    t1.calroundingmode,
				    t1.alwmultidisb,
				    t1.bpiamount,
				    t1.deductfeedisb,
				    t1.feechargeamt,
				    t1.rvwrateapplfor,
				    t1.schcalonrvw,
				    t1.pastduepftcalmthd,
				    t1.pastduepftmargin,
				    t1.droppingmethod,
				    t1.ratechganyday,
				    t1.fincategory,
				    t1.productcategory,
				    t1.roundingtarget,
				    T1.GrcMaxAmount
		   FROM wiffinancemain t1
		     LEFT JOIN wifindicativetermdetail_temp t14 ON t14.finreference = t1.finreference
		     LEFT JOIN customers t15 ON t15.custid = t1.custid
		     JOIN rmtfinancetypes t7 ON t1.fintype = t7.fintype
		     LEFT JOIN rmtbranches t16 ON t1.finbranch = t16.branchcode
		  WHERE NOT (EXISTS ( SELECT 1 AS expr1
		           FROM wiffinancemain_temp
		          WHERE wiffinancemain_temp.finreference = t1.finreference))
		</createView>
	</changeSet>
	
	<changeSet id="202" author="Siva">
	<comment>new Rights for Adding New column to all groups</comment>
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'WIFFinanceMainDialog_grcMaxAmount','WIFFinanceMainDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='WIF_FINANCEMAIN') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='WIFFinanceMainDialog_grcMaxAmount'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinanceMainDialog_GrcMaxAmount','FinanceMainDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CL_ORIGINATION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_GrcMaxAmount'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='CL_ORIGINATION_WRM') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_GrcMaxAmount'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BFSD_ORIGINATION_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_GrcMaxAmount'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='LAP_SSO') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinanceMainDialog_GrcMaxAmount'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		</sql>
	</changeSet>
	<changeSet id="203" author="murthy.y">
		<comment>correcting the spelling mistage for RB Field Details</comment>
		<sql>
			<![CDATA[
				update RBFIELDDETAILS set rbflddesc = 'Customer Obligation External' where rbflddesc = ' Customer Oblication External';
				update RBFIELDDETAILS set rbflddesc = 'Customer Obligation External' where rbflddesc = 'Customer Oblication External';
			]]>
		</sql>
	</changeSet>
	<changeSet id="204" author="Siva">
		<comment>Fee Type Changes for GST applicability on Bounce, LPP and LPI types</comment>
		<sql>
			DELETE FROM FEETYPES WHERE FEETYPECODE IN('BOUNCE', 'ODC', 'LPFT');
			Insert into FEETYPES (FEETYPEID,FEETYPECODE,FEETYPEDESC,ACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,MANUALADVICE,ACCOUNTSETID,ADVISETYPE,HOSTFEETYPECODE,TAXCOMPONENT,AMORTZREQ,TAXAPPLICABLE) values ((SELECT MAX(FEETYPEID)+1 FROM FEETYPES),'BOUNCE','Bounce Charges',1,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0,0,0,0,'',null,0,0);
			Insert into FEETYPES (FEETYPEID,FEETYPECODE,FEETYPEDESC,ACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,MANUALADVICE,ACCOUNTSETID,ADVISETYPE,HOSTFEETYPECODE,TAXCOMPONENT,AMORTZREQ,TAXAPPLICABLE) values ((SELECT MAX(FEETYPEID)+1 FROM FEETYPES),'ODC','Penalty Charges',1,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0,0,0,0,'',null,0,0);
			Insert into FEETYPES (FEETYPEID,FEETYPECODE,FEETYPEDESC,ACTIVE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,MANUALADVICE,ACCOUNTSETID,ADVISETYPE,HOSTFEETYPECODE,TAXCOMPONENT,AMORTZREQ,TAXAPPLICABLE) values ((SELECT MAX(FEETYPEID)+1 FROM FEETYPES),'LPFT','Late Payment Interest',1,0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0,0,0,0,'',null,0,0);
			UPDATE SEQFEETYPES SET SEQNO  = (SELECT MAX(FEETYPEID) FROM FEETYPES);
		</sql>
	</changeSet>
	<changeSet id="205" author="Siva">
		<comment>Delete Bounce Tax Fields from SMT Parameters</comment>
		<sql>
			DELETE FROM SMTPARAMETERS WHERE SYSPARMCODE IN ('BOUNCE_TAX_APPLICABLE', 'BOUNCE_TAX_TYPE');
		</sql>
	</changeSet>
	<changeSet id="206" author="Siva">
		<comment>GST Paid Fields for Penalty amounts</comment>
		<addColumn tableName="FINREPAYSCHEDULEDETAIL">
			<column name="PaidPenaltyCGST" type="decimal(18,0)" />
			<column name="PaidPenaltySGST" type="decimal(18,0)" />
			<column name="PaidPenaltyUGST" type="decimal(18,0)" />
			<column name="PaidPenaltyIGST" type="decimal(18,0)" />
		</addColumn>
		<addColumn tableName="FINREPAYSCHEDULEDETAIL_TEMP">
			<column name="PaidPenaltyCGST" type="decimal(18,0)" />
			<column name="PaidPenaltySGST" type="decimal(18,0)" />
			<column name="PaidPenaltyUGST" type="decimal(18,0)" />
			<column name="PaidPenaltyIGST" type="decimal(18,0)" />
		</addColumn>
	</changeSet>
	<changeSet id="207" author="Siva">
		<comment>GST Paid Fields for Penalty amounts setting defaults</comment>
		<sql>
			UPDATE FINREPAYSCHEDULEDETAIL SET PaidPenaltyCGST = 0, PaidPenaltySGST = 0, PaidPenaltyUGST= 0, PaidPenaltyIGST= 0;
			UPDATE FINREPAYSCHEDULEDETAIL_TEMP SET PaidPenaltyCGST = 0, PaidPenaltySGST = 0, PaidPenaltyUGST= 0, PaidPenaltyIGST= 0;
		</sql>
	</changeSet>
	
	 <changeSet id="208" author="Kesav" dbms="postgresql">
		<createTable tableName="DepositDetails_Temp">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="PartnerBankId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="DepositDate" type="datetime"/>
			<column name="TotalAmount" type="decimal(18,0)" defaultValue="0"/>
			<column name="PartialAmount" type="decimal(18,0)" defaultValue="0"/>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="208" author="Kesav" dbms="oracle">
		<createTable tableName="DepositDetails_Temp">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="PartnerBankId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="DepositDate" type="datetime"/>
			<column name="TotalAmount" type="decimal(18,0)" defaultValue="0"/>
			<column name="PartialAmount" type="decimal(18,0)" defaultValue="0"/>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="208" author="Kesav" dbms="mssql">
		<createTable tableName="DepositDetails_Temp">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="PartnerBankId" type="bigint" >
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="DepositDate" type="datetime"/>
			<column name="TotalAmount" type="decimal(18,0)" />
			<column name="PartialAmount" type="decimal(18,0)"/>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="208_Post" author="Jayant" dbms="mssql">
		<sql>
			alter table DepositDetails_Temp add constraint df_depdtl_t_pbi default 0 for PartnerBankId;
			alter table DepositDetails_Temp add constraint df_depdtl_t_ta default 0 for TotalAmount;
			alter table DepositDetails_Temp add constraint df_depdtl_t_pa default 0 for PartialAmount;
			alter table DepositDetails_Temp add constraint df_depdtl_t_ver default 0 for Version;
		</sql>
	</changeSet>
	 <changeSet id="209" author="Kesav" dbms="postgresql">
		<createTable tableName="DepositDetails">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="PartnerBankId" type="bigint" defaultValue="0" >
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="DepositDate" type="datetime"/>
			<column name="TotalAmount" type="decimal(18,0)" defaultValue="0"/>
			<column name="PartialAmount" type="decimal(18,0)" defaultValue="0"/>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="209" author="Kesav" dbms="oracle">
		<createTable tableName="DepositDetails">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="PartnerBankId" type="bigint" defaultValue="0" >
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="DepositDate" type="datetime"/>
			<column name="TotalAmount" type="decimal(18,0)" defaultValue="0"/>
			<column name="PartialAmount" type="decimal(18,0)" defaultValue="0"/>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="209" author="Kesav" dbms="mssql">
		<createTable tableName="DepositDetails">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="PartnerBankId" type="bigint" >
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="DepositDate" type="datetime"/>
			<column name="TotalAmount" type="decimal(18,0)"/>
			<column name="PartialAmount" type="decimal(18,0)"/>
			<column name="Version" type="int"  />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="209_Post" author="Jayant" dbms="mssql">
		<sql>
			alter table DepositDetails add constraint df_depodtl_pbi default 0 for PartnerBankId;
			alter table DepositDetails add constraint df_depodtl_ta default 0 for TotalAmount;
			alter table DepositDetails add constraint df_depodtl_pa default 0 for PartialAmount;
			alter table DepositDetails add constraint df_depodtl_ver default 0 for Version;
		</sql>
	</changeSet>
	 <changeSet id="210" author="Kesav" dbms="postgresql">
		<createTable tableName="CashDenominations_Temp">
			<column name="SeqNo" type="int"/>
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="ModuleCode"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Denomination"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Count" type="decimal(10,0)" defaultValue="0"/>
			<column name="Amount" type="decimal(10,0)" defaultValue="0"/>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="210" author="Kesav" dbms="oracle">
		<createTable tableName="CashDenominations_Temp">
			<column name="SeqNo" type="int"/>
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="ModuleCode"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Denomination"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Count" type="decimal(10,0)" defaultValue="0"/>
			<column name="Amount" type="decimal(10,0)" defaultValue="0"/>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="210" author="Kesav" dbms="mssql">
		<createTable tableName="CashDenominations_Temp">
			<column name="SeqNo" type="int"/>
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="ModuleCode"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Denomination"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Count" type="decimal(10,0)" />
			<column name="Amount" type="decimal(10,0)"/>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="210_Post" author="Jayant" dbms="mssql">
		<sql>
			alter table CashDenominations_Temp add constraint df_cashdeno_t_count default 0 for Count;
			alter table CashDenominations_Temp add constraint df_cashdeno_t_amount default 0 for Amount;
			alter table CashDenominations_Temp add constraint df_cashdeno_t_ver default 0 for Version;
		</sql>
	</changeSet>
	<changeSet id="211" author="Kesav" dbms="postgresql">
		<createTable tableName="CashDenominations">
			<column name="SeqNo" type="int" />
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="ModuleCode"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Denomination"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Count" type="decimal(10,0)" defaultValue="0"/>
			<column name="Amount" type="decimal(10,0)" defaultValue="0"/>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="211" author="Kesav" dbms="oracle">
		<createTable tableName="CashDenominations">
			<column name="SeqNo" type="int" />
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="ModuleCode"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Denomination"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Count" type="decimal(10,0)" defaultValue="0"/>
			<column name="Amount" type="decimal(10,0)" defaultValue="0"/>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="211" author="Kesav" dbms="mssql">
		<createTable tableName="CashDenominations">
			<column name="SeqNo" type="int" />
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="ModuleCode"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Denomination"  type="varchar(8)" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="Count" type="decimal(10,0)"/>
			<column name="Amount" type="decimal(10,0)"/>
			<column name="Version" type="int"/>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="211_Post" author="Jayant" dbms="mssql">
		<sql>
			alter table CashDenominations add constraint df_cashdeno_count default 0 for Count;
			alter table CashDenominations add constraint df_cashdeno_amount default 0 for Amount;
			alter table CashDenominations add constraint df_cashdeno_ver default 0 for Version;
		</sql>
	</changeSet>
	<changeSet id="212" author="Kesav">
	<createSequence sequenceName="SeqDepositDetails" startValue="1" incrementBy="1"/>
</changeSet>
	<changeSet id="213" author="vijaykumar.l">
		<sql>
		delete  from SMTPARAMETERS where sysparmcode='PSL_DATA_REQUIRED';
  Insert into SMTPARAMETERS values ('PSL_DATA_REQUIRED','Psl  Data Visibility or Not ','String','1','N',1,0,null,null,'Psl  Data Required  for  Equitas only',1,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0);
		</sql>
		</changeSet>
		<changeSet id="214" author="srikanth.m">
		<sql>
		Insert into SMTparameters values('FutureNotAllowedDays_Disb','FutureNotAllowedDays_Disb','Int',1,'0',100,0,null,null,'FutureNotAllowedDays_Disb',1,3,CURRENT_TIMESTAMP,'Approved','','','','','',0);
		</sql>
		</changeSet>
		
		<changeSet id="215" author="Siva">
		<createTable tableName="ReceiptTaxDetail">
			<column name="ReceiptSeqID" type="bigint">
			<constraints primaryKey="true" primaryKeyName="PK_ReceiptSeqID" nullable="false" />
			</column>
			<column name="ReceiptID" type="bigint" />
			<column name="TaxComponent" type="NVarchar(1)"/>
			<column name="PaidCGST" type="decimal(18,0)"/>
			<column name="PaidSGST" type="decimal(18,0)"/>
			<column name="PaidUGST" type="decimal(18,0)"/>
			<column name="PaidIGST" type="decimal(18,0)"/>
			<column name="TotalGST" type="decimal(18,0)"/>
		</createTable>
	</changeSet>
	<changeSet id="216" author="Siva">
		<createTable tableName="ReceiptTaxDetail_Temp">
			<column name="ReceiptSeqID" type="bigint">
			<constraints primaryKey="true" primaryKeyName="PK_ReceiptSeqID_Temp" nullable="false" />
			</column>
			<column name="ReceiptID" type="bigint" />
			<column name="TaxComponent" type="NVarchar(1)"/>
			<column name="PaidCGST" type="decimal(18,0)"/>
			<column name="PaidSGST" type="decimal(18,0)"/>
			<column name="PaidUGST" type="decimal(18,0)"/>
			<column name="PaidIGST" type="decimal(18,0)"/>
			<column name="TotalGST" type="decimal(18,0)"/>
		</createTable>
	</changeSet>
	
	<changeSet id="217" author="Kesav">
		<createView viewName="DepositDetails_AView" replaceIfExists="true">
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.PartnerBankId, T1.DepositSlipNumber, T1.DepositDate, T1.TotalAmount, T1.PartialAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName,
			            T3.BranchDesc
			From 		DepositDetails T1
			Inner Join PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId
			Inner Join RMTBranches T3 ON T3.BranchCode = T1.BranchCode			
		</createView>
	</changeSet>
	
	<changeSet id="218" author="Kesav">
		<createView viewName="DepositDetails_TView" replaceIfExists="true">
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.PartnerBankId, T1.DepositSlipNumber, T1.DepositDate, T1.TotalAmount, T1.PartialAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName,
			            T3.BranchDesc
			From 		DepositDetails_Temp T1
			Inner Join PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId
			Inner Join RMTBranches T3 ON T3.BranchCode = T1.BranchCode	
		</createView>
	</changeSet>
	
	<changeSet id="219" author="Kesav">
		<createView viewName="DepositDetails_View" replaceIfExists="true">
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.PartnerBankId, T1.DepositSlipNumber, T1.DepositDate, T1.TotalAmount, T1.PartialAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode,
			            T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName,
			            T3.BranchDesc
			From 		DepositDetails_Temp T1
			Inner Join PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId
			Inner Join RMTBranches T3 ON T3.BranchCode = T1.BranchCode
			
			Union All
			
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.PartnerBankId, T1.DepositSlipNumber, T1.DepositDate, T1.TotalAmount, T1.PartialAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode,
			            T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName,
			            T3.BranchDesc
			From 		DepositDetails T1
			Inner Join PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId
			Inner Join RMTBranches T3 ON T3.BranchCode = T1.BranchCode
			WHERE NOT (EXISTS ( SELECT 1 FROM DepositDetails_Temp WHERE DepositDetails_Temp.DepositId = T1.DepositId))		
		</createView>
	</changeSet>
	
	<changeSet id="220" author="Kesav">
		<dropView viewName="DepositDetails_View"/>
		<dropView viewName="DepositDetails_AView"/>
		<dropView viewName="DepositDetails_TView"/>
		<dropTable tableName="DepositDetails_Temp"/>
		<dropTable tableName="DepositDetails"/>
	</changeSet>
	
<changeSet id="221" author="Ganesh.p">
	<comment>Error Message for PartnerBank and Disbusement bank are same but the Payment Type is not IFT</comment>
	<sql>
		delete from SMTparameters where SysParmCode='PRESENTMENT_EXTRACT_ALW_DAYS_FROM_APP_DATE';
		INSERT INTO SMTparameters  VALUES ('PRESENTMENT_EXTRACT_ALW_DAYS_FROM_APP_DATE','Number of Future Days Allow in Presentment Extarction','int',1,'10',10,0,null,null,'Number of Future Days Allow in Presentment Extarction.',0,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0);
	</sql>
</changeSet>

<changeSet id="222" author="Ganesh.p">
	<comment>Postion of fields are misplaced in changeset 44</comment>
	<sql>
		drop view finjointaccountdetails_view;
	</sql>
</changeSet>

<changeSet id="223" author="Ganesh.p">
	<comment>Previous changeset 44 version is placed in wrong position related BugFix</comment>
	<createView viewName="finjointaccountdetails_view" replaceIfExists="true">
	SELECT t1.jointaccountid,
    t1.finreference,
    t1.custcif,
    t1.includerepay,
    t1.repayaccountid,
    t1.catofcoapplicant,
    t1.authoritysignatory,
    t1.sequence,
	t1.includeIncome,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.usrlogin,
    t2.usrfname,
    t2.usrmname,
    t2.usrlname,
    t3.custshrtname AS lovdesccifname,
    t3.custid
   FROM finjointaccountdetails_temp t1
     JOIN secusers t2 ON t1.lastmntby = t2.usrid
     JOIN customers t3 ON t1.custcif = t3.custcif
UNION ALL
 SELECT t1.jointaccountid,
    t1.finreference,
    t1.custcif,
    t1.includerepay,
    t1.repayaccountid,
    t1.catofcoapplicant,
    t1.authoritysignatory,
    t1.sequence,
    t1.includeIncome,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.usrlogin,
    t2.usrfname,
    t2.usrmname,
    t2.usrlname,
    t3.custshrtname AS lovdesccifname,
    t3.custid
   FROM finjointaccountdetails t1
     JOIN secusers t2 ON t1.lastmntby = t2.usrid
     JOIN customers t3 ON t1.custcif = t3.custcif
  WHERE NOT (EXISTS ( SELECT 1
           FROM finjointaccountdetails_temp
          WHERE finjointaccountdetails_temp.jointaccountid = t1.jointaccountid))
	</createView>
</changeSet>

	<changeSet id="224" author="Kesav" dbms="postgresql">
		<createTable tableName="DepositDetails_Temp">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="ActualAmount" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="TransactionAmount" type="decimal(18,0)" defaultValue="0" >
				<constraints nullable="false"/>
			</column>		
			<column name="BalanceAmount" type="decimal(18,0)" defaultValue="0" >
				<constraints nullable="false"/>
			</column>		
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" defaultValue="0" />
		</createTable>
	</changeSet>
	<changeSet id="224" author="Kesav" dbms="oracle">
		<createTable tableName="DepositDetails_Temp">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="ActualAmount" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="TransactionAmount" type="decimal(18,0)" defaultValue="0" >
				<constraints nullable="false"/>
			</column>		
			<column name="BalanceAmount" type="decimal(18,0)" defaultValue="0" >
				<constraints nullable="false"/>
			</column>		
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" defaultValue="0" />
		</createTable>
	</changeSet>
	<changeSet id="224" author="Kesav" dbms="mssql">
		<createTable tableName="DepositDetails_Temp">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="ActualAmount" type="bigint">
				<constraints nullable="false"/>
			</column>			
			<column name="TransactionAmount" type="decimal(18,0)" >
				<constraints nullable="false"/>
			</column>		
			<column name="BalanceAmount" type="decimal(18,0)" >
				<constraints nullable="false"/>
			</column>		
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="225_post" author="Jayant" dbms="mssql">
		<sql>
			alter table DepositDetails_Temp add constraint df_depodtl_t_aa default 0 for ActualAmount;
			alter table DepositDetails_Temp add constraint df_depodtl_t_ta default 0 for TransactionAmount;
			alter table DepositDetails_Temp add constraint df_depodtl_t_ba default 0 for BalanceAmount;
			alter table DepositDetails_Temp add constraint df_depodtl_t_ver default 0 for Version;
			alter table DepositDetails_Temp add constraint df_depodtl_t_wid default 0 for WorkflowId;
		</sql>
	</changeSet>
	<changeSet id="225" author="Kesav">
		<addUniqueConstraint tableName="DepositDetails_Temp" columnNames="DepositType, BranchCode" constraintName="UK_DepositDetails_Temp"/>
	</changeSet>
	
	<changeSet id="226" author="Kesav" dbms="postgresql">
		<createTable tableName="DepositDetails">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="ActualAmount" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="TransactionAmount" type="decimal(18,0)" defaultValue="0" >
				<constraints nullable="false"/>
			</column>		
			<column name="BalanceAmount" type="decimal(18,0)" defaultValue="0" >
				<constraints nullable="false"/>
			</column>		
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" defaultValue="0" />
		</createTable>
	</changeSet>
	<changeSet id="226" author="Kesav" dbms="oracle">
		<createTable tableName="DepositDetails">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="ActualAmount" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="TransactionAmount" type="decimal(18,0)" defaultValue="0" >
				<constraints nullable="false"/>
			</column>		
			<column name="BalanceAmount" type="decimal(18,0)" defaultValue="0" >
				<constraints nullable="false"/>
			</column>		
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" defaultValue="0" />
		</createTable>
	</changeSet>
	<changeSet id="226" author="Kesav" dbms="mssql">
		<createTable tableName="DepositDetails">
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositType"  type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="BranchCode" type="varchar(8)" >
				<constraints nullable="false" />
			</column>			
			<column name="ActualAmount" type="bigint">
				<constraints nullable="false"/>
			</column>			
			<column name="TransactionAmount" type="decimal(18,0)"  >
				<constraints nullable="false"/>
			</column>		
			<column name="BalanceAmount" type="decimal(18,0)">
				<constraints nullable="false"/>
			</column>		
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint"  />
		</createTable>
	</changeSet>
	<changeSet id="226_post" author="Jayant" dbms="mssql">
		<sql>
			alter table DepositDetails add constraint df_depodtl_aa default 0 for ActualAmount;
			alter table DepositDetails add constraint df_depodtl_ta default 0 for TransactionAmount;
			alter table DepositDetails add constraint df_depodtl_ba default 0 for BalanceAmount;
			alter table DepositDetails add constraint df_depodtl_ver default 0 for Version;
			alter table DepositDetails add constraint df_depodtl_wid default 0 for WorkflowId;
		</sql>
	</changeSet>
	<changeSet id="227" author="Kesav">
		<addUniqueConstraint tableName="DepositDetails" columnNames="DepositType, BranchCode" constraintName="UK_DepositDetails"/>
	</changeSet>
	
	 <changeSet id="228" author="Kesav" dbms="postgresql">
		<createTable tableName="DepositMovements_Temp">
			<column name="MovementId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" />
			</column>			
			<column name="TransactionType"  type="varchar(1)" >
				<constraints nullable="false"/>
			</column>
			<column name="ReservedAmount" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="PartnerBankId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="TransactionDate" type="datetime"/>
			<column name="ReceiptId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="LinkedTranId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="228" author="Kesav" dbms="oracle">
		<createTable tableName="DepositMovements_Temp">
			<column name="MovementId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" />
			</column>			
			<column name="TransactionType"  type="varchar(1)" >
				<constraints nullable="false"/>
			</column>
			<column name="ReservedAmount" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="PartnerBankId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="TransactionDate" type="datetime"/>
			<column name="ReceiptId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="LinkedTranId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="228" author="Kesav" dbms="mssql">
		<createTable tableName="DepositMovements_Temp">
			<column name="MovementId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" />
			</column>			
			<column name="TransactionType"  type="varchar(1)" >
				<constraints nullable="false"/>
			</column>
			<column name="ReservedAmount" type="bigint" >
				<constraints nullable="false"/>
			</column>			
			<column name="PartnerBankId" type="bigint" >
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="TransactionDate" type="datetime"/>
			<column name="ReceiptId" type="bigint" >
				<constraints nullable="false"/>
			</column>
			<column name="LinkedTranId" type="bigint">
				<constraints nullable="false"/>
			</column>
			<column name="Version" type="int"  />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="228_post" author="Jayant" dbms="mssql">
		<sql>
			alter table DepositMovements_Temp add constraint df_depmov_t_ra default 0 for ReservedAmount;
			alter table DepositMovements_Temp add constraint df_depmov_t_pbi default 0 for PartnerBankId;
			alter table DepositMovements_Temp add constraint df_depmov_t_ri default 0 for ReceiptId;
			alter table DepositMovements_Temp add constraint df_depmov_t_lti default 0 for LinkedTranId;
			alter table DepositMovements_Temp add constraint df_depmov_t_ver default 0 for Version;
		</sql>
	</changeSet>
	 <changeSet id="229" author="Kesav" dbms="postgresql">
		<createTable tableName="DepositMovements">
			<column name="MovementId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" />
			</column>			
			<column name="TransactionType"  type="varchar(1)" >
				<constraints nullable="false"/>
			</column>
			<column name="ReservedAmount" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="PartnerBankId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="TransactionDate" type="datetime"/>
			<column name="ReceiptId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="LinkedTranId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="229" author="Kesav" dbms="oracle">
		<createTable tableName="DepositMovements">
			<column name="MovementId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" />
			</column>			
			<column name="TransactionType"  type="varchar(1)" >
				<constraints nullable="false"/>
			</column>
			<column name="ReservedAmount" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="PartnerBankId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="TransactionDate" type="datetime"/>
			<column name="ReceiptId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="LinkedTranId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="229" author="Kesav" dbms="mssql">
		<createTable tableName="DepositMovements">
			<column name="MovementId"  type="bigint" >
				<constraints nullable="false" primaryKey="true"/>
			</column>			
			<column name="DepositId"  type="bigint" >
				<constraints nullable="false" />
			</column>			
			<column name="TransactionType"  type="varchar(1)" >
				<constraints nullable="false"/>
			</column>
			<column name="ReservedAmount" type="bigint" >
				<constraints nullable="false"/>
			</column>			
			<column name="PartnerBankId" type="bigint" >
				<constraints nullable="false"/>
			</column>			
			<column name="DepositSlipNumber"  type="varchar(20)" />	
			<column name="TransactionDate" type="datetime"/>
			<column name="ReceiptId" type="bigint" >
				<constraints nullable="false"/>
			</column>
			<column name="LinkedTranId" type="bigint" >
				<constraints nullable="false"/>
			</column>
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="229_post" author="Jayant" dbms="mssql">
		<sql>
			alter table DepositMovements add constraint df_depmov_ra default 0 for ReservedAmount;
			alter table DepositMovements add constraint df_depmov_pbi default 0 for PartnerBankId;
			alter table DepositMovements add constraint df_depmov_ri default 0 for ReceiptId;
			alter table DepositMovements add constraint df_depmov_lti default 0 for LinkedTranId;
			alter table DepositMovements add constraint df_depmov_ver default 0 for Version;
		</sql>
	</changeSet>
	<changeSet id="230" author="Kesav">
	 	<renameColumn tableName="CashDenominations" oldColumnName="DepositId" newColumnName="MovementId"/>
	 </changeSet>
	 
	 <changeSet id="231" author="Kesav">
	 	<renameColumn tableName="CashDenominations_Temp" oldColumnName="DepositId" newColumnName="MovementId"/>
	 </changeSet>
	 
	 <changeSet id="232" author="Siva">
		<createTable tableName="PaymentTaxDetail">
			<column name="PaymentDetailID" type="bigint">
			<constraints primaryKey="true" primaryKeyName="PK_PaymentDetailID" nullable="false" />
			</column>
			<column name="PaymentID" type="bigint" />
			<column name="TaxComponent" type="NVarchar(1)"/>
			<column name="PaidCGST" type="decimal(18,0)"/>
			<column name="PaidSGST" type="decimal(18,0)"/>
			<column name="PaidUGST" type="decimal(18,0)"/>
			<column name="PaidIGST" type="decimal(18,0)"/>
			<column name="TotalGST" type="decimal(18,0)"/>
		</createTable>
	</changeSet>
	<changeSet id="233" author="Siva">
		<createTable tableName="PaymentTaxDetail_Temp">
			<column name="PaymentDetailID" type="bigint">
			<constraints primaryKey="true" primaryKeyName="PK_PaymentDetailID_Temp" nullable="false" />
			</column>
			<column name="PaymentID" type="bigint" />
			<column name="TaxComponent" type="NVarchar(1)"/>
			<column name="PaidCGST" type="decimal(18,0)"/>
			<column name="PaidSGST" type="decimal(18,0)"/>
			<column name="PaidUGST" type="decimal(18,0)"/>
			<column name="PaidIGST" type="decimal(18,0)"/>
			<column name="TotalGST" type="decimal(18,0)"/>
		</createTable>
	</changeSet>
	
	<changeSet id="234" author="Siva">
	<comment>LPP GST accounting Configuration parameters</comment>
	<sql>
		insert into BMTAMOUNTCODES values('LATEPAY',0,'LPP_CGST_P','Penalty charge CGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
		insert into BMTAMOUNTCODES values('LATEPAY',0,'LPP_SGST_P','Penalty charge SGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
		insert into BMTAMOUNTCODES values('LATEPAY',0,'LPP_IGST_P','Penalty charge IGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
		insert into BMTAMOUNTCODES values('LATEPAY',0,'LPP_UGST_P','Penalty charge UGST paid',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
	</sql>
</changeSet>
	 
	 <changeSet id="232" author="Kesav">
		<createView viewName="DepositDetails_AView" replaceIfExists="true">
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.ActualAmount, T1.TransactionAmount, T1.BalanceAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.BranchDesc
			From 		DepositDetails T1
			Inner Join  RMTBranches T2 ON T2.BranchCode = T1.BranchCode			
		</createView>
	</changeSet>
	
	<changeSet id="233" author="Kesav">
		<createView viewName="DepositDetails_TView" replaceIfExists="true">
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.ActualAmount, T1.TransactionAmount, T1.BalanceAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.BranchDesc
			From 		DepositDetails_Temp T1
			Inner Join  RMTBranches T2 ON T2.BranchCode = T1.BranchCode
		</createView>
	</changeSet>
	
	<changeSet id="234" author="Kesav">
		<createView viewName="DepositDetails_View" replaceIfExists="true">
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.ActualAmount, T1.TransactionAmount, T1.BalanceAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.BranchDesc
			From 		DepositDetails_Temp T1
			Inner Join  RMTBranches T2 ON T2.BranchCode = T1.BranchCode
			
			Union All
			
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.ActualAmount, T1.TransactionAmount, T1.BalanceAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.BranchDesc
			From 		DepositDetails T1
			Inner Join  RMTBranches T2 ON T2.BranchCode = T1.BranchCode
			WHERE NOT  (EXISTS ( SELECT 1 FROM DepositDetails_Temp WHERE DepositDetails_Temp.DepositId = T1.DepositId))		
		</createView>
	</changeSet>
	
	<changeSet id="235" author="Kesav">
		<createSequence sequenceName="SeqDepositMovements" startValue="1" incrementBy="1"/>
	</changeSet>
	<changeSet id="237" author="lakshmi.n">
		<createView viewName="Reasons_View" replaceIfExists="true">
			SELECT T1.id,T1.reasontypeid, T1.reasoncategoryid, T1.code, T1.description,T1.active,T1.version,T1.lastmntby,T1.lastmnton,T1.recordstatus,
		             T1.rolecode,T1.nextrolecode,T1.taskid,T1.nexttaskid,T1.recordtype,T1.workflowid,
		             T2.code reasonCategoryCode,
					 t2.description as reasonCategoryDesc,
					 T3.code reasonTypeCode,
					 t3.description as reasonTypeDesc
		            FROM reasons_temp T1
		    inner join reasoncategory T2 on T1.reasoncategoryid=T2.id 
		    inner join reasontypes T3 on T1.reasontypeid=T3.id
		    UNION ALL
		    SELECT T1.id,T1.reasontypeid,T1.reasoncategoryid,T1.code,T1.description,T1.active,T1.version,T1.lastmntby,T1.lastmnton,T1.recordstatus,
		             T1.rolecode,T1.nextrolecode,T1.taskid,T1.nexttaskid,T1.recordtype,T1.workflowid,
		             T2.code reasonCategoryCode,
					 T2.description as reasonCategoryDesc,
					 T3.code reasonTypeCode,
					 T3.description as reasonTypeDesc
		             FROM reasons T1
		   inner join reasoncategory T2 on T1.reasoncategoryid=T2.id 
		   inner join reasontypes T3 on T1.reasontypeid=T3.id
		   WHERE NOT (EXISTS ( SELECT 1 FROM reasons_temp WHERE id = T1.id))	
	</createView>
	</changeSet>
	
	<changeSet id="238" author="lakshmi.n">
		<createView viewName="reasons_aview" replaceIfExists="true">
			SELECT t1.id, t1.reasontypeid, t1.reasoncategoryid, t1.code, t1.description, t1.active, t1.version, t1.lastmntby, t1.lastmnton,
		    t1.recordstatus, t1.rolecode, t1.nextrolecode, t1.taskid, t1.nexttaskid, t1.recordtype, t1.workflowid,
		    t2.code AS reasoncategorycode, t2.description as reasonCategoryDesc,
		    t3.code AS reasontypecode, t3.description as reasonTypeDesc
		    FROM reasons t1
		    JOIN reasoncategory t2 ON t1.reasoncategoryid = t2.id
		    JOIN reasontypes t3 ON t1.reasontypeid = t3.id																											
		</createView>
	</changeSet>
	
	<changeSet id="239" author="Siva">
		<sql>
			insert into BMTAMOUNTCODES values('MANFEE',0,'bounceCharge','Bounce charge due',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
			insert into BMTAMOUNTCODES values('MANFEE',0,'bounceCharge_CGST','Bounce charge due CGST',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
			insert into BMTAMOUNTCODES values('MANFEE',0,'bounceCharge_SGST','Bounce charge due SGST',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
			insert into BMTAMOUNTCODES values('MANFEE',0,'bounceCharge_IGST','Bounce charge due IGST',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
			insert into BMTAMOUNTCODES values('MANFEE',0,'bounceCharge_UGST','Bounce charge due UGST',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	
	<changeSet id="239" author="Kesav">
		<sql>
			Update SeqSecGroups Set SeqNo = (Select MAX(GrpID) + 1 from SecGroups);
			Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
			Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights);
			Update SeqSecRoleGroups Set SeqNo = (Select MAX(RoleGrpID) + 1 from SecRoleGroups);
			
			Delete from SecGroupRights where GrpID In (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER');
			Delete from SecRoleGroups where GrpID IN (Select GrpId from SecGroups WHERE GrpCode = 'DEPOSITDETAILS_MAKER') And RoleID IN (Select RoleID from SecRoles WHERE RoleCd = 'MSTGRP1_MAKER');
			Delete from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER';
			INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'DEPOSITDETAILS_MAKER','WF Maker for Deposit Details', 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL,0);
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'DepositDetailsDialog_BranchCode');
			Delete from SecRights where RightName = 'DepositDetailsDialog_BranchCode';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'DepositDetailsDialog_BranchCode', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'DepositDetailsDialog_BranchCode'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			INSERT INTO SecRoleGroups values ((SELECT MAX(RoleGrpID) + 1 from SecRoleGroups), (Select MAX(GrpId) from SecGroups WHERE GrpCode = 'DEPOSITDETAILS_MAKER'), (Select MAX(RoleID) from SecRoles WHERE RoleCd = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'DepositDetailsDialog_RequestDate');
			Delete from SecRights where RightName = 'DepositDetailsDialog_RequestDate';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'DepositDetailsDialog_RequestDate', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'DepositDetailsDialog_RequestDate'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'DepositDetailsDialog_RequestAmount');
			Delete from SecRights where RightName = 'DepositDetailsDialog_RequestAmount';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'DepositDetailsDialog_RequestAmount', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'DepositDetailsDialog_RequestAmount'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'DepositDetailsDialog_TransactionAmount');
			Delete from SecRights where RightName = 'DepositDetailsDialog_TransactionAmount';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'DepositDetailsDialog_TransactionAmount', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'DepositDetailsDialog_TransactionAmount'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'DepositDetailsDialog_DepositSlipNumber');
			Delete from SecRights where RightName = 'DepositDetailsDialog_DepositSlipNumber';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'DepositDetailsDialog_DepositSlipNumber', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'DepositDetailsDialog_DepositSlipNumber'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'DepositDetailsDialog_PartnerBankId');
			Delete from SecRights where RightName = 'DepositDetailsDialog_PartnerBankId';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'DepositDetailsDialog_PartnerBankId', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'DepositDetailsDialog_PartnerBankId'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'DepositDetailsDialog_RequestType');
			Delete from SecRights where RightName = 'DepositDetailsDialog_RequestType';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'DepositDetailsDialog_RequestType', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'DepositDetailsDialog_RequestType'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'DepositDetailsDialog_Count');
			Delete from SecRights where RightName = 'DepositDetailsDialog_Count';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'DepositDetailsDialog_Count', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'DepositDetailsDialog_Count'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'DepositDetailsDialog_Amount');
			Delete from SecRights where RightName = 'DepositDetailsDialog_Amount';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 3, 'DepositDetailsDialog_Amount', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'DepositDetailsDialog_Amount'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'button_DepositDetailsDialog_btnNew');
			Delete from SecRights where RightName = 'button_DepositDetailsDialog_btnNew';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 2, 'button_DepositDetailsDialog_btnNew', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'button_DepositDetailsDialog_btnNew'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'button_DepositDetailsDialog_btnEdit');
			Delete from SecRights where RightName = 'button_DepositDetailsDialog_btnEdit';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 2, 'button_DepositDetailsDialog_btnEdit', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'button_DepositDetailsDialog_btnEdit'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'button_DepositDetailsDialog_btnDelete');
			Delete from SecRights where RightName = 'button_DepositDetailsDialog_btnDelete';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 2, 'button_DepositDetailsDialog_btnDelete', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'button_DepositDetailsDialog_btnDelete'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'button_DepositDetailsDialog_btnSave');
			Delete from SecRights where RightName = 'button_DepositDetailsDialog_btnSave';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 2, 'button_DepositDetailsDialog_btnSave', 'DepositDetailsDialog', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'button_DepositDetailsDialog_btnSave'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'menuItem_FinanceManagement_DepositDetails');
			Delete from SecRights where RightName = 'menuItem_FinanceManagement_DepositDetails';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 0, 'menuItem_FinanceManagement_DepositDetails', 'MENU', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'menuItem_FinanceManagement_DepositDetails'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where RightID In (Select RightID from SecRights where RightName = 'button_DepositDetailsList_NewDepositDetails');
			Delete from SecRights where RightName = 'button_DepositDetailsList_NewDepositDetails';
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 2, 'button_DepositDetailsList_NewDepositDetails', 'DepositDetailsList', 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_MAKER'), (Select RightID from SecRights where RightName = 'button_DepositDetailsList_NewDepositDetails'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Delete from SecGroupRights where GrpID In (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_APPROVER');
			Delete from SecRoleGroups where GrpID IN (Select GrpId from SecGroups WHERE GrpCode = 'DEPOSITDETAILS_APPROVER') And RoleID IN (Select RoleID from SecRoles WHERE RoleCd = 'MSTGRP1_APPROVER');
			Delete from SecGroups where GrpCode = 'DEPOSITDETAILS_APPROVER';
			INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'DEPOSITDETAILS_APPROVER','WF Approver for Deposit Details', 1, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL,0);
			
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_APPROVER'), (Select RightID from SecRights where RightName = 'button_DepositDetailsDialog_btnSave'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			INSERT INTO SecRoleGroups values ((SELECT MAX(RoleGrpID) + 1 from SecRoleGroups), (Select MAX(GrpId) from SecGroups WHERE GrpCode = 'DEPOSITDETAILS_APPROVER'), (Select MAX(RoleID) from SecRoles WHERE RoleCd = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
			
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEPOSITDETAILS_APPROVER'), (Select RightID from SecRights where RightName = 'menuItem_FinanceManagement_DepositDetails'), 1, 1, 1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Update SeqSecGroups Set SeqNo = (Select MAX(GrpID) + 1 from SecGroups);
			Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
			Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights);
			Update SeqSecRoleGroups Set SeqNo = (Select MAX(RoleGrpID) + 1 from SecRoleGroups);
		</sql>
	</changeSet>
	
	<changeSet id="240" author="Kesav">
		<sql>
			Delete from SMTPARAMETERS where SysParmCode = 'DEPOSIT_AMOUNT_EDIT';
			Insert into SMTPARAMETERS values ('DEPOSIT_AMOUNT_EDIT','Deposit Amount change','String',1,'Y',1,0,null,null,'Deposit Amount change',1,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>
	<changeSet id="241" author="Kesav">
		<createView viewName="DepositMovements_AView" replaceIfExists="true">
			Select 		T1.MovementId, T1.DepositId, T1.TransactionType, T1.ReservedAmount, T1.PartnerBankId, T1.DepositSlipNumber, T1.TransactionDate, T1.ReceiptId, T1.LinkedTranId,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName            
			From 		DepositMovements T1
			Inner Join  PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId					
		</createView>
	</changeSet>
	<changeSet id="242" author="Kesav">
		<createView viewName="DepositMovements_TView" replaceIfExists="true">
			Select 		T1.MovementId, T1.DepositId, T1.TransactionType, T1.ReservedAmount, T1.PartnerBankId, T1.DepositSlipNumber, T1.TransactionDate, T1.ReceiptId, T1.LinkedTranId,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName            
			From 		DepositMovements_Temp T1
			Inner Join  PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId					
		</createView>
	</changeSet>
	<changeSet id="243" author="Kesav">
		<createView viewName="DepositMovements_View" replaceIfExists="true">
			Select 		T1.MovementId, T1.DepositId, T1.TransactionType, T1.ReservedAmount, T1.PartnerBankId, T1.DepositSlipNumber, T1.TransactionDate, T1.ReceiptId, T1.LinkedTranId,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName            
			From 		DepositMovements_Temp T1
			Inner Join  PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId
			
			Union All
			
			Select 		T1.MovementId, T1.DepositId, T1.TransactionType, T1.ReservedAmount, T1.PartnerBankId, T1.DepositSlipNumber, T1.TransactionDate, T1.ReceiptId, T1.LinkedTranId,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName            
			From 		DepositMovements T1
			Inner Join  PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId
			WHERE NOT  (EXISTS ( SELECT 1 FROM DepositMovements_Temp WHERE DepositMovements_Temp.MovementId = T1.MovementId))					
		</createView>
	</changeSet>
	
	<changeSet id="244" author="Kesav">
		<createView viewName="CashDenominations_AView" replaceIfExists="true">
			Select 		T1.MovementId, T1.SeqNo, T1.ModuleCode, T1.Denomination, T1.Count, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			From 		CashDenominations T1		
		</createView>
	</changeSet>
	
	<changeSet id="245" author="Kesav">
		<createView viewName="CashDenominations_TView" replaceIfExists="true">
			Select 		T1.MovementId, T1.SeqNo, T1.ModuleCode, T1.Denomination, T1.Count, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			From 		CashDenominations_Temp T1		
		</createView>
	</changeSet>
	
	<changeSet id="246" author="Kesav">
		<createView viewName="CashDenominations_View" replaceIfExists="true">
			Select 		T1.MovementId, T1.SeqNo, T1.ModuleCode, T1.Denomination, T1.Count, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			From 		CashDenominations_Temp T1
			
			Union All
			
			Select 		T1.MovementId, T1.SeqNo, T1.ModuleCode, T1.Denomination, T1.Count, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			From 		CashDenominations T1
			WHERE NOT  (EXISTS (SELECT 1 FROM CashDenominations_Temp WHERE CashDenominations_Temp.MovementId = T1.MovementId And CashDenominations_Temp.SeqNo = T1.SeqNo And CashDenominations_Temp.ModuleCode = T1.ModuleCode))		
		</createView>
	</changeSet>
	
	<changeSet id="247" author="Manoj">
	<comment>Adding new column for capturing reference in query management module</comment>
		<addColumn tableName="querydetail_Temp">
			<column name="Reference" type="varchar(20)"/>
		</addColumn>
	</changeSet>
	
	<changeSet id="248" author="Manoj">
		<addColumn tableName="querydetail">
			<column name="Reference" type="varchar(20)"/>
		</addColumn>
	</changeSet>
	
	<changeSet id="249" author="Manoj">
		<createView viewName="querydetail_view" replaceIfExists="true">
			 SELECT t1.finreference,
		    t1.id,
		    s1.usrlogin,
		    t1.raisedon,
		    b1.description,
		    t1.qrynotes,
		    t1.status,
		    t1.raisedby,
		    b1.code AS categorycode,
		    b1.description AS categorydescription,
		    t1.categoryid,
		    t1.assignedrole,
		    t1.notifyto,
		    t1.responsnotes,
		    t1.responseby,
		    s2.usrlogin AS responseuser,
		    t1.responseon,
		    t1.closernotes,
		    t1.closerby,
		    s3.usrlogin AS closeruser,
		    t1.closeron,
		    t1.version,
		    t1.lastmntby,
		    t1.lastmnton,
		    t1.recordstatus,
		    t1.rolecode,
		    t1.nextrolecode,
		    t1.taskid,
		    t1.nexttaskid,
		    t1.recordtype,
		    t1.workflowid,
		    t1.module,
		    t1.reference
   	FROM querydetail t1
     JOIN bmtquerycategories b1 ON t1.categoryid = b1.id
     JOIN secusers s1 ON t1.raisedby = s1.usrid
     LEFT JOIN secusers s2 ON t1.responseby = s2.usrid
     LEFT JOIN secusers s3 ON t1.closerby = s3.usrid
		</createView>
	</changeSet>
	
	<changeSet id="250" author="Manoj">
		<createView viewName="querydetail_aview" replaceIfExists="true">
		SELECT t1.finreference,
	    t1.id,
	    s1.usrlogin,
	    t1.raisedon,
	    b1.description,
	    t1.qrynotes,
	    t1.status,
	    t1.raisedby,
	    b1.code AS categorycode,
	    b1.description AS categorydescription,
	    t1.categoryid,
	    t1.assignedrole,
	    t1.notifyto,
	    t1.responsnotes,
	    t1.responseby,
	    s2.usrlogin AS responseuser,
	    t1.responseon,
	    t1.closernotes,
	    t1.closerby,
	    s3.usrlogin AS closeruser,
	    t1.closeron,
	    t1.version,
	    t1.lastmntby,
	    t1.lastmnton,
	    t1.recordstatus,
	    t1.rolecode,
	    t1.nextrolecode,
	    t1.taskid,
	    t1.nexttaskid,
	    t1.recordtype,
	    t1.workflowid,
	    t1.module,
	    t1.reference
   FROM querydetail t1
     JOIN bmtquerycategories b1 ON t1.categoryid = b1.id
     JOIN secusers s1 ON t1.raisedby = s1.usrid
     LEFT JOIN secusers s2 ON t1.responseby = s2.usrid
     LEFT JOIN secusers s3 ON t1.closerby = s3.usrid
     </createView>
		</changeSet>
		
	<changeSet author="Kesav" id="251">
		<comment> data type modified from bigint to decimal(18,0)</comment>
		<modifyDataType tableName="DepositDetails" columnName="ActualAmount" newDataType="decimal(18,0)" />
	</changeSet>
	
	<changeSet author="Kesav" id="252">
		<comment> data type modified from bigint to decimal(18,0)</comment>
		<modifyDataType tableName="DepositDetails_Temp" columnName="ActualAmount" newDataType="decimal(18,0)" />
	</changeSet>
	
	<changeSet id="253" author="Kesav">
		<comment> Column Name changed from BalanceAmount to ReservedAmount</comment>
	 	<renameColumn tableName="DepositDetails_Temp" oldColumnName="BalanceAmount" newColumnName="ReservedAmount"/>
	 </changeSet>
	
	<changeSet id="254" author="Kesav">
		<comment> Column Name changed from BalanceAmount to ReservedAmount</comment>
	 	<renameColumn tableName="DepositDetails" oldColumnName="BalanceAmount" newColumnName="ReservedAmount"/>
	 </changeSet>
	 
	 <changeSet id="256" author="Kesav">
		<dropColumn tableName="CashDenominations_temp" columnName="ModuleCode" />
	</changeSet>
	
	 <changeSet id="257" author="Kesav">
		<dropColumn tableName="CashDenominations" columnName="ModuleCode" />
	</changeSet>
	
	<changeSet id="258" author="Kesav">
		<createView viewName="CashDenominations_AView" replaceIfExists="true">
			Select 		T1.MovementId, T1.SeqNo, T1.Denomination, T1.Count, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			From 		CashDenominations T1		
		</createView>
	</changeSet>
	
	<changeSet id="259" author="Kesav">
		<createView viewName="CashDenominations_TView" replaceIfExists="true">
			Select 		T1.MovementId, T1.SeqNo, T1.Denomination, T1.Count, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			From 		CashDenominations_Temp T1		
		</createView>
	</changeSet>
	
	<changeSet id="260" author="Kesav">
		<createView viewName="CashDenominations_View" replaceIfExists="true">
			Select 		T1.MovementId, T1.SeqNo, T1.Denomination, T1.Count, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			From 		CashDenominations_Temp T1
			
			Union All
			
			Select 		T1.MovementId, T1.SeqNo, T1.Denomination, T1.Count, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			From 		CashDenominations T1
			WHERE NOT  (EXISTS (SELECT 1 FROM CashDenominations_Temp WHERE CashDenominations_Temp.MovementId = T1.MovementId And CashDenominations_Temp.SeqNo = T1.SeqNo))		
		</createView>
	</changeSet>
	
	<changeSet id="261" author="Kesav">
		<createView viewName="DepositDetails_AView" replaceIfExists="true">
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.ActualAmount, T1.TransactionAmount, T1.ReservedAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.BranchDesc
			From 		DepositDetails T1
			Inner Join  RMTBranches T2 ON T2.BranchCode = T1.BranchCode			
		</createView>
	</changeSet>
	
	<changeSet id="262" author="Kesav">
		<createView viewName="DepositDetails_TView" replaceIfExists="true">
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.ActualAmount, T1.TransactionAmount, T1.ReservedAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.BranchDesc
			From 		DepositDetails_Temp T1
			Inner Join  RMTBranches T2 ON T2.BranchCode = T1.BranchCode
		</createView>
	</changeSet>
	
	<changeSet id="263" author="Kesav">
		<createView viewName="DepositDetails_View" replaceIfExists="true">
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.ActualAmount, T1.TransactionAmount, T1.ReservedAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.BranchDesc
			From 		DepositDetails_Temp T1
			Inner Join  RMTBranches T2 ON T2.BranchCode = T1.BranchCode
			
			Union All
			
			Select 		T1.DepositId, T1.DepositType, T1.BranchCode, T1.ActualAmount, T1.TransactionAmount, T1.ReservedAmount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.BranchDesc
			From 		DepositDetails T1
			Inner Join  RMTBranches T2 ON T2.BranchCode = T1.BranchCode
			WHERE NOT  (EXISTS ( SELECT 1 FROM DepositDetails_Temp WHERE DepositDetails_Temp.DepositId = T1.DepositId))		
		</createView>
	</changeSet>
	
	<changeSet id="264" author="Vinay">
		<addColumn tableName="FinCovenantType">
			<column name="InternalUse" type="boolean" defaultValue="0"/>
		</addColumn>
	</changeSet>
	
	<changeSet id="265" author="Vinay">
		<addColumn tableName="FinCovenantType_Temp">
			<column name="InternalUse" type="boolean" defaultValue="0"/>
		</addColumn>
	</changeSet>
	
	<changeSet id="266" author="Vinay">
		<sql>
			Update FinCovenantType set InternalUse='0';
			Update FinCovenantType_Temp set InternalUse='0';
		</sql>
	</changeSet>
	
	<changeSet id="267" author="Vinay">
		<createView viewName="FinCovenantType_AView" replaceIfExists="true">
				SELECT t1.finreference,
			    t1.covenanttype,
			    t1.description,
			    t1.mandrole,
			    t1.alwwaiver,
			    t1.alwpostpone,
			    t1.postponedays,
			    t1.alwotc,
			    t3.doctypedesc AS covenanttypedesc,
			    t5.code AS categorycode,
			    t4.roledesc AS mandroledesc,
			    t1.receivabledate,
			    t1.internaluse,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t3.pdd AS pddflag,
			    t3.otc AS otcflag
			   FROM fincovenanttype t1
			     JOIN financemain t2 ON t2.finreference = t1.finreference
			     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
			     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
			     JOIN secroles t4 ON t4.rolecd = t1.mandrole
		</createView>
	</changeSet>
	
	<changeSet id="268" author="Vinay">
		<createView viewName="FinCovenantType_TView" replaceIfExists="true">
			SELECT t1.finreference,
			    t1.covenanttype,
			    t1.description,
			    t1.mandrole,
			    t1.alwwaiver,
			    t1.alwpostpone,
			    t1.postponedays,
			    t1.alwotc,
			    t3.doctypedesc AS covenanttypedesc,
			    t5.code AS categorycode,
			    t4.roledesc AS mandroledesc,
			    t1.receivabledate,
			    t1.internaluse,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t3.pdd AS pddflag,
			    t3.otc AS otcflag
			   FROM fincovenanttype_temp t1
			     JOIN financemain_temp t2 ON t2.finreference = t1.finreference
			     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
			     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
			     JOIN secroles t4 ON t4.rolecd = t1.mandrole
		</createView>
	</changeSet>
	
	<changeSet id="269" author="Vinay">
		<createView viewName="FinCovenantType_View" replaceIfExists="true">
			SELECT t1.finreference,
			    t1.covenanttype,
			    t1.description,
			    t1.mandrole,
			    t1.alwwaiver,
			    t1.alwpostpone,
			    t1.postponedays,
			    t1.alwotc,
			    t3.doctypedesc AS covenanttypedesc,
			    t5.code AS categorycode,
			    t4.roledesc AS mandroledesc,
			    t1.receivabledate,
			    t1.internaluse,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t3.pdd AS pddflag,
			    t3.otc AS otcflag
			   FROM fincovenanttype_temp t1
			     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
			     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
			     LEFT JOIN secroles t4 ON t4.rolecd = t1.mandrole
			UNION ALL
			 SELECT t1.finreference,
			    t1.covenanttype,
			    t1.description,
			    t1.mandrole,
			    t1.alwwaiver,
			    t1.alwpostpone,
			    t1.postponedays,
			    t1.alwotc,
			    t3.doctypedesc AS covenanttypedesc,
			    t5.code AS categorycode,
			    t4.roledesc AS mandroledesc,
			    t1.receivabledate,
			    t1.internaluse,
			    t1.version,
			    t1.lastmntby,
			    t1.lastmnton,
			    t1.recordstatus,
			    t1.rolecode,
			    t1.nextrolecode,
			    t1.taskid,
			    t1.nexttaskid,
			    t1.recordtype,
			    t1.workflowid,
			    t3.pdd AS pddflag,
			    t3.otc AS otcflag
			   FROM fincovenanttype t1
			     JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
			     LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
			     LEFT JOIN secroles t4 ON t4.rolecd = t1.mandrole
			  WHERE NOT (EXISTS ( SELECT 1
			           FROM fincovenanttype_temp
			          WHERE fincovenanttype_temp.finreference = t1.finreference AND fincovenanttype_temp.covenanttype = t1.covenanttype))
		</createView>
	</changeSet>
	
	<changeSet id="270" author="Vinay">
		<createView viewName="fincovenanttype_eview" replaceIfExists="true">
			SELECT t.finreference,
			   t.custid,
			   t.covenanttype,
			   t.description,
			   t.mandrole,
			   t.alwwaiver,
			   t.alwpostpone,
			   t.alwotc,
			   t.postponedays,
			   t.covenanttypedesc,
			   t.categorycode,
			   t.receivabledate,
			   t.internaluse,
			   t.version,
			   t.lastmntby,
			   t.lastmnton,
			   t.recordstatus,
			   t.rolecode,
			   t.nextrolecode,
			   t.taskid,
			   t.nexttaskid,
			   t.recordtype,
			   t.workflowid,
			       CASE
			           WHEN t.docreceiveddate IS NULL THEN cd.lastmnton
			           ELSE t.docreceiveddate
			       END AS docreceiveddate,
			   t.pddflag,
			   t.otcflag
			  FROM ( SELECT t1.finreference,
			           t4.custid,
			           t1.covenanttype,
			           t1.description,
			           t1.mandrole,
			           t1.alwwaiver,
			           t1.alwpostpone,
			           t1.postponedays,
			           t1.alwotc,
			           t3.doctypedesc AS covenanttypedesc,
			           t5.code AS categorycode,
			           t1.receivabledate,
			           t1.internaluse,
			           t1.version,
			           t1.lastmntby,
			           t1.lastmnton,
			           t1.recordstatus,
			           t1.rolecode,
			           t1.nextrolecode,
			           t1.taskid,
			           t1.nexttaskid,
			           t1.recordtype,
			           t1.workflowid,
			           t7.docreceiveddate,
			           t3.pdd AS pddflag,
			           t3.otc AS otcflag
			          FROM fincovenanttype_temp t1
			            JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
			            LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
			            JOIN financemain_temp t4 ON t4.finreference = t1.finreference
			            LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory) t
			    LEFT JOIN customerdocuments cd ON cd.custid = t.custid AND t.covenanttype = cd.custdoccategory
		</createView>
	</changeSet>
	
	<changeSet id="272" author="Vinay">
		<createView viewName="fincovenanttype_eaview" replaceIfExists="true">
			SELECT t.finreference,
			    t.custid,
			    t.covenanttype,
			    t.description,
			    t.mandrole,
			    t.alwwaiver,
			    t.alwpostpone,
			    t.alwotc,
			    t.postponedays,
			    t.covenanttypedesc,
			    t.categorycode,
			    t.receivabledate,
			    t.internaluse,
			    t.version,
			    t.lastmntby,
			    t.lastmnton,
			    t.recordstatus,
			    t.rolecode,
			    t.nextrolecode,
			    t.taskid,
			    t.nexttaskid,
			    t.recordtype,
			    t.workflowid,
			        CASE
			            WHEN t.docreceiveddate IS NULL THEN cd.lastmnton
			            ELSE t.docreceiveddate
			        END AS docreceiveddate,
			    t.pddflag,
			    t.otcflag
			   FROM ( SELECT t1.finreference,
			            t4.custid,
			            t1.covenanttype,
			            t1.description,
			            t1.mandrole,
			            t1.alwwaiver,
			            t1.alwpostpone,
			            t1.alwotc,
			            t1.postponedays,
			            t3.doctypedesc AS covenanttypedesc,
			            t5.code AS categorycode,
			            t1.receivabledate,
			            t1.internaluse,
			            t1.version,
			            t1.lastmntby,
			            t1.lastmnton,
			            t1.recordstatus,
			            t1.rolecode,
			            t1.nextrolecode,
			            t1.taskid,
			            t1.nexttaskid,
			            t1.recordtype,
			            t1.workflowid,
			            t7.docreceiveddate,
			            t3.pdd AS pddflag,
			            t3.otc AS otcflag
			           FROM fincovenanttype t1
			             JOIN bmtdocumenttypes t3 ON t3.doctypecode = t1.covenanttype
			             LEFT JOIN documentcategory t5 ON t5.id = t3.categoryid
			             JOIN financemain t4 ON t4.finreference = t1.finreference
			             LEFT JOIN documentdetails t7 ON t7.referenceid = t1.finreference AND t1.covenanttype = t7.doccategory) t
			     LEFT JOIN customerdocuments cd ON cd.custid = t.custid AND t.covenanttype = cd.custdoccategory
		</createView>
	</changeSet>
	
	<changeSet id="273" author="Vinay">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FinCovenantTypeDialog_internalUse','FinCovenantTypeDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FinCovenantType_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FinCovenantTypeDialog_internalUse'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
		</sql>
	</changeSet>
	
	<changeSet id="274" author="Kesav">
		<sql>
			Delete from BMTAEEVENTS where AeEventCode = 'C2B';
			insert into BMTAEEVENTS values('C2B','CASH TO BANK',1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0, 1, 0, 1);
			
			Delete from BMTAMOUNTCODES where AllowedEvent = 'C2B' And AmountCode = 'ae_transfer';
			insert into BMTAMOUNTCODES values('C2B',0,'ae_transfer','CASH TO BANK',1,1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);

			Insert Into RMTACCOUNTINGSET Values ((Select Max(AccountSetId) + 1 from RMTACCOUNTINGSET), 'C2B', 'C2B', 'CASH TO BANK', 0, 0, 1, 1000, Current_TimeStamp, 'Approved', '', '', '', '', '', 0);
			UPDATE seqRMTACCOUNTINGSET SET SEQNO = (Select Max(AccountSetId) from RMTACCOUNTINGSET);
			
			Insert Into RMTTRANSACTIONENTRY Values
			((Select AccountSetId from RMTACCOUNTINGSET where EventCode = 'C2B'), '1', 'Citi Bank A/c','D', '0','CITIDDCOLL','1000','BUILD','GLCREATE','010','510', 'Result = ae_transfer;', null, ' ', 'D', 0, 0, 1, 0, Current_TimeStamp, 'Approved', '', '', '', '', '', 0, 'E', '0');
			Insert Into RMTTRANSACTIONENTRY Values
			((Select AccountSetId from RMTACCOUNTINGSET where EventCode = 'C2B'), '2', 'State Bank A/c','C', '0','13040152','1000','BUILD','GLCREATE','510','010', 'Result = ae_transfer;', null, ' ', 'D', 0, 0, 1, 0, Current_TimeStamp, 'Approved', '', '', '', '', '', 0, 'E', '0');
			
			Delete from SMTPARAMETERS where SysParmCode = 'GL_CM_GLHEAD_C2B';
			Insert into SMTPARAMETERS  values ('GL_CM_GLHEAD_C2B','Gold Loan Cash Management','String',0,(Select AccountSetId from RMTAccountingSet where EVentCode = 'C2B'),10,0,null,null,'Cash To Bank Account set Id',1,1000,Current_TimeStamp,'Approved',null,null,null,null,null,0);
		</sql>
	</changeSet>

	<changeSet id="275" author="Siva">
		<sql>
			delete FROM RBFIELDDETAILS WHERE RBEVENT = 'SUBHEAD' and rbfldname='ae_paymentType' and rbmodule='SUBHEAD';
			delete FROM RBFIELDDETAILS WHERE RBEVENT = 'SUBHEAD' and rbfldname='ae_userBranch' and rbmodule='SUBHEAD';
			Insert into RBFIELDDETAILS values ('SUBHEAD','SUBHEAD','ae_paymentType','Payment	Type','nvarchar',8,'1','1','paymentType','static,global',null);
			Insert into RBFIELDDETAILS Values ('SUBHEAD','SUBHEAD','ae_userBranch', 'User Branch','nvarchar',50, 1,1, ' ','static,global', ' ');
		</sql>
	</changeSet>
	
	<changeSet id="276" author="Kesav">
		<addColumn tableName="FinReceiptHeader">
			<column name="DepositProcess" type="boolean" defaultValue="0"/>
		</addColumn>
		<addColumn tableName="FinReceiptHeader_Temp">
			<column name="DepositProcess" type="boolean" defaultValue="0"/>
		</addColumn>
	</changeSet>
	
	<changeSet id="277" author="Kesav">
		<sql>
			Update FinReceiptHeader set DepositProcess = 0 where DepositProcess is null;
			Update FinReceiptHeader_Temp set DepositProcess = 0 where DepositProcess is null;
		</sql>
	</changeSet>
	
	<changeSet id="278" author="Kesav">
		<comment>Deposit Process columna added in FinReceiptHeader</comment>
		<createView viewName="finreceiptheader_fcview" replaceIfExists="true">
		SELECT t1.receiptid,
    t1.receiptdate,
    t1.receipttype,
    t1.recagainst,
    t1.reference,
    t1.receiptpurpose,
    t1.receiptmode,
    t1.excessadjustto,
    t1.allocationtype,
    t1.receiptamount,
    t1.effectschdmethod,
    t1.receiptmodestatus,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.fintype,
    t2.finbranch,
    t3.custcif,
    t3.custshrtname,
    t2.finccy,
    t1.realizationdate,
    t1.cancelreason,
    t4.fintypedesc,
    t6.branchdesc AS finbranchdesc,
    t5.ccydesc AS finccydesc,
    t7.rejectdesc AS cancelreasondesc,
    t2.finisactive,
    t2.schedulemethod,
    t2.profitdaysbasis AS pftdaysbasis,
    t1.waviedamt,
    t3.custid,
    t1.totfeeamount,
    t1.bouncedate,
    t1.remarks,
    t1.rcdmaintainsts,
    t1.depositProcess
   FROM finreceiptheader_temp t1
     JOIN financemain_temp t2 ON t1.reference = t2.finreference
     JOIN customers t3 ON t2.custid = t3.custid
     JOIN rmtfinancetypes t4 ON t2.fintype = t4.fintype
     JOIN rmtcurrencies t5 ON t2.finccy = t5.ccycode
     JOIN rmtbranches t6 ON t2.finbranch = t6.branchcode
     LEFT JOIN bmtrejectcodes t7 ON t1.cancelreason = t7.rejectcode
UNION ALL
 SELECT t1.receiptid,
    t1.receiptdate,
    t1.receipttype,
    t1.recagainst,
    t1.reference,
    t1.receiptpurpose,
    t1.receiptmode,
    t1.excessadjustto,
    t1.allocationtype,
    t1.receiptamount,
    t1.effectschdmethod,
    t1.receiptmodestatus,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.fintype,
    t2.finbranch,
    t3.custcif,
    t3.custshrtname,
    t2.finccy,
    t1.realizationdate,
    t1.cancelreason,
    t4.fintypedesc,
    t6.branchdesc AS finbranchdesc,
    t5.ccydesc AS finccydesc,
    t7.rejectdesc AS cancelreasondesc,
    t2.finisactive,
    t2.schedulemethod,
    t2.profitdaysbasis AS pftdaysbasis,
    t1.waviedamt,
    t3.custid,
    t1.totfeeamount,
    t1.bouncedate,
    t1.remarks,
    t1.rcdmaintainsts,
    t1.depositProcess
   FROM finreceiptheader t1
     JOIN financemain_temp t2 ON t1.reference = t2.finreference
     JOIN customers t3 ON t2.custid = t3.custid
     JOIN rmtfinancetypes t4 ON t2.fintype = t4.fintype
     JOIN rmtcurrencies t5 ON t2.finccy = t5.ccycode
     JOIN rmtbranches t6 ON t2.finbranch = t6.branchcode
     LEFT JOIN bmtrejectcodes t7 ON t1.cancelreason = t7.rejectcode
  WHERE NOT (EXISTS ( SELECT 1 FROM finreceiptheader_temp WHERE finreceiptheader_temp.receiptid = t1.receiptid))
		</createView>
	</changeSet>
	
	<changeSet id="279" author="Kesav">
		<comment>Deposit Process columna added in FinReceiptHeader</comment>
		<createView viewName="finreceiptheader_feview" replaceIfExists="true">
		SELECT t1.receiptid,
    t1.receiptdate,
    t1.receipttype,
    t1.recagainst,
    t1.reference,
    t1.receiptpurpose,
    t1.receiptmode,
    t1.excessadjustto,
    t1.allocationtype,
    t1.receiptamount,
    t1.effectschdmethod,
    t1.receiptmodestatus,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.fintype,
    t2.finbranch,
    t3.custcif,
    t3.custshrtname,
    t2.finccy,
    t1.realizationdate,
    t1.cancelreason,
    t4.fintypedesc,
    t6.branchdesc AS finbranchdesc,
    t5.ccydesc AS finccydesc,
    t7.rejectdesc AS cancelreasondesc,
    t2.finisactive,
    t2.schedulemethod,
    t2.profitdaysbasis AS pftdaysbasis,
    t1.waviedamt,
    t3.custid,
    t1.totfeeamount,
    t1.bouncedate,
    t1.remarks,
    t1.rcdmaintainsts,
    t1.depositProcess
   FROM finreceiptheader_temp t1
     JOIN financemain_temp t2 ON t1.reference = t2.finreference
     JOIN customers t3 ON t2.custid = t3.custid
     JOIN rmtfinancetypes t4 ON t2.fintype = t4.fintype
     JOIN rmtcurrencies t5 ON t2.finccy = t5.ccycode
     JOIN rmtbranches t6 ON t2.finbranch = t6.branchcode
     LEFT JOIN bmtrejectcodes t7 ON t1.cancelreason = t7.rejectcode
UNION ALL
 SELECT t1.receiptid,
    t1.receiptdate,
    t1.receipttype,
    t1.recagainst,
    t1.reference,
    t1.receiptpurpose,
    t1.receiptmode,
    t1.excessadjustto,
    t1.allocationtype,
    t1.receiptamount,
    t1.effectschdmethod,
    t1.receiptmodestatus,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.fintype,
    t2.finbranch,
    t3.custcif,
    t3.custshrtname,
    t2.finccy,
    t1.realizationdate,
    t1.cancelreason,
    t4.fintypedesc,
    t6.branchdesc AS finbranchdesc,
    t5.ccydesc AS finccydesc,
    t7.rejectdesc AS cancelreasondesc,
    t2.finisactive,
    t2.schedulemethod,
    t2.profitdaysbasis AS pftdaysbasis,
    t1.waviedamt,
    t3.custid,
    t1.totfeeamount,
    t1.bouncedate,
    t1.remarks,
    t1.rcdmaintainsts,
    t1.depositProcess
   FROM finreceiptheader t1
     JOIN ( SELECT financemain_temp.finreference,
            financemain_temp.finbranch,
            financemain_temp.fintype,
            financemain_temp.finccy,
            financemain_temp.schedulemethod,
            financemain_temp.profitdaysbasis,
            financemain_temp.finisactive,
            financemain_temp.custid
           FROM financemain_temp
        UNION
         SELECT financemain.finreference,
            financemain.finbranch,
            financemain.fintype,
            financemain.finccy,
            financemain.schedulemethod,
            financemain.profitdaysbasis,
            financemain.finisactive,
            financemain.custid
           FROM financemain) t2 ON t1.reference = t2.finreference
     JOIN customers t3 ON t2.custid = t3.custid
     JOIN rmtfinancetypes t4 ON t2.fintype = t4.fintype
     JOIN rmtcurrencies t5 ON t2.finccy = t5.ccycode
     JOIN rmtbranches t6 ON t2.finbranch = t6.branchcode
     LEFT JOIN bmtrejectcodes t7 ON t1.cancelreason = t7.rejectcode
  WHERE NOT (EXISTS ( SELECT 1
           FROM finreceiptheader_temp
          WHERE finreceiptheader_temp.receiptid = t1.receiptid))
		</createView>
	</changeSet>
	
	<changeSet id="280" author="Kesav">
		<comment>Deposit Process columna added in FinReceiptHeader</comment>
		<createView viewName="finreceiptheader_fview" replaceIfExists="true">
			SELECT t1.receiptid,
    t1.receiptdate,
    t1.receipttype,
    t1.recagainst,
    t1.reference,
    t1.receiptpurpose,
    t1.receiptmode,
    t1.excessadjustto,
    t1.allocationtype,
    t1.receiptamount,
    t1.effectschdmethod,
    t1.receiptmodestatus,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.fintype,
    t2.finbranch,
    t3.custcif,
    t3.custshrtname,
    t2.finccy,
    t1.realizationdate,
    t1.cancelreason,
    t4.fintypedesc,
    t6.branchdesc AS finbranchdesc,
    t5.ccydesc AS finccydesc,
    t7.rejectdesc AS cancelreasondesc,
    t2.finisactive,
    t2.schedulemethod,
    t2.profitdaysbasis AS pftdaysbasis,
    t1.waviedamt,
    t3.custid,
    t1.totfeeamount,
    t1.bouncedate,
    t1.remarks,
    t1.rcdmaintainsts,
    t1.depositProcess
   FROM finreceiptheader_temp t1
     JOIN financemain_temp t2 ON t1.reference = t2.finreference
     JOIN customers t3 ON t2.custid = t3.custid
     JOIN rmtfinancetypes t4 ON t2.fintype = t4.fintype
     JOIN rmtcurrencies t5 ON t2.finccy = t5.ccycode
     JOIN rmtbranches t6 ON t2.finbranch = t6.branchcode
     LEFT JOIN bmtrejectcodes t7 ON t1.cancelreason = t7.rejectcode
		</createView>
	</changeSet>
	
	<changeSet id="281" author="Kesav">
		<comment>Deposit Process columna added in FinReceiptHeader</comment>
		<createView viewName="finreceiptheader_view" replaceIfExists="true">
			 SELECT t1.receiptid,
    t1.receiptdate,
    t1.receipttype,
    t1.recagainst,
    t1.reference,
    t1.receiptpurpose,
    t1.receiptmode,
    t1.excessadjustto,
    t1.allocationtype,
    t1.receiptamount,
    t1.effectschdmethod,
    t1.receiptmodestatus,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.fintype,
    t2.finbranch,
    t3.custcif,
    t3.custshrtname,
    t2.finccy,
    t1.realizationdate,
    t1.cancelreason,
    t4.fintypedesc,
    t6.branchdesc AS finbranchdesc,
    t5.ccydesc AS finccydesc,
    t7.rejectdesc AS cancelreasondesc,
    t2.finisactive,
    t1.waviedamt,
    t1.totfeeamount,
    t1.bouncedate,
    t1.remarks,
    t1.rcdmaintainsts,
    t1.depositProcess
   FROM finreceiptheader_temp t1
     JOIN financemain t2 ON t1.reference = t2.finreference
     JOIN customers t3 ON t2.custid = t3.custid
     JOIN rmtfinancetypes t4 ON t2.fintype = t4.fintype
     JOIN rmtcurrencies t5 ON t2.finccy = t5.ccycode
     JOIN rmtbranches t6 ON t2.finbranch = t6.branchcode
     LEFT JOIN bmtrejectcodes t7 ON t1.cancelreason = t7.rejectcode
UNION ALL
 SELECT t1.receiptid,
    t1.receiptdate,
    t1.receipttype,
    t1.recagainst,
    t1.reference,
    t1.receiptpurpose,
    t1.receiptmode,
    t1.excessadjustto,
    t1.allocationtype,
    t1.receiptamount,
    t1.effectschdmethod,
    t1.receiptmodestatus,
    t1.version,
    t1.lastmntby,
    t1.lastmnton,
    t1.recordstatus,
    t1.rolecode,
    t1.nextrolecode,
    t1.taskid,
    t1.nexttaskid,
    t1.recordtype,
    t1.workflowid,
    t2.fintype,
    t2.finbranch,
    t3.custcif,
    t3.custshrtname,
    t2.finccy,
    t1.realizationdate,
    t1.cancelreason,
    t4.fintypedesc,
    t6.branchdesc AS finbranchdesc,
    t5.ccydesc AS finccydesc,
    t7.rejectdesc AS cancelreasondesc,
    t2.finisactive,
    t1.waviedamt,
    t1.totfeeamount,
    t1.bouncedate,
    t1.remarks,
    t1.rcdmaintainsts,
    t1.depositProcess
   FROM finreceiptheader t1
     JOIN financemain t2 ON t1.reference = t2.finreference
     JOIN customers t3 ON t2.custid = t3.custid
     JOIN rmtfinancetypes t4 ON t2.fintype = t4.fintype
     JOIN rmtcurrencies t5 ON t2.finccy = t5.ccycode
     JOIN rmtbranches t6 ON t2.finbranch = t6.branchcode
     LEFT JOIN bmtrejectcodes t7 ON t1.cancelreason = t7.rejectcode
  WHERE NOT (EXISTS ( SELECT 1
           FROM finreceiptheader_temp
          WHERE finreceiptheader_temp.receiptid = t1.receiptid))
		</createView>
	</changeSet>
	
		<changeSet id="282" author="Kesav">
		<comment>BranchCode and BranchDesc columns added in DepositMovements</comment>
		<createView viewName="DepositMovements_AView" replaceIfExists="true">
			Select 		T1.MovementId, T1.DepositId, T1.TransactionType, T1.ReservedAmount, T1.PartnerBankId, T1.DepositSlipNumber, T1.TransactionDate, T1.ReceiptId, T1.LinkedTranId,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName,
                        T4.BranchCode, T4.BranchDesc
			From 		DepositMovements T1
			Inner Join  PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId
            Inner Join  DepositDetails T3 ON T3.DepositId = T1.DepositId
            Inner Join  RMTBranches T4 ON T4.BranchCode = T3.BranchCode		
		</createView>
	</changeSet>
	
	<changeSet id="283" author="Kesav">
		<comment>BranchCode and BranchDesc columns added in DepositMovements</comment>
		<createView viewName="DepositMovements_TView" replaceIfExists="true">
			Select 		T1.MovementId, T1.DepositId, T1.TransactionType, T1.ReservedAmount, T1.PartnerBankId, T1.DepositSlipNumber, T1.TransactionDate, T1.ReceiptId, T1.LinkedTranId,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName,
                        T4.BranchCode, T4.BranchDesc
			From 		DepositMovements_Temp T1
			Inner Join  PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId
            Inner Join  DepositDetails T3 ON T3.DepositId = T1.DepositId
            Inner Join  RMTBranches T4 ON T4.BranchCode = T3.BranchCode
		</createView>
	</changeSet>
	
	<changeSet id="284" author="Kesav">
		<comment>BranchCode and BranchDesc columns added in DepositMovements</comment>
		<createView viewName="DepositMovements_View" replaceIfExists="true">
			Select 		T1.MovementId, T1.DepositId, T1.TransactionType, T1.ReservedAmount, T1.PartnerBankId, T1.DepositSlipNumber, T1.TransactionDate, T1.ReceiptId, T1.LinkedTranId,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName,
                        T4.BranchCode, T4.BranchDesc
			From 		DepositMovements_Temp T1
			Inner Join  PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId
            Inner Join  DepositDetails T3 ON T3.DepositId = T1.DepositId
            Inner Join  RMTBranches T4 ON T4.BranchCode = T3.BranchCode
			
			Union All
			
			Select 		T1.MovementId, T1.DepositId, T1.TransactionType, T1.ReservedAmount, T1.PartnerBankId, T1.DepositSlipNumber, T1.TransactionDate, T1.ReceiptId, T1.LinkedTranId,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
			            T2.PartnerBankCode, T2.PartnerBankName,
                        T4.BranchCode, T4.BranchDesc
			From 		DepositMovements T1
			Inner Join  PartnerBanks T2 ON T2.PartnerBankId = T1.PartnerBankId
            Inner Join  DepositDetails T3 ON T3.DepositId = T1.DepositId
            Inner Join  RMTBranches T4 ON T4.BranchCode = T3.BranchCode
			WHERE NOT  (EXISTS ( SELECT 1 FROM DepositDetails_Temp WHERE DepositDetails_Temp.DepositId = T1.DepositId))		
		</createView>
	</changeSet>
	
	<changeSet id="285" author="Kesav">
		<createTable tableName="DepositCheques_Temp">
			<column name="Id"  type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_DepositCheques_Temp_Id" nullable="false" />
			</column>			
			<column name="MovementId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="ReceiptId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="ReceiptMode" type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="Amount" type="decimal(18,0)" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" defaultValue="0" />
		</createTable>
	</changeSet>
	
	<changeSet id="286" author="Kesav">
		<createTable tableName="DepositCheques">
			<column name="Id"  type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_DepositCheques_Id" nullable="false" />
			</column>			
			<column name="MovementId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="ReceiptId" type="bigint" defaultValue="0">
				<constraints nullable="false"/>
			</column>
			<column name="ReceiptMode" type="varchar(8)" >
				<constraints nullable="false"/>
			</column>
			<column name="Amount" type="decimal(18,0)" defaultValue="0">
				<constraints nullable="false"/>
			</column>			
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" defaultValue="0" />
		</createTable>
	</changeSet>
	
	<changeSet id="287" author="Kesav">
		<createView viewName="DepositCheques_AView" replaceIfExists="true">
			Select 		T1.Id, T1.MovementId, T1.ReceiptId, T1.ReceiptMode, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
                        T2.DepositSlipNumber, T2.TransactionDate, T2.LinkedTranId, T2.PartnerBankId, 
			            T3.PartnerBankCode, T3.PartnerBankName,
                        T5.BranchCode, T5.BranchDesc
			From 		DepositCheques T1
            Inner Join  DepositMovements T2 ON T2.MovementId = T1.MovementId
			Inner Join  PartnerBanks T3 ON T3.PartnerBankId = T2.PartnerBankId
            Inner Join  DepositDetails T4 ON T4.DepositId = T2.DepositId
            Inner Join  RMTBranches T5 ON T5.BranchCode = T4.BranchCode		
		</createView>
	</changeSet>
	
	<changeSet id="288" author="Kesav">
		<createView viewName="DepositCheques_TView" replaceIfExists="true">
			Select 		T1.Id, T1.MovementId, T1.ReceiptId, T1.ReceiptMode, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
                        T2.DepositSlipNumber, T2.TransactionDate, T2.LinkedTranId, T2.PartnerBankId, 
			            T3.PartnerBankCode, T3.PartnerBankName,
                        T5.BranchCode, T5.BranchDesc
			From 		DepositCheques_Temp T1
            Inner Join  DepositMovements T2 ON T2.MovementId = T1.MovementId
			Inner Join  PartnerBanks T3 ON T3.PartnerBankId = T2.PartnerBankId
            Inner Join  DepositDetails T4 ON T4.DepositId = T2.DepositId
            Inner Join  RMTBranches T5 ON T5.BranchCode = T4.BranchCode
		</createView>
	</changeSet>
	
	<changeSet id="289" author="Kesav">
		<createView viewName="DepositCheques_View" replaceIfExists="true">
			Select 		T1.Id, T1.MovementId, T1.ReceiptId, T1.ReceiptMode, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
                        T2.DepositSlipNumber, T2.TransactionDate, T2.LinkedTranId, T2.PartnerBankId, 
			            T3.PartnerBankCode, T3.PartnerBankName,
                        T5.BranchCode, T5.BranchDesc
			From 		DepositCheques_Temp T1
            Inner Join  DepositMovements T2 ON T2.MovementId = T1.MovementId
			Inner Join  PartnerBanks T3 ON T3.PartnerBankId = T2.PartnerBankId
            Inner Join  DepositDetails T4 ON T4.DepositId = T2.DepositId
            Inner Join  RMTBranches T5 ON T5.BranchCode = T4.BranchCode
			
			Union All
			
			Select 		T1.Id, T1.MovementId, T1.ReceiptId, T1.ReceiptMode, T1.Amount,
						T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
                        T2.DepositSlipNumber, T2.TransactionDate, T2.LinkedTranId, T2.PartnerBankId, 
			            T3.PartnerBankCode, T3.PartnerBankName,
                        T5.BranchCode, T5.BranchDesc
			From 		DepositCheques T1
            Inner Join  DepositMovements T2 ON T2.MovementId = T1.MovementId
			Inner Join  PartnerBanks T3 ON T3.PartnerBankId = T2.PartnerBankId
            Inner Join  DepositDetails T4 ON T4.DepositId = T2.DepositId
            Inner Join  RMTBranches T5 ON T5.BranchCode = T4.BranchCode
			WHERE NOT  (EXISTS ( SELECT 1 FROM DepositCheques_Temp WHERE DepositCheques_Temp.Id = T1.Id))		
		</createView>
	</changeSet>
	
	<changeSet id="290" author="Kesav">
		<createSequence sequenceName="SeqDepositCheques" startValue="1" incrementBy="1"/>
	</changeSet>
	
</databaseChangeLog>
	