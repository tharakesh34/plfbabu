<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />

	<changeSet id="pre_run_for_pgp" author="Adarsh" runAlways="true" dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.51" author="hemasai.r">
	<createTable tableName="CERSAI_AreaUnit">
		<column name="Id" type="bigint"/>
		<column name="Description" type="varchar(100)"/>
		<column name="version" type="int"/>
		<column name="lastmntby" type="bigint"/>
		<column name="lastmnton" type="datetime"/>
		<column name="recordstatus" type="varchar(50)"/>
		<column name="rolecode" type="varchar(100)"/>
		<column name="nextrolecode" type="varchar(200)"/>
		<column name="taskid" type="varchar(50)"/>
		<column name="nexttaskid" type="varchar(200)"/>
		<column name="recordtype" type="varchar(50)"/>
		<column name="workflowid" type="bigint">
			<constraints nullable="false"/>
		</column>
	</createTable>
	</changeSet>
	
	<changeSet id="ST#222.51.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_AreaUnit" columnNames="ID" constraintName="pk_AreaUnit" />
	</changeSet>

	<changeSet id="ST#222.52" author="hemasai.r">
	<createTable tableName="CERSAI_AreaUnit_Temp">
		<column name="Id" type="bigint"/>
		<column name="Description" type="varchar(100)"/>
		<column name="version" type="int"/>
		<column name="lastmntby" type="bigint"/>
		<column name="lastmnton" type="datetime"/>
		<column name="recordstatus" type="varchar(50)"/>
		<column name="rolecode" type="varchar(100)"/>
		<column name="nextrolecode" type="varchar(200)"/>
		<column name="taskid" type="varchar(50)"/>
		<column name="nexttaskid" type="varchar(200)"/>
		<column name="recordtype" type="varchar(50)"/>
		<column name="workflowid" type="bigint">
			<constraints nullable="false"/>
		</column>
	</createTable>
	</changeSet>
	
	<changeSet id="ST#222.52.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_AreaUnit_Temp" columnNames="ID" constraintName="pk_AreaUnit_T" />
	</changeSet>
	
	<changeSet id="ST#222.53_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_areaunit_aview');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.53" author="hemasai.r">
		<createView viewName="CERSAI_AreaUnit_AView" replaceIfExists="true">
			<![CDATA[
				SELECT
					T1.Id, 
					T1.Description,
					T1.Version,
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode, 
					T1.NextRoleCode,
					T1.TaskId, 
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM CERSAI_AreaUnit T1
			 ]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.53_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_areaunit_aview');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.54_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_areaunit_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.54" author="hemasai.r">
		<createView viewName="CERSAI_AreaUnit_View" replaceIfExists="true">
			<![CDATA[
			    SELECT	
				  T1.Id, 
				  T1.Description, 
				  T1.Version, 
				  T1.LastMntBy,
				  T1.LastMntOn,
				  T1.RecordStatus,
				  T1.RoleCode, 
				  T1.NextRoleCode,
				  T1.TaskId,
				  T1.NextTaskId, 
				  T1.RecordType, 
				  T1.WorkflowId
				FROM CERSAI_AreaUnit_Temp T1 
				UNION ALL
				SELECT		
				  T1.Id,
				  T1.Description, 
				  T1.Version,
				  T1.LastMntBy,
				  T1.LastMntOn,
				  T1.RecordStatus,
				  T1.RoleCode, 
				  T1.NextRoleCode,
				  T1.TaskId,
				  T1.NextTaskId,
				  T1.RecordType,
				  T1.WorkflowId
				FROM CERSAI_AreaUnit T1 
				WHERE NOT EXISTS (SELECT 1 FROM CERSAI_AreaUnit_TEMP WHERE Id = T1.Id)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.54_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_areaunit_view');
 			]]>
 		</sql>
 	</changeSet>
	
	
	<changeSet id="ST#222.55.1"  author="hemasai.r">
		<sql>
			<![CDATA[
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER');
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_APPROVER');
	
				DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER');
				DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_APPROVER');
	
				DELETE FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_VIEW';
				DELETE FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER';
				DELETE FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_APPROVER';
	
	
				DELETE FROM SECROLES WHERE ROLECD = 'AREAUNIT_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'AREAUNIT_APPROVER';
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AreaUnit';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AreaUnitEnquiry';
				
	
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitList_NewAreaUnit';
				
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitList_PrintList';
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitDialog_btnNew';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitDialog_btnEdit';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitDialog_btnDelete';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitDialog_btnSave';
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'AreaUnitDialog_Id';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'AreaUnitDialog_Description';
				
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_cersai_AreaUnit', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_cersai_AreaUnitEnquiry', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
	
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AreaUnitList_NewAreaUnit', 'AreaUnitList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AreaUnitList_PrintList', 'AreaUnitList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AreaUnitDialog_btnNew', 'AreaUnitDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AreaUnitDialog_btnEdit', 'AreaUnitDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AreaUnitDialog_btnDelete', 'AreaUnitDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AreaUnitDialog_btnSave', 'AreaUnitDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'AreaUnitDialog_Id', 'AreaUnitDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'AreaUnitDialog_Description', 'AreaUnitDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'AREAUNIT_VIEW', 'Allow to view AreaUnit', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'AREAUNIT_MAKER', 'WF Maker for AreaUnit', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'AREAUNIT_APPROVER', 'WF Approver for AreaUnit', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
					
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AreaUnit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AreaUnitEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitList_NewAreaUnit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitDialog_btnNew'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitDialog_btnEdit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'AreaUnitDialog_Id'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'AreaUnitDialog_Description'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
	
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AreaUnit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AreaUnitEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AreaUnitDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
	
	
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'AREAUNIT_MAKER', 'MAKER ROLE FOR AreaUnit', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'AREAUNIT_APPROVER', 'APPROVER ROLE FOR AreaUnit', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'AREAUNIT_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'AREAUNIT_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
	
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'AREAUNIT_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.101" author="hemasai.r">
	<comment>New Table CERSAI_AssetCategory</comment>
	<createTable tableName="CERSAI_AssetCategory">
		<column name="Id" type="bigint" />
		<column name="Description" type="varchar(100)" />
		<column name="version" type="int" />
		<column name="lastmntby" type="bigint" />
		<column name="lastmnton" type="datetime" />
		<column name="recordstatus" type="varchar(50)" />
		<column name="rolecode" type="varchar(100)" />
		<column name="nextrolecode" type="varchar(200)" />
		<column name="taskid" type="varchar(50)" />
		<column name="nexttaskid" type="varchar(200)" />
		<column name="recordtype" type="varchar(50)" />
		<column name="workflowid" type="bigint">
			<constraints nullable="false" />
		</column>
	</createTable>
	</changeSet>
	
	<changeSet id="ST#222.101.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_AssetCategory" columnNames="ID" constraintName="pk_AseetCategory" />
	</changeSet>


	<changeSet id="ST#222.102" author="hemasai.r">
	<createTable tableName="CERSAI_AssetCategory_Temp">
		<column name="Id" type="bigint" />
		<column name="Description" type="varchar(100)" />
		<column name="version" type="int" />
		<column name="lastmntby" type="bigint" />
		<column name="lastmnton" type="datetime" />
		<column name="recordstatus" type="varchar(50)" />
		<column name="rolecode" type="varchar(100)" />
		<column name="nextrolecode" type="varchar(200)" />
		<column name="taskid" type="varchar(50)" />
		<column name="nexttaskid" type="varchar(200)" />
		<column name="recordtype" type="varchar(50)" />
		<column name="workflowid" type="bigint">
			<constraints nullable="false" />
		</column>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
	</createTable>
	</changeSet>
	
	<changeSet id="ST#222.102.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_AssetCategory_Temp" columnNames="ID" constraintName="pk_AssetCategory_T" />
	</changeSet>
	
	<changeSet id="ST#222.103_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_assetcategory_aview');
 			]]>
 		</sql>
 	</changeSet>
 	
	
	<changeSet id="ST#222.103" author="hemasai.r">
		<createView viewName="CERSAI_AssetCategory_AView" replaceIfExists="true">
			 <![CDATA[
		       	SELECT T1.Id,
				   T1.Description,
				   T1.Version,
		  	  	   T1.LastMntBy,
				   T1.LastMntOn,
			 	   T1.RecordStatus,
			 	   T1.RoleCode,
				   T1.NextRoleCode,
			       T1.TaskId,
				   T1.NextTaskId,
				   T1.RecordType,
				   T1.WorkflowId
		    	FROM CERSAI_AssetCategory T1 
		     ]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#22.103_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_assetcategory_aview');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#22.104_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_assetcategory_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.104" author="hemasai.r">
		<createView viewName="CERSAI_AssetCategory_View" replaceIfExists="true">
			<![CDATA[
		    	SELECT	
		    		T1.Id,
				 	T1.Description,
					T1.Version,
		  	  		T1.LastMntBy,
					T1.LastMntOn,
			 		T1.RecordStatus,
			 		T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
		    	FROM CERSAI_AssetCategory_Temp T1 
		    	UNION ALL
		    	SELECT	
		 		    T1.Id,
				    T1.Description,
				    T1.Version,
				    T1.LastMntBy,
				    T1.LastMntOn,
			        T1.RecordStatus,
				    T1.RoleCode,
				    T1.NextRoleCode,
				    T1.TaskId,
			     	T1.NextTaskId,
			    	T1.RecordType,
			    	T1.WorkflowId
		    	FROM CERSAI_AssetCategory T1 
		    	WHERE NOT EXISTS (SELECT 1 FROM CERSAI_AssetCategory_TEMP WHERE Id = T1.Id)
		     ]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.104_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_assetcategory_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.105"  author="hemasai.r">
		<sql>
            <![CDATA[
	
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER');
                DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_APPROVER');

                DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER');
                DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_APPROVER');

				DELETE FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_VIEW';
                DELETE FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER';
                DELETE FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_APPROVER';


                DELETE FROM SECROLES WHERE ROLECD = 'ASSETCATEGORY_MAKER';
                DELETE FROM SECROLES WHERE ROLECD = 'ASSETCATEGORY_APPROVER';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetCategory';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetCategoryEnquiry';
				


                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryList_NewAssetCategory';
                
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryList_PrintList';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryDialog_btnNew';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryDialog_btnEdit';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryDialog_btnDelete';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryDialog_btnSave';

            
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'AssetCategoryDialog_Id';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'AssetCategoryDialog_Description';
              
				
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_cersai_AssetCategory', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_cersai_AssetCategoryEnquiry', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				

                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetCategoryList_NewAssetCategory', 'AssetCategoryList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetCategoryList_PrintList', 'AssetCategoryList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                
                
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetCategoryDialog_btnNew', 'AssetCategoryDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetCategoryDialog_btnEdit', 'AssetCategoryDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetCategoryDialog_btnDelete', 'AssetCategoryDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetCategoryDialog_btnSave', 'AssetCategoryDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'AssetCategoryDialog_Id', 'AssetCategoryDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'AssetCategoryDialog_Description', 'AssetCategoryDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
			    INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ASSETCATEGORY_VIEW', 'Allow to view AssetCategory', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ASSETCATEGORY_MAKER', 'WF Maker for AssetCategory', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ASSETCATEGORY_APPROVER', 'WF Approver for AssetCategory', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				      
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetCategory'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetCategoryEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryList_NewAssetCategory'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                  
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryDialog_btnNew'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryDialog_btnEdit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'AssetCategoryDialog_Id'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'AssetCategoryDialog_Description'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);

                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetCategory'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetCategoryEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetCategoryDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);


                INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'ASSETCATEGORY_MAKER', 'MAKER ROLE FOR CERSAI_AssetCategory', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'ASSETCATEGORY_APPROVER', 'APPROVER ROLE FOR CERSAI_AssetCategory', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                  
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'ASSETCATEGORY_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'ASSETCATEGORY_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);

                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETCATEGORY_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
		    ]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.201" author="hemasai.r">
		<createTable tableName="CERSAI_SIType">
			<column name="AssetCategoryId" type="bigint" />
			<column name="Id" type="bigint" />
			<column name="Description" type="varchar(100)" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.201.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_SIType" columnNames="ID" constraintName="pk_SIType" />
	</changeSet>

	<changeSet id="ST#222.202" author="hemasai.r">
		<createTable tableName="CERSAI_SIType_Temp">
			<column name="AssetCategoryId" type="bigint" />
			<column name="Id" type="bigint" />
			<column name="Description" type="varchar(100)" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.202.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_SIType_temp" columnNames="ID" constraintName="pk_SIType_T" />
	</changeSet>
	
	<changeSet id="ST#222.203_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_sitype_aview');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.203" author="hemasai.r">
		<createView viewName="CERSAI_SIType_AView" replaceIfExists="true">
			<![CDATA[
	  			SELECT		
		  			A1.Id AssetCategoryId,
		   			A1.Description AssetCategoryIdName,
		   			T1.Id,
		   			T1.Description,
		   			T1.Version,
		   			T1.LastMntBy,
		   			T1.LastMntOn,
		   			T1.RecordStatus,
		   			T1.RoleCode,
		   			T1.NextRoleCode,
		   			T1.TaskId,
		   			T1.NextTaskId,
		   			T1.RecordType,
		   			T1.WorkflowId
					FROM CERSAI_SIType T1
				INNER JOIN CERSAI_ASSETCATEGORY A1 ON A1.Id = T1.AssetCategoryId
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.203_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_sitype_aview');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#222.204_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_sitype_view');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.204" author="hemasai.r">
		<createView viewName="CERSAI_SIType_View" replaceIfExists="true">
			<![CDATA[
				SELECT		
					A1.Id AssetCategoryId,
					A1.Description AssetCategoryIdName,
					T1.Id,
					T1.Description,
					T1.Version,
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM CERSAI_SIType_Temp T1
				INNER JOIN CERSAI_ASSETCATEGORY A1 ON A1.Id = T1.AssetCategoryId
				UNION ALL
				SELECT		
					A1.Id AssetCategoryId,
					A1.Description AssetCategoryIdName,
					T1.Id,
					T1.Description,
					T1.Version,
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM CERSAI_SIType T1
				INNER JOIN CERSAI_ASSETCATEGORY A1 ON A1.Id = T1.AssetCategoryId 
				WHERE NOT EXISTS (SELECT 1 FROM CERSAI_SIType_TEMP WHERE Id = T1.Id)
		 	]]>
		</createView>
	</changeSet>

	<changeSet id="ST#222.204_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_sitype_view');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.205" author="hemasai.r">
		<sql>
            <![CDATA[
	
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER');
                DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_APPROVER');

                DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER');
                DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_APPROVER');

				DELETE FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_VIEW';
                DELETE FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER';
                DELETE FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_APPROVER';


                DELETE FROM SECROLES WHERE ROLECD = 'SECURITYINTERESTTYPE_MAKER';
                DELETE FROM SECROLES WHERE ROLECD = 'SECURITYINTERESTTYPE_APPROVER';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_SecurityInterestType';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_SecurityInterestTypeEnquiry';
				


                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeList_NewSecurityInterestType';
                
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeList_PrintList';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeDialog_btnNew';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeDialog_btnEdit';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeDialog_btnDelete';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeDialog_btnSave';

            
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'SecurityInterestTypeDialog_AssetCategoryId';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'SecurityInterestTypeDialog_Id';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'SecurityInterestTypeDialog_Description';
              
				
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_cersai_SecurityInterestType', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_cersai_SecurityInterestTypeEnquiry', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				

                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_SecurityInterestTypeList_NewSecurityInterestType', 'SecurityInterestTypeList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_SecurityInterestTypeList_PrintList', 'SecurityInterestTypeList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                
                
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_SecurityInterestTypeDialog_btnNew', 'SecurityInterestTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_SecurityInterestTypeDialog_btnEdit', 'SecurityInterestTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_SecurityInterestTypeDialog_btnDelete', 'SecurityInterestTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_SecurityInterestTypeDialog_btnSave', 'SecurityInterestTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'SecurityInterestTypeDialog_AssetCategoryId', 'SecurityInterestTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'SecurityInterestTypeDialog_Id', 'SecurityInterestTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'SecurityInterestTypeDialog_Description', 'SecurityInterestTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				
			    INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SECURITYINTERESTTYPE_VIEW', 'Allow to view SecurityInterestType', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SECURITYINTERESTTYPE_MAKER', 'WF Maker for SecurityInterestType', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'SECURITYINTERESTTYPE_APPROVER', 'WF Approver for SecurityInterestType', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				      
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_SecurityInterestType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_SecurityInterestTypeEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeList_NewSecurityInterestType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                  
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeDialog_btnNew'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeDialog_btnEdit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'SecurityInterestTypeDialog_AssetCategoryId'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'SecurityInterestTypeDialog_Id'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'SecurityInterestTypeDialog_Description'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				

                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_SecurityInterestType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_SecurityInterestTypeEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_SecurityInterestTypeDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);


                INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SECURITYINTERESTTYPE_MAKER', 'MAKER ROLE FOR SecurityInterestType', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'SECURITYINTERESTTYPE_APPROVER', 'APPROVER ROLE FOR SecurityInterestType', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                  
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SECURITYINTERESTTYPE_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'SECURITYINTERESTTYPE_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);

                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'SECURITYINTERESTTYPE_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			 ]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.301" author="hemasai.r">
		<createTable tableName="CERSAI_AssetSubType">
			<column name="Id" type="bigint" />
			<column name="AssetTypeId" type="bigint" />
			<column name="Description" type="varchar(100)" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.301.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_AssetsubType" columnNames="ID" constraintName="pk_AssetSubType" />
	</changeSet>

	<changeSet id="ST#222.302" author="hemasai.r">
		<createTable tableName="CERSAI_AssetSubType_Temp">
			<column name="Id" type="bigint" />
			<column name="AssetTypeId" type="bigint" />
			<column name="Description" type="varchar(100)" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.302.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_AssetSubType_Temp" columnNames="ID" constraintName="pk_AssetSubType_T" />
	</changeSet>
	
	<changeSet id="ST#222.303_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_assetsubtype_aview');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.303" author="hemasai.r">
		<createView viewName="CERSAI_AssetSubType_AView" replaceIfExists="true">
			<![CDATA[
				SELECT		
				  T1.Id,
				  T1.AssetTypeId,
				  T1.Description,
				  T1.Version,
				  T1.LastMntBy,
				  T1.LastMntOn,
				  T1.RecordStatus,
				  T1.RoleCode,
				  T1.NextRoleCode,
				  T1.TaskId,
				  T1.NextTaskId,
				  T1.RecordType,
				  T1.WorkflowId
				FROM CERSAI_AssetSubType T1
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.303_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_assetsubtype_aview');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#222.304_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_assetsubtype_view');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.304" author="hemasai.r">
		<createView viewName="CERSAI_AssetSubType_View" replaceIfExists="true">
			<![CDATA[
				SELECT
					T1.Id,
					T1.AssetTypeId,
					T1.Description, 
					T1.Version, 
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType, 
					T1.WorkflowId
				FROM CERSAI_AssetSubType_Temp T1 
				UNION ALL
				SELECT		
					T1.Id,
					T1.AssetTypeId,
					T1.Description,
					T1.Version, 
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode, 
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM CERSAI_AssetSubType T1 
				WHERE NOT EXISTS (SELECT 1 FROM CERSAI_AssetSubType_TEMP WHERE Id = T1.Id)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.304_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_assetsubtype_view');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.305" author="hemasai.r">
		<sql>
            <![CDATA[
	
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER');
                DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_APPROVER');

                DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER');
                DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_APPROVER');

				DELETE FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_VIEW';
                DELETE FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER';
                DELETE FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_APPROVER';


                DELETE FROM SECROLES WHERE ROLECD = 'ASSETSUBTYPE_MAKER';
                DELETE FROM SECROLES WHERE ROLECD = 'ASSETSUBTYPE_APPROVER';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetSubType';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetSubTypeEnquiry';
				


                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeList_NewAssetSubType';
                
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeList_PrintList';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeDialog_btnNew';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeDialog_btnEdit';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeDialog_btnDelete';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeDialog_btnSave';

            
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'AssetSubTypeDialog_AssetTypeId';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'AssetSubTypeDialog_Id';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'AssetSubTypeDialog_Description';
              
				
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_cersai_AssetSubType', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_cersai_AssetSubTypeEnquiry', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				

                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetSubTypeList_NewAssetSubType', 'AssetSubTypeList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetSubTypeList_PrintList', 'AssetSubTypeList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                
                
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetSubTypeDialog_btnNew', 'AssetSubTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetSubTypeDialog_btnEdit', 'AssetSubTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetSubTypeDialog_btnDelete', 'AssetSubTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetSubTypeDialog_btnSave', 'AssetSubTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'AssetSubTypeDialog_AssetTypeId', 'AssetSubTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'AssetSubTypeDialog_Id', 'AssetSubTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'AssetSubTypeDialog_Description', 'AssetSubTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				
			    INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ASSETSUBTYPE_VIEW', 'Allow to view AssetSubType', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ASSETSUBTYPE_MAKER', 'WF Maker for AssetSubType', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ASSETSUBTYPE_APPROVER', 'WF Approver for AssetSubType', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				      
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetSubType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetSubTypeEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeList_NewAssetSubType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                  
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeDialog_btnNew'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeDialog_btnEdit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'AssetSubTypeDialog_AssetTypeId'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'AssetSubTypeDialog_Id'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'AssetSubTypeDialog_Description'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);

                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetSubType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetSubTypeEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetSubTypeDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);


                INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'ASSETSUBTYPE_MAKER', 'MAKER ROLE FOR AssetSubType', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'ASSETSUBTYPE_APPROVER', 'APPROVER ROLE FOR AssetSubType', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                  
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'ASSETSUBTYPE_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'ASSETSUBTYPE_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);

                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETSUBTYPE_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			 ]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.401" author="hemasai.r">
	<createTable tableName="CERSAI_AssetType">
		<column name="Id" type="bigint"/>
		<column name="AssetCategoryId" type="bigint"/>
		<column name="Description" type="varchar(100)"/>
		<column name="version" type="int"/>
		<column name="lastmntby" type="bigint"/>
		<column name="lastmnton" type="datetime"/>
		<column name="recordstatus" type="varchar(50)"/>
		<column name="rolecode" type="varchar(100)"/>
		<column name="nextrolecode" type="varchar(200)"/>
		<column name="taskid" type="varchar(50)"/>
		<column name="nexttaskid" type="varchar(200)"/>
		<column name="recordtype" type="varchar(50)"/>
		<column name="workflowid" type="bigint">
			<constraints nullable="false"/>
		</column>
	</createTable>
	</changeSet>
	
	<changeSet id="ST#222.401.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_AssetType" columnNames="ID" constraintName="pk_AssetType" />
	</changeSet>
	
	<changeSet id="ST#222.402" author="hemasai.r">
	<createTable tableName="CERSAI_AssetType_Temp">
		<column name="Id" type="bigint"/>
		<column name="AssetCategoryId" type="bigint"/>
		<column name="Description" type="varchar(100)"/>
		<column name="version" type="int"/>
		<column name="lastmntby" type="bigint"/>
		<column name="lastmnton" type="datetime"/>
		<column name="recordstatus" type="varchar(50)"/>
		<column name="rolecode" type="varchar(100)"/>
		<column name="nextrolecode" type="varchar(200)"/>
		<column name="taskid" type="varchar(50)"/>
		<column name="nexttaskid" type="varchar(200)"/>
		<column name="recordtype" type="varchar(50)"/>
		<column name="workflowid" type="bigint">
			<constraints nullable="false"/>
		</column>
	</createTable>
	</changeSet>
	
	<changeSet id="ST#222.402.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_AssetType_Temp" columnNames="ID" constraintName="pk_AssetType_T" />
	</changeSet>
	
	<changeSet id="ST#222.403_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_assettype_aview');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.403" author="hemasai.r">
		<createView viewName="CERSAI_AssetType_AView" replaceIfExists="true">
			<![CDATA[
				SELECT
					T1.Id,
					S1.Id AssetCategoryId,
					S1.Description AssetCategoryIdName,
					T1.Description, 
					T1.Version, 
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus, 
					T1.RoleCode, 
					T1.NextRoleCode, 
					T1.TaskId, 
					T1.NextTaskId, 
					T1.RecordType, 
					T1.WorkflowId
				FROM CERSAI_AssetType T1
				INNER JOIN CERSAI_SITYPE S1 ON S1.Id = T1.AssetCategoryId
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.403_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_assettype_aview');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#222.404_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_assettype_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.404" author="hemasai.r">
		<createView viewName="CERSAI_AssetType_View" replaceIfExists="true">
			<![CDATA[
				SELECT	
					T1.Id,
					S1.Id AssetCategoryId,
					S1.Description AssetCategoryIdName,
					T1.Description,
					T1.Version,
					T1.LastMntBy, 
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode, 
					T1.NextRoleCode, 
					T1.TaskId, 
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM CERSAI_AssetType_Temp T1
				INNER JOIN CERSAI_SITYPE S1 ON S1.Id = T1.AssetCategoryId
				UNION ALL
				SELECT	
					T1.Id,
					S1.Id AssetCategoryId,
					S1.Description AssetCategoryIdName,
					T1.Description,
					T1.Version, 
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode, 
					T1.NextRoleCode,
					T1.TaskId, 
					T1.NextTaskId, 
					T1.RecordType, 
					T1.WorkflowId
				FROM CERSAI_AssetType T1
				INNER JOIN CERSAI_SITYPE S1 ON S1.Id = T1.AssetCategoryId
				WHERE NOT EXISTS (SELECT 1 FROM CERSAI_AssetType_TEMP WHERE Id = T1.Id)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.404_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_assettype_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.405"  author="hemasai.r">
		<sql>
			<![CDATA[
		
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER');
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_APPROVER');
	
				DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER');
				DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_APPROVER');
	
				DELETE FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_VIEW';
				DELETE FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER';
				DELETE FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_APPROVER';
	
	
				DELETE FROM SECROLES WHERE ROLECD = 'ASSETTYPE_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'ASSETTYPE_APPROVER';
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetType';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetTypeEnquiry';
				
	
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeList_NewAssetType';
				
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeList_PrintList';
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeDialog_btnNew';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeDialog_btnEdit';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeDialog_btnDelete';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeDialog_btnSave';
	
			
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'AssetTypeDialog_AssetCategoryId';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'AssetTypeDialog_Id';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'AssetTypeDialog_Description';
			
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_cersai_AssetType', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_cersai_AssetTypeEnquiry', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
	
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetTypeList_NewAssetType', 'AssetTypeList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetTypeList_PrintList', 'AssetTypeList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetTypeDialog_btnNew', 'AssetTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetTypeDialog_btnEdit', 'AssetTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetTypeDialog_btnDelete', 'AssetTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_AssetTypeDialog_btnSave', 'AssetTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'AssetTypeDialog_AssetCategoryId', 'AssetTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'AssetTypeDialog_Id', 'AssetTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'AssetTypeDialog_Description', 'AssetTypeDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
	
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ASSETTYPE_VIEW', 'Allow to view AssetType', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ASSETTYPE_MAKER', 'WF Maker for AssetType', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'ASSETTYPE_APPROVER', 'WF Approver for AssetType', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
					
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetTypeEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeList_NewAssetType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeDialog_btnNew'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeDialog_btnEdit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'AssetTypeDialog_AssetCategoryId'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'AssetTypeDialog_Id'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'AssetTypeDialog_Description'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
	
	
	
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_cersai_AssetTypeEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_AssetTypeDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
	
	
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'ASSETTYPE_MAKER', 'MAKER ROLE FOR AssetType', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'ASSETTYPE_APPROVER', 'APPROVER ROLE FOR AssetType', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'ASSETTYPE_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'ASSETTYPE_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
	
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'ASSETTYPE_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.601" author="hemasai.r">
		<createTable tableName="CityMapping">
			<column name="MappingType" type="varchar(20)" />
			<column name="CityCode" type="varchar(50)" />
			<column name="MappingValue" type="varchar(50)" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>

	<changeSet id="ST#222.601.2" author="saisandeep.b">
		<addPrimaryKey tableName="CityMapping" columnNames="MappingType,CityCode" constraintName="pk_CityMapping" />
	</changeSet>

	<changeSet id="ST#222.602" author="hemasai.r">
		<createTable tableName="CityMapping_Temp">
			<column name="MappingType" type="varchar(20)" />
			<column name="CityCode" type="varchar(50)" />
			<column name="MappingValue" type="varchar(50)" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.602.2" author="saisandeep.b">
		<addPrimaryKey tableName="CityMapping_Temp" columnNames="MappingType,CityCode" constraintName="pk_CityMapping_T" />
	</changeSet>
	
	<changeSet id="ST#222.603_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'citymapping_aview');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.603" author="hemasai.r">
		<createView viewName="CityMapping_AView" replaceIfExists="true">
			<![CDATA[
               SELECT	
     	           T1.MappingType,
		           C1.PCCITY CityCode,
		           C1.PCCITYNAME CityCodeName,
		           T1.MappingValue,
		           T1.Version,
		           T1.LastMntBy,
		           T1.LastMntOn,
		           T1.RecordStatus,
		           T1.RoleCode,
		           T1.NextRoleCode,
		           T1.TaskId,
		           T1.NextTaskId,
		           T1.RecordType,
		           T1.WorkflowId
		        FROM CityMapping T1
		        INNER JOIN RMTPROVINCEVSCITY C1 ON C1.PCCITY = T1.CityCode
			]]>
         </createView>
	</changeSet>
	
	<changeSet id="ST#222.603_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'citymapping_aview');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.604_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'citymapping_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.604" author="hemasai.r">
		<createView viewName="CityMapping_View" replaceIfExists="true">
			<![CDATA[
               SELECT
    	           T1.MappingType,
				   C1.PCCITY CityCode,
				   C1.PCCITYNAME CityCodeName,
				   T1.MappingValue,
				   T1.Version, 
				   T1.LastMntBy, 
				   T1.LastMntOn,
				   T1.RecordStatus,
				   T1.RoleCode, 
				   T1.NextRoleCode, 
				   T1.TaskId,
				   T1.NextTaskId,
				   T1.RecordType,
				   T1.WorkflowId
      		    FROM CityMapping_Temp T1
				INNER JOIN RMTPROVINCEVSCITY C1 ON C1.PCCITY = T1.CityCode
       			UNION ALL
				SELECT
		 			T1.MappingType,
			        C1.PCCITY CityCode,
					C1.PCCITYNAME CityCodeName,
					T1.MappingValue,
					T1.Version,
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
        		 FROM CityMapping T1
				 INNER JOIN RMTPROVINCEVSCITY C1 ON C1.PCCITY = T1.CityCode
				 WHERE NOT EXISTS (SELECT 1 FROM CityMapping_TEMP WHERE MappingType = T1.MappingType)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.604_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'citymapping_view');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.605" author="hemasai.r">
		<sql>
            <![CDATA[
	
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER');
                DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_APPROVER');

                DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER');
                DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_APPROVER');

				DELETE FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_VIEW';
                DELETE FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER';
                DELETE FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_APPROVER';


                DELETE FROM SECROLES WHERE ROLECD = 'CITYMAPPING_MAKER';
                DELETE FROM SECROLES WHERE ROLECD = 'CITYMAPPING_APPROVER';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_CityMapping';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_CityMappingEnquiry';
				


                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingList_NewCityMapping';
                
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingList_PrintList';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingDialog_btnNew';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingDialog_btnEdit';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingDialog_btnDelete';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingDialog_btnSave';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'CityMappingDialog_MappingType';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'CityMappingDialog_CityCode';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'CityMappingDialog_MappingValue';
              
				
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_Interface_CityMapping', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_Interface_CityMappingEnquiry', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				

                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_CityMappingList_NewCityMapping', 'CityMappingList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_CityMappingList_PrintList', 'CityMappingList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                
                
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_CityMappingDialog_btnNew', 'CityMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_CityMappingDialog_btnEdit', 'CityMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_CityMappingDialog_btnDelete', 'CityMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_CityMappingDialog_btnSave', 'CityMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'CityMappingDialog_MappingType', 'CityMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'CityMappingDialog_CityCode', 'CityMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'CityMappingDialog_MappingValue', 'CityMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);

				
			    INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CITYMAPPING_VIEW', 'Allow to view CityMapping', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CITYMAPPING_MAKER', 'WF Maker for CityMapping', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CITYMAPPING_APPROVER', 'WF Approver for CityMapping', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				      
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_CityMapping'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_CityMappingEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingList_NewCityMapping'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                  
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingDialog_btnNew'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingDialog_btnEdit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'CityMappingDialog_MappingType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'CityMappingDialog_CityCode'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'CityMappingDialog_MappingValue'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);

                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_CityMapping'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_CityMappingEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_CityMappingDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);


                INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'CITYMAPPING_MAKER', 'MAKER ROLE FOR CityMapping', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'CITYMAPPING_APPROVER', 'APPROVER ROLE FOR CityMapping', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                  
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'CITYMAPPING_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'CITYMAPPING_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);

                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CITYMAPPING_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			 ]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.701" author="hemasai.r">
	<createTable tableName="DistrictMapping">
		<column name="MappingType" type="varchar(20)"/>
		<column name="District" type="varchar(8)"/>
		<column name="MappingValue" type="varchar(50)"/>
		<column name="version" type="int"/>
		<column name="lastmntby" type="bigint"/>
		<column name="lastmnton" type="datetime"/>
		<column name="recordstatus" type="varchar(50)"/>
		<column name="rolecode" type="varchar(100)"/>
		<column name="nextrolecode" type="varchar(200)"/>
		<column name="taskid" type="varchar(50)"/>
		<column name="nexttaskid" type="varchar(200)"/>
		<column name="recordtype" type="varchar(50)"/>
		<column name="workflowid" type="bigint">
			<constraints nullable="false"/>
		</column>
	</createTable>
	</changeSet>
	
	<changeSet id="ST#222.701.2" author="saisandeep.b">
		<addPrimaryKey tableName="DistrictMapping" columnNames="MappingType,District" constraintName="pk_DistrictMapping" />
	</changeSet>
	
	<changeSet id="ST#222.702" author="hemasai.r">
	<createTable tableName="DistrictMapping_Temp">
		<column name="MappingType" type="varchar(20)"/>
		<column name="District" type="varchar(8)"/>
		<column name="MappingValue" type="varchar(50)"/>
		<column name="version" type="int"/>
		<column name="lastmntby" type="bigint"/>
		<column name="lastmnton" type="datetime"/>
		<column name="recordstatus" type="varchar(50)"/>
		<column name="rolecode" type="varchar(100)"/>
		<column name="nextrolecode" type="varchar(200)"/>
		<column name="taskid" type="varchar(50)"/>
		<column name="nexttaskid" type="varchar(200)"/>
		<column name="recordtype" type="varchar(50)"/>
		<column name="workflowid" type="bigint">
			<constraints nullable="false"/>
		</column>
	</createTable>
	</changeSet>
	
	<changeSet id="ST#222.702.2" author="saisandeep.b">
		<addPrimaryKey tableName="DistrictMapping_Temp" columnNames="MappingType,District" constraintName="pk_DistrictMapping_T" />
	</changeSet>
	
	<changeSet id="ST#222.703_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'districtmapping_aview');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.703" author="hemasai.r">
		<createView viewName="DistrictMapping_AView" replaceIfExists="true">
			<![CDATA[
				SELECT
					T1.MappingType,
					D1.CODE District,
					D1.NAME DistrictName,
					T1.MappingValue, 
					T1.Version,
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus, 
					T1.RoleCode, 
					T1.NextRoleCode,
					T1.TaskId, 
					T1.NextTaskId,
					T1.RecordType, 
					T1.WorkflowId
				FROM DistrictMapping T1
				INNER JOIN RMTDISTRICTS D1 ON D1.CODE = T1.District
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.703_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'districtmapping_aview');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#222.704_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'districtmapping_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.704" author="hemasai.r">
		<createView viewName="DistrictMapping_View" replaceIfExists="true">
			<![CDATA[
				SELECT
					T1.MappingType,
					D1.CODE District,
					D1.NAME DistrictName,
					T1.MappingValue,
					T1.Version,
					T1.LastMntBy, 
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId, 
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM DistrictMapping_Temp T1
				INNER JOIN RMTDISTRICTS D1 ON D1.CODE = T1.District
				UNION ALL
				SELECT
					T1.MappingType,
					D1.CODE District,
					D1.NAME DistrictName,
					T1.MappingValue,
					T1.Version,
					T1.LastMntBy, 
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM DistrictMapping T1
				INNER JOIN RMTDISTRICTS D1 ON D1.CODE = T1.District
				WHERE  NOT EXISTS (SELECT 1 FROM DistrictMapping_TEMP WHERE MappingType = T1.MappingType)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.704_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'districtmapping_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.705" author="hemasai.r">
		<sql>
			<![CDATA[
		
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER');
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_APPROVER');
	
				DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER');
				DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_APPROVER');
	
				DELETE FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_VIEW';
				DELETE FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER';
				DELETE FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_APPROVER';
	
	
				DELETE FROM SECROLES WHERE ROLECD = 'DISTRICTMAPPING_MAKER';
				DELETE FROM SECROLES WHERE ROLECD = 'DISTRICTMAPPING_APPROVER';
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_DistrictMapping';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_DistrictMappingEnquiry';
				
	
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingList_NewDistrictMapping';
				
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingList_PrintList';
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingDialog_btnNew';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingDialog_btnEdit';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingDialog_btnDelete';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingDialog_btnSave';
	
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'DistrictMappingDialog_MappingType';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'DistrictMappingDialog_District';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'DistrictMappingDialog_MappingValue';
			
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_Interface_DistrictMapping', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_Interface_DistrictMappingEnquiry', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
	
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_DistrictMappingList_NewDistrictMapping', 'DistrictMappingList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_DistrictMappingList_PrintList', 'DistrictMappingList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_DistrictMappingDialog_btnNew', 'DistrictMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_DistrictMappingDialog_btnEdit', 'DistrictMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_DistrictMappingDialog_btnDelete', 'DistrictMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_DistrictMappingDialog_btnSave', 'DistrictMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'DistrictMappingDialog_MappingType', 'DistrictMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'DistrictMappingDialog_District', 'DistrictMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'DistrictMappingDialog_MappingValue', 'DistrictMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
	
				
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'DISTRICTMAPPING_VIEW', 'Allow to view DistrictMapping', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'DISTRICTMAPPING_MAKER', 'WF Maker for DistrictMapping', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'DISTRICTMAPPING_APPROVER', 'WF Approver for DistrictMapping', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
					
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_DistrictMapping'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_DistrictMappingEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingList_NewDistrictMapping'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingDialog_btnNew'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingDialog_btnEdit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'DistrictMappingDialog_MappingType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'DistrictMappingDialog_District'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'DistrictMappingDialog_MappingValue'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
	
	
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_DistrictMapping'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_Interface_DistrictMappingEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_DistrictMappingDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
	
	
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'DISTRICTMAPPING_MAKER', 'MAKER ROLE FOR DistrictMapping', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'DISTRICTMAPPING_APPROVER', 'APPROVER ROLE FOR DistrictMapping', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'DISTRICTMAPPING_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'DISTRICTMAPPING_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
	
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'DISTRICTMAPPING_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.801" author="hemasai.r">
		<createTable tableName="ProvinceMapping">
			<column name="MappingType" type="varchar(20)" />
			<column name="Province" type="varchar(8)" />
			<column name="MappingValue" type="varchar(50)" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.801.2" author="saisandeep.b">
		<addPrimaryKey tableName="ProvinceMapping" columnNames="MappingType,Province" constraintName="pk_ProvinceMapping" />
	</changeSet>

	<changeSet id="ST#222.802" author="hemasai.r">
		<createTable tableName="ProvinceMapping_Temp">
			<column name="MappingType" type="varchar(20)" />
			<column name="Province" type="varchar(8)" />
			<column name="MappingValue" type="varchar(50)" />
			<column name="version" type="int" />
			<column name="lastmntby" type="bigint" />
			<column name="lastmnton" type="datetime" />
			<column name="recordstatus" type="varchar(50)" />
			<column name="rolecode" type="varchar(100)" />
			<column name="nextrolecode" type="varchar(200)" />
			<column name="taskid" type="varchar(50)" />
			<column name="nexttaskid" type="varchar(200)" />
			<column name="recordtype" type="varchar(50)" />
			<column name="workflowid" type="bigint">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.802.2" author="saisandeep.b">
		<addPrimaryKey tableName="ProvinceMapping_Temp" columnNames="MappingType,Province" constraintName="pk_ProvinceMapping_T" />
	</changeSet>

	<changeSet id="ST#222.803_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'provincemapping_aview');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.803" author="hemasai.r">
		<createView viewName="ProvinceMapping_AView" replaceIfExists="true">
			<![CDATA[
			   SELECT		
                   T1.MappingType,
                   P1.CPPROVINCE Province,
                   P1.CPPROVINCENAME ProvinceName,
                   T1.MappingValue,
                   T1.Version,
                   T1.LastMntBy,
                   T1.LastMntOn,
                   T1.RecordStatus,
                   T1.RoleCode, 
                   T1.NextRoleCode,
                   T1.TaskId, 
                   T1.NextTaskId,
                   T1.RecordType, 
                   T1.WorkflowId
                FROM ProvinceMapping T1
                INNER JOIN RMTCOUNTRYVSPROVINCE P1 ON P1.CPPROVINCE = T1.Province
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.803_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'provincemapping_aview');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#222.804_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'provincemapping_view');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.804" author="hemasai.r">
		<createView viewName="ProvinceMapping_View" replaceIfExists="true">
			<![CDATA[
       		   SELECT
        		   T1.MappingType,
      			   P1.CPPROVINCE Province,
				   P1.CPPROVINCENAME ProvinceName,
     		       T1.MappingValue, 
                   T1.Version,
                   T1.LastMntBy,
                   T1.LastMntOn,
                   T1.RecordStatus,
                   T1.RoleCode,
                   T1.NextRoleCode, 
                   T1.TaskId, 
                   T1.NextTaskId,
                   T1.RecordType,
                   T1.WorkflowId
                FROM ProvinceMapping_Temp T1
		        INNER JOIN RMTCOUNTRYVSPROVINCE P1 ON P1.CPPROVINCE = T1.Province 
                UNION ALL
	        	SELECT
                    T1.MappingType,
                    P1.CPPROVINCE Province,
					P1.CPPROVINCENAME ProvinceName,
                    T1.MappingValue, 
		        	T1.Version,
	        		T1.LastMntBy,
	        		T1.LastMntOn,
		        	T1.RecordStatus,
	         		T1.RoleCode,
		        	T1.NextRoleCode, 
	        		T1.TaskId,
	        		T1.NextTaskId, 
	        		T1.RecordType, 
	        		T1.WorkflowId
                 FROM ProvinceMapping T1
		         INNER JOIN RMTCOUNTRYVSPROVINCE P1 ON P1.CPPROVINCE = T1.Province		 
                 WHERE NOT EXISTS (SELECT 1 FROM ProvinceMapping_TEMP WHERE MappingType = T1.MappingType)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.804_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'provincemapping_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.805" author="hemasai.r">
		<sql>
            <![CDATA[
	
				DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER');
                DELETE FROM SECGROUPRIGHTS WHERE GRPID IN  (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_APPROVER');

                DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER');
                DELETE FROM SECROLEGROUPS WHERE GRPID IN (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_APPROVER');

				DELETE FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_VIEW';
                DELETE FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER';
                DELETE FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_APPROVER';


                DELETE FROM SECROLES WHERE ROLECD = 'PROVINCEMAPPING_MAKER';
                DELETE FROM SECROLES WHERE ROLECD = 'PROVINCEMAPPING_APPROVER';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_interface_ProvinceMapping';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_interface_ProvinceMappingEnquiry';
				


                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingList_NewProvinceMapping';
                
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingList_PrintList';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingDialog_btnNew';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingDialog_btnEdit';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingDialog_btnDelete';
                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingDialog_btnSave';

                DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'ProvinceMappingDialog_MappingType';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'ProvinceMappingDialog_Province';
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'ProvinceMappingDialog_MappingValue';

              
				
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_interface_ProvinceMapping', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_interface_ProvinceMappingEnquiry', 'MENU', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				

                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_ProvinceMappingList_NewProvinceMapping', 'ProvinceMappingList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_ProvinceMappingList_PrintList', 'ProvinceMappingList', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                
                
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_ProvinceMappingDialog_btnNew', 'ProvinceMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_ProvinceMappingDialog_btnEdit', 'ProvinceMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_ProvinceMappingDialog_btnDelete', 'ProvinceMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_ProvinceMappingDialog_btnSave', 'ProvinceMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'ProvinceMappingDialog_MappingType', 'ProvinceMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'ProvinceMappingDialog_Province', 'ProvinceMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'ProvinceMappingDialog_MappingValue', 'ProvinceMappingDialog', 1, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);

				
			    INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'PROVINCEMAPPING_VIEW', 'Allow to view ProvinceMapping', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'PROVINCEMAPPING_MAKER', 'WF Maker for ProvinceMapping', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'PROVINCEMAPPING_APPROVER', 'WF Approver for ProvinceMapping', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				
				      
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_interface_ProvinceMapping'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_interface_ProvinceMappingEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingList_NewProvinceMapping'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                  
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingDialog_btnNew'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingDialog_btnEdit'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'ProvinceMappingDialog_MappingType'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'ProvinceMappingDialog_Province'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
				INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'ProvinceMappingDialog_MappingValue'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);

                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_interface_ProvinceMapping'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_interface_ProvinceMappingEnquiry'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingDialog_btnDelete'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'button_ProvinceMappingDialog_btnSave'), 1, 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);


                INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'PROVINCEMAPPING_MAKER', 'MAKER ROLE FOR ProvinceMapping', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'PROVINCEMAPPING_APPROVER', 'APPROVER ROLE FOR ProvinceMapping', '', 0, 1000, current_timestamp, 'Approved', null, null, null, null, null, 0);
                  
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'PROVINCEMAPPING_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'PROVINCEMAPPING_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);

                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_MAKER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_MAKER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
                INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID)VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'PROVINCEMAPPING_APPROVER'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'MSTGRP1_APPROVER'), 0, 1000, CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);
			 ]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.901" author="saisandeep.b">
		<createTable tableName="CERSAI_Header">
			<column name="Batchid" type="bigint" />
			<column name="FILEHEADER" type="varchar(2)" />
			<column name="FILETYPE" type="varchar(8)" />
			<column name="TotalRECORDS" type="bigint" />
			<column name="FILEDATE" type="datetime" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.901.2" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_Header" columnNames="batchId" constraintName="pk_cersaiHeader" />
	</changeSet>
	
	<changeSet id="ST#222.902" author="saisandeep.b">
		<createTable tableName="CERSAI_Collateraldetails">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="ROWTYPE" type="varchar(2)" />
			<column name="SERIALNUMBER" type="bigint" />
			<column name="NOOFBORROWERS" type="bigint" />
			<column name="NOOFASSETOWNERS" type="bigint" />
			<column name="NOOFCONSORTIUMMEMBERS" type="bigint" />
			<column name="SITYPEID" type="varchar(50)" />
			<column name="SITYPEOTHERS" type="varchar(10)" />
			<column name="FINANCINGTYPEID" type="varchar(4)"/>
			<column name="SICREATIONDATE" type="datetime" />
			<column name="TOTALSECUREDAMT" type="decimal(18,0)" />
			<column name="ENTITYMISTOKEN" type="varchar(20)" />
			<column name="NARRATION" type="varchar(100)" />
			<column name="TYPEOFCHARGE" type="varchar(20)" />
			<column name="TPM" type="smallint" />
			<column name="BATCHREFNUMBER" type="varchar(20)" />
			<column name="Batchid" type="bigInt" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.902.1" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_Collateraldetails" columnNames="ID" constraintName="PK_CERSAI_Collateraldtls_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.903" author="saisandeep.b">
		<createTable tableName="CERSAI_ASSET_IMMOVABLE">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="ROWTYPE" type="varchar(3)" />
			<column name="ASSETCATEGORYID" type="bigint" />
			<column name="ASSETTYPEID" type="bigint" />
			<column name="ASSETTYPEOTHERS" type="varchar(50)" />
			<column name="ASSETSUBTYPEID" type="bigint" />
			<column name="ASSETUNIQUEID" type="varchar(20)" />
			<column name="ASSETDESCRIPTION" type="varchar(100)" />
			<column name="SURVEYNUMBER" type="varchar(1000)" />
			<column name="PLOTNUMBER" type="varchar(20)" />
			<column name="ASSETAREA" type="decimal(7,2)" />
			<column name="ASSETAREAUNIT" type="varchar(10)" />
			<column name="HOUSENUMBER" type="varchar(20)" />
			<column name="FLOORNUMBER" type="VARCHAR(3)" />
			<column name="BUILDINGNAME" type="varchar(50)" />
			<column name="PROJECTNAME" type="varchar(50)" />
			<column name="STREETNAME" type="varchar(50)" />
			<column name="POCKET" type="varchar(20)" />
			<column name="LOCALITY" type="varchar(50)" />
			<column name="CITY" type="varchar(50)" />
			<column name="DISTRICT" type="VARCHAR(8)" />
			<column name="STATE" type="varchar(8)" />
			<column name="PINCODE" type="varchar(10)" />
			<column name="COUNTRY" type="varchar(2)" />
			<column name="LATITUDELONGITUDE1" type="varchar(10)" />
			<column name="LATITUDELONGITUDE2" type="varchar(10)" />
			<column name="LATITUDELONGITUDE3" type="varchar(10)" />
			<column name="LATITUDELONGITUDE4" type="varchar(10)" />
			<column name="Batchid" type="bigInt" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.903.1" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_ASSET_IMMOVABLE" columnNames="ID" constraintName="PK_CERSAI_ASSET_IMMOVABLE_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.904" author="saisandeep.b">
		<createTable tableName="CERSAI_ASSET_MOVABLE">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="ROWTYPE" type="varchar(3)" />
			<column name="ASSETCATEGORYID" type="bigint" />
			<column name="ASSETTYPEID" type="bigint" />
			<column name="ASSETTYPEOTHERS" type="varchar(100)" />
			<column name="ASSETSUBTYPEID" type="bigint" />
			<column name="ASSETUNIQUEID" type="varchar(20)" />
			<column name="ASSETSERIALNUMBER" type="varchar(50)" />
			<column name="ASSETDESCRIPTION" type="varchar(100)" />
			<column name="ASSETMAKE" type="varchar(100)" />
			<column name="ASSETMODEL" type="varchar(100)" />
			<column name="ADDRESSLINE1" type="varchar(100)" />
			<column name="ADDRESSLINE2" type="varchar(100)" />
			<column name="ADDRESSLINE3" type="varchar(100)" />
			<column name="CITY" type="varchar(50)" />
			<column name="DISTRICT" type="VARCHAR(8)" />
			<column name="STATE" type="varchar(8)" />
			<column name="PINCODE" type="bigint" />
			<column name="COUNTRY" type="varchar(2)" />
			<column name="Batchid" type="bigInt" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.904.1" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_ASSET_MOVABLE" columnNames="ID" constraintName="PK_CERSAI_ASSET_MOVABLE_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.905" author="saisandeep.b">
		<createTable tableName="CERSAI_ASSET_INTANGIBLE">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="ROW_TYPE" type="varchar(3)" />
			<column name="ASSETCATEGORYID" type="varchar(50)" />
			<column name="ASSETTYPEID" type="varchar(50)" />
			<column name="ASSETTYPEOTHERS" type="varchar(100)" />
			<column name="ASSETSUBTYPEID" type="varchar(50)" />
			<column name="ASSETUNIQUEID" type="varchar(20)" />
			<column name="ASSETSERIALNUMBER" type="varchar(50)" />
			<column name="ASSETDESCRIPTION" type="varchar(100)" />
			<column name="DIARYNUMBER" type="varchar(20)" />
			<column name="ASSETCLASS" type="varchar(50)" />
			<column name="ASSETTITLE" type="varchar(100)" />
			<column name="PATENTNUMBER" type="varchar(20)" />
			<column name="PATENTDATE" type="datetime" />
			<column name="LICENSE_NUMBER" type = "varchar(20)"/>
			<column name="LICENSEISSUINGAUTHORITY" type="varchar(100)" />
			<column name="LICENSECATEGORY" type="VARCHAR(50)" />
			<column name="DESIGNNUMBER" type="varchar(20)" />
			<column name="DESIGNCLASS" type="varchar(20)" />
			<column name="TRADEMARKAPPNUMBER" type="varchar(20)" />
			<column name="TRADEMARKAPPDATE" type="datetime" />
			<column name="Batchid" type="bigInt" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.905.1" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_ASSET_INTANGIBLE" columnNames="ID" constraintName="PK_CERSAI_ASSET_INTANGIBLE_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.906" author="saisandeep.b">
		<createTable tableName="CERSAI_BORROWER">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="ROWTYPE" type="varchar(3)" />
			<column name="SERIALNUMBER" type="bigint" />
			<column name="BORROWERTYPE" type="varchar(8)" />
			<column name="ISASSETOWNER" type="smallint" />
			<column name="BORROWERUIDTYPE" type="bigint" />
			<column name="BORROWERUIDVALUE" type="varchar(10)" />
			<column name="BORROWERPAN" type="varchar(10)" />
			<column name="BORROWERCKYCNUMBER" type="bigint" />
			<column name="BORROWERNAME" type="varchar(100)" />
			<column name="BORROWERREGDATE" type="datetime" />
			<column name="BORROWERREGNUMBER" type="varchar(21)" />
			<column name="INDIVIDUALPAN" type="varchar(10)" />
			<column name="INDIVIDUALCKYCNUMBER" type="bigint" />
			<column name="GENDER" type="varchar(8)"/>
			<column name="INDIVIDUALNAME" type="varchar(50)" />
			<column name="FATHERMOTHERNAME" type="VARCHAR(50)" />
			<column name="DOB" type="datetime" />
			<column name="MOBILENO" type="decimal(10,0)" />
			<column name="EMAIL" type="varchar(50)" />
			<column name="ADDRESSLINE1" type="varchar(100)" />
			<column name="ADDRESSLINE2" type="varchar(100)" />
			<column name="ADDRESSLINE3" type="varchar(100)" />
			<column name="CITY" type="varchar(50)" />
			<column name="DISTRICT" type="VARCHAR(8)" />
			<column name="STATE" type="varchar(8)" />
			<column name="PINCODE" type="bigint" />
			<column name="COUNTRY" type="varchar(2)" />
			<column name="Batchid" type="bigInt" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.906.1" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_BORROWER" columnNames="ID" constraintName="PK_CERSAI_BORROWER_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.907" author="saisandeep.b">
		<createTable tableName="CERSAI_ASSET_OWNER">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="ROWTYPE" type="varchar(3)" />
			<column name="SERIALNUMBER" type="bigint" />
			<column name="ASSETOWNERTYPE" type="varchar(50)" />
			<column name="ASSETOWNERUIDTYPE" type="bigint" />
			<column name="ASSETOWNERUIDVALUE" type="varchar(10)" />
			<column name="ASSETOWNERPAN" type="varchar(10)" />
			<column name="ASSETOWNERCKYCNUMBER" type="bigint" />
			<column name="ASSETOWNERNAME" type="varchar(100)" />
			<column name="ASSETOWNERREGDATE" type="datetime" />
			<column name="ASSETOWNERREGNUMBER" type="varchar(21)" />
			<column name="INDIVIDUALPAN" type="varchar(10)" />
			<column name="INDIVIDUALCKYCNUMBER" type="bigint" />
			<column name="GENDER" type="varchar(8)"/>
			<column name="INDIVIDUALNAME" type="varchar(50)" />
			<column name="FATHERMOTHERNAME" type="VARCHAR(50)" />
			<column name="DOB" type="datetime" />
			<column name="MOBILENUMBER" type="decimal(10,0)" />
			<column name="EMAIL" type="varchar(50)" />
			<column name="ADDRESSLINE1" type="varchar(100)" />
			<column name="ADDRESSLINE2" type="varchar(100)" />
			<column name="ADDRESSLINE3" type="varchar(100)" />
			<column name="CITY" type="varchar(50)" />
			<column name="DISTRICT" type="VARCHAR(8)" />
			<column name="STATE" type="varchar(8)" />
			<column name="PINCODE" type="bigint" />
			<column name="COUNTRY" type="varchar(2)" />
			<column name="Batchid" type="bigInt" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.907.1" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_ASSET_OWNER" columnNames="ID" constraintName="PK_CERSAI_ASSET_OWNER_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.908" author="saisandeep.b">
		<createTable tableName="CERSAI_FILE_INFO">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="FILENAME" type="varchar(100)" />
			<column name="CREATEDON" type="datetime" />
			<column name="STATUS" type="varchar(50)" />
			<column name="FILELOCATION" type="varchar(250)" />
			<column name="TOTAL_RECORDS" type="bigint" />
			<column name="PROCESSED_RECORDS" type="bigint" />
			<column name="SUCCESS_RECORDS" type="bigint" />
			<column name="FAILED_RECORDS" type="bigint" />
			<column name="REMARKS" type="varchar(2000)" />
			<column name="START_TIME" type="datetime" />
			<column name="END_TIME" type="datetime" />
			<column name="SegmentType" type="varchar(20)" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.908.1" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_FILE_INFO" columnNames="ID" constraintName="PK_CERSAI_FILE_INFO_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.908.2_pre" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'cersai_file_info_view');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.908.2" author="saisandep.b">
		<createView viewName="CERSAI_FILE_INFO_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT ID,
					FILENAME,
					CREATEDON,
					STATUS,
					FILELOCATION,
					TOTAL_RECORDS,
					PROCESSED_RECORDS,
					SUCCESS_RECORDS,
					FAILED_RECORDS,
					REMARKS,
					START_TIME,
					END_TIME,
					SEGMENTTYPE
				FROM CERSAI_FILE_INFO
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.908.2_post" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'cersai_file_info_view');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.909" author="saisandeep.b">
		<createTable tableName="CERSAI_ModifyColldetails">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="ROWTYPE" type="varchar(2)" />
			<column name="SERIALNUMBER" type="bigint" />
			<column name="SI_Id" type="bigint" />
			<column name="DOCEXECDATE" type="datetime" />
			<column name="MODIFYTYPE" type="Varchar(10)" />
			<column name="FINANCINGTYPEID" type="varchar(4)"/>
			<column name="TYPEOFCHARGE" type="varchar(20)" />
			<column name="TOTALSECUREDAMT" type="decimal(18,0)" />
			<column name="ENTITYMISTOKEN" type="varchar(100)" />
			<column name="NARRATION" type="varchar(100)" />
			<column name="SITYPEID" type="varchar(50)" />
			<column name="ENTITYCODE" type="varchar(20)" />
			<column name="OFFICE_CODE" type="varchar(20)" />
			<column name="OFFICE_NAME" type="varchar(100)" />
			<column name="ADDRESSLINE1" type="varchar(100)" />
			<column name="ADDRESSLINE2" type="varchar(100)" />
			<column name="ADDRESSLINE3" type="varchar(100)" />
			<column name="CITY" type="varchar(50)" />
			<column name="DISTRICT" type="VARCHAR(8)" />
			<column name="STATE" type="varchar(20)" />
			<column name="PINCODE" type="bigint" />
			<column name="COUNTRY" type="varchar(3)" />
			<column name="BATCHREFNUMBER" type="varchar(20)" />
			<column name="Batchid" type="bigInt" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.909.1" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_ModifyColldetails" columnNames="ID" constraintName="PK_CERSAI_ModifyColldtls_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.910" author="saisandeep.b">
		<createTable tableName="CERSAI_SatisfyColldetails">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="ROWTYPE" type="varchar(2)" />
			<column name="SERIALNUMBER" type="bigint" />
			<column name="SI_Id" type="bigint" />
			<column name="AssetId" type="bigint" />
			<column name="SatisfactionDate" type="datetime" />
			<column name="ReasonCode" type="char(1)" />
			<column name="REASONOTHERS" type="varchar(20)" />
			<column name="BATCHREFNUMBER" type="varchar(20)" />
			<column name="REASONFORDELAY" type ="varchar(20)"/>
			<column name="Batchid" type="bigInt" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.910.1" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_SatisfyColldetails" columnNames="ID" constraintName="PK_CERSAI_SatisfyColldtls_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.911.1" author="saisandeep.b">
		<addColumn tableName="Collateralsetup">
			<column name="SecurityCreationDate" type="datetime" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.911.2" author="saisandeep.b">
		<addColumn tableName="Collateralsetup_temp">
			<column name="SecurityCreationDate" type="datetime" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.912.1" author="saisandeep.b">
		<addColumn tableName="Collateralsetup">
			<column name="RevisedSecurityCreationDate" type="datetime" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.912.2" author="saisandeep.b">
		<addColumn tableName="Collateralsetup_temp">
			<column name="RevisedSecurityCreationDate" type="datetime" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.913.1" author="saisandeep.b">
		<addColumn tableName="Collateralsetup">
			<column name="Modified" type="smallint" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.914.1" author="saisandeep.b">
		<addColumn tableName="collateralassignment">
			<column name="assetid" type="bigint" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.915.1" author="saisandeep.b">
		<addColumn tableName="collateralassignment">
			<column name="siid" type="bigint" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.916.1" author="saisandeep.b">
		<addColumn tableName="Collateralsetup">
			<column name="registrationDate" type="datetime" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.917.1" author="saisandeep.b">
		<addColumn tableName="Collateralsetup">
			<column name="modificationDate" type="datetime" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.918.1" author="saisandeep.b">
		<addColumn tableName="Collateralsetup">
			<column name="SatisfactionDate" type="datetime" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.919.1" author="saisandeep.b">
		<addColumn tableName="Collateralsetup">
			<column name="regStatus" type="varchar(50)" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.913.2" author="saisandeep.b">
		<addColumn tableName="Collateralsetup_temp">
			<column name="Modified" type="smallint" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.914.2" author="saisandeep.b">
		<addColumn tableName="collateralassignment_temp">
			<column name="assetid" type="bigint" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.915.2" author="saisandeep.b">
		<addColumn tableName="collateralassignment_temp">
			<column name="siid" type="bigint" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.916.2" author="saisandeep.b">
		<addColumn tableName="Collateralsetup_temp">
			<column name="registrationDate" type="datetime" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.917.2" author="saisandeep.b">
		<addColumn tableName="Collateralsetup_temp">
			<column name="modificationDate" type="datetime" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.918.2" author="saisandeep.b">
		<addColumn tableName="Collateralsetup_temp">
			<column name="SatisfactionDate" type="datetime" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ST#222.919.2" author="saisandeep.b">
		<addColumn tableName="Collateralsetup_temp">
			<column name="regStatus" type="varchar(50)" />
		</addColumn>
	</changeSet>
	
	
	<changeSet id="ST#222.920" author="saisandeep.b">
		<createSequence sequenceName="SeqCersaiHeader" incrementBy="1" maxValue="999999999999999999"
			minValue="1" startValue="1" />
	</changeSet>
	
	<changeSet id="ST#222.921" author="saisandeep.b">
		<createSequence sequenceName="SeqCersaiBatchRef" incrementBy="1" maxValue="999999999999999999"
			minValue="1" startValue="1" />
	</changeSet>
	
	<changeSet id="ST#222.922" author="saisandeep.b">
		<createSequence sequenceName="SeqCersaiFile" incrementBy="1" maxValue="999999999999999999"
			minValue="1" startValue="1" />
	</changeSet>
	
	<changeSet id="ST#222.923" author="saisandeep.b">
		<createTable tableName="CERSAI_charge_holderDetails">
			<column name="OFFICECODE" type="varchar(10)" />
			<column name="OFFICENAME" type="varchar(100)" />
			<column name="ADDRESSLINE1" type="varchar(100)" />
			<column name="ADDRESSLINE2" type="varchar(100)" />
			<column name="ADDRESSLINE3" type="varchar(100)" />
			<column name="CITY" type="varchar(50)" />
			<column name="DISTRICT" type="VARCHAR(8)" />
			<column name="STATE" type="varchar(20)" />
			<column name="PINCODE" type="bigint" />
			<column name="COUNTRY" type="varchar(2)" />
			<column name="FilePath" type="varchar(100)"/>
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.924" author="saisandeep.b">
		<sql>
			<![CDATA[
				DELETE FROM CERSAI_charge_holderDetails;
				INSERT INTO CERSAI_charge_holderDetails values (null, 'AXIS FINANCE LIMITED', 'AXIS HOUSE C 2 GROUND FLOOR','WADIA INTERNATIONAL CENTER', 'PANDURANG BUDHKAR MARG WORLI', 'MUMBAI', 'MUMBAI','MAHARASHTRA', '400025', 'IN', '/opt/Axis/PFF/Cersai');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.925" author="saisandeep.b">
		<createTable tableName="CERSAI_FILE_INFO_LOG">
			<column name="ID" type="bigint" />
			<column name="COLLATERALREF" type="varchar(20)" />
			<column name="REASON" type ="varchar(3000)"/>
			<column name="status" type="char(1)" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.926" author="saisandeep.b">
		<createTable tableName="CERSAI_RESPONSE">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="RESP_BATCH_ID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="COLLATERAL_REFERENCE_NUMBER" type="varchar(50)" />
			<column name="CERSAI_SECURITY_ID" type="varchar(50)" />
			<column name="CERSAI_ASSET_ID" type="varchar(50)" />
			<column name="CERSAI_REG_DATE" type="datetime"/>
			<column name="CERSAI_MODIFY_DATE" type="datetime"/>
			<column name="CERSAI_SATISFY_DATE" type="datetime"/>
			<column name="Status" type="char(1)" />
			<column name="REMARKS" type="varchar(500)" />
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.926.1" author="saisandeep.b">
		<addPrimaryKey tableName="CERSAI_RESPONSE" columnNames="ID" constraintName="PK_Cersai_Resp_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.927" author="saisandeep.b">
		<createTable tableName="CollateralAssgnHistory">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="CollateralRef" type="varchar(20)" />
			<column name="Reference" type="varchar(20)" />
			<column name="AssignmentDate" type="datetime"/>
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.927.1" author="saisandeep.b">
		<addPrimaryKey tableName="CollateralAssgnHistory" columnNames="ID" constraintName="PK_ColllAssHistory_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.928" author="saisandeep.b">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'CERSAI_ADD_IMPORT'));
				DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'CERSAI_ADD_IMPORT');
				DELETE FROM DATA_ENGINE_CONFIG where Name = 'CERSAI_ADD_IMPORT';

				INSERT INTO DATA_ENGINE_CONFIG (ID,NAME,DESCRIPTION,PARSER,WORKSHEET,STARTINGROW,SKIPHEADERROW,UPLOADLOCATION,UPLOADPATH,FILEPREFIXNAME,FILEEXTENSION,FILESEQUENCENO,BACKUPFILE,ACTIVE) VALUES ((select max(id)+1 from data_engine_config),'CERSAI_ADD_IMPORT','Cersai Response File',12,'Cersai',0,1,'C','/opt/PFF/BASE/Cersai/Response','CERSAI_','.xlsx',0,1,1);
				INSERT INTO DATA_ENGINE_TABLE  (ID,CONFIGID,NAME,OPERATION,KEYFIELDS,RECORDLENGTH,MULTIROW,HEADERTABLE)  VALUES ((select max(id)+1 from data_engine_table),(select Id from data_engine_config where name='CERSAI_ADD_IMPORT'),'CERSAI_RESPONSE',1,'RESP_BATCH_ID',1000,0,0);
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE'  and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_ADD_IMPORT')),'COLLATERAL_REFERENCE_NUMBER',0,'N','0',NULL,'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE'  and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_ADD_IMPORT')),'CERSAI_ASSET_ID',0,'N','1',NULL,'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE'  and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_ADD_IMPORT')),'CERSAI_SECURITY_ID',0,'N','2',NULL,'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE'  and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_ADD_IMPORT')),'CERSAI_REG_DATE',0,'N','3','yyyy-MM-dd','M');
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,DERIVEDFROM,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE'  and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_ADD_IMPORT')),'RESP_BATCH_ID',0,'N','${FILE_ID}','4',NULL,'O');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.929" author="saisandeep.b">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'CERSAI_MODIFY_IMPORT'));
				DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'CERSAI_MODIFY_IMPORT');
				DELETE FROM DATA_ENGINE_CONFIG where Name = 'CERSAI_MODIFY_IMPORT';

				INSERT INTO DATA_ENGINE_CONFIG (ID,NAME,DESCRIPTION,PARSER,WORKSHEET,STARTINGROW,SKIPHEADERROW,UPLOADLOCATION,UPLOADPATH,FILEPREFIXNAME,FILEEXTENSION,FILESEQUENCENO,BACKUPFILE,ACTIVE) VALUES ((select max(id)+1 from data_engine_config),'CERSAI_MODIFY_IMPORT','Cersai Response File',12,'Cersai',0,1,'C','/opt/PFF/BASE/Cersai/Response','CERSAI_','.xlsx',0,1,1);
				INSERT INTO DATA_ENGINE_TABLE  (ID,CONFIGID,NAME,OPERATION,KEYFIELDS,RECORDLENGTH,MULTIROW,HEADERTABLE)  VALUES ((select max(id)+1 from data_engine_table),(select Id from data_engine_config where name='CERSAI_MODIFY_IMPORT'),'CERSAI_RESPONSE',1,'RESP_BATCH_ID',1000,0,0);
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE'and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_MODIFY_IMPORT')),'COLLATERAL_REFERENCE_NUMBER',0,'N','0',NULL,'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE'and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_MODIFY_IMPORT')),'CERSAI_MODIFY_DATE',0,'N','1','yyyy-MM-dd','M');
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,DERIVEDFROM,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE'  and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_MODIFY_IMPORT')),'RESP_BATCH_ID',0,'N','${FILE_ID}','2',NULL,'O');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.930" author="saisandeep.b">
		<sql>
			<![CDATA[
				DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'CERSAI_SATISFY_IMPORT'));
				DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'CERSAI_SATISFY_IMPORT');
				DELETE FROM DATA_ENGINE_CONFIG where Name = 'CERSAI_SATISFY_IMPORT';

				INSERT INTO DATA_ENGINE_CONFIG (ID,NAME,DESCRIPTION,PARSER,WORKSHEET,STARTINGROW,SKIPHEADERROW,UPLOADLOCATION,UPLOADPATH,FILEPREFIXNAME,FILEEXTENSION,FILESEQUENCENO,BACKUPFILE,ACTIVE) VALUES ((select max(id)+1 from data_engine_config),'CERSAI_SATISFY_IMPORT','Cersai Response File',12,'Cersai',0,1,'C','/opt/PFF/BASE/Cersai/Response','CERSAI_','.xlsx',0,1,1);
				INSERT INTO DATA_ENGINE_TABLE  (ID,CONFIGID,NAME,OPERATION,KEYFIELDS,RECORDLENGTH,MULTIROW,HEADERTABLE)  VALUES ((select max(id)+1 from data_engine_table),(select Id from data_engine_config where name='CERSAI_SATISFY_IMPORT'),'CERSAI_RESPONSE',1,'RESP_BATCH_ID',1000,0,0);
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE'and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_SATISFY_IMPORT')),'COLLATERAL_REFERENCE_NUMBER',0,'N','0',NULL,'M');
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE' and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_SATISFY_IMPORT')),'CERSAI_SATISFY_DATE',0,'N','1','yyyy-MM-dd','M');
				INSERT INTO DATA_ENGINE_COLUMN (ID,TABLEID,NAME,SKIP,SEQTYPE,DERIVEDFROM,STARTINDEX,FORMAT,CONSTRAINTTYPE) VALUES ((select max(id)+1 from data_engine_column),(select id from data_engine_table where name='CERSAI_RESPONSE'  and  CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'CERSAI_SATISFY_IMPORT')),'RESP_BATCH_ID',0,'N','${FILE_ID}','2',NULL,'O');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.931" author="saisandeep.b" dbms="postgresql, oracle">
		<addDefaultValue columnName="Modified" tableName="Collateralsetup_temp" defaultValue="0" />
	</changeSet>
	
	<changeSet id="ST#222.931" author="saisandeep.b" dbms="mssql">
		<sql>
			<![CDATA[	
				ALTER TABLE Collateralsetup_temp ADD CONSTRAINT df_cs_t_modified DEFAULT 0 FOR Modified;
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.931.1" author="saisandeep.b">
		<sql>
			<![CDATA[	
				UPDATE Collateralsetup_Temp Set Modified = 0  WHERE Modified IS NULL;
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.932" author="saisandeep.b" dbms="postgresql, oracle">
		<addDefaultValue columnName="Modified" tableName="Collateralsetup" defaultValue="0" />
	</changeSet>
	
	<changeSet id="ST#222.932" author="saisandeep.b" dbms="mssql">
		<sql>
			<![CDATA[	
				ALTER TABLE Collateralsetup ADD CONSTRAINT df_cs_modified DEFAULT 0 FOR Modified;
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.932.1" author="saisandeep.b">
		<sql>
			<![CDATA[	
				UPDATE Collateralsetup Set Modified = 0  WHERE Modified IS NULL;
			]]>
		</sql>
	</changeSet>
	
	
	<changeSet id="ST#222.933_pre" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'collateralsetup_aview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.933" author="saisandeep.b">
		<createView viewName="COLLATERALSETUP_AVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.COLLATERALREF,
					T1.FINREFERENCE,
					T1.DEPOSITORID,
					T1.COLLATERALTYPE,
					T1.COLLATERALCCY,
					T1.MAXCOLLATERALVALUE,
					T1.SPECIALLTV,
					T1.COLLATERALLOC,
					T1.VALUATOR,
					T1.EXPIRYDATE,
					T1.REVIEWFREQUENCY,
					T1.NEXTREVIEWDATE,
					T1.MULTILOANASSIGNMENT,
					T1.THIRDPARTYASSIGNMENT,
					T1.REMARKS,
					T1.COLLATERALVALUE,
					T1.BANKLTV,
					T1.BANKVALUATION,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T1.CREATEDBY,
					T1.CREATEDON,
					T1.STATUS,
					T2.CUSTCIF AS DEPOSITORCIF,
					T3.COLLATERALDESC AS COLLATERALTYPENAME,
					T2.CUSTSHRTNAME AS DEPOSITORNAME,
					T1.REGISTRATIONDATE,
					T1.MODIFICATIONDATE,
					T1.SATISFACTIONDATE,
					T1.REGSTATUS
				FROM COLLATERALSETUP T1
				JOIN CUSTOMERS T2 ON T2.CUSTID = T1.DEPOSITORID
				JOIN COLLATERALSTRUCTURE T3 ON T3.COLLATERALTYPE = T1.COLLATERALTYPE
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#22.933_post" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'collateralsetup_aview');
			]]>
		</sql>
	</changeSet>
	
	
	<changeSet id="ST#222.934_pre" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'collateralsetup_tview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.934" author="saisandeep.b">
		<createView viewName="COLLATERALSETUP_tview" replaceIfExists="true">
			<![CDATA[
				SELECT T1.COLLATERALREF,
					T1.FINREFERENCE,
					T1.DEPOSITORID,
					T1.COLLATERALTYPE,
					T1.COLLATERALCCY,
					T1.MAXCOLLATERALVALUE,
					T1.SPECIALLTV,
					T1.COLLATERALLOC,
					T1.VALUATOR,
					T1.EXPIRYDATE,
					T1.REVIEWFREQUENCY,
					T1.NEXTREVIEWDATE,
					T1.MULTILOANASSIGNMENT,
					T1.THIRDPARTYASSIGNMENT,
					T1.REMARKS,
					T1.COLLATERALVALUE,
					T1.BANKLTV,
					T1.BANKVALUATION,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T1.CREATEDBY,
					T1.CREATEDON,
					T1.STATUS,
					T2.CUSTCIF AS DEPOSITORCIF,
					T3.COLLATERALDESC AS COLLATERALTYPENAME,
					T2.CUSTSHRTNAME AS DEPOSITORNAME,
					T1.REGISTRATIONDATE,
					T1.MODIFICATIONDATE,
					T1.SATISFACTIONDATE,
					T1.REGSTATUS
				FROM COLLATERALSETUP_TEMP T1
				JOIN CUSTOMERS T2 ON T2.CUSTID = T1.DEPOSITORID
				JOIN COLLATERALSTRUCTURE T3 ON T3.COLLATERALTYPE = T1.COLLATERALTYPE
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.934_post" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'collateralsetup_tview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.935_pre" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'collateralsetup_view');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.935" author="saisandep.b">
		<createView viewName="COLLATERALSETUP_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT T1.COLLATERALREF,
					T1.FINREFERENCE,
				    T1.DEPOSITORID,
				    T1.COLLATERALTYPE,
				    T1.COLLATERALCCY,
				    T1.MAXCOLLATERALVALUE,
				    T1.SPECIALLTV,
				    T1.COLLATERALLOC,
				    T1.VALUATOR,
				    T1.EXPIRYDATE,
				    T1.REVIEWFREQUENCY,
				    T1.NEXTREVIEWDATE,
				    T1.MULTILOANASSIGNMENT,
				    T1.THIRDPARTYASSIGNMENT,
				    T1.REMARKS,
				    T1.COLLATERALVALUE,
				    T1.BANKLTV,
				    T1.BANKVALUATION,
				    T1.VERSION,
				    T1.LASTMNTBY,
				    T1.LASTMNTON,
				    T1.RECORDSTATUS,
				    T1.ROLECODE,
				    T1.NEXTROLECODE,
				    T1.TASKID,
				    T1.NEXTTASKID,
				    T1.RECORDTYPE,
				    T1.WORKFLOWID,
				    T1.CREATEDBY,
				    T1.CREATEDON,
				    T1.STATUS,
				    T2.CUSTCIF AS DEPOSITORCIF,
				    T3.COLLATERALDESC AS COLLATERALTYPENAME,
				    T2.CUSTSHRTNAME AS DEPOSITORNAME,
					T1.REGISTRATIONDATE,
					T1.MODIFICATIONDATE,
					T1.SATISFACTIONDATE,
					T1.REGSTATUS
				   FROM COLLATERALSETUP_TEMP T1
				     JOIN CUSTOMERS T2 ON T2.CUSTID = T1.DEPOSITORID
				     JOIN COLLATERALSTRUCTURE T3 ON T3.COLLATERALTYPE = T1.COLLATERALTYPE
				UNION ALL
				 SELECT T1.COLLATERALREF,
					T1.FINREFERENCE,
				    T1.DEPOSITORID,
				    T1.COLLATERALTYPE,
				    T1.COLLATERALCCY,
				    T1.MAXCOLLATERALVALUE,
				    T1.SPECIALLTV,
				    T1.COLLATERALLOC,
				    T1.VALUATOR,
				    T1.EXPIRYDATE,
				    T1.REVIEWFREQUENCY,
				    T1.NEXTREVIEWDATE,
				    T1.MULTILOANASSIGNMENT,
				    T1.THIRDPARTYASSIGNMENT,
				    T1.REMARKS,
				    T1.COLLATERALVALUE,
				    T1.BANKLTV,
				    T1.BANKVALUATION,
				    T1.VERSION,
				    T1.LASTMNTBY,
				    T1.LASTMNTON,
				    T1.RECORDSTATUS,
				    T1.ROLECODE,
				    T1.NEXTROLECODE,
				    T1.TASKID,
				    T1.NEXTTASKID,
				    T1.RECORDTYPE,
				    T1.WORKFLOWID,
				    T1.CREATEDBY,
				    T1.CREATEDON,
				    T1.STATUS,
				    T2.CUSTCIF AS DEPOSITORCIF,
				    T3.COLLATERALDESC AS COLLATERALTYPENAME,
				    T2.CUSTSHRTNAME AS DEPOSITORNAME,
					T1.REGISTRATIONDATE,
					T1.MODIFICATIONDATE,
					T1.SATISFACTIONDATE,
					T1.REGSTATUS
				   FROM COLLATERALSETUP T1
				     JOIN CUSTOMERS T2 ON T2.CUSTID = T1.DEPOSITORID
				     JOIN COLLATERALSTRUCTURE T3 ON T3.COLLATERALTYPE = T1.COLLATERALTYPE
				  WHERE NOT (EXISTS ( SELECT 1
				           FROM COLLATERALSETUP_TEMP
				          WHERE COLLATERALSETUP_TEMP.COLLATERALREF = T1.COLLATERALREF))
				]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.935_post" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'collateralsetup_view');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.936" author="saisandeep.b">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_CersaiReport');
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_CersaiReport';

				Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from REPORTCONFIGURATION),'Excel:CersaiReport','Cersai Report',0,'CersaiReport','dataSource',0,'menu_Item_CersaiReport',1,1000,null,null,null,null,null,null,0,current_timestamp,0,1,0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.937" author="saisandeep.b">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_CersaiModificationReport');
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_CersaiModificationReport';

				Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from REPORTCONFIGURATION),'Excel:CersaiModificationReport','Cersai Modification Report',0,'CersaiModificationReport','dataSource',0,'menu_Item_CersaiModificationReport',1,1000,null,null,null,null,null,null,0,current_timestamp,0,1,0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.938" author="saisandeep.b">
		<sql>
			<![CDATA[
				DELETE FROM REPORTFILTERFIELDS WHERE REPORTID IN (SELECT REPORTID FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_CersaiSatisfactionReport');
				DELETE FROM REPORTCONFIGURATION WHERE MENUITEMCODE = 'menu_Item_CersaiSatisfactionReport';

				Insert into REPORTCONFIGURATION values ((select max(reportid)+1 from REPORTCONFIGURATION),'Excel:CersaiSatisfactionReport','Cersai Satisfaction Report',0,'CersaiSatisfactionReport','dataSource',0,'menu_Item_CersaiSatisfactionReport',1,1000,null,null,null,null,null,null,0,current_timestamp,0,1,0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.939" author="saisandeep.b">
		<sql>
			<![CDATA[
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_CersaiReports');
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CersaiReports');				
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_CersaiReports';			
				DELETE FROM SECGROUPS WHERE GRPCODE = 'CersaiReports';
				DELETE FROM SECROLES WHERE ROLECD = 'CersaiReports';
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menu_Item_CersaiReports', 'MENU', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);	
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CersaiReports','Group for CersaiReports', 1, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CersaiReports'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menu_Item_CersaiReports'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'CersaiReports', 'CersaiReports Role', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0) ;
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'CersaiReports'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'CersaiReports'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.940" author="saisandeep.b">
		<sql>
			<![CDATA[
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_CersaiDownload');
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CersaiDownloadProcess');				
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_CersaiDownload';			
				DELETE FROM SECGROUPS WHERE GRPCODE = 'CersaiDownloadProcess';
				DELETE FROM SECROLES WHERE ROLECD = 'CersaiDownloadProcess';
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_CersaiDownload', 'MENU', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);	
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CersaiDownloadProcess','Group for CersaiDownloadProcess', 1, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CersaiDownloadProcess'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_CersaiDownload'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'CersaiDownloadProcess', 'CersaiDownloadProcess Role', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0) ;
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'CersaiDownloadProcess'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'CersaiDownloadProcess'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.941" author="saisandeep.b">
		<sql>
			<![CDATA[
				DELETE FROM SECGROUPRIGHTS WHERE RIGHTID = (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_CersaiUpload');
				DELETE FROM SECROLEGROUPS WHERE GRPID = (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CersaiUploadProcess');				
				DELETE FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_CersaiUpload';			
				DELETE FROM SECGROUPS WHERE GRPCODE = 'CersaiUploadProcess';
				DELETE FROM SECROLES WHERE ROLECD = 'CersaiUploadProcess';
				
				INSERT INTO SECRIGHTS (RIGHTID, RIGHTTYPE, RIGHTNAME, PAGE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_CersaiUpload', 'MENU', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);	
				INSERT INTO SECGROUPS (GRPID, GRPCODE, GRPDESC, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPID)+1 FROM SECGROUPS), 'CersaiUploadProcess','Group for CersaiUploadProcess', 1, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO	SECGROUPRIGHTS (GRPRIGHTID, GRPID, RIGHTID, ACCESSTYPE, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(GRPRIGHTID) + 1 FROM SECGROUPRIGHTS), (SELECT GRPID FROM SECGROUPS WHERE GRPCODE = 'CersaiUploadProcess'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME = 'menuItem_CersaiUpload'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SECROLES (ROLEID, ROLEAPP, ROLECD, ROLEDESC, ROLECATEGORY, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEID)+1 FROM SECROLES), 1, 'CersaiUploadProcess', 'CersaiUploadProcess Role', '', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0) ;
				INSERT INTO SECROLEGROUPS (ROLEGRPID, GRPID, ROLEID, VERSION, LASTMNTBY, LASTMNTON, RECORDSTATUS, ROLECODE, NEXTROLECODE, TASKID, NEXTTASKID, RECORDTYPE, WORKFLOWID) VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE = 'CersaiUploadProcess'), (SELECT ROLEID FROM SECROLES WHERE ROLECD = 'CersaiUploadProcess'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.406_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_assettype_aview');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.406" author="hemasai.r">
		<createView viewName="CERSAI_AssetType_AView" replaceIfExists="true">
			<![CDATA[
				SELECT
					T1.Id,
					S1.Id AssetCategoryId,
					S1.Description AssetCategoryIdName,
					T1.Description, 
					T1.Version, 
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus, 
					T1.RoleCode, 
					T1.NextRoleCode, 
					T1.TaskId, 
					T1.NextTaskId, 
					T1.RecordType, 
					T1.WorkflowId
				FROM CERSAI_AssetType T1
				INNER JOIN CERSAI_ASSETCATEGORY S1 ON S1.Id = T1.AssetCategoryId
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.406_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_assettype_aview');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.407_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_assettype_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.407" author="hemasai.r">
		<createView viewName="CERSAI_AssetType_View" replaceIfExists="true">
			<![CDATA[
				 SELECT	
					T1.Id,
					AC.Id AssetCategoryId,
					AC.Description AssetCategoryIdName,
					T1.Description,
					T1.Version,
					T1.LastMntBy, 
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode, 
					T1.NextRoleCode, 
					T1.TaskId, 
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM CERSAI_AssetType_Temp T1
				INNER JOIN CERSAI_ASSETCATEGORY AC ON AC.Id = T1.AssetCategoryId
				UNION ALL
				SELECT	
					T1.Id,
					AC.Id AssetCategoryId,
					AC.Description AssetCategoryIdName,
					T1.Description,
					T1.Version, 
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode, 
					T1.NextRoleCode,
					T1.TaskId, 
					T1.NextTaskId, 
					T1.RecordType, 
					T1.WorkflowId
				FROM CERSAI_AssetType T1
				INNER JOIN CERSAI_ASSETCATEGORY AC ON AC.Id = T1.AssetCategoryId
				WHERE NOT EXISTS (SELECT 1 FROM CERSAI_AssetType_TEMP WHERE Id = T1.Id)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.407_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_assettype_view');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#222.606_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'citymapping_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.606" author="hemasai.r">
		<createView viewName="CityMapping_View" replaceIfExists="true">
			<![CDATA[
               SELECT
    	           T1.MappingType,
				   C1.PCCITY CityCode,
				   C1.PCCITYNAME CityCodeName,
				   T1.MappingValue,
				   T1.Version, 
				   T1.LastMntBy, 
				   T1.LastMntOn,
				   T1.RecordStatus,
				   T1.RoleCode, 
				   T1.NextRoleCode, 
				   T1.TaskId,
				   T1.NextTaskId,
				   T1.RecordType,
				   T1.WorkflowId
      		    FROM CityMapping_Temp T1
				INNER JOIN RMTPROVINCEVSCITY C1 ON C1.PCCITY = T1.CityCode
       			UNION ALL
				SELECT
		 			T1.MappingType,
			        C1.PCCITY CityCode,
					C1.PCCITYNAME CityCodeName,
					T1.MappingValue,
					T1.Version,
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
        		 FROM CityMapping T1
				 INNER JOIN RMTPROVINCEVSCITY C1 ON C1.PCCITY = T1.CityCode
				 WHERE NOT EXISTS (SELECT 1 FROM CityMapping_TEMP WHERE CityCode = T1.CityCode and MappingType = T1.MappingType)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.606_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'citymapping_view');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#222.706_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'districtmapping_view');
 			]]>
 		</sql>
 	</changeSet>
	
	<changeSet id="ST#222.706" author="hemasai.r">
		<createView viewName="DistrictMapping_View" replaceIfExists="true">
			<![CDATA[
				SELECT
					T1.MappingType,
					D1.CODE District,
					D1.NAME DistrictName,
					T1.MappingValue,
					T1.Version,
					T1.LastMntBy, 
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId, 
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM DistrictMapping_Temp T1
				INNER JOIN RMTDISTRICTS D1 ON D1.CODE = T1.District
				UNION ALL
				SELECT
					T1.MappingType,
					D1.CODE District,
					D1.NAME DistrictName,
					T1.MappingValue,
					T1.Version,
					T1.LastMntBy, 
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM DistrictMapping T1
				INNER JOIN RMTDISTRICTS D1 ON D1.CODE = T1.District
				WHERE  NOT EXISTS (SELECT 1 FROM DistrictMapping_TEMP WHERE District = T1.District and MappingType = T1.MappingType)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.706_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'districtmapping_view');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#222.806_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'provincemapping_view');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.806" author="hemasai.r">
		<createView viewName="ProvinceMapping_View" replaceIfExists="true">
			<![CDATA[
       		   SELECT
        		   T1.MappingType,
      			   P1.CPPROVINCE Province,
				   P1.CPPROVINCENAME ProvinceName,
     		       T1.MappingValue, 
                   T1.Version,
                   T1.LastMntBy,
                   T1.LastMntOn,
                   T1.RecordStatus,
                   T1.RoleCode,
                   T1.NextRoleCode, 
                   T1.TaskId, 
                   T1.NextTaskId,
                   T1.RecordType,
                   T1.WorkflowId
                FROM ProvinceMapping_Temp T1
		        INNER JOIN RMTCOUNTRYVSPROVINCE P1 ON P1.CPPROVINCE = T1.Province 
                UNION ALL
	        	SELECT
                    T1.MappingType,
                    P1.CPPROVINCE Province,
					P1.CPPROVINCENAME ProvinceName,
                    T1.MappingValue, 
		        	T1.Version,
	        		T1.LastMntBy,
	        		T1.LastMntOn,
		        	T1.RecordStatus,
	         		T1.RoleCode,
		        	T1.NextRoleCode, 
	        		T1.TaskId,
	        		T1.NextTaskId, 
	        		T1.RecordType, 
	        		T1.WorkflowId
                 FROM ProvinceMapping T1
		         INNER JOIN RMTCOUNTRYVSPROVINCE P1 ON P1.CPPROVINCE = T1.Province		 
                 WHERE NOT EXISTS (SELECT 1 FROM ProvinceMapping_TEMP WHERE Province = T1.Province and MappingType = T1.MappingType)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.806_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'provincemapping_view');
 			]]>
 		</sql>
 	</changeSet>
 	
 		<changeSet id="ST#222.306_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_assetsubtype_aview');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.306" author="hemasai.r">
		<createView viewName="CERSAI_AssetSubType_AView" replaceIfExists="true">
			<![CDATA[
				SELECT		
				  T1.Id,
				  T1.AssetTypeId,
				  AT.Description AssetTypeIdName,
				  T1.Description,
				  T1.Version,
				  T1.LastMntBy,
				  T1.LastMntOn,
				  T1.RecordStatus,
				  T1.RoleCode,
				  T1.NextRoleCode,
				  T1.TaskId,
				  T1.NextTaskId,
				  T1.RecordType,
				  T1.WorkflowId
				FROM CERSAI_AssetSubType T1
				inner join CERSAI_AssetType AT on AT.Id = T1.AssetTypeId
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.306_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_assetsubtype_aview');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#222.307_pre" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_save_and_drop_dependencies ('plf', 'cersai_assetsubtype_view');
 			]]>
 		</sql>
 	</changeSet>

	<changeSet id="ST#222.307" author="hemasai.r">
		<createView viewName="CERSAI_AssetSubType_View" replaceIfExists="true">
			<![CDATA[
				SELECT
					T1.Id,
					T1.AssetTypeId,
					AT.Description AssetTypeIdName,
					T1.Description, 
					T1.Version, 
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode,
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType, 
					T1.WorkflowId
				FROM CERSAI_AssetSubType_Temp T1 
				inner join CERSAI_AssetType AT on AT.Id = T1.AssetTypeId
				UNION ALL
				SELECT		
					T1.Id,
					T1.AssetTypeId,
					AT.Description AssetTypeIdName,
					T1.Description,
					T1.Version, 
					T1.LastMntBy,
					T1.LastMntOn,
					T1.RecordStatus,
					T1.RoleCode, 
					T1.NextRoleCode,
					T1.TaskId,
					T1.NextTaskId,
					T1.RecordType,
					T1.WorkflowId
				FROM CERSAI_AssetSubType T1 
				inner join CERSAI_AssetType AT on AT.Id = T1.AssetTypeId
				WHERE NOT EXISTS (SELECT 1 FROM CERSAI_AssetSubType_TEMP WHERE Id = T1.Id)
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.307_post" author="saisandeep.b" dbms="postgresql">
 		<sql>
 			<![CDATA[
 				select deps_restore_dependencies ('plf', 'cersai_assetsubtype_view');
 			]]>
 		</sql>
 	</changeSet>
 	
 	<changeSet id="ST#222.911.3" author="saisandeep.b">
		<dropColumn tableName="Collateralsetup" columnName="SecurityCreationDate" />
	</changeSet>
	
	<changeSet id="ST#222.911.4" author="saisandeep.b">
		<dropColumn tableName="Collateralsetup_temp" columnName="SecurityCreationDate" />
	</changeSet>
	
	<changeSet id="ST#222.912.3" author="saisandeep.b">
		<dropColumn tableName="Collateralsetup" columnName="RevisedSecurityCreationDate" />
	</changeSet>
	
	<changeSet id="ST#222.912.4" author="saisandeep.b">
		<dropColumn tableName="Collateralsetup_Temp" columnName="RevisedSecurityCreationDate" />
	</changeSet>
	
	<changeSet id="ST#222.927.2" author="saisandeep.b">
		<dropTable tableName="CollateralAssgnHistory"/>
	</changeSet>
	
	<changeSet id="ST#222.942" author="saisandeep.b">
		<createTable tableName="CollateralRevisedHistory">
			<column name="ID" type="bigInt" autoIncrement="true"/>
			<column name="CollateralRef" type="varchar(20)" />
			<column name="RevisedDate" type="datetime"/>
		</createTable>
	</changeSet>
	
	<changeSet id="ST#222.942.1" author="saisandeep.b">
		<addPrimaryKey tableName="CollateralRevisedHistory" columnNames="ID" constraintName="PK_CollRevisedHistory_ID"/>
	</changeSet>
	
	<changeSet id="ST#222.933.1_pre" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'collateralsetup_aview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.933.1" author="saisandeep.b">
		<createView viewName="COLLATERALSETUP_AVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT Distinct T1.COLLATERALREF,
					T1.FINREFERENCE,
					T1.DEPOSITORID,
					T1.COLLATERALTYPE,
					T1.COLLATERALCCY,
					T1.MAXCOLLATERALVALUE,
					T1.SPECIALLTV,
					T1.COLLATERALLOC,
					T1.VALUATOR,
					T1.EXPIRYDATE,
					T1.REVIEWFREQUENCY,
					T1.NEXTREVIEWDATE,
					T1.MULTILOANASSIGNMENT,
					T1.THIRDPARTYASSIGNMENT,
					T1.REMARKS,
					T1.COLLATERALVALUE,
					T1.BANKLTV,
					T1.BANKVALUATION,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T1.CREATEDBY,
					T1.CREATEDON,
					T1.STATUS,
					T2.CUSTCIF AS DEPOSITORCIF,
					T3.COLLATERALDESC AS COLLATERALTYPENAME,
					T2.CUSTSHRTNAME AS DEPOSITORNAME,
					T1.REGISTRATIONDATE,
					T1.MODIFICATIONDATE,
					T1.SATISFACTIONDATE,
					T1.REGSTATUS,
					CA.ASSETID,
					CA.SIID
				FROM COLLATERALSETUP T1
				JOIN CUSTOMERS T2 ON T2.CUSTID = T1.DEPOSITORID
				LEFT JOIN COLLATERALASSIGNMENT CA ON CA.COLLATERALREF = T1.COLLATERALREF
				JOIN COLLATERALSTRUCTURE T3 ON T3.COLLATERALTYPE = T1.COLLATERALTYPE
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#22.933.1_post" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'collateralsetup_aview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.934.1_pre" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'collateralsetup_tview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.934.1" author="saisandeep.b">
		<createView viewName="COLLATERALSETUP_TVIEW" replaceIfExists="true">
			<![CDATA[
				SELECT Distinct T1.COLLATERALREF,
					T1.FINREFERENCE,
					T1.DEPOSITORID,
					T1.COLLATERALTYPE,
					T1.COLLATERALCCY,
					T1.MAXCOLLATERALVALUE,
					T1.SPECIALLTV,
					T1.COLLATERALLOC,
					T1.VALUATOR,
					T1.EXPIRYDATE,
					T1.REVIEWFREQUENCY,
					T1.NEXTREVIEWDATE,
					T1.MULTILOANASSIGNMENT,
					T1.THIRDPARTYASSIGNMENT,
					T1.REMARKS,
					T1.COLLATERALVALUE,
					T1.BANKLTV,
					T1.BANKVALUATION,
					T1.VERSION,
					T1.LASTMNTBY,
					T1.LASTMNTON,
					T1.RECORDSTATUS,
					T1.ROLECODE,
					T1.NEXTROLECODE,
					T1.TASKID,
					T1.NEXTTASKID,
					T1.RECORDTYPE,
					T1.WORKFLOWID,
					T1.CREATEDBY,
					T1.CREATEDON,
					T1.STATUS,
					T2.CUSTCIF AS DEPOSITORCIF,
					T3.COLLATERALDESC AS COLLATERALTYPENAME,
					T2.CUSTSHRTNAME AS DEPOSITORNAME,
					T1.REGISTRATIONDATE,
					T1.MODIFICATIONDATE,
					T1.SATISFACTIONDATE,
					T1.REGSTATUS,
					CA.ASSETID,
					CA.SIID
				FROM COLLATERALSETUP_TEMP T1
				JOIN CUSTOMERS T2 ON T2.CUSTID = T1.DEPOSITORID
				LEFT JOIN COLLATERALASSIGNMENT CA ON CA.COLLATERALREF = T1.COLLATERALREF
				JOIN COLLATERALSTRUCTURE T3 ON T3.COLLATERALTYPE = T1.COLLATERALTYPE
			]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.934.1_post" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'collateralsetup_tview');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.935.1_pre" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_save_and_drop_dependencies ('plf', 'collateralsetup_view');
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="ST#222.935.1" author="saisandep.b">
		<createView viewName="COLLATERALSETUP_VIEW" replaceIfExists="true">
			<![CDATA[
				SELECT Distinct T1.COLLATERALREF,
					T1.FINREFERENCE,
				    T1.DEPOSITORID,
				    T1.COLLATERALTYPE,
				    T1.COLLATERALCCY,
				    T1.MAXCOLLATERALVALUE,
				    T1.SPECIALLTV,
				    T1.COLLATERALLOC,
				    T1.VALUATOR,
				    T1.EXPIRYDATE,
				    T1.REVIEWFREQUENCY,
				    T1.NEXTREVIEWDATE,
				    T1.MULTILOANASSIGNMENT,
				    T1.THIRDPARTYASSIGNMENT,
				    T1.REMARKS,
				    T1.COLLATERALVALUE,
				    T1.BANKLTV,
				    T1.BANKVALUATION,
				    T1.VERSION,
				    T1.LASTMNTBY,
				    T1.LASTMNTON,
				    T1.RECORDSTATUS,
				    T1.ROLECODE,
				    T1.NEXTROLECODE,
				    T1.TASKID,
				    T1.NEXTTASKID,
				    T1.RECORDTYPE,
				    T1.WORKFLOWID,
				    T1.CREATEDBY,
				    T1.CREATEDON,
				    T1.STATUS,
				    T2.CUSTCIF AS DEPOSITORCIF,
				    T3.COLLATERALDESC AS COLLATERALTYPENAME,
				    T2.CUSTSHRTNAME AS DEPOSITORNAME,
					T1.REGISTRATIONDATE,
					T1.MODIFICATIONDATE,
					T1.SATISFACTIONDATE,
					T1.REGSTATUS,
					CA.ASSETID,
					CA.SIID
				   FROM COLLATERALSETUP_TEMP T1
				     JOIN CUSTOMERS T2 ON T2.CUSTID = T1.DEPOSITORID
					 LEFT JOIN COLLATERALASSIGNMENT CA ON CA.COLLATERALREF = T1.COLLATERALREF
				     JOIN COLLATERALSTRUCTURE T3 ON T3.COLLATERALTYPE = T1.COLLATERALTYPE
				UNION ALL
				 SELECT distinct T1.COLLATERALREF,
					T1.FINREFERENCE,
				    T1.DEPOSITORID,
				    T1.COLLATERALTYPE,
				    T1.COLLATERALCCY,
				    T1.MAXCOLLATERALVALUE,
				    T1.SPECIALLTV,
				    T1.COLLATERALLOC,
				    T1.VALUATOR,
				    T1.EXPIRYDATE,
				    T1.REVIEWFREQUENCY,
				    T1.NEXTREVIEWDATE,
				    T1.MULTILOANASSIGNMENT,
				    T1.THIRDPARTYASSIGNMENT,
				    T1.REMARKS,
				    T1.COLLATERALVALUE,
				    T1.BANKLTV,
				    T1.BANKVALUATION,
				    T1.VERSION,
				    T1.LASTMNTBY,
				    T1.LASTMNTON,
				    T1.RECORDSTATUS,
				    T1.ROLECODE,
				    T1.NEXTROLECODE,
				    T1.TASKID,
				    T1.NEXTTASKID,
				    T1.RECORDTYPE,
				    T1.WORKFLOWID,
				    T1.CREATEDBY,
				    T1.CREATEDON,
				    T1.STATUS,
				    T2.CUSTCIF AS DEPOSITORCIF,
				    T3.COLLATERALDESC AS COLLATERALTYPENAME,
				    T2.CUSTSHRTNAME AS DEPOSITORNAME,
					T1.REGISTRATIONDATE,
					T1.MODIFICATIONDATE,
					T1.SATISFACTIONDATE,
					T1.REGSTATUS,
					CA.ASSETID,
					CA.SIID
				   FROM COLLATERALSETUP T1
				     JOIN CUSTOMERS T2 ON T2.CUSTID = T1.DEPOSITORID
					 LEFT JOIN COLLATERALASSIGNMENT CA ON CA.COLLATERALREF = T1.COLLATERALREF
				     JOIN COLLATERALSTRUCTURE T3 ON T3.COLLATERALTYPE = T1.COLLATERALTYPE
				  	WHERE NOT (EXISTS ( SELECT 1
				           FROM COLLATERALSETUP_TEMP
				          WHERE COLLATERALSETUP_TEMP.COLLATERALREF = T1.COLLATERALREF))
				]]>
		</createView>
	</changeSet>
	
	<changeSet id="ST#222.935.1_post" author="saisandeep.b" dbms="postgresql">
		<sql>
			<![CDATA[
				select deps_restore_dependencies ('plf', 'collateralsetup_view');
			]]>
		</sql>
	</changeSet>
</databaseChangeLog>