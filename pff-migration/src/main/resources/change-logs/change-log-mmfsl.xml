<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value="" dbms="oracle" />
	<property name="add.schema" value="" dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PLFAVANSEQC.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()" dbms="postgresql" />
	
	<changeSet id="pre_run_for_pgp" author="Adarsh" runAlways="true" dbms="postgresql">
		<sql>
			Set search_path = plf,public,pg_catalog;
		</sql>
	</changeSet>
	
	<changeSet id="1" author="vijaya.a" dbms="postgresql, oracle">
		<createSequence sequenceName="SEQCD_MANUFACTURERS" />
	</changeSet>

	<changeSet id="1.1" author="vijaya.a" dbms="mssql">
		<createTable tableName="SEQCD_MANUFACTURERS">
			<column name="SeqNo" type="bigint" autoIncrement="true" />
			<column name="Value" type="int"></column>
		</createTable>
	</changeSet>
	
	<changeSet id="1.2" author="vijaya.a">
		<createTable tableName="CD_Manufacturers">
			<column name="ManufacturerId" type="int">
				<constraints nullable="false" primaryKey="true" primaryKeyName="PK_CD_MANUFACTURER_ID" />
			</column>
			<column name="Name" type="varchar(100)">
			</column>
			<column name="Description" type="varchar(100)">
			</column>
			<column name="Channel" type="varchar(20)">
			</column>
			<column name="Active" type="boolean">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="1.3" author="vijaya.a">
		<createTable tableName="CD_Manufacturers_Temp">
			<column name="ManufacturerId" type="int">
				<constraints nullable="false" primaryKey="true" primaryKeyName="PK_CD_MANUFACTURER_TEMP_ID" />
			</column>
			<column name="Name" type="varchar(100)">
			</column>
			<column name="Description" type="varchar(100)">
			</column>
			<column name="Channel" type="varchar(20)">
			</column>
			<column name="Active" type="boolean">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>

	<changeSet id="1.4" author="vijaya.a">
		<createView viewName="CD_Manufacturers_VIEW" replaceIfExists="true">
			  SELECT t1.manufacturerId,
    			t1.name,
   				t1.description,
    			t1.channel,
          		t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_Manufacturers_Temp t1
			UNION ALL
 			SELECT t1.manufacturerId,
    			t1.name,
   				t1.description,
    			t1.channel,
         		t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   				FROM CD_Manufacturers t1
  			WHERE NOT (EXISTS ( SELECT 1
            FROM CD_Manufacturers_Temp
            WHERE CD_Manufacturers_Temp.manufacturerId = t1.manufacturerId))
		</createView>
	</changeSet>

	<changeSet id="1.5" author="vijaya.a">
		<createView viewName="CD_Manufacturers_AVIEW" replaceIfExists="true">
			  SELECT t1.manufacturerId,
    			t1.name,
   				t1.description,
    			t1.channel,     
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			  FROM CD_Manufacturers t1
		</createView>
	</changeSet>
	
	<changeSet id="1.6" author="vijaya.a">
		<createView viewName="CD_Manufacturers_TVIEW" replaceIfExists="true">
			  SELECT t1.manufacturerId,
    			t1.name,
   				t1.description,
    			t1.channel,     
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			  FROM CD_Manufacturers_Temp t1
		</createView>
	</changeSet>
	
	<changeSet id="2" author="vijaya.a" dbms="postgresql, oracle">
		<createSequence sequenceName="SEQCD_PRODUCTS" />
	</changeSet>

	<changeSet id="2.1" author="vijaya.a" dbms="mssql">
		<createTable tableName="SEQCD_PRODUCTS">
			<column name="SeqNo" type="bigint" autoIncrement="true" />
			<column name="Value" type="int"></column>
		</createTable>
	</changeSet>
	
	<changeSet id="2.2" author="vijaya.a">
		<createTable tableName="CD_Products">
			<column name="ProductId" type="int">
				<constraints nullable="false" primaryKey="true" primaryKeyName="PK_CD_PRODUCT_ID" />
			</column>
			<column name="ModelId" type="varchar(8)">
			</column>
			<column name="ModelDescription" type="varchar(20)">
			</column>
			<column name="ManufacturerId" type="varchar(50)">
			</column>
			<column name="AssetDescription" type="Varchar(20)">
			</column>
			<column name="MinAmount" type="decimal(18,0)">
			</column>
			<column name="MaxAmount" type="decimal(18,0)">
			</column>
			<column name="ModelStatus" type="Varchar(20)">
			</column>
			<column name="Channel" type="Varchar(20)">
			</column>
			<column name="Active" type="boolean">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="2.3" author="vijaya.a">
		<createTable tableName="CD_Products_Temp">
			<column name="ProductId" type="int">
				<constraints nullable="false" primaryKey="true" primaryKeyName="PK_CD_PRODUCT_Temp_ID" />
			</column>
			<column name="ModelId" type="varchar(8)">
			</column>
			<column name="ModelDescription" type="varchar(20)">
			</column>
			<column name="ManufacturerId" type="varchar(50)">
			</column>
			<column name="AssetDescription" type="Varchar(20)">
			</column>
			<column name="MinAmount" type="decimal(18,0)">
			</column>
			<column name="MaxAmount" type="decimal(18,0)">
			</column>
			<column name="ModelStatus" type="Varchar(20)">
			</column>
			<column name="Channel" type="Varchar(20)">
			</column>
			<column name="Active" type="boolean">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="2.5" author="vijaya.a">
		<createView viewName="CD_Products_VIEW" replaceIfExists="true">
			  SELECT t1.productId,
    			t1.modelId,
   				t1.modelDescription,
    			t1.manufacturerId,     
    			t1.assetDescription,
    			t1.minAmount,
    			t1.maxAmount,
    			t1.modelStatus,
    			t1.channel,
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_Products_Temp t1
			UNION ALL
 			SELECT t1.productId,
    			t1.modelId,
   				t1.modelDescription,
    			t1.manufacturerId,     
    			t1.assetDescription,
    			t1.minAmount,
    			t1.maxAmount,
    			t1.modelStatus,
    			t1.channel,
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   				FROM CD_Products t1
  			WHERE NOT (EXISTS ( SELECT 1
            FROM CD_Products_Temp
            WHERE CD_Products_Temp.productId = t1.productId))
		</createView>
	</changeSet>

	<changeSet id="2.6" author="vijaya.a">
		<createView viewName="CD_Products_AVIEW" replaceIfExists="true">
			  SELECT t1.productId,
    			t1.modelId,
   				t1.modelDescription,
    			t1.manufacturerId,     
    			t1.assetDescription,
    			t1.minAmount,
    			t1.maxAmount,
    			t1.modelStatus,
    			t1.channel,
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			  FROM CD_Products t1
		</createView>
	</changeSet>
	
	<changeSet id="2.7" author="vijaya.a">
		<createView viewName="CD_Products_TVIEW" replaceIfExists="true">
			  SELECT t1.productId,
    			t1.modelId,
   				t1.modelDescription,
    			t1.manufacturerId,     
    			t1.assetDescription,
    			t1.minAmount,
    			t1.maxAmount,
    			t1.modelStatus,
    			t1.channel,
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			  FROM CD_Products_Temp t1
		</createView>
	</changeSet>
	
	<changeSet id="3" author="vijaya.a" dbms="postgresql, oracle">
		<createSequence sequenceName="SEQCD_MERCHANTS" />
	</changeSet>

	<changeSet id="3.1" author="vijaya.a" dbms="mssql">
		<createTable tableName="SEQCD_MERCHANTS">
			<column name="SeqNo" type="bigint" autoIncrement="true" />
			<column name="Value" type="int"></column>
		</createTable>
	</changeSet>
	
	<changeSet id="3.2" author="vijaya.a">
		<createTable tableName="CD_Merchants">
			<column name="MerchantId" type="int">
				<constraints nullable="false" primaryKey="true" primaryKeyName="PK_CD_MERCHANT_ID" />
			</column>
			<column name="MerchantName" type="varchar(50)">
			</column>
			<column name="StoreId" type="int">
			</column>
			<column name="StoreName" type="varchar(50)">
			</column>
			<column name="StoreAddressLine1" type="varchar(200)">
			</column>
			<column name="StoreAddressLine2" type="varchar(100)">
			</column>
			<column name="StoreAddressLine3" type="varchar(100)">
			</column>
			<column name="StoreCity" type="varchar(50)">
			</column>
			<column name="StoreState" type="varchar(8)">
			</column>
			<column name="StoreCountry" type="varchar(50)">
			</column>
			<column name="CountryName" type="varchar(50)">
			</column>
			<column name="StateName" type="varchar(50)">
			</column>
			<column name="cityName" type="varchar(50)">
			</column>
			<column name="POSID" type="int">
			</column>
			<column name="AvgTranPerMnth" type="decimal(18,0)" >
			</column>
			<column name="AvgTranAmtPerMnth" type="decimal(18,0)">
			</column>
			<column name="TranAmtPerTran" type="decimal(18,0)">
			</column>
			<column name="TranAmtPerDay" type="decimal(18,0)">
			</column>
			<column name="AllowRefund" type="boolean">
			</column>
			<column name="PeakTransPerDay" type="decimal(18,0)">
			</column>
			<column name="Channel" type="varchar(20)">
			</column>
			<column name="Active" type="bit">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="3.3" author="vijaya.a">
		<createTable tableName="CD_Merchants_Temp">
			<column name="MerchantId" type="int">
				<constraints nullable="false" primaryKey="true" primaryKeyName="PK_CD_MERCHANT_TEMP_ID" />
			</column>
			<column name="MerchantName" type="varchar(50)">
			</column>
			<column name="StoreId" type="int">
			</column>
			<column name="StoreName" type="varchar(50)">
			</column>
			<column name="StoreAddressLine1" type="varchar(200)">
			</column>
			<column name="StoreAddressLine2" type="varchar(100)">
			</column>
			<column name="StoreAddressLine3" type="varchar(100)">
			</column>
			<column name="StoreCity" type="varchar(50)">
			</column>
			<column name="StoreState" type="varchar(8)">
			</column>
			<column name="StoreCountry" type="varchar(50)">
			</column>
			<column name="CountryName" type="varchar(50)">
			</column>
			<column name="StateName" type="varchar(50)">
			</column>
			<column name="cityName" type="varchar(50)">
			</column>
			<column name="POSID" type="int">
			</column>
			<column name="AvgTranPerMnth" type="decimal(18,0)" >
			</column>
			<column name="AvgTranAmtPerMnth" type="decimal(18,0)">
			</column>
			<column name="TranAmtPerTran" type="decimal(18,0)">
			</column>
			<column name="TranAmtPerDay" type="decimal(18,0)">
			</column>
			<column name="AllowRefund" type="bit">
			</column>
			<column name="PeakTransPerDay" type="decimal(18,0)">
			</column>
			<column name="Channel" type="varchar(20)">
			</column>
			<column name="Active" type="boolean">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="3.3_post" author="vijaya.a">
		<addUniqueConstraint tableName="CD_MERCHANTS" columnNames="StoreId"
			constraintName="UK_CD_MERCHANTS_STOREID" />
		<addUniqueConstraint tableName="CD_MERCHANTS_TEMP" columnNames="StoreId" constraintName="UK_CD_MERCHANTS_TEMP_STOREID" />
	</changeSet>
	
	<changeSet id="3.4" author="vijaya.a">
		<createView viewName="CD_Merchants_VIEW" replaceIfExists="true">
			  SELECT t1.merchantId,
    			t1.merchantName,
   				t1.storeId,
    			t1.storeName,     
    			t1.storeAddressLine1,
    			t1.storeAddressLine2,
    			t1.storeAddressLine3,
    			t1.storeCity,
    			t1.storeState,
         		t1.storeCountry,
         		t1.cityName,
          		t1.stateName,
          		t1.countryName,
    			t1.pOSID,
    			t1.avgTranPerMnth,
    			t1.avgTranAmtPerMnth,
    			t1.tranAmtPerTran,
    			t1.tranAmtPerDay,
    			t1.allowRefund,
    			t1.peakTransPerDay,
    			t1.channel,
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_Merchants_Temp t1
			UNION ALL
 			SELECT t1.merchantId,
    			t1.merchantName,
   				t1.storeId,
    			t1.storeName,     
    			t1.storeAddressLine1,
    			t1.storeAddressLine2,
    			t1.storeAddressLine3,
    			t1.storeCity,
    			t1.storeState,
    			t1.storeCountry,
         		t1.cityName,
          		t1.stateName,
          		t1.countryName,
    			t1.pOSID,
    			t1.avgTranPerMnth,
    			t1.avgTranAmtPerMnth,
    			t1.tranAmtPerTran,
    			t1.tranAmtPerDay,
    			t1.allowRefund,
    			t1.peakTransPerDay,
    			t1.channel,
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_Merchants t1
  			WHERE NOT (EXISTS ( SELECT 1
            FROM CD_Merchants_Temp
            WHERE CD_Merchants_Temp.merchantId = t1.merchantId))
		</createView>
	</changeSet>

	<changeSet id="3.5" author="vijaya.a">
		<createView viewName="CD_Merchants_AVIEW" replaceIfExists="true">
			  SELECT t1.merchantId,
    			t1.merchantName,
   				t1.storeId,
    			t1.storeName,     
    			t1.storeAddressLine1,
    			t1.storeAddressLine2,
    			t1.storeAddressLine3,
    			t1.storeCity,
    			t1.storeState,
    			t1.storeCountry,
         		t1.cityName,
          		t1.stateName,
          		t1.countryName,
    			t1.pOSID,
    			t1.avgTranPerMnth,
    			t1.avgTranAmtPerMnth,
    			t1.tranAmtPerTran,
    			t1.tranAmtPerDay,
    			t1.allowRefund,
    			t1.peakTransPerDay,
    			t1.channel,
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_Merchants t1
		</createView>
	</changeSet>
	
	<changeSet id="3.6" author="vijaya.a">
		<createView viewName="CD_Merchants_TVIEW" replaceIfExists="true">
			  SELECT t1.merchantId,
    			t1.merchantName,
   				t1.storeId,
    			t1.storeName,     
    			t1.storeAddressLine1,
    			t1.storeAddressLine2,
    			t1.storeAddressLine3,
    			t1.storeCity,
    			t1.storeState,
    			t1.storeCountry,
          		t1.cityName,
          		t1.stateName,
          		t1.countryName,
    			t1.pOSID,
    			t1.avgTranPerMnth,
    			t1.avgTranAmtPerMnth,
    			t1.tranAmtPerTran,
    			t1.tranAmtPerDay,
    			t1.allowRefund,
    			t1.peakTransPerDay,
    			t1.channel,
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_Merchants_Temp t1
		</createView>
	</changeSet>
	
	<changeSet id="4" author="vijaya.a">
		<sql>
			<![CDATA[
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
				
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_MANUFACTURERS_VIEW', 'Role for manufacturer enquiry', NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_MANUFACTURERS_MAKER', 'Role for manufacturer maker',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0) ;
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_MANUFACTURERS_APPROVER', 'Role for manufacturer approver', NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0) ;
								
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_MANUFACTURERS_VIEW', 'Group for manufacturer enquiry', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_MANUFACTURERS_MAKER', 'Group for manufacturer maker', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_MANUFACTURERS_APPROVER', 'Group for manufacturer approver', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),0, 'menuItem_CDManufacturers','MENU', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDManufacturersList_PrintList','CDManufacturersList', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDManufacturersList_NewManufacturer','CDManufacturersList', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDManufacturersDialogue_btnNew','CDManufacturersDialogue', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDManufacturersDialogue_btnEdit','CDManufacturersDialogue', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDManufacturersDialogue_btnDelete','CDManufacturersDialogue', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDManufacturersDialogue_btnSave','CDManufacturersDialogue', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'CDManufacturersDialogue_Name', 'CDManufacturersDialogue', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'CDManufacturersDialogue_Description','CDManufacturersDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'CDManufacturersDialogue_Channel','CDManufacturersDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'CDManufacturersDialogue_Active','CDManufacturersDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_VIEW'), (Select RightID from SecRights where RightName = 'button_CDManufacturersList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'menuItem_CDManufacturers'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'button_CDManufacturersList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'button_CDManufacturersList_NewManufacturer'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'button_CDManufacturersDialogue_btnNew'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'button_CDManufacturersDialogue_btnEdit'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'button_CDManufacturersDialogue_btnDelete'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'button_CDManufacturersDialogue_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'CDManufacturersDialogue_Name'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'CDManufacturersDialogue_Description'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'CDManufacturersDialogue_Channel'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_MAKER'), (Select RightID from SecRights where RightName = 'CDManufacturersDialogue_Active'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_APPROVER'), (Select RightID from SecRights where RightName = 'menuItem_CDManufacturers'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_APPROVER'), (Select RightID from SecRights where RightName = 'button_CDManufacturersList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MANUFACTURERS_APPROVER'), (Select RightID from SecRights where RightName = 'button_CDManufacturersDialogue_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_MANUFACTURERS_VIEW'),(select RoleID from secRoles where RoleCd='CD_MANUFACTURERS_VIEW'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_MANUFACTURERS_MAKER'),(select RoleID from secRoles where RoleCd='CD_MANUFACTURERS_MAKER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_MANUFACTURERS_APPROVER'),(select RoleID from secRoles where RoleCd='CD_MANUFACTURERS_APPROVER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID)  FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID)  FROM SECROLEGROUPS);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="5" author="vijaya.a">
		<sql>
			<![CDATA[
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
				
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_PRODUCT_VIEW', 'Role for product enquiry',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_PRODUCT_MAKER', 'Role for product maker',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL,NULL,NULL,NULL,NULL,0) ;
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_PRODUCT_APPROVER', 'Role for product approver',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL,NULL,NULL,NULL,NULL,0) ;
								
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_PRODUCT_VIEW', 'Group for product enquiry', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_PRODUCT_MAKER', 'Group for product maker', 		1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_PRODUCT_APPROVER', 'Group for product approver', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),0, 'menuItem_Product','MENU',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductList_PrintList','ProductList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductList_NewProduct','ProductList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductDialogue_btnNew','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductDialogue_btnEdit','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductDialogue_btnDelete','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductDialogue_btnSave','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductDialogue_ModuleId','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductDialogue_Description','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductDialogue_Name','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductDialogue_AssetDescription','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductDialogue_MinimumAmount','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductDialogue_MaximumAmount','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductDialogue_ModelStatus','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductDialogue_Channel','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductDialogue_Active','ProductDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_VIEW'), (Select RightID from SecRights where RightName = 'button_ProductList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'menuItem_Product'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductList_NewProduct'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductDialogue_btnNew'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductDialogue_btnEdit'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductDialogue_btnDelete'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductDialogue_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'ProductDialogue_ModuleId'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'ProductDialogue_Description'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'ProductDialogue_Name'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'ProductDialogue_AssetDescription'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'ProductDialogue_MinimumAmount'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'ProductDialogue_MaximumAmount'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'ProductDialogue_ModelStatus'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'ProductDialogue_Channel'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_MAKER'), (Select RightID from SecRights where RightName = 'ProductDialogue_Active'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_APPROVER'), (Select RightID from SecRights where RightName = 'menuItem_Product'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_APPROVER'), (Select RightID from SecRights where RightName = 'button_ProductList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_PRODUCT_APPROVER'), (Select RightID from SecRights where RightName = 'button_ProductDialogue_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_PRODUCT_VIEW'),(select RoleID from secRoles where RoleCd='CD_PRODUCT_VIEW'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_PRODUCT_MAKER'),(select RoleID from secRoles where RoleCd='CD_PRODUCT_MAKER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_PRODUCT_APPROVER'),(select RoleID from secRoles where RoleCd='CD_PRODUCT_APPROVER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID)  FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID)  FROM SECROLEGROUPS);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="6" author="Nageswar.p">
		<sql>
			<![CDATA[
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
				
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_MERCHANT_VIEW', 'Role for merchant enquiry',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_MERCHANT_MAKER', 'Role for merchant maker',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL,NULL,NULL,NULL,NULL,0) ;
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_MERCHANT_APPROVER', 'Role for merchant approver',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL,NULL,NULL,NULL,NULL,0) ;
								
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_MERCHANT_VIEW', 'Group for merchant enquiry', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_MERCHANT_MAKER', 'Group for merchant maker', 		1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_MERCHANT_APPROVER', 'Group for merchant approver', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),0, 'menuItem_Merchant','MENU',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_MerchantList_PrintList','MerchantList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_MerchantList_NewProduct','MerchantList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_MerchantDialogue_btnNew','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_MerchantDialogue_btnEdit','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_MerchantDialogue_btnDelete','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_MerchantDialogue_btnSave','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_Name','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_StoreId','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_StoreName','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_AddressLine1','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_AddressLine2','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_AddressLine3','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_City','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_State','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_Pincode','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_Active','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_TransactionsPerMonth','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_AmountPerMonth','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_LimitPerTransaction','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_LimitPerDay','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_TransactionPerDay','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_RefundAllowed','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'MerchantDialogue_Channel','MerchantDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_VIEW'), (Select RightID from SecRights where RightName = 'button_MerchantList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'menuItem_Merchant'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'button_MerchantList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'button_MerchantList_NewProduct'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'button_MerchantDialogue_btnNew'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'button_MerchantDialogue_btnEdit'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'button_MerchantDialogue_btnDelete'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'button_MerchantDialogue_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_Name'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_StoreId'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_StoreName'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_AddressLine1'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_AddressLine2'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_AddressLine3'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_City'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_State'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_Pincode'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_Active'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_TransactionsPerMonth'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_AmountPerMonth'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_LimitPerTransaction'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_LimitPerDay'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_TransactionPerDay'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_RefundAllowed'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_MAKER'), (Select RightID from SecRights where RightName = 'MerchantDialogue_Channel'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_APPROVER'), (Select RightID from SecRights where RightName = 'menuItem_Merchant'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_APPROVER'), (Select RightID from SecRights where RightName = 'button_MerchantList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_MERCHANT_APPROVER'), (Select RightID from SecRights where RightName = 'button_MerchantDialogue_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_MERCHANT_VIEW'),(select RoleID from secRoles where RoleCd='CD_MERCHANT_VIEW'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_MERCHANT_MAKER'),(select RoleID from secRoles where RoleCd='CD_MERCHANT_MAKER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_MERCHANT_APPROVER'),(select RoleID from secRoles where RoleCd='CD_MERCHANT_APPROVER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID)  FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID)  FROM SECROLEGROUPS);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="6.1" author="Nageswar.p">
		<sql>
			<![CDATA[
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
				
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'DEALERMAPPING_VIEW', 'Role for DealerMapping enquiry',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'DEALERMAPPING_MAKER', 'Role for DealerMapping maker',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL,NULL,NULL,NULL,NULL,0) ;
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'DEALERMAPPING_APPROVER', 'Role for DealerMapping approver',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL,NULL,NULL,NULL,NULL,0) ;
							
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'DEALERMAPPING_VIEW', 'Group for DealerMapping enquiry', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'DEALERMAPPING_MAKER', 'Group for DealerMapping maker', 		1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'DEALERMAPPING_APPROVER', 'Group for DealerMapping approver', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),0, 'menuItem_DealerMapping','MENU',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerMappingList_PrintList','DealerMappingList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerMappingList_NewProduct','DealerMappingList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerMappingDialog_btnNew','DealerMappingDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerMappingDialog_btnEdit','DealerMappingDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerMappingDialog_btnDelete','DealerMappingDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerMappingDialog_btnSave','DealerMappingDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'DealerMappingDialog_MerchantName','DealerMappingDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'DealerMappingDialog_StoreName','DealerMappingDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'DealerMappingDialog_Active','DealerMappingDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_VIEW'), (Select RightID from SecRights where RightName = 'button_DealerMappingList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'menuItem_DealerMapping'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerMappingList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerMappingList_NewProduct'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerMappingDialog_btnNew'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerMappingDialog_btnEdit'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerMappingDialog_btnDelete'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerMappingDialog_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'DealerMappingDialog_MerchantName'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'DealerMappingDialog_StoreName'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'DealerMappingDialog_Active'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_APPROVER'), (Select RightID from SecRights where RightName = 'menuItem_DealerMapping'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_APPROVER'), (Select RightID from SecRights where RightName = 'button_DealerMappingList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_APPROVER'), (Select RightID from SecRights where RightName = 'button_DealerMappingDialog_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='DEALERMAPPING_VIEW'),(select RoleID from secRoles where RoleCd='DEALERMAPPING_VIEW'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='DEALERMAPPING_MAKER'),(select RoleID from secRoles where RoleCd='DEALERMAPPING_MAKER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='DEALERMAPPING_APPROVER'),(select RoleID from secRoles where RoleCd='DEALERMAPPING_APPROVER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID)  FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID)  FROM SECROLEGROUPS);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="7" author="Nageswar.p" dbms="postgresql, oracle">
		<createSequence sequenceName="SEQCD_DEALERMAPPING" />
	</changeSet>

	<changeSet id="7.1" author="Nageswar.p" dbms="mssql">
		<createTable tableName="SEQCD_DEALERMAPPING">
			<column name="SeqNo" type="bigint" autoIncrement="true" />
			<column name="Value" type="int"></column>
		</createTable>
	</changeSet>
	
	<changeSet id="7.2" author="Nageswar.p">
		<createTable tableName="CD_DealerMapping">
			<column name="DealerMapId" type="int">
				<constraints nullable="false" primaryKey="true" primaryKeyName="PK_CD_DEALERMAP_ID" />
			</column>
			<column name="MerchantId" type="int">
			</column>
			<column name="StoreId" type="int">
			</column>
			<column name="DealerCode" type="int">
			</column>
			<column name="Active" type="boolean"/>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="7.3" author="Nageswar.p">
		<createTable tableName="CD_DealerMapping_Temp">
			<column name="DealerMapId" type="int">
				<constraints nullable="false" primaryKey="true" primaryKeyName="PK_CD_DEALERMAP_T_ID" />
			</column>
			<column name="MerchantId" type="int">
			</column>
			<column name="StoreId" type="int">
			</column>
			<column name="DealerCode" type="int">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="Active" type="boolean"/>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="7.4" author="Nageswar.p">
		<createView viewName="CD_DealerMapping_VIEW" replaceIfExists="true">
			  SELECT t1.dealerMapId,
    			t1.MerchantId,
   				t1.storeId,
    			t1.dealerCode,
    			t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			   FROM CD_DealerMapping_Temp t1
			UNION ALL
 			SELECT t1.dealerMapId,
    			t1.MerchantId,
   				t1.storeId,
    			t1.dealerCode,
    			t1.active,    
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_DealerMapping t1
  			WHERE NOT (EXISTS (SELECT 1
            FROM CD_DealerMapping_Temp 
            WHERE CD_DealerMapping_Temp.dealerMapId = t1.dealerMapId))
		</createView>
	</changeSet>

	<changeSet id="7.5" author="Nageswar.p">
		<createView viewName="CD_DealerMapping_AVIEW" replaceIfExists="true">
			  SELECT t1.dealerMapId,
    			t1.MerchantId,
   				t1.storeId,
    			t1.dealerCode,
    			t1.active,   
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_DealerMapping t1
		</createView>
	</changeSet>
	
	<changeSet id="7.6" author="Nageswar.p">
		<createView viewName="CD_DealerMapping_TVIEW" replaceIfExists="true">
			  SELECT t1.dealerMapId,
    			t1.MerchantId,
   				t1.storeId,
    			t1.dealerCode,
    			t1.active,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_DealerMapping_Temp t1
		</createView>
	</changeSet>
	
	<changeSet id="7.7" author="Nageswar.p">
		<sql>
		<![CDATA[
		INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerMappingList_DealerMappingSearchDialog','DealerMappingList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
		INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerMappingList_NewDealerMapping','DealerMappingList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
		
		INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_VIEW'), (Select RightID from SecRights where RightName = 'button_DealerMappingList_DealerMappingSearchDialog'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerMappingList_DealerMappingSearchDialog'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_APPROVER'), (Select RightID from SecRights where RightName = 'button_DealerMappingList_DealerMappingSearchDialog'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
		INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERMAPPING_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerMappingList_NewDealerMapping'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);	
		]]>
		</sql>
	</changeSet>
	
	<!--  <changeSet id="8" author="Shahbaj.b" dbms="postgresql, oracle">
		<createSequence sequenceName="SEQCD_DEALERGROUP" />
	</changeSet>

	<changeSet id="8.1" author="Shahbaj.b" dbms="oracle">
		<createTable tableName="SEQCD_DEALERGROUP">
			<column name="SeqNo" type="bigint" autoIncrement="true" />
			<column name="Value" type="int"></column>
		</createTable>
	</changeSet> -->
	
	<changeSet id="8.2" author="Shahbaj.b">
		<createTable tableName="CD_DealerGroup">
			<column name="DealerGroupId" type="int">
				<constraints nullable="false"/>
			</column>
			<column name="DealerCode" type="varchar(8)">
			</column>
			<column name="DealerCategoryId" type="int">
			</column>
			<column name="Channel" type="varchar(8)">
			</column>
			<column name="Active" type = "boolean">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="8.3" author="Shahbaj.b">
		<createTable tableName="CD_DealerGroup_Temp">
			<column name="DealerGroupId" type="int">
				<constraints nullable="false"/>
			</column>
			<column name="DealerCode" type="varchar(8)">
			</column>
			<column name="DealerCategoryId" type="int">
			</column>
			<column name="Channel" type="varchar(8)">
			</column>
			<column name="Active" type = "boolean">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="8.4" author="Shahbaj.b">
		<createView viewName="CD_DealerGroup_VIEW" replaceIfExists="true">
			  SELECT t1.dealerGroupId,
    			t1.dealercode,
   				t1.dealercategoryid,
    			t1.channel,
    			t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_DealerGroup_Temp t1
			UNION ALL
 			SELECT t1.dealerGroupId,
    			t1.dealercode,
   				t1.dealercategoryid,
    			t1.channel,
    			t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_DealerGroup t1
  			WHERE NOT (EXISTS ( SELECT 1
            FROM CD_DealerGroup_Temp
            WHERE CD_DealerGroup_Temp.dealerGroupId = t1.dealerGroupId))
		</createView>
	</changeSet>

	<changeSet id="8.5" author="Shahbaj.b">
		<createView viewName="CD_DealerGroup_AVIEW" replaceIfExists="true">
			  SELECT t1.dealerGroupId,
    			t1.dealercode,
   				t1.dealercategoryid,
    			t1.channel,
    			t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_DealerGroup t1
		</createView>
	</changeSet>
	
	<changeSet id="8.6" author="Shahbaj.b">
		<createView viewName="CD_DealerGroup_TVIEW" replaceIfExists="true">
			 SELECT t1.dealerGroupId,
    			t1.dealercode,
   				t1.dealercategoryid,
    			t1.channel,
    			t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_DealerGroup_Temp t1
		</createView>
	</changeSet>
	<changeSet id="8.7" author="Shahbaj.b">
		<sql>
			<![CDATA[
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
				
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'DEALERGROUP_VIEW', 'Role for Dealer Group enquiry',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'DEALERGROUP_MAKER', 'Role for Dealer Group maker',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL,NULL,NULL,NULL,NULL,0) ;
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'DEALERGROUP_APPROVER', 'Role for Dealer Group approver',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL,NULL,NULL,NULL,NULL,0) ;
							
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'DEALERGROUP_VIEW', 'Group for Dealer Group enquiry', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'DEALERGROUP_MAKER', 'Group for Dealer Group maker', 		1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'DEALERGROUP_APPROVER', 'Group for Dealer Group approver', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),0, 'menuItem_DealerGroup','MENU',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerGroupList_PrintList','DealerGroupList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerGroupList_NewDealerGroup','DealerGroupList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerGroupDialog_btnNew','DealerGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerGroupDialog_btnEdit','DealerGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerGroupDialog_btnDelete','DealerGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_DealerGroupDialog_btnSave','DealerGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'DealerGroupDialog_DealerCode','DealerGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'DealerGroupDialog_DealerCategoryId','DealerGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'DealerGroupDialog_Channel','DealerGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'DealerGroupDialog_Active','DealerGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_VIEW'), (Select RightID from SecRights where RightName = 'button_DealerGroupList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'menuItem_DealerGroup'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerGroupList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerGroupList_NewDealerGroup'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerGroupDialog_btnNew'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerGroupDialog_btnEdit'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerGroupDialog_btnDelete'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_DealerGroupDialog_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'DealerGroupDialog_DealerCode'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'DealerGroupDialog_DealerCategoryId'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'DealerGroupDialog_Channel'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'DealerGroupDialog_Active'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_APPROVER'), (Select RightID from SecRights where RightName = 'menuItem_DealerGroup'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_APPROVER'), (Select RightID from SecRights where RightName = 'button_DealerGroupList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'DEALERGROUP_APPROVER'), (Select RightID from SecRights where RightName = 'button_DealerGroupDialog_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='DEALERGROUP_VIEW'),(select RoleID from secRoles where RoleCd='DEALERGROUP_VIEW'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='DEALERGROUP_MAKER'),(select RoleID from secRoles where RoleCd='DEALERGROUP_MAKER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='DEALERGROUP_APPROVER'),(select RoleID from secRoles where RoleCd='DEALERGROUP_APPROVER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID)  FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID)  FROM SECROLEGROUPS);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="10" author="Nageswar.p">
		<createSequence sequenceName="SEQCD_DEALERMAPPING_Code" 
		incrementBy="1" maxValue="999999999999999" startValue="1"/>
	</changeSet>
	<changeSet id="9" author="Shahbaj.b" dbms="postgresql, oracle">
		<createSequence sequenceName="SEQPRODUCTGROUP" />
	</changeSet>

	<changeSet id="9.1" author="Shahbaj.b" dbms="mssql">
		<createTable tableName="SEQPRODUCTGROUP">
			<column name="SeqNo" type="bigint" autoIncrement="true" />
			<column name="Value" type="int"></column>
		</createTable>
	</changeSet>
	
	<changeSet id="9.2" author="Shahbaj.b">
		<createTable tableName="ProductGroup">
			<column name="ProductGroupId" type="int">
				<constraints nullable="false"/>
			</column>
			<column name="ModelId" type="varchar(8)">
			</column>
			<column name="ProductCategoryId" type="int">
			</column>
			<column name="Channel" type="int">
			</column>
			<column name="Active" type = "boolean">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="9.3" author="Shahbaj.b">
		<createTable tableName="ProductGroup_Temp">
			<column name="ProductGroupId" type="int">
				<constraints nullable="false"/>
			</column>
			<column name="ModelId" type="varchar(8)">
			</column>
			<column name="ProductCategoryId" type="int">
			</column>
			<column name="Channel" type="int">
			</column>
			<column name="Active" type = "boolean">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="9.4" author="Shahbaj.b">
		<createView viewName="ProductGroup_VIEW" replaceIfExists="true">
			 SELECT t1.productGroupId,
    			t1.modelId,
   				t1.productcategoryid,
    			t1.channel,
    			t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM ProductGroup_Temp t1
			UNION ALL
 			SELECT t1.productGroupId,
    			t1.modelId,
   				t1.productcategoryid,
    			t1.channel,
    			t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM ProductGroup t1
  			WHERE NOT (EXISTS ( SELECT 1
            FROM ProductGroup_Temp
            WHERE ProductGroup_Temp.productGroupId = t1.productGroupId))
		</createView>
	</changeSet>

	<changeSet id="9.5" author="Shahbaj.b">
		<createView viewName="ProductGroup_AVIEW" replaceIfExists="true">
			  SELECT t1.productGroupId,
    			t1.modelId,
   				t1.productcategoryid,
    			t1.channel,
    			t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM ProductGroup t1
		</createView>
	</changeSet>
	
	<changeSet id="9.6" author="Shahbaj.b">
		<createView viewName="ProductGroup_TVIEW" replaceIfExists="true">
			 SELECT t1.productGroupId,
    			t1.modelId,
   				t1.productcategoryid,
    			t1.channel,
    			t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM ProductGroup_Temp t1
		</createView>
	</changeSet>
	
	<changeSet id="9.7" author="Shahbaj.b">
		<sql>
			<![CDATA[
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
				
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'PRODUCTGROUP_VIEW', 'Role for Product Group enquiry',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'PRODUCTGROUP_MAKER', 'Role for Product Group maker',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL,NULL,NULL,NULL,NULL,0) ;
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'PRODUCTGROUP_APPROVER', 'Role for Product Group approver',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL,NULL,NULL,NULL,NULL,0) ;
							
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'PRODUCTGROUP_VIEW', 'Group for Product Group enquiry', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'PRODUCTGROUP_MAKER', 'Group for Product Group maker', 		1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'PRODUCTGROUP_APPROVER', 'Group for Product Group approver', 	1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL,NULL, 0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),0, 'menu_Item_ProductGroup','MENU',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductGroupList_PrintList','ProductGroupList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductGroupList_NewProductGroup','ProductGroupList',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductGroupDialog_btnNew','ProductGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductGroupDialog_btnEdit','ProductGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductGroupDialog_btnDelete','ProductGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_ProductGroupDialog_btnSave','ProductGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductGroupDialog_ModelCode','ProductGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductGroupDialog_ProductCategoryId','ProductGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductGroupDialog_Channel','ProductGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'ProductGroupDialog_Active','ProductGroupDialog',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_VIEW'), (Select RightID from SecRights where RightName = 'button_ProductGroupList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'menu_Item_ProductGroup'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductGroupList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductGroupList_NewProductGroup'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductGroupDialog_btnNew'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductGroupDialog_btnEdit'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductGroupDialog_btnDelete'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_ProductGroupDialog_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'ProductGroupDialog_ModelCode'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'ProductGroupDialog_ProductCategoryId'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'ProductGroupDialog_Channel'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_MAKER'), (Select RightID from SecRights where RightName = 'ProductGroupDialog_Active'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_APPROVER'), (Select RightID from SecRights where RightName = 'menu_Item_ProductGroup'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_APPROVER'), (Select RightID from SecRights where RightName = 'button_ProductGroupList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'PRODUCTGROUP_APPROVER'), (Select RightID from SecRights where RightName = 'button_ProductGroupDialog_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='PRODUCTGROUP_VIEW'),(select RoleID from secRoles where RoleCd='PRODUCTGROUP_VIEW'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='PRODUCTGROUP_MAKER'),(select RoleID from secRoles where RoleCd='PRODUCTGROUP_MAKER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='PRODUCTGROUP_APPROVER'),(select RoleID from secRoles where RoleCd='PRODUCTGROUP_APPROVER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID)  FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID)  FROM SECROLEGROUPS);
			]]>
		</sql>
	</changeSet>	
	
	<changeSet id="10" author="vijaya.a" dbms="postgresql, oracle">
		<createSequence sequenceName="SEQCD_Scheme_DealerGroup" />
	</changeSet>

	<changeSet id="10.1" author="vijaya.a" dbms="mssql">
		<createTable tableName="SEQCD_Scheme_DealerGroup">
			<column name="SeqNo" type="bigint" autoIncrement="true" />
			<column name="Value" type="int"></column>
		</createTable>
	</changeSet>
	
	<changeSet id="10.2" author="vijaya.a">
		<createTable tableName="CD_Scheme_DealerGroup">
			<column name="PromotionId" type="int">
				<constraints nullable="false" primaryKey="true" primaryKeyName="PK_CD_PROMOTION_ID" />
			</column>
			<column name="SchemeId" type="varchar(20)">
			</column>
			<column name="DealerGroupCode" type="int">
			</column>
			<column name="Active" type="bit">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="10.3" author="vijaya.a">
		<createTable tableName="CD_Scheme_DealerGroup_Temp">
			<column name="PromotionId" type="int">
				<constraints nullable="false" primaryKey="true" primaryKeyName="PK_CD_PROMOTION_TEMP_ID" />
			</column>
			<column name="SchemeId" type="varchar(20)">
			</column>
			<column name="DealerGroupCode" type="int">
			</column>
			<column name="Active" type="bit">
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="10.3_post" author="vijaya.a">
		<addUniqueConstraint tableName="CD_SCHEME_DEALERGROUP_TEMP" columnNames="DealerGroupCode" 
			constraintName="UK_CDSCHM_DLRGRP_TEMP_CODE" />
		<addUniqueConstraint tableName="CD_SCHEME_DEALERGROUP" columnNames="DealerGroupCode"
			constraintName="UK_CD_SCHEME_DEALERGROUP_CODE" />
	</changeSet>
	
	<changeSet id="10.4" author="vijaya.a">
		<createView viewName="CD_Scheme_DealerGroup_VIEW" replaceIfExists="true">
			SELECT t1.promotionId,
				t1.schemeId,
    			t1.dealerGroupCode,
   				t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_Scheme_DealerGroup_Temp t1
			UNION ALL
 			SELECT t1.promotionId,
 				t1.schemeId,
    			t1.dealerGroupCode,
   				t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_Scheme_DealerGroup t1
  			WHERE NOT (EXISTS ( SELECT 1
            FROM CD_Scheme_DealerGroup_Temp
            WHERE CD_Scheme_DealerGroup_Temp.promotionId = t1.promotionId))
		</createView>
	</changeSet>

	<changeSet id="10.5" author="vijaya.a">
		<createView viewName="CD_Scheme_DealerGroup_AVIEW" replaceIfExists="true">
			SELECT t1.promotionId,
				t1.schemeId,
    			t1.dealerGroupCode,
   				t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_Scheme_DealerGroup t1
		</createView>
	</changeSet>
	
	<changeSet id="10.6" author="vijaya.a">
		<createView viewName="CD_Scheme_DealerGroup_TVIEW" replaceIfExists="true">
			  SELECT t1.promotionId,
			  	t1.schemeId,
    			t1.dealerGroupCode,
   				t1.active,     
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_Scheme_DealerGroup_Temp t1
		</createView>
	</changeSet>
	
	<changeSet id="10.7" author="vijaya.a">
		<sql>
			<![CDATA[
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
				
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_SCHEME_DEALERGROUP_VIEW', 'Role for scheme dealer group enquiry', NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_SCHEME_DEALERGROUP_MAKER', 'Role for scheme dealer group maker',	NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0) ;
				INSERT INTO SecRoles  VALUES ((select max(roleid)+1 from secroles), 1, 'CD_SCHEME_DEALERGROUP_APPROVER', 'Role for scheme dealer group approver', NULL, 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0) ;
								
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_SCHEME_DEALERGROUP_VIEW', 'Group for manufacturer enquiry', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_SCHEME_DEALERGROUP_MAKER', 'Group for manufacturer maker', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecGroups Values ((Select MAX(GrpID)+1 From SecGroups), 'CD_SCHEME_DEALERGROUP_APPROVER', 'Group for manufacturer approver', 1, 1000, CURRENT_TIMESTAMP, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),0, 'menuItem_CDSchemeDealerGroup','MENU', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDSchemeDealerGroupList_PrintList','CDSchemeDealerGroupList', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDSchemeDealerGroupList_NewSchemeDealerGroup','CDSchemeDealerGroupList', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDSchemeDealerGroupDialogue_btnNew','CDSchemeDealerGroupDialogue', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDSchemeDealerGroupDialogue_btnEdit','CDSchemeDealerGroupDialogue', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDSchemeDealerGroupDialogue_btnDelete','CDSchemeDealerGroupDialogue', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),2, 'button_CDSchemeDealerGroupDialogue_btnSave','CDSchemeDealerGroupDialogue', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'CDSchemeDealerGroupDialogue_SchemeId', 'CDSchemeDealerGroupDialogue', 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'CDSchemeDealerGroupDialogue_DealerGroupCode','CDSchemeDealerGroupDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				INSERT INTO SecRights Values ((select max(RightId)+1 from SecRights),3, 'CDSchemeDealerGroupDialogue_Active','CDSchemeDealerGroupDialogue',0,1000,current_timestamp,'Approved',NULL,NULL,NULL,NULL,NULL,0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_VIEW'), (Select RightID from SecRights where RightName = 'button_CDSchemeDealerGroupList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'menuItem_CDSchemeDealerGroup'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_CDSchemeDealerGroupList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_CDSchemeDealerGroupList_NewSchemeDealerGroup'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'CDSchemeDealerGroupDialogue_SchemeId'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'CDSchemeDealerGroupDialogue_DealerGroupCode'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'CDSchemeDealerGroupDialogue_Active'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_CDSchemeDealerGroupDialogue_btnNew'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_CDSchemeDealerGroupDialogue_btnEdit'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_CDSchemeDealerGroupDialogue_btnDelete'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_MAKER'), (Select RightID from SecRights where RightName = 'button_CDSchemeDealerGroupDialogue_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_APPROVER'), (Select RightID from SecRights where RightName = 'menuItem_CDSchemeDealerGroup'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_APPROVER'), (Select RightID from SecRights where RightName = 'button_CDSchemeDealerGroupList_PrintList'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				INSERT INTO secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode = 'CD_SCHEME_DEALERGROUP_APPROVER'), (Select RightID from SecRights where RightName = 'button_CDSchemeDealerGroupDialogue_btnSave'), 1, 1, 1000, current_timestamp, NULL, NULL, NULL, NULL, NULL, NULL, 0);
				
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_SCHEME_DEALERGROUP_VIEW'),(select RoleID from secRoles where RoleCd='CD_SCHEME_DEALERGROUP_VIEW'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_SCHEME_DEALERGROUP_MAKER'),(select RoleID from secRoles where RoleCd='CD_SCHEME_DEALERGROUP_MAKER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				Insert into secRoleGroups Values ((select MAX(RoleGrpID)+1 From secRoleGroups),(select GrpID from SecGroups where grpCode='CD_SCHEME_DEALERGROUP_APPROVER'),(select RoleID from secRoles where RoleCd='CD_SCHEME_DEALERGROUP_APPROVER'), 0, 1000, current_timestamp, 'Approved', NULL, NULL, NULL, NULL, NULL, 0);
				
				UPDATE SEQSECRIGHTS SET SEQNO = (SELECT MAX(RIGHTID) FROM SECRIGHTS);
				UPDATE SEQSECGROUPS SET SEQNO = (SELECT MAX(GRPID)  FROM SECGROUPS);
				UPDATE SEQSECROLES SET SEQNO = (SELECT MAX(ROLEID)  FROM SECROLES);
				UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID)  FROM SECGROUPRIGHTS);
				UPDATE SEQSECROLEGROUPS SET SEQNO = (SELECT MAX(ROLEGRPID)  FROM SECROLEGROUPS);
			]]>
		</sql>
	</changeSet>
	
	<changeSet id="10.1" author="Nageswar.p">
		<createView viewName="CD_DealerMapping_VIEW" replaceIfExists="true">
 			SELECT t1.dealerMapId,
    			t1.MerchantId,
   				t1.storeId,
    			t1.dealerCode,
    			t1.active,
          		t2.merchantName,
          		t2.storeName As storeName,
          		t2.storeCity As storeCity,
          		t2.STOREADDRESSLINE1 As storeAddress,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_DealerMapping_Temp t1 
         	left outer  Join Cd_Merchants t2 on t1.storeId = t2.storeId
			UNION ALL
 			SELECT t1.dealerMapId,
    			t1.MerchantId,
   				t1.storeId,
    			t1.dealerCode,
    			t1.active,  
          		t2.merchantName,
          		t2.storeName As storeName,
          		t2.storeCity As storeCity,
          		t2.STOREADDRESSLINE1 As storeAddress,
    			t1.version,
    			t1.lastmntby,
    			t1.lastmnton,
    			t1.recordstatus,
   				t1.rolecode,
    			t1.nextrolecode,
    			t1.taskid,
    			t1.nexttaskid,
    			t1.recordtype,
    			t1.workflowid
   			FROM CD_DealerMapping t1 
        	left outer Join Cd_Merchants t2 on  t1.storeId = t2.storeId
  			WHERE NOT (EXISTS (SELECT 1
            FROM CD_DealerMapping_Temp  
            WHERE CD_DealerMapping_Temp.dealerMapId = t1.dealerMapId))
		</createView>
	</changeSet>
	
</databaseChangeLog>	