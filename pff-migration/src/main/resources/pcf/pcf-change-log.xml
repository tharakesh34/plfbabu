<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="add.schema" value=" " dbms="postgresql" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PFFBFSQCAudit.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()::timestamp" dbms="postgresql" />
	<changeSet author="PCFAdmin" id="1">
        <createTable tableName="DepartmentCodes">
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="IncentiveId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="2">
        <createTable tableName="CollectionStrategyHeader_Temp">
            <column name="StrategyCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="StrategyCodeDesc" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="QCategoryCode" type="nvarchar(8)"/>
            <column name="OverdueType" type="char(5)">
                <constraints nullable="false"/>
            </column>
            <column name="Range" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="Interval" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="3">
        <createTable tableName="Alerts_Temp">
            <column name="AlertId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="AlertTypeCode" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="AssignUser" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Reference" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="Status" type="nvarchar(50)"/>
            <column name="Description" type="nvarchar(500)"/>
            <column name="AlertIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="4">
        <createTable tableName="DocumentDetails">
            <column name="DocId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DocModule" type="nvarchar(20)"/>
            <column name="DocCategory" type="nvarchar(20)"/>
            <column name="ReferenceId" type="nvarchar(50)"/>
            <column name="Doctype" type="nvarchar(5)"/>
            <column name="DocName" type="nvarchar(200)"/>
            <column name="DocImage" type="nclob"/>
            <column defaultValueNumeric="0" name="Version" type="int"/>
            <column name="LastMntBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="5">
        <createTable tableName="CustomerIdentity">
            <column name="CustCIF" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="IDType" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="CustId" type="nvarchar(50)"/>
            <column name="IDName" type="nvarchar(100)"/>
            <column name="IDNumber" type="nvarchar(50)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="6">
        <createTable tableName="CollectionScreenDetails">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="Name" type="nvarchar(50)"/>
            <column name="PrmyPhOrMobNo" type="nvarchar(20)"/>
            <column name="SocialSecurityId" type="nvarchar(50)"/>
            <column name="Typeofdebit" type="nvarchar(8)"/>
            <column name="AcNoOrCC" type="nvarchar(18)"/>
            <column defaultValueNumeric="0" name="DaysLstPayed" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="PartialyPaid" type="char(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CallStatus" type="nvarchar(1000)"/>
            <column name="PTPdates" type="datetime"/>
            <column name="CaseNumber" type="nvarchar(20)"/>
            <column name="LawyerName" type="nvarchar(50)"/>
            <column name="PoliceStationName" type="nvarchar(50)"/>
            <column name="ExternalAgent" type="nvarchar(50)"/>
            <column name="Datetransferred" type="datetime"/>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="CaseCloseddate" type="datetime"/>
            <column name="prefferedAddress" type="nvarchar(1000)"/>
            <column name="prefferedEmail" type="nvarchar(100)"/>
            <column name="Status" type="nvarchar(8)"/>
            <column name="RecInsOn" type="datetime"/>
            <column name="RecMntOn" type="datetime"/>
            <column defaultValueNumeric="0" name="CollUserId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Tat1" type="int"/>
            <column defaultValueNumeric="0" name="Tat2" type="int"/>
            <column defaultValueNumeric="0" name="Tat3" type="int"/>
            <column defaultValueNumeric="0" name="Tat4" type="int"/>
            <column defaultValueNumeric="0" name="Tat5" type="int"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CustId" type="bigint"/>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="CustCIF" type="nvarchar(50)"/>
            <column name="Freetext1" type="nclob"/>
            <column name="Freetext2" type="nclob"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column defaultValueComputed="0" name="reassignby" type="bigint"/>
            <column name="reassignDate" type="datetime"/>
            <column defaultValue="" name="ChqNumber" type="nvarchar(50)"/>
            <column defaultValue="" name="ChqBankName" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="ChqAmount" type="decimal(18, 0)"/>
            <column name="ChqIssuedDate" type="datetime"/>
            <column defaultValue="" name="CPRCopy" type="char(1)"/>
            <column defaultValue="" name="Passport" type="char(1)"/>
            <column defaultValue="" name="OriginalPromissoryNote" type="char(1)"/>
            <column defaultValue="" name="OriginalContract" type="char(1)"/>
            <column defaultValue="" name="HoldMovement" type="char(1)"/>
            <column defaultValue="" name="PlcCaseNumber" type="nvarchar(50)"/>
            <column name="PlcDateofSubmit" type="datetime"/>
            <column defaultValueNumeric="0" name="WriteOffAmount" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="WriteOffPerc" type="decimal(5, 2)"/>
            <column name="OtherNumber" type="nvarchar(20)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="7">
        <createTable tableName="SMTHolidayMaster_Temp">
            <column name="HolidayCode" type="varchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="HolidayYear" type="numeric(4, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="HolidayType" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="HolidayCodeDesc" type="varchar(50)"/>
            <column name="Holidays" type="nvarchar(1000)">
                <constraints nullable="false"/>
            </column>
            <column name="HolidayDesc1" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="HolidayDesc2" type="clob"/>
            <column name="HolidayDesc3" type="clob"/>
            <column defaultValueNumeric="0" name="Version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="8">
        <createTable tableName="TeamLeads_Temp">
            <column name="TeamleadId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ManagerId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="TeamleadNameUserid" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="TeamleadName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="9">
        <createTable tableName="SeqSecValidations">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="10">
        <createTable tableName="Alerts">
            <column name="AlertId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="AlertTypeCode" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="AssignUser" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Reference" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="Status" type="nvarchar(50)"/>
            <column name="Description" type="nvarchar(500)"/>
            <column name="AlertIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="11">
        <createTable tableName="PTApplicationDetails">
            <column name="AppID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="AppCode" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="AppDescription" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="AppLink" type="nvarchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="12">
        <createTable tableName="CardDescription">
            <column name="Id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="CardNumPrefix" type="nvarchar(20)"/>
            <column name="CardDesc" type="nvarchar(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="13">
        <createTable tableName="Overdue">
            <column name="OverdueType" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Range" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="14">
        <createTable tableName="Languages_Temp">
            <column name="LngCode" type="nchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="LngDesc" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="LngNumber" type="int"/>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="15">
        <createTable tableName="REPORTCONFIGURATION">
            <column name="REPORTID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="REPORTNAME" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="REPORTHEADING" type="varchar(1000)"/>
            <column name="PROMPTREQUIRED" type="char(1)"/>
            <column name="REPORTJASPERNAME" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="DATASOURCENAME" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="0" name="SHOWTEMPLIBRARY" type="char(1)">
                <constraints nullable="false"/>
            </column>
            <column name="MENUITEMCODE" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LASTMNTBY" type="bigint"/>
            <column name="RECORDSTATUS" type="varchar(50)"/>
            <column name="ROLECODE" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="NEXTROLECODE" type="varchar(200)"/>
            <column name="TASKID" type="varchar(50)"/>
            <column name="NEXTTASKID" type="varchar(200)"/>
            <column name="RECORDTYPE" type="varchar(1)"/>
            <column name="WORKFLOWID" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="AlwMultiFormat" type="nchar(1)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="16">
        <createTable tableName="PromiseCode">
            <column name="PromiseCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="PromiseCodeDesc" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="17">
        <createTable tableName="SeqDebtCollectionReceipt">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="18">
        <createTable tableName="SeqPTMenuDetails">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="19">
        <createTable tableName="SeqTemplates">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="20">
        <createTable tableName="SeqCollectorIncentives">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="21">
        <createTable tableName="Leaves_Temp">
            <column name="LeaveID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="AppliedDate" type="datetime"/>
            <column name="FromDate" type="datetime"/>
            <column name="ToDate" type="datetime"/>
            <column name="UserID" type="bigint"/>
            <column name="Active" type="nchar(1)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="22">
        <createTable tableName="SeqSecRights">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="23">
        <createTable tableName="Queries_Temp">
            <column name="QueryCode" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="QueryModule" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="QueryDesc" type="nvarchar(100)"/>
            <column name="SqlQuery" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="ActualBlock" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="SubQuery" type="char(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="varchar(50)"/>
            <column name="RoleCode" type="varchar(100)"/>
            <column name="NextRoleCode" type="varchar(200)"/>
            <column name="TaskId" type="varchar(50)"/>
            <column name="NextTaskId" type="varchar(200)"/>
            <column name="RecordType" type="varchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column name="Active" type="nchar(1)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="24">
        <createTable tableName="QueueCategories_Temp">
            <column name="QCategorycode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="QCategoryDesc" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="0" name="AllowSelection" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column defaultValue="0" name="AllowMovement" type="char(1)"/>
            <column defaultValue="" name="MovementType" type="nvarchar(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="25">
        <createTable tableName="SeqTakePaymentDetails">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="26">
        <createTable tableName="CardDataDetails">
            <column name="CIF" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="CRNNO" type="nvarchar(9)"/>
            <column name="CREDITCARDNO" type="nvarchar(16)">
                <constraints nullable="false"/>
            </column>
            <column name="CARDPRODUCT" type="char(20)"/>
            <column name="CREDITLIMIT" type="float(53)"/>
            <column name="CARDCREATEDATE" type="datetime"/>
            <column name="EXPIRYDATE" type="datetime"/>
            <column name="VALIDFROM" type="datetime"/>
            <column name="GENERALSTAT" type="char(4)"/>
            <column name="GENERALSTATDATE" type="datetime"/>
            <column name="CURMINAMOUNTDUE" type="float(53)"/>
            <column name="CUROVERDUEAMOUNT" type="float(53)"/>
            <column name="LASTPAYRECVAMOUNT" type="float(53)"/>
            <column name="LASTPAYRECVDATE" type="datetime"/>
            <column name="DELINQUENCYBUCKET" type="numeric(18, 0)"/>
            <column name="CUSTOMERNAME" type="varchar(20)"/>
            <column name="MOBILE" type="varchar(25)"/>
            <column name="HOMEPHONE" type="varchar(25)"/>
            <column name="OFFICEPHONE" type="varchar(25)"/>
            <column name="MAILINGADDRESS" type="varchar(100)"/>
            <column name="PRIMARYEMAILID" type="varchar(100)"/>
            <column name="SECONDARYEMAILID" type="varchar(100)"/>
            <column name="Bucket1" type="float(53)"/>
            <column name="Bucket2" type="float(53)"/>
            <column name="Bucket3" type="float(53)"/>
            <column name="Bucket4" type="float(53)"/>
            <column name="Bucket5" type="float(53)"/>
            <column name="Bucket6" type="float(53)"/>
            <column name="Bucket7" type="float(53)"/>
            <column name="Bucket8" type="float(53)"/>
            <column name="Bucket9" type="float(53)"/>
            <column name="Bucket10" type="float(53)"/>
            <column name="Bucket11" type="float(53)"/>
            <column name="Bucket12" type="float(53)"/>
            <column name="Freetext1" type="nvarchar(4000)"/>
            <column name="Freetext2" type="nvarchar(4000)"/>
            <column name="Freetext3" type="nvarchar(4000)"/>
            <column name="Freetext4" type="int"/>
            <column name="Freetext5" type="datetime"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="27">
        <createTable tableName="SecValidations">
            <column name="ValidId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="FieldName" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="28">
        <createTable tableName="Branches">
            <column name="BranchCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="BranchDesc" type="nvarchar(50)"/>
            <column name="BranchAddrLine1" type="nvarchar(50)"/>
            <column name="BranchAddrLine2" type="nvarchar(50)"/>
            <column name="BranchPOBox" type="nvarchar(8)"/>
            <column name="BranchCity" type="nvarchar(8)"/>
            <column name="BranchProvince" type="nvarchar(8)"/>
            <column name="BranchCountry" type="nchar(2)"/>
            <column name="BranchFax" type="nvarchar(50)"/>
            <column name="BranchTel" type="nvarchar(50)"/>
            <column name="BranchSwiftBankCde" type="nvarchar(4)"/>
            <column name="BranchSwiftCountry" type="nvarchar(2)"/>
            <column name="BranchSwiftLocCode" type="nvarchar(2)"/>
            <column name="BranchSwiftBrnCde" type="nvarchar(3)"/>
            <column name="BranchSortCode" type="nvarchar(9)"/>
            <column defaultValue="Y" name="BranchIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="29">
        <createTable tableName="SeqManagers">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="30">
        <createTable tableName="QueueCategories">
            <column name="QCategorycode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="QCategoryDesc" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column defaultValue="0" name="AllowSelection" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column defaultValue="0" name="AllowMovement" type="char(1)"/>
            <column defaultValue="" name="MovementType" type="nvarchar(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="31">
        <createTable tableName="SecLoginLog">
            <column name="LoginLogID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="loginUsrLogin" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="LoginTime" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="LoginIP" type="varchar(50)"/>
            <column name="LoginBrowserType" type="varchar(50)"/>
            <column name="LoginStsID" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LoginSessionID" type="varchar(50)"/>
            <column name="LogOutTime" type="datetime"/>
            <column name="LoginError" type="varchar(1000)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="32">
        <createTable tableName="PTPTolerances">
            <column name="ToleranceId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Tolerancecode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="ToleranceDesc" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="ToleranceAmt" type="decimal(18, 0)"/>
            <column name="AllowedPercent" type="decimal(18, 2)"/>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="ToleranceDays" type="numeric(3, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="33">
        <createTable tableName="SeqActionLog">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="34">
        <createTable tableName="SeqWorkFlowDetails">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="35">
        <createTable tableName="BATCH_JOB_EXECUTION_CONTEXT">
            <column name="JOB_EXECUTION_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="SHORT_CONTEXT" type="varchar(2500)">
                <constraints nullable="false"/>
            </column>
            <column name="SERIALIZED_CONTEXT" type="clob"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="36">
        <createTable tableName="PromiseLog">
            <column name="PromiseCount" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="PTPcode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="PromiseFreqCode" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="PayAmount" type="decimal(18, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="NoofPayments" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="PromiseStatus" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="DatePayArrStrtDate" type="datetime"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="37">
        <createTable tableName="Queues_Temp">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Description" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="CategoryCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="PriorityValue" type="numeric(3, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="QueueOwner" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="SelectionCriteria" type="nclob"/>
            <column name="SortOrder" type="nclob"/>
            <column name="LetterTemplate" type="bigint"/>
            <column name="AddrTypeCode" type="nvarchar(8)"/>
            <column name="SMSTemplate" type="bigint"/>
            <column name="EmailTemplate" type="bigint"/>
            <column name="AssignmenType" type="nvarchar(10)"/>
            <column name="PushToPDialer" type="nchar(1)"/>
            <column name="Toleranceid" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorName" type="nvarchar(50)"/>
            <column name="OverdueType" type="char(5)"/>
            <column name="Range" type="nvarchar(10)"/>
            <column name="StrategyCode" type="nvarchar(8)"/>
            <column name="FreeText2" type="nclob"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column defaultValue="" name="PTPRequired" type="nchar(1)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="38">
        <createTable tableName="CollNotes">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="NotesType" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="NotesTitle" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Notes" type="nvarchar(1000)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="39">
        <createTable tableName="SeqSecLoginLog">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="40">
        <createTable tableName="TakePaymentDetails_Temp">
            <column name="PaymentId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="PromiseCount" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="PaymentType" type="char(10)"/>
            <column name="AcCardNumber" type="nvarchar(20)"/>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="AcCardName" type="nvarchar(100)"/>
            <column name="AcCardAddress" type="nvarchar(1000)"/>
            <column name="CardExpireDate" type="datetime"/>
            <column name="PaymentDate" type="datetime"/>
            <column name="PaidAmount" type="decimal(18, 0)"/>
            <column name="Settlement" type="char(1)"/>
            <column name="FinalPayment" type="char(1)"/>
            <column name="PaymentStatus" type="nvarchar(8)"/>
            <column name="ExchangeRate" type="decimal(18, 0)"/>
            <column name="Freetext1" type="nclob"/>
            <column name="Freetext2" type="nclob"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="41">
        <createTable tableName="BMTDepartments">
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="DeptDesc" type="nvarchar(50)"/>
            <column defaultValue="1" name="DeptIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="42">
        <createTable tableName="CollNotes_Temp">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="NotesType" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="NotesTitle" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Notes" type="nvarchar(1000)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="43">
        <createTable tableName="ContactCodes">
            <column name="ContactCodeId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Contactcode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Description" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="ContactCodeGroup" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="DefaultFollowup" type="numeric(3, 0)"/>
            <column name="MinimumFollowUp" type="numeric(3, 0)"/>
            <column name="MaxFollowUp" type="numeric(3, 0)"/>
            <column name="LetterToBeSent" type="nchar(1)"/>
            <column name="LetterCode" type="nvarchar(10)"/>
            <column name="SMSToBeSent" type="nchar(1)"/>
            <column name="SMSCode" type="nvarchar(10)"/>
            <column name="ReviewCode" type="nchar(1)"/>
            <column name="PTPRequired" type="nchar(1)"/>
            <column name="NotesMandatory" type="nchar(1)"/>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="44">
        <createTable tableName="CardInstallment_Temp">
            <column name="CardNumber" type="nvarchar(16)"/>
            <column name="FinAmount" type="decimal(18, 0)"/>
            <column name="InstallmentAmount" type="decimal(18, 0)"/>
            <column name="NoOfInstllment" type="nvarchar(3)"/>
            <column name="ExtractionDate" type="datetime"/>
            <column name="FinanceDate" type="datetime"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="45">
        <createTable tableName="BATCH_JOB_EXECUTION">
            <column name="JOB_EXECUTION_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" type="bigint"/>
            <column name="JOB_INSTANCE_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CREATE_TIME" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="START_TIME" type="datetime"/>
            <column name="END_TIME" type="datetime"/>
            <column name="STATUS" type="varchar(10)"/>
            <column name="EXIT_CODE" type="varchar(100)"/>
            <column name="EXIT_MESSAGE" type="varchar(2500)"/>
            <column name="LAST_UPDATED" type="datetime"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="46">
        <createTable tableName="BMTIntRateBasisCodes">
            <column name="IntRateBasisCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="IntRateBasisDesc" type="nvarchar(50)"/>
            <column defaultValue="1" name="IntRateBasisIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="47">
        <createTable tableName="ErrorDetails">
            <column name="ErrorCode" type="nchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="ErrorLanguage" type="nchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="ErrorSeverity" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="ErrorMessage" type="varchar(100)"/>
            <column name="ErrorExtendedMessage" type="varchar(300)"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="48">
        <createTable tableName="SMTWeekendMaster_Temp">
            <column name="WeekendCode" type="varchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="WeekendDesc" type="varchar(50)"/>
            <column name="Weekend" type="varchar(20)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="49">
        <createTable tableName="CollectionDataDetails">
            <column name="CollDataId" type="nvarchar(25)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="QueueId" type="bigint"/>
            <column name="ProductRef" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="CustId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CustCIF" type="nvarchar(50)"/>
            <column defaultValue=" " name="CustName" type="nvarchar(100)"/>
            <column name="CustTypeCode" type="nvarchar(8)"/>
            <column name="ProductType" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="ProductCategory" type="nvarchar(20)"/>
            <column name="OverdueAmt" type="decimal(18, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="OverdueDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="OverdueDays" type="int"/>
            <column defaultValueNumeric="0" name="RecoverdAmount" type="decimal(18, 0)"/>
            <column name="Status" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Freetext1" type="nclob"/>
            <column name="Freetext2" type="nclob"/>
            <column name="Freetext3" type="nclob"/>
            <column defaultValueNumeric="0" name="Freetext4" type="int"/>
            <column name="CollDate" type="datetime"/>
            <column defaultValue="0" name="WriteOff" type="nchar(1)"/>
            <column defaultValue="0" name="BlackListed" type="nchar(1)"/>
            <column name="PereferedLang" type="nvarchar(10)"/>
            <column defaultValue="0" name="Delinquency" type="nchar(1)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column name="ClosedDate" type="datetime"/>
            <column defaultValueNumeric="0" name="TotOustandingAmt" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="Penalty" type="decimal(18, 0)"/>
            <column defaultValue="" name="ProCtgType" type="nvarchar(50)"/>
            <column defaultValue="" name="ProCtgTypedesc" type="nvarchar(50)"/>
            <column name="InstallmentAmount" type="decimal(18, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="50">
        <createTable tableName="CITY">
            <column name="CountryCode" type="varchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="ProvinceCode" type="varchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CityCode" type="varchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CityName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)"/>
            <column defaultValueNumeric="0" name="Version" type="int"/>
            <column name="LastMntBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="51">
        <createTable tableName="Rules">
            <column name="RuleId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RuleModule" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="RuleEvent" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="RuleCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="RuleCodeDesc" type="nvarchar(50)"/>
            <column name="WaiverDecider" type="nvarchar(1)"/>
            <column name="Waiver" type="nchar(1)"/>
            <column name="WaiverPerc" type="decimal(5, 2)"/>
            <column name="SQLRule" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="ActualBlock" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="52">
        <createTable tableName="SecUserPasswords">
            <column autoIncrement="true" name="UsrPwdId" type="bigint">
                <constraints primaryKey="true" primaryKeyName="PK_SecUserPasswords"/>
            </column>
            <column name="UsrID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="UsrPwd" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrToken" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="53">
        <createTable tableName="BATCH_JOB_SEQ">
            <column autoIncrement="true" name="ID" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="54">
        <createTable tableName="SeqDocumentDetails">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="55">
        <createTable tableName="BATCH_JOB_INSTANCE">
            <column name="JOB_INSTANCE_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" type="bigint"/>
            <column name="JOB_NAME" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="JOB_KEY" type="varchar(32)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="56">
        <createTable tableName="DocumentDetails_Temp">
            <column name="DocId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DocModule" type="nvarchar(20)"/>
            <column name="DocCategory" type="nvarchar(20)"/>
            <column name="ReferenceId" type="nvarchar(50)"/>
            <column name="Doctype" type="nvarchar(5)"/>
            <column name="DocName" type="nvarchar(200)"/>
            <column name="DocImage" type="nclob"/>
            <column defaultValueNumeric="0" name="Version" type="int"/>
            <column name="LastMntBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="57">
        <createTable tableName="Incentives_Temp">
            <column name="Code" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Name" type="nvarchar(50)"/>
            <column name="Type" type="nvarchar(10)"/>
            <column name="Term" type="nvarchar(20)"/>
            <column name="IncentiveRuleCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="FreeText1" type="nclob">
                <constraints nullable="false"/>
            </column>
            <column name="FreeText2" type="nclob">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="58">
        <createTable tableName="Queries">
            <column name="QueryCode" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="QueryModule" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="QueryDesc" type="nvarchar(100)"/>
            <column name="SqlQuery" type="clob"/>
            <column name="ActualBlock" type="clob"/>
            <column name="SubQuery" type="char(1)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="varchar(50)"/>
            <column name="RoleCode" type="varchar(100)"/>
            <column name="NextRoleCode" type="varchar(200)"/>
            <column name="TaskId" type="varchar(50)"/>
            <column name="NextTaskId" type="varchar(200)"/>
            <column name="RecordType" type="varchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column name="Active" type="nchar(1)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="59">
        <createTable tableName="SMTparameters_Temp">
            <column name="SysParmCode" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="SysParmDesc" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="SysParmType" type="varchar(20)"/>
            <column name="SysParmMaint" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="SysParmValue" type="varchar(50)"/>
            <column name="SysParmLength" type="int"/>
            <column name="SysParmDec" type="int"/>
            <column name="SysParmList" type="varchar(50)"/>
            <column name="SysParmValdMod" type="varchar(50)"/>
            <column name="SysParmDescription" type="varchar(500)"/>
            <column defaultValueNumeric="0" name="Version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="60">
        <createTable tableName="CardTransaction">
            <column name="CardNumber" type="nvarchar(16)"/>
            <column name="TransactionDate" type="datetime"/>
            <column name="TransactionAmount" type="decimal(18, 0)"/>
            <column name="Merchant" type="nvarchar(35)"/>
            <column name="Tenure" type="bigint"/>
            <column name="RefNumber" type="nvarchar(12)"/>
            <column name="InstallmentAmount" type="decimal(18, 0)"/>
            <column name="ReverseFlag" type="nvarchar(2)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="61">
        <createTable tableName="TemplateFields">
            <column name="id" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Module" type="nvarchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="Field" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="FieldDesc" type="nvarchar(70)"/>
            <column name="FieldFormat" type="nvarchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="TemplateType" type="nvarchar(1)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="62">
        <createTable tableName="SecRights">
            <column name="RightID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RightType" type="int"/>
            <column name="RightName" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="63">
        <createTable tableName="DashboardConfiguration">
            <column name="DashboardCode" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="DashboardDesc" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="DashboardType" type="varchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="dimension" type="varchar(2)"/>
            <column name="caption" type="varchar(50)"/>
            <column name="subCaption" type="varchar(50)"/>
            <column name="Query" type="nclob"/>
            <column name="remarks" type="nclob"/>
            <column name="DrillDownChart" type="nchar(1)"/>
            <column name="MultiSeries" type="nchar(1)"/>
            <column name="SeriesType" type="varchar(10)"/>
            <column name="SeriesValues" type="varchar(100)"/>
            <column name="FieldQuery" type="clob"/>
            <column name="DataXML" type="nclob"/>
            <column name="AdtDataSource" type="nchar(1)"/>
            <column name="Version" type="int"/>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(50)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="64">
        <createTable tableName="CollectionScreenDetails_Arch">
            <column name="ArchId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ArchDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="Name" type="nvarchar(50)"/>
            <column name="PrmyPhOrMobNo" type="nvarchar(20)"/>
            <column name="SocialSecurityId" type="nvarchar(50)"/>
            <column name="Typeofdebit" type="nvarchar(8)"/>
            <column name="AcNoOrCC" type="nvarchar(18)"/>
            <column defaultValueNumeric="0" name="DaysLstPayed" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="PartialyPaid" type="char(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CallStatus" type="nvarchar(1000)"/>
            <column name="PTPdates" type="datetime"/>
            <column name="CaseNumber" type="nvarchar(20)"/>
            <column name="LawyerName" type="nvarchar(50)"/>
            <column name="PoliceStationName" type="nvarchar(50)"/>
            <column name="ExternalAgent" type="nvarchar(50)"/>
            <column name="Datetransferred" type="datetime"/>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="CaseCloseddate" type="datetime"/>
            <column name="prefferedAddress" type="nvarchar(1000)"/>
            <column name="prefferedEmail" type="nvarchar(100)"/>
            <column name="Status" type="nvarchar(8)"/>
            <column name="RecInsOn" type="datetime"/>
            <column name="RecMntOn" type="datetime"/>
            <column defaultValueNumeric="0" name="CollUserId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Tat1" type="int"/>
            <column defaultValueNumeric="0" name="Tat2" type="int"/>
            <column defaultValueNumeric="0" name="Tat3" type="int"/>
            <column defaultValueNumeric="0" name="Tat4" type="int"/>
            <column defaultValueNumeric="0" name="Tat5" type="int"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CustId" type="bigint"/>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="CustCIF" type="nvarchar(50)"/>
            <column name="Freetext1" type="nclob"/>
            <column name="Freetext2" type="nclob"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column defaultValueComputed="0" name="reassignby" type="bigint"/>
            <column name="reassignDate" type="datetime"/>
            <column defaultValue="" name="ChqNumber" type="nvarchar(50)"/>
            <column defaultValue="" name="ChqBankName" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="ChqAmount" type="decimal(18, 0)"/>
            <column name="ChqIssuedDate" type="datetime"/>
            <column defaultValue="" name="CPRCopy" type="char(1)"/>
            <column defaultValue="" name="Passport" type="char(1)"/>
            <column defaultValue="" name="OriginalPromissoryNote" type="char(1)"/>
            <column defaultValue="" name="OriginalContract" type="char(1)"/>
            <column defaultValue="" name="HoldMovement" type="char(1)"/>
            <column defaultValue="" name="PlcCaseNumber" type="nvarchar(50)"/>
            <column name="PlcDateofSubmit" type="datetime"/>
            <column defaultValueNumeric="0" name="WriteOffAmount" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="WriteOffPerc" type="decimal(5, 2)"/>
            <column name="OtherNumber" type="nvarchar(8)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="65">
        <createTable tableName="SeqCollectors">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="66">
        <createTable tableName="SEQALERTS">
            <column name="SeqNo" type="int"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="67">
        <createTable tableName="SeqSecRoleGroups">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="68">
        <createTable tableName="GlobalVariable">
            <column name="VID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="VarCode" type="varchar(50)"/>
            <column name="VarName" type="varchar(50)"/>
            <column name="Varvalue" type="varchar(50)"/>
            <column name="VarType" type="varchar(20)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="69">
        <createTable tableName="ManualSMS_Temp">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="MobileNo" type="nvarchar(20)"/>
            <column name="Text" type="nvarchar(200)"/>
            <column name="Version" type="int"/>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="70">
        <createTable tableName="Strategy">
            <column name="StrategyTypeCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="StrategyTypeName" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="StrategyTemplateType" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Color" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="71">
        <createTable tableName="BMTRBFldDetails">
            <column name="RBModule" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="RBEvent" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="RBFldName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="RBFldDesc" type="nvarchar(50)"/>
            <column name="RBFldType" type="nvarchar(20)"/>
            <column name="RBFldLen" type="bigint"/>
            <column name="RBForCalFlds" type="nchar(1)"/>
            <column name="RBForBldFlds" type="nchar(1)"/>
            <column name="RBFldTableName" type="nvarchar(20)"/>
            <column name="RBSTFlds" type="nvarchar(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="72">
        <createTable tableName="SeqReportFilterFields">
            <column name="seqNo" type="int"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="73">
        <createTable tableName="SecGroupRights">
            <column name="GrpRightID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="GrpID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RightID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="AccessType" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="74">
        <createTable tableName="WorkFlowDetails">
            <column name="WorkFlowId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="WorkFlowType" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="WorkFlowSubType" type="varchar(50)"/>
            <column name="WorkFlowDesc" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="WorkFlowXml" type="xml"/>
            <column name="WorkFlowRoles" type="varchar(500)">
                <constraints nullable="false"/>
            </column>
            <column name="FirstTaskOwner" type="varchar(50)"/>
            <column name="WorkFlowActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="75">
        <createTable tableName="CollectorReassignment">
            <column name="ReassigmentId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="FromCollUserId" type="bigint"/>
            <column defaultValueNumeric="0" name="ToCollUserId" type="bigint"/>
            <column name="Fromdate" type="datetime"/>
            <column name="ToDate" type="datetime"/>
            <column name="ProductReferences" type="nclob"/>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="76">
        <createTable tableName="DepartmentCodes_Temp">
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="IncentiveId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="77">
        <createTable tableName="CallBackLog">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="MobileNo" type="nvarchar(20)"/>
            <column name="Contactcode" type="nvarchar(8)"/>
            <column name="ContactDate" type="datetime"/>
            <column name="CallBackDate" type="datetime"/>
            <column name="Time" type="datetime"/>
            <column name="AltMobileNo" type="nvarchar(20)"/>
            <column name="Comments" type="nvarchar(1000)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="FreeText1" type="nclob"/>
            <column name="FreeText2" type="nclob"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="78">
        <createTable tableName="SeqContactCodes">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="79">
        <createTable tableName="DashboardPositions">
            <column name="UsrId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DashboardRef" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="DashboardCol" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="DashboardRow" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int"/>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(50)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="80">
        <createTable tableName="SeqLawyerDetails">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="81">
        <createTable tableName="SeqSecGroups">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="82">
        <createTable tableName="BATCH_STEP_EXECUTION_CONTEXT">
            <column name="STEP_EXECUTION_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="SHORT_CONTEXT" type="varchar(2500)">
                <constraints nullable="false"/>
            </column>
            <column name="SERIALIZED_CONTEXT" type="clob"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="83">
        <createTable tableName="Branches_Temp">
            <column name="BranchCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="BranchDesc" type="nvarchar(50)"/>
            <column name="BranchAddrLine1" type="nvarchar(50)"/>
            <column name="BranchAddrLine2" type="nvarchar(50)"/>
            <column name="BranchPOBox" type="nvarchar(8)"/>
            <column name="BranchCity" type="nvarchar(8)"/>
            <column name="BranchProvince" type="nvarchar(8)"/>
            <column name="BranchCountry" type="nchar(2)"/>
            <column name="BranchFax" type="nvarchar(50)"/>
            <column name="BranchTel" type="nvarchar(50)"/>
            <column name="BranchSwiftBankCde" type="nvarchar(4)"/>
            <column name="BranchSwiftCountry" type="nvarchar(2)"/>
            <column name="BranchSwiftLocCode" type="nvarchar(2)"/>
            <column name="BranchSwiftBrnCde" type="nvarchar(3)"/>
            <column name="BranchSortCode" type="nvarchar(9)"/>
            <column defaultValue="Y" name="BranchIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="84">
        <createTable tableName="PromiseLog_Arch">
            <column name="ArchId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ArchDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="PromiseCount" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="PTPcode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="PromiseFreqCode" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="PayAmount" type="decimal(18, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="NoofPayments" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="PromiseStatus" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="DatePayArrStrtDate" type="datetime"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="85">
        <createTable tableName="CustTypes_Temp">
            <column name="CustTypeCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CustTypeCtg" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CustTypeDesc" type="nvarchar(100)"/>
            <column defaultValue="Y" name="CustTypeIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="86">
        <createTable tableName="CardDetail">
            <column name="CardNumber" type="nvarchar(16)">
                <constraints nullable="false"/>
            </column>
            <column name="CustName" type="nvarchar(70)"/>
            <column name="CustCRCPR" type="nvarchar(20)"/>
            <column name="TelephoneNum" type="nvarchar(20)"/>
            <column name="Address" type="nvarchar(140)"/>
            <column name="FinalOsAmount" type="decimal(18, 0)"/>
            <column name="MrlAmount" type="decimal(18, 0)"/>
            <column name="UnutilizedMrlAmt" type="decimal(18, 0)"/>
            <column name="DueAmount" type="decimal(18, 0)"/>
            <column name="UnpaidAmount" type="decimal(18, 0)"/>
            <column name="Dpd" type="bigint"/>
            <column name="LastPaymentDate" type="datetime"/>
            <column name="LastPaidAmount" type="decimal(18, 0)"/>
            <column name="TotPenaltyAmount" type="decimal(18, 0)"/>
            <column name="ReportDate" type="datetime"/>
            <column name="PaymentSource" type="nvarchar(35)"/>
            <column name="ExtractionDate" type="datetime"/>
            <column name="CustCIF" type="nvarchar(35)"/>
            <column name="BasicSalary" type="decimal(18, 0)"/>
            <column name="Allowances" type="decimal(18, 0)"/>
            <column name="EmpName" type="nvarchar(35)"/>
            <column name="Position" type="nvarchar(35)"/>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="Nationality" type="nvarchar(2)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="87">
        <createTable tableName="SeqRules">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="88">
        <createTable tableName="Collectors">
            <column name="CollectorId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="TeamleadId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorNameUserid" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="89">
        <createTable tableName="CollectorReassignment_Temp">
            <column name="ReassigmentId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="FromCollUserId" type="bigint"/>
            <column defaultValueNumeric="0" name="ToCollUserId" type="bigint"/>
            <column name="Fromdate" type="datetime"/>
            <column name="ToDate" type="datetime"/>
            <column name="ProductReferences" type="nclob"/>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="90">
        <createTable tableName="ExchangeRates">
            <column name="CcyCode" remarks="Currency Code" type="nchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyBuyRate" type="decimal(15, 9)"/>
            <column name="CcySellRate" type="decimal(15, 9)"/>
            <column name="CcyMidRate" type="decimal(15, 9)"/>
            <column defaultValueNumeric="0" name="Version" remarks="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" remarks="Last Mainted By" type="bigint"/>
            <column name="LastMntOn" remarks="Last Maintained Date and Time" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="91">
        <createTable tableName="Actions_Arch">
            <column name="ArchId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ArchDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="ActionId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="ActionCode" type="nvarchar(8)"/>
            <column name="Remarks" type="nclob"/>
            <column name="ReAssignCollector" type="nvarchar(20)"/>
            <column name="ReAssignType" type="nvarchar(3)"/>
            <column name="ReAssignBy" type="nvarchar(20)"/>
            <column name="ReAssignDate" type="datetime"/>
            <column name="Reason" type="nclob"/>
            <column name="MovetoAgency" type="char(1)"/>
            <column name="AgencyName" type="nvarchar(100)"/>
            <column name="ScdTransferDate" type="datetime"/>
            <column name="MAReason" type="nclob"/>
            <column name="ManualCureCase" type="char(1)"/>
            <column name="MCReason" type="nclob"/>
            <column name="Repossession" type="char(1)"/>
            <column name="RPReason" type="nclob"/>
            <column name="RepoProcessDate" type="datetime"/>
            <column name="Status" type="nvarchar(50)"/>
            <column name="Legal" type="char(1)"/>
            <column name="LgReason" type="nclob"/>
            <column name="Police" type="char(1)"/>
            <column name="PlcReason" type="nclob"/>
            <column name="FreeText1" type="nclob"/>
            <column name="FreeText2" type="nclob"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="92">
        <createTable tableName="Managers_Temp">
            <column name="ManagerId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="ManagerUserId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ManagerName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="93">
        <createTable tableName="BGPF1">
            <column name="BGEQF" type="nvarchar(2)"/>
            <column name="BGLPV" type="nvarchar(10)"/>
            <column name="BGIGR" type="nvarchar(5)"/>
            <column name="BGAB" type="nvarchar(4)"/>
            <column name="BGAN" type="nvarchar(6)"/>
            <column name="BGAS" type="nvarchar(3)"/>
            <column name="BGATP" type="nvarchar(2)"/>
            <column name="BGBOT" type="nvarchar(1)"/>
            <column name="BGBRNM" type="nvarchar(4)"/>
            <column name="BGCTNO" type="nvarchar(10)"/>
            <column name="BGCLR" type="nvarchar(35)"/>
            <column name="BGCMR" type="nvarchar(13)"/>
            <column name="BGCCY" type="nvarchar(3)"/>
            <column name="BGCUS" type="nvarchar(6)"/>
            <column name="BGCLC" type="nvarchar(3)"/>
            <column name="BGCUN" type="nvarchar(6)"/>
            <column name="BGCTP" type="nvarchar(2)"/>
            <column name="BGDLP" type="nvarchar(3)"/>
            <column name="BGDLR" type="nvarchar(13)"/>
            <column name="BGDREF" type="nvarchar(12)"/>
            <column name="BGDPI" type="nvarchar(3)"/>
            <column name="BGDNR" type="nvarchar(5)"/>
            <column name="BGCPE" type="nvarchar(16)"/>
            <column name="BGNST" type="nvarchar(6)"/>
            <column name="BGCPR" type="nvarchar(16)"/>
            <column name="BGREF" type="nvarchar(16)"/>
            <column name="BGSMN" type="nvarchar(16)"/>
            <column name="BGSOR" type="nvarchar(4)"/>
            <column name="BGSRF" type="nvarchar(4)"/>
            <column name="BGPBR" type="nvarchar(5)"/>
            <column name="BGPSQ" type="numeric(5, 0)"/>
            <column name="BGPOD" type="numeric(7, 0)"/>
            <column name="BGC001" type="nvarchar(1)"/>
            <column name="BGC002" type="nvarchar(2)"/>
            <column name="BGC003" type="nvarchar(35)"/>
            <column name="BGC004" type="nvarchar(35)"/>
            <column name="BGC005" type="numeric(7, 0)"/>
            <column name="BGC006" type="nvarchar(20)"/>
            <column name="BGC008" type="nvarchar(20)"/>
            <column name="BGC009" type="nvarchar(1)"/>
            <column name="BGC010" type="nvarchar(1)"/>
            <column name="BGC011" type="nvarchar(2)"/>
            <column name="BGC012" type="numeric(7, 0)"/>
            <column name="BGC013" type="nvarchar(1)"/>
            <column name="BGC014" type="nvarchar(35)"/>
            <column name="BGC015" type="nvarchar(8)"/>
            <column name="BGC016" type="nvarchar(7)"/>
            <column name="BGC017" type="nvarchar(20)"/>
            <column name="BGC018" type="nvarchar(20)"/>
            <column name="BGC019" type="nvarchar(1)"/>
            <column name="BGC020" type="nvarchar(20)"/>
            <column name="BGC021" type="nvarchar(20)"/>
            <column name="BGC022" type="nvarchar(35)"/>
            <column name="BGC023" type="nvarchar(35)"/>
            <column name="BGC024" type="nvarchar(20)"/>
            <column name="BGC025" type="nvarchar(2)"/>
            <column name="BGC026" type="nvarchar(10)"/>
            <column name="BGC028" type="nvarchar(35)"/>
            <column name="BGC029" type="nvarchar(35)"/>
            <column name="BGC030" type="nvarchar(10)"/>
            <column name="BGC031" type="nvarchar(35)"/>
            <column name="BGC032" type="nvarchar(15)"/>
            <column name="BGC033" type="nvarchar(35)"/>
            <column name="BGC034" type="nvarchar(2)"/>
            <column name="BGC035" type="numeric(7, 0)"/>
            <column name="BGC039" type="nvarchar(2)"/>
            <column name="BGC040" type="nvarchar(35)"/>
            <column name="BGC041" type="nvarchar(35)"/>
            <column name="BGC042" type="nvarchar(35)"/>
            <column name="BGC043" type="nvarchar(35)"/>
            <column name="BGC044" type="nvarchar(35)"/>
            <column name="BGC045" type="numeric(7, 0)"/>
            <column name="BGC046" type="nvarchar(1)"/>
            <column name="BGC047" type="nvarchar(20)"/>
            <column name="BGC048" type="nvarchar(35)"/>
            <column name="BGC049" type="nvarchar(35)"/>
            <column name="BGC050" type="nvarchar(2)"/>
            <column name="BGC051" type="nvarchar(2)"/>
            <column name="BGC052" type="nvarchar(2)"/>
            <column name="BGC053" type="nvarchar(2)"/>
            <column name="BGC054" type="nvarchar(2)"/>
            <column name="BGC055" type="nvarchar(35)"/>
            <column name="BGC056" type="numeric(7, 0)"/>
            <column name="BGC057" type="nvarchar(1)"/>
            <column name="BGC058" type="nvarchar(35)"/>
            <column name="BGC060" type="nvarchar(20)"/>
            <column name="BGC063" type="nvarchar(3)"/>
            <column name="BGC074" type="nvarchar(35)"/>
            <column name="BGC075" type="nvarchar(35)"/>
            <column name="BGC076" type="nvarchar(35)"/>
            <column name="BGOQR" type="nvarchar(2)"/>
            <column name="BGTAST" type="numeric(15, 0)"/>
            <column name="BGTEXP" type="numeric(15, 0)"/>
            <column name="BGTINC" type="numeric(15, 0)"/>
            <column name="BGTLIB" type="numeric(15, 0)"/>
            <column name="BGTOTS" type="nvarchar(15)"/>
            <column name="BGC078" type="nvarchar(10)"/>
            <column name="BGC082" type="nvarchar(10)"/>
            <column name="BGC083" type="nvarchar(1)"/>
            <column name="BGC084" type="nvarchar(1)"/>
            <column name="BGC007" type="numeric(8, 0)"/>
            <column name="BGC062" type="numeric(8, 0)"/>
            <column name="BGC085" type="nvarchar(2)"/>
            <column name="BGC086" type="numeric(7, 0)"/>
            <column name="BGC089" type="nvarchar(2)"/>
            <column name="BGC092" type="numeric(7, 0)"/>
            <column name="BGC093" type="numeric(7, 0)"/>
            <column name="BGC094" type="nvarchar(20)"/>
            <column name="BGC095" type="nvarchar(2)"/>
            <column name="BGC096" type="numeric(7, 0)"/>
            <column name="BGC097" type="nvarchar(20)"/>
            <column name="BGC098" type="nvarchar(2)"/>
            <column name="BGC099" type="nvarchar(20)"/>
            <column name="BGC100" type="nvarchar(35)"/>
            <column name="BGC101" type="numeric(7, 0)"/>
            <column name="BGC102" type="nvarchar(1)"/>
            <column name="BGC103" type="nvarchar(5)"/>
            <column name="BGC104" type="nvarchar(1)"/>
            <column name="BGC105" type="nvarchar(20)"/>
            <column name="BGC106" type="nvarchar(35)"/>
            <column name="BGC107" type="nvarchar(1)"/>
            <column name="BGC108" type="nvarchar(1)"/>
            <column name="BGC110" type="nvarchar(35)"/>
            <column name="BGC111" type="nvarchar(1)"/>
            <column name="BGTAIN" type="numeric(15, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="94">
        <createTable tableName="SeqLeaves">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="95">
        <createTable tableName="Currencies">
            <column name="CcyCode" remarks="Currency Code" type="nchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyNumber" remarks="Currency Number" type="nchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyDesc" remarks="Curreny Description" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="CcySwiftCode" remarks="Swift Currency Code" type="nchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyEditField" remarks="Edit Position" type="decimal(1, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyMinorCcyUnits" remarks="Number of Minor Currency Units" type="decimal(5, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyDrRateBasisCode" remarks="Interest Rate Bais for Debit Rates" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyCrRateBasisCode" remarks="Interest Rate Bais for Credit Rates" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyIsIntRounding" remarks="Is Interest Calculation to Be Rounded" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CcySpotRate" remarks="Spot Rate" type="decimal(15, 9)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyIsReceprocal" remarks="Is Currency Reciprocal to Base Curreny" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyUserRateBuy" remarks="Buy Rate from Usre" type="decimal(15, 9)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyUserRateSell" remarks="Sell Rate from Usre" type="decimal(15, 9)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyIsMember" remarks="Is Member Curreny" type="nchar(1)"/>
            <column name="CcyIsGroup" remarks="Is Group Currency" type="nchar(1)"/>
            <column name="CcyIsAlwForLoans" remarks="Is Allowed for Loans" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyIsAlwForDepo" remarks="Is Allowed for Deposits" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyIsAlwForAc" remarks="Is Allowed for Accounts" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyIsActive" type="nchar(1)"/>
            <column name="CcyMinorCcyDesc" type="nvarchar(50)"/>
            <column name="CcySymbol" type="nchar(3)"/>
            <column defaultValueNumeric="0" name="Version" remarks="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" remarks="Last Mainted By" type="bigint"/>
            <column name="LastMntOn" remarks="Last Maintained Date and Time" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="96">
        <createTable tableName="ExchangeRates_Temp">
            <column name="CcyCode" type="nchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyBuyRate" type="decimal(15, 9)"/>
            <column name="CcySellRate" type="decimal(15, 9)"/>
            <column name="CcyMidRate" type="decimal(15, 9)"/>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="97">
        <createTable tableName="COUNTRY">
            <column name="CountryCode" type="varchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="CountryName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="CountryISDCode" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CountryCurrencyCode" type="nvarchar(3)"/>
            <column name="Active" type="nchar(1)"/>
            <column defaultValueNumeric="0" name="Version" type="int"/>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="98">
        <createTable tableName="PTMenuDetails">
            <column name="MenuID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="MenuApp" type="bigint"/>
            <column name="MenuCode" type="nvarchar(100)"/>
            <column name="MenuRef" type="nvarchar(200)"/>
            <column name="MenuZulPath" type="nvarchar(200)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="99">
        <createTable tableName="SecGroups">
            <column name="GrpID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="GrpCode" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="GrpDesc" type="varchar(1000)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="100">
        <createTable tableName="CardInstallment">
            <column name="CardNumber" type="nvarchar(16)"/>
            <column name="FinAmount" type="decimal(18, 0)"/>
            <column name="InstallmentAmount" type="decimal(18, 0)"/>
            <column name="NoOfInstllment" type="nvarchar(3)"/>
            <column name="ExtractionDate" type="datetime"/>
            <column name="FinanceDate" type="datetime"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="101">
        <createTable tableName="TakePaymentDetails">
            <column name="PaymentId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="PromiseCount" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="PaymentType" type="char(10)"/>
            <column name="AcCardNumber" type="nvarchar(20)"/>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="AcCardName" type="nvarchar(100)"/>
            <column name="AcCardAddress" type="nvarchar(1000)"/>
            <column name="CardExpireDate" type="datetime"/>
            <column name="PaymentDate" type="datetime"/>
            <column name="PaidAmount" type="decimal(18, 0)"/>
            <column name="Settlement" type="char(1)"/>
            <column name="FinalPayment" type="char(1)"/>
            <column name="PaymentStatus" type="nvarchar(8)"/>
            <column name="ExchangeRate" type="decimal(18, 0)"/>
            <column name="Freetext1" type="nclob"/>
            <column name="Freetext2" type="nclob"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="102">
        <createTable tableName="SeqSecGroupRights">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="103">
        <createTable tableName="LawyerDetails">
            <column name="LawyerId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Categorie" type="nvarchar(30)"/>
            <column name="Name" type="nvarchar(50)"/>
            <column name="Address" type="nvarchar(100)"/>
            <column name="Country" type="varchar(2)"/>
            <column name="Province" type="varchar(8)"/>
            <column name="City" type="varchar(8)"/>
            <column name="PostalCode" type="nvarchar(10)"/>
            <column name="Phone" type="nvarchar(30)"/>
            <column name="Fax" type="varchar(30)"/>
            <column name="FreeText1" type="nvarchar(100)"/>
            <column name="FreeText2" type="varchar(100)"/>
            <column name="Active" type="nchar(1)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column name="LawEmail" type="nvarchar(50)"/>
            <column defaultValue="" name="LawyerRef" type="nvarchar(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="104">
        <createTable tableName="SeqSecUserPasswords">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="105">
        <createTable tableName="BATCH_JOB_PARAMS">
            <column name="JOB_INSTANCE_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="TYPE_CD" type="varchar(6)">
                <constraints nullable="false"/>
            </column>
            <column name="KEY_NAME" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="STRING_VAL" type="varchar(250)"/>
            <column name="DATE_VAL" type="datetime"/>
            <column name="LONG_VAL" type="bigint"/>
            <column name="DOUBLE_VAL" type="float(53)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="106">
        <createTable tableName="ActionLog">
            <column name="ActionLogID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ActionCode" type="nvarchar(50)"/>
            <column name="ProductRef" type="nvarchar(50)"/>
            <column name="ActionName" type="nvarchar(200)"/>
            <column defaultValueNumeric="0" name="QueueId" type="bigint"/>
            <column defaultValueNumeric="0" name="ToQueueId" type="bigint"/>
            <column defaultValueNumeric="0" name="CollUserId" type="bigint"/>
            <column defaultValueNumeric="0" name="ToCollUserId" type="bigint"/>
            <column name="ActionDate" type="datetime"/>
            <column name="Reason" type="nvarchar(1000)"/>
            <column defaultValueNumeric="0" name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="107">
        <createTable tableName="SeqPTPTolerances">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="108">
        <createTable tableName="AddressTypes_Temp">
            <column name="AddrTypeCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="AddrTypeDesc" type="varchar(50)"/>
            <column name="AddrTypePriority" type="decimal(4, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="AddrTypeActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="109">
        <createTable tableName="BATCH_JOB_EXECUTION_SEQ">
            <column autoIncrement="true" name="ID" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="110">
        <createTable tableName="REPORTSEARCHTEMPLATE">
            <column name="REPORTID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="FIELDID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="USRID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="TEMPLATENAME" type="varchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="TEMPLATEDESC" type="varchar(1000)"/>
            <column name="FIELDVALUE" type="varchar(500)">
                <constraints nullable="false"/>
            </column>
            <column name="FILTER" type="varchar(5)">
                <constraints nullable="false"/>
            </column>
            <column name="FIELDTYPE" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LASTMNTBY" type="bigint"/>
            <column name="LASTMNTON" type="datetime"/>
            <column name="RECORDSTATUS" type="varchar(50)"/>
            <column name="ROLECODE" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="NEXTROLECODE" type="varchar(200)"/>
            <column name="TASKID" type="varchar(50)"/>
            <column name="NEXTTASKID" type="varchar(200)"/>
            <column name="RECORDTYPE" type="varchar(1)"/>
            <column name="WORKFLOWID" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="111">
        <createTable tableName="PROVINCE">
            <column name="CountryCode" type="varchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="ProvinceCode" type="varchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="ProvinceName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)"/>
            <column defaultValueNumeric="0" name="Version" type="int"/>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="112">
        <createTable tableName="BMTIntRateBasisCodes_Temp">
            <column name="IntRateBasisCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="IntRateBasisDesc" type="nvarchar(50)"/>
            <column defaultValue="1" name="IntRateBasisIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="113">
        <createTable tableName="Actions">
            <column name="ActionId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="ActionCode" type="nvarchar(8)"/>
            <column name="Remarks" type="nclob"/>
            <column name="ReAssignCollector" type="nvarchar(20)"/>
            <column name="ReAssignType" type="nvarchar(3)"/>
            <column name="ReAssignBy" type="nvarchar(20)"/>
            <column name="ReAssignDate" type="datetime"/>
            <column name="Reason" type="nclob"/>
            <column name="MovetoAgency" type="char(1)"/>
            <column name="AgencyName" type="nvarchar(100)"/>
            <column name="ScdTransferDate" type="datetime"/>
            <column name="MAReason" type="nclob"/>
            <column name="ManualCureCase" type="char(1)"/>
            <column name="MCReason" type="nclob"/>
            <column name="Repossession" type="char(1)"/>
            <column name="RPReason" type="nclob"/>
            <column name="RepoProcessDate" type="datetime"/>
            <column name="Status" type="nvarchar(50)"/>
            <column name="Legal" type="char(1)"/>
            <column name="LgReason" type="nclob"/>
            <column name="Police" type="char(1)"/>
            <column name="PlcReason" type="nclob"/>
            <column name="FreeText1" type="nclob"/>
            <column name="FreeText2" type="nclob"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="114">
        <createTable tableName="SeqPromiseLog">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="115">
        <createTable tableName="RepossessionDetails_Temp">
            <column name="RepoId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint"/>
            <column name="AssertType" type="nvarchar(8)"/>
            <column name="CustId" type="bigint"/>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="OverdueAmt" type="decimal(18, 0)"/>
            <column name="OutstandingDbtAmt" type="decimal(18, 0)"/>
            <column name="DbtCurrency" type="nvarchar(3)"/>
            <column name="AssertMrktValue" type="decimal(18, 0)"/>
            <column name="TotalCharges" type="decimal(18, 0)"/>
            <column name="AmtRecovered" type="decimal(18, 0)"/>
            <column name="DepreciationAllowed" type="nvarchar(1)"/>
            <column name="GainOrLoss" type="nvarchar(4)"/>
            <column name="GainOrLossAdj" type="decimal(18, 0)"/>
            <column name="TranCurrency" type="nvarchar(3)"/>
            <column name="StrategyCode" type="nvarchar(8)"/>
            <column name="ContactCode" type="nvarchar(8)"/>
            <column name="ProcessDate" type="datetime"/>
            <column name="RepoDate" type="datetime"/>
            <column name="AgencyName" type="nvarchar(100)"/>
            <column name="AddLocalpolice" type="nvarchar(100)"/>
            <column name="EmailLocalpolice" type="nvarchar(100)"/>
            <column name="GarageOrWarehouseName" type="nvarchar(100)"/>
            <column name="Remarks" type="nclob"/>
            <column name="ExchangeRate" type="decimal(18, 0)"/>
            <column name="TransactionAmt" type="decimal(18, 0)"/>
            <column defaultValue="" name="ProductType" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="FreeText1" type="nclob"/>
            <column name="FreeText2" type="nclob"/>
            <column name="FreeText3" type="nclob"/>
            <column name="FreeText4" type="nclob"/>
            <column name="Status" type="nvarchar(8)"/>
            <column name="GarageOrWarehouseCharges" type="decimal(18, 0)"/>
            <column name="MaintainCharges" type="decimal(18, 0)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Lastmntby" type="bigint"/>
            <column name="Lastmnton" type="datetime"/>
            <column name="Recordstatus" type="nvarchar(50)"/>
            <column name="Rolecode" type="nvarchar(100)"/>
            <column name="Nextrolecode" type="nvarchar(200)"/>
            <column name="Taskid" type="nvarchar(50)"/>
            <column name="Nexttaskid" type="nvarchar(200)"/>
            <column name="Recordtype" type="nvarchar(50)"/>
            <column name="Workflowid" type="bigint"/>
            <column defaultValue="" name="AstType" type="nvarchar(50)"/>
            <column defaultValue="" name="AstNumber" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="AstValuationPrice" type="decimal(18, 0)"/>
            <column defaultValue="" name="AstLocationAddress" type="nvarchar(100)"/>
            <column defaultValueNumeric="0" name="AstTotalLoanOutstanding" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="AstProfit" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="AstPenalty" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="AstCostOfValuation" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="AstSellingCost" type="decimal(18, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="116">
        <createTable tableName="REPORTFILTERFIELDS">
            <column name="REPORTID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="FIELDID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="FIELDNAME" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="FIELDTYPE" type="varchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="FIELDLABEL" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="FIELDDBNAME" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="APPUTILMETHODNAME" type="varchar(100)"/>
            <column name="MODULENAME" type="varchar(50)"/>
            <column name="LOVHIDDENFIELDMETHOD" type="varchar(100)"/>
            <column name="LOVTEXTFIELDMETHOD" type="varchar(100)"/>
            <column name="MULTISELECTSEARCH" type="char(1)"/>
            <column name="FIELDLENGTH" type="int"/>
            <column name="FIELDMAXVALUE" type="int"/>
            <column name="FIELDMINVALUE" type="int"/>
            <column name="SEQORDER" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="MANDATORY" type="char(1)"/>
            <column name="FIELDCONSTRAINT" type="varchar(500)"/>
            <column name="FIELDERRORMESSAGE" type="varchar(500)"/>
            <column name="WHERECONDITION" type="varchar(500)"/>
            <column name="STATICVALUE" type="varchar(500)"/>
            <column name="FIELDWIDTH" type="bigint"/>
            <column name="FILTERREQUIRED" type="varchar(1)"/>
            <column name="DEFAULTFILTER" type="varchar(5)"/>
            <column name="VERSION" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LASTMNTBY" type="bigint"/>
            <column name="RECORDSTATUS" type="varchar(50)"/>
            <column name="ROLECODE" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="NEXTROLECODE" type="varchar(200)"/>
            <column name="TASKID" type="varchar(50)"/>
            <column name="NEXTTASKID" type="varchar(200)"/>
            <column name="RECORDTYPE" type="varchar(1)"/>
            <column name="WORKFLOWID" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="117">
        <createTable tableName="SMTWeekendMaster">
            <column name="WeekendCode" type="varchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="WeekendDesc" type="varchar(50)"/>
            <column name="Weekend" type="varchar(20)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="118">
        <createTable tableName="CustTypes">
            <column name="CustTypeCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CustTypeCtg" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="CustTypeDesc" type="nvarchar(100)"/>
            <column defaultValue="Y" name="CustTypeIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="119">
        <createTable tableName="SMTparameters">
            <column name="SysParmCode" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="SysParmDesc" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="SysParmType" type="varchar(20)"/>
            <column name="SysParmMaint" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="SysParmValue" type="varchar(50)"/>
            <column name="SysParmLength" type="int"/>
            <column name="SysParmDec" type="int"/>
            <column name="SysParmList" type="varchar(50)"/>
            <column name="SysParmValdMod" type="varchar(50)"/>
            <column name="SysParmDescription" type="varchar(500)"/>
            <column name="Version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="120">
        <createTable tableName="SeqNotes">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="121">
        <createTable tableName="Managers">
            <column name="ManagerId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="ManagerUserId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ManagerName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="122">
        <createTable tableName="CollectorQueueAssignment_Temp">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorUserId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="123">
        <createTable tableName="QBFieldDetails">
            <column name="QBModule" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="QBFldName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="QBFldDesc" type="varchar(50)"/>
            <column name="QBFldType" type="varchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="QBFldLen" type="bigint"/>
            <column name="QBFldTableName" type="varchar(30)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMnton" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="RecordStatus" type="varchar(50)"/>
            <column name="RoleCode" type="varchar(100)"/>
            <column name="NextRoleCode" type="varchar(200)"/>
            <column name="Taskid" type="varchar(50)"/>
            <column name="NextTaskid" type="varchar(200)"/>
            <column name="RecordType" type="varchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column name="ModuleCode" type="varchar(20)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="124">
        <createTable tableName="SeqStrategyLog">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="125">
        <createTable tableName="SeqAction">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="126">
        <createTable tableName="SecUserRoles_Temp">
            <column name="UsrRoleID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="UsrID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RoleID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="127">
        <createTable tableName="DashboardConfiguration_Temp">
            <column name="DashboardCode" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="DashboardDesc" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="DashboardType" type="varchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="dimension" type="varchar(2)"/>
            <column name="caption" type="varchar(50)"/>
            <column name="subCaption" type="varchar(50)"/>
            <column name="Query" type="nclob"/>
            <column name="remarks" type="nclob"/>
            <column name="DrillDownChart" type="nchar(1)"/>
            <column name="MultiSeries" type="nchar(1)"/>
            <column name="SeriesType" type="varchar(10)"/>
            <column name="SeriesValues" type="varchar(100)"/>
            <column name="FieldQuery" type="clob"/>
            <column name="DataXML" type="nclob"/>
            <column name="AdtDataSource" type="nchar(1)"/>
            <column name="Version" type="int"/>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(50)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="128">
        <createTable tableName="CollectorIncentives_Temp">
            <column name="CollInctId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="FromDate" type="datetime"/>
            <column name="ToDate" type="datetime"/>
            <column name="CollectedAmount" type="decimal(18, 0)"/>
            <column name="InctCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="InctAmount" type="decimal(18, 0)"/>
            <column name="InctPaidDate" type="datetime"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="129">
        <createTable tableName="RepossessionDetails">
            <column name="RepoId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint"/>
            <column name="AssertType" type="nvarchar(8)"/>
            <column name="CustId" type="bigint"/>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="OverdueAmt" type="decimal(18, 0)"/>
            <column name="OutstandingDbtAmt" type="decimal(18, 0)"/>
            <column name="DbtCurrency" type="nvarchar(3)"/>
            <column name="AssertMrktValue" type="decimal(18, 0)"/>
            <column name="TotalCharges" type="decimal(18, 0)"/>
            <column name="AmtRecovered" type="decimal(18, 0)"/>
            <column name="DepreciationAllowed" type="nvarchar(1)"/>
            <column name="GainOrLoss" type="nvarchar(4)"/>
            <column name="GainOrLossAdj" type="decimal(18, 0)"/>
            <column name="TranCurrency" type="nvarchar(3)"/>
            <column name="StrategyCode" type="nvarchar(8)"/>
            <column name="ContactCode" type="nvarchar(8)"/>
            <column name="ProcessDate" type="datetime"/>
            <column name="RepoDate" type="datetime"/>
            <column name="AgencyName" type="nvarchar(100)"/>
            <column name="AddLocalpolice" type="nvarchar(100)"/>
            <column name="EmailLocalpolice" type="nvarchar(100)"/>
            <column name="GarageOrWarehouseName" type="nvarchar(100)"/>
            <column name="Remarks" type="nclob"/>
            <column name="ExchangeRate" type="decimal(18, 0)"/>
            <column name="TransactionAmt" type="decimal(18, 0)"/>
            <column defaultValue="" name="ProductType" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="FreeText1" type="nclob"/>
            <column name="FreeText2" type="nclob"/>
            <column name="FreeText3" type="nclob"/>
            <column name="FreeText4" type="nclob"/>
            <column name="Status" type="nvarchar(8)"/>
            <column name="GarageOrWarehouseCharges" type="decimal(18, 0)"/>
            <column name="MaintainCharges" type="decimal(18, 0)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Lastmntby" type="bigint"/>
            <column name="Lastmnton" type="datetime"/>
            <column name="Recordstatus" type="nvarchar(50)"/>
            <column name="Rolecode" type="nvarchar(100)"/>
            <column name="Nextrolecode" type="nvarchar(200)"/>
            <column name="Taskid" type="nvarchar(50)"/>
            <column name="Nexttaskid" type="nvarchar(200)"/>
            <column name="Recordtype" type="nvarchar(50)"/>
            <column name="Workflowid" type="bigint"/>
            <column defaultValue="" name="AstType" type="nvarchar(50)"/>
            <column defaultValue="" name="AstNumber" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="AstValuationPrice" type="decimal(18, 0)"/>
            <column defaultValue="" name="AstLocationAddress" type="nvarchar(100)"/>
            <column defaultValueNumeric="0" name="AstTotalLoanOutstanding" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="AstProfit" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="AstPenalty" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="AstCostOfValuation" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="AstSellingCost" type="decimal(18, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="130">
        <createTable tableName="Collectors_Temp">
            <column name="CollectorId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="TeamleadId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorNameUserid" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="131">
        <createTable tableName="SeqSecUserRoles">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="132">
        <createTable tableName="PROVINCE_Temp">
            <column name="CountryCode" type="varchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="ProvinceCode" type="varchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="ProvinceName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)"/>
            <column defaultValueNumeric="0" name="Version" type="int"/>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="133">
        <createTable tableName="SecRoles">
            <column name="RoleID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RoleApp" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RoleCd" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="RoleDesc" type="varchar(1000)"/>
            <column name="RoleCategory" type="varchar(100)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="134">
        <createTable tableName="CallBackLog_Arch">
            <column name="ArchId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ArchDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="MobileNo" type="nvarchar(20)"/>
            <column name="Contactcode" type="nvarchar(8)"/>
            <column name="ContactDate" type="datetime"/>
            <column name="CallBackDate" type="datetime"/>
            <column name="Time" type="datetime"/>
            <column name="AltMobileNo" type="nvarchar(20)"/>
            <column name="Comments" type="nvarchar(1000)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="FreeText1" type="nclob"/>
            <column name="FreeText2" type="nclob"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="135">
        <createTable tableName="SeqNewsItems">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="136">
        <createTable tableName="SecUsers_RTemp">
            <column name="UsrID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="UsrLogin" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrPwd" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="UserStaffID" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrFName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrMName" type="nvarchar(50)"/>
            <column name="UsrLName" type="nvarchar(50)"/>
            <column name="UsrMobile" type="nvarchar(15)"/>
            <column name="UsrEmail" type="nvarchar(50)"/>
            <column name="UsrEnabled" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrCanSignonFrom" type="datetime"/>
            <column name="UsrCanSignonTo" type="datetime"/>
            <column name="UsrCanOverrideLimits" type="nchar(1)"/>
            <column name="UsrAcExp" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrAcExpDt" type="datetime"/>
            <column name="UsrCredentialsExp" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrAcLocked" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrLanguage" type="nvarchar(2)"/>
            <column name="UsrDftAppId" type="bigint"/>
            <column name="UsrDftAppCode" type="nvarchar(8)"/>
            <column name="UsrBranchCode" type="nvarchar(8)"/>
            <column name="UsrDeptCode" type="nvarchar(8)"/>
            <column name="UsrToken" type="nvarchar(100)"/>
            <column name="UsrIsMultiBranch" type="nchar(1)"/>
            <column name="UsrInvldLoginTries" type="decimal(2, 0)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="137">
        <createTable tableName="Collectors_RTemp">
            <column name="CollectorId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="TeamleadId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorNameUserid" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="138">
        <createTable tableName="BMTRBFldCriterias">
            <column name="RBFldType" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="RBSTFld" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="RBFldCriteriaNames" type="nvarchar(200)"/>
            <column name="RBFldCriteriaValues" type="nvarchar(100)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="139">
        <createTable tableName="ContactLog_Temp">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Contactcode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="ContactNo" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="Comments" type="nvarchar(1)"/>
            <column name="ContactDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="140">
        <createTable tableName="CardTransaction_Temp">
            <column name="CardNumber" type="nvarchar(16)"/>
            <column name="TransactionDate" type="datetime"/>
            <column name="TransactionAmount" type="decimal(18, 0)"/>
            <column name="Merchant" type="nvarchar(35)"/>
            <column name="Tenure" type="bigint"/>
            <column name="RefNumber" type="nvarchar(12)"/>
            <column name="InstallmentAmount" type="decimal(18, 0)"/>
            <column name="ReverseFlag" type="nvarchar(2)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="141">
        <createTable tableName="Incentives">
            <column name="Code" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Name" type="nvarchar(50)"/>
            <column name="Type" type="nvarchar(10)"/>
            <column name="Term" type="nvarchar(20)"/>
            <column name="IncentiveRuleCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="FreeText1" type="nclob">
                <constraints nullable="false"/>
            </column>
            <column name="FreeText2" type="nclob">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    
    <changeSet author="PCFAdmin" id="143">
        <createTable tableName="SecRoleGroups">
            <column name="RoleGrpID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="GrpID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RoleID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="144">
        <createTable tableName="Queues">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Description" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="CategoryCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="PriorityValue" type="numeric(3, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="QueueOwner" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="SelectionCriteria" type="nclob"/>
            <column name="SortOrder" type="nclob"/>
            <column name="LetterTemplate" type="bigint"/>
            <column name="AddrTypeCode" type="nvarchar(8)"/>
            <column name="SMSTemplate" type="bigint"/>
            <column name="EmailTemplate" type="bigint"/>
            <column name="AssignmenType" type="nvarchar(10)"/>
            <column name="PushToPDialer" type="nchar(1)"/>
            <column name="Toleranceid" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorName" type="nvarchar(50)"/>
            <column name="OverdueType" type="char(5)"/>
            <column name="Range" type="nvarchar(10)"/>
            <column name="StrategyCode" type="nvarchar(8)"/>
            <column name="FreeText2" type="nclob"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column defaultValue="" name="PTPRequired" type="nchar(1)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="145">
        <createTable tableName="StrategyLog">
            <column name="StrategyLogID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LogType" type="nvarchar(50)"/>
            <column name="LogContent" type="nclob"/>
            <column name="QueueId" type="bigint"/>
            <column name="ProductRef" type="nvarchar(50)"/>
            <column name="CustomerCIF" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="Status" type="nvarchar(50)"/>
            <column name="Reason" type="nvarchar(2000)"/>
            <column name="StrategyCode" type="nvarchar(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="146">
        <createTable tableName="CollectorIncentives">
            <column name="CollInctId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="FromDate" type="datetime"/>
            <column name="ToDate" type="datetime"/>
            <column name="CollectedAmount" type="decimal(18, 0)"/>
            <column name="InctCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="InctAmount" type="decimal(18, 0)"/>
            <column name="InctPaidDate" type="datetime"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="147">
        <createTable tableName="SecGroupValidations">
            <column name="GrpValidId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="GrpId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ValidId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="148">
        <createTable tableName="CollectionDataDetails_Arch">
            <column autoIncrement="true" name="ArchId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ArchDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="CollDataId" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="QueueId" type="bigint"/>
            <column name="ProductRef" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="CustId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CustCIF" type="nvarchar(50)"/>
            <column defaultValue=" " name="CustName" type="nvarchar(100)"/>
            <column name="CustTypeCode" type="nvarchar(8)"/>
            <column name="ProductType" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="ProductCategory" type="nvarchar(20)"/>
            <column name="OverdueAmt" type="decimal(18, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="OverdueDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="OverdueDays" type="int"/>
            <column defaultValueNumeric="0" name="RecoverdAmount" type="decimal(18, 0)"/>
            <column name="Status" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Freetext1" type="nclob"/>
            <column name="Freetext2" type="nclob"/>
            <column name="Freetext3" type="nclob"/>
            <column defaultValueNumeric="0" name="Freetext4" type="int"/>
            <column name="CollDate" type="datetime"/>
            <column defaultValue="0" name="WriteOff" type="nchar(1)"/>
            <column defaultValue="0" name="BlackListed" type="nchar(1)"/>
            <column name="PereferedLang" type="nvarchar(10)"/>
            <column defaultValue="0" name="Delinquency" type="nchar(1)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column name="ClosedDate" type="datetime"/>
            <column defaultValueNumeric="0" name="TotOustandingAmt" type="decimal(18, 0)"/>
            <column defaultValueNumeric="0" name="Penalty" type="decimal(18, 0)"/>
            <column defaultValue="" name="ProCtgType" type="nvarchar(50)"/>
            <column defaultValue="" name="ProCtgTypedesc" type="nvarchar(50)"/>
            <column name="InstallmentAmount" type="decimal(18, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="149">
        <createTable tableName="CollectionStrategyDetails">
            <column name="StrategyCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="StrategyType" type="nvarchar(8)"/>
            <column name="OverdueRangeNo" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="TemplateId" type="bigint"/>
            <column name="LngCode" type="nvarchar(2)"/>
            <column name="TransferToAgency" type="nchar(1)"/>
            <column name="TransferToLegal" type="nchar(1)"/>
            <column name="FreeText1" type="nclob"/>
            <column name="FreeText2" type="nclob"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="150">
        <createTable tableName="CardDetail_Snapshot">
            <column name="SnapshotDate" type="datetime"/>
            <column name="CardNumber" type="nvarchar(16)">
                <constraints nullable="false"/>
            </column>
            <column name="CustName" type="nvarchar(70)"/>
            <column name="CustCRCPR" type="nvarchar(20)"/>
            <column name="TelephoneNum" type="nvarchar(20)"/>
            <column name="Address" type="nvarchar(140)"/>
            <column name="FinalOsAmount" type="decimal(18, 0)"/>
            <column name="MrlAmount" type="decimal(18, 0)"/>
            <column name="UnutilizedMrlAmt" type="decimal(18, 0)"/>
            <column name="DueAmount" type="decimal(18, 0)"/>
            <column name="UnpaidAmount" type="decimal(18, 0)"/>
            <column name="Dpd" type="bigint"/>
            <column name="LastPaymentDate" type="datetime"/>
            <column name="LastPaidAmount" type="decimal(18, 0)"/>
            <column name="TotPenaltyAmount" type="decimal(18, 0)"/>
            <column name="ReportDate" type="datetime"/>
            <column name="PaymentSource" type="nvarchar(35)"/>
            <column name="ExtractionDate" type="datetime"/>
            <column name="CustCIF" type="nvarchar(35)"/>
            <column name="BasicSalary" type="decimal(18, 0)"/>
            <column name="Allowances" type="decimal(18, 0)"/>
            <column name="EmpName" type="nvarchar(35)"/>
            <column name="Position" type="nvarchar(35)"/>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="Nationality" type="nvarchar(2)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="151">
        <createTable tableName="Templates">
            <column name="TemplateId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Code" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="TemplateName" type="nvarchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="Type" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="TemplateContent" type="nclob">
                <constraints nullable="false"/>
            </column>
            <column name="FileName" type="nvarchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="LanguageCode" type="nchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="FromAddress" type="nvarchar(200)"/>
            <column name="FromName" type="nvarchar(50)"/>
            <column name="ReturnAddress" type="nvarchar(200)"/>
            <column name="EmailFormat" type="nchar(1)"/>
            <column name="EmailSubject" type="nvarchar(100)"/>
            <column name="UsedeFaultSmtp" type="nchar(1)"/>
            <column name="SmtpId" type="nvarchar(200)"/>
            <column name="SmtpPort" type="nvarchar(6)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="152">
        <createTable tableName="DebtCollectionReceipt_Temp">
            <column name="ReceiptId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ReceiptNo" type="nvarchar(50)"/>
            <column name="ReceiptDate" type="datetime"/>
            <column name="AccountOfficer" type="nvarchar(50)"/>
            <column name="CustCIF" type="nvarchar(50)"/>
            <column name="CustName" type="nvarchar(50)"/>
            <column name="AccountNo" type="nvarchar(50)"/>
            <column name="PaymentType" type="nvarchar(20)"/>
            <column name="PayAmount" type="decimal(18, 0)"/>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="ChequeNo" type="nvarchar(50)"/>
            <column name="Acknowlegment" type="nvarchar(100)"/>
            <column name="DrawnOn" type="datetime"/>
            <column defaultValueNumeric="0" name="Version" type="int"/>
            <column defaultValueNumeric="0" name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="153">
        <createTable tableName="SecUsers_Temp">
            <column name="UsrID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="UsrLogin" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrPwd" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="UserStaffID" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrFName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrMName" type="nvarchar(50)"/>
            <column name="UsrLName" type="nvarchar(50)"/>
            <column name="UsrMobile" type="nvarchar(15)"/>
            <column name="UsrEmail" type="nvarchar(50)"/>
            <column name="UsrEnabled" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrCanSignonFrom" type="datetime"/>
            <column name="UsrCanSignonTo" type="datetime"/>
            <column name="UsrCanOverrideLimits" type="nchar(1)"/>
            <column name="UsrAcExp" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrAcExpDt" type="datetime"/>
            <column name="UsrCredentialsExp" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrAcLocked" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrLanguage" type="nvarchar(2)"/>
            <column name="UsrDftAppId" type="bigint"/>
            <column name="UsrDftAppCode" type="nvarchar(8)"/>
            <column name="UsrBranchCode" type="nvarchar(8)"/>
            <column name="UsrDeptCode" type="nvarchar(8)"/>
            <column name="UsrToken" type="nvarchar(100)"/>
            <column name="UsrIsMultiBranch" type="nchar(1)"/>
            <column name="UsrInvldLoginTries" type="decimal(2, 0)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="154">
        <createTable tableName="BATCH_STEP_EXECUTION_SEQ">
            <column autoIncrement="true" name="ID" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="155">
        <createTable tableName="LawyerDetails_Temp">
            <column name="LawyerId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Categorie" type="nvarchar(30)"/>
            <column name="Name" type="nvarchar(50)"/>
            <column name="Address" type="nvarchar(100)"/>
            <column name="Country" type="varchar(2)"/>
            <column name="Province" type="varchar(8)"/>
            <column name="City" type="varchar(8)"/>
            <column name="PostalCode" type="nvarchar(10)"/>
            <column name="Phone" type="nvarchar(30)"/>
            <column name="Fax" type="varchar(30)"/>
            <column name="FreeText1" type="nvarchar(100)"/>
            <column name="FreeText2" type="varchar(100)"/>
            <column name="Active" type="nchar(1)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column name="LawEmail" type="nvarchar(50)"/>
            <column defaultValue="" name="LawyerRef" type="nvarchar(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="156">
        <createTable tableName="ReportList_Temp">
            <column name="Module" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="FieldLabels" type="nvarchar(1000)"/>
            <column name="FieldValues" type="nvarchar(500)"/>
            <column name="FieldType" type="nvarchar(500)"/>
            <column name="Addfields" type="varchar(500)"/>
            <column name="ReportFileName" type="nvarchar(100)"/>
            <column name="ReportHeading" type="nvarchar(50)"/>
            <column name="ModuleType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="157">
        <createTable tableName="Overdue_Temp">
            <column name="OverdueType" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Range" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="158">
        <createTable tableName="SecUserRoles">
            <column name="UsrRoleID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="UsrID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RoleID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="159">
        <createTable tableName="BATCH_STEP_EXECUTION">
            <column name="STEP_EXECUTION_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="STEP_NAME" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="JOB_EXECUTION_ID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="START_TIME" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="END_TIME" type="datetime"/>
            <column name="STATUS" type="varchar(10)"/>
            <column name="COMMIT_COUNT" type="bigint"/>
            <column name="READ_COUNT" type="bigint"/>
            <column name="FILTER_COUNT" type="bigint"/>
            <column name="WRITE_COUNT" type="bigint"/>
            <column name="READ_SKIP_COUNT" type="bigint"/>
            <column name="WRITE_SKIP_COUNT" type="bigint"/>
            <column name="PROCESS_SKIP_COUNT" type="bigint"/>
            <column name="ROLLBACK_COUNT" type="bigint"/>
            <column name="EXIT_CODE" type="varchar(100)"/>
            <column name="EXIT_MESSAGE" type="varchar(2500)"/>
            <column name="LAST_UPDATED" type="datetime"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="160">
        <createTable tableName="SecUsers">
            <column name="UsrID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="UsrLogin" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrPwd" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="UserStaffID" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrFName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrMName" type="nvarchar(50)"/>
            <column name="UsrLName" type="nvarchar(50)"/>
            <column name="UsrMobile" type="nvarchar(15)"/>
            <column name="UsrEmail" type="nvarchar(50)"/>
            <column name="UsrEnabled" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrCanSignonFrom" type="datetime"/>
            <column name="UsrCanSignonTo" type="datetime"/>
            <column name="UsrCanOverrideLimits" type="nchar(1)"/>
            <column name="UsrAcExp" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrAcExpDt" type="datetime"/>
            <column name="UsrCredentialsExp" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrAcLocked" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="UsrLanguage" type="nvarchar(2)"/>
            <column name="UsrDftAppId" type="bigint"/>
            <column name="UsrDftAppCode" type="nvarchar(8)"/>
            <column name="UsrBranchCode" type="nvarchar(8)"/>
            <column name="UsrDeptCode" type="nvarchar(8)"/>
            <column name="UsrToken" type="nvarchar(100)"/>
            <column name="UsrIsMultiBranch" type="nchar(1)"/>
            <column name="UsrInvldLoginTries" type="decimal(2, 0)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="161">
        <createTable tableName="AlertTypes">
            <column name="AlertTypeCode" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="AlertTypeDesc" type="nvarchar(50)"/>
            <column name="RoleCodes" type="nvarchar(200)"/>
            <column name="AlertCategory" type="nvarchar(20)"/>
            <column name="AlertTypeIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="AlertMsgType" type="nvarchar(20)"/>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="162">
        <createTable tableName="QueryModules">
            <column name="QueryModuleCode" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="QueryModuleDesc" type="varchar(50)"/>
            <column name="TableName" type="varchar(50)"/>
            <column name="DisplayColumns" type="varchar(300)"/>
            <column name="ResultColumns" type="varchar(300)"/>
            <column name="SubQuery" type="nchar(1)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="163">
        <createTable tableName="AlertTypes_Temp">
            <column name="AlertTypeCode" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="AlertTypeDesc" type="nvarchar(50)"/>
            <column name="RoleCodes" type="nvarchar(200)"/>
            <column name="AlertCategory" type="nvarchar(20)"/>
            <column name="AlertTypeIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="AlertMsgType" type="nvarchar(20)"/>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="164">
        <createTable tableName="AddressTypes">
            <column name="AddrTypeCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="AddrTypeDesc" type="varchar(50)"/>
            <column name="AddrTypePriority" type="decimal(4, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="AddrTypeActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="165">
        <createTable tableName="Languages">
            <column name="LngCode" type="nvarchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="LngDesc" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="LngNumber" type="int"/>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="166">
        <createTable tableName="Rules_Temp">
            <column name="RuleId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RuleModule" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="RuleEvent" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="RuleCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="RuleCodeDesc" type="nvarchar(50)"/>
            <column name="WaiverDecider" type="nvarchar(1)"/>
            <column name="Waiver" type="nchar(1)"/>
            <column name="WaiverPerc" type="decimal(5, 2)"/>
            <column name="SQLRule" type="nclob"/>
            <column name="ActualBlock" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="167">
        <createTable tableName="ContactLog">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Contactcode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="ContactNo" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="Comments" type="nvarchar(1)"/>
            <column name="ContactDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="168">
        <createTable tableName="SeqReportConfiguration">
            <column name="seqNO" type="int"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="169">
        <createTable tableName="SeqPTApplicationDetails">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="170">
        <createTable tableName="SeqSecRoles">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="171">
        <createTable tableName="PromiseCode_Temp">
            <column name="PromiseCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="PromiseCodeDesc" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="172">
        <createTable tableName="SeqQueues">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="173">
        <createTable tableName="SMTHolidayMaster">
            <column name="HolidayCode" type="varchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="HolidayYear" type="numeric(4, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="HolidayType" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="HolidayCodeDesc" type="varchar(50)"/>
            <column name="Holidays" type="nvarchar(1000)">
                <constraints nullable="false"/>
            </column>
            <column name="HolidayDesc1" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="HolidayDesc2" type="clob"/>
            <column name="HolidayDesc3" type="clob"/>
            <column defaultValueNumeric="0" name="Version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="174">
        <createTable tableName="SeqSecGroupValidations">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="175">
        <createTable tableName="CollectorQueueAssignment">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CollectorUserId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="RefNo" type="nvarchar(20)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="176">
        <createTable tableName="ContactcodeGroups">
            <column name="CCGroupcode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CCGroupDesc" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="177">
        <createTable tableName="NewsItems_Temp">
            <column name="NewsCode" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="NewsDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="NewsHeading" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="NewsDescription" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="IsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(20)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(8)"/>
            <column name="WorkflowId" type="bigint"/>
            <column name="shortDesc" type="nvarchar(500)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="178">
        <createTable tableName="SeqCollectorReassignment">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="179">
        <createTable tableName="ManualSMS">
            <column name="QueueId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="MobileNo" type="nvarchar(20)"/>
            <column name="Text" type="nvarchar(200)"/>
            <column name="Version" type="int"/>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="180">
        <createTable tableName="CardDataDetails_Temp">
            <column name="CIF" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="CRNNO" type="nvarchar(9)"/>
            <column name="CREDITCARDNO" type="nvarchar(16)">
                <constraints nullable="false"/>
            </column>
            <column name="CARDPRODUCT" type="char(20)"/>
            <column name="CREDITLIMIT" type="float(53)"/>
            <column name="CARDCREATEDATE" type="datetime"/>
            <column name="EXPIRYDATE" type="datetime"/>
            <column name="VALIDFROM" type="datetime"/>
            <column name="GENERALSTAT" type="char(4)"/>
            <column name="GENERALSTATDATE" type="datetime"/>
            <column name="CURMINAMOUNTDUE" type="float(53)"/>
            <column name="CUROVERDUEAMOUNT" type="float(53)"/>
            <column name="LASTPAYRECVAMOUNT" type="float(53)"/>
            <column name="LASTPAYRECVDATE" type="datetime"/>
            <column name="DELINQUENCYBUCKET" type="numeric(18, 0)"/>
            <column name="CUSTOMERNAME" type="varchar(20)"/>
            <column name="MOBILE" type="varchar(25)"/>
            <column name="HOMEPHONE" type="varchar(25)"/>
            <column name="OFFICEPHONE" type="varchar(25)"/>
            <column name="MAILINGADDRESS" type="varchar(100)"/>
            <column name="PRIMARYEMAILID" type="varchar(100)"/>
            <column name="SECONDARYEMAILID" type="varchar(100)"/>
            <column name="Bucket1" type="float(53)"/>
            <column name="Bucket2" type="float(53)"/>
            <column name="Bucket3" type="float(53)"/>
            <column name="Bucket4" type="float(53)"/>
            <column name="Bucket5" type="float(53)"/>
            <column name="Bucket6" type="float(53)"/>
            <column name="Bucket7" type="float(53)"/>
            <column name="Bucket8" type="float(53)"/>
            <column name="Bucket9" type="float(53)"/>
            <column name="Bucket10" type="float(53)"/>
            <column name="Bucket11" type="float(53)"/>
            <column name="Bucket12" type="float(53)"/>
            <column name="Freetext1" type="nvarchar(4000)"/>
            <column name="Freetext2" type="nvarchar(4000)"/>
            <column name="Freetext3" type="nvarchar(4000)"/>
            <column name="Freetext4" type="int"/>
            <column name="Freetext5" type="datetime"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="181">
        <createTable tableName="SeqTeamLeads">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="182">
        <createTable tableName="CollectionStrategyHeader">
            <column name="StrategyCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="StrategyCodeDesc" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="QCategoryCode" type="nvarchar(8)"/>
            <column name="OverdueType" type="char(5)">
                <constraints nullable="false"/>
            </column>
            <column name="Range" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="Interval" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="183">
        <createTable tableName="ContactCodes_Temp">
            <column name="ContactCodeId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Contactcode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Description" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="ContactCodeGroup" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="DefaultFollowup" type="numeric(3, 0)"/>
            <column name="MinimumFollowUp" type="numeric(3, 0)"/>
            <column name="MaxFollowUp" type="numeric(3, 0)"/>
            <column name="LetterToBeSent" type="nchar(1)"/>
            <column name="LetterCode" type="nvarchar(10)"/>
            <column name="SMSToBeSent" type="nchar(1)"/>
            <column name="SMSCode" type="nvarchar(10)"/>
            <column name="ReviewCode" type="nchar(1)"/>
            <column name="PTPRequired" type="nchar(1)"/>
            <column name="NotesMandatory" type="nchar(1)"/>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="184">
        <createTable tableName="NewsItems">
            <column name="NewsCode" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="NewsDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="NewsHeading" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="NewsDescription" type="clob">
                <constraints nullable="false"/>
            </column>
            <column name="IsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(20)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(8)"/>
            <column name="WorkflowId" type="bigint"/>
            <column name="shortDesc" type="nvarchar(500)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="185">
        <createTable tableName="CollectionStrategyDetails_Temp">
            <column name="StrategyCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="StrategyType" type="nvarchar(8)"/>
            <column name="OverdueRangeNo" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="TemplateId" type="bigint"/>
            <column name="LngCode" type="nvarchar(2)"/>
            <column name="TransferToAgency" type="nchar(1)"/>
            <column name="TransferToLegal" type="nchar(1)"/>
            <column name="FreeText1" type="nclob"/>
            <column name="FreeText2" type="nclob"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="186">
        <createTable tableName="CardDetail_Temp">
            <column name="CardNumber" type="nvarchar(16)">
                <constraints nullable="false"/>
            </column>
            <column name="CustName" type="nvarchar(70)"/>
            <column name="CustCRCPR" type="nvarchar(20)"/>
            <column name="TelephoneNum" type="nvarchar(20)"/>
            <column name="Address" type="nvarchar(140)"/>
            <column name="FinalOsAmount" type="decimal(18, 0)"/>
            <column name="MrlAmount" type="decimal(18, 0)"/>
            <column name="UnutilizedMrlAmt" type="decimal(18, 0)"/>
            <column name="DueAmount" type="decimal(18, 0)"/>
            <column name="UnpaidAmount" type="decimal(18, 0)"/>
            <column name="Dpd" type="bigint"/>
            <column name="LastPaymentDate" type="datetime"/>
            <column name="LastPaidAmount" type="decimal(18, 0)"/>
            <column name="TotPenaltyAmount" type="decimal(18, 0)"/>
            <column name="ReportDate" type="datetime"/>
            <column name="PaymentSource" type="nvarchar(35)"/>
            <column name="ExtractionDate" type="datetime"/>
            <column name="CustCIF" type="nvarchar(35)"/>
            <column name="BasicSalary" type="decimal(18, 0)"/>
            <column name="Allowances" type="decimal(18, 0)"/>
            <column name="EmpName" type="nvarchar(35)"/>
            <column name="Position" type="nvarchar(35)"/>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="Nationality" type="nvarchar(2)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="187">
        <createTable tableName="DebtCollectionReceipt">
            <column name="ReceiptId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ReceiptNo" type="nvarchar(50)"/>
            <column name="ReceiptDate" type="datetime"/>
            <column name="AccountOfficer" type="nvarchar(50)"/>
            <column name="CustCIF" type="nvarchar(50)"/>
            <column name="CustName" type="nvarchar(50)"/>
            <column name="AccountNo" type="nvarchar(50)"/>
            <column name="PaymentType" type="nvarchar(20)"/>
            <column name="PayAmount" type="decimal(18, 0)"/>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="ChequeNo" type="nvarchar(50)"/>
            <column name="Acknowlegment" type="nvarchar(100)"/>
            <column name="DrawnOn" type="datetime"/>
            <column defaultValueNumeric="0" name="Version" type="int"/>
            <column defaultValueNumeric="0" name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="188">
        <createTable tableName="CITY_Temp">
            <column name="CountryCode" type="varchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="ProvinceCode" type="varchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CityCode" type="varchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CityName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)"/>
            <column defaultValueNumeric="0" name="Version" type="int"/>
            <column name="LastMntBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="189">
        <createTable tableName="AgencyDetails">
            <column name="AgencyName" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="AgencyType" type="nvarchar(20)"/>
            <column name="AgencyDesc" type="nvarchar(200)"/>
            <column name="QueueID" type="bigint"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="190">
        <createTable tableName="ADTSecGroupRights">
            <column name="AuditId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="AuditDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="AuditSeq" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="AuditImage" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="GrpRightID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="GrpID" type="bigint"/>
            <column name="RightID" type="bigint"/>
            <column defaultValueNumeric="1" name="AccessType" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int"/>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="191">
        <createTable tableName="ContactcodeGroups_Temp">
            <column name="CCGroupcode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="CCGroupDesc" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="192">
        <createTable tableName="TeamLeads">
            <column name="TeamleadId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ManagerId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="TeamleadNameUserid" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="TeamleadName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="193">
        <createTable tableName="Templates_Temp">
            <column name="TemplateId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Code" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="TemplateName" type="nvarchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="Type" type="nvarchar(10)">
                <constraints nullable="false"/>
            </column>
            <column name="TemplateContent" type="nclob">
                <constraints nullable="false"/>
            </column>
            <column name="FileName" type="nvarchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="LanguageCode" type="nchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="FromAddress" type="nvarchar(200)"/>
            <column name="FromName" type="nvarchar(50)"/>
            <column name="ReturnAddress" type="nvarchar(200)"/>
            <column name="EmailFormat" type="nchar(1)"/>
            <column name="EmailSubject" type="nvarchar(100)"/>
            <column name="UsedeFaultSmtp" type="nchar(1)"/>
            <column name="SmtpId" type="nvarchar(200)"/>
            <column name="SmtpPort" type="nvarchar(6)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="194">
        <createTable tableName="SeqSecUsers">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="195">
        <createTable tableName="Strategy_Temp">
            <column name="StrategyTypeCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="StrategyTypeName" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="StrategyTemplateType" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Color" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="196">
        <createTable tableName="FileTypes">
            <column name="FileTypeId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="FileType" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="FExtension" type="nvarchar(50)"/>
            <column name="CName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="CFormat" type="nvarchar(200)">
                <constraints nullable="false"/>
            </column>
            <column name="CType" type="nvarchar(500)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="197">
        <createTable tableName="SeqRepossessionDetails">
            <column name="SeqNo" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="198">
        <createTable tableName="BMTRBFldMaster">
            <column name="RBMModule" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="RBMEvent" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="RBMFldName" type="nvarchar(50)"/>
            <column name="RBMFldType" type="nvarchar(20)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="199">
        <createTable tableName="ReportList">
            <column name="Module" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="FieldLabels" type="nvarchar(1000)"/>
            <column name="FieldValues" type="nvarchar(500)"/>
            <column name="FieldType" type="nvarchar(500)"/>
            <column name="Addfields" type="varchar(500)"/>
            <column name="ReportFileName" type="nvarchar(100)"/>
            <column name="ReportHeading" type="nvarchar(50)"/>
            <column name="ModuleType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="200">
        <createTable tableName="Leaves">
            <column name="LeaveID" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="AppliedDate" type="datetime"/>
            <column name="FromDate" type="datetime"/>
            <column name="ToDate" type="datetime"/>
            <column name="UserID" type="bigint"/>
            <column name="Active" type="nchar(1)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="201">
        <createTable tableName="AgencyDetails_Temp">
            <column name="AgencyName" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="AgencyType" type="nvarchar(20)"/>
            <column name="AgencyDesc" type="nvarchar(200)"/>
            <column name="QueueID" type="bigint"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="202">
        <createTable tableName="CollectionDataDetails2">
            <column name="CollDataId" type="nvarchar(25)">
                <constraints nullable="false"/>
            </column>
            <column name="QueueId" type="bigint"/>
            <column name="ProductRef" type="nvarchar(20)">
                <constraints nullable="false"/>
            </column>
            <column name="CustId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="CustCIF" type="nvarchar(50)"/>
            <column name="CustName" type="nvarchar(100)"/>
            <column name="CustTypeCode" type="nvarchar(8)"/>
            <column name="ProductType" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Currency" type="nvarchar(3)"/>
            <column name="ProductCategory" type="nvarchar(20)"/>
            <column name="OverdueAmt" type="decimal(18, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="OverdueDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="OverdueDays" type="int"/>
            <column name="RecoverdAmount" type="decimal(18, 0)"/>
            <column name="Status" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Freetext1" type="nclob"/>
            <column name="Freetext2" type="nclob"/>
            <column name="Freetext3" type="nclob"/>
            <column name="Freetext4" type="int"/>
            <column name="CollDate" type="datetime"/>
            <column name="WriteOff" type="nchar(1)"/>
            <column name="BlackListed" type="nchar(1)"/>
            <column name="PereferedLang" type="nvarchar(10)"/>
            <column name="Delinquency" type="nchar(1)"/>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
            <column name="ClosedDate" type="datetime"/>
            <column name="TotOustandingAmt" type="decimal(18, 0)"/>
            <column name="Penalty" type="decimal(18, 0)"/>
            <column name="ProCtgType" type="nvarchar(50)"/>
            <column name="ProCtgTypedesc" type="nvarchar(50)"/>
            <column name="InstallmentAmount" type="decimal(18, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="203">
        <createTable tableName="Notes_Arch">
            <column name="ArchId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ArchDate" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="NoteId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ModuleName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Reference" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Remarks" type="nclob"/>
            <column name="InputBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="InputDate" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="204">
        <createTable tableName="COUNTRY_Temp">
            <column name="CountryCode" type="varchar(2)">
                <constraints nullable="false"/>
            </column>
            <column name="CountryName" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="CountryISDCode" type="nvarchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CountryCurrencyCode" type="nvarchar(3)"/>
            <column name="Active" type="nchar(1)"/>
            <column defaultValueNumeric="0" name="Version" type="int"/>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(50)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="205">
        <createTable tableName="PTPTolerances_Temp">
            <column name="ToleranceId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="Tolerancecode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="ToleranceDesc" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="ToleranceAmt" type="decimal(18, 0)"/>
            <column name="AllowedPercent" type="decimal(18, 2)"/>
            <column name="Remarks" type="nvarchar(200)"/>
            <column name="ToleranceDays" type="numeric(3, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="Active" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column name="RecordStatus" type="nvarchar(50)"/>
            <column name="RoleCode" type="nvarchar(100)"/>
            <column name="NextRoleCode" type="nvarchar(200)"/>
            <column name="TaskId" type="nvarchar(50)"/>
            <column name="NextTaskId" type="nvarchar(200)"/>
            <column name="RecordType" type="nvarchar(50)"/>
            <column name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="206">
        <createTable tableName="Notes">
            <column name="NoteId" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="ModuleName" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Reference" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="Remarks" type="nclob"/>
            <column name="InputBy" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="InputDate" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="207">
        <createTable tableName="BMTDepartments_Temp">
            <column name="DeptCode" type="nvarchar(8)">
                <constraints nullable="false"/>
            </column>
            <column name="DeptDesc" type="nvarchar(50)"/>
            <column defaultValue="1" name="DeptIsActive" type="nchar(1)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" type="bigint"/>
            <column name="LastMntOn" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="PCFAdmin" id="208">
        <createTable tableName="Currencies_Temp">
            <column name="CcyCode" remarks="Currency Code" type="nchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyNumber" remarks="Currency Number" type="nchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyDesc" remarks="Curreny Description" type="nvarchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="CcySwiftCode" remarks="Swift Currency Code" type="nchar(3)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyEditField" remarks="Edit Position" type="decimal(1, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyMinorCcyUnits" remarks="Number of Minor Currency Units" type="decimal(5, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="CcySpotRate" remarks="Spot Rate" type="decimal(15, 9)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyUserRateBuy" remarks="Buy Rate from Usre" type="decimal(15, 9)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyUserRateSell" remarks="Sell Rate from Usre" type="decimal(15, 9)">
                <constraints nullable="false"/>
            </column>
            <column name="CcyIsActive" type="nchar(1)"/>
            <column name="CcySymbol" type="nchar(3)"/>
            <column defaultValueNumeric="0" name="Version" remarks="Version" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="LastMntBy" remarks="Last Mainted By" type="bigint"/>
            <column name="LastMntOn" remarks="Last Maintained Date and Time" type="datetime"/>
            <column defaultValue=" " name="RecordStatus" type="nvarchar(50)"/>
            <column defaultValue=" " name="RoleCode" type="nvarchar(100)"/>
            <column defaultValue=" " name="NextRoleCode" type="nvarchar(200)"/>
            <column defaultValue=" " name="TaskId" type="nvarchar(50)"/>
            <column defaultValue=" " name="NextTaskId" type="nvarchar(200)"/>
            <column defaultValue=" " name="RecordType" type="nvarchar(50)"/>
            <column defaultValueNumeric="0" name="WorkflowId" type="bigint"/>
        </createTable>
    </changeSet>
    <!--  <changeSet author="PCFAdmin" id="142">
        <createView fullDefinition="false" viewName="DashboardCustomerDetails_View">SELECT     T1.CustID, T1.CustDOB, T2.PhoneNumber AS CustPhoneNum, T1.CustFName, T1.CustMName, T1.CustLName, T1.CustShrtName, T3.CustAddrHNbr, 
                      T3.lovDescCustAddrCityName, T3.lovDescCustAddrProvinceName, T3.lovDescCustAddrCountryName, T4.CustEmpName
FROM         PFFLIV.${add.schema}Customers AS T1 INNER JOIN
                      PFFLIV.${add.schema}CustomerPhoneNumbers AS T2 ON T1.CustID = T2.PhoneCustID INNER JOIN
                      PFFLIV.${add.schema}CustomerAddresses_AView AS T3 ON T1.CustID = T3.CustID INNER JOIN
                      PFFLIV.${add.schema}CustomerEmpDetails AS T4 ON T1.CustID = T4.CustID</createView>
    </changeSet> -->
    <changeSet author="PCFAdmin" id="209">
        <createView fullDefinition="false" viewName="CollectionStrategyHeader_View">SELECT     T1.StrategyCode, T1.StrategyCodeDesc, T1.QCategoryCode, T1.OverdueType, T1.Range, T1.Interval, T1.Remarks, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         CollectionStrategyHeader_TEMP AS T1
UNION ALL
SELECT     T1.StrategyCode, T1.StrategyCodeDesc, T1.QCategoryCode, T1.OverdueType, T1.Range, T1.Interval, T1.Remarks, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         CollectionStrategyHeader AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          CollectionStrategyHeader_TEMP
                            WHERE      StrategyCode = T1.StrategyCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="210">
        <createView fullDefinition="false" viewName="DocumentDetails_View">SELECT     DocId, DocModule, DocCategory, Doctype, DocName, DocImage, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, 
                      RecordType, WorkflowId,ReferenceId
FROM         ${add.schema}DocumentDetails_temp AS T1
UNION ALL
SELECT     DocId, DocModule, DocCategory, Doctype, DocName, DocImage, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, 
                      RecordType, WorkflowId,ReferenceId
FROM         ${add.schema}DocumentDetails AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          DocumentDetails_temp
                            WHERE      DocId = T1.DocId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="211">
        <addPrimaryKey columnNames="DocId" constraintName="PK_DocumentDetails" tableName="DocumentDetails"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="212">
        <addPrimaryKey columnNames="CustCIF, IDType" constraintName="PK__Customer__051D018878CC2BBF" tableName="CustomerIdentity"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="213" dbms="mssql">
        <createView fullDefinition="false" viewName="CollectionScreenDetails_AView">SELECT  T1.QueueId, T1.RefNo, T1.Name, T1.PrmyPhOrMobNo, T1.SocialSecurityId, T1.Typeofdebit, T1.AcNoOrCC, T1.DaysLstPayed, T1.PartialyPaid, 
        T1.CallStatus, T1.PTPdates, T1.CaseNumber, T1.LawyerName, T1.PoliceStationName, T1.ExternalAgent, T1.Datetransferred, T1.Remarks, 
        T1.CaseCloseddate, T1.prefferedAddress, T1.prefferedEmail, T1.RecInsOn, T1.RecMntOn, T1.Tat1, T1.Tat2, T1.Tat3, T1.Tat4, T1.Tat5, 
        T1.Active, T1.Freetext1, T1.Freetext2, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
        T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Reassignby,T1.ReassignDate,T1.ChqNumber, T1.ChqBankName, T1.ChqAmount, T1.ChqIssuedDate,
        T1.CPRCopy,	T1.Passport,T1.OriginalPromissoryNote, T1.OriginalContract, T1.HoldMovement, T1.CollUserId, T1.CustId, T1.Currency,
        T1.CustCIF, T1.PlcCaseNumber,T1.PlcDateofSubmit,T1.WriteOffAmount,T1.WriteOffPerc, T2.OverdueAmt/power(10,T4.CcyEditField) as OverdueCCY,
		T2.Status,T2.CustTypeCode,T2.ProductCategory,T2.ProductType AS LovDescProductType, T2.OverdueAmt AS lovDescOverdueAmt,
		T2.OverdueDays AS lovDescOverdueDays, T2.RecoverdAmount,T2.TotOustandingAmt,T2.Penalty,T2.OverdueDate,
		T2.ProCtgType,T2.ProCtgTypedesc, 
		T3.Description AS lovDescQueueDesc,	COALESCE(T3.Toleranceid, 0) AS lovDescToleranceId, T3.PriorityValue AS lovDescPriorityValue,
		T3.CategoryCode as QueueCategoryCode,T3.PTPrequired,
        COALESCE(T4.CcyEditField, 0) AS lovDescCcyEditField,
        COALESCE(T5.Status, N'') AS lovDescActionStatus,T5.ActionCode,T5.NextRoleCode as ActionNextRoleCode, 
        T7.TeamleadNameUserid AS lovDescTeamLeadUserid,
        T8.ManagerUserId AS lovDescManagerUserId, 
        T9.UsrFName ${call.concatenate}' ' ${call.concatenate} T9.UsrMName ${call.concatenate}' ' ${call.concatenate} T9.UsrLName AS lovDescCollectorName, 
        T10.UsrFName ${call.concatenate}' ' ${call.concatenate} T10.UsrMName ${call.concatenate}' ' ${call.concatenate} T10.UsrLName AS lovDescTeamLeadName, 
        T11.UsrFName ${call.concatenate}' ' ${call.concatenate} T11.UsrMName ${call.concatenate}' ' ${call.concatenate} T11.UsrLName AS lovDescManagerName,
       (Case WHEN (Select Count(*) from CallBackLog AS T12 where T1.QueueId=T12.QueueId and T1.RefNo=T12.RefNo and T12.Active=1 )=0 THEN 0 ELSE 1 END) as ActCallback,
       (CASE WHEN (Select Count(*) from ${add.schema}PromiseLog AS T13 where T1.QueueId=T13.QueueId and T1.RefNo=T13.RefNo and T13.PromiseStatus='PI')=0 THEN 0 ELSE 1 END) as ActPromise,
       T14.AllowMovement,T14.MovementType,
       T1.OtherNumber, T2.InstallmentAmount AS InstallmentAmount
FROM   ${add.schema}CollectionScreenDetails AS T1 INNER JOIN
       ${add.schema}CollectionDataDetails AS T2 ON T1.QueueId = T2.QueueId AND T1.RefNo = T2.ProductRef LEFT JOIN
	   ${add.schema}Queues AS T3 ON T1.QueueId = T3.QueueId LEFT JOIN
       ${add.schema}Currencies AS T4 ON T1.Currency = T4.CcyCode LEFT JOIN
       ${add.schema}Actions AS T5 ON T1.QueueId = T5.QueueId AND T1.RefNo = T5.RefNo LEFT JOIN
       ${add.schema}Collectors AS T6 ON T1.CollUserId = T6.CollectorNameUserid LEFT JOIN
       ${add.schema}TeamLeads AS T7 ON T6.TeamleadId = T7.TeamleadId LEFT JOIN
       ${add.schema}Managers AS T8 ON T7.ManagerId = T8.ManagerId LEFT JOIN
       ${add.schema}SecUsers AS T9 ON T1.CollUserId = T9.UsrID LEFT JOIN
       ${add.schema}SecUsers AS T10 ON T7.TeamleadNameUserid = T10.UsrID LEFT JOIN
       ${add.schema}SecUsers AS T11 ON T8.ManagerUserId = T11.UsrID  LEFT JOIN
       ${add.schema}QueueCategories AS T14 ON T3.CategoryCode = T14.QCategorycode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="213" dbms="oracle">
        <createView fullDefinition="false" viewName="CollectionScreenDetails_AView">SELECT  T1.QueueId, T1.RefNo, T1.Name, T1.PrmyPhOrMobNo, T1.SocialSecurityId, T1.Typeofdebit, T1.AcNoOrCC, T1.DaysLstPayed, T1.PartialyPaid, 
        T1.CallStatus, T1.PTPdates, T1.CaseNumber, T1.LawyerName, T1.PoliceStationName, T1.ExternalAgent, T1.Datetransferred, T1.Remarks, 
        T1.CaseCloseddate, T1.prefferedAddress, T1.prefferedEmail, T1.RecInsOn, T1.RecMntOn, T1.Tat1, T1.Tat2, T1.Tat3, T1.Tat4, T1.Tat5, 
        T1.Active, T1.Freetext1, T1.Freetext2, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
        T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Reassignby,T1.ReassignDate,T1.ChqNumber, T1.ChqBankName, T1.ChqAmount, T1.ChqIssuedDate,
        T1.CPRCopy,	T1.Passport,T1.OriginalPromissoryNote, T1.OriginalContract, T1.HoldMovement, T1.CollUserId, T1.CustId, T1.Currency,
        T1.CustCIF, T1.PlcCaseNumber,T1.PlcDateofSubmit,T1.WriteOffAmount,T1.WriteOffPerc, T2.OverdueAmt/power(10,T4.CcyEditField) as OverdueCCY,
		T2.Status,T2.CustTypeCode,T2.ProductCategory,T2.ProductType AS LovDescProductType, T2.OverdueAmt AS lovDescOverdueAmt,
		T2.OverdueDays AS lovDescOverdueDays, T2.RecoverdAmount,T2.TotOustandingAmt,T2.Penalty,T2.OverdueDate,
		T2.ProCtgType,T2.ProCtgTypedesc, 
		T3.Description AS lovDescQueueDesc,	COALESCE(T3.Toleranceid, 0) AS lovDescToleranceId, T3.PriorityValue AS lovDescPriorityValue,
		T3.CategoryCode as QueueCategoryCode,T3.PTPrequired,
        COALESCE(T4.CcyEditField, 0) AS lovDescCcyEditField,
        COALESCE(T5.Status, N'') AS lovDescActionStatus,T5.ActionCode,T5.NextRoleCode as ActionNextRoleCode, 
        T7.TeamleadNameUserid AS lovDescTeamLeadUserid,
        T8.ManagerUserId AS lovDescManagerUserId, 
        T9.UsrFName ${call.concatenate}' ' ${call.concatenate} T9.UsrMName ${call.concatenate}' ' ${call.concatenate} T9.UsrLName AS lovDescCollectorName, 
        T10.UsrFName ${call.concatenate}' ' ${call.concatenate} T10.UsrMName ${call.concatenate}' ' ${call.concatenate} T10.UsrLName AS lovDescTeamLeadName, 
        T11.UsrFName ${call.concatenate}' ' ${call.concatenate} T11.UsrMName ${call.concatenate}' ' ${call.concatenate} T11.UsrLName AS lovDescManagerName,
       (Case WHEN (Select Count(*) from CallBackLog AS T12 where T1.QueueId=T12.QueueId and T1.RefNo=T12.RefNo and T12.Active=1 )=0 THEN 0 ELSE 1 END) as ActCallback,
       (CASE WHEN (Select Count(*) from ${add.schema}PromiseLog AS T13 where T1.QueueId=T13.QueueId and T1.RefNo=T13.RefNo and T13.PromiseStatus='PI')=0 THEN 0 ELSE 1 END) as ActPromise,
       T14.AllowMovement,T14.MovementType,
       T1.OtherNumber, T2.InstallmentAmount AS InstallmentAmount
FROM   ${add.schema}CollectionScreenDetails AS T1 INNER JOIN
       ${add.schema}CollectionDataDetails AS T2 ON T1.QueueId = T2.QueueId AND T1.RefNo = T2.ProductRef LEFT JOIN
	   ${add.schema}Queues AS T3 ON T1.QueueId = T3.QueueId LEFT JOIN
       ${add.schema}Currencies AS T4 ON T1.Currency = T4.CcyCode LEFT JOIN
       ${add.schema}Actions AS T5 ON T1.QueueId = T5.QueueId AND T1.RefNo = T5.RefNo LEFT JOIN
       ${add.schema}Collectors AS T6 ON T1.CollUserId = T6.CollectorNameUserid LEFT JOIN
       ${add.schema}TeamLeads AS T7 ON T6.TeamleadId = T7.TeamleadId LEFT JOIN
       ${add.schema}Managers AS T8 ON T7.ManagerId = T8.ManagerId LEFT JOIN
       ${add.schema}SecUsers AS T9 ON T1.CollUserId = T9.UsrID LEFT JOIN
       ${add.schema}SecUsers AS T10 ON T7.TeamleadNameUserid = T10.UsrID LEFT JOIN
       ${add.schema}SecUsers AS T11 ON T8.ManagerUserId = T11.UsrID  LEFT JOIN
       ${add.schema}QueueCategories AS T14 ON T3.CategoryCode = T14.QCategorycode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="213" dbms="postgresql">
        <createView fullDefinition="false" viewName="CollectionScreenDetails_AView">SELECT  T1.QueueId, T1.RefNo, T1.Name, T1.PrmyPhOrMobNo, T1.SocialSecurityId, T1.Typeofdebit, T1.AcNoOrCC, T1.DaysLstPayed, T1.PartialyPaid, 
        T1.CallStatus, T1.PTPdates, T1.CaseNumber, T1.LawyerName, T1.PoliceStationName, T1.ExternalAgent, T1.Datetransferred, T1.Remarks, 
        T1.CaseCloseddate, T1.prefferedAddress, T1.prefferedEmail, T1.RecInsOn, T1.RecMntOn, T1.Tat1, T1.Tat2, T1.Tat3, T1.Tat4, T1.Tat5, 
        T1.Active, T1.Freetext1, T1.Freetext2, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
        T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Reassignby,T1.ReassignDate,T1.ChqNumber, T1.ChqBankName, T1.ChqAmount, T1.ChqIssuedDate,
        T1.CPRCopy,	T1.Passport,T1.OriginalPromissoryNote, T1.OriginalContract, T1.HoldMovement, T1.CollUserId, T1.CustId, T1.Currency,
        T1.CustCIF, T1.PlcCaseNumber,T1.PlcDateofSubmit,T1.WriteOffAmount,T1.WriteOffPerc, T2.OverdueAmt/power(10,T4.CcyEditField) as OverdueCCY,
		T2.Status,T2.CustTypeCode,T2.ProductCategory,T2.ProductType AS LovDescProductType, T2.OverdueAmt AS lovDescOverdueAmt,
		T2.OverdueDays AS lovDescOverdueDays, T2.RecoverdAmount,T2.TotOustandingAmt,T2.Penalty,T2.OverdueDate,
		T2.ProCtgType,T2.ProCtgTypedesc, 
		T3.Description AS lovDescQueueDesc,	COALESCE(T3.Toleranceid, 0) AS lovDescToleranceId, T3.PriorityValue AS lovDescPriorityValue,
		T3.CategoryCode as QueueCategoryCode,T3.PTPrequired,
        COALESCE(T4.CcyEditField, 0) AS lovDescCcyEditField,
        COALESCE(T5.Status, N'') AS lovDescActionStatus,T5.ActionCode,T5.NextRoleCode as ActionNextRoleCode, 
        T7.TeamleadNameUserid AS lovDescTeamLeadUserid,
        T8.ManagerUserId AS lovDescManagerUserId, 
        T9.UsrFName ||' ' || T9.UsrMName ||' ' || T9.UsrLName AS lovDescCollectorName, 
        T10.UsrFName ||' ' || T10.UsrMName ||' ' || T10.UsrLName AS lovDescTeamLeadName, 
        T11.UsrFName ||' ' || T11.UsrMName ||' ' || T11.UsrLName AS lovDescManagerName,
       (Case WHEN (Select Count(*) from CallBackLog AS T12 where T1.QueueId=T12.QueueId and T1.RefNo=T12.RefNo and T12.Active=cast(1 as character) )=0 THEN 0 ELSE 1 END) as ActCallback,
       (CASE WHEN (Select Count(*) from PromiseLog AS T13 where T1.QueueId=T13.QueueId and T1.RefNo=T13.RefNo and T13.PromiseStatus='PI')=0 THEN 0 ELSE 1 END) as ActPromise,
       T14.AllowMovement,T14.MovementType,
       T1.OtherNumber, T2.InstallmentAmount AS InstallmentAmount
FROM   CollectionScreenDetails AS T1 INNER JOIN
       CollectionDataDetails AS T2 ON T1.QueueId = T2.QueueId AND T1.RefNo = T2.ProductRef LEFT JOIN
	   Queues AS T3 ON T1.QueueId = T3.QueueId LEFT JOIN
       Currencies AS T4 ON T1.Currency = T4.CcyCode LEFT JOIN
       Actions AS T5 ON T1.QueueId = T5.QueueId AND T1.RefNo = T5.RefNo LEFT JOIN
       Collectors AS T6 ON T1.CollUserId = T6.CollectorNameUserid LEFT JOIN
       TeamLeads AS T7 ON T6.TeamleadId = T7.TeamleadId LEFT JOIN
       Managers AS T8 ON T7.ManagerId = T8.ManagerId LEFT JOIN
       SecUsers AS T9 ON T1.CollUserId = T9.UsrID LEFT JOIN
       SecUsers AS T10 ON T7.TeamleadNameUserid = T10.UsrID LEFT JOIN
       SecUsers AS T11 ON T8.ManagerUserId = T11.UsrID  LEFT JOIN
       QueueCategories AS T14 ON T3.CategoryCode = T14.QCategorycode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="214" dbms="mssql">
        <createView fullDefinition="false" viewName="CollectionScreenDetails_LView">
        <![CDATA[SELECT  T1.QueueId, T1.RefNo, T1.Name, T1.PartialyPaid,  
        T1.WorkflowId,T1.Reassignby,T1.ReassignDate,
        T1.CollUserId, T1.CustId, T1.Currency, T1.CustCIF, T2.OverdueAmt/power(10,T4.CcyEditField) as OverdueCCY,
        T1.PrmyPhOrMobNo,T1.HoldMovement,
		T2.Status,T2.ProductType AS LovDescProductType, T2.OverdueAmt AS lovDescOverdueAmt,
		T2.OverdueDays AS lovDescOverdueDays, T2.TotOustandingAmt,T2.Penalty,T2.OverdueDate,
		T2.ProCtgTypedesc,T2.ProCtgType,T3.Description AS lovDescQueueDesc,T3.PriorityValue AS lovDescPriorityValue,
		T3.CategoryCode AS QueueCategoryCode ,COALESCE(T4.CcyEditField, 0) AS lovDescCcyEditField,
        COALESCE(T5.Status, N'') AS lovDescActionStatus,T5.ActionCode,T5.NextRoleCode as ActionNextRoleCode, 
        T6.AgencyDesc,
        T9.UsrFName ${call.concatenate}' ' ${call.concatenate} T9.UsrMName ${call.concatenate} ' ' ${call.concatenate} T9.UsrLName AS lovDescCollectorName,
       (Case WHEN T10.CNT <> 0 THEN 1 ELSE 0 END) as ActCallback,
       (Case WHEN T10.CNT <> 0 THEN CallBackDate ELSE null END) CallBackDate,
       (CASE WHEN T11.CNT <> 0 THEN 1 ELSE 0 END) as ActPromise       ,
       T2.InstallmentAmount as InstallmentAmount
             
FROM   ${add.schema}CollectionScreenDetails AS T1 INNER JOIN
       ${add.schema}CollectionDataDetails AS T2 ON T1.QueueId = T2.QueueId AND T1.RefNo = T2.ProductRef LEFT JOIN
	   ${add.schema}Queues AS T3 ON T1.QueueId = T3.QueueId LEFT JOIN
       ${add.schema}Currencies AS T4 ON T1.Currency = T4.CcyCode LEFT JOIN
       ${add.schema}Actions AS T5 ON T1.QueueId = T5.QueueId AND T1.RefNo = T5.RefNo LEFT JOIN
       AgencyDetails AS T6 ON T5.AgencyName=T6.AgencyName LEFT JOIN
	   Collectors as T13 ON T1.CollUserId=T13.CollectorId LEFT JOIN
       SecUsers AS T9 ON T13.CollectorNameUserid = T9.UsrID LEFT JOIN
       (Select QueueId,RefNo,Count(*)CNT,MAX(CallBackDate)CallBackDate from CallBackLog AS T1
	   where T1.Active=1 Group BY QueueId,RefNo)T10 ON T1.QueueId=T10.QueueId and T1.RefNo=T10.RefNo LEFT JOIN 
       (Select QueueId,RefNo,Count(*)CNT from PromiseLog AS T1
       where T1.PromiseStatus='PI' Group BY QueueId,RefNo)T11 ON T1.QueueId=T11.QueueId and T1.RefNo=T11.RefNo]]></createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="214" dbms="oracle">
        <createView fullDefinition="false" viewName="CollectionScreenDetails_LView">
        <![CDATA[SELECT  T1.QueueId, T1.RefNo, T1.Name, T1.PartialyPaid,  
        T1.WorkflowId,T1.Reassignby,T1.ReassignDate,
        T1.CollUserId, T1.CustId, T1.Currency, T1.CustCIF, T2.OverdueAmt/power(10,T4.CcyEditField) as OverdueCCY,
        T1.PrmyPhOrMobNo,T1.HoldMovement,
		T2.Status,T2.ProductType AS LovDescProductType, T2.OverdueAmt AS lovDescOverdueAmt,
		T2.OverdueDays AS lovDescOverdueDays, T2.TotOustandingAmt,T2.Penalty,T2.OverdueDate,
		T2.ProCtgTypedesc,T2.ProCtgType,T3.Description AS lovDescQueueDesc,T3.PriorityValue AS lovDescPriorityValue,
		T3.CategoryCode AS QueueCategoryCode ,COALESCE(T4.CcyEditField, 0) AS lovDescCcyEditField,
        COALESCE(T5.Status, N'') AS lovDescActionStatus,T5.ActionCode,T5.NextRoleCode as ActionNextRoleCode, 
        T6.AgencyDesc,
        T9.UsrFName ${call.concatenate}' ' ${call.concatenate} T9.UsrMName ${call.concatenate} ' ' ${call.concatenate} T9.UsrLName AS lovDescCollectorName,
       (Case WHEN T10.CNT <> 0 THEN 1 ELSE 0 END) as ActCallback,
       (Case WHEN T10.CNT <> 0 THEN CallBackDate ELSE null END) CallBackDate,
       (CASE WHEN T11.CNT <> 0 THEN 1 ELSE 0 END) as ActPromise       ,
       T2.InstallmentAmount as InstallmentAmount
             
FROM   ${add.schema}CollectionScreenDetails AS T1 INNER JOIN
       ${add.schema}CollectionDataDetails AS T2 ON T1.QueueId = T2.QueueId AND T1.RefNo = T2.ProductRef LEFT JOIN
	   ${add.schema}Queues AS T3 ON T1.QueueId = T3.QueueId LEFT JOIN
       ${add.schema}Currencies AS T4 ON T1.Currency = T4.CcyCode LEFT JOIN
       ${add.schema}Actions AS T5 ON T1.QueueId = T5.QueueId AND T1.RefNo = T5.RefNo LEFT JOIN
       AgencyDetails AS T6 ON T5.AgencyName=T6.AgencyName LEFT JOIN
	   Collectors as T13 ON T1.CollUserId=T13.CollectorId LEFT JOIN
       SecUsers AS T9 ON T13.CollectorNameUserid = T9.UsrID LEFT JOIN
       (Select QueueId,RefNo,Count(*)CNT,MAX(CallBackDate)CallBackDate from CallBackLog AS T1
	   where T1.Active=1 Group BY QueueId,RefNo)T10 ON T1.QueueId=T10.QueueId and T1.RefNo=T10.RefNo LEFT JOIN 
       (Select QueueId,RefNo,Count(*)CNT from PromiseLog AS T1
       where T1.PromiseStatus='PI' Group BY QueueId,RefNo)T11 ON T1.QueueId=T11.QueueId and T1.RefNo=T11.RefNo]]></createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="214" dbms="postgresql">
        <createView fullDefinition="false" viewName="CollectionScreenDetails_LView">
        <![CDATA[SELECT  T1.QueueId, T1.RefNo, T1.Name, T1.PartialyPaid,  
        T1.WorkflowId,T1.Reassignby,T1.ReassignDate,
        T1.CollUserId, T1.CustId, T1.Currency, T1.CustCIF, T2.OverdueAmt/power(10,T4.CcyEditField) as OverdueCCY,
        T1.PrmyPhOrMobNo,T1.HoldMovement,
		T2.Status,T2.ProductType AS LovDescProductType, T2.OverdueAmt AS lovDescOverdueAmt,
		T2.OverdueDays AS lovDescOverdueDays, T2.TotOustandingAmt,T2.Penalty,T2.OverdueDate,
		T2.ProCtgTypedesc,T2.ProCtgType,T3.Description AS lovDescQueueDesc,T3.PriorityValue AS lovDescPriorityValue,
		T3.CategoryCode AS QueueCategoryCode ,COALESCE(T4.CcyEditField, 0) AS lovDescCcyEditField,
        COALESCE(T5.Status, N'') AS lovDescActionStatus,T5.ActionCode,T5.NextRoleCode as ActionNextRoleCode, 
        T6.AgencyDesc,
        T9.UsrFName ${call.concatenate}' ' ${call.concatenate} T9.UsrMName ${call.concatenate} ' ' ${call.concatenate} T9.UsrLName AS lovDescCollectorName,
       (Case WHEN T10.CNT <> 0 THEN 1 ELSE 0 END) as ActCallback,
       (Case WHEN T10.CNT <> 0 THEN CallBackDate ELSE null END) CallBackDate,
       (CASE WHEN T11.CNT <> 0 THEN 1 ELSE 0 END) as ActPromise       ,
       T2.InstallmentAmount as InstallmentAmount
             
FROM   ${add.schema}CollectionScreenDetails AS T1 INNER JOIN
       ${add.schema}CollectionDataDetails AS T2 ON T1.QueueId = T2.QueueId AND T1.RefNo = T2.ProductRef LEFT JOIN
	   ${add.schema}Queues AS T3 ON T1.QueueId = T3.QueueId LEFT JOIN
       ${add.schema}Currencies AS T4 ON T1.Currency = T4.CcyCode LEFT JOIN
       ${add.schema}Actions AS T5 ON T1.QueueId = T5.QueueId AND T1.RefNo = T5.RefNo LEFT JOIN
       AgencyDetails AS T6 ON T5.AgencyName=T6.AgencyName LEFT JOIN
	   Collectors as T13 ON T1.CollUserId=T13.CollectorId LEFT JOIN
       SecUsers AS T9 ON T13.CollectorNameUserid = T9.UsrID LEFT JOIN
       (Select QueueId,RefNo,Count(*)CNT,MAX(CallBackDate)CallBackDate from CallBackLog AS T1
	   where T1.Active=cast(1 as character) Group BY QueueId,RefNo)T10 ON T1.QueueId=T10.QueueId and T1.RefNo=T10.RefNo LEFT JOIN 
       (Select QueueId,RefNo,Count(*)CNT from PromiseLog AS T1
       where T1.PromiseStatus='PI' Group BY QueueId,RefNo)T11 ON T1.QueueId=T11.QueueId and T1.RefNo=T11.RefNo]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="215">
        <addPrimaryKey columnNames="QueueId, RefNo" constraintName="PK_CollectionScreenDetails" tableName="CollectionScreenDetails"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="216">
        <createView fullDefinition="false" viewName="RepossessionDetails_AView">SELECT     T1.RepoId, T1.QueueId, T1.AssertType, T1.CustId, T1.RefNo, T1.OverdueAmt, T1.OutstandingDbtAmt, T1.DbtCurrency, T1.AssertMrktValue, T1.TotalCharges, 
                      T1.AmtRecovered, T1.DepreciationAllowed, T1.GainOrLoss, T1.GainOrLossAdj, T1.TranCurrency, T1.StrategyCode, T1.ContactCode, T1.ProcessDate, T1.RepoDate, 
                      T1.AgencyName, T1.AddLocalpolice, T1.EmailLocalpolice, T1.GarageOrWarehouseName, T1.Remarks, T1.FreeText1, T1.FreeText2, T1.FreeText3, T1.FreeText4, 
                      T1.Status, T1.Version, T1.Lastmntby, T1.Lastmnton, T1.Recordstatus, T1.Rolecode, T1.Nextrolecode, T1.Taskid, T1.Nexttaskid, T1.Recordtype, T1.Workflowid,
                      T1.AstType, T1.AstNumber, T1.AstValuationPrice, T1.AstLocationAddress, T1.AstTotalLoanOutstanding, T1.AstProfit, T1.AstPenalty, T1.AstCostOfValuation, T1.AstSellingCost,                      
                      T2.CcyDesc AS lovDescDbtCurrencyName, T3.CcyDesc AS lovDescTranCurrencyName, T4.Description AS lovDescContactCodeName, COALESCE(T2.CcyEditField, 0) 
                      AS lovDescDebitCcyFrm, COALESCE(T3.CcyEditField, 0) AS lovDescTranCcyFrm, T1.ExchangeRate, T1.TransactionAmt, T1.GarageOrWarehouseCharges, 
                      T1.MaintainCharges, T5.Description AS QueueDesc, T6.Name AS CustName, T6.CustCIF, T1.ProductType
FROM         ${add.schema}RepossessionDetails AS T1 LEFT OUTER JOIN
                      ${add.schema}Currencies AS T2 ON T1.DbtCurrency = T2.CcyCode LEFT OUTER JOIN
                      ${add.schema}Currencies AS T3 ON T1.TranCurrency = T3.CcyCode LEFT OUTER JOIN
                      ${add.schema}ContactCodes AS T4 ON T1.ContactCode = T4.Contactcode INNER JOIN
                      ${add.schema}Queues AS T5 ON T1.QueueId = T5.QueueId INNER JOIN
                      ${add.schema}CollectionScreenDetails AS T6 ON T1.QueueId = T6.QueueId AND T1.RefNo = T6.RefNo</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="217">
        <createView fullDefinition="false" viewName="RepossessionDetails_View">SELECT     T1.RepoId, T1.QueueId, T1.AssertType, T1.CustId, T1.RefNo, T1.OverdueAmt, T1.OutstandingDbtAmt, T1.DbtCurrency, T1.AssertMrktValue, T1.TotalCharges, 
                      T1.AmtRecovered, T1.DepreciationAllowed, T1.GainOrLoss, T1.GainOrLossAdj, T1.TranCurrency, T1.StrategyCode, T1.ContactCode, T1.ProcessDate, T1.RepoDate, 
                      T1.AgencyName, T1.AddLocalpolice, T1.EmailLocalpolice, T1.GarageOrWarehouseName, T1.Remarks, T1.FreeText1, T1.FreeText2, T1.FreeText3, T1.FreeText4, 
                      T1.Status, T1.Version, T1.Lastmntby, T1.Lastmnton, T1.Recordstatus, T1.Rolecode, T1.Nextrolecode, T1.Taskid, T1.Nexttaskid, T1.Recordtype, T1.Workflowid,
					  T1.AstType, T1.AstNumber, T1.AstValuationPrice, T1.AstLocationAddress, T1.AstTotalLoanOutstanding, T1.AstProfit, T1.AstPenalty, T1.AstCostOfValuation, T1.AstSellingCost,
                      T2.CcyDesc AS lovDescDbtCurrencyName, T3.CcyDesc AS lovDescTranCurrencyName, T4.Description AS lovDescContactCodeName, COALESCE(T2.CcyEditField, 0) 
                      AS lovDescDebitCcyFrm, COALESCE(T3.CcyEditField, 0) AS lovDescTranCcyFrm, T1.ExchangeRate, T1.TransactionAmt, T1.GarageOrWarehouseCharges, 
                      T1.MaintainCharges, T5.Description AS QueueDesc, T6.Name AS CustName, T6.CustCIF, T1.ProductType

FROM         ${add.schema}RepossessionDetails_Temp AS T1 LEFT OUTER JOIN
                      ${add.schema}Currencies AS T2 ON T1.DbtCurrency = T2.CcyCode LEFT OUTER JOIN
                      ${add.schema}Currencies AS T3 ON T1.TranCurrency = T3.CcyCode LEFT OUTER JOIN
                      ${add.schema}ContactCodes AS T4 ON T1.ContactCode = T4.Contactcode INNER JOIN
                      ${add.schema}Queues AS T5 ON T1.QueueId = T5.QueueId INNER JOIN
                      ${add.schema}CollectionScreenDetails AS T6 ON T1.QueueId = T6.QueueId AND T1.RefNo = T6.RefNo
UNION ALL
SELECT     T1.RepoId, T1.QueueId, T1.AssertType, T1.CustId, T1.RefNo, T1.OverdueAmt, T1.OutstandingDbtAmt, T1.DbtCurrency, T1.AssertMrktValue, T1.TotalCharges, 
                      T1.AmtRecovered, T1.DepreciationAllowed, T1.GainOrLoss, T1.GainOrLossAdj, T1.TranCurrency, T1.StrategyCode, T1.ContactCode, T1.ProcessDate, T1.RepoDate, 
                      T1.AgencyName, T1.AddLocalpolice, T1.EmailLocalpolice, T1.GarageOrWarehouseName, T1.Remarks, T1.FreeText1, T1.FreeText2, T1.FreeText3, T1.FreeText4, 
                      T1.Status, T1.Version, T1.Lastmntby, T1.Lastmnton, T1.Recordstatus, T1.Rolecode, T1.Nextrolecode, T1.Taskid, T1.Nexttaskid, T1.Recordtype, T1.Workflowid, 
					  T1.AstType, T1.AstNumber, T1.AstValuationPrice, T1.AstLocationAddress, T1.AstTotalLoanOutstanding, T1.AstProfit, T1.AstPenalty, T1.AstCostOfValuation, T1.AstSellingCost,
					 T2.CcyDesc AS lovDescDbtCurrencyName, T3.CcyDesc AS lovDescTranCurrencyName, T4.Description AS lovDescContactCodeName, COALESCE(T2.CcyEditField, 0) 
                      AS lovDescDebitCcyFrm, COALESCE(T3.CcyEditField, 0) AS lovDescTranCcyFrm, T1.ExchangeRate, T1.TransactionAmt, T1.GarageOrWarehouseCharges, 
                      T1.MaintainCharges, T5.Description AS QueueDesc, T6.Name AS CustName, T6.CustCIF, T1.ProductType

FROM         ${add.schema}RepossessionDetails AS T1 LEFT OUTER JOIN
                      ${add.schema}Currencies AS T2 ON T1.DbtCurrency = T2.CcyCode LEFT OUTER JOIN
                      ${add.schema}Currencies AS T3 ON T1.TranCurrency = T3.CcyCode LEFT OUTER JOIN
                      ${add.schema}ContactCodes AS T4 ON T1.ContactCode = T4.Contactcode INNER JOIN
                      ${add.schema}Queues AS T5 ON T1.QueueId = T5.QueueId INNER JOIN
                      ${add.schema}CollectionScreenDetails AS T6 ON T1.QueueId = T6.QueueId AND T1.RefNo = T6.RefNo
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          RepossessionDetails_TEMP
                            WHERE      Repoid = T1.Repoid)</createView>
    </changeSet>
    <!-- <changeSet author="PCFAdmin" id="218">
        <createView fullDefinition="false" viewName="RPT_ActionDetails_View">Select Distinct collectornameuserid,RTRIM(LTRIm(COALESCE(UsrFname,'')))+' '+RTRIM(LTRIm(COALESCE(UsrMname,'')))+' '+RTRIM(LTRIm(COALESCE(UsrLName,'')))CollectorName,
T3.QCategorycode,T3.QCategoryDesc,T1.CustCIF,T1.CustName,T1.ProCtgType,T1.ProCtgTypedesc,T4.WriteOffAmount,T4.WriteOffPerc,
	   T1.ProductRef,TotOustandingAmt,OverdueAmt,OverdueDays,T1.RecordStatus,T1.lastmnton ApprovedDate,T4.PlcCaseNumber,T4.PlcDateofSubmit,T8.name as lawyername,
	   T4.CaseNumber,PoliceStationName,getdate() Datetransferred,T4.Remarks,CPRCopy,Passport,OriginalPromissoryNote,OriginalContract,
	   ChqNumber,ChqBankName,ChqAmount,ChqIssuedDate,ExternalAgent,T4.Freetext1,T1.OverdueDate,CcyEditField,T1.Currency,
	   T1.Penalty,T1.RecoverdAmount,T9.PhoneCountryCode+T9.PhoneAreaCode+T9.PhoneNumber UsrMobile,
	   T12.PhoneCountryCode+T12.PhoneAreaCode+T12.PhoneNumber phonenumber,latestrpydate,RepayAmount PrincipalSchd,CustCRCPR,CustStsCode,CustStsDescription,Comments,
	   ScdTransferDate DateofReceived,MAReason,RPReason,LgReason,PlcReason
From   CollectionDataDetails T1 With(NoLock) Inner join
	   Queues T2 With(NoLock) ON T1.QueueId=T2.QueueId Inner join
	   QueueCategories T3 With(NoLock) ON T3.QCategoryCode=T2.CategoryCode Left Join
	   CollectionScreenDetails T4 With(NoLock) ON T1.QueueId=T4.QueueId and T1.ProductRef=T4.RefNo inner join
	   Collectors T5 With(NoLock) ON T5.CollectorId=T4.CollUserId LEFT join
	   (select refno,Queueid,Comments from (select refno,Queueid,Comments,row_number() over(partition by refno order by contactdate desc) as rn
      from CallBackLog) as T where rn = 1 ) T15  ON t15.RefNo=T1.ProductRef And T15.QueueId=T1.QueueId  INNER JOIN
	   SecUsers AS T6 With(NoLock) ON T5.collectornameuserid=T6.UsrID Left JOIN
	   PFFLIV..customerphonenumbers T9 With(NoLock) on T9.PhoneCustID=T1.CustId and T9.PhoneTypeCode='MOBILE' LEFT JOIN
	   PFFLIV..customerphonenumbers T12 With(NoLock) on T12.PhoneCustID=T1.CustId and T12.PhoneTypeCode='OFFICE' LEFT JOIN
	   PFFLIV..finpftdetails T10 With(NoLock) on T10.FinReference=T1.ProductRef LEFT JOIN
	   PFFLIV..finscheduledetails T11 With(NoLock) on T11.FinReference=T1.ProductRef and T1.OverdueDate=T11.SchDate LEFT JOIN
	   PFFLIV..Customers T13 With(NoLock) on T13.custid=T1.custId LEFT JOIN
	   PFFLIV..Bmtcuststatuscodes T14 With(NoLock) on T14.CustStsCode=T13.CustSts INNER JOIN
	   Currencies  AS T7 With(NoLock) ON T7.ccycode=T1.Currency left outer join
	   LawyerDetails AS T8 With(NoLock) on LawyerName = CAST(T8.LawyerId as nvarchar(50)) LEFT JOIN
	   Actions AS T16 With(NoLock) on T16.RefNo=T1.ProductRef</createView>
    </changeSet> -->
    <changeSet author="PCFAdmin" id="219">
        <addPrimaryKey columnNames="HolidayCode" constraintName="PK_SMTHolidayMaster_Temp" tableName="SMTHolidayMaster_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="220">
        <createView fullDefinition="false" viewName="SMTHolidayMaster_View">SELECT     T1.HolidayCode, T1.HolidayYear, T1.HolidayType, T1.Holidays,T1.HolidayCodeDesc, T1.HolidayDesc1, T1.HolidayDesc2, T1.HolidayDesc3, T1.Version, T1.LastMntBy, 
                      T1.LastMntOn
FROM         SMTHolidayMaster_TEMP AS T1
UNION ALL
SELECT     T1.HolidayCode, T1.HolidayYear, T1.HolidayType, T1.Holidays, T1.HolidayCodeDesc, T1.HolidayDesc1, T1.HolidayDesc2, T1.HolidayDesc3, T1.Version, T1.LastMntBy, 
                      T1.LastMntOn
FROM         SMTHolidayMaster AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          SMTHolidayMaster_TEMP
                            WHERE      HolidayCode = T1.HolidayCode AND HolidayYear = T1.HolidayYear AND HolidayType = T1.HolidayType)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="221">
        <createView fullDefinition="false" viewName="Alerts_AView">SELECT	 A.AlertID, A.AlertTypeCode, A.Reference,  AT.AlertCategory,
                 A.AssignUser, CDD.CustId, A.AlertIsActive, 
                 AT.AlertTypeDesc, AT.RoleCodes, AT.AlertTypeIsActive, AT.AlertMsgType,
                 AT.Remarks,A.Status ,
                 A.Version , A.LastMntBy, A.LastMntOn, A.RecordStatus, A.RoleCode, A.NextRoleCode, 
				 A.TaskId, A.NextTaskId, A.RecordType, A.WorkflowId
FROM    	Alerts AS A  
			inner join AlertTypes as AT on A.AlertTypeCode = AT.AlertTypeCode 
			inner join collectionDataDetails as CDD on A.Reference = CDD.ProductRef</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="222">
        <createView fullDefinition="false" viewName="Alerts_View">SELECT	 A.AlertID, A.AlertTypeCode, A.Reference,  AT.AlertCategory,
                 A.AssignUser, CDD.CustId, A.AlertIsActive, 
                 AT.AlertTypeDesc, AT.RoleCodes, AT.AlertTypeIsActive, AT.AlertMsgType,
                 AT.Remarks,A.status,
                 A.Version , A.LastMntBy, A.LastMntOn, A.RecordStatus, A.RoleCode, A.NextRoleCode, 
				 A.TaskId, A.NextTaskId, A.RecordType, A.WorkflowId
FROM    	Alerts AS A  
			inner join AlertTypes as AT on A.AlertTypeCode = AT.AlertTypeCode 
			inner join collectionDataDetails as CDD on A.Reference = CDD.ProductRef</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="223">
        <createView fullDefinition="false" viewName="SecRoles_View">SELECT  RoleApp,RoleID,AppDescription as lovDescRoleAppName,RoleCd,RoleDesc,RoleDesc as LovDescRoleDesc,RoleCategory,T1.Version,
T1.LastMntBy,T1.LastMntOn,T1.RecordStatus,T1.RoleCode,T1.NextRoleCode,T1.TaskId,
T1.NextTaskId,T1.RecordType,T1.WorkflowId FROM  
${add.schema}SecRoles AS T1 LEFT JOIN PTApplicationDetails AS PT
ON T1.RoleAPP =PT.APPID 
	</createView>
    </changeSet>
  <changeSet author="PCFAdmin" id="224" dbms="mssql">
        <createView fullDefinition="false" viewName="SecRolesRights_View">SELECT DISTINCT 
                      TOP (100) PERCENT ${add.schema}SecRoles.RoleCd, ${add.schema}SecGroups.GrpCode, ${add.schema}SecRights.RightName, ${add.schema}SecRights.RightType, ${add.schema}SecGroupRights.AccessType, 
                      ${add.schema}PTApplicationDetails.AppCode, ${add.schema}SecUsers.UsrID
FROM         ${add.schema}PTApplicationDetails INNER JOIN
                      ${add.schema}SecGroups INNER JOIN
                      ${add.schema}SecRoleGroups ON ${add.schema}SecGroups.GrpID = ${add.schema}SecRoleGroups.GrpID INNER JOIN
                      ${add.schema}SecGroupRights ON ${add.schema}SecGroups.GrpID = ${add.schema}SecGroupRights.GrpID INNER JOIN
                      ${add.schema}SecRights ON ${add.schema}SecGroupRights.RightID = ${add.schema}SecRights.RightID INNER JOIN
                      ${add.schema}SecRoles ON ${add.schema}SecRoleGroups.RoleID = ${add.schema}SecRoles.RoleID ON ${add.schema}PTApplicationDetails.AppID = ${add.schema}SecRoles.RoleApp INNER JOIN
                      ${add.schema}SecUserRoles ON ${add.schema}SecRoles.RoleID = ${add.schema}SecUserRoles.RoleID INNER JOIN
                      ${add.schema}SecUsers ON ${add.schema}SecUserRoles.UsrID = ${add.schema}SecUsers.UsrID
ORDER BY ${add.schema}SecRoles.RoleCd</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="224" dbms="oracle">
        <createView fullDefinition="false" viewName="SecRolesRights_View">SELECT DISTINCT 
                      TOP (100) PERCENT ${add.schema}SecRoles.RoleCd, ${add.schema}SecGroups.GrpCode, ${add.schema}SecRights.RightName, ${add.schema}SecRights.RightType, ${add.schema}SecGroupRights.AccessType, 
                      ${add.schema}PTApplicationDetails.AppCode, ${add.schema}SecUsers.UsrID
FROM         ${add.schema}PTApplicationDetails INNER JOIN
                      ${add.schema}SecGroups INNER JOIN
                      ${add.schema}SecRoleGroups ON ${add.schema}SecGroups.GrpID = ${add.schema}SecRoleGroups.GrpID INNER JOIN
                      ${add.schema}SecGroupRights ON ${add.schema}SecGroups.GrpID = ${add.schema}SecGroupRights.GrpID INNER JOIN
                      ${add.schema}SecRights ON ${add.schema}SecGroupRights.RightID = ${add.schema}SecRights.RightID INNER JOIN
                      ${add.schema}SecRoles ON ${add.schema}SecRoleGroups.RoleID = ${add.schema}SecRoles.RoleID ON ${add.schema}PTApplicationDetails.AppID = ${add.schema}SecRoles.RoleApp INNER JOIN
                      ${add.schema}SecUserRoles ON ${add.schema}SecRoles.RoleID = ${add.schema}SecUserRoles.RoleID INNER JOIN
                      ${add.schema}SecUsers ON ${add.schema}SecUserRoles.UsrID = ${add.schema}SecUsers.UsrID
ORDER BY ${add.schema}SecRoles.RoleCd</createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="224" dbms="postgresql">
        <createView fullDefinition="false" viewName="SecRolesRights_View">SELECT DISTINCT   SecRoles.RoleCd,  SecGroups.GrpCode,  SecRights.RightName,  SecRights.RightType,  SecGroupRights.AccessType, 
                       PTApplicationDetails.AppCode,  SecUsers.UsrID
FROM          PTApplicationDetails INNER JOIN
                       SecGroups INNER JOIN
                       SecRoleGroups ON  SecGroups.GrpID =  SecRoleGroups.GrpID INNER JOIN
                       SecGroupRights ON  SecGroups.GrpID =  SecGroupRights.GrpID INNER JOIN
                       SecRights ON  SecGroupRights.RightID =  SecRights.RightID INNER JOIN
                       SecRoles ON  SecRoleGroups.RoleID =  SecRoles.RoleID ON  PTApplicationDetails.AppID =  SecRoles.RoleApp INNER JOIN
                       SecUserRoles ON  SecRoles.RoleID =  SecUserRoles.RoleID INNER JOIN
                       SecUsers ON  SecUserRoles.UsrID =  SecUsers.UsrID
ORDER BY  SecRoles.RoleCd LIMIT 100</createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="225" dbms="mssql">
        <createView fullDefinition="false" viewName="SecRoleValidations_View">SELECT     TOP (100) PERCENT T5.RoleCd, T1.GrpCode, T4.FieldName, T0.AppCode, T7.UsrID, T1.Version
FROM         ${add.schema}PTApplicationDetails AS T0 INNER JOIN
                      ${add.schema}SecGroups AS T1 INNER JOIN
                      ${add.schema}SecRoleGroups AS T2 ON T1.GrpID = T2.GrpID INNER JOIN
                      ${add.schema}SecGroupValidations AS T3 ON T1.GrpID = T3.GrpId INNER JOIN
                      ${add.schema}SecValidations AS T4 ON T3.ValidId = T4.ValidId INNER JOIN
                      ${add.schema}SecRoles AS T5 ON T2.RoleID = T5.RoleID ON T0.AppID = T5.RoleApp INNER JOIN
                      ${add.schema}SecUserRoles AS T6 ON T5.RoleID = T6.RoleID INNER JOIN
                      ${add.schema}SecUsers AS T7 ON T6.UsrID = T7.UsrID
ORDER BY T5.RoleCd</createView>
    </changeSet> 
     <changeSet author="PCFAdmin" id="225" dbms="oracle">
        <createView fullDefinition="false" viewName="SecRoleValidations_View">SELECT     TOP (100) PERCENT T5.RoleCd, T1.GrpCode, T4.FieldName, T0.AppCode, T7.UsrID, T1.Version
FROM         ${add.schema}PTApplicationDetails AS T0 INNER JOIN
                      ${add.schema}SecGroups AS T1 INNER JOIN
                      ${add.schema}SecRoleGroups AS T2 ON T1.GrpID = T2.GrpID INNER JOIN
                      ${add.schema}SecGroupValidations AS T3 ON T1.GrpID = T3.GrpId INNER JOIN
                      ${add.schema}SecValidations AS T4 ON T3.ValidId = T4.ValidId INNER JOIN
                      ${add.schema}SecRoles AS T5 ON T2.RoleID = T5.RoleID ON T0.AppID = T5.RoleApp INNER JOIN
                      ${add.schema}SecUserRoles AS T6 ON T5.RoleID = T6.RoleID INNER JOIN
                      ${add.schema}SecUsers AS T7 ON T6.UsrID = T7.UsrID
ORDER BY T5.RoleCd</createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="225" dbms="postgresql">
        <createView fullDefinition="false" viewName="SecRoleValidations_View">SELECT  T5.RoleCd, T1.GrpCode, T4.FieldName, T0.AppCode, T7.UsrID, T1.Version
FROM         ${add.schema}PTApplicationDetails AS T0 INNER JOIN
                      ${add.schema}SecGroups AS T1 INNER JOIN
                      ${add.schema}SecRoleGroups AS T2 ON T1.GrpID = T2.GrpID INNER JOIN
                      ${add.schema}SecGroupValidations AS T3 ON T1.GrpID = T3.GrpId INNER JOIN
                      ${add.schema}SecValidations AS T4 ON T3.ValidId = T4.ValidId INNER JOIN
                      ${add.schema}SecRoles AS T5 ON T2.RoleID = T5.RoleID ON T0.AppID = T5.RoleApp INNER JOIN
                      ${add.schema}SecUserRoles AS T6 ON T5.RoleID = T6.RoleID INNER JOIN
                      ${add.schema}SecUsers AS T7 ON T6.UsrID = T7.UsrID
ORDER BY T5.RoleCd LIMIT 100</createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="226">
        <createView fullDefinition="false" viewName="SecUsers_AView">SELECT     T1.UsrID, T1.UsrLogin, T1.UsrPwd, T1.UserStaffID, T1.UsrFName, T1.UsrMName, T1.UsrLName, T1.UsrMobile, T1.UsrEmail, T1.UsrEnabled, T1.UsrCanSignonFrom, 
                      T1.UsrCanSignonTo, T1.UsrCanOverrideLimits, T1.UsrAcExp, T1.UsrAcExpDt, T1.UsrCredentialsExp, T1.UsrAcLocked, T1.UsrLanguage, 
                      T5.LngDesc AS LovDescUsrLanguage, T1.UsrDftAppId, T2.AppCode AS LovDescUsrDftAppCode, T2.AppDescription AS LovDescUsrDftAppCodeName, 
                      T1.UsrBranchCode, T4.BranchDesc AS LovDescUsrBranchCodeName, T1.UsrDeptCode, T3.DeptDesc AS LovDescUsrDeptCodeName, T1.UsrToken, 
                      T1.UsrIsMultiBranch, T1.UsrInvldLoginTries,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.UsrDftAppCode
FROM         ${add.schema}SecUsers AS T1 INNER JOIN
                      ${add.schema}PTApplicationDetails AS T2 ON T1.UsrDftAppId = T2.AppID INNER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.UsrDeptCode = T3.DeptCode INNER JOIN
                      ${add.schema}Branches AS T4 ON T1.UsrBranchCode = T4.BranchCode INNER JOIN
                      ${add.schema}Languages AS T5 ON T1.UsrLanguage = T5.LngCode 
 </createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="227">
        <createView fullDefinition="false" viewName="SecUsers_RView">SELECT     T1.UsrID, T1.UsrLogin, T1.UsrPwd, T1.UserStaffID, T1.UsrFName, T1.UsrMName, T1.UsrLName, T1.UsrMobile, T1.UsrEmail, T1.UsrEnabled, T1.UsrCanSignonFrom, 
                      T1.UsrCanSignonTo, T1.UsrCanOverrideLimits, T1.UsrAcExp, T1.UsrAcExpDt, T1.UsrCredentialsExp, T1.UsrAcLocked, T1.UsrLanguage, 
                      T5.LngDesc AS LovDescUsrLanguage, T1.UsrDftAppId, T2.AppCode AS LovDescUsrDftAppCode, T2.AppDescription AS LovDescUsrDftAppCodeName, 
                      T1.UsrBranchCode, T4.BranchDesc AS LovDescUsrBranchCodeName, T1.UsrDeptCode, T3.DeptDesc AS LovDescUsrDeptCodeName, T1.UsrToken, 
                      T1.UsrIsMultiBranch, T1.UsrInvldLoginTries, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.UsrDftAppCode
FROM         ${add.schema}SecUsers_RTemp AS T1 INNER JOIN
                      ${add.schema}PTApplicationDetails AS T2 ON T1.UsrDftAppId = T2.AppID INNER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.UsrDeptCode = T3.DeptCode INNER JOIN
                      ${add.schema}Branches AS T4 ON T1.UsrBranchCode = T4.BranchCode INNER JOIN
                      ${add.schema}Languages AS T5 ON T1.UsrLanguage = T5.LngCode 
                     
UNION ALL
SELECT     T1.UsrID, T1.UsrLogin, T1.UsrPwd, T1.UserStaffID, T1.UsrFName, T1.UsrMName, T1.UsrLName, T1.UsrMobile, T1.UsrEmail, T1.UsrEnabled, T1.UsrCanSignonFrom, 
                      T1.UsrCanSignonTo, T1.UsrCanOverrideLimits, T1.UsrAcExp, T1.UsrAcExpDt, T1.UsrCredentialsExp, T1.UsrAcLocked, T1.UsrLanguage, 
                      T5.LngDesc AS LovDescUsrLanguage, T1.UsrDftAppId, T2.AppCode AS LovDescUsrDftAppCode, T2.AppDescription AS LovDescUsrDftAppCodeName, 
                      T1.UsrBranchCode, T4.BranchDesc AS LovDescUsrBranchCodeName, T1.UsrDeptCode, T3.DeptDesc AS LovDescUsrDeptCodeName, T1.UsrToken, 
                      T1.UsrIsMultiBranch, T1.UsrInvldLoginTries,  T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.UsrDftAppCode
FROM         ${add.schema}SecUsers AS T1 INNER JOIN
                      ${add.schema}PTApplicationDetails AS T2 ON T1.UsrDftAppId = T2.AppID INNER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.UsrDeptCode = T3.DeptCode INNER JOIN
                      ${add.schema}Branches AS T4 ON T1.UsrBranchCode = T4.BranchCode INNER JOIN
                      ${add.schema}Languages AS T5 ON T1.UsrLanguage = T5.LngCode 
                     
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          SecUsers_RTemp
                            WHERE      UsrID = T1.UsrID)
                    
					
				

</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="228">
        <createView fullDefinition="false" viewName="SecUsers_View">SELECT     T1.UsrID, T1.UsrLogin, T1.UsrPwd, T1.UserStaffID, T1.UsrFName, T1.UsrMName, T1.UsrLName, T1.UsrMobile, T1.UsrEmail, T1.UsrEnabled, T1.UsrCanSignonFrom, 
                      T1.UsrCanSignonTo, T1.UsrCanOverrideLimits, T1.UsrAcExp, T1.UsrAcExpDt, T1.UsrCredentialsExp, T1.UsrAcLocked, T1.UsrLanguage, 
                      T5.LngDesc AS LovDescUsrLanguage, T1.UsrDftAppId, T2.AppCode AS LovDescUsrDftAppCode, T2.AppDescription AS LovDescUsrDftAppCodeName, 
                      T1.UsrBranchCode, T4.BranchDesc AS LovDescUsrBranchCodeName, T1.UsrDeptCode, T3.DeptDesc AS LovDescUsrDeptCodeName, T1.UsrToken, 
                      T1.UsrIsMultiBranch, T1.UsrInvldLoginTries, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 
                      T1.RecordType, T1.WorkflowId, T1.UsrDftAppCode
FROM         ${add.schema}SecUsers_Temp AS T1 INNER JOIN
                      ${add.schema}PTApplicationDetails AS T2 ON T1.UsrDftAppId = T2.AppID INNER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.UsrDeptCode = T3.DeptCode INNER JOIN
                      ${add.schema}Branches AS T4 ON T1.UsrBranchCode = T4.BranchCode INNER JOIN
                      ${add.schema}Languages AS T5 ON T1.UsrLanguage = T5.LngCode
 UNION ALL                     
SELECT     T1.UsrID, T1.UsrLogin, T1.UsrPwd, T1.UserStaffID, T1.UsrFName, T1.UsrMName, T1.UsrLName, T1.UsrMobile, T1.UsrEmail, T1.UsrEnabled, T1.UsrCanSignonFrom, 
                      T1.UsrCanSignonTo, T1.UsrCanOverrideLimits, T1.UsrAcExp, T1.UsrAcExpDt, T1.UsrCredentialsExp, T1.UsrAcLocked, T1.UsrLanguage, 
                      T5.LngDesc AS LovDescUsrLanguage, T1.UsrDftAppId, T2.AppCode AS LovDescUsrDftAppCode, T2.AppDescription AS LovDescUsrDftAppCodeName, 
                      T1.UsrBranchCode, T4.BranchDesc AS LovDescUsrBranchCodeName, T1.UsrDeptCode, T3.DeptDesc AS LovDescUsrDeptCodeName, T1.UsrToken, 
                      T1.UsrIsMultiBranch, T1.UsrInvldLoginTries, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 
                      T1.RecordType, T1.WorkflowId, T1.UsrDftAppCode
FROM         ${add.schema}SecUsers AS T1 INNER JOIN
                      ${add.schema}PTApplicationDetails AS T2 ON T1.UsrDftAppId = T2.AppID INNER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.UsrDeptCode = T3.DeptCode INNER JOIN
                      ${add.schema}Branches AS T4 ON T1.UsrBranchCode = T4.BranchCode INNER JOIN
                      ${add.schema}Languages AS T5 ON T1.UsrLanguage = T5.LngCode
                      
                      WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          SecUsers_Temp
                            WHERE      UsrID = T1.UsrID)
                  </createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="229" dbms="mssql">
        <createView fullDefinition="false" viewName="UserRights_View">SELECT DISTINCT TOP (100) T7.RightID, T7.RightType, T7.RightName, T6.AccessType, T7.Version, T1.UsrID, T8.AppCode
FROM         ${add.schema}SecUsers AS T1 INNER JOIN
                      ${add.schema}SecUserRoles AS T2 ON T1.UsrID = T2.UsrID INNER JOIN
                      ${add.schema}SecRoles AS T3 ON T2.RoleID = T3.RoleID INNER JOIN
                      ${add.schema}SecRoleGroups AS T4 ON T3.RoleID = T4.RoleID INNER JOIN
                      ${add.schema}SecGroups AS T5 ON T4.GrpID = T5.GrpID INNER JOIN
                      ${add.schema}SecGroupRights AS T6 ON T5.GrpID = T6.GrpID INNER JOIN
                      ${add.schema}SecRights AS T7 ON T6.RightID = T7.RightID INNER JOIN
                      ${add.schema}PTApplicationDetails AS T8 ON T3.RoleApp = T8.AppID
ORDER BY T1.UsrID, T8.AppCode, T7.RightType</createView>
    </changeSet>
        <changeSet author="PCFAdmin" id="229" dbms="oracle">
        <createView fullDefinition="false" viewName="UserRights_View">SELECT DISTINCT TOP (100) T7.RightID, T7.RightType, T7.RightName, T6.AccessType, T7.Version, T1.UsrID, T8.AppCode
FROM         ${add.schema}SecUsers AS T1 INNER JOIN
                      ${add.schema}SecUserRoles AS T2 ON T1.UsrID = T2.UsrID INNER JOIN
                      ${add.schema}SecRoles AS T3 ON T2.RoleID = T3.RoleID INNER JOIN
                      ${add.schema}SecRoleGroups AS T4 ON T3.RoleID = T4.RoleID INNER JOIN
                      ${add.schema}SecGroups AS T5 ON T4.GrpID = T5.GrpID INNER JOIN
                      ${add.schema}SecGroupRights AS T6 ON T5.GrpID = T6.GrpID INNER JOIN
                      ${add.schema}SecRights AS T7 ON T6.RightID = T7.RightID INNER JOIN
                      ${add.schema}PTApplicationDetails AS T8 ON T3.RoleApp = T8.AppID
ORDER BY T1.UsrID, T8.AppCode, T7.RightType</createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="229" dbms="postgresql">
        <createView fullDefinition="false" viewName="UserRights_View">SELECT DISTINCT  T7.RightID, T7.RightType, T7.RightName, T6.AccessType, T7.Version, T1.UsrID, T8.AppCode
FROM          SecUsers AS T1 INNER JOIN
                       SecUserRoles AS T2 ON T1.UsrID = T2.UsrID INNER JOIN
                       SecRoles AS T3 ON T2.RoleID = T3.RoleID INNER JOIN
                       SecRoleGroups AS T4 ON T3.RoleID = T4.RoleID INNER JOIN
                       SecGroups AS T5 ON T4.GrpID = T5.GrpID INNER JOIN
                       SecGroupRights AS T6 ON T5.GrpID = T6.GrpID INNER JOIN
                       SecRights AS T7 ON T6.RightID = T7.RightID INNER JOIN
                       PTApplicationDetails AS T8 ON T3.RoleApp = T8.AppID
ORDER BY T1.UsrID, T8.AppCode, T7.RightType LIMIT 100</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="230" dbms="mssql">
        <createView fullDefinition="false" viewName="UserRoles_AView">SELECT     TOP (100) PERCENT ${add.schema}SecUserRoles.UsrRoleID, ${add.schema}SecUserRoles.RoleID, ${add.schema}SecUserRoles.Version, ${add.schema}SecUserRoles.LastMntBy, 
                      ${add.schema}SecUserRoles.LastMntOn, ${add.schema}SecUserRoles.RecordStatus, ${add.schema}SecUserRoles.RoleCode, ${add.schema}SecUserRoles.NextRoleCode, ${add.schema}SecUserRoles.TaskId, 
                      ${add.schema}SecUserRoles.NextTaskId, ${add.schema}SecUserRoles.RecordType, ${add.schema}SecUserRoles.WorkflowId, ${add.schema}SecRoles.RoleApp, ${add.schema}PTApplicationDetails.AppCode, 
                      ${add.schema}SecUsers.UsrID, ${add.schema}SecUsers.UsrLogin AS LovDescUserLogin, ${add.schema}SecRoles.RoleCd AS LovDescRoleCd
FROM         ${add.schema}SecUserRoles INNER JOIN
                      ${add.schema}SecRoles ON ${add.schema}SecUserRoles.RoleID = ${add.schema}SecRoles.RoleID INNER JOIN
                      ${add.schema}SecUsers ON ${add.schema}SecUserRoles.UsrID = ${add.schema}SecUsers.UsrID INNER JOIN
                      ${add.schema}PTApplicationDetails ON ${add.schema}SecRoles.RoleApp = ${add.schema}PTApplicationDetails.AppID
ORDER BY ${add.schema}SecUsers.UsrID, ${add.schema}PTApplicationDetails.AppCode</createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="230" dbms="oracle">
        <createView fullDefinition="false" viewName="UserRoles_AView">SELECT     TOP (100) ${add.schema}SecUserRoles.UsrRoleID, ${add.schema}SecUserRoles.RoleID, ${add.schema}SecUserRoles.Version, ${add.schema}SecUserRoles.LastMntBy, 
                      ${add.schema}SecUserRoles.LastMntOn, ${add.schema}SecUserRoles.RecordStatus, ${add.schema}SecUserRoles.RoleCode, ${add.schema}SecUserRoles.NextRoleCode, ${add.schema}SecUserRoles.TaskId, 
                      ${add.schema}SecUserRoles.NextTaskId, ${add.schema}SecUserRoles.RecordType, ${add.schema}SecUserRoles.WorkflowId, ${add.schema}SecRoles.RoleApp, ${add.schema}PTApplicationDetails.AppCode, 
                      ${add.schema}SecUsers.UsrID, ${add.schema}SecUsers.UsrLogin AS LovDescUserLogin, ${add.schema}SecRoles.RoleCd AS LovDescRoleCd
FROM         ${add.schema}SecUserRoles INNER JOIN
                      ${add.schema}SecRoles ON ${add.schema}SecUserRoles.RoleID = ${add.schema}SecRoles.RoleID INNER JOIN
                      ${add.schema}SecUsers ON ${add.schema}SecUserRoles.UsrID = ${add.schema}SecUsers.UsrID INNER JOIN
                      ${add.schema}PTApplicationDetails ON ${add.schema}SecRoles.RoleApp = ${add.schema}PTApplicationDetails.AppID
ORDER BY ${add.schema}SecUsers.UsrID, ${add.schema}PTApplicationDetails.AppCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="230" dbms="postgresql">
        <createView fullDefinition="false" viewName="UserRoles_AView">SELECT ${add.schema}SecUserRoles.UsrRoleID, ${add.schema}SecUserRoles.RoleID, ${add.schema}SecUserRoles.Version, ${add.schema}SecUserRoles.LastMntBy, 
                      ${add.schema}SecUserRoles.LastMntOn, ${add.schema}SecUserRoles.RecordStatus, ${add.schema}SecUserRoles.RoleCode, ${add.schema}SecUserRoles.NextRoleCode, ${add.schema}SecUserRoles.TaskId, 
                      ${add.schema}SecUserRoles.NextTaskId, ${add.schema}SecUserRoles.RecordType, ${add.schema}SecUserRoles.WorkflowId, ${add.schema}SecRoles.RoleApp, ${add.schema}PTApplicationDetails.AppCode, 
                      ${add.schema}SecUsers.UsrID, ${add.schema}SecUsers.UsrLogin AS LovDescUserLogin, ${add.schema}SecRoles.RoleCd AS LovDescRoleCd
FROM         ${add.schema}SecUserRoles INNER JOIN
                      ${add.schema}SecRoles ON ${add.schema}SecUserRoles.RoleID = ${add.schema}SecRoles.RoleID INNER JOIN
                      ${add.schema}SecUsers ON ${add.schema}SecUserRoles.UsrID = ${add.schema}SecUsers.UsrID INNER JOIN
                      ${add.schema}PTApplicationDetails ON ${add.schema}SecRoles.RoleApp = ${add.schema}PTApplicationDetails.AppID
ORDER BY ${add.schema}SecUsers.UsrID, ${add.schema}PTApplicationDetails.AppCode LIMIT 100</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="231" dbms="mssql">
        <createView fullDefinition="false" viewName="UserRoles_View">SELECT TOP (100) PERCENT T1.UsrID, T3.RoleID, T3.RoleApp, T4.AppCode, T3.RoleCd, T3.RoleDesc, T3.RoleCategory, T3.Version, T3.LastMntBy, T3.LastMntOn
FROM         ${add.schema}SecUsers AS T1 INNER JOIN
                      ${add.schema}SecUserRoles AS T2 ON T1.UsrID = T2.UsrID INNER JOIN
                      ${add.schema}SecRoles AS T3 ON T2.RoleID = T3.RoleID INNER JOIN
                      ${add.schema}PTApplicationDetails AS T4 ON T4.AppID = T3.RoleApp
ORDER BY T1.UsrID, T3.RoleApp, T3.RoleCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="231" dbms="oracle">
        <createView fullDefinition="false" viewName="UserRoles_View">SELECT TOP (100) PERCENT T1.UsrID, T3.RoleID, T3.RoleApp, T4.AppCode, T3.RoleCd, T3.RoleDesc, T3.RoleCategory, T3.Version, T3.LastMntBy, T3.LastMntOn
FROM         ${add.schema}SecUsers AS T1 INNER JOIN
                      ${add.schema}SecUserRoles AS T2 ON T1.UsrID = T2.UsrID INNER JOIN
                      ${add.schema}SecRoles AS T3 ON T2.RoleID = T3.RoleID INNER JOIN
                      ${add.schema}PTApplicationDetails AS T4 ON T4.AppID = T3.RoleApp
ORDER BY T1.UsrID, T3.RoleApp, T3.RoleCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="231" dbms="postgresql">
        <createView fullDefinition="false" viewName="UserRoles_View">SELECT  T1.UsrID, T3.RoleID, T3.RoleApp, T4.AppCode, T3.RoleCd, T3.RoleDesc, T3.RoleCategory, T3.Version, T3.LastMntBy, T3.LastMntOn
FROM         ${add.schema}SecUsers AS T1 INNER JOIN
                      ${add.schema}SecUserRoles AS T2 ON T1.UsrID = T2.UsrID INNER JOIN
                      ${add.schema}SecRoles AS T3 ON T2.RoleID = T3.RoleID INNER JOIN
                      ${add.schema}PTApplicationDetails AS T4 ON T4.AppID = T3.RoleApp
ORDER BY T1.UsrID, T3.RoleApp, T3.RoleCode LIMIT 100</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="232">
        <createView fullDefinition="false" viewName="CardDetail_AView">SELECT
	T1.CardNumber, T1.CustName, T1.CustCRCPR, T1.TelephoneNum, T1.Address, T1.FinalOsAmount, T1.MrlAmount, T1.UnutilizedMrlAmt, T1.DueAmount, T1.UnpaidAmount, T1.Dpd, T1.LastPaymentDate, 
	T1.LastPaidAmount, T1.TotPenaltyAmount, T1.ReportDate, T1.PaymentSource, T1.ExtractionDate, T1.CustCIF, T1.BasicSalary, 
	T1.Allowances, T1.EmpName, T1.Position, T1.Currency, T1.Nationality, COALESCE(T2.CardDesc,'') CardDesc, Sum(COALESCE(T3.InstallmentAmount,0)) InstallmentAmount
FROM
	CardDetail T1
	left Join CardDescription T2 on T2.CardNumPrefix=SubString(T1.CardNumber,1,6)
	left Join CardTransaction T3 on T3.CardNumber=T1.CardNumber
Group by T1.CardNumber, T1.CustName, T1.CustCRCPR, T1.TelephoneNum, T1.Address, T1.FinalOsAmount, T1.MrlAmount, T1.UnutilizedMrlAmt, T1.DueAmount, T1.UnpaidAmount, T1.Dpd, T1.LastPaymentDate, 
	T1.LastPaidAmount, T1.TotPenaltyAmount, T1.ReportDate, T1.PaymentSource, T1.ExtractionDate, T1.CustCIF, T1.BasicSalary, 
	T1.Allowances, T1.EmpName, T1.Position, T1.Currency, T1.Nationality, T2.CardDesc</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="233">
        <createView fullDefinition="false" viewName="CardDetail_View">SELECT
	T1.CardNumber, T1.CustName, T1.CustCRCPR, T1.TelephoneNum, T1.Address, T1.FinalOsAmount, T1.MrlAmount, T1.UnutilizedMrlAmt, T1.DueAmount, T1.UnpaidAmount, T1.Dpd, T1.LastPaymentDate, 
	T1.LastPaidAmount, T1.TotPenaltyAmount, T1.ReportDate, T1.PaymentSource, T1.ExtractionDate, T1.CustCIF, T1.BasicSalary, 
	T1.Allowances, T1.EmpName, T1.Position, T1.Currency, T1.Nationality, COALESCE(T2.CardDesc,'') CardDesc, Sum(COALESCE(T3.InstallmentAmount,0)) InstallmentAmount
FROM
	${add.schema}CardDetail_Temp AS T1 
	Left Join CardDescription T2 on T2.CardNumPrefix=SubString(T1.CardNumber,1,6)
	Left Join CardTransaction_Temp T3 on T3.CardNumber=T1.CardNumber
	Group by T1.CardNumber, T1.CustName, T1.CustCRCPR, T1.TelephoneNum, T1.Address, T1.FinalOsAmount, T1.MrlAmount, T1.UnutilizedMrlAmt, T1.DueAmount, T1.UnpaidAmount, T1.Dpd, T1.LastPaymentDate, 
	T1.LastPaidAmount, T1.TotPenaltyAmount, T1.ReportDate, T1.PaymentSource, T1.ExtractionDate, T1.CustCIF, T1.BasicSalary, 
	T1.Allowances, T1.EmpName, T1.Position, T1.Currency, T1.Nationality, CardDesc
UNION ALL
SELECT
	T1.CardNumber, T1.CustName, T1.CustCRCPR, T1.TelephoneNum, T1.Address, T1.FinalOsAmount, T1.MrlAmount, T1.UnutilizedMrlAmt, T1.DueAmount, T1.UnpaidAmount, T1.Dpd, T1.LastPaymentDate, 
	T1.LastPaidAmount, T1.TotPenaltyAmount, T1.ReportDate, T1.PaymentSource, T1.ExtractionDate, T1.CustCIF, T1.BasicSalary, 
	T1.Allowances, T1.EmpName, T1.Position, T1.Currency, T1.Nationality, COALESCE(T2.CardDesc,'') CardDesc, Sum(COALESCE(T3.InstallmentAmount,0)) InstallmentAmount
FROM 
	${add.schema}CardDetail AS T1 
	Left Join CardDescription T2 on T2.CardNumPrefix=SubString(T1.CardNumber,1,6)
	Left Join ${add.schema}CardTransaction T3 on T3.CardNumber=T1.CardNumber
	where NOT EXISTS
		(SELECT 1
			FROM CardDetail_TEMP
			WHERE CardNumber = T1.CardNumber)
	Group by T1.CardNumber, T1.CustName, T1.CustCRCPR, T1.TelephoneNum, T1.Address, T1.FinalOsAmount, T1.MrlAmount, T1.UnutilizedMrlAmt, T1.DueAmount, T1.UnpaidAmount, T1.Dpd, T1.LastPaymentDate, 
	T1.LastPaidAmount, T1.TotPenaltyAmount, T1.ReportDate, T1.PaymentSource, T1.ExtractionDate, T1.CustCIF, T1.BasicSalary, 
	T1.Allowances, T1.EmpName, T1.Position, T1.Currency, T1.Nationality, CardDesc</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="234">
        <addPrimaryKey columnNames="Id" constraintName="PK_CardDescription_Id" tableName="CardDescription"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="235">
        <createView fullDefinition="false" viewName="Overdue_AView">SELECT		T1.OverdueType, T1.Range, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Overdue AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="236">
        <createView fullDefinition="false" viewName="Overdue_View">SELECT		T1.OverdueType, T1.Range,  T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Overdue_TEMP AS T1
UNION ALL
SELECT		T1.OverdueType, T1.Range, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Overdue AS T1
WHERE     NOT EXISTS (SELECT 1 FROM Overdue_TEMP WHERE OverdueType = T1.OverdueType)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="237">
        <createView fullDefinition="false" viewName="Languages_View">SELECT     T1.LngCode, T1.LngDesc, T1.LngNumber, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         Languages_TEMP AS T1
UNION ALL
SELECT     T1.LngCode, T1.LngDesc, T1.LngNumber, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         Languages AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Languages_TEMP
                            WHERE      LngCode = T1.LngCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="238">
        <createView fullDefinition="false" viewName="REPORTCONFIGURATION_View">SELECT     T1.ReportId, T1.ReportName, T1.ReportHeading, T1.PromptRequired, T1.ReportJasperName, T1.DataSourceName, T1.ShowTempLibrary, 
                      T1.MenuItemCode, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, 
                      T1.RecordType, T1.WorkflowId
FROM         ${add.schema}ReportConfiguration AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="239">
        <addPrimaryKey columnNames="PromiseCode" constraintName="PK_PromiseCode" tableName="PromiseCode"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="240">
        <createView fullDefinition="false" viewName="PromiseCode_AView">SELECT		T1.PromiseCode, T1.PromiseCodeDesc, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	PromiseCode AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="241">
        <createView fullDefinition="false" viewName="PromiseCode_View">SELECT		T1.PromiseCode, T1.PromiseCodeDesc, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	PromiseCode_TEMP AS T1
UNION ALL
SELECT		T1.PromiseCode, T1.PromiseCodeDesc, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	PromiseCode AS T1
WHERE     NOT EXISTS (SELECT 1 FROM PromiseCode_TEMP WHERE PromiseCode = T1.PromiseCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="242">
        <createView fullDefinition="false" viewName="PromiseLog_ArchView">SELECT      T1.ArchId,T1.ArchDate,T1.PromiseCount, T1.QueueId, T1.RefNo, T1.PTPcode, T1.PromiseFreqCode, T1.PayAmount, T1.NoofPayments, T1.PromiseStatus, T1.DatePayArrStrtDate, T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.PromiseCodeDesc AS lovDescPTPcode, T3.Description AS lovDescQueueId, COALESCE(T5.CcyEditField, 0) AS lovDescCcyEditField, 
                      T6.ToleranceAmt AS lovDescToleranceAmt, T6.AllowedPercent AS lovDescAllowedPercent, T6.ToleranceDays AS lovDescToleranceDays
FROM         ${add.schema}PromiseLog_Arch AS T1 INNER JOIN
                      ${add.schema}PromiseCode AS T2 ON T2.PromiseCode = T1.PTPcode INNER JOIN
                      ${add.schema}Queues AS T3 ON T1.QueueId = T3.QueueId INNER JOIN
                      ${add.schema}CollectionDataDetails_Arch AS T4 ON T1.QueueId = T4.QueueId AND T1.RefNo = T4.ProductRef LEFT OUTER JOIN
                      ${add.schema}Currencies AS T5 ON T4.Currency = T5.CcyCode INNER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T3.Toleranceid = T6.ToleranceId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="243">
        <createView fullDefinition="false" viewName="PromiseLog_AView">SELECT     T1.PromiseCount, T1.QueueId, T1.RefNo, T1.PTPcode, T1.PromiseFreqCode, T1.PayAmount, T1.NoofPayments, T1.PromiseStatus, T1.DatePayArrStrtDate, T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.PromiseCodeDesc AS lovDescPTPcode, T3.Description AS lovDescQueueId, COALESCE(T5.CcyEditField, 0) AS lovDescCcyEditField, 
                      T6.ToleranceAmt AS lovDescToleranceAmt, T6.AllowedPercent AS lovDescAllowedPercent, T6.ToleranceDays AS lovDescToleranceDays
FROM         ${add.schema}PromiseLog AS T1 INNER JOIN
                      ${add.schema}PromiseCode AS T2 ON T2.PromiseCode = T1.PTPcode INNER JOIN
                      ${add.schema}Queues AS T3 ON T1.QueueId = T3.QueueId INNER JOIN
                      ${add.schema}CollectionDataDetails AS T4 ON T1.QueueId = T4.QueueId AND T1.RefNo = T4.ProductRef LEFT OUTER JOIN
                      ${add.schema}Currencies AS T5 ON T4.Currency = T5.CcyCode INNER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T3.Toleranceid = T6.ToleranceId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="244">
        <createView fullDefinition="false" viewName="Leaves_View">SELECT     T1.LeaveID, T1.AppliedDate, T1.FromDate, T1.ToDate, T1.UserID, T1.Active, 
                      T3.UsrFName ${call.concatenate}' ' ${call.concatenate} T3.UsrMName ${call.concatenate}' ' ${call.concatenate} T3.UsrLName AS lovDescUserIDName, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         Leaves_Temp AS T1 INNER JOIN
                      ${add.schema}SecUsers AS T3 ON T1.UserID = T3.UsrID
UNION ALL
SELECT     T1.LeaveID, T1.AppliedDate, T1.FromDate, T1.ToDate, T1.UserID, T1.Active, 
                      T3.UsrFName ${call.concatenate}' ' ${call.concatenate} T3.UsrMName ${call.concatenate}' ' ${call.concatenate} T3.UsrLName AS lovDescUserIDName, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         Leaves AS T1 INNER JOIN
                      ${add.schema}SecUsers AS T3 ON T1.UserID = T3.UsrID
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Leaves_TEMP
                            WHERE      LeaveID = T1.LeaveID)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="245">
        <addPrimaryKey columnNames="LeaveID" constraintName="PK_Leaves_Temp" tableName="Leaves_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="246">
        <addPrimaryKey columnNames="QueryCode, QueryModule" constraintName="PK_Queries_Temp" tableName="Queries_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="247">
        <createView fullDefinition="false" viewName="Queries_TView">SELECT		 T1.QueryCode, T1.QueryModule, T1.QueryDesc, T1.SqlQuery, T1.ActualBlock, T1.SubQuery		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T2.UsrLogin,T2.UsrFName, T2.UsrMName, T2.UsrLName, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Active
			, T3.QueryModuleDesc, T3.TableName, T3.ResultColumns, T3.DisplayColumns	
FROM    	Queries_Temp AS T1 INNER JOIN
            ${add.schema}SecUsers AS T2 ON T1.LastMntBy = T2.UsrID
			INNER JOIN  ${add.schema}QueryModules AS T3 ON T1.QueryModule = T3.QueryModuleCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="248">
        <createView fullDefinition="false" viewName="Queries_View">SELECT		 T1.QueryCode, T1.QueryModule, T1.QueryDesc, T1.SqlQuery, T1.ActualBlock, T1.SubQuery		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T2.UsrLogin,T2.UsrFName, T2.UsrMName, T2.UsrLName, T1.RecordStatus, T1.RoleCode, T1.				NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Active,
			  T3.QueryModuleDesc, T3.TableName, T3.ResultColumns, T3.DisplayColumns	
FROM    	Queries_Temp AS T1 
			INNER JOIN ${add.schema}SecUsers AS T2 ON T1.LastMntBy = T2.UsrID
			INNER JOIN  ${add.schema}QueryModules AS T3 ON T1.QueryModule = T3.QueryModuleCode 
UNION ALL

SELECT		 T1.QueryCode, T1.QueryModule, T1.QueryDesc, T1.SqlQuery, T1.ActualBlock, T1.SubQuery		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T2.UsrLogin,T2.UsrFName, T2.UsrMName, T2.UsrLName, T1.RecordStatus, T1.RoleCode, T1.				NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Active,
			  T3.QueryModuleDesc, T3.TableName, T3.ResultColumns, T3.DisplayColumns
FROM    	Queries AS T1 INNER JOIN
            ${add.schema}SecUsers AS T2 ON T1.LastMntBy = T2.UsrID
			INNER JOIN  ${add.schema}QueryModules AS T3 ON T1.QueryModule = T3.QueryModuleCode 

WHERE     NOT EXISTS (SELECT 1 FROM Queries_TEMP WHERE  QueryCode = T1.QueryCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="249">
        <addPrimaryKey columnNames="QCategorycode" constraintName="PK_QueueCategories_Temp" tableName="QueueCategories_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="250">
        <createView fullDefinition="false" viewName="QueueCategories_View">SELECT     T1.QCategorycode, T1.QCategoryDesc, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, AllowSelection,T1.AllowMovement,T1.MovementType

FROM         QueueCategories_TEMP AS T1
UNION ALL
SELECT     T1.QCategorycode, T1.QCategoryDesc, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, AllowSelection,T1.AllowMovement,T1.MovementType

FROM         QueueCategories AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          QueueCategories_TEMP
                            WHERE      QCategorycode = T1.QCategorycode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="251">
        <addUniqueConstraint columnNames="FieldName" constraintName="IX_SecValidations" tableName="SecValidations"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="252">
        <addPrimaryKey columnNames="ValidId" constraintName="PK_SecValidations" tableName="SecValidations"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="253">
        <createView fullDefinition="false" viewName="Branches_AView">SELECT     T1.BranchCode, T1.BranchDesc, T1.BranchAddrLine1, T1.BranchAddrLine2, T1.BranchPOBox, T1.BranchCity, 
                      T4.CityName AS lovDescBranchCityName, T1.BranchProvince, T3.ProvinceName AS lovDescBranchProvinceName, T1.BranchCountry, 
                      T2.CountryName AS lovDescBranchCountryName, T1.BranchFax, T1.BranchTel, T1.BranchSwiftBankCde, T1.BranchSwiftCountry, 
                      T1.BranchSwiftLocCode, T1.BranchSwiftBrnCde, T1.BranchSortCode, T1.BranchIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T5.CountryName AS lovDescBranchSwiftCountryName
FROM         ${add.schema}Branches AS T1 INNER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.BranchCountry = T2.CountryCode INNER JOIN
                      ${add.schema}PROVINCE AS T3 ON T1.BranchCountry = T3.CountryCode AND T1.BranchProvince = T3.ProvinceCode INNER JOIN
                      ${add.schema}CITY AS T4 ON T1.BranchCountry = T4.CountryCode AND T1.BranchProvince = T4.ProvinceCode AND 
                      T1.BranchCity = T4.CityCode INNER JOIN
                      ${add.schema}COUNTRY AS T5 ON T1.BranchSwiftCountry = T5.CountryCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="254">
        <createView fullDefinition="false" viewName="Branches_View">SELECT     T1.BranchCode, T1.BranchDesc, T1.BranchAddrLine1, T1.BranchAddrLine2, T1.BranchPOBox, T1.BranchCity, 
                      T4.CityName AS lovDescBranchCityName, T1.BranchProvince, T3.ProvinceName AS lovDescBranchProvinceName, T1.BranchCountry, 
                      T2.CountryName AS lovDescBranchCountryName, T1.BranchFax, T1.BranchTel, T1.BranchSwiftBankCde, T1.BranchSwiftCountry, 
                      T1.BranchSwiftLocCode, T1.BranchSwiftBrnCde, T1.BranchSortCode, T1.BranchIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T5.CountryName AS lovDescBranchSwiftCountryName
FROM         ${add.schema}Branches_Temp AS T1 INNER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.BranchCountry = T2.CountryCode INNER JOIN
                      ${add.schema}PROVINCE AS T3 ON T1.BranchCountry = T3.CountryCode AND T1.BranchProvince = T3.ProvinceCode INNER JOIN
                      ${add.schema}CITY AS T4 ON T1.BranchCountry = T4.CountryCode AND T1.BranchProvince = T4.ProvinceCode AND 
                      T1.BranchCity = T4.CityCode INNER JOIN
                      ${add.schema}COUNTRY AS T5 ON T1.BranchSwiftCountry = T5.CountryCode
UNION ALL
SELECT     T1.BranchCode, T1.BranchDesc, T1.BranchAddrLine1, T1.BranchAddrLine2, T1.BranchPOBox, T1.BranchCity, 
                      T4.CityName AS lovDescBranchCityName, T1.BranchProvince, T3.ProvinceName AS lovDescBranchProvinceName, T1.BranchCountry, 
                      T2.CountryName AS lovDescBranchCountryName, T1.BranchFax, T1.BranchTel, T1.BranchSwiftBankCde, T1.BranchSwiftCountry, 
                      T1.BranchSwiftLocCode, T1.BranchSwiftBrnCde, T1.BranchSortCode, T1.BranchIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T5.CountryName AS lovDescBranchSwiftCountryName
FROM         ${add.schema}Branches AS T1 INNER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.BranchCountry = T2.CountryCode INNER JOIN
                      ${add.schema}PROVINCE AS T3 ON T1.BranchCountry = T3.CountryCode AND T1.BranchProvince = T3.ProvinceCode INNER JOIN
                      ${add.schema}CITY AS T4 ON T1.BranchCountry = T4.CountryCode AND T1.BranchProvince = T4.ProvinceCode AND 
                      T1.BranchCity = T4.CityCode INNER JOIN
                      ${add.schema}COUNTRY AS T5 ON T1.BranchSwiftCountry = T5.CountryCode

WHERE     NOT EXISTS
                          (SELECT     1
                            FROM       Branches_TEMP
                            WHERE      BranchCode = T1.BranchCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="255">
        <addPrimaryKey columnNames="BranchCode" constraintName="PK_Branches" tableName="Branches"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="256">
        <createView fullDefinition="false" viewName="CollectionScreenDetails_ArView">SELECT  T1.ArchId,T1.ArchDate,T1.QueueId, T1.RefNo, T1.Name, T1.PrmyPhOrMobNo, T1.SocialSecurityId, T1.Typeofdebit, T1.AcNoOrCC, T1.DaysLstPayed, T1.PartialyPaid, 
        T1.CallStatus, T1.PTPdates, T1.CaseNumber, T1.LawyerName, T1.PoliceStationName, T1.ExternalAgent, T1.Datetransferred, T1.Remarks, 
        T1.CaseCloseddate, T1.prefferedAddress, T1.prefferedEmail, T1.RecInsOn, T1.RecMntOn, T1.Tat1, T1.Tat2, T1.Tat3, T1.Tat4, T1.Tat5, 
        T1.Active, T1.Freetext1, T1.Freetext2, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
        T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Reassignby,T1.ReassignDate,T1.ChqNumber, T1.ChqBankName, T1.ChqAmount, T1.ChqIssuedDate,
        T1.CPRCopy,	T1.Passport,T1.OriginalPromissoryNote, T1.OriginalContract, T1.HoldMovement, T1.CollUserId, T1.CustId, T1.Currency,
        T1.CustCIF, T1.PlcCaseNumber,T1.PlcDateofSubmit,T1.WriteOffAmount,T1.WriteOffPerc, T2.OverdueAmt/power(10,T4.CcyEditField) as OverdueCCY,
		T2.Status,T2.CustTypeCode,T2.ProductCategory,T2.ProductType AS LovDescProductType, T2.OverdueAmt AS lovDescOverdueAmt,
		T2.OverdueDays AS lovDescOverdueDays, T2.RecoverdAmount,T2.TotOustandingAmt,T2.Penalty,T2.OverdueDate,
		T2.ProCtgType,T2.ProCtgTypedesc, 
		T3.Description AS lovDescQueueDesc,	COALESCE(T3.Toleranceid, 0) AS lovDescToleranceId, T3.PriorityValue AS lovDescPriorityValue,
		T3.CategoryCode as QueueCategoryCode,T3.PTPrequired,
        COALESCE(T4.CcyEditField, 0) AS lovDescCcyEditField,
        COALESCE(T5.Status, N'') AS lovDescActionStatus,T5.ActionCode,T5.NextRoleCode as ActionNextRoleCode, 
        T7.TeamleadNameUserid AS lovDescTeamLeadUserid,
        T8.ManagerUserId AS lovDescManagerUserId, 
        T9.UsrFName ${call.concatenate}' ' ${call.concatenate} T9.UsrMName ${call.concatenate}' ' ${call.concatenate} T9.UsrLName AS lovDescCollectorName, 
        T10.UsrFName ${call.concatenate}' ' ${call.concatenate} T10.UsrMName ${call.concatenate}' ' ${call.concatenate} T10.UsrLName AS lovDescTeamLeadName, 
        T11.UsrFName ${call.concatenate}' ' ${call.concatenate} T11.UsrMName ${call.concatenate}' ' ${call.concatenate} T11.UsrLName AS lovDescManagerName,
       (Case WHEN (Select Count(*) from CallBackLog AS T12 where T1.QueueId=T12.QueueId and T1.RefNo=T12.RefNo and T12.Active=cast(1 as character) )=0 THEN 0 ELSE 1 END) as ActCallback,
       (CASE WHEN (Select Count(*) from ${add.schema}PromiseLog AS T13 where T1.QueueId=T13.QueueId and T1.RefNo=T13.RefNo and T13.PromiseStatus='PI')=0 THEN 0 ELSE 1 END) as ActPromise,
       T14.AllowMovement,T14.MovementType
FROM   ${add.schema}CollectionScreenDetails_Arch AS T1 INNER JOIN
       ${add.schema}CollectionDataDetails_Arch AS T2 ON T1.ArchId = T2.ArchId LEFT JOIN
	   ${add.schema}Queues AS T3 ON T1.QueueId = T3.QueueId LEFT JOIN
       ${add.schema}Currencies AS T4 ON T1.Currency = T4.CcyCode LEFT JOIN
       ${add.schema}Actions_Arch AS T5 ON T1.ArchId= T5.ArchId LEFT JOIN
       ${add.schema}Collectors AS T6 ON T1.CollUserId = T6.CollectorNameUserid LEFT JOIN
       ${add.schema}TeamLeads AS T7 ON T6.TeamleadId = T7.TeamleadId LEFT JOIN
       ${add.schema}Managers AS T8 ON T7.ManagerId = T8.ManagerId LEFT JOIN
       ${add.schema}SecUsers AS T9 ON T1.CollUserId = T9.UsrID LEFT JOIN
       ${add.schema}SecUsers AS T10 ON T7.TeamleadNameUserid = T10.UsrID LEFT JOIN
       ${add.schema}SecUsers AS T11 ON T8.ManagerUserId = T11.UsrID  LEFT JOIN
       ${add.schema}QueueCategories AS T14 ON T3.CategoryCode = T14.QCategorycode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="257">
        <addPrimaryKey columnNames="QCategorycode" constraintName="PK_QueueCategories" tableName="QueueCategories"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="258">
        <createView fullDefinition="false" viewName="QueueCategories_AView">SELECT     QCategorycode, QCategoryDesc, Active, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId, 
                      AllowSelection,AllowMovement,MovementType
FROM         ${add.schema}QueueCategories AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="259">
        <createView fullDefinition="false" viewName="UnAssignQueues_AView">SELECT     T1.QueueId, T1.Description, T1.CategoryCode, T2.QCategoryDesc AS lovDescCategoryCodeName, T1.DeptCode, T1.CollectorName, 
                      T3.DeptDesc AS lovDescDeptCodeName, T1.PriorityValue, T1.Remarks, T1.QueueOwner,  T1.RefNo, 
                      T1.SelectionCriteria, T1.SortOrder, T1.LetterTemplate,T1.PTPRequired, T1.AddrTypeCode, 
                       T1.SMSTemplate, T1.EmailTemplate,T1.AssignmenType, T1.PushToPDialer, 
                      T1.Toleranceid,  T1.OverdueType, T1.Range, T1.StrategyCode, 
                      T1.FreeText2, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.AllowSelection as lovDescAllowSelection
FROM         ${add.schema}Queues AS T1 LEFT OUTER JOIN
                      ${add.schema}QueueCategories AS T2 ON T1.CategoryCode = T2.QCategorycode LEFT OUTER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.DeptCode = T3.DeptCode 
                      where QueueId  NOT IN (Select QueueId from CollectorQueueAssignment)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="260">
        <addPrimaryKey columnNames="ToleranceId" constraintName="PK_PTPTolerances" tableName="PTPTolerances"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="261">
        <createView fullDefinition="false" viewName="PTPTolerances_AView">SELECT		T1.ToleranceId, T1.Tolerancecode, T1.ToleranceDesc, T1.ToleranceAmt, T1.AllowedPercent, T1.Remarks, T1.ToleranceDays, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	PTPTolerances AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="262">
        <createView fullDefinition="false" viewName="PTPTolerances_View">SELECT		T1.ToleranceId, T1.Tolerancecode, T1.ToleranceDesc, T1.ToleranceAmt, T1.AllowedPercent, T1.Remarks, T1.ToleranceDays, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	PTPTolerances_TEMP AS T1
UNION ALL
SELECT		T1.ToleranceId, T1.Tolerancecode, T1.ToleranceDesc, T1.ToleranceAmt, T1.AllowedPercent, T1.Remarks, T1.ToleranceDays, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	PTPTolerances AS T1
WHERE     NOT EXISTS (SELECT 1 FROM PTPTolerances_TEMP WHERE ToleranceId = T1.ToleranceId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="263">
        <addPrimaryKey columnNames="JOB_EXECUTION_ID" constraintName="PK__BATCH_JO__56435A772BF6CA0A" tableName="BATCH_JOB_EXECUTION_CONTEXT"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="264">
        <addPrimaryKey columnNames="QueueId" constraintName="PK_Queues_Temp" tableName="Queues_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="265">
        <createView fullDefinition="false" viewName="TakePaymentDetails_View">SELECT     T1.PaymentId, T1.PromiseCount, T1.QueueId, T1.RefNo, T1.PaymentType, T1.AcCardNumber, T1.Currency, T1.AcCardName, T1.AcCardAddress, T1.CardExpireDate, T1.PaymentDate, 
                      T1.PaidAmount, T1.Settlement, T1.FinalPayment, T1.PaymentStatus, T1.Freetext1, T1.Freetext2, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.OverdueAmt AS lovDescOverdueAmt,
                          (SELECT     SUM(PaidAmount) AS Expr1
                            FROM          ${add.schema}TakePaymentDetails
                            WHERE      (QueueId = T1.QueueId) AND (RefNo = T1.RefNo)) AS lovDescTotalPaidAmount, T3.CcyEditField AS lovDescCcyEditField, T1.ExchangeRate
FROM         ${add.schema}TakePaymentDetails_Temp AS T1 INNER JOIN
                      ${add.schema}CollectionDataDetails AS T2 ON T1.QueueId = T2.QueueId AND T1.RefNo = T2.ProductRef INNER JOIN
                      ${add.schema}Currencies AS T3 ON T1.Currency = T3.CcyCode
UNION ALL
SELECT     T1.PaymentId, T1.PromiseCount, T1.QueueId, T1.RefNo, T1.PaymentType, T1.AcCardNumber, T1.Currency, T1.AcCardName, T1.AcCardAddress, T1.CardExpireDate, T1.PaymentDate, 
                      T1.PaidAmount, T1.Settlement, T1.FinalPayment, T1.PaymentStatus, T1.Freetext1, T1.Freetext2, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.OverdueAmt AS lovDescOverdueAmt,
                          (SELECT     SUM(PaidAmount) AS Expr1
                            FROM          ${add.schema}TakePaymentDetails
                            WHERE      (QueueId = T1.QueueId) AND (RefNo = T1.RefNo)) AS lovDescTotalPaidAmount, T3.CcyEditField AS lovDescCcyEditField, T1.ExchangeRate
FROM         ${add.schema}TakePaymentDetails AS T1 INNER JOIN
                      ${add.schema}CollectionDataDetails AS T2 ON T1.QueueId = T2.QueueId AND T1.RefNo = T2.ProductRef INNER JOIN
                      ${add.schema}Currencies AS T3 ON T1.Currency = T3.CcyCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          TakePaymentDetails_TEMP
                            WHERE      QueueId = T1.QueueId AND RefNo = T1.RefNo)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="266">
        <createView fullDefinition="false" viewName="BMTDepartments_AView">SELECT     DeptCode, DeptDesc, DeptIsActive, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, 
                      WorkflowId
FROM         BMTDepartments</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="267">
        <createView fullDefinition="false" viewName="BMTDepartments_View">SELECT     DeptCode, DeptDesc, DeptIsActive, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, 
                      WorkflowId
FROM         BMTDepartments_TEMP
UNION ALL
SELECT     DeptCode, DeptDesc, DeptIsActive, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, 
                      WorkflowId
FROM         BMTDepartments
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          BMTDepartments_TEMP
                            WHERE      DeptCode = BMTDepartments.DeptCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="268">
        <createView fullDefinition="false" viewName="Managers_AView">SELECT     T1.ManagerId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.ManagerUserId, T3.UsrFName${call.concatenate}' '${call.concatenate}T3.UsrMName${call.concatenate}' '${call.concatenate} T3.UsrLName AS LovDescManagerUserIdName, 
                      T1.ManagerName, T1.Active, T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Managers AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T3 ON T1.ManagerUserId = T3.UsrID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="269">
        <createView fullDefinition="false" viewName="Managers_View">SELECT     T1.ManagerId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.ManagerUserId,  T3.UsrFName${call.concatenate}' '${call.concatenate}T3.UsrMName${call.concatenate}' '${call.concatenate} T3.UsrLName AS LovDescManagerUserIdName, 
                       T1.ManagerName, T1.Active, T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Managers_Temp AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T3 ON T1.ManagerUserId = T3.UsrID
UNION ALL
SELECT     T1.ManagerId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.ManagerUserId,  T3.UsrFName${call.concatenate}' '${call.concatenate}T3.UsrMName${call.concatenate}' '${call.concatenate} T3.UsrLName AS LovDescManagerUserIdName, 
                     T1.ManagerName, T1.Active, T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Managers AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T3 ON T1.ManagerUserId = T3.UsrID
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Managers_TEMP
                            WHERE      ManagerId = T1.ManagerId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="270">
        <addPrimaryKey columnNames="DeptCode" constraintName="PK_BMTDepartments" tableName="BMTDepartments"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="271">
        <createView fullDefinition="false" viewName="TeamLeads_AView">SELECT     T1.TeamleadId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.ManagerId, T3.LovDescManagerUserIdName AS lovDescManagerIdName, 
						T1.TeamleadNameUserid,  T4.UsrFName${call.concatenate}' '${call.concatenate}T4.UsrMName${call.concatenate}' '${call.concatenate} T4.UsrLName AS lovDescTeamleadNameUseridName, 
                       T1.TeamleadName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}TeamLeads AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}Managers_AView AS T3 ON T1.ManagerId = T3.ManagerId LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T4 ON T1.TeamleadNameUserid = T4.UsrID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="272">
        <createView fullDefinition="false" viewName="TeamLeads_View">SELECT     T1.TeamleadId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.ManagerId, T3.LovDescManagerUserIdName AS lovDescManagerIdName, 
						T1.TeamleadNameUserid,  T4.UsrFName${call.concatenate}' '${call.concatenate}T4.UsrMName${call.concatenate}' '${call.concatenate} T4.UsrLName AS lovDescTeamleadNameUseridName, 
                       T1.TeamleadName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
                      FROM         ${add.schema}TeamLeads_Temp AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}Managers_aView AS T3 ON T1.ManagerId = T3.ManagerId LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T4 ON T1.TeamleadNameUserid = T4.UsrID
UNION ALL
SELECT     T1.TeamleadId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.ManagerId, T3.LovDescManagerUserIdName AS lovDescManagerIdName, 
						T1.TeamleadNameUserid,  T4.UsrFName${call.concatenate}' '${call.concatenate}T4.UsrMName${call.concatenate}' '${call.concatenate} T4.UsrLName AS lovDescTeamleadNameUseridName, 
                       T1.TeamleadName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
                      FROM         ${add.schema}TeamLeads AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}Managers_aView AS T3 ON T1.ManagerId = T3.ManagerId LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T4 ON T1.TeamleadNameUserid = T4.UsrID
WHERE     (NOT EXISTS
                          (SELECT     1 AS Expr1
                            FROM          ${add.schema}TeamLeads_Temp
                            WHERE      (TeamleadId = T1.TeamleadId)))</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="273">
        <createView fullDefinition="false" viewName="CallBackLog_ArchView">SELECT     T1.ArchId,T1.ArchDate, T1.QueueId, T1.RefNo, T1.MobileNo, T1.Contactcode, T1.ContactDate, T1.CallBackDate, T1.Time, T1.AltMobileNo, T1.Comments, T1.Active, T1.FreeText1, T1.FreeText2,
                       T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.Description AS ContactcodeDesc, T3.Description AS QueueDesc
FROM         ${add.schema}CallBackLog_Arch AS T1 INNER JOIN
                      ${add.schema}ContactCodes AS T2 ON T1.Contactcode = T2.Contactcode INNER JOIN
                      ${add.schema}Queues AS T3 ON T1.QueueId = T3.QueueId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="274">
        <createView fullDefinition="false" viewName="CallBackLog_AView">SELECT     T1.QueueId, T1.RefNo, T1.MobileNo, T1.Contactcode, T1.ContactDate, T1.CallBackDate, T1.Time, T1.AltMobileNo, T1.Comments, T1.Active, T1.FreeText1, T1.FreeText2,
                       T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.Description AS ContactcodeDesc, T3.Description AS QueueDesc
FROM         ${add.schema}CallBackLog AS T1 INNER JOIN
                      ${add.schema}ContactCodes AS T2 ON T1.Contactcode = T2.Contactcode INNER JOIN
                      ${add.schema}Queues AS T3 ON T1.QueueId = T3.QueueId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="275">
        <createView fullDefinition="false" viewName="ContactCodes_AView">SELECT     ContactCodeId, Contactcode, Description, ContactCodeGroup, DefaultFollowup, MinimumFollowUp, MaxFollowUp, LetterToBeSent, LetterCode, SMSToBeSent, 
                      SMSCode, ReviewCode, PTPRequired, NotesMandatory, Remarks, Active, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, 
                      NextTaskId, RecordType, WorkflowId
FROM         ${add.schema}ContactCodes AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="276" dbms="mssql">
        <createView fullDefinition="false" viewName="ContactCodes_View">SELECT     T1.ContactCodeId, T1.Contactcode, T1.Description, T1.ContactCodeGroup, T2.CCGroupDesc AS LovDescContactCodeGroupName, T1.DefaultFollowup, 
                      T1.MinimumFollowUp, T1.MaxFollowUp, T1.LetterToBeSent, T1.LetterCode,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (Code = T1.LetterCode) AND (Type = 'L')) AS LovDescLetterCodeName, T1.SMSToBeSent, T1.SMSCode,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates AS Templates_1
                            WHERE      (Code = T1.SMSCode) AND (Type = 'S')) AS LovDescSMSCodeName, T1.ReviewCode, T1.PTPRequired, T1.NotesMandatory, T1.Remarks, T1.Active,
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId
FROM         ${add.schema}ContactCodes_Temp AS T1 INNER JOIN
                      ${add.schema}ContactcodeGroups AS T2 ON T1.ContactCodeGroup = T2.CCGroupcode
UNION ALL
SELECT     T1.ContactCodeId, T1.Contactcode, T1.Description, T1.ContactCodeGroup, T2.CCGroupDesc AS LovDescContactCodeGroupName, T1.DefaultFollowup, 
                      T1.MinimumFollowUp, T1.MaxFollowUp, T1.LetterToBeSent, T1.LetterCode,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates AS Templates_2
                            WHERE      (Code = T1.LetterCode) AND (Type = 'L')) AS LovDescLetterCodeName, T1.SMSToBeSent, T1.SMSCode,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates AS Templates_1
                            WHERE      (Code = T1.SMSCode) AND (Type = 'S')) AS LovDescSMSCodeName, T1.ReviewCode, T1.PTPRequired, T1.NotesMandatory, T1.Remarks, T1.Active,
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId
FROM         ${add.schema}ContactCodes AS T1 INNER JOIN
                      ${add.schema}ContactcodeGroups AS T2 ON T1.ContactCodeGroup = T2.CCGroupcode
WHERE     (NOT EXISTS
                          (SELECT     1 AS Expr1
                            FROM          ${add.schema}ContactCodes_Temp
                            WHERE      (ContactCodeId = T1.ContactCodeId)))</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="276" dbms="oracle">
        <createView fullDefinition="false" viewName="ContactCodes_View">SELECT     T1.ContactCodeId, T1.Contactcode, T1.Description, T1.ContactCodeGroup, T2.CCGroupDesc AS LovDescContactCodeGroupName, T1.DefaultFollowup, 
                      T1.MinimumFollowUp, T1.MaxFollowUp, T1.LetterToBeSent, T1.LetterCode,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (Code = T1.LetterCode) AND (Type = 'L')) AS LovDescLetterCodeName, T1.SMSToBeSent, T1.SMSCode,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates AS Templates_1
                            WHERE      (Code = T1.SMSCode) AND (Type = 'S')) AS LovDescSMSCodeName, T1.ReviewCode, T1.PTPRequired, T1.NotesMandatory, T1.Remarks, T1.Active,
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId
FROM         ${add.schema}ContactCodes_Temp AS T1 INNER JOIN
                      ${add.schema}ContactcodeGroups AS T2 ON T1.ContactCodeGroup = T2.CCGroupcode
UNION ALL
SELECT     T1.ContactCodeId, T1.Contactcode, T1.Description, T1.ContactCodeGroup, T2.CCGroupDesc AS LovDescContactCodeGroupName, T1.DefaultFollowup, 
                      T1.MinimumFollowUp, T1.MaxFollowUp, T1.LetterToBeSent, T1.LetterCode,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates AS Templates_2
                            WHERE      (Code = T1.LetterCode) AND (Type = 'L')) AS LovDescLetterCodeName, T1.SMSToBeSent, T1.SMSCode,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates AS Templates_1
                            WHERE      (Code = T1.SMSCode) AND (Type = 'S')) AS LovDescSMSCodeName, T1.ReviewCode, T1.PTPRequired, T1.NotesMandatory, T1.Remarks, T1.Active,
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId
FROM         ${add.schema}ContactCodes AS T1 INNER JOIN
                      ${add.schema}ContactcodeGroups AS T2 ON T1.ContactCodeGroup = T2.CCGroupcode
WHERE     (NOT EXISTS
                          (SELECT     1 AS Expr1
                            FROM          ${add.schema}ContactCodes_Temp
                            WHERE      (ContactCodeId = T1.ContactCodeId)))</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="276" dbms="postgresql">
        <createView fullDefinition="false" viewName="ContactCodes_View">SELECT     T1.ContactCodeId, T1.Contactcode, T1.Description, T1.ContactCodeGroup, T2.CCGroupDesc AS LovDescContactCodeGroupName, T1.DefaultFollowup, 
                      T1.MinimumFollowUp, T1.MaxFollowUp, T1.LetterToBeSent, T1.LetterCode,
                          (SELECT      TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (Code = T1.LetterCode) AND (Type = 'L') LIMIT 1) AS LovDescLetterCodeName, T1.SMSToBeSent, T1.SMSCode,
                          (SELECT      TemplateName
                            FROM          ${add.schema}Templates AS Templates_1
                            WHERE      (Code = T1.SMSCode) AND (Type = 'S') LIMIT 1) AS LovDescSMSCodeName, T1.ReviewCode, T1.PTPRequired, T1.NotesMandatory, T1.Remarks, T1.Active,
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId
FROM         ${add.schema}ContactCodes_Temp AS T1 INNER JOIN
                      ${add.schema}ContactcodeGroups AS T2 ON T1.ContactCodeGroup = T2.CCGroupcode
UNION ALL
SELECT     T1.ContactCodeId, T1.Contactcode, T1.Description, T1.ContactCodeGroup, T2.CCGroupDesc AS LovDescContactCodeGroupName, T1.DefaultFollowup, 
                      T1.MinimumFollowUp, T1.MaxFollowUp, T1.LetterToBeSent, T1.LetterCode,
                          (SELECT     TemplateName
                            FROM          ${add.schema}Templates AS Templates_2
                            WHERE      (Code = T1.LetterCode) AND (Type = 'L') LIMIT 1) AS LovDescLetterCodeName, T1.SMSToBeSent, T1.SMSCode,
                          (SELECT      TemplateName
                            FROM          ${add.schema}Templates AS Templates_1
                            WHERE      (Code = T1.SMSCode) AND (Type = 'S') LIMIT 1) AS LovDescSMSCodeName, T1.ReviewCode, T1.PTPRequired, T1.NotesMandatory, T1.Remarks, T1.Active,
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId
FROM         ${add.schema}ContactCodes AS T1 INNER JOIN
                      ${add.schema}ContactcodeGroups AS T2 ON T1.ContactCodeGroup = T2.CCGroupcode
WHERE     (NOT EXISTS
                          (SELECT     1 AS Expr1
                            FROM          ${add.schema}ContactCodes_Temp
                            WHERE      (ContactCodeId = T1.ContactCodeId)))</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="277">
        <addPrimaryKey columnNames="ContactCodeId" constraintName="PK_ContactCodes" tableName="ContactCodes"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="278">
        <createView fullDefinition="false" viewName="RPT_Customer_Contacts_View">SELECT     Distinct Queues.QueueId,${add.schema}Queues.Description, C.RefNo, C.Contactcode, ${add.schema}ContactCodes.Description AS LovDescCCDescription, C.ContactDate,
			   CS.CustCIF,CS.CustName ,C.CallBackDate,MobileNo,AltMobileNo 
	FROM       ${add.schema}CallBackLog AS C INNER JOIN
			   ${add.schema}Queues ON ${add.schema}Queues.QueueId = C.QueueId INNER JOIN
			   ${add.schema}ContactCodes ON C.Contactcode = ${add.schema}ContactCodes.Contactcode INNER JOIN
			   ${add.schema}CollectionDataDetails AS CS ON C.RefNo = CS.ProductRef AND C.QueueId = CS.QueueId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="279">
        <createView fullDefinition="false" viewName="CardInstallment_View">-- CardInstallment_View
SELECT
	T1.CardNumber, T1.FinAmount, T1.InstallmentAmount, T1.NoOfInstllment, T1.ExtractionDate, T1.FinanceDate
FROM
	${add.schema}CardInstallment_Temp AS T1
UNION ALL
SELECT
	T1.CardNumber, T1.FinAmount, T1.InstallmentAmount, T1.NoOfInstllment, T1.ExtractionDate, T1.FinanceDate
FROM 
	${add.schema}CardInstallment AS T1
WHERE NOT EXISTS
	(SELECT 1
		FROM CardInstallment_Temp
		WHERE CardNumber = T1.CardNumber)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="280">
        <createIndex indexName="CardNumber_Temp_indx" tableName="CardInstallment_Temp">
            <column name="CardNumber"/>
        </createIndex>
    </changeSet>
    <changeSet author="PCFAdmin" id="281">
        <createIndex indexName="CardTransctn_T_indx" tableName="CardTransaction_Temp">
            <column name="CardNumber"/>
        </createIndex>
    </changeSet>
    <changeSet author="PCFAdmin" id="282">
        <addPrimaryKey columnNames="JOB_EXECUTION_ID" constraintName="PK__BATCH_JO__56435A771ACC3E08" tableName="BATCH_JOB_EXECUTION"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="283">
        <addPrimaryKey columnNames="IntRateBasisCode" constraintName="idxBMTIntRateBasisCodes_U_C" tableName="BMTIntRateBasisCodes"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="284">
        <addPrimaryKey columnNames="WeekendCode" constraintName="PK_SMTWeekendMaster_Temp" tableName="SMTWeekendMaster_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="285">
        <createView fullDefinition="false" viewName="SMTWeekendMaster_View">SELECT     T1.WeekendCode, T1.WeekendDesc, T1.Weekend, T1.Version, T1.LastMntBy, T1.LastMntOn
FROM         SMTWeekendMaster_TEMP AS T1
UNION ALL
SELECT     T1.WeekendCode, T1.WeekendDesc, T1.Weekend, T1.Version, T1.LastMntBy, T1.LastMntOn
FROM         SMTWeekendMaster AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          SMTWeekendMaster_TEMP
                            WHERE      WeekendCode = T1.WeekendCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="286">
        <createView fullDefinition="false" viewName="ActionLog_View">SELECT T1.ActionLogID,T1.ActionCode,T1.ProductRef,T1.ActionName,T1.QueueId,T1.ToQueueId,T1.CollUserId,
T1.ToCollUserId,T1.ActionDate,T1.Reason,T1.LastMntBy,T1.LastMntOn,T1.RecordStatus,T1.RoleCode,
T1.NextRoleCode,T1.TaskId,T1.NextTaskId,T1.RecordType,T1.WorkflowId,
T2.Description as QueueDesc,T3.Description as ToQueueDesc,
COALESCE(T6.UsrFName,'')${call.concatenate}' '${call.concatenate}COALESCE(T6.UsrMName,'')${call.concatenate}' '${call.concatenate}COALESCE(T6.UsrLName,'') as CollName,
COALESCE(T7.UsrFName,'')${call.concatenate}' '${call.concatenate}COALESCE(T7.UsrMName,'')${call.concatenate}' '${call.concatenate}COALESCE(T7.UsrLName,'') as ToCollName,
T8.CustCIF,T8.CustName
FROM ActionLog  AS T1 
LEFT JOIN Queues AS T2 ON T1.QueueId=T2.QueueId
LEFT JOIN Queues AS T3 ON T1.ToQueueId=T3.QueueId
LEFT JOIN Collectors AS T4 ON T1.CollUserID=T4.CollectorId
LEFT JOIN Collectors AS T5 ON T1.ToCollUserId=T5.CollectorId
LEFT JOIN SecUsers AS T6 ON T4.CollectorNameUserid=T6.UsrId
LEFT JOIN SecUsers AS T7 ON T5.CollectorNameUserid=T7.UsrId 
LEFT JOIN CollectionDataDetails AS T8 ON T1.ProductRef=T8.ProductRef</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="287">
        <createView fullDefinition="false" viewName="CollectionDataDetails_ALL_View">select ProductRef,CustCIF,CustName from CollectionDataDetails
union  
select ProductRef,CustCIF,CustName from CollectionDataDetails_Arch
</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="288">
        <createView fullDefinition="false" viewName="CollectionDataDetails_UAView">SELECT     T1.CollDataId, COALESCE(T1.QueueId, 0) AS QueueId, T1.CustId, T1.ProductRef, T1.ProductType, T1.OverdueAmt, T1.OverdueDate, T1.OverdueDays, 
                      T1.Status, T1.CustName, T1.ProductCategory, T1.Remarks, T1.Active, T1.Freetext1, T1.Freetext2, T1.Freetext3, T1.Freetext4, T1.CollDate, T1.Version, 
                      T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
                      T1.ClosedDate, T1.TotOustandingAmt, T1.Penalty, T1.ProCtgType, T1.ProCtgTypedesc, COALESCE(T2.CollectorUserId,0) AS lovDescCollectorId, T1.Currency, 
                      COALESCE(T4.CollectorNameUserid,0) AS lovDescCollectorUserId, T7.UsrBranchCode AS CollectorBranchCode, T1.CustCIF, T1.CustTypeCode, 
                      T1.RecoverdAmount
FROM         ${add.schema}CollectionDataDetails AS T1 LEFT OUTER JOIN
                      ${add.schema}CollectorQueueAssignment AS T2 ON T1.QueueId = T2.QueueId LEFT OUTER JOIN
                      ${add.schema}Collectors AS T4 ON T2.CollectorUserId = T4.CollectorId LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T7 ON T4.CollectorNameUserid = T7.UsrID
WHERE     (T1.QueueId = 0)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="289">
        <createView fullDefinition="false" viewName="CollectionDataDetails_View">SELECT     T1.CollDataId, COALESCE(T1.QueueId, 0) AS QueueId, T1.CustId, T1.ProductRef, T1.ProductType, T1.OverdueAmt, T1.OverdueDate, T1.OverdueDays, T1.Status, 
                      T1.CustName, T1.ProductCategory, T1.Remarks, T1.Active, T1.Freetext1, T1.Freetext2, T1.Freetext3, T1.Freetext4, T1.CollDate, T1.Version, T1.LastMntBy, 
                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,
					  T1.ClosedDate, T1.TotOustandingAmt, T1.Penalty, T1.ProCtgType,T1.ProCtgTypedesc, COALESCE(T2.CollectorUserId,0) AS lovDescCollectorId, 
                      T1.Currency, COALESCE(T4.CollectorNameUserid,0) AS lovDescCollectorUserId, T7.UsrBranchCode AS CollectorBranchCode, T1.CustCIF, T1.CustTypeCode, 
                      T1.RecoverdAmount
FROM         ${add.schema}CollectionDataDetails AS T1 LEFT OUTER JOIN
                      ${add.schema}CollectorQueueAssignment AS T2 ON T1.QueueId = T2.QueueId LEFT OUTER JOIN
                      ${add.schema}Collectors AS T4 ON T2.CollectorUserId = T4.CollectorId LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T7 ON T4.CollectorNameUserid = T7.UsrID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="290">
        <createView fullDefinition="false" viewName="RPT_ActionLog_View">SELECT T1.ActionCode,T1.ProductRef,T1.ActionName,T6.CustCIF,T6.CustName,T1.Reason,
T2.Description as QueueDesc,T3.Description as ToQueueDesc,
COALESCE(T4.UsrFName,'')${call.concatenate}' '${call.concatenate}COALESCE(T4.UsrMName,'')${call.concatenate}' '${call.concatenate}COALESCE(T4.UsrLName,'') as CollName,
COALESCE(T5.UsrFName,'')${call.concatenate}' '${call.concatenate}COALESCE(T5.UsrMName,'')${call.concatenate}' '${call.concatenate}COALESCE(T5.UsrLName,'') as ToCollName,T1.ActionDate
FROM ActionLog  AS T1 
LEFT JOIN Queues AS T2 ON T1.QueueId=T2.QueueId
LEFT JOIN Queues AS T3 ON T1.ToQueueId=T3.QueueId
left join Collectors as t7 on t7.CollectorId=t1.CollUserId
left join Collectors as t8 on t8.CollectorId=t1.ToCollUserId
LEFT JOIN SecUsers AS T4 ON t7.collectornameuserid=T4.UsrId
LEFT JOIN SecUsers AS T5 ON t8.collectornameuserid=T5.UsrId 
LEFT JOIN CollectionDataDetails AS T6 ON T1.ProductRef=T6.ProductRef</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="291">
        <createView fullDefinition="false" viewName="TakePaymentDetails_AView">SELECT     T1.PaymentId, T1.PromiseCount, T1.QueueId, T1.RefNo, T1.PaymentType, T1.AcCardNumber, T1.Currency, T1.AcCardName, T1.AcCardAddress, T1.CardExpireDate, 
                      T1.PaymentDate, T1.PaidAmount, T1.Settlement, T1.FinalPayment, T1.PaymentStatus, T1.Freetext1, T1.Freetext2, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.OverdueAmt AS lovDescOverdueAmt,
                          (SELECT     SUM(PaidAmount) AS Expr1
                            FROM          ${add.schema}TakePaymentDetails
                            WHERE      (QueueId = T1.QueueId) AND (RefNo = T1.RefNo)) AS lovDescTotalPaidAmount, T3.CcyEditField AS lovDescCcyEditField, T1.ExchangeRate
FROM         ${add.schema}TakePaymentDetails AS T1 INNER JOIN
                      ${add.schema}CollectionDataDetails AS T2 ON T1.QueueId = T2.QueueId AND T1.RefNo = T2.ProductRef INNER JOIN
                      ${add.schema}Currencies AS T3 ON T1.Currency = T3.CcyCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="292">
        <createView fullDefinition="false" viewName="CITY_AView">SELECT     T1.CountryCode, T2.CountryName AS lovDescCountryCodeName, T1.ProvinceCode, T3.ProvinceName AS lovDescProvinceCodeName, T1.CityCode, T1.CityName, 
                      T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}CITY AS T1 INNER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.CountryCode = T2.CountryCode INNER JOIN
                      ${add.schema}PROVINCE AS T3 ON T1.ProvinceCode = T3.ProvinceCode AND T1.CountryCode = T3.CountryCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="293">
        <createView fullDefinition="false" viewName="CITY_View">SELECT     T1.CountryCode, T2.CountryName AS lovDescCountryCodeName, T1.ProvinceCode, T3.ProvinceName AS lovDescProvinceCodeName, T1.CityCode, T1.CityName, 
                      T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}CITY_Temp AS T1 INNER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.CountryCode = T2.CountryCode INNER JOIN
                      ${add.schema}PROVINCE AS T3 ON T1.ProvinceCode = T3.ProvinceCode AND T1.CountryCode = T3.CountryCode
UNION ALL
SELECT     T1.CountryCode, T2.CountryName AS lovDescCountryCodeName, T1.ProvinceCode, T3.ProvinceName AS lovDescProvinceCodeName, T1.CityCode, T1.CityName, 
                      T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}CITY AS T1 INNER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.CountryCode = T2.CountryCode INNER JOIN
                      ${add.schema}PROVINCE AS T3 ON T1.ProvinceCode = T3.ProvinceCode AND T1.CountryCode = T3.CountryCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          CITY_TEMP
                            WHERE      CityCode = T1.CityCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="294">
        <createView fullDefinition="false" viewName="LawyerDetails_AView">SELECT     T1.LawyerId, T1.Categorie, T1.Name, T1.Address, T1.Country,T2.CountryName AS lovDescLawyerCountryName,
                       T1.Province, T3.ProvinceName AS lovDescLawyerProvinceName,T1.City,T4.CityName AS lovDescLawyerDetailsCityName, 
                      T1.PostalCode, T1.Phone, T1.Fax, T1.FreeText1, T1.FreeText2,T1.LawEmail,T1.LawyerRef,
                      T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM                  ${add.schema}LawyerDetails AS T1 LEFT OUTER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.Country = T2.CountryCode LEFT OUTER JOIN
                      ${add.schema}PROVINCE AS T3 ON T1.Country = T3.CountryCode AND T1.Province = T3.ProvinceCode LEFT OUTER JOIN
                      ${add.schema}CITY AS T4 ON T1.Country = T4.CountryCode AND T1.Province = T4.ProvinceCode AND 
                      T1.City = T4.CityCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="295">
        <createView fullDefinition="false" viewName="LawyerDetails_View">SELECT            T1.LawyerId, T1.Categorie, T1.Name, T1.Address, T1.Country,T2.CountryName AS lovDescLawyerCountryName,
                       T1.Province, T3.ProvinceName AS lovDescLawyerProvinceName,T1.City ,T4.CityName AS lovDescLawyerDetailsCityName, 
                      T1.PostalCode, T1.Phone, T1.Fax, T1.FreeText1, T1.FreeText2,T1.LawEmail,T1.LawyerRef, 
                      T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM                  ${add.schema}LawyerDetails_Temp AS T1 LEFT OUTER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.Country = T2.CountryCode LEFT OUTER JOIN
                      ${add.schema}PROVINCE AS T3 ON T1.Country = T3.CountryCode AND T1.Province = T3.ProvinceCode LEFT OUTER JOIN
                      ${add.schema}CITY AS T4 ON T1.Country = T4.CountryCode AND T1.Province = T4.ProvinceCode AND 
                      T1.City = T4.CityCode 
UNION ALL
SELECT        T1.LawyerId, T1.Categorie, T1.Name, T1.Address, T1.Country,T2.CountryName AS lovDescLawyerCountryName,
                       T1.Province, T3.ProvinceName AS lovDescLawyerProvinceName,T1.City ,T4.CityName AS lovDescLawyerDetailsCityName, 
                      T1.PostalCode, T1.Phone, T1.Fax, T1.FreeText1, T1.FreeText2,T1.LawEmail, T1.LawyerRef,
                      T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM                  ${add.schema}LawyerDetails AS T1 LEFT OUTER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.Country = T2.CountryCode LEFT OUTER JOIN
                      ${add.schema}PROVINCE AS T3 ON T1.Country = T3.CountryCode AND T1.Province = T3.ProvinceCode LEFT OUTER JOIN
                      ${add.schema}CITY AS T4 ON T1.Country = T4.CountryCode AND T1.Province = T4.ProvinceCode AND 
                      T1.City = T4.CityCode 

WHERE     NOT EXISTS
                          (SELECT     1
                            FROM       LawyerDetails_TEMP
                            WHERE      LawyerId = T1.LawyerId)
          </createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="296">
        <addPrimaryKey columnNames="CountryCode, ProvinceCode, CityCode" constraintName="PK_CITY" tableName="CITY"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="297">
        <createView fullDefinition="false" viewName="Incentives_AView">SELECT     T1.Code, T1.Name, T1.Type, T1.Term, T1.IncentiveRuleCode, T2.RuleCodeDesc AS lovDescIncentiveRuleCodeName, T1.Active, T1.FreeText1, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.SQLRule AS lovDescSQLRule
FROM         ${add.schema}Incentives AS T1 INNER JOIN
                      ${add.schema}Rules AS T2 ON T1.IncentiveRuleCode = T2.RuleCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="298">
        <createView fullDefinition="false" viewName="Incentives_View">SELECT     T1.Code, T1.Name, T1.Type, T1.Term, T1.IncentiveRuleCode, T2.RuleCodeDesc AS lovDescIncentiveRuleCodeName, T1.Active, T1.FreeText1, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.SQLRule AS lovDescSQLRule

FROM         Incentives_TEMP AS T1 INNER JOIN
                      ${add.schema}Rules AS T2 ON T1.IncentiveRuleCode = T2.RuleCode
UNION ALL
SELECT     T1.Code, T1.Name, T1.Type, T1.Term, T1.IncentiveRuleCode, T2.RuleCodeDesc AS lovDescIncentiveRuleCodeName, T1.Active, T1.FreeText1, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.SQLRule AS lovDescSQLRule

FROM         Incentives AS T1 INNER JOIN
                      ${add.schema}Rules AS T2 ON T1.IncentiveRuleCode = T2.RuleCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Incentives_TEMP
                            WHERE      Code = T1.Code)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="299">
        <addPrimaryKey columnNames="RuleId, RuleModule, RuleEvent, RuleCode" constraintName="PK_Rules" tableName="Rules"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="300">
        <createView fullDefinition="false" viewName="Rules_AView">SELECT     ${add.schema}Rules.RuleId, ${add.schema}Rules.RuleCode, ${add.schema}Rules.RuleEvent, ${add.schema}Rules.RuleModule, ${add.schema}Rules.RuleCodeDesc, ${add.schema}Rules.WaiverDecider, 
                      ${add.schema}Rules.Waiver, ${add.schema}Rules.WaiverPerc, ${add.schema}Rules.SQLRule, ${add.schema}Rules.ActualBlock, ${add.schema}Rules.Version, ${add.schema}Rules.LastMntBy, 
                      ${add.schema}Rules.LastMntOn, ${add.schema}Rules.RecordStatus, ${add.schema}Rules.RoleCode, ${add.schema}Rules.NextRoleCode, ${add.schema}Rules.TaskId, ${add.schema}Rules.NextTaskId, 
                      ${add.schema}Rules.RecordType, ${add.schema}Rules.WorkflowId, ${add.schema}BMTRBFldMaster.RBMFldName AS LovDescRuleModuleName
FROM         ${add.schema}Rules INNER JOIN
                      ${add.schema}BMTRBFldMaster ON ${add.schema}BMTRBFldMaster.RBMModule = ${add.schema}Rules.RuleModule AND ${add.schema}BMTRBFldMaster.RBMEvent = ${add.schema}Rules.RuleEvent</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="301">
        <createView fullDefinition="false" viewName="Rules_View">SELECT     RuleId, RuleCode, RuleModule, RuleEvent, RuleCodeDesc, WaiverDecider, Waiver, WaiverPerc, SQLRule, ActualBlock, Version, 
                      LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId, 
                      T2.RBMFldName AS LovDescRuleModuleName
FROM         Rules_TEMP INNER JOIN
                      BMTRBFldMaster AS T2 ON T2.RBMModule = Rules_TEMP.RuleModule AND T2.RBMEvent = Rules_TEMP.RuleEvent
UNION ALL
SELECT     RuleId, RuleCode, RuleModule, RuleEvent, RuleCodeDesc, WaiverDecider, Waiver, WaiverPerc, SQLRule, ActualBlock, Version, 
                      LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId, 
                      T2.RBMFldName AS LovDescRuleModuleName
FROM         Rules INNER JOIN
                      BMTRBFldMaster AS T2 ON T2.RBMModule = Rules.RuleModule AND T2.RBMEvent = Rules.RuleEvent
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Rules_TEMP
                            WHERE      RuleId = Rules.RuleId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="302">
        <addUniqueConstraint columnNames="JOB_NAME, JOB_KEY" constraintName="JOB_INST_UN" tableName="BATCH_JOB_INSTANCE"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="303">
        <addPrimaryKey columnNames="JOB_INSTANCE_ID" constraintName="PK__BATCH_JO__4848154A160788EB" tableName="BATCH_JOB_INSTANCE"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="304">
        <addPrimaryKey columnNames="DocId" constraintName="PK_DocumentDetails_Temp" tableName="DocumentDetails_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="305">
        <addPrimaryKey columnNames="QueryCode, QueryModule" constraintName="PK_Queries" tableName="Queries"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="306">
        <createView fullDefinition="false" viewName="Queries_AView">SELECT		  T1.QueryCode, T1.QueryModule, T1.QueryDesc, T1.SqlQuery, T1.ActualBlock, T1.SubQuery		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T2.UsrLogin,T2.UsrFName, T2.UsrMName, T2.UsrLName, T1.RecordStatus, T1.RoleCode, T1.				NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.Active,
			  T3.QueryModuleDesc, T3.TableName, T3.ResultColumns, T3.DisplayColumns	
FROM    	Queries AS T1 
			INNER JOIN ${add.schema}SecUsers AS T2 ON T1.LastMntBy = T2.UsrID
			INNER JOIN  ${add.schema}QueryModules AS T3 ON T1.QueryModule = T3.QueryModuleCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="307">
        <addPrimaryKey columnNames="SysParmCode" constraintName="PK_SMTparameters_Temp" tableName="SMTparameters_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="308">
        <createView fullDefinition="false" viewName="SMTparameters_View">SELECT     SysParmCode, SysParmDesc, SysParmType, SysParmMaint, SysParmValue, SysParmLength, SysParmDec, SysParmList, SysParmValdMod, SysParmDescription, 
                      Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId
FROM         ${add.schema}SMTparameters_Temp AS T1
UNION ALL
SELECT     SysParmCode, SysParmDesc, SysParmType, SysParmMaint, SysParmValue, SysParmLength, SysParmDec, SysParmList, SysParmValdMod, SysParmDescription, 
                      Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId
FROM         ${add.schema}SMTparameters AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          SMTparameters_Temp
                            WHERE      SysParmCode = T1.SysParmCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="309">
        <createIndex indexName="CardNumber_indx" tableName="CardInstallment">
            <column name="CardNumber"/>
        </createIndex>
    </changeSet>
    <changeSet author="PCFAdmin" id="310">
        <createIndex indexName="CardTransac_indx" tableName="CardTransaction">
            <column name="CardNumber"/>
        </createIndex>
    </changeSet>
    <changeSet author="PCFAdmin" id="311">
        <createView fullDefinition="false" viewName="CardTransaction_AView">-- CardTransaction_AView
SELECT
	T1.CardNumber, T1.TransactionDate, T1.TransactionAmount, T1.Merchant, T1.Tenure, T1.RefNumber, T1.InstallmentAmount, T1.ReverseFlag
FROM
	CardTransaction T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="312">
        <createView fullDefinition="false" viewName="CardTransaction_View">-- CardTransaction_View
SELECT
	T1.CardNumber, T1.TransactionDate, T1.TransactionAmount, T1.Merchant, T1.Tenure, T1.RefNumber, T1.InstallmentAmount, T1.ReverseFlag
FROM
	${add.schema}CardTransaction_Temp AS T1
UNION ALL
SELECT
	T1.CardNumber, T1.TransactionDate, T1.TransactionAmount, T1.Merchant, T1.Tenure, T1.RefNumber, T1.InstallmentAmount, T1.ReverseFlag
FROM 
	${add.schema}CardTransaction AS T1
WHERE NOT EXISTS
	(SELECT 1
		FROM CardTransaction_TEMP
		WHERE CardNumber = T1.CardNumber)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="313" dbms="mssql">
        <createView fullDefinition="false" viewName="RPT_Pastdue_Taqseetcard_view">
        <![CDATA[select Distinct year(FinanceDate)year,Datename(month,FinanceDate)monthname,custcif,CustName,T.CardNumber,currency,Nationality,CustCRCPR,'' FUBy,'' Status,'Below 90 Days' Days,
T1.FinAmount FinAmount,T2.TransactionAmount PaidAmt,FinalOsAmount OutstandingAmt,UnpaidAmount PastDueAmt,
case when FinalOsAmount=0 then 0 else UnpaidAmount/FinalOsAmount*100/360 end  Percentage,
InstAmt InstAmt,NofInst NoOfInst,TotPenaltyAmount,FinanceDate,
BasicSalary BasicSal,Allowances Allowance,EmpName EmployerName,Position Position,TelephoneNum TelNo,
Address Address,'' ActionPlan,'' NextActionDate,RC.CcyEditField
from CardDetail T inner Join
PFFLIV..rmtcurrencies RC on RC.ccycode = T.currency  inner Join
(select cardNumber,sum(FinAmount)FinAmount,sum(InstallmentAmount) InstAmt,count(NoOfInstllment) NofInst,MAX(FinanceDate) FinanceDate  from cardinstallment
where cardnumber like '639679%' 
and year(FinanceDate)= (select year(cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE' )
and month(FinanceDate)= (select month(cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE')
group by cardNumber) T1 on T1.cardNumber=T.CardNumber inner Join
(select cardnumber,sum(TransactionAmount) TransactionAmount from CardTransaction group by cardnumber) T2 on T2.cardnumber=T.CardNumber
where Dpd<=90 
union all
select Distinct year(FinanceDate),Datename(month,FinanceDate)monthname,custcif,CustName,T.CardNumber,currency,Nationality,CustCRCPR,'' FUBy,'' Status,'Above 90 Days' Days,
T1.FinAmount FinAmount,T2.TransactionAmount PaidAmt,FinalOsAmount OutstandingAmt,UnpaidAmount PastDueAmt,
case when FinalOsAmount=0 then 0 else UnpaidAmount/FinalOsAmount*100/360 end  Percentage,
InstAmt InstAmt,NofInst NoOfInst,TotPenaltyAmount,FinanceDate,
BasicSalary BasicSal,Allowances Allowance,EmpName EmployerName,Position Position,TelephoneNum TelNo,
Address Address,'' ActionPlan,'' NextActionDate,RC.CcyEditField
from CardDetail T inner Join
PFFLIV..rmtcurrencies RC on RC.ccycode = T.currency  inner Join
(select CardNumber,SUM(FinAmount) FinAmount,sum(InstallmentAmount) InstAmt,count(NoOfInstllment) NofInst,MAX(FinanceDate) 
FinanceDate  from cardinstallment
where cardnumber like '639679%' 
and year(FinanceDate)= (select year(cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE' )
and month(FinanceDate)= (select month(cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE')
group by CardNumber) T1 on T1.cardNumber=T.CardNumber inner Join
(select cardnumber,sum(TransactionAmount) TransactionAmount from CardTransaction group by cardnumber) T2 on T2.cardnumber=T.CardNumber
where Dpd>=91]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="313" dbms="oracle">
        <createView fullDefinition="false" viewName="RPT_Pastdue_Taqseetcard_view">
        <![CDATA[select Distinct year(FinanceDate)year,Datename(month,FinanceDate)monthname,custcif,CustName,T.CardNumber,currency,Nationality,CustCRCPR,'' FUBy,'' Status,'Below 90 Days' Days,
T1.FinAmount FinAmount,T2.TransactionAmount PaidAmt,FinalOsAmount OutstandingAmt,UnpaidAmount PastDueAmt,
case when FinalOsAmount=0 then 0 else UnpaidAmount/FinalOsAmount*100/360 end  Percentage,
InstAmt InstAmt,NofInst NoOfInst,TotPenaltyAmount,FinanceDate,
BasicSalary BasicSal,Allowances Allowance,EmpName EmployerName,Position Position,TelephoneNum TelNo,
Address Address,'' ActionPlan,'' NextActionDate,RC.CcyEditField
from CardDetail T inner Join
PFFLIV..rmtcurrencies RC on RC.ccycode = T.currency  inner Join
(select cardNumber,sum(FinAmount)FinAmount,sum(InstallmentAmount) InstAmt,count(NoOfInstllment) NofInst,MAX(FinanceDate) FinanceDate  from cardinstallment
where cardnumber like '639679%' 
and year(FinanceDate)= (select year(cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE' )
and month(FinanceDate)= (select month(cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE')
group by cardNumber) T1 on T1.cardNumber=T.CardNumber inner Join
(select cardnumber,sum(TransactionAmount) TransactionAmount from CardTransaction group by cardnumber) T2 on T2.cardnumber=T.CardNumber
where Dpd<=90 
union all
select Distinct year(FinanceDate),Datename(month,FinanceDate)monthname,custcif,CustName,T.CardNumber,currency,Nationality,CustCRCPR,'' FUBy,'' Status,'Above 90 Days' Days,
T1.FinAmount FinAmount,T2.TransactionAmount PaidAmt,FinalOsAmount OutstandingAmt,UnpaidAmount PastDueAmt,
case when FinalOsAmount=0 then 0 else UnpaidAmount/FinalOsAmount*100/360 end  Percentage,
InstAmt InstAmt,NofInst NoOfInst,TotPenaltyAmount,FinanceDate,
BasicSalary BasicSal,Allowances Allowance,EmpName EmployerName,Position Position,TelephoneNum TelNo,
Address Address,'' ActionPlan,'' NextActionDate,RC.CcyEditField
from CardDetail T inner Join
PFFLIV..rmtcurrencies RC on RC.ccycode = T.currency  inner Join
(select CardNumber,SUM(FinAmount) FinAmount,sum(InstallmentAmount) InstAmt,count(NoOfInstllment) NofInst,MAX(FinanceDate) 
FinanceDate  from cardinstallment
where cardnumber like '639679%' 
and year(FinanceDate)= (select year(cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE' )
and month(FinanceDate)= (select month(cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE')
group by CardNumber) T1 on T1.cardNumber=T.CardNumber inner Join
(select cardnumber,sum(TransactionAmount) TransactionAmount from CardTransaction group by cardnumber) T2 on T2.cardnumber=T.CardNumber
where Dpd>=91]]></createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="313" dbms="postgresql">
        <createView fullDefinition="false" viewName="RPT_Pastdue_Taqseetcard_view">
        <![CDATA[select Distinct date_part('year', FinanceDate) "year", date_part('month',FinanceDate) monthname,custcif,CustName,T.CardNumber,currency,Nationality,CustCRCPR,'' FUBy,'' Status,'Below 90 Days' Days,
					T1.FinAmount FinAmount,T2.TransactionAmount PaidAmt,FinalOsAmount OutstandingAmt,UnpaidAmount PastDueAmt,
					case when FinalOsAmount=0 then 0 else UnpaidAmount/FinalOsAmount*100/360 end  Percentage,
					InstAmt InstAmt,NofInst NoOfInst,TotPenaltyAmount,FinanceDate,
					BasicSalary BasicSal,Allowances Allowance,EmpName EmployerName,Position "Position",TelephoneNum TelNo,
					Address Address,'' ActionPlan,'' NextActionDate,RC.CcyEditField
					from CardDetail T inner Join
						currencies RC on RC.ccycode = T.currency  inner Join
					(select cardNumber,sum(FinAmount)FinAmount,sum(InstallmentAmount) InstAmt,count(NoOfInstllment) NofInst,MAX(FinanceDate) FinanceDate  from cardinstallment
					where cardnumber like '639679%' 
					and date_part('year',FinanceDate)= (select date_part('year',cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE' )
					and date_part('month',FinanceDate)= (select date_part('month',cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE')
					group by cardNumber) T1 on T1.cardNumber=T.CardNumber inner Join
					(select cardnumber,sum(TransactionAmount) TransactionAmount from CardTransaction group by cardnumber) T2 on T2.cardnumber=T.CardNumber
					where Dpd<=90 
					union all
					select Distinct date_part('year', FinanceDate) "year", date_part('month',FinanceDate) monthname,custcif,CustName,T.CardNumber,currency,Nationality,CustCRCPR,'' FUBy,'' Status,'Above 90 Days' Days,
					T1.FinAmount FinAmount,T2.TransactionAmount PaidAmt,FinalOsAmount OutstandingAmt,UnpaidAmount PastDueAmt,
					case when FinalOsAmount=0 then 0 else UnpaidAmount/FinalOsAmount*100/360 end  Percentage,
					InstAmt InstAmt,NofInst NoOfInst,TotPenaltyAmount,FinanceDate,
					BasicSalary BasicSal,Allowances Allowance,EmpName EmployerName,Position "Position",TelephoneNum TelNo,
					Address Address,'' ActionPlan,'' NextActionDate,RC.CcyEditField
					from CardDetail T inner Join
					currencies RC on RC.ccycode = T.currency  inner Join
					(select CardNumber,SUM(FinAmount) FinAmount,sum(InstallmentAmount) InstAmt,count(NoOfInstllment) NofInst,MAX(FinanceDate) 
					FinanceDate  from cardinstallment
					where cardnumber like '639679%' 
					and date_part('year', FinanceDate)= (select date_part('year',cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE' )
					and date_part('month',FinanceDate)= (select date_part('month',cast(SysParmValue as date)) from smtparameters where sysparmcode='APP_LAST_BUS_DATE')
					group by CardNumber) T1 on T1.cardNumber=T.CardNumber inner Join
					(select cardnumber,sum(TransactionAmount) TransactionAmount from CardTransaction group by cardnumber) T2 on T2.cardnumber=T.CardNumber
					where Dpd>=91]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="314">
        <addPrimaryKey columnNames="id" constraintName="PK_TemplateFields" tableName="TemplateFields"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="315">
        <addUniqueConstraint columnNames="RightName" constraintName="IX_SecRights" tableName="SecRights"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="316">
        <addPrimaryKey columnNames="RightID" constraintName="PK_SecRights" tableName="SecRights"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="317">
        <createView fullDefinition="false" viewName="SecGroupRights_AView">SELECT     T2.GrpCode AS LovDescGrpCode, T3.RightName AS LovDescRightName, T1.GrpRightID, T1.GrpID, T1.RightID, T1.AccessType, T1.Version, T1.LastMntBy, 
                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.GrpDesc, T3.RightType
FROM         ${add.schema}SecGroupRights AS T1 INNER JOIN
                      ${add.schema}SecGroups AS T2 ON T1.GrpID = T2.GrpID INNER JOIN
                      ${add.schema}SecRights AS T3 ON T1.RightID = T3.RightID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="318">
        <createView fullDefinition="false" viewName="SecGroupRights_View">SELECT     T2.GrpCode AS LovDescGrpCode, T3.RightName AS LovDescRightName, T1.GrpRightID, T1.GrpID, T1.RightID, T1.AccessType, T1.Version, T1.LastMntBy, 
                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.GrpDesc, T3.RightType
FROM         ${add.schema}SecGroupRights AS T1 INNER JOIN
                      ${add.schema}SecGroups AS T2 ON T1.GrpID = T2.GrpID INNER JOIN
                      ${add.schema}SecRights AS T3 ON T1.RightID = T3.RightID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="319">
        <createView fullDefinition="false" viewName="SecRights_View">SELECT     RightID, RightType, RightName, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, 
                      WorkflowId
FROM         ${add.schema}SecRights</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="320">
        <addUniqueConstraint columnNames="RightName" constraintName="UQ_SECRIGHTS" tableName="SecRights"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="321">
        <createView fullDefinition="false" viewName="DashboardConfiguration_AView">SELECT     DashboardCode, DashboardType, DashboardDesc, dimension, caption, subCaption, Query, DrillDownChart, SeriesType, SeriesValues, FieldQuery, 
                      Version, LastMntBy, RecordStatus, LastMntOn, NextRoleCode, RoleCode, TaskId, NextTaskId, RecordType, WorkflowId, AdtDataSource, remarks, 
                      MultiSeries, DataXML
FROM         ${add.schema}DashboardConfiguration</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="322">
        <createView fullDefinition="false" viewName="DashboardConfiguration_View">SELECT     T1.DashboardCode, T1.DashboardType, T1.DashboardDesc, T1.Dimension, T1.Caption, T1.SubCaption, T1.Query, T1.DrillDownChart, 
                      T1.SeriesType, T1.SeriesValues, T1.FieldQuery, T1.Version, T1.LastMntBy, T1.RecordStatus, T1.LastMntOn, T1.NextRoleCode, T1.RoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.AdtDataSource, T1.Remarks, T1.MultiSeries, T1.DataXML
FROM         DashboardConfiguration_TEMP AS T1
UNION ALL
SELECT     T1.DashboardCode, T1.DashboardType, T1.DashboardDesc, T1.Dimension, T1.Caption, T1.SubCaption, T1.Query, T1.DrillDownChart, 
                      T1.SeriesType, T1.SeriesValues, T1.FieldQuery, T1.Version, T1.LastMntBy, T1.RecordStatus, T1.LastMntOn, T1.NextRoleCode, T1.RoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.AdtDataSource, T1.Remarks, T1.MultiSeries, T1.DataXML
FROM         DashboardConfiguration AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          DashboardConfiguration_TEMP
                            WHERE      DashboardCode = T1.DashboardCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="323">
        <addPrimaryKey columnNames="DashboardCode" constraintName="PK_DashboardConfiguration" tableName="DashboardConfiguration"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="324">
        <addPrimaryKey columnNames="VID" constraintName="PK_GlobalVariable" tableName="GlobalVariable"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="325">
        <createView fullDefinition="false" viewName="Strategy_AView">SELECT		T1.StrategyTypeCode, T1.StrategyTypeName, T1.StrategyTemplateType, T1.Color, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Strategy AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="326">
        <createView fullDefinition="false" viewName="Strategy_View">SELECT		T1.StrategyTypeCode, T1.StrategyTypeName, T1.StrategyTemplateType, T1.Color,  T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Strategy_TEMP AS T1
UNION ALL
SELECT		T1.StrategyTypeCode, T1.StrategyTypeName, T1.StrategyTemplateType, T1.Color, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Strategy AS T1
WHERE     NOT EXISTS (SELECT 1 FROM Strategy_TEMP WHERE StrategyTypeCode = T1.StrategyTypeCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="327">
        <addPrimaryKey columnNames="RBModule, RBEvent, RBFldName" constraintName="PK_BMTRBFldDetails" tableName="BMTRBFldDetails"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="328">
        <addPrimaryKey columnNames="GrpRightID" constraintName="PK_SecGroupRights" tableName="SecGroupRights"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="329">
        <createView fullDefinition="false" viewName="CollectorReassignment_AView">SELECT		 T1.ReassigmentId, T1.FromCollUserId, T1.ToCollUserId, T1.Fromdate, T1.ToDate, T1.ProductReferences	,T1.Version ,
 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,T1.WorkflowId,
 T2.CollectorName as FromCollUserIdName,T3.CollectorName as ToCollUserIdName,
 T2.CollectorNameUserid as FromCollectorNameUserid,T3.CollectorNameUserid as ToCollectorNameUserid
FROM    	CollectorReassignment AS T1 
			inner join Collectors AS T2 ON T1.FromCollUserId=T2.CollectorId
			inner join Collectors AS T3 ON T1.ToCollUserId=T3.CollectorId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="330">
        <createView fullDefinition="false" viewName="CollectorReassignment_View">SELECT		 T1.ReassigmentId, T1.FromCollUserId, T1.ToCollUserId, T1.Fromdate, T1.ToDate, T1.ProductReferences	,T1.Version ,
 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,T1.WorkflowId,
 T2.CollectorName as FromCollUserIdName,T3.CollectorName as ToCollUserIdName,
 T2.CollectorNameUserid as FromCollectorNameUserid,T3.CollectorNameUserid as ToCollectorNameUserid
FROM    	CollectorReassignment_Temp AS T1 
			inner join Collectors AS T2 ON T1.FromCollUserId=T2.CollectorId
			inner join Collectors AS T3 ON T1.ToCollUserId=T3.CollectorId
UNION ALL

SELECT		 T1.ReassigmentId, T1.FromCollUserId, T1.ToCollUserId, T1.Fromdate, T1.ToDate, T1.ProductReferences	,T1.Version ,
 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,T1.WorkflowId,
 T2.CollectorName as FromCollUserIdName,T3.CollectorName as ToCollUserIdName,
 T2.CollectorNameUserid as FromCollectorNameUserid,T3.CollectorNameUserid as ToCollectorNameUserid
FROM    	CollectorReassignment AS T1 
			inner join Collectors AS T2 ON T1.FromCollUserId=T2.CollectorId
			inner join Collectors AS T3 ON T1.ToCollUserId=T3.CollectorId
WHERE     NOT EXISTS (SELECT 1 FROM CollectorReassignment_TEMP WHERE ReassigmentId = T1.ReassigmentId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="331">
        <addPrimaryKey columnNames="ReassigmentId" constraintName="PK_CollectorReAssignment" tableName="CollectorReassignment"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="332">
        <addPrimaryKey columnNames="UsrId, DashboardRef, DashboardCol, DashboardRow" constraintName="PK_DashBoardPositions" tableName="DashboardPositions"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="333">
        <addPrimaryKey columnNames="STEP_EXECUTION_ID" constraintName="PK__BATCH_ST__60B8C8A531AFA360" tableName="BATCH_STEP_EXECUTION_CONTEXT"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="334">
        <addPrimaryKey columnNames="BranchCode" constraintName="PK_Branches_Temp" tableName="Branches_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="335">
        <createView fullDefinition="false" viewName="CustTypes_View">SELECT     T1.CustTypeCode, T1.CustTypeCtg, T1.CustTypeDesc, T1.CustTypeIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                  T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         CustTypes_TEMP AS T1
UNION ALL
SELECT     T1.CustTypeCode, T1.CustTypeCtg, T1.CustTypeDesc, T1.CustTypeIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         CustTypes AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          CustTypes_TEMP
                            WHERE      CustTypeCode = T1.CustTypeCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="336">
        <addPrimaryKey columnNames="CustTypeCode" constraintName="idxCustTypes_Temp_U_C" tableName="CustTypes_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="337">
        <addPrimaryKey columnNames="CardNumber" constraintName="PK_CardDetail" tableName="CardDetail"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="338">
        <createView fullDefinition="false" viewName="CollectionHierarchy_View">Select C.CollectorId,C.CollectorNameUserid Collector,CSU.UsrFName${call.concatenate}''${call.concatenate}CSU.UsrMName${call.concatenate}''${call.concatenate}CSU.UsrLName as CollectorName,CSU.UsrEmail as CollectorEmail,
T.TeamleadId,T.TeamleadNameUserid TeamLead ,TSU.UsrEmail as TeamLeadEmail,
M.ManagerId,M.ManagerUserId Manager ,MSU.UsrEmail as ManagerEmail
from Collectors  C 
left join TeamLeads T on C.TeamleadId=T.TeamleadId 
left join Managers M on T.ManagerId=M.ManagerId 
left join SecUsers CSU on C.CollectorNameUserid=CSU.UsrID
left join SecUsers TSU on T.TeamleadNameUserid=TSU.UsrID
left join SecUsers MSU on M.ManagerUserId=MSU.UsrID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="339">
        <createView fullDefinition="false" viewName="CollectorQueueAssignment_AView">SELECT     T1.CollectorUserId, T1.RefNo, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId, T1.QueueId, T2.CollectorNameUserid AS LovDescCollectorNameUserid
FROM         ${add.schema}CollectorQueueAssignment AS T1 INNER JOIN
                      ${add.schema}Collectors AS T2 ON T1.CollectorUserId = T2.CollectorId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="340">
        <createView fullDefinition="false" viewName="CollectorQueueAssignment_View">SELECT     T1.CollectorUserId, T1.RefNo, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId, T1.QueueId, T2.CollectorNameUserid AS LovDescCollectorNameUserid
FROM         ${add.schema}CollectorQueueAssignment_temp AS T1 INNER JOIN
                      ${add.schema}Collectors AS T2 ON T1.CollectorUserId = T2.CollectorId
UNION ALL
SELECT     T1.CollectorUserId, T1.RefNo, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId, T1.QueueId, T2.CollectorNameUserid AS LovDescCollectorNameUserid
FROM         ${add.schema}CollectorQueueAssignment AS T1 INNER JOIN
                      ${add.schema}Collectors AS T2 ON T1.CollectorUserId = T2.CollectorId
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          CollectorQueueAssignment_TEMP
                            WHERE      CollectorUserId = T1.CollectorUserId AND QueueId = T1.QueueId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="341">
        <createView fullDefinition="false" viewName="CollectorReassignment_TView">SELECT		 T1.ReassigmentId, T1.FromCollUserId, T1.ToCollUserId, T1.Fromdate, T1.ToDate, T1.ProductReferences	,T1.Version ,
 T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,T1.WorkflowId,
 T2.CollectorName as FromCollUserIdName,T3.CollectorName as ToCollUserIdName,
 T2.CollectorNameUserid as FromCollectorNameUserid,T3.CollectorNameUserid as ToCollectorNameUserid
FROM    	CollectorReassignment_Temp AS T1 
			inner join Collectors AS T2 ON T1.FromCollUserId=T2.CollectorId
			inner join Collectors AS T3 ON T1.ToCollUserId=T3.CollectorId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="342">
        <createView fullDefinition="false" viewName="Collectors_AView">SELECT     T1.CollectorId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.TeamleadId, T3.lovDescTeamleadNameUseridName AS lovDescTeamleadIdName, 
                      T3.ManagerId AS lovDescManagerId, T3.lovDescManagerIdName, T1.CollectorNameUserid, 
                      T4.UsrFName${call.concatenate}' '${call.concatenate}T4.UsrMName${call.concatenate}' '${call.concatenate} T4.UsrLName AS lovDescCollectorNameUseridName,  
                       T1.CollectorName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Collectors AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}TeamLeads_AView AS T3 ON T1.TeamleadId = T3.TeamleadId LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T4 ON T1.CollectorNameUserid = T4.UsrID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="343">
        <createView fullDefinition="false" viewName="Collectors_RView">SELECT     T1.CollectorId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.TeamleadId, T3.lovDescTeamleadNameUseridName AS lovDescTeamleadIdName, 
                      T3.ManagerId AS lovDescManagerId, T3.lovDescManagerIdName, T1.CollectorNameUserid, 
                      T4.UsrFName${call.concatenate}' '${call.concatenate}T4.UsrMName${call.concatenate}' '${call.concatenate} T4.UsrLName AS lovDescCollectorNameUseridName,  
                       T1.CollectorName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Collectors_RTemp AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}TeamLeads_AView AS T3 ON T1.TeamleadId = T3.TeamleadId LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T4 ON T1.CollectorNameUserid = T4.UsrID
UNION ALL
SELECT     T1.CollectorId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.TeamleadId, T3.lovDescTeamleadNameUseridName AS lovDescTeamleadIdName, 
                      T3.ManagerId AS lovDescManagerId, T3.lovDescManagerIdName, T1.CollectorNameUserid, 
                      T4.UsrFName${call.concatenate}' '${call.concatenate}T4.UsrMName${call.concatenate}' '${call.concatenate} T4.UsrLName AS lovDescCollectorNameUseridName,  
                       T1.CollectorName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Collectors AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}TeamLeads_AView AS T3 ON T1.TeamleadId = T3.TeamleadId LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T4 ON T1.CollectorNameUserid = T4.UsrID
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Collectors_RTEMP
                            WHERE      CollectorId = T1.CollectorId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="344">
        <createView fullDefinition="false" viewName="Collectors_View">SELECT     T1.CollectorId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.TeamleadId, T3.lovDescTeamleadNameUseridName AS lovDescTeamleadIdName, 
                      T3.ManagerId AS lovDescManagerId, T3.lovDescManagerIdName, T1.CollectorNameUserid, 
                      T4.UsrFName${call.concatenate}' '${call.concatenate}T4.UsrMName${call.concatenate}' '${call.concatenate} T4.UsrLName AS lovDescCollectorNameUseridName,  
                       T1.CollectorName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Collectors_Temp AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}TeamLeads_AView AS T3 ON T1.TeamleadId = T3.TeamleadId LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T4 ON T1.CollectorNameUserid = T4.UsrID
UNION ALL
SELECT     T1.CollectorId, T1.DeptCode, T2.DeptDesc AS lovDescDeptCodeName, T1.TeamleadId, T3.lovDescTeamleadNameUseridName AS lovDescTeamleadIdName, 
                      T3.ManagerId AS lovDescManagerId, T3.lovDescManagerIdName, T1.CollectorNameUserid, 
                      T4.UsrFName${call.concatenate}' '${call.concatenate}T4.UsrMName${call.concatenate}' '${call.concatenate} T4.UsrLName AS lovDescCollectorNameUseridName,  
                       T1.CollectorName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Collectors AS T1 INNER JOIN
                      ${add.schema}BMTDepartments AS T2 ON T1.DeptCode = T2.DeptCode LEFT OUTER JOIN
                      ${add.schema}TeamLeads_AView AS T3 ON T1.TeamleadId = T3.TeamleadId LEFT OUTER JOIN
                      ${add.schema}SecUsers AS T4 ON T1.CollectorNameUserid = T4.UsrID
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Collectors_TEMP
                            WHERE      CollectorId = T1.CollectorId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="345" dbms="mssql">
        <createView fullDefinition="false" viewName="UserCollectionHierarchy_View">
        <![CDATA[SELECT    T1.UsrID,COALESCE(T2.ManagerId,0)ManagerId,COALESCE(T3.Teamleadid,0)Teamleadid,COALESCE(T4.Collectorid,0)Collectorid, CASE WHEN COALESCE(T2.ManagerUserId, '') = '' THEN 0 ELSE 1 END AS Manager, CASE WHEN COALESCE(T3.TeamLeadNameUserId, '') 
                      = '' THEN 0 ELSE 1 END AS TeamLead, CASE WHEN COALESCE(T4.CollectorNameUserId, '') = '' THEN 0 ELSE 1 END AS Collector
FROM         ${add.schema}SecUsers AS T1 LEFT OUTER JOIN
                      ${add.schema}Managers AS T2 ON T2.ManagerUserId = T1.UsrID LEFT OUTER JOIN
                      ${add.schema}TeamLeads AS T3 ON T3.TeamleadNameUserid = T1.UsrID LEFT OUTER JOIN
                      ${add.schema}Collectors AS T4 ON T4.CollectorNameUserid = T1.UsrID
WHERE     (COALESCE(T2.ManagerUserId, '') <> '') OR
                      (COALESCE(T3.TeamleadNameUserid, '') <> '') OR
                      (COALESCE(T4.CollectorNameUserid, '') <> '')]]></createView>
    </changeSet>
        <changeSet author="PCFAdmin" id="345" dbms="oracle">
        <createView fullDefinition="false" viewName="UserCollectionHierarchy_View">
        <![CDATA[SELECT    T1.UsrID,COALESCE(T2.ManagerId,0)ManagerId,COALESCE(T3.Teamleadid,0)Teamleadid,COALESCE(T4.Collectorid,0)Collectorid, CASE WHEN COALESCE(T2.ManagerUserId, '') = '' THEN 0 ELSE 1 END AS Manager, CASE WHEN COALESCE(T3.TeamLeadNameUserId, '') 
                      = '' THEN 0 ELSE 1 END AS TeamLead, CASE WHEN COALESCE(T4.CollectorNameUserId, '') = '' THEN 0 ELSE 1 END AS Collector
FROM         ${add.schema}SecUsers AS T1 LEFT OUTER JOIN
                      ${add.schema}Managers AS T2 ON T2.ManagerUserId = T1.UsrID LEFT OUTER JOIN
                      ${add.schema}TeamLeads AS T3 ON T3.TeamleadNameUserid = T1.UsrID LEFT OUTER JOIN
                      ${add.schema}Collectors AS T4 ON T4.CollectorNameUserid = T1.UsrID
WHERE     (COALESCE(T2.ManagerUserId, '') <> '') OR
                      (COALESCE(T3.TeamleadNameUserid, '') <> '') OR
                      (COALESCE(T4.CollectorNameUserid, '') <> '')]]></createView>
    </changeSet>
        <changeSet author="PCFAdmin" id="345" dbms="postgresql">
        <createView fullDefinition="false" viewName="UserCollectionHierarchy_View">
        <![CDATA[SELECT    T1.UsrID,COALESCE(T2.ManagerId,0)ManagerId,COALESCE(T3.Teamleadid,0)Teamleadid,
COALESCE(T4.Collectorid,0)Collectorid, CASE WHEN COALESCE(cast(T2.ManagerUserId as varchar(100)), '') = '' 
THEN 0 ELSE 1 END AS Manager, CASE WHEN COALESCE(cast(T3.TeamLeadNameUserId as varchar(100)), '') 
                      = '' THEN 0 ELSE 1 END AS TeamLead, 
                      CASE WHEN COALESCE(cast(T4.CollectorNameUserId as varchar(100)), '') = '' 
                      THEN 0 ELSE 1 END AS Collector
FROM         SecUsers AS T1 LEFT OUTER JOIN
                      Managers AS T2 ON T2.ManagerUserId = T1.UsrID LEFT OUTER JOIN
                      TeamLeads AS T3 ON T3.TeamleadNameUserid = T1.UsrID LEFT OUTER JOIN
                      Collectors AS T4 ON T4.CollectorNameUserid = T1.UsrID
WHERE     (COALESCE(cast(T2.ManagerUserId as varchar(100)), '') <> '') OR
                      (COALESCE(cast(T3.TeamleadNameUserid as varchar(100)), '') <> '') OR
                      (COALESCE(cast(T4.CollectorNameUserid as varchar(100)), '') <> '')]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="346">
        <addPrimaryKey columnNames="ReassigmentId" constraintName="PK_CollectorReassignment_Temp" tableName="CollectorReassignment_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="347">
        <createView fullDefinition="false" viewName="Currencies_AView">SELECT     T1.CcyCode, T1.CcyNumber, T1.CcyDesc, T1.CcySwiftCode, T1.CcyEditField, T1.CcyMinorCcyUnits, T1.CcySpotRate, T1.CcyUserRateBuy, T1.CcyUserRateSell, 
                      T1.CcyIsActive, T1.CcySymbol, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId, T2.CcyMidRate AS lovDescCcyMidRate
FROM         ${add.schema}Currencies AS T1 LEFT OUTER JOIN
                      ${add.schema}ExchangeRates AS T2 ON T1.CcyCode = T2.CcyCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="348">
        <createView fullDefinition="false" viewName="ExchangeRates_AView">SELECT     T1.CcyCode, T2.CcyEditField AS lovDescAmtFormetter, T1.CcyBuyRate, T1.CcySellRate, T1.CcyMidRate, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}ExchangeRates AS T1 INNER JOIN
                      ${add.schema}Currencies AS T2 ON T1.CcyCode = T2.CcyCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="349">
        <createView fullDefinition="false" viewName="ExchangeRates_View">SELECT     T1.CcyCode, T2.CcyEditField as lovDescAmtFormetter, T1.CcyBuyRate, T1.CcySellRate, T1.CcyMidRate, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ExchangeRates_TEMP AS T1 INNER JOIN
                      ${add.schema}Currencies AS T2 ON T1.CcyCode = T2.CcyCode
UNION ALL
SELECT     T1.CcyCode, T2.CcyEditField as lovDescAmtFormetter, T1.CcyBuyRate, T1.CcySellRate, T1.CcyMidRate, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ExchangeRates AS T1 INNER JOIN
                      ${add.schema}Currencies AS T2 ON T1.CcyCode = T2.CcyCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          ExchangeRates_TEMP
                            WHERE      CcyCode = T1.CcyCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="350">
        <createView fullDefinition="false" viewName="Actions_AView">SELECT     T1.QueueId, T1.ReAssignCollector, T1.Reason, T1.MovetoAgency, T1.AgencyName, T1.ScdTransferDate, T1.ManualCureCase, T1.Remarks, T1.RefNo, T1.Active, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, T1.ActionId, 
                      T1.ActionCode, T1.MAReason, T1.MCReason, COALESCE(T1.Status, N'') AS Status, T1.FreeText1, T1.FreeText2, T2.Description AS lovDescQueueId, T1.Repossession, 
                      T1.RPReason, T2.DeptCode AS lovDescDeptCode, T3.lovDescOverdueAmt, COALESCE(T5.CcyEditField, 0) AS lovDescCcyEditField, 
                      T1.ReAssignType, T1.ReAssignBy, T1.ReAssignDate, T3.CollUserId, 
                      T3.lovDescCollectorName, T1.RepoProcessDate, T3.CustCIF,T3.Name as CustName , T3.Currency AS lovDescCurrency, T1.Legal, T1.LgReason, T1.Police, 
                      T1.PlcReason
FROM         ${add.schema}Actions AS T1 LEFT OUTER JOIN
                      ${add.schema}Queues AS T2 ON T1.QueueId = T2.QueueId INNER JOIN
                      ${add.schema}CollectionScreenDetails_AView AS T3 ON T1.QueueId = T3.QueueId AND T1.RefNo = T3.RefNo LEFT OUTER JOIN
                      ${add.schema}Currencies AS T5 ON T3.Currency = T5.CcyCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="351">
        <createView fullDefinition="false" viewName="Currencies_View">SELECT     T1.CcyCode, T1.CcyNumber, T1.CcyDesc, T1.CcySwiftCode, T1.CcyEditField, T1.CcyMinorCcyUnits, 
                      T1.CcySpotRate, T1.CcyUserRateBuy, T1.CcyUserRateSell, 
                      T1.CcyIsActive, T1.CcySymbol, T1.Version, T1.LastMntBy, 
                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Currencies_Temp AS T1
UNION ALL
SELECT     T1.CcyCode, T1.CcyNumber, T1.CcyDesc, T1.CcySwiftCode, T1.CcyEditField, T1.CcyMinorCcyUnits, 
                      T1.CcySpotRate, T1.CcyUserRateBuy, T1.CcyUserRateSell, 
                      T1.CcyIsActive, T1.CcySymbol, T1.Version, T1.LastMntBy, 
                      T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Currencies AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Currencies_TEMP
                            WHERE      CcyCode = T1.CcyCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="352">
        <createView fullDefinition="false" viewName="DebtCollectionReceipt_AView">SELECT		T1.ReceiptId, T1.ReceiptNo, T1.ReceiptDate, T1.AccountOfficer, T1.CustCIF, T1.CustName, T1.AccountNo, T1.PaymentType, T1.PayAmount, 
			T1.Currency,  T1.ChequeNo, T1.Acknowlegment, T1.DrawnOn		
			,T1.Version,T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			,T2.CcyDesc AS lovDescCurrencyName,T2.CcyEditField
FROM    	DebtCollectionReceipt AS T1 INNER JOIN
			 ${add.schema}Currencies AS T2 ON T1.Currency = T2.CcyCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="353">
        <createView fullDefinition="false" viewName="DebtCollectionReceipt_View">SELECT		T1.ReceiptId, T1.ReceiptNo, T1.ReceiptDate, T1.AccountOfficer, T1.CustCIF, T1.CustName, T1.AccountNo, T1.PaymentType, T1.PayAmount, T1.Currency, T1.ChequeNo, T1.Acknowlegment, T1.DrawnOn		
			,T1.Version,T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			,T2.CcyDesc AS lovDescCurrencyName,T2.CcyEditField
FROM    	DebtCollectionReceipt_TEMP AS T1   INNER JOIN
			 ${add.schema}Currencies AS T2 ON T1.Currency = T2.CcyCode 
UNION ALL
SELECT		T1.ReceiptId, T1.ReceiptNo, T1.ReceiptDate, T1.AccountOfficer, T1.CustCIF, T1.CustName, T1.AccountNo, T1.PaymentType, T1.PayAmount, T1.Currency, T1.ChequeNo, T1.Acknowlegment, T1.DrawnOn		
			,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			,T2.CcyDesc AS lovDescCurrencyName,T2.CcyEditField
FROM    	DebtCollectionReceipt AS T1  INNER JOIN
			 ${add.schema}Currencies AS T2 ON T1.Currency = T2.CcyCode 
WHERE     NOT EXISTS (SELECT 1 FROM DebtCollectionReceipt_TEMP WHERE ReceiptId = T1.ReceiptId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="354">
        <addPrimaryKey columnNames="CcyCode" constraintName="idxCurrencies_U_C" tableName="Currencies"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="355">
        <createView fullDefinition="false" viewName="COUNTRY_AView">SELECT     CountryCode, CountryName, CountryISDCode, CountryCurrencyCode, Active, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, 
                      NextTaskId, RecordType, WorkflowId
FROM         ${add.schema}COUNTRY AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="356">
        <createView fullDefinition="false" viewName="COUNTRY_View">SELECT     T1.CountryCode, T1.CountryName, T1.CountryISDCode, T1.CountryCurrencyCode, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         COUNTRY_TEMP AS T1
UNION ALL
SELECT     T1.CountryCode, T1.CountryName, T1.CountryISDCode, T1.CountryCurrencyCode, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         COUNTRY AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          COUNTRY_TEMP
                            WHERE      CountryCode = T1.CountryCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="357">
        <addPrimaryKey columnNames="CountryCode" constraintName="PK_COUNTRY" tableName="COUNTRY"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="358">
        <createView fullDefinition="false" viewName="PROVINCE_AView">SELECT     T1.CountryCode, T2.CountryName AS lovDescCountryCodeName, T1.ProvinceCode, T1.ProvinceName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}PROVINCE AS T1 INNER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.CountryCode = T2.CountryCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="359">
        <createView fullDefinition="false" viewName="PROVINCE_View">-- Create View for Province Module
-- Create View for Province Module
SELECT     T1.CountryCode, T2.CountryName AS lovDescCountryCodeName, T1.ProvinceCode, T1.ProvinceName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}PROVINCE_Temp AS T1 INNER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.CountryCode = T2.CountryCode
UNION ALL
SELECT     T1.CountryCode, T2.CountryName AS lovDescCountryCodeName, T1.ProvinceCode, T1.ProvinceName, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}PROVINCE AS T1 INNER JOIN
                      ${add.schema}COUNTRY AS T2 ON T1.CountryCode = T2.CountryCode

WHERE     NOT EXISTS (SELECT 1 FROM PROVINCE_TEMP WHERE ProvinceCode = T1.ProvinceCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="360">
        <addPrimaryKey columnNames="MenuID" constraintName="PK_PTMenuDetails" tableName="PTMenuDetails"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="361">
        <createIndex indexName="IX_SecGroups" tableName="SecGroups" unique="true">
            <column name="GrpCode"/>
        </createIndex>
    </changeSet>
    <changeSet author="PCFAdmin" id="362">
        <addPrimaryKey columnNames="GrpID" constraintName="PK_SecGroups" tableName="SecGroups"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="363">
        <createView fullDefinition="false" viewName="SecGroups_View">SELECT		T1.GrpID, T1.GrpCode, T1.GrpDesc		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	SecGroups AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="364">
        <createView fullDefinition="false" viewName="SecRoleGroups_AView">SELECT     ${add.schema}SecRoleGroups.RoleID, ${add.schema}SecRoles.RoleCd AS LovDescRoleCode, ${add.schema}SecRoleGroups.RoleGrpID, ${add.schema}SecRoleGroups.GrpID, 
                      ${add.schema}SecGroups.GrpCode AS LovDescGrpCode, ${add.schema}SecRoleGroups.Version, ${add.schema}SecRoleGroups.LastMntBy, ${add.schema}SecRoleGroups.LastMntOn, 
                      ${add.schema}SecRoleGroups.RecordStatus, ${add.schema}SecRoleGroups.RoleCode, ${add.schema}SecRoleGroups.NextRoleCode, ${add.schema}SecRoleGroups.TaskId, 
                      ${add.schema}SecRoleGroups.NextTaskId, ${add.schema}SecRoleGroups.RecordType, ${add.schema}SecRoleGroups.WorkflowId
FROM         ${add.schema}SecRoleGroups INNER JOIN
                      ${add.schema}SecRoles ON ${add.schema}SecRoleGroups.RoleID = ${add.schema}SecRoles.RoleID INNER JOIN
                      ${add.schema}SecGroups ON ${add.schema}SecRoleGroups.GrpID = ${add.schema}SecGroups.GrpID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="365" dbms="mssql">
        <createView fullDefinition="false" viewName="SecRoleGroups_View">SELECT     TOP (100) PERCENT T1.RoleGrpID, T1.RoleID, T3.RoleCd AS LovDescRoleCd, T3.RoleDesc AS LovDescRoleDesc, T1.GrpID, 
                      T2.GrpCode AS LovDescGrpCode, T2.GrpDesc AS LovDescGrpDesc, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}SecRoleGroups AS T1 INNER JOIN
                      ${add.schema}SecGroups AS T2 ON T1.GrpID = T2.GrpID INNER JOIN
                      ${add.schema}SecRoles AS T3 ON T1.RoleID = T3.RoleID
ORDER BY LovDescRoleCd</createView>
    </changeSet>
        <changeSet author="PCFAdmin" id="365" dbms="oracle">
        <createView fullDefinition="false" viewName="SecRoleGroups_View">SELECT     TOP (100) PERCENT T1.RoleGrpID, T1.RoleID, T3.RoleCd AS LovDescRoleCd, T3.RoleDesc AS LovDescRoleDesc, T1.GrpID, 
                      T2.GrpCode AS LovDescGrpCode, T2.GrpDesc AS LovDescGrpDesc, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}SecRoleGroups AS T1 INNER JOIN
                      ${add.schema}SecGroups AS T2 ON T1.GrpID = T2.GrpID INNER JOIN
                      ${add.schema}SecRoles AS T3 ON T1.RoleID = T3.RoleID
ORDER BY LovDescRoleCd</createView>
    </changeSet>
        <changeSet author="PCFAdmin" id="365" dbms="postgresql">
        <createView fullDefinition="false" viewName="SecRoleGroups_View">SELECT  T1.RoleGrpID, T1.RoleID, T3.RoleCd AS LovDescRoleCd, T3.RoleDesc AS LovDescRoleDesc, T1.GrpID, 
                      T2.GrpCode AS LovDescGrpCode, T2.GrpDesc AS LovDescGrpDesc, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}SecRoleGroups AS T1 INNER JOIN
                      ${add.schema}SecGroups AS T2 ON T1.GrpID = T2.GrpID INNER JOIN
                      ${add.schema}SecRoles AS T3 ON T1.RoleID = T3.RoleID
ORDER BY LovDescRoleCd LIMIT 100</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="366">
        <addUniqueConstraint columnNames="GrpCode" constraintName="UQ_SECGROUPS" tableName="SecGroups"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="367">
        <createView fullDefinition="false" viewName="CardInstallment_AView">-- CardInstallment_AView
SELECT
	T1.CardNumber, T1.FinAmount, T1.InstallmentAmount, T1.NoOfInstllment, T1.ExtractionDate, T1.FinanceDate
FROM
	CardInstallment T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="368">
        <addPrimaryKey columnNames="LawyerId" constraintName="PK_LawyerDetails" tableName="LawyerDetails"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="369">
        <addForeignKeyConstraint baseColumnNames="JOB_INSTANCE_ID" baseTableName="BATCH_JOB_PARAMS" constraintName="JOB_INST_PARAMS_FK" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="JOB_INSTANCE_ID" referencedTableName="BATCH_JOB_INSTANCE"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="370">
        <addPrimaryKey columnNames="ActionLogID" constraintName="PK_ActionLog" tableName="ActionLog"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="371">
        <createView fullDefinition="false" viewName="AddressTypes_View">SELECT		T1.AddrTypeCode, T1.AddrTypeDesc, T1.AddrTypePriority, T1.AddrTypeActive		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	AddressTypes_TEMP AS T1
UNION ALL
SELECT		T1.AddrTypeCode, T1.AddrTypeDesc, T1.AddrTypePriority, T1.AddrTypeActive		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	AddressTypes AS T1
WHERE     NOT EXISTS (SELECT 1 FROM AddressTypes_TEMP WHERE AddrTypeCode = T1.AddrTypeCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="372">
        <addPrimaryKey columnNames="AddrTypeCode" constraintName="idxAddressTypes_Temp_U_C" tableName="AddressTypes_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="373">
        <addForeignKeyConstraint baseColumnNames="CountryCode" baseTableName="PROVINCE" constraintName="FK_PROVINCE_COUNTRY" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="CountryCode" referencedTableName="COUNTRY"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="374">
        <addPrimaryKey columnNames="CountryCode, ProvinceCode" constraintName="PK_PROVINCE" tableName="PROVINCE"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="375">
        <addPrimaryKey columnNames="IntRateBasisCode" constraintName="idxBMTIntRatBasisCods_Temp_U_C" tableName="BMTIntRateBasisCodes_Temp"/>
    </changeSet>
   <changeSet author="PCFAdmin" id="376" dbms="mssql">
        <createView fullDefinition="false" viewName="RepossessionList_View"> 
select T1.Queueid,T1.repossession,T1.RefNo,T1.status,T1.RepoProcessDate as processDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.RecordType, T1.NextTaskId, 
                      T1.WorkflowId ,T2.CustId,T4.ProductCode+'-'+T4.AssetDesc as AssertType
from actions as T1 
inner join pfs..financemain as T2 on T1.RefNo = T2.finReference
inner join pfs..rmtfinancetypes as T3 on T2.fintype = T3.fintype
inner join pfs..RMTProductAssets as T4 on T3.finAssetType = T4.AssetId </createView> 
    </changeSet>
    <changeSet author="PCFAdmin" id="376" dbms="postgresql">
        <createView fullDefinition="false" viewName="RepossessionList_View"> 
select T1.Queueid,T1.repossession,T1.RefNo,T1.status,T1.RepoProcessDate as processDate,T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.RecordType, T1.NextTaskId, 
                      T1.WorkflowId ,T2.CustId,T4.ProductCode||'-'||T4.AssetDesc as AssertType
from actions as T1 
inner join (SELECT * FROM public.dblink ('plfcoreserv','select CustId,finReference,fintype from public.financemain')
    AS DATA(CustId BIGINT,finReference CHARACTER VARYING,fintype CHARACTER VARYING)) as T2 on T1.RefNo = T2.finReference
inner join (SELECT * FROM public.dblink ('plfcoreserv','select finAssetType,fintype from public.rmtfinancetypes')
    AS DATA(finAssetType CHARACTER VARYING,fintype CHARACTER VARYING)) as T3 on T2.fintype = T3.fintype
inner join (SELECT * FROM public.dblink ('plfcoreserv','select AssetId,ProductCode,AssetDesc,finReference from public.RMTProductAssets')
    AS DATA(AssetId CHARACTER VARYING,ProductCode CHARACTER VARYING,AssetDesc CHARACTER VARYING,finReference CHARACTER VARYING)) as T4 on T3.finAssetType = T4.AssetId </createView> 
    </changeSet>  
    <changeSet author="PCFAdmin" id="377">
        <addPrimaryKey columnNames="RepoId" constraintName="PK_RepossessionDetails_Temp" tableName="RepossessionDetails_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="378">
        <createView fullDefinition="false" viewName="RPT_Repossession_View">select t2.description,T1.RefNo,CustCIF,name,AstType,ProcessDate,t1.Status,t1.RecordStatus,t1.Recordtype,CcyEditField,AstLocationAddress,t1.ContactCode,DepreciationAllowed,RepoDate as repoenddate,
      ${add.schema}UDF_ConvertCurrency(T1.OverdueAmt,T1.DbtCurrency,'BHD')OverdueAmt,
      ${add.schema}UDF_ConvertCurrency(T1.AssertMrktValue,T1.DbtCurrency,'BHD')AssertMrktValue,DbtCurrency,
       ProcessDate as repostartdate,AddLocalpolice,EmailLocalpolice,t1.Remarks,AstNumber,
       ${add.schema}UDF_ConvertCurrency(T1.AstValuationPrice,T1.DbtCurrency,'BHD')AstValuationPrice,
       ${add.schema}UDF_ConvertCurrency(T1.AstTotalLoanOutstanding,T1.DbtCurrency,'BHD')AstTotalLoanOutstanding,
       ${add.schema}UDF_ConvertCurrency(T1.AstProfit,T1.DbtCurrency,'BHD')AstProfit,
       ${add.schema}UDF_ConvertCurrency(T1.AstPenalty,T1.DbtCurrency,'BHD')AstPenalty,AgencyName,GarageOrWarehouseName,
       ${add.schema}UDF_ConvertCurrency(T1.GarageOrWarehouseCharges,T1.DbtCurrency,'BHD')GarageOrWarehouseCharges,ExchangeRate,
       ${add.schema}UDF_ConvertCurrency(T1.MaintainCharges,T1.DbtCurrency,'BHD')MaintainCharges,
       ${add.schema}UDF_ConvertCurrency(T1.TransactionAmt,T1.DbtCurrency,'BHD')TransactionAmt,
       ${add.schema}UDF_ConvertCurrency(T1.TotalCharges,T1.DbtCurrency,'BHD')TotalCharges,
       ${add.schema}UDF_ConvertCurrency(T1.AstCostOfValuation,T1.DbtCurrency,'BHD')AstCostOfValuation,
       ${add.schema}UDF_ConvertCurrency(T1.AstSellingCost,T1.DbtCurrency,'BHD')AstSellingCost,
       ${add.schema}UDF_ConvertCurrency(T1.AmtRecovered,T1.DbtCurrency,'BHD')AmtRecovered,GainOrLoss, TranCurrency,
       ${add.schema}UDF_ConvertCurrency(T1.GainOrLossAdj,T1.DbtCurrency,'BHD')GainOrLossAdj,t7.Description as contactdesc
from   RepossessionDetails_Temp as t1 inner join
       Queues as t2 on t2.QueueId=t1.QueueId inner join
       CollectionScreenDetails t3 on t3.RefNo=t1.RefNo Inner Join
	   Collectors T4 ON t3.CollUserId=T4.CollectorId inner join
	   SecUsers AS T5 ON T4.CollectorNameUserid = T5.UsrID inner join
	   Currencies as t6 on t6.CcyCode=t1.DbtCurrency inner join
	   ContactCodes as t7 on t7.Contactcode=t1.ContactCode

union all 

		select t2.description,T1.RefNo,CustCIF,name,AstType,ProcessDate,t1.Status,t1.RecordStatus,t1.Recordtype,CcyEditField,AstLocationAddress,t1.ContactCode,DepreciationAllowed,RepoDate as repoenddate,
      ${add.schema}UDF_ConvertCurrency(T1.OverdueAmt,T1.DbtCurrency,'BHD')OverdueAmt,
      ${add.schema}UDF_ConvertCurrency(T1.AssertMrktValue,T1.DbtCurrency,'BHD')AssertMrktValue,DbtCurrency,
       ProcessDate as repostartdate,AddLocalpolice,EmailLocalpolice,t1.Remarks,AstNumber,
       ${add.schema}UDF_ConvertCurrency(T1.AstValuationPrice,T1.DbtCurrency,'BHD')AstValuationPrice,
       ${add.schema}UDF_ConvertCurrency(T1.AstTotalLoanOutstanding,T1.DbtCurrency,'BHD')AstTotalLoanOutstanding,
       ${add.schema}UDF_ConvertCurrency(T1.AstProfit,T1.DbtCurrency,'BHD')AstProfit,
       ${add.schema}UDF_ConvertCurrency(T1.AstPenalty,T1.DbtCurrency,'BHD')AstPenalty,AgencyName,GarageOrWarehouseName,
       ${add.schema}UDF_ConvertCurrency(T1.GarageOrWarehouseCharges,T1.DbtCurrency,'BHD')GarageOrWarehouseCharges,ExchangeRate,
       ${add.schema}UDF_ConvertCurrency(T1.MaintainCharges,T1.DbtCurrency,'BHD')MaintainCharges,
       ${add.schema}UDF_ConvertCurrency(T1.TransactionAmt,T1.DbtCurrency,'BHD')TransactionAmt,
       ${add.schema}UDF_ConvertCurrency(T1.TotalCharges,T1.DbtCurrency,'BHD')TotalCharges,
       ${add.schema}UDF_ConvertCurrency(T1.AstCostOfValuation,T1.DbtCurrency,'BHD')AstCostOfValuation,
       ${add.schema}UDF_ConvertCurrency(T1.AstSellingCost,T1.DbtCurrency,'BHD')AstSellingCost,
       ${add.schema}UDF_ConvertCurrency(T1.AmtRecovered,T1.DbtCurrency,'BHD')AmtRecovered,GainOrLoss, TranCurrency,
       ${add.schema}UDF_ConvertCurrency(T1.GainOrLossAdj,T1.DbtCurrency,'BHD')GainOrLossAdj,t7.Description as contactdesc
from   RepossessionDetails as t1 inner join
       Queues as t2 on t2.QueueId=t1.QueueId inner join
       CollectionScreenDetails t3 on t3.RefNo=t1.RefNo Inner Join
	   Collectors T4 ON t3.CollUserId=T4.CollectorId inner join
	   SecUsers AS T5 ON T4.CollectorNameUserid = T5.UsrID inner join
	   Currencies as t6 on t6.CcyCode=t1.DbtCurrency inner join
	   ContactCodes as t7 on t7.Contactcode=t1.ContactCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="379">
        <createView fullDefinition="false" viewName="REPORTFILTERFIELDS_View">SELECT     T1.ReportId, T1.FieldID, T1.FieldName, T1.FieldType, T1.FieldLabel, T1.FieldDBName, T1.AppUtilMethodName, 
                      T1.ModuleName, T1.LovHiddenFieldMethod, T1.LovTextFieldMethod, T1.MultiSelectSearch, 
                      T1.FieldLength, T1.FieldMaxValue, T1.FieldMinValue, T1.SeqOrder, T1.Mandatory, 
                      T1.FieldConstraint, T1.FieldErrorMessage, T1.WhereCondition, T1.StaticValue, T1.FieldWidth,
                       T1.FilterRequired, T1.DefaultFilter, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus,
                        T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}ReportFilterFields AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="380">
        <addPrimaryKey columnNames="WeekendCode" constraintName="PK_SMTWeekendMaster" tableName="SMTWeekendMaster"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="381">
        <createView fullDefinition="false" viewName="SMTWeekendMaster_AView">SELECT     WeekendCode, WeekendDesc, Weekend, Version, LastMntBy, LastMntOn
FROM         ${add.schema}SMTWeekendMaster</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="382">
        <createView fullDefinition="false" viewName="CustTypes_AView">SELECT     CustTypeCode, CustTypeCtg, CustTypeDesc, CustTypeIsActive, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, 
                      NextTaskId, RecordType, WorkflowId
FROM         ${add.schema}CustTypes</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="383">
        <addPrimaryKey columnNames="CustTypeCode" constraintName="idxCustTypes_U_C" tableName="CustTypes"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="384">
        <addPrimaryKey columnNames="SysParmCode" constraintName="PK_SMTparameters" tableName="SMTparameters"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="385">
        <createView fullDefinition="false" viewName="SMTparameters_AView">SELECT     SysParmCode, SysParmDesc, SysParmType, SysParmMaint, SysParmValue, SysParmLength, SysParmDec, SysParmList, SysParmValdMod, SysParmDescription, 
                      Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId
FROM         ${add.schema}SMTparameters AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="386">
        <createView fullDefinition="false" viewName="QueueOwnerDetails_View">SELECT     T2.ManagerId AS UserId, T3.UsrFName AS UserLoginName, T2.ManagerName AS UserName, T2.DeptCode AS DeptCode
FROM         Managers AS T2  INNER JOIN
                   ${add.schema}SecUsers AS T3
ON                   T2.ManagerUserId = T3.UsrID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="387">
        <addPrimaryKey columnNames="QBModule, QBFldName" constraintName="PK_QBFieldDetails" tableName="QBFieldDetails"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="388">
        <addPrimaryKey columnNames="UsrRoleID" constraintName="PK_SecUserRoles_Temp" tableName="SecUserRoles_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="389">
        <createView fullDefinition="false" viewName="SecUserRoles_View">SELECT     T1.UsrRoleID, T1.UsrID, T2.UsrFName AS lovDescFirstName, T2.UsrMName AS lovDescMiddleName, T2.UsrLName AS lovDescLastName, T1.RoleID, T3.RoleApp, T3.RoleCd AS lovDescRoleCd, 
                      T3.RoleDesc AS lovDescRoleDesc, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId, T4.UsrFName AS lovDescUsrFName, T4.UsrMName AS lovDescUsrMName, T4.UsrLName AS lovDescUsrLName
FROM         ${add.schema}SecUserRoles_Temp AS T1 INNER JOIN
                      ${add.schema}SecUsers AS T2 ON T1.UsrID = T2.UsrID INNER JOIN
                      ${add.schema}SecRoles AS T3 ON T1.RoleID = T3.RoleID INNER JOIN
                      ${add.schema}SecUsers AS T4 ON T1.LastMntBy = T4.UsrID
UNION ALL
SELECT     T1.UsrRoleID, T1.UsrID, T2.UsrFName AS lovDescFirstName, T2.UsrMName AS lovDescMiddleName, T2.UsrLName AS lovDescLastName, T1.RoleID, T3.RoleApp, T3.RoleCd AS lovDescRoleCd, 
                      T3.RoleDesc AS lovDescRoleDesc, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId,  T4.UsrFName AS lovDescUsrFName, T4.UsrMName AS lovDescUsrMName, T4.UsrLName AS lovDescUsrLName
FROM         ${add.schema}SecUserRoles AS T1 INNER JOIN
                      ${add.schema}SecUsers AS T2 ON T1.UsrID = T2.UsrID INNER JOIN
                      ${add.schema}SecRoles AS T3 ON T1.RoleID = T3.RoleID INNER JOIN
                      ${add.schema}SecUsers AS T4 ON T1.LastMntBy = T4.UsrID
WHERE     (NOT EXISTS
                          (SELECT     1 AS Expr1
                            FROM          ${add.schema}SecUserRoles_Temp
                            WHERE      (UsrRoleID = T1.UsrRoleID)))


--------------------------------
--CollectionDataDetails_ALL</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="390">
        <addPrimaryKey columnNames="DashboardCode" constraintName="PK_DashboardConfiguration_Temp" tableName="DashboardConfiguration_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="391">
        <createView fullDefinition="false" viewName="CollectorIncentives_View">SELECT		T1.CollInctId, T1.CollectorId, T1.FromDate, T1.ToDate, T1.CollectedAmount, T1.InctCode, T1.InctAmount, T1.InctPaidDate		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	CollectorIncentives_TEMP AS T1
UNION ALL
SELECT		T1.CollInctId, T1.CollectorId, T1.FromDate, T1.ToDate, T1.CollectedAmount, T1.InctCode, T1.InctAmount, T1.InctPaidDate		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	CollectorIncentives AS T1
WHERE     NOT EXISTS (SELECT 1 FROM CollectorIncentives_TEMP WHERE CollInctId = T1.CollInctId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="392">
        <addPrimaryKey columnNames="CollInctId" constraintName="idxCollectorIncentives_T_U_C" tableName="CollectorIncentives_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="393">
        <addPrimaryKey columnNames="RepoId" constraintName="PK_RepossessionDetails" tableName="RepossessionDetails"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="394">
        <addForeignKeyConstraint baseColumnNames="CountryCode" baseTableName="PROVINCE_Temp" constraintName="FK_PROVINCE_Temp_COUNTRY" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="CountryCode" referencedTableName="COUNTRY"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="395">
        <addPrimaryKey columnNames="CountryCode, ProvinceCode" constraintName="PK_PROVINCE_Temp" tableName="PROVINCE_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="396">
        <addPrimaryKey columnNames="RoleID" constraintName="PK_SecRoles" tableName="SecRoles"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="397">
        <addUniqueConstraint columnNames="RoleCd" constraintName="UQ_SECROLES" tableName="SecRoles"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="398">
        <addPrimaryKey columnNames="UsrID" constraintName="PK_SecUsers_RTemp" tableName="SecUsers_RTemp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="399">
        <addUniqueConstraint columnNames="UsrLogin" constraintName="UQ_SecUsers_RTemp" tableName="SecUsers_RTemp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="400">
        <addPrimaryKey columnNames="RBFldType, RBSTFld" constraintName="PK_BMTRBFldCriterias" tableName="BMTRBFldCriterias"/>
    </changeSet>
<!--     <changeSet author="PCFAdmin" id="401">
        <createView fullDefinition="false" viewName="DashboardODDetails_View">SELECT     T1.CustID, T2.CustShrtName AS CustName, T1.FinReference AS ProductId, T1.FinCurODAmt AS OverdueAmt, T1.FinCurODDays AS OverduePeriod, 
                      'Remarks' AS Remarks, T3.LetterTemplate, T3.SMSTemplate, T3.EmailTemplate, T3.PriorityValue, T3.CategoryCode
FROM         PFFLIV.${add.schema}FinODDetails AS T1 INNER JOIN
                      ${add.schema}DashboardCustomerDetails_View AS T2 ON T1.CustID = T2.CustID INNER JOIN
                      ${add.schema}Queues AS T3 ON T3.QueueId = 1</createView>
    </changeSet> -->
    <changeSet author="PCFAdmin" id="402">
        <addPrimaryKey columnNames="RoleGrpID" constraintName="PK_SecRoleGroups" tableName="SecRoleGroups"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="403">
        <createView fullDefinition="false" viewName="AgencyDetails_AView">/* Create View for AgencyDetail Module*/
SELECT     T1.AgencyName, T1.AgencyType, T1.AgencyDesc, T1.QueueID, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.Description AS lovDescQueueIDName
FROM         ${add.schema}AgencyDetails AS T1 INNER JOIN
                      ${add.schema}Queues AS T2 ON T1.QueueID = T2.QueueId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="404">
        <createView fullDefinition="false" viewName="AgencyDetails_View">SELECT     T1.AgencyName, T1.AgencyType, T1.AgencyDesc, T1.QueueID, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.Description AS lovDescQueueIDName
FROM         ${add.schema}AgencyDetails_Temp AS T1 INNER JOIN
                      ${add.schema}Queues AS T2 ON T1.QueueID = T2.QueueId
UNION ALL
SELECT     T1.AgencyName, T1.AgencyType, T1.AgencyDesc, T1.QueueID, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, 
                      T1.NextTaskId, T1.RecordType, T1.WorkflowId, T2.Description AS lovDescQueueIDName
FROM         ${add.schema}AgencyDetails AS T1 INNER JOIN
                      ${add.schema}Queues AS T2 ON T1.QueueID = T2.QueueId
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          AgencyDetails_TEMP
                            WHERE      AgencyName = T1.AgencyName)</createView>
    </changeSet>
  <!--   <changeSet author="PCFAdmin" id="405">
        <createView fullDefinition="false" viewName="DashboardCollectors_View">SELECT     T1.CustID, T2.QueueId AS lovDescQueueId, T1.ProductId, T1.OverdueAmt, T1.OverduePeriod, T3.CustDOB AS BirthDate, T4.PhoneNumber, 
                      T5.CustAddrHNbr AS AddrHNbr, T5.lovDescCustAddrCityName AS AddrCity, T5.lovDescCustAddrProvinceName AS AddrProvince, 
                      T5.lovDescCustAddrCountryName AS AddrCountry, T6.CustEmpName AS Employer, T7.FinType AS LoanType, T7.FinAmount AS LoanAmount, 
                      T7.FinStartDate AS LoanStartDate, T7.FinCcy AS LoanCurrency, T8.CustEMail AS OfficeEMail, T9.CustEMail AS PersonalEMail
FROM         ${add.schema}DashboardODDetails_View AS T1 INNER JOIN
                      ${add.schema}Queues AS T2 ON T2.QueueId = 1 INNER JOIN
                      AIBPFF.${add.schema}Customers AS T3 ON T1.CustID = T3.CustID INNER JOIN
                      AIBPFF.${add.schema}CustomerPhoneNumbers AS T4 ON T1.CustID = T4.PhoneCustID INNER JOIN
                      AIBPFF.${add.schema}CustomerAddresses_AView AS T5 ON T1.CustID = T5.CustID INNER JOIN
                      AIBPFF.${add.schema}CustomerEmpDetails AS T6 ON T1.CustID = T6.CustID INNER JOIN
                      AIBPFF.${add.schema}FinanceMain AS T7 ON T1.ProductId = T7.FinReference INNER JOIN
                      AIBPFF.${add.schema}CustomerEMails AS T8 ON T1.CustID = T8.CustID AND T8.CustEMailPriority = 1 LEFT OUTER JOIN
                      AIBPFF.${add.schema}CustomerEMails AS T9 ON T1.CustID = T9.CustID AND T9.CustEMailPriority = 2</createView>
    </changeSet> -->
    <changeSet author="PCFAdmin" id="406">
        <addPrimaryKey columnNames="QueueId" constraintName="PK_Queues" tableName="Queues"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="407" dbms="mssql">
        <createView fullDefinition="false" viewName="Queues_AView" >SELECT     T1.QueueId, T1.Description, T1.CategoryCode, T2.QCategoryDesc AS lovDescCategoryCodeName, T1.DeptCode, T1.CollectorName, 
                      T3.DeptDesc AS lovDescDeptCodeName, T1.PriorityValue, T1.Remarks, T1.QueueOwner, T4.UserLoginName AS lovDescQueueOwnerName, T1.RefNo, 
                      T1.SelectionCriteria, T7.QueryDesc AS lovDescSelectionCriteriaName, T1.SortOrder, T1.LetterTemplate,T1.PTPRequired,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.LetterTemplate) AND (Type = 'L')) AS lovDescLetterTemplateName, T1.AddrTypeCode, 
                      T5.AddrTypeDesc AS lovDescAddrTypeCodeName, T1.SMSTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates AS Templates_2
                            WHERE      (TemplateId = T1.SMSTemplate) AND (Type = 'S')) AS lovDescSMSTemplateName, T1.EmailTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates AS Templates_1
                            WHERE      (TemplateId = T1.EmailTemplate) AND (Type = 'E')) AS lovDescEmailTemplateName, T1.AssignmenType, T1.PushToPDialer, 
                      T1.Toleranceid, T6.ToleranceDesc AS lovDescToleranceIdName, T1.OverdueType, T1.Range, T1.StrategyCode, 
                      T8.StrategyCodeDesc AS lovDescStrategyCode, T1.FreeText2, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.AllowSelection as lovDescAllowSelection
FROM         ${add.schema}Queues AS T1 LEFT OUTER JOIN
                      ${add.schema}QueueCategories AS T2 ON T1.CategoryCode = T2.QCategorycode LEFT OUTER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.DeptCode = T3.DeptCode LEFT OUTER JOIN
                      ${add.schema}QueueOwnerDetails_View AS T4 ON T1.QueueOwner = T4.UserId LEFT OUTER JOIN
                      ${add.schema}AddressTypes AS T5 ON T1.AddrTypeCode = T5.AddrTypeCode LEFT OUTER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T1.Toleranceid = T6.ToleranceId LEFT OUTER JOIN
                      ${add.schema}Queries AS T7 ON T1.SelectionCriteria = T7.QueryCode LEFT OUTER JOIN
                      ${add.schema}CollectionStrategyHeader AS T8 ON T1.StrategyCode = T8.StrategyCode</createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="407" dbms="oracle">
        <createView fullDefinition="false" viewName="Queues_AView" >SELECT     T1.QueueId, T1.Description, T1.CategoryCode, T2.QCategoryDesc AS lovDescCategoryCodeName, T1.DeptCode, T1.CollectorName, 
                      T3.DeptDesc AS lovDescDeptCodeName, T1.PriorityValue, T1.Remarks, T1.QueueOwner, T4.UserLoginName AS lovDescQueueOwnerName, T1.RefNo, 
                      T1.SelectionCriteria, T7.QueryDesc AS lovDescSelectionCriteriaName, T1.SortOrder, T1.LetterTemplate,T1.PTPRequired,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.LetterTemplate) AND (Type = 'L')) AS lovDescLetterTemplateName, T1.AddrTypeCode, 
                      T5.AddrTypeDesc AS lovDescAddrTypeCodeName, T1.SMSTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates AS Templates_2
                            WHERE      (TemplateId = T1.SMSTemplate) AND (Type = 'S')) AS lovDescSMSTemplateName, T1.EmailTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates AS Templates_1
                            WHERE      (TemplateId = T1.EmailTemplate) AND (Type = 'E')) AS lovDescEmailTemplateName, T1.AssignmenType, T1.PushToPDialer, 
                      T1.Toleranceid, T6.ToleranceDesc AS lovDescToleranceIdName, T1.OverdueType, T1.Range, T1.StrategyCode, 
                      T8.StrategyCodeDesc AS lovDescStrategyCode, T1.FreeText2, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.AllowSelection as lovDescAllowSelection
FROM         ${add.schema}Queues AS T1 LEFT OUTER JOIN
                      ${add.schema}QueueCategories AS T2 ON T1.CategoryCode = T2.QCategorycode LEFT OUTER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.DeptCode = T3.DeptCode LEFT OUTER JOIN
                      ${add.schema}QueueOwnerDetails_View AS T4 ON T1.QueueOwner = T4.UserId LEFT OUTER JOIN
                      ${add.schema}AddressTypes AS T5 ON T1.AddrTypeCode = T5.AddrTypeCode LEFT OUTER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T1.Toleranceid = T6.ToleranceId LEFT OUTER JOIN
                      ${add.schema}Queries AS T7 ON T1.SelectionCriteria = T7.QueryCode LEFT OUTER JOIN
                      ${add.schema}CollectionStrategyHeader AS T8 ON T1.StrategyCode = T8.StrategyCode</createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="407" dbms="postgresql">
        <createView fullDefinition="false" viewName="Queues_AView">SELECT     T1.QueueId, T1.Description, T1.CategoryCode, T2.QCategoryDesc AS lovDescCategoryCodeName, T1.DeptCode, T1.CollectorName, 
                      T3.DeptDesc AS lovDescDeptCodeName, T1.PriorityValue, T1.Remarks, T1.QueueOwner, T4.UserLoginName AS lovDescQueueOwnerName, T1.RefNo, 
                      T1.SelectionCriteria, T7.QueryDesc AS lovDescSelectionCriteriaName, T1.SortOrder, T1.LetterTemplate,T1.PTPRequired,
                          (SELECT      TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.LetterTemplate) AND (Type = 'L') LIMIT 1) AS lovDescLetterTemplateName, T1.AddrTypeCode, 
                      T5.AddrTypeDesc AS lovDescAddrTypeCodeName, T1.SMSTemplate,
                          (SELECT      TemplateName
                            FROM          ${add.schema}Templates AS Templates_2
                            WHERE      (TemplateId = T1.SMSTemplate) AND (Type = 'S') LIMIT 1) AS lovDescSMSTemplateName, T1.EmailTemplate,
                          (SELECT      TemplateName
                            FROM          ${add.schema}Templates AS Templates_1
                            WHERE      (TemplateId = T1.EmailTemplate) AND (Type = 'E') LIMIT 1) AS lovDescEmailTemplateName, T1.AssignmenType, T1.PushToPDialer, 
                      T1.Toleranceid, T6.ToleranceDesc AS lovDescToleranceIdName, T1.OverdueType, T1.Range, T1.StrategyCode, 
                      T8.StrategyCodeDesc AS lovDescStrategyCode, T1.FreeText2, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.AllowSelection as lovDescAllowSelection
FROM         ${add.schema}Queues AS T1 LEFT OUTER JOIN
                      ${add.schema}QueueCategories AS T2 ON T1.CategoryCode = T2.QCategorycode LEFT OUTER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.DeptCode = T3.DeptCode LEFT OUTER JOIN
                      ${add.schema}QueueOwnerDetails_View AS T4 ON T1.QueueOwner = T4.UserId LEFT OUTER JOIN
                      ${add.schema}AddressTypes AS T5 ON T1.AddrTypeCode = T5.AddrTypeCode LEFT OUTER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T1.Toleranceid = T6.ToleranceId LEFT OUTER JOIN
                      ${add.schema}Queries AS T7 ON T1.SelectionCriteria = T7.QueryCode LEFT OUTER JOIN
                      ${add.schema}CollectionStrategyHeader AS T8 ON T1.StrategyCode = T8.StrategyCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="408" dbms="mssql">
        <createView fullDefinition="false" viewName="Queues_View">SELECT     T1.QueueId, T1.Description, T1.CategoryCode, T2.QCategoryDesc AS lovDescCategoryCodeName, T1.DeptCode, T1.CollectorName, 
                      T3.DeptDesc AS lovDescDeptCodeName, T1.PriorityValue, T1.Remarks, T1.QueueOwner, T4.UserLoginName AS lovDescQueueOwnerName, T1.RefNo, T1.SelectionCriteria, 
                      T7.QueryDesc AS lovDescSelectionCriteriaName, T1.SortOrder, T1.LetterTemplate,T1.PTPRequired,
                          (SELECT TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.LetterTemplate) AND (Type = 'L')) AS lovDescLetterTemplateName, T1.AddrTypeCode, 
                      T5.AddrTypeDesc AS lovDescAddrTypeCodeName, T1.SMSTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.SMSTemplate) AND (Type = 'S')) AS lovDescSMSTemplateName, T1.EmailTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.EmailTemplate) AND (Type = 'E')) AS lovDescEmailTemplateName, T1.AssignmenType, T1.PushToPDialer, T1.Toleranceid, 
                      T6.ToleranceDesc AS lovDescToleranceIdName, T1.OverdueType, T1.Range, T1.StrategyCode, T8.StrategyCodeDesc AS lovDescStrategyCode, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.AllowSelection as lovDescAllowSelection
FROM         Queues_TEMP AS T1 LEFT OUTER JOIN
                      ${add.schema}QueueCategories AS T2 ON T1.CategoryCode = T2.QCategorycode LEFT OUTER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.DeptCode = T3.DeptCode LEFT OUTER JOIN
                      ${add.schema}QueueOwnerDetails_View AS T4 ON T1.QueueOwner = T4.UserId LEFT OUTER JOIN
                      ${add.schema}AddressTypes AS T5 ON T1.AddrTypeCode = T5.AddrTypeCode LEFT OUTER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T1.Toleranceid = T6.ToleranceId LEFT OUTER JOIN
                      ${add.schema}Queries AS T7 ON T1.SelectionCriteria = T7.QueryCode LEFT OUTER JOIN
                      ${add.schema}CollectionStrategyHeader AS T8 ON T1.StrategyCode = T8.StrategyCode
UNION ALL
SELECT     T1.QueueId, T1.Description, T1.CategoryCode, T2.QCategoryDesc AS lovDescCategoryCodeName, T1.DeptCode, T1.CollectorName, 
                      T3.DeptDesc AS lovDescDeptCodeName, T1.PriorityValue, T1.Remarks, T1.QueueOwner, T4.UserLoginName AS lovDescQueueOwnerName, T1.RefNo, T1.SelectionCriteria, 
                      T7.QueryDesc AS lovDescSelectionCriteriaName, T1.SortOrder, T1.LetterTemplate,T1.PTPRequired,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.LetterTemplate) AND (Type = 'L')) AS lovDescLetterTemplateName, T1.AddrTypeCode, 
                      T5.AddrTypeDesc AS lovDescAddrTypeCodeName, T1.SMSTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.SMSTemplate) AND (Type = 'S')) AS lovDescSMSTemplateName, T1.EmailTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.EmailTemplate) AND (Type = 'E')) AS lovDescEmailTemplateName, T1.AssignmenType, T1.PushToPDialer, T1.Toleranceid, 
                      T6.ToleranceDesc AS lovDescToleranceIdName, T1.OverdueType, T1.Range, T1.StrategyCode, T8.StrategyCodeDesc AS lovDescStrategyCode, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.AllowSelection as lovDescAllowSelection
FROM         Queues AS T1 LEFT OUTER JOIN
                      ${add.schema}QueueCategories AS T2 ON T1.CategoryCode = T2.QCategorycode LEFT OUTER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.DeptCode = T3.DeptCode LEFT OUTER JOIN
                      ${add.schema}QueueOwnerDetails_View AS T4 ON T1.QueueOwner = T4.UserId LEFT OUTER JOIN
                      ${add.schema}AddressTypes AS T5 ON T1.AddrTypeCode = T5.AddrTypeCode LEFT OUTER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T1.Toleranceid = T6.ToleranceId LEFT OUTER JOIN
                      ${add.schema}Queries AS T7 ON T1.SelectionCriteria = T7.QueryCode LEFT OUTER JOIN
                      ${add.schema}CollectionStrategyHeader AS T8 ON T1.StrategyCode = T8.StrategyCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Queues_TEMP
                            WHERE      QueueId = T1.QueueId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="408" dbms="oracle">
        <createView fullDefinition="false" viewName="Queues_View">SELECT     T1.QueueId, T1.Description, T1.CategoryCode, T2.QCategoryDesc AS lovDescCategoryCodeName, T1.DeptCode, T1.CollectorName, 
                      T3.DeptDesc AS lovDescDeptCodeName, T1.PriorityValue, T1.Remarks, T1.QueueOwner, T4.UserLoginName AS lovDescQueueOwnerName, T1.RefNo, T1.SelectionCriteria, 
                      T7.QueryDesc AS lovDescSelectionCriteriaName, T1.SortOrder, T1.LetterTemplate,T1.PTPRequired,
                          (SELECT TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.LetterTemplate) AND (Type = 'L')) AS lovDescLetterTemplateName, T1.AddrTypeCode, 
                      T5.AddrTypeDesc AS lovDescAddrTypeCodeName, T1.SMSTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.SMSTemplate) AND (Type = 'S')) AS lovDescSMSTemplateName, T1.EmailTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.EmailTemplate) AND (Type = 'E')) AS lovDescEmailTemplateName, T1.AssignmenType, T1.PushToPDialer, T1.Toleranceid, 
                      T6.ToleranceDesc AS lovDescToleranceIdName, T1.OverdueType, T1.Range, T1.StrategyCode, T8.StrategyCodeDesc AS lovDescStrategyCode, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.AllowSelection as lovDescAllowSelection
FROM         Queues_TEMP AS T1 LEFT OUTER JOIN
                      ${add.schema}QueueCategories AS T2 ON T1.CategoryCode = T2.QCategorycode LEFT OUTER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.DeptCode = T3.DeptCode LEFT OUTER JOIN
                      ${add.schema}QueueOwnerDetails_View AS T4 ON T1.QueueOwner = T4.UserId LEFT OUTER JOIN
                      ${add.schema}AddressTypes AS T5 ON T1.AddrTypeCode = T5.AddrTypeCode LEFT OUTER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T1.Toleranceid = T6.ToleranceId LEFT OUTER JOIN
                      ${add.schema}Queries AS T7 ON T1.SelectionCriteria = T7.QueryCode LEFT OUTER JOIN
                      ${add.schema}CollectionStrategyHeader AS T8 ON T1.StrategyCode = T8.StrategyCode
UNION ALL
SELECT     T1.QueueId, T1.Description, T1.CategoryCode, T2.QCategoryDesc AS lovDescCategoryCodeName, T1.DeptCode, T1.CollectorName, 
                      T3.DeptDesc AS lovDescDeptCodeName, T1.PriorityValue, T1.Remarks, T1.QueueOwner, T4.UserLoginName AS lovDescQueueOwnerName, T1.RefNo, T1.SelectionCriteria, 
                      T7.QueryDesc AS lovDescSelectionCriteriaName, T1.SortOrder, T1.LetterTemplate,T1.PTPRequired,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.LetterTemplate) AND (Type = 'L')) AS lovDescLetterTemplateName, T1.AddrTypeCode, 
                      T5.AddrTypeDesc AS lovDescAddrTypeCodeName, T1.SMSTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.SMSTemplate) AND (Type = 'S')) AS lovDescSMSTemplateName, T1.EmailTemplate,
                          (SELECT     TOP (1) TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.EmailTemplate) AND (Type = 'E')) AS lovDescEmailTemplateName, T1.AssignmenType, T1.PushToPDialer, T1.Toleranceid, 
                      T6.ToleranceDesc AS lovDescToleranceIdName, T1.OverdueType, T1.Range, T1.StrategyCode, T8.StrategyCodeDesc AS lovDescStrategyCode, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.AllowSelection as lovDescAllowSelection
FROM         Queues AS T1 LEFT OUTER JOIN
                      ${add.schema}QueueCategories AS T2 ON T1.CategoryCode = T2.QCategorycode LEFT OUTER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.DeptCode = T3.DeptCode LEFT OUTER JOIN
                      ${add.schema}QueueOwnerDetails_View AS T4 ON T1.QueueOwner = T4.UserId LEFT OUTER JOIN
                      ${add.schema}AddressTypes AS T5 ON T1.AddrTypeCode = T5.AddrTypeCode LEFT OUTER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T1.Toleranceid = T6.ToleranceId LEFT OUTER JOIN
                      ${add.schema}Queries AS T7 ON T1.SelectionCriteria = T7.QueryCode LEFT OUTER JOIN
                      ${add.schema}CollectionStrategyHeader AS T8 ON T1.StrategyCode = T8.StrategyCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Queues_TEMP
                            WHERE      QueueId = T1.QueueId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="408" dbms="postgresql">
        <createView fullDefinition="false" viewName="Queues_View">SELECT     T1.QueueId, T1.Description, T1.CategoryCode, T2.QCategoryDesc AS lovDescCategoryCodeName, T1.DeptCode, T1.CollectorName, 
                      T3.DeptDesc AS lovDescDeptCodeName, T1.PriorityValue, T1.Remarks, T1.QueueOwner, T4.UserLoginName AS lovDescQueueOwnerName, T1.RefNo, T1.SelectionCriteria, 
                      T7.QueryDesc AS lovDescSelectionCriteriaName, T1.SortOrder, T1.LetterTemplate,T1.PTPRequired,
                          (SELECT  TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.LetterTemplate) AND (Type = 'L') LIMIT 1) AS lovDescLetterTemplateName, T1.AddrTypeCode, 
                      T5.AddrTypeDesc AS lovDescAddrTypeCodeName, T1.SMSTemplate,
                          (SELECT      TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.SMSTemplate) AND (Type = 'S') LIMIT 1) AS lovDescSMSTemplateName, T1.EmailTemplate,
                          (SELECT      TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.EmailTemplate) AND (Type = 'E') LIMIT 1) AS lovDescEmailTemplateName, T1.AssignmenType, T1.PushToPDialer, T1.Toleranceid, 
                      T6.ToleranceDesc AS lovDescToleranceIdName, T1.OverdueType, T1.Range, T1.StrategyCode, T8.StrategyCodeDesc AS lovDescStrategyCode, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.AllowSelection as lovDescAllowSelection
FROM         Queues_TEMP AS T1 LEFT OUTER JOIN
                      ${add.schema}QueueCategories AS T2 ON T1.CategoryCode = T2.QCategorycode LEFT OUTER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.DeptCode = T3.DeptCode LEFT OUTER JOIN
                      ${add.schema}QueueOwnerDetails_View AS T4 ON T1.QueueOwner = T4.UserId LEFT OUTER JOIN
                      ${add.schema}AddressTypes AS T5 ON T1.AddrTypeCode = T5.AddrTypeCode LEFT OUTER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T1.Toleranceid = T6.ToleranceId LEFT OUTER JOIN
                      ${add.schema}Queries AS T7 ON T1.SelectionCriteria = T7.QueryCode LEFT OUTER JOIN
                      ${add.schema}CollectionStrategyHeader AS T8 ON T1.StrategyCode = T8.StrategyCode
UNION ALL
SELECT     T1.QueueId, T1.Description, T1.CategoryCode, T2.QCategoryDesc AS lovDescCategoryCodeName, T1.DeptCode, T1.CollectorName, 
                      T3.DeptDesc AS lovDescDeptCodeName, T1.PriorityValue, T1.Remarks, T1.QueueOwner, T4.UserLoginName AS lovDescQueueOwnerName, T1.RefNo, T1.SelectionCriteria, 
                      T7.QueryDesc AS lovDescSelectionCriteriaName, T1.SortOrder, T1.LetterTemplate,T1.PTPRequired,
                          (SELECT     TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.LetterTemplate) AND (Type = 'L') LIMIT 1) AS lovDescLetterTemplateName, T1.AddrTypeCode, 
                      T5.AddrTypeDesc AS lovDescAddrTypeCodeName, T1.SMSTemplate,
                          (SELECT     TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.SMSTemplate) AND (Type = 'S') LIMIT 1) AS lovDescSMSTemplateName, T1.EmailTemplate,
                          (SELECT      TemplateName
                            FROM          ${add.schema}Templates
                            WHERE      (TemplateId = T1.EmailTemplate) AND (Type = 'E') LIMIT 1) AS lovDescEmailTemplateName, T1.AssignmenType, T1.PushToPDialer, T1.Toleranceid, 
                      T6.ToleranceDesc AS lovDescToleranceIdName, T1.OverdueType, T1.Range, T1.StrategyCode, T8.StrategyCodeDesc AS lovDescStrategyCode, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T2.AllowSelection as lovDescAllowSelection
FROM         Queues AS T1 LEFT OUTER JOIN
                      ${add.schema}QueueCategories AS T2 ON T1.CategoryCode = T2.QCategorycode LEFT OUTER JOIN
                      ${add.schema}BMTDepartments AS T3 ON T1.DeptCode = T3.DeptCode LEFT OUTER JOIN
                      ${add.schema}QueueOwnerDetails_View AS T4 ON T1.QueueOwner = T4.UserId LEFT OUTER JOIN
                      ${add.schema}AddressTypes AS T5 ON T1.AddrTypeCode = T5.AddrTypeCode LEFT OUTER JOIN
                      ${add.schema}PTPTolerances AS T6 ON T1.Toleranceid = T6.ToleranceId LEFT OUTER JOIN
                      ${add.schema}Queries AS T7 ON T1.SelectionCriteria = T7.QueryCode LEFT OUTER JOIN
                      ${add.schema}CollectionStrategyHeader AS T8 ON T1.StrategyCode = T8.StrategyCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Queues_TEMP
                            WHERE      QueueId = T1.QueueId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="409">
        <createView fullDefinition="false" viewName="RPT_CollectorData_View">SELECT     T2.CategoryCode,T3.QCategoryDesc,T1.QueueId,T2.Description, T1.CustCIF,T1.custName,
				   T1.ProductRef, T1.ProductType,${add.schema}UDF_ConvertCurrency(OverdueAmt,T1.Currency,'BHD')OverdueAmt,T1.Currency,CcyEditField,T1.OverdueDate,
				   ${add.schema}UDF_ConvertCurrency(T1.TotOustandingAmt,T1.Currency,'BHD')TotOustandingAmt,${add.schema}UDF_ConvertCurrency(T1.Penalty,T1.Currency,'BHD')Penalty,T1.ProCtgType,T1.ProCtgTypedesc, 
                   T1.OverdueDays, T1.RecordStatus, T1.Remarks, T1.Active,T1.Status,T4.CollUserId, T6.UsrFName${call.concatenate}' '${call.concatenate}T6.UsrMName${call.concatenate}' '${call.concatenate} T6.UsrLName as CollectorName,${add.schema}UDF_ConvertCurrency(T1.RecoverdAmount,T1.Currency,'BHD')RecoverdAmount,ClosedDate
		FROM       ${add.schema}CollectionDataDetails T1 INNER JOIN
                   ${add.schema}Queues T2 ON T2.QueueId = T1.QueueId INNER JOIN
				   Currencies C on CCYCode=Currency INNER JOIN
				   QueueCategories T3 ON T3.QCategorycode=CategoryCode Inner JOIN
				   CollectionScreenDetails T4 ON T4.QueueId=T1.QueueId and T1.ProductRef=T4.RefNo Inner Join
				   Collectors T5 ON T4.CollUserId=T5.CollectorId inner join
				   SecUsers AS T6 ON T5.CollectorNameUserid = T6.UsrID
				   
UNION ALL

SELECT     T2.CategoryCode,T3.QCategoryDesc,T1.QueueId,T2.Description, T1.CustCIF,T1.custName,
				   T1.ProductRef, T1.ProductType,${add.schema}UDF_ConvertCurrency(OverdueAmt,T1.Currency,'BHD')OverdueAmt,T1.Currency,CcyEditField,T1.OverdueDate,
				   ${add.schema}UDF_ConvertCurrency(T1.TotOustandingAmt,T1.Currency,'BHD')TotOustandingAmt,${add.schema}UDF_ConvertCurrency(T1.Penalty,T1.Currency,'BHD')Penalty,T1.ProCtgType,T1.ProCtgTypedesc, 
                   T1.OverdueDays, T1.RecordStatus, T1.Remarks, T1.Active,T1.Status,T4.CollUserId, T6.UsrFName${call.concatenate}' '${call.concatenate}T6.UsrMName${call.concatenate}' '${call.concatenate} T6.UsrLName as CollectorName,${add.schema}UDF_ConvertCurrency(T1.RecoverdAmount,T1.Currency,'BHD')RecoverdAmount,ClosedDate
		FROM       ${add.schema}CollectionDataDetails_Arch T1 INNER JOIN
                   ${add.schema}Queues T2 ON T2.QueueId = T1.QueueId INNER JOIN
				   Currencies C on CCYCode=Currency INNER JOIN
				   QueueCategories T3 ON T3.QCategorycode=CategoryCode Inner JOIN
				   CollectionScreenDetails_Arch T4 ON T4.QueueId=T1.QueueId and T1.ProductRef=T4.RefNo Inner Join
				   Collectors T5 ON T4.CollUserId=T5.CollectorId inner join
				   SecUsers AS T6 ON T5.CollectorNameUserid = T6.UsrID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="410">
        <createView fullDefinition="false" viewName="RPT_Product_Overdue_View">SELECT    T1.ProductType, T1.CustCIF,T1.custName,Q.Description Queue,T1.QueueId,T1.ProductRef,
              ${add.schema}UDF_ConvertCurrency(OverdueAmt,Currency,'BHD')OverdueAmt,Currency,CcyEditField,T1.OverdueDate,T1.OverdueDays,
	          T1.RecordStatus,${add.schema}UDF_ConvertCurrency(T1.TotOustandingAmt,Currency,'BHD')TotOustandingAmt,
	          ${add.schema}UDF_ConvertCurrency(T1.Penalty,Currency,'BHD')Penalty,T1.ProCtgType,T1.ProCtgTypedesc
    FROM      collectiondatadetails T1 INNER JOIN
		      Queues T2 ON T2.QueueId = T1.QueueId INNER JOIN
		      Currencies C on CCYCode=Currency Inner Join
		      Queues Q ON Q.QueueId=T1.QueueId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="411">
        <createView fullDefinition="false" viewName="RPT_Promise_Broken_View">--Promise Broken	
select	T1.Queueid,T2.Description ,T1.RefNo,PtpCode,Currency,T3.PromiseCodeDesc,${add.schema}UDF_ConvertCurrency(PayAmount,T4.Currency,'BHD')PayAmount,datePayArrStrtDate,'Promise Broken'Promisestatus,CcyEditField,T4.CustCIF,T4.CustName,
	       ${add.schema}UDF_ConvertCurrency(T4.TotOustandingAmt,T4.Currency,'BHD')TotOustandingAmt,${add.schema}UDF_ConvertCurrency(T4.Penalty,T4.Currency,'BHD')Penalty,T4.ProCtgType,T4.ProCtgTypedesc,${add.schema}UDF_ConvertCurrency(OverdueAmt,T4.Currency,'BHD')OverdueAmt
	from	promiselog T1	Inner join 
			Queues T2 ON T2.Queueid = T1.Queueid Inner JOIN
			PromiseCode T3 ON T1.PtpCode = T3.PromiseCode Inner JOIN
			CollectionDataDetails T4 ON T4.ProductRef = T1.RefNo and T4.QueueId =T1.QueueId INNER JOIN
			Currencies C on CCYCode=Currency 
	where   Promisestatus = 'PB'</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="412">
        <createView fullDefinition="false" viewName="RPT_Promise_InProgress_View">--Promise InProgress
select	T1.Queueid,T2.Description ,T1.RefNo,PtpCode,Currency,T3.PromiseCodeDesc,${add.schema}UDF_ConvertCurrency(PayAmount,T4.Currency,'BHD')PayAmount,datePayArrStrtDate,'Promise In Progress'Promisestatus ,CcyEditField,T4.CustCIF,T4.CustName,
	        ${add.schema}UDF_ConvertCurrency(T4.TotOustandingAmt,T4.Currency,'BHD')TotOustandingAmt,${add.schema}UDF_ConvertCurrency(T4.Penalty,T4.Currency,'BHD')Penalty,T4.ProCtgType,T4.ProCtgTypedesc,${add.schema}UDF_ConvertCurrency(OverdueAmt,T4.Currency,'BHD')OverdueAmt
	from	promiselog T1	Inner join 
			Queues T2 ON T2.Queueid = T1.Queueid Inner JOIN
			PromiseCode T3 ON T1.PtpCode = T3.PromiseCode Inner JOIN
			CollectionDataDetails T4 ON T4.ProductRef = T1.RefNo and T4.QueueId =T1.QueueId INNER JOIN
			Currencies C on CCYCode=Currency 
	where   Promisestatus = 'PI'</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="413">
        <createView fullDefinition="false" viewName="RPT_Promise_Kept_View">--Promise Kept
select	T1.Queueid,T2.Description ,T1.RefNo,PtpCode,Currency,T3.PromiseCodeDesc,${add.schema}UDF_ConvertCurrency(PayAmount,T4.Currency,'BHD')PayAmount,datePayArrStrtDate,'Promise Kept'Promisestatus,CcyEditField,T4.CustCIF,T4.CustName,
	        ${add.schema}UDF_ConvertCurrency(T4.TotOustandingAmt,T4.Currency,'BHD')TotOustandingAmt,${add.schema}UDF_ConvertCurrency(T4.Penalty,T4.Currency,'BHD')Penalty,T4.ProCtgType,T4.ProCtgTypedesc,${add.schema}UDF_ConvertCurrency(OverdueAmt,T4.Currency,'BHD')OverdueAmt
	
	from	promiselog T1	Inner join 
			Queues T2 ON T2.Queueid = T1.Queueid Inner JOIN
			PromiseCode T3 ON T1.PtpCode = T3.PromiseCode Inner JOIN
			CollectionDataDetails T4 ON T4.ProductRef = T1.RefNo and T4.QueueId =T1.QueueId INNER JOIN
			Currencies C on CCYCode=Currency 
	where   Promisestatus = 'PK'</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="414">
        <createView fullDefinition="false" viewName="RPT_Queue_View">SELECT     T2.CategoryCode,T3.QCategoryDesc,T1.QueueId,T2.Description, T1.CustCIF,T1.custName,
               T1.ProductRef, T1.ProductType, ${add.schema}UDF_ConvertCurrency(OverdueAmt,Currency,'BHD')OverdueAmt,Currency,CcyEditField,T1.OverdueDate, 
               T1.OverdueDays, T1.RecordStatus, T1.Remarks, T1.Active,Status, ${add.schema}UDF_ConvertCurrency(T1.TotOustandingAmt,Currency,'BHD')TotOustandingAmt,
               ${add.schema}UDF_ConvertCurrency(T1.Penalty,Currency,'BHD')Penalty,T1.ProCtgType,T1.ProCtgTypedesc
	FROM       ${add.schema}CollectionDataDetails T1 INNER JOIN
               ${add.schema}Queues T2 ON T2.QueueId = T1.QueueId INNER JOIN
			   Currencies C on CCYCode=Currency INNER JOIN
		       QueueCategories T3 ON T3.QCategorycode=CategoryCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="415">
        <createView fullDefinition="false" viewName="RPT_StrategyLog_View">select Status,LogType,ProductRef,CustomerCIF,T.LastMntOn,T.StrategyCode,T.QueueId,Reason,T1.Description
  from StrategyLog T INNER JOIN
       Queues T1 ON T1.QueueId=T.QueueId</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="416">
        <addPrimaryKey columnNames="StrategyLogID" constraintName="PK_StrategyLog" tableName="StrategyLog"/>
    </changeSet>
   <changeSet author="PCFAdmin" id="417">
        <createView fullDefinition="false" viewName="StrategyLog_View">SELECT  T1.StrategyLogID, T1.LogType, T1.LogContent, T1.QueueId, T1.ProductRef, T1.CustomerCIF, T1.LastMntBy, CONVERT(Date, T1.LastMntOn) LastMntOn, 
		T1.Status, T1.Reason, T1.StrategyCode,T2.custName,EmailCount,SmsCount,LetterCount,PoliceCount,LegalCount
FROM    ${add.schema}StrategyLog AS T1 INNER JOIN 
		CollectionDataDetails_ALL_View as T2 on T1.ProductRef=T2.Productref	LEFT JOIN 	
		(Select LastMntOn,COALESCE([EMail],0) As EmailCount, COALESCE([SMS],0) as SmsCount,
		 COALESCE([Letter],0) as LetterCount, COALESCE([POLICE],0) as PoliceCount, COALESCE([LEGAL],0) as LegalCount from (
		Select Convert(Date,LastMntOn)LastMntOn,LogType,COUNT(*)Cnt from StrategyLog
		Group by Convert(Date,LastMntOn),LogType)T
		PIVOT (SUM (Cnt)FOR LogType IN( [EMail], [SMS], [Letter], [POLICE], [LEGAL] )) AS pvt) T3 ON T3.LastMntOn=Convert(Date,T1.LastMntOn)
</createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="418">
        <createView fullDefinition="false" viewName="CollectorIncentives_AView">SELECT		T1.CollInctId, T1.CollectorId, T1.FromDate, T1.ToDate, T1.CollectedAmount, T1.InctCode, T1.InctAmount, T1.InctPaidDate		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	CollectorIncentives AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="419">
        <addPrimaryKey columnNames="CollInctId" constraintName="idxCollectorIncentives_U_C" tableName="CollectorIncentives"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="420">
        <addForeignKeyConstraint baseColumnNames="ValidId" baseTableName="SecGroupValidations" constraintName="FK_SecGrpValidtns_SecValidatns" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="ValidId" referencedTableName="SecValidations"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="421">
        <addPrimaryKey columnNames="GrpValidId" constraintName="PK_SecGroupValidations" tableName="SecGroupValidations"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="422" dbms="mssql">
        <createView fullDefinition="false" viewName="RPT_CollectionRecoveryAnnualRpt_View">
<![CDATA[Select T2.ProductCategory,T2.Year,T1.Number,T1.MonthName,T2.DPD,COALESCE(T.Value,0) Value,
	COALESCE(T.TotOutstandingAmt_BHD,0)TotOutstandingAmt_BHD,COALESCE(T.OverDueAmt_BHD,0)OverDueAmt_BHD,
	COALESCE(T.RecoverdAmount_BHD,0)RecoverdAmount_BHD,COALESCE(T.NumberofAccounts,0)NumberofAccounts,
	CASE WHEN COALESCE(T.TotOutstandingAmt_BHD,0)!=0 THEN COALESCE(T.RecoverdAmount_BHD,0)/COALESCE(T.TotOutstandingAmt_BHD,0) ELSE 0 END CollectionRecoveryRate  from (
	Select 1 Number ,'January' MonthName Union
	Select 2 Number ,'February' MonthName Union
	Select 3 Number ,'March' MonthName Union
	Select 4 Number ,'April' MonthName Union
	Select 5 Number ,'May' MonthName Union
	Select 6 Number ,'June' MonthName Union
	Select 7 Number ,'July' MonthName Union
	Select 8 Number ,'August' MonthName Union
	Select 9 Number ,'September' MonthName Union
	Select 10 Number ,'October' MonthName Union
	Select 11 Number ,'November' MonthName Union
	Select 12 Number ,'December' MonthName)T1 Cross Join
	(Select Distinct ProductCategory,YEAR(OverDueDate)Year,'<=90' DPD from CollectiondataDetails UNION
	 Select Distinct ProductCategory,YEAR(OverDueDate)Year,'90>' DPD from CollectiondataDetails)T2 Left Join (	
	SELECT  ProductCategory,'<=90' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,DATENAME(MONTH,OverDueDate)MONTH,YEAR(OverDueDate) Year,Month(OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2  
	where OverdueDays<=90
	GROUP BY ProductCategory,DATENAME(MONTH,OverDueDate),YEAR(OverDueDate),Month(OverDueDate)	
	UNION		
	SELECT  ProductCategory,'90>' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,DATENAME(MONTH,OverDueDate)MONTH,YEAR(OverDueDate) Year,Month(OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where OverdueDays>=91
	GROUP BY ProductCategory,DATENAME(MONTH,OverDueDate),YEAR(OverDueDate),Month(OverDueDate))T	
	ON T.ProductCategory=T2.ProductCategory and T1.Number = T.MonthNum and T.DPD=T2.DPD and T.Year=T2.Year]]></createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="422" dbms="oracle">
        <createView fullDefinition="false" viewName="RPT_CollectionRecoveryAnnualRpt_View">
<![CDATA[Select T2.ProductCategory,T2.Year,T1.Number,T1.MonthName,T2.DPD,COALESCE(T.Value,0) Value,
	COALESCE(T.TotOutstandingAmt_BHD,0)TotOutstandingAmt_BHD,COALESCE(T.OverDueAmt_BHD,0)OverDueAmt_BHD,
	COALESCE(T.RecoverdAmount_BHD,0)RecoverdAmount_BHD,COALESCE(T.NumberofAccounts,0)NumberofAccounts,
	CASE WHEN COALESCE(T.TotOutstandingAmt_BHD,0)!=0 THEN COALESCE(T.RecoverdAmount_BHD,0)/COALESCE(T.TotOutstandingAmt_BHD,0) ELSE 0 END CollectionRecoveryRate  from (
	Select 1 Number ,'January' MonthName Union
	Select 2 Number ,'February' MonthName Union
	Select 3 Number ,'March' MonthName Union
	Select 4 Number ,'April' MonthName Union
	Select 5 Number ,'May' MonthName Union
	Select 6 Number ,'June' MonthName Union
	Select 7 Number ,'July' MonthName Union
	Select 8 Number ,'August' MonthName Union
	Select 9 Number ,'September' MonthName Union
	Select 10 Number ,'October' MonthName Union
	Select 11 Number ,'November' MonthName Union
	Select 12 Number ,'December' MonthName)T1 Cross Join
	(Select Distinct ProductCategory,YEAR(OverDueDate)Year,'<=90' DPD from CollectiondataDetails UNION
	 Select Distinct ProductCategory,YEAR(OverDueDate)Year,'90>' DPD from CollectiondataDetails)T2 Left Join (	
	SELECT  ProductCategory,'<=90' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,DATENAME(MONTH,OverDueDate)MONTH,YEAR(OverDueDate) Year,Month(OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2  
	where OverdueDays<=90
	GROUP BY ProductCategory,DATENAME(MONTH,OverDueDate),YEAR(OverDueDate),Month(OverDueDate)	
	UNION		
	SELECT  ProductCategory,'90>' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,DATENAME(MONTH,OverDueDate)MONTH,YEAR(OverDueDate) Year,Month(OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where OverdueDays>=91
	GROUP BY ProductCategory,DATENAME(MONTH,OverDueDate),YEAR(OverDueDate),Month(OverDueDate))T	
	ON T.ProductCategory=T2.ProductCategory and T1.Number = T.MonthNum and T.DPD=T2.DPD and T.Year=T2.Year]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="422" dbms="postgresql">
        <createView fullDefinition="false" viewName="RPT_CollectnRcvryAnualRpt_View">
<![CDATA[Select T2.ProductCategory,T2."Year",T1.Number,T1.MonthName,T2.DPD,COALESCE(T."Value",0) "Value",
	COALESCE(T.TotOutstandingAmt_BHD,0)TotOutstandingAmt_BHD,COALESCE(T.OverDueAmt_BHD,0)OverDueAmt_BHD,
	COALESCE(T.RecoverdAmount_BHD,0)RecoverdAmount_BHD,COALESCE(T.NumberofAccounts,0)NumberofAccounts,
	CASE WHEN COALESCE(T.TotOutstandingAmt_BHD,0)!=0 THEN COALESCE(T.RecoverdAmount_BHD,0)/COALESCE(T.TotOutstandingAmt_BHD,0) ELSE 0 END CollectionRecoveryRate  from (
	Select 1 Number ,'January' MonthName Union
	Select 2 Number ,'February' MonthName Union
	Select 3 Number ,'March' MonthName Union
	Select 4 Number ,'April' MonthName Union
	Select 5 Number ,'May' MonthName Union
	Select 6 Number ,'June' MonthName Union
	Select 7 Number ,'July' MonthName Union
	Select 8 Number ,'August' MonthName Union
	Select 9 Number ,'September' MonthName Union
	Select 10 Number ,'October' MonthName Union
	Select 11 Number ,'November' MonthName Union
	Select 12 Number ,'December' MonthName)T1 Cross Join
	(Select Distinct ProductCategory,date_part('year',OverDueDate) "Year",'<=90' DPD from CollectiondataDetails UNION
	 Select Distinct ProductCategory,date_part('year',OverDueDate) "Year",'90>' DPD from CollectiondataDetails)T2 Left Join (	
	SELECT  ProductCategory,'<=90' DPD,Count(ProductRef) "Value",
			SUM( UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,date_part('month',OverDueDate) "MONTH",date_part('year',OverDueDate) "Year",date_part('month',OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2  
	where OverdueDays<=90
	GROUP BY ProductCategory,date_part('month',OverDueDate),date_part('year',OverDueDate),date_part('month',OverDueDate)	
	UNION		
	SELECT  ProductCategory,'90>' DPD,Count(ProductRef) "Value",
			SUM( UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,date_part('month',OverDueDate) "MONTH",date_part('year',OverDueDate) "Year",date_part('month',OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where OverdueDays>=91
	GROUP BY ProductCategory,date_part('month',OverDueDate),date_part('year',OverDueDate),date_part('month',OverDueDate))T	
	ON T.ProductCategory=T2.ProductCategory and T1.Number = T.MonthNum and T.DPD=T2.DPD and T."Year"=T2."Year"]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="423" dbms="mssql">
        <createView fullDefinition="false" viewName="RPT_CollectionRecoveryDetails_View">
        <![CDATA[Select ProductRef,CustCif CustCIF,Currency,ProductCategory,ProCtgType FinType,DPD, OverdueDays,
	   TotOustandingAmt,OverDueAmt,RecoverdAmount,CcyEditField,OverDueDate,
	   ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD')OverDuePenalty_BHD,
	 ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD')TotOustandingAmt_BHD,
	DATEPART(m, overduedate) Number,case when cast(month(overduedate) as varchar)='1' then 'January' 
            when cast(month(overduedate) as varchar)='2' then 'February' 
            when cast(month(overduedate) as varchar)='3' then 'March' 
            when cast(month(overduedate) as varchar)='4' then 'April' 
            when cast(month(overduedate) as varchar)='5' then 'May' 
            when cast(month(overduedate) as varchar)='6' then 'June' 
            when cast(month(overduedate) as varchar)='7' then 'July' 
            when cast(month(overduedate) as varchar)='8' then 'August' 
            when cast(month(overduedate) as varchar)='9' then 'September' 
            when cast(month(overduedate) as varchar)='10' then 'October' 
            when cast(month(overduedate) as varchar)='11' then 'November' 
            when cast(month(overduedate) as varchar)='12' then 'December' 
 end MonthName,year(overduedate) Year,Ordby from (
	Select 1 Ordby,'Performing 1-30' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=1 and OverdueDays<=30 union
    Select 1 Ordby,'Performing 1-30' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=1 and OverdueDays<=30 union
    
    
    Select 2 Ordby,'Performing 31-60' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=31 and OverdueDays<=60 union
    Select 2 Ordby,'Performing 31-60' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=31 and OverdueDays<=60 union
    
    Select 3 Ordby,'Performing 61-90' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=61 and OverdueDays<=90 union
    Select 3 Ordby,'Performing 61-90' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=61 and OverdueDays<=90 union
    
    Select 4 Ordby,'Substandard 91-180' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=91 and OverdueDays<=180 union
    Select 4 Ordby,'Substandard 91-180' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=91 and OverdueDays<=180 union
    
    Select 5 Ordby,'Doutful 181-365' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>181 and OverdueDays<=365 union
    Select 5 Ordby,'Doutful 181-365' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>181 and OverdueDays<=365 union
    
    Select 6 Ordby,'Loss 365>' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>365 union
    Select 6 Ordby,'Loss 365>' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>365)T
    inner join currencies C on C.CcyCode =T.Currency]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="423" dbms="oracle">
        <createView fullDefinition="false" viewName="RPT_CollectionRecoveryDetails_View">
        <![CDATA[Select ProductRef,CustCif CustCIF,Currency,ProductCategory,ProCtgType FinType,DPD, OverdueDays,
	   TotOustandingAmt,OverDueAmt,RecoverdAmount,CcyEditField,OverDueDate,
	   ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD')OverDuePenalty_BHD,
	 ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD')TotOustandingAmt_BHD,
	DATEPART(m, overduedate) Number,case when cast(month(overduedate) as varchar)='1' then 'January' 
            when cast(month(overduedate) as varchar)='2' then 'February' 
            when cast(month(overduedate) as varchar)='3' then 'March' 
            when cast(month(overduedate) as varchar)='4' then 'April' 
            when cast(month(overduedate) as varchar)='5' then 'May' 
            when cast(month(overduedate) as varchar)='6' then 'June' 
            when cast(month(overduedate) as varchar)='7' then 'July' 
            when cast(month(overduedate) as varchar)='8' then 'August' 
            when cast(month(overduedate) as varchar)='9' then 'September' 
            when cast(month(overduedate) as varchar)='10' then 'October' 
            when cast(month(overduedate) as varchar)='11' then 'November' 
            when cast(month(overduedate) as varchar)='12' then 'December' 
 end MonthName,year(overduedate) Year,Ordby from (
	Select 1 Ordby,'Performing 1-30' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=1 and OverdueDays<=30 union
    Select 1 Ordby,'Performing 1-30' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=1 and OverdueDays<=30 union
    
    
    Select 2 Ordby,'Performing 31-60' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=31 and OverdueDays<=60 union
    Select 2 Ordby,'Performing 31-60' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=31 and OverdueDays<=60 union
    
    Select 3 Ordby,'Performing 61-90' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=61 and OverdueDays<=90 union
    Select 3 Ordby,'Performing 61-90' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=61 and OverdueDays<=90 union
    
    Select 4 Ordby,'Substandard 91-180' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=91 and OverdueDays<=180 union
    Select 4 Ordby,'Substandard 91-180' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=91 and OverdueDays<=180 union
    
    Select 5 Ordby,'Doutful 181-365' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>181 and OverdueDays<=365 union
    Select 5 Ordby,'Doutful 181-365' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>181 and OverdueDays<=365 union
    
    Select 6 Ordby,'Loss 365>' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>365 union
    Select 6 Ordby,'Loss 365>' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>365)T
    inner join currencies C on C.CcyCode =T.Currency]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="423" dbms="postgresql">
        <createView fullDefinition="false" viewName="RPT_CollectnRecvryDetails_View">
        <![CDATA[Select ProductRef,CustCif CustCIF,Currency,ProductCategory,ProCtgType FinType,DPD, OverdueDays,
	   TotOustandingAmt,OverDueAmt,RecoverdAmount,CcyEditField,OverDueDate,
	  UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD')OverDuePenalty_BHD,
	UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD')TotOustandingAmt_BHD,
	DATE_PART('month', overduedate) Number,case when cast(date_part('month',overduedate) as varchar)='1' then 'January' 
            when cast(date_part('month',overduedate) as varchar)='2' then 'February' 
            when cast(date_part('month',overduedate) as varchar)='3' then 'March' 
            when cast(date_part('month',overduedate) as varchar)='4' then 'April' 
            when cast(date_part('month',overduedate) as varchar)='5' then 'May' 
            when cast(date_part('month',overduedate) as varchar)='6' then 'June' 
            when cast(date_part('month',overduedate) as varchar)='7' then 'July' 
            when cast(date_part('month',overduedate) as varchar)='8' then 'August' 
            when cast(date_part('month',overduedate) as varchar)='9' then 'September' 
            when cast(date_part('month',overduedate) as varchar)='10' then 'October' 
            when cast(date_part('month',overduedate) as varchar)='11' then 'November' 
            when cast(date_part('month',overduedate) as varchar)='12' then 'December' 
 end MonthName,date_part('year',overduedate) "Year",Ordby from (
	Select 1 Ordby,'Performing 1-30' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=1 and OverdueDays<=30 union
    Select 1 Ordby,'Performing 1-30' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=1 and OverdueDays<=30 union
    
    
    Select 2 Ordby,'Performing 31-60' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=31 and OverdueDays<=60 union
    Select 2 Ordby,'Performing 31-60' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=31 and OverdueDays<=60 union
    
    Select 3 Ordby,'Performing 61-90' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=61 and OverdueDays<=90 union
    Select 3 Ordby,'Performing 61-90' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=61 and OverdueDays<=90 union
    
    Select 4 Ordby,'Substandard 91-180' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>=91 and OverdueDays<=180 union
    Select 4 Ordby,'Substandard 91-180' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>=91 and OverdueDays<=180 union
    
    Select 5 Ordby,'Doutful 181-365' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>181 and OverdueDays<=365 union
    Select 5 Ordby,'Doutful 181-365' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>181 and OverdueDays<=365 union
    
    Select 6 Ordby,'Loss 365>' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectiondataDetails	Where OverdueDays>365 union
    Select 6 Ordby,'Loss 365>' DPD,ProductRef,CustCif,ProductCategory,ProCtgType,OverdueDays,Currency,OverDueDate,
		COALESCE(TotOustandingAmt,0) TotOustandingAmt,COALESCE(OverDueAmt,0)OverDueAmt,
		COALESCE(RecoverdAmount,0)RecoverdAmount
    from CollectionDataDetails_Arch	Where OverdueDays>365)T
    inner join currencies C on C.CcyCode =T.Currency]]></createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="424" dbms="oracle">
        <createView fullDefinition="false" viewName="RPT_CollectionRecoveryMonthlyRpt_View">
        <![CDATA[Select T2.ProductCategory,T2.Year,T1.Number,T1.MonthName,T2.DPD,T2.DPDNum,COALESCE(T.Value,0)Value,
	COALESCE(T.TotOutstandingAmt_BHD,0)TotOutstandingAmt_BHD,COALESCE(T.OverDueAmt_BHD,0)OverDueAmt_BHD,
	COALESCE(T.RecoverdAmount_BHD,0)RecoverdAmount_BHD,COALESCE(T.NumberofAccounts,0)NumberofAccounts,
	CASE WHEN COALESCE(T.TotOutstandingAmt_BHD,0)!=0 THEN COALESCE(T.RecoverdAmount_BHD,0)/COALESCE(T.TotOutstandingAmt_BHD,0) ELSE 0 END CollectionRecoveryRate  from (
	Select 01 Number ,'January' MonthName Union
	Select 02 Number ,'February' MonthName Union
	Select 03 Number ,'March' MonthName Union
	Select 04 Number ,'April' MonthName Union
	Select 05 Number ,'May' MonthName Union
	Select 06 Number ,'June' MonthName Union
	Select 07 Number ,'July' MonthName Union
	Select 08 Number ,'August' MonthName Union
	Select 09 Number ,'September' MonthName Union
	Select 10 Number ,'October' MonthName Union
	Select 11 Number ,'November' MonthName Union
	Select 12 Number ,'December' MonthName)T1 Cross Join
	(Select Distinct ProductCategory,YEAR(OverDueDate)Year,'Performing 1-30' DPD,1 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,YEAR(OverDueDate)Year,'Performing 31-60' DPD,2 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,YEAR(OverDueDate)Year,'Performing 61-90' DPD,3 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,YEAR(OverDueDate)Year,'Substandard 91-180' DPD,4 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,YEAR(OverDueDate)Year,'Doutful 181-365' DPD,5 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,YEAR(OverDueDate)Year,'Loss 365>' DPD,6 DPDnum from CollectiondataDetails)T2 Left Join (	 
	SELECT  ProductCategory,'Performing 1-30' DPD,Count(ProductRef) Value,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,DATENAME(MONTH,OverDueDate)MONTH,YEAR(OverDueDate) Year,Month(OverDueDate)MonthNum			
	FROM (Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where OverdueDays>=1 and OverdueDays<=30
	GROUP BY ProductCategory,DATENAME(MONTH,OverDueDate),YEAR(OverDueDate),Month(OverDueDate)	
	UNION
	SELECT  ProductCategory,'Performing 31-60' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,DATENAME(MONTH,OverDueDate)MONTH,YEAR(OverDueDate) Year,Month(OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where	OverdueDays>=31 and OverdueDays<=60
	GROUP BY ProductCategory,DATENAME(MONTH,OverDueDate),YEAR(OverDueDate),Month(OverDueDate)	
	UNION
	SELECT  ProductCategory,'Performing 61-90' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,DATENAME(MONTH,OverDueDate)MONTH,YEAR(OverDueDate) Year,Month(OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where	OverdueDays>=61 and OverdueDays<=90
	GROUP BY ProductCategory,DATENAME(MONTH,OverDueDate),YEAR(OverDueDate),Month(OverDueDate)	
	UNION
	SELECT  ProductCategory,'Substandard 91-180' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,DATENAME(MONTH,OverDueDate)MONTH,YEAR(OverDueDate) Year,Month(OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where	OverdueDays>=91 and OverdueDays<=180
	GROUP BY ProductCategory,DATENAME(MONTH,OverDueDate),YEAR(OverDueDate),Month(OverDueDate)		
	UNION
	SELECT  ProductCategory,'Doutful 181-365' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,DATENAME(MONTH,OverDueDate)MONTH,YEAR(OverDueDate) Year,Month(OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where	OverdueDays>181 and OverdueDays<=365
	GROUP BY ProductCategory,DATENAME(MONTH,OverDueDate),YEAR(OverDueDate),Month(OverDueDate)		
	UNION
	SELECT  ProductCategory,'Loss 365>' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,DATENAME(MONTH,OverDueDate)MONTH,YEAR(OverDueDate) Year,Month(OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where	OverdueDays>365
	GROUP BY ProductCategory,DATENAME(MONTH,OverDueDate),YEAR(OverDueDate),Month(OverDueDate))T	
	ON T.ProductCategory=T2.ProductCategory and T1.Number = T.MonthNum and T.DPD=T2.DPD and T.Year=T2.Year]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="424" dbms="postgresql">
        <createView fullDefinition="false" viewName="RPT_ClctnRecvryMnthlyRpt_View">
        <![CDATA[Select T2.ProductCategory,T2.Year,T1.Number,T1.MonthName,T2.DPD,T2.DPDNum,COALESCE(T.Value,0) "Value",
	COALESCE(T.TotOutstandingAmt_BHD,0)TotOutstandingAmt_BHD,COALESCE(T.OverDueAmt_BHD,0)OverDueAmt_BHD,
	COALESCE(T.RecoverdAmount_BHD,0)RecoverdAmount_BHD,COALESCE(T.NumberofAccounts,0)NumberofAccounts,
	CASE WHEN COALESCE(T.TotOutstandingAmt_BHD,0)!=0 THEN COALESCE(T.RecoverdAmount_BHD,0)/COALESCE(T.TotOutstandingAmt_BHD,0) ELSE 0 END CollectionRecoveryRate  from (
	Select 01 Number ,'January' MonthName Union
	Select 02 Number ,'February' MonthName Union
	Select 03 Number ,'March' MonthName Union
	Select 04 Number ,'April' MonthName Union
	Select 05 Number ,'May' MonthName Union
	Select 06 Number ,'June' MonthName Union
	Select 07 Number ,'July' MonthName Union
	Select 08 Number ,'August' MonthName Union
	Select 09 Number ,'September' MonthName Union
	Select 10 Number ,'October' MonthName Union
	Select 11 Number ,'November' MonthName Union
	Select 12 Number ,'December' MonthName)T1 Cross Join
	(Select Distinct ProductCategory,date_part('year',OverDueDate) "Year",'Performing 1-30' DPD,1 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,date_part('year',OverDueDate) "Year",'Performing 31-60' DPD,2 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,date_part('year',OverDueDate) "Year",'Performing 61-90' DPD,3 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,date_part('year',OverDueDate) "Year",'Substandard 91-180' DPD,4 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,date_part('year',OverDueDate) "Year",'Doutful 181-365' DPD,5 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,date_part('year',OverDueDate) "Year",'Loss 365>' DPD,6 DPDnum from CollectiondataDetails)T2 Left Join (	 
	SELECT  ProductCategory,'Performing 1-30' DPD,Count(ProductRef) "Value",
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,date_part('month',OverDueDate) "MONTH",date_part('year',OverDueDate)  "Year",date_part('month',OverDueDate)MonthNum			
	FROM (Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where OverdueDays>=1 and OverdueDays<=30
	GROUP BY ProductCategory,date_part('month',OverDueDate),date_part('year',OverDueDate),date_part('month',OverDueDate)	
	UNION
	SELECT  ProductCategory,'Performing 31-60' DPD,Count(ProductRef) "Value",
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,date_part('month',OverDueDate) "MONTH",date_part('year',OverDueDate)  "Year",date_part('month',OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where	OverdueDays>=31 and OverdueDays<=60
	GROUP BY ProductCategory,date_part('month',OverDueDate),date_part('year',OverDueDate),date_part('year',OverDueDate)	
	UNION
	SELECT  ProductCategory,'Performing 61-90' DPD,Count(ProductRef) "Value",
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,date_part('month',OverDueDate) "MONTH",date_part('year',OverDueDate)  "Year",date_part('month',OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where	OverdueDays>=61 and OverdueDays<=90
	GROUP BY ProductCategory,date_part('month',OverDueDate),date_part('year',OverDueDate),date_part('month',OverDueDate)	
	UNION
	SELECT  ProductCategory,'Substandard 91-180' DPD,Count(ProductRef) "Value",
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,date_part('month',OverDueDate) "MONTH",date_part('year',OverDueDate)  "Year",date_part('month',OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where	OverdueDays>=91 and OverdueDays<=180
	GROUP BY ProductCategory,date_part('month',OverDueDate),date_part('year',OverDueDate),date_part('month',OverDueDate)
	UNION
	SELECT  ProductCategory,'Doutful 181-365' DPD,Count(ProductRef) "Value",
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,date_part('month',OverDueDate) "MONTH",date_part('year',OverDueDate)  "Year",date_part('month',OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where	OverdueDays>181 and OverdueDays<=365
	GROUP BY ProductCategory,date_part('month',OverDueDate),date_part('year',OverDueDate),date_part('month',OverDueDate)		
	UNION
	SELECT  ProductCategory,'Loss 365>' DPD,Count(ProductRef) "Value",
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,date_part('month',OverDueDate) "MONTH",date_part('year',OverDueDate)  "Year",date_part('month',OverDueDate)MonthNum
	FROM	(Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectiondataDetails  Union
	      Select ProductCategory,ProductRef,TotOustandingAmt,OverDueAmt,RecoverdAmount,CustCif,OverDueDate,OverdueDays,Currency from CollectionDataDetails_Arch)  T2 
	where	OverdueDays>365
	GROUP BY ProductCategory,date_part('month',OverDueDate),date_part('year',OverDueDate),date_part('month',OverDueDate))T	
	ON T.ProductCategory=T2.ProductCategory and T1.Number = T.MonthNum and T.DPD=T2.DPD and T.Year=T2.Year]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="425">
        <createView fullDefinition="false" viewName="RPT_CollectionRecoveryQuarterlyRpt_View">
<![CDATA[Select T2.ProductCategory,T2.Year,T1.Number,T1.QuarterName,
	T2.DPD,T2.DPDNum,COALESCE(T.Value,0)Value,
	COALESCE(T.TotOutstandingAmt_BHD,0)TotOutstandingAmt_BHD,COALESCE(T.OverDueAmt_BHD,0)OverDueAmt_BHD,
	COALESCE(T.RecoverdAmount_BHD,0)RecoverdAmount_BHD,COALESCE(T.NumberofAccounts,0)NumberofAccounts,
	CASE WHEN COALESCE(T.TotOutstandingAmt_BHD,0)!=0 THEN COALESCE(T.RecoverdAmount_BHD,0)/COALESCE(T.TotOutstandingAmt_BHD,0) ELSE 0 END CollectionRecoveryRate  from (
	Select 1 Number ,'Quarter1' QuarterName Union
	Select 2 Number ,'Quarter2' QuarterName Union
	Select 3 Number ,'Quarter3' QuarterName Union
	Select 4 Number ,'Quarter4' QuarterName)T1 Cross Join
	(Select Distinct ProductCategory,YEAR(OverDueDate)Year,'Performing 1-90' DPD,1 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,YEAR(OverDueDate)Year,'Substandard 91-180' DPD,2 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,YEAR(OverDueDate)Year,'Doubtful 181-365' DPD,3 DPDnum from CollectiondataDetails UNION
	 Select Distinct ProductCategory,YEAR(OverDueDate)Year,'Loss 365>' DPD,4 DPDnum from CollectiondataDetails)T2 Left Join (	 
	SELECT  ProductCategory,'Performing 1-90' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,Quater,YEAR(OverDueDate) Year
	FROM	(Select ProductCategory,ProductRef,Currency,TotOustandingAmt,OverDueAmt,RecoverdAmount,OverDueDate,CustCif,
	case when MONTH(OverDueDate)IN(1,2,3)then '1' when MONTH(OverDueDate)IN(4,5,6) then '2'when MONTH(OverDueDate)IN(7,8,9)then '3' when MONTH(OverDueDate)IN(10,11,12) then '4' end as Quater,OverdueDays
	From CollectiondataDetails UNION
	Select ProductCategory,ProductRef,Currency,TotOustandingAmt,OverDueAmt,RecoverdAmount,OverDueDate,CustCif,
	case when MONTH(OverDueDate)IN(1,2,3)then '1' when MONTH(OverDueDate)IN(4,5,6) then '2'when MONTH(OverDueDate)IN(7,8,9)then '3' when MONTH(OverDueDate)IN(10,11,12) then '4' end as Quater,OverdueDays
	From CollectionDataDetails_Arch)T1
	where OverdueDays>=1 and OverdueDays<=90
	GROUP BY ProductCategory,Quater,YEAR(OverDueDate) 		
	UNION
	SELECT  ProductCategory,'Substandard 91-180' DPD,Count(ProductRef) Value,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,Quater,YEAR(OverDueDate) Year
	FROM	(Select ProductCategory,ProductRef,Currency,TotOustandingAmt,OverDueAmt,RecoverdAmount,OverDueDate,CustCif,
	case when MONTH(OverDueDate)IN(1,2,3)then '1' when MONTH(OverDueDate)IN(4,5,6) then '2'when MONTH(OverDueDate)IN(7,8,9)then '3' when MONTH(OverDueDate)IN(10,11,12) then '4' end as Quater,OverdueDays
	From CollectiondataDetails UNION
	Select ProductCategory,ProductRef,Currency,TotOustandingAmt,OverDueAmt,RecoverdAmount,OverDueDate,CustCif,
	case when MONTH(OverDueDate)IN(1,2,3)then '1' when MONTH(OverDueDate)IN(4,5,6) then '2'when MONTH(OverDueDate)IN(7,8,9)then '3' when MONTH(OverDueDate)IN(10,11,12) then '4' end as Quater,OverdueDays
	From CollectionDataDetails_Arch)T1
	where OverdueDays>=91 and OverdueDays<=180
	GROUP BY ProductCategory,Quater,YEAR(OverDueDate)			
	UNION
	SELECT  ProductCategory,'Doubtful 181-365' DPD,Count(ProductRef) Value,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,Quater,YEAR(OverDueDate) Year
	FROM	(Select ProductCategory,ProductRef,Currency,TotOustandingAmt,OverDueAmt,RecoverdAmount,OverDueDate,CustCif,
	case when MONTH(OverDueDate)IN(1,2,3)then '1' when MONTH(OverDueDate)IN(4,5,6) then '2'when MONTH(OverDueDate)IN(7,8,9)then '3' when MONTH(OverDueDate)IN(10,11,12) then '4' end as Quater,OverdueDays
	From CollectiondataDetails UNION
	Select ProductCategory,ProductRef,Currency,TotOustandingAmt,OverDueAmt,RecoverdAmount,OverDueDate,CustCif,
	case when MONTH(OverDueDate)IN(1,2,3)then '1' when MONTH(OverDueDate)IN(4,5,6) then '2'when MONTH(OverDueDate)IN(7,8,9)then '3' when MONTH(OverDueDate)IN(10,11,12) then '4' end as Quater,OverdueDays
	From CollectionDataDetails_Arch)T1
	where OverdueDays>=181 and OverdueDays<=365
	GROUP BY ProductCategory,Quater,YEAR(OverDueDate) 		
	UNION	
	SELECT  ProductCategory,'Loss 365>' DPD,Count(ProductRef) Value,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOutstandingAmt_BHD,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
			SUM(${add.schema}UDF_ConvertCurrency(COALESCE(RecoverdAmount,0),Currency,'BHD'))RecoverdAmount_BHD,
			Count(Distinct CustCif)NumberofAccounts,Quater,YEAR(OverDueDate) Year
	FROM	(Select ProductCategory,ProductRef,Currency,TotOustandingAmt,OverDueAmt,RecoverdAmount,OverDueDate,CustCif,
	case when MONTH(OverDueDate)IN(1,2,3)then '1' when MONTH(OverDueDate)IN(4,5,6) then '2'when MONTH(OverDueDate)IN(7,8,9)then '3' when MONTH(OverDueDate)IN(10,11,12) then '4' end as Quater,OverdueDays
	From CollectiondataDetails UNION
	Select ProductCategory,ProductRef,Currency,TotOustandingAmt,OverDueAmt,RecoverdAmount,OverDueDate,CustCif,
	case when MONTH(OverDueDate)IN(1,2,3)then '1' when MONTH(OverDueDate)IN(4,5,6) then '2'when MONTH(OverDueDate)IN(7,8,9)then '3' when MONTH(OverDueDate)IN(10,11,12) then '4' end as Quater,OverdueDays
	From CollectionDataDetails_Arch)T1
	where OverdueDays>365
	GROUP BY ProductCategory,Quater,YEAR(OverDueDate))T	
	ON T.ProductCategory=T2.ProductCategory and T1.Number = T.Quater and T.DPD=T2.DPD and T.Year=T2.Year]]></createView>
    </changeSet>
     <changeSet author="PCFAdmin" id="426">
        <createView fullDefinition="false" viewName="CollectionStrategyDetails_AView">SELECT     StrategyCode, StrategyType, OverdueRangeNo, TemplateId, LngCode, TransferToAgency, TransferToLegal, FreeText1, FreeText2, Version, LastMntBy, 
                      LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId
FROM         ${add.schema}CollectionStrategyDetails AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="427">
        <createView fullDefinition="false" viewName="CollectionStrategyDetails_View">SELECT     T1.StrategyCode, T1.StrategyType, T1.OverdueRangeNo, T1.TemplateId, T1.LngCode, TransferToAgency, TransferToLegal, T1.FreeText1, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId
FROM         CollectionStrategyDetails_TEMP AS T1
UNION ALL
SELECT     T1.StrategyCode, T1.StrategyType, T1.OverdueRangeNo, T1.TemplateId, T1.LngCode, TransferToAgency, TransferToLegal, T1.FreeText1, T1.FreeText2, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, 
                      T1.WorkflowId
FROM         CollectionStrategyDetails AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          CollectionStrategyDetails_TEMP
                            WHERE      StrategyCode = T1.StrategyCode and StrategyType = T1.StrategyType and OverdueRangeNo = T1.OverdueRangeNo )</createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="428">
        <createIndex indexName="CardDetail_CardNumber_indx" tableName="CardDetail_Snapshot">
            <column name="CardNumber"/>
        </createIndex>
    </changeSet>
   <changeSet author="PCFAdmin" id="429">
        <createView fullDefinition="false" viewName="RPT_DelinquenciesRatio_view">
        <![CDATA[Select * from PFFLIV..RPT_DelinquenciesRatio_view		
	UNION ALL		
Select year(T1.CurrentDate)Year,MONTH(T1.CurrentDate)Number,DATENAME(MONTH,T1.CurrentDate)MONTHNAME,FinType,FinTypeDesc,Grade,Classification,DPD,NoofdelinqAccounts,DelinquentsValueBHD,'card' Findivision,
   PortfolioExposureBHD,NoOfAccounts,1 NoofRecords from (
Select	snapshotdate CurrentDate,'card' FinType,'Taqseet Cards' FinTypeDesc,1 Grade,'Performing' Classification,'1-90' DPD,
		COUNT(Distinct cardNumber)[NoofdelinqAccounts],
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'BHD'))) [DelinquentsValueBHD]
from carddetail_snapshot where UnpaidAmount!=0 and Dpd>=1 and Dpd<=90 and cardnumber like '639679%'
group by snapshotdate	union all
Select	snapshotdate,'card','Taqseet Cards',2,'Substandard' Classification,'91-180' DPD,
		COUNT(Distinct cardNumber)[NoofdelinqAccounts],
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'BHD'))) [DelinquentsValueBHD]
from carddetail_snapshot where UnpaidAmount!=0 and Dpd>=91 and Dpd<=180 and cardnumber like '639679%'
group by snapshotdate union all
Select  snapshotdate,'card','Taqseet Cards',3,'Doubtful' Classification,'181-365' DPD,
		COUNT(Distinct cardNumber)[NoofdelinqAccounts],
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'BHD'))) [DelinquentsValueBHD]
from carddetail_snapshot where UnpaidAmount!=0 and Dpd>=181 and Dpd<=365 and cardnumber like '639679%' 
group by snapshotdate union all
Select	snapshotdate,'card','Taqseet Cards',4,'Loss' Classification,'365>' DPD,
		COUNT(Distinct cardNumber)[NoofdelinqAccounts],
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'BHD'))) [DelinquentsValueBHD]
from carddetail_snapshot where UnpaidAmount!=0 and Dpd>365 and cardnumber like '639679%'
	group by snapshotdate)T inner join
(Select snapshotdate CurrentDate,-SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(FinalOsAmount,currency,'BHD')))PortfolioExposureBHD,
		COUNT(Distinct cardNumber)[NoOfAccounts]
from carddetail_snapshot where cardnumber like '639679%'
	group by snapshotdate)T1 on T.CurrentDate =T1.CurrentDate]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="430">
        <createView fullDefinition="false" viewName="RPT_MonCompReport_VIEW"><![CDATA[Select T.*,DivisionCodeDesc from (
Select CurrentDate,'Below 90 Days'Groups ,'<30' NoOfDays,findivision+' Clients < 30 Days'  Category,FinDivision,SUM(NoOfAccounts)NoOfAccounts,SUM(AmountBHD)AmountBHD ,sum(AmountUSD) AmountUSD
from PFFLIV..FinODDetails_DailyDownload
where grade<=3
Group By CurrentDate,FinDivision
UNION ALL
Select CurrentDate,'Below 90 Days'Groups ,'<60' NoOfDays,findivision+' Clients > 30 &amp; < 60 Days' Category,FinDivision,SUM(NoOfAccounts)NoOfAccounts,SUM(AmountBHD)AmountBHD ,sum(AmountUSD) AmountUSD
from PFFLIV..FinODDetails_DailyDownload
where grade>=4 and grade<=5  Group By CurrentDate,FinDivision
UNION ALL
Select CurrentDate,'Below 90 Days'Groups ,'<90' NoOfDays,findivision+' Clients > 61 &amp; < 90 Days' Category,FinDivision,SUM(NoOfAccounts)NoOfAccounts,SUM(AmountBHD)AmountBHD ,sum(AmountUSD) AmountUSD
from PFFLIV..FinODDetails_DailyDownload
where grade>=6 and grade<=8 Group By CurrentDate,FinDivision
UNION ALL
Select CurrentDate,'Above 90 Days'Groups ,'>90' NoOfDays,findivision+' Clients > 90 Days' Category,FinDivision,SUM(NoOfAccounts)NoOfAccounts,SUM(AmountBHD)AmountBHD ,sum(AmountUSD) AmountUSD
from PFFLIV..FinODDetails_DailyDownload
where grade>=9 Group By CurrentDate,FinDivision)T Inner Join PFFLIV..SMTDivisionDetail ON DivisionCode=FinDivision
union all    
Select	snapshotdate CurrentDate,'Below 90 Days'Groups ,'<30' NoOfDays,'Taqseet Card '+' Clients < 30 Days'  Category,'TaqseetCard' FinDivision,
		COUNT(Distinct cardNumber)NoOfAccounts,
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'BHD'))) AmountBHD,
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'USD'))) AmountUSD,'Taqseet Card Division' DivisionCodeDesc
from carddetail_snapshot where UnpaidAmount!=0 and Dpd>=1 and Dpd<=30 and cardnumber like '639679%'
group by snapshotdate	UNION ALL
 Select	snapshotdate CurrentDate,'Below 90 Days'Groups ,'<60' NoOfDays,'Taqseet Card '+' Clients > 30 &amp; < 60 Days'  Category,'TaqseetCard' FinDivision,
		COUNT(Distinct cardNumber)NoOfAccounts,
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'BHD'))) AmountBHD,
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'USD'))) AmountUSD,'Taqseet Card Division' DivisionCodeDesc
from carddetail_snapshot where UnpaidAmount!=0 and Dpd>=31 and Dpd<=60 and cardnumber like '639679%'
group by snapshotdate UNION ALL
 Select	snapshotdate CurrentDate,'Below 90 Days'Groups ,'<90' NoOfDays,'Taqseet Card '+' Clients > 61 &amp; < 90 Days'  Category,'TaqseetCard' FinDivision,
		COUNT(Distinct cardNumber)NoOfAccounts,
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'BHD'))) AmountBHD,
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'USD'))) AmountUSD,'Taqseet Card Division' DivisionCodeDesc
from carddetail_snapshot where UnpaidAmount!=0 and Dpd>=61 and Dpd<=90 and cardnumber like '639679%'
group by snapshotdate UNION ALL
 Select	snapshotdate CurrentDate,'Above 90 Days'Groups ,'>90' NoOfDays,'Taqseet Card '+' Clients > 90 Days'  Category,'TaqseetCard' FinDivision,
		COUNT(Distinct cardNumber)NoOfAccounts,
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'BHD'))) AmountBHD,
		SUM(Convert(Decimal(18,3), ${add.schema}UDF_ConvertCurrency(UnpaidAmount,currency,'USD'))) AmountUSD,'Taqseet Card Division' DivisionCodeDesc
from carddetail_snapshot where UnpaidAmount!=0 and Dpd>=91 and cardnumber like '639679%'
group by snapshotdate]]></createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="431">
        <createIndex indexName="SnapshotDate_indx" tableName="CardDetail_Snapshot">
            <column name="SnapshotDate"/>
        </createIndex>
    </changeSet>
    <changeSet author="PCFAdmin" id="432">
        <createIndex indexName="IX_Templates" tableName="Templates" unique="true">
            <column name="Code"/>
            <column name="LanguageCode"/>
            <column name="Type"/>
        </createIndex>
    </changeSet>
    <changeSet author="PCFAdmin" id="433">
        <addPrimaryKey columnNames="TemplateId" constraintName="PK_Templates" tableName="Templates"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="434">
        <createView fullDefinition="false" viewName="Templates_AView">SELECT     T1.TemplateId, T1.Code, T1.TemplateName, T1.Type, T1.TemplateContent, T1.FileName, T1.LanguageCode, 
                      T2.LngDesc AS lovDescLanguageCodeName, T1.FromAddress, T1.FromName, T1.ReturnAddress, T1.EmailFormat, T1.EmailSubject, 
                      T1.UsedeFaultSmtp, T1.SmtpId, T1.SmtpPort, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Templates AS T1 INNER JOIN
                      ${add.schema}Languages AS T2 ON T1.LanguageCode = T2.LngCode</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="435">
        <createView fullDefinition="false" viewName="Templates_View">SELECT     T1.TemplateId, T1.Code, T1.TemplateName, T1.Type, T1.TemplateContent, T1.FileName, T1.LanguageCode, T2.LngDesc AS lovDescLanguageCodeName, T1.FromAddress, T1.FromName, 
                      T1.ReturnAddress, T1.EmailFormat, T1.EmailSubject, T1.UsedeFaultSmtp, T1.SmtpId, T1.SmtpPort, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Templates_TEMP AS T1 INNER JOIN
                   ${add.schema}Languages AS T2 ON T1.LanguageCode = T2.LngCode
UNION ALL
SELECT     T1.TemplateId, T1.Code, T1.TemplateName, T1.Type, T1.TemplateContent, T1.FileName, T1.LanguageCode, T2.LngDesc AS lovDescLanguageCodeName, T1.FromAddress, T1.FromName, 
                      T1.ReturnAddress, T1.EmailFormat, T1.EmailSubject, T1.UsedeFaultSmtp, T1.SmtpId, T1.SmtpPort, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, 
                      T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         ${add.schema}Templates AS T1 INNER JOIN
                  ${add.schema} Languages AS T2 ON T1.LanguageCode = T2.LngCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Templates_TEMP
                            WHERE      TemplateId = T1.TemplateId)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="436">
        <addPrimaryKey columnNames="ReceiptId" constraintName="PK_DebtCollectionReceipt_Temp" tableName="DebtCollectionReceipt_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="437">
        <addPrimaryKey columnNames="UsrID" constraintName="PK_SecUsers_Temp" tableName="SecUsers_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="438">
        <addUniqueConstraint columnNames="UsrLogin" constraintName="UQ_SecUsers_Temp" tableName="SecUsers_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="439">
        <addPrimaryKey columnNames="LawyerId" constraintName="PK_LawyerDetails_Temp" tableName="LawyerDetails_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="440">
        <addPrimaryKey columnNames="Module" constraintName="PK_ReportList_Temp" tableName="ReportList_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="441">
        <createView fullDefinition="false" viewName="ReportList_View">SELECT		T1.Module, T1.FieldLabels, T1.FieldValues, T1.FieldType, T1.Addfields, T1.ReportFileName, T1.ReportHeading, T1.ModuleType		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	ReportList_TEMP AS T1
UNION ALL
SELECT		T1.Module, T1.FieldLabels, T1.FieldValues, T1.FieldType, T1.Addfields, T1.ReportFileName, T1.ReportHeading, T1.ModuleType		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	ReportList AS T1
WHERE     NOT EXISTS (SELECT 1 FROM ReportList_TEMP WHERE Module = T1.Module)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="442">
        <createIndex indexName="IX_SecUserRoles" tableName="SecUserRoles">
            <column name="UsrID"/>
            <column name="RoleID"/>
        </createIndex>
    </changeSet>
    <changeSet author="PCFAdmin" id="443">
        <addPrimaryKey columnNames="UsrRoleID" constraintName="PK_SecUserRoles" tableName="SecUserRoles"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="444">
        <addForeignKeyConstraint baseColumnNames="JOB_EXECUTION_ID" baseTableName="BATCH_STEP_EXECUTION" constraintName="JOB_EXEC_STEP_FK" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="JOB_EXECUTION_ID" referencedTableName="BATCH_JOB_EXECUTION"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="445">
        <addPrimaryKey columnNames="STEP_EXECUTION_ID" constraintName="PK__BATCH_ST__60B8C8A521793B97" tableName="BATCH_STEP_EXECUTION"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="446">
        <createView fullDefinition="false" viewName="Leaves_AView">
SELECT		T1.LeaveID, T1.AppliedDate, T1.FromDate, T1.ToDate, T1.UserID, T1.Active , T3.UsrFName${call.concatenate}' '${call.concatenate}T3.UsrMName${call.concatenate}' '${call.concatenate} T3.UsrLName AS lovDescUserIDName		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Leaves AS T1 INNER JOIN
                      ${add.schema}SecUsers AS T3 ON T1.UserID = T3.UsrID</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="447">
        <createView fullDefinition="false" viewName="Notes_ArchView">select T1.ArchId,T1.ArchDate,T1.NoteId, T1.ModuleName, T1.Reference, T1.Version, T1.Remarks, T1.InputBy, 
T1.InputDate,T2.UsrLogin from Notes_Arch T1
inner join SecUsers T2 on T2.UsrID =T1.InputBy</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="448">
        <addPrimaryKey columnNames="UsrID" constraintName="PK_SecUsers" tableName="SecUsers"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="449">
        <addUniqueConstraint columnNames="UsrLogin" constraintName="UQ_SECUSERS" tableName="SecUsers"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="450">
        <addPrimaryKey columnNames="QueryModuleCode" constraintName="PK_QueryModules" tableName="QueryModules"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="451">
        <createView fullDefinition="false" viewName="AddressTypes_AView">SELECT     AddrTypeCode, AddrTypeDesc, AddrTypePriority, AddrTypeActive, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, 
                      NextTaskId, RecordType, WorkflowId
FROM         ${add.schema}AddressTypes AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="452">
        <addPrimaryKey columnNames="AddrTypeCode" constraintName="idxBMTAddressTypes_U_C" tableName="AddressTypes"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="453">
        <createView fullDefinition="false" viewName="Languages_AView">SELECT     LngCode, LngDesc, LngNumber, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, 
                      WorkflowId
FROM         ${add.schema}Languages AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="454">
        <addPrimaryKey columnNames="RuleId, RuleModule, RuleEvent, RuleCode" constraintName="PK_Rules_Temp_1" tableName="Rules_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="455">
        <addPrimaryKey columnNames="PromiseCode" constraintName="PK_PromiseCode_Temp" tableName="PromiseCode_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="456">
        <addPrimaryKey columnNames="HolidayCode, HolidayYear, HolidayType" constraintName="PK_SMTHolidayMaster" tableName="SMTHolidayMaster"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="457">
        <createView fullDefinition="false" viewName="SMTHolidayMaster_AView">SELECT     HolidayCode, HolidayYear, HolidayType, Holidays, HolidayCodeDesc, HolidayDesc1, HolidayDesc2, HolidayDesc3, Version, LastMntBy, 
                      LastMntOn
FROM         ${add.schema}SMTHolidayMaster</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="458">
        <createView fullDefinition="false" viewName="ContactcodeGroups_AView">SELECT     CCGroupcode, CCGroupDesc, Active, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, 
                      WorkflowId
FROM         ${add.schema}ContactcodeGroups AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="459">
        <createView fullDefinition="false" viewName="ContactcodeGroups_View">SELECT		T1.CCGroupcode, T1.CCGroupDesc, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	ContactcodeGroups_TEMP AS T1
UNION ALL
SELECT		T1.CCGroupcode, T1.CCGroupDesc, T1.Active		
			, T1.Version , T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	ContactcodeGroups AS T1
WHERE     NOT EXISTS (SELECT 1 FROM ContactcodeGroups_TEMP WHERE CCGroupcode = T1.CCGroupcode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="460">
        <addPrimaryKey columnNames="CCGroupcode" constraintName="PK_ContactcodeGroups" tableName="ContactcodeGroups"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="461">
        <createView fullDefinition="false" viewName="NewsItems_View">SELECT		NewsCode, NewsDate, NewsHeading,ShortDesc, NewsDescription, isActive,		
			Version , LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, 
			TaskId, NextTaskId, RecordType, WorkflowId
FROM    	NewsItems_TEMP
UNION ALL
SELECT		NewsCode, NewsDate, NewsHeading,ShortDesc,NewsDescription, isActive	,	
			Version , LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, 
			TaskId, NextTaskId, RecordType, WorkflowId
FROM    	NewsItems
WHERE		NOT EXISTS (SELECT	1 
						FROM	NewsItems_TEMP 
						WHERE	NewsCode = NewsItems.NewsCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="462">
        <addPrimaryKey columnNames="NewsCode" constraintName="PK_NewsItems_Temp" tableName="NewsItems_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="463">
        <createView fullDefinition="false" viewName="CollectionStrategyHeader_AView">SELECT     StrategyCode, StrategyCodeDesc, QCategoryCode, OverdueType, Range, Interval, Remarks, Active, Version, LastMntBy, LastMntOn, RecordStatus, 
                      RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId
FROM         ${add.schema}CollectionStrategyHeader AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="464">
        <addPrimaryKey columnNames="ContactCodeId" constraintName="PK_ContactCodes_Temp" tableName="ContactCodes_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="465">
        <createView fullDefinition="false" viewName="NewsItems_AView">SELECT		NewsCode, NewsDate, NewsHeading, shortDesc, NewsDescription, IsActive, 
			Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, 
            TaskId, NextTaskId, RecordType, WorkflowId
FROM        ${add.schema}NewsItems</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="466">
        <addPrimaryKey columnNames="NewsCode" constraintName="PK_NewsItems" tableName="NewsItems"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="467">
        <addPrimaryKey columnNames="CardNumber" constraintName="PK_CardDetail_Temp" tableName="CardDetail_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="468">
        <addPrimaryKey columnNames="ReceiptId" constraintName="PK_DebtCollectionReceipt" tableName="DebtCollectionReceipt"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="469">
        <createView fullDefinition="false" viewName="RPT_DebitCollectionReceipt_View">select ReceiptNo,AccountNo,CustName,PaymentType,AccountOfficer,Acknowlegment,currency,Receiptdate,
       ${add.schema}UDF_ConvertCurrency(PayAmount,Currency,'BHD')amount
from   DebtCollectionReceipt</createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="470">
        <addForeignKeyConstraint baseColumnNames="CountryCode" baseTableName="CITY_Temp" constraintName="FK_CITY_Temp_COUNTRY" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="CountryCode" referencedTableName="COUNTRY"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="471">
        <addForeignKeyConstraint baseColumnNames="CountryCode,ProvinceCode" baseTableName="CITY_Temp" constraintName="FK_CITY_Temp_PROVINCE" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="CountryCode,ProvinceCode" referencedTableName="PROVINCE"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="472">
        <addPrimaryKey columnNames="CountryCode, ProvinceCode, CityCode" constraintName="PK_CITY_Temp" tableName="CITY_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="473">
        <addPrimaryKey columnNames="AgencyName" constraintName="PK_AgencyDetails" tableName="AgencyDetails"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="474">
        <addPrimaryKey columnNames="AuditId, AuditDate, AuditSeq, AuditImage" constraintName="PK_AdtSecGroupRights" tableName="ADTSecGroupRights"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="475">
        <addPrimaryKey columnNames="CCGroupcode" constraintName="PK_ContactcodeGroups_Temp" tableName="ContactcodeGroups_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="476">
        <createIndex indexName="IX_Templates_Temp" tableName="Templates_Temp" unique="true">
            <column name="Code"/>
            <column name="LanguageCode"/>
            <column name="Type"/>
        </createIndex>
    </changeSet>
    <changeSet author="PCFAdmin" id="477">
        <addPrimaryKey columnNames="TemplateId" constraintName="PK_Templates_Temp" tableName="Templates_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="478">
        <addPrimaryKey columnNames="RBMModule, RBMEvent" constraintName="PK_BMTRBFldMaster" tableName="BMTRBFldMaster"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="479">
        <addPrimaryKey columnNames="Module" constraintName="PK_ReportList" tableName="ReportList"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="480">
        <createView fullDefinition="false" viewName="ReportList_AView">SELECT		Module, FieldLabels, FieldValues, FieldType, Addfields, ReportFileName, ReportHeading, ModuleType		
			, Version , LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, WorkflowId
FROM    	ReportList</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="481">
        <addPrimaryKey columnNames="LeaveID" constraintName="PK_Leaves" tableName="Leaves"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="482">
        <addPrimaryKey columnNames="AgencyName" constraintName="PK_AgencyDetails_Temp" tableName="AgencyDetails_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="483">
        <addPrimaryKey columnNames="CountryCode" constraintName="PK_COUNTRY_Temp" tableName="COUNTRY_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="484">
        <addPrimaryKey columnNames="ToleranceId" constraintName="PK_PTPTolerances_Temp" tableName="PTPTolerances_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="485">
        <addPrimaryKey columnNames="DeptCode" constraintName="PK_BMTDepartments_Temp" tableName="BMTDepartments_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="486">
        <addPrimaryKey columnNames="CcyCode" constraintName="idxRMTCurrencies_Temp_U_C" tableName="Currencies_Temp"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="487">
        <createView fullDefinition="false" viewName="RPT_DailyPDbySchdRetail_smry_PCF_View">select Distinct T1.FinType,T2.FinDivision,DivisionCodeDesc,COUNT(Distinct T1.FinReference) NoofAccounts,ccyeditfield,
                  sum(pastdueamt) Pastdueamt,
       ${add.schema}UDF_ConvertCurrency(SUM(TotalPriBal+TotalPftbal),T1.FinCcy,CustBaseCcy) TotalOutstanding,CollectorName
from PFFLIV..finpftdetails T1 INNER JOIN
     PFFLIV..RMTFinanceTypes T2 on T1.Fintype=T2.finType INNER JOIN
     PFFLIV..SMTDivisionDetail T3 on T3.DivisionCode=T2.FinDivision INNER JOIN
     PFFLIV..customers T7 on T7.custid=T1.custid INNER JOIN
     PFFLIV..RMTcurrencies T9 on T9.CcyCode=T1.FinCcy INNER JOIN
       (Select T1.FinReference , sum( ${add.schema}UDF_ConvertCurrency(COALESCE(T1.FinCurODAmt,0),currency,'BHD'))pastdueamt
	 from PFFLIV..Customers T3  Inner join
		  (Select productref,CustCIF CustCIF_1,producttype,currency from CollectionDataDetails) T2 on T3.CustCIF=T2.CustCIF_1 inner join
		  (Select finreference,FinODSchdDate,FinCurODDays,FinType FinanceType,FinCurODAmt from PFFLIV..FInODDetails
		  where FinCurODAmt!=0) T1 on T1.finreference=T2.productref inner join
		  PFFLIV..RMTFinanceTypes T4 on T1.FinanceType = T4.FinType
	 group by T1.FinReference) T8 on T8.FinReference=T1.FinReference INNER JOIN
     CollectionDataDetails T4 on T4.ProductRef=T1.FinReference INNER JOIN
      CollectionScreenDetails T5 ON T5.QueueId=T4.QueueId and T4.ProductRef=T5.RefNo INNER JOIN
      Collectors T6 ON T5.CollUserId=T6.CollectorId
    where findivision='RETAIL'
 Group By T1.FinType,T2.FinDivision,DivisionCodeDesc,T1.FinCcy,CustBaseCcy
 ,CollectorName,CcyEditField</createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="488">
        <addForeignKeyConstraint baseColumnNames="QueryModule" baseTableName="Queries_Temp" constraintName="FK_QueriesTemp_QueryModules" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="CASCADE" referencedColumnNames="QueryModuleCode" referencedTableName="QueryModules"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="489">
        <addForeignKeyConstraint baseColumnNames="JOB_EXECUTION_ID" baseTableName="BATCH_JOB_EXECUTION_CONTEXT" constraintName="JOB_EXEC_CTX_FK" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="JOB_EXECUTION_ID" referencedTableName="BATCH_JOB_EXECUTION"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="490">
        <addForeignKeyConstraint baseColumnNames="JOB_INSTANCE_ID" baseTableName="BATCH_JOB_EXECUTION" constraintName="JOB_INST_EXEC_FK" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="JOB_INSTANCE_ID" referencedTableName="BATCH_JOB_INSTANCE"/>
    </changeSet>
     <changeSet author="PCFAdmin" id="491">
        <createView fullDefinition="false" viewName="RPT_OverDueCustDtls_smry_1_View">Select t6.CustCIF,FinODSchdDate,producttype,ProductRef,CustCRCPR,FinCurODDays,t1.FinType,FinDivision ,
	 ${add.schema}UDF_ConvertCurrency(COALESCE(T3.FinCurODAmt,0),t1.FinCcy,'BHD') pastdueamt
	 from collectiondatadetails T6 With(Nolock) Inner join
      PFFLIV..Finpftdetails t1 With(Nolock) on T1.finreference=T6.productref inner join
	 PFFLIV..Customers t2 With(Nolock) on t1.CustId =t2.CustID inner join
	 PFFLIV..FInODDetails T3 With(Nolock) on T1.FinReference = T3.FinReference inner join
	 PFFLIV..Finscheduledetails T4 With(Nolock) on T4.FinReference = T3.FinReference and T4.SchDate=T3.FinODSchdDate inner join
	 PFFLIV..RMTFinanceTypes T5 With(Nolock) on T5.FinType =T1.FinType 
	 Where T3.FinCurODAmt!=0</createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="492">
        <createView fullDefinition="false" viewName="RPT_OverDueCustDtls_smry_2_View">Select T1.finreference,T1.FinType, ${add.schema}UDF_ConvertCurrency(COALESCE(T1.TotalPriBal,0),t1.FinCcy,'BHD') PrincipalAmount,
	 ${add.schema}UDF_ConvertCurrency(COALESCE(T1.TotalPftBal,0),t1.FinCcy,'BHD') ProfitAmount,
	 ${add.schema}UDF_ConvertCurrency(COALESCE(T1.PenaltyDue,0),t1.FinCcy,'BHD') OverduePenalty,
	 ${add.schema}UDF_ConvertCurrency(COALESCE((T1.TotalPriBal+T1.TotalPftBal+T1.PenaltyDue),0),Currency,'BHD') TotalOutstdPPP
	
	 from collectiondatadetails T6 With(Nolock) Inner join
      PFFLIV..Finpftdetails t1 With(Nolock) on T1.finreference=T6.productref</createView>
    </changeSet> 
  <changeSet author="PCFAdmin" id="493">
        <createView fullDefinition="false" viewName="RPT_OverDueCustomerDetails_View">Select t6.CustCIF, T6.CustName,T6.ProductRef,T3.FinODSchdDate,t1.FinCcy,custBaseccy,T9.CcyEditField CustBaseccyEditFld,
T1.FinType,T3.FinCurODDays,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T4.RepayAmount,0),t1.FinCcy,custBaseccy) Instamount,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T4.RepayAmount,0),t1.FinCcy,'USD') InstAmountUSD,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T3.FinCurODAmt,0),t1.FinCcy,custBaseccy) pastdueamt,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T3.FinCurODAmt,0),t1.FinCcy,'USD') pastdueamtUSD,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T1.TotalPriBal,0),t1.FinCcy,custBaseccy) PrincipalAmount,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T1.TotalPriBal,0),t1.FinCcy,'USD') PrincipalAmountUSD,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T1.TotalPftBal,0),t1.FinCcy,custBaseccy) ProfitAmount,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T1.TotalPftBal,0),t1.FinCcy,'USD') ProfitAmountUSD,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T1.PenaltyDue,0),t1.FinCcy,custBaseccy) OverduePenalty,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T1.PenaltyDue,0),t1.FinCcy,'USD') OverduePenaltyUSD,
 ${add.schema}UDF_ConvertCurrency(COALESCE((T1.TotalPriBal+T1.TotalPftBal+T1.PenaltyDue),0),Currency,custBaseccy) TotalOutstdPPP,
 ${add.schema}UDF_ConvertCurrency(COALESCE((T1.TotalPriBal+T1.TotalPftBal+T1.PenaltyDue),0),Currency,'USD') TotalOutstdPPPUSD,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T1.LastRepayAmt,0),Currency,custBaseccy) lastrcvdamt,
 ${add.schema}UDF_ConvertCurrency(COALESCE(T1.LastRepayAmt,0),Currency,'USD') lastrcvdamtUSD,
T1.latestrpydate,T2.CustCRCPR,T5.FinDivision,Producttype
from collectiondatadetails T6 With(Nolock) Inner join
          PFFLIV..Finpftdetails t1 With(Nolock) on T1.finreference=T6.productref inner join
	 PFFLIV..Customers t2 With(Nolock) on t1.CustId =t2.CustID inner join
	 PFFLIV..FInODDetails T3 With(Nolock) on T1.FinReference = T3.FinReference inner join
	 PFFLIV..Finscheduledetails T4 With(Nolock) on T4.FinReference = T3.FinReference and T4.SchDate=T3.FinODSchdDate inner join
	 PFFLIV..RMTFinanceTypes T5 With(Nolock) on T5.FinType =T1.FinType inner join
	 PFFLIV..RMTCurrencies T9 With(Nolock) on T2.custBaseccy = T9.CcyCode
	 Where T3.FinCurODAmt!=0</createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="494">
        <createView fullDefinition="false" viewName="RPT_PastDueSmry_View">
        <![CDATA[Select ProCtgType FinType,ProCtgTypeDesc FinTypeDesc,'<30' DPD,COUNT(*) NoofAccounts,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'USD'))OverDueAmt_USD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOustandingAmt_BHD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'USD'))TotOustandingAmt_USD
	from collectiondatadetails 
	where Status='Open' and OverdueDays<=30 GROUP BY ProCtgType,ProCtgTypeDesc
	UNION
	Select ProCtgType FinType,ProCtgTypeDesc FinTypeDesc,'31><60' DPD,COUNT(*) NoofAccounts,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'USD'))OverDueAmt_USD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOustandingAmt_BHD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'USD'))TotOustandingAmt_USD
	from collectiondatadetails 
	where Status='Open' and OverdueDays>31 and OverdueDays<=60 GROUP BY ProCtgType,ProCtgTypeDesc
	UNION
	Select ProCtgType FinType,ProCtgTypeDesc FinTypeDesc,'61><90' DPD,COUNT(*) NoofAccounts,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'USD'))OverDueAmt_USD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOustandingAmt_BHD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'USD'))TotOustandingAmt_USD
	from collectiondatadetails 
	where Status='Open' and OverdueDays>61 and OverdueDays<=90 GROUP BY ProCtgType,ProCtgTypeDesc
	UNION
	Select ProCtgType FinType,ProCtgTypeDesc FinTypeDesc,'90>' DPD,COUNT(*) NoofAccounts,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'BHD'))OverDueAmt_BHD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(OverDueAmt,0),Currency,'USD'))OverDueAmt_USD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'BHD'))TotOustandingAmt_BHD,
	SUM( ${add.schema}UDF_ConvertCurrency(COALESCE(TotOustandingAmt,0),Currency,'USD'))TotOustandingAmt_USD
	from collectiondatadetails 
	where Status='Open' and OverdueDays>90 GROUP BY ProCtgType,ProCtgTypeDesc]]></createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="495">
        <addForeignKeyConstraint baseColumnNames="CountryCode" baseTableName="CITY" constraintName="FK_CITY_COUNTRY" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="CountryCode" referencedTableName="COUNTRY"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="496">
        <addForeignKeyConstraint baseColumnNames="CountryCode,ProvinceCode" baseTableName="CITY" constraintName="FK_CITY_PROVINCE" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="CountryCode,ProvinceCode" referencedTableName="PROVINCE"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="497">
        <addForeignKeyConstraint baseColumnNames="QueryModule" baseTableName="Queries" constraintName="FK_Queries_QueryModules" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="CASCADE" referencedColumnNames="QueryModuleCode" referencedTableName="QueryModules"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="498">
        <addForeignKeyConstraint baseColumnNames="RBModule,RBEvent" baseTableName="BMTRBFldDetails" constraintName="FK_BMTRBFldDetls_BMTRBFldMstr" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="RBMModule,RBMEvent" referencedTableName="BMTRBFldMaster"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="499">
        <addForeignKeyConstraint baseColumnNames="STEP_EXECUTION_ID" baseTableName="BATCH_STEP_EXECUTION_CONTEXT" constraintName="STEP_EXEC_CTX_FK" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="STEP_EXECUTION_ID" referencedTableName="BATCH_STEP_EXECUTION"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="500">
        <createView fullDefinition="false" viewName="RPT_Card_Overdue_View">select CustName CustomerName,CardNumber ProductRef,Currency Currency,
${add.schema}UDF_ConvertCurrency(UnpaidAmount,Currency,'BHD') OverdueAmt,
${add.schema}UDF_ConvertCurrency(TotPenaltyAmount,Currency,'BHD') Penalty,
'' OverdueDate,'' OverdueDays from carddetail</createView>
    </changeSet>
  <changeSet author="PCFAdmin" id="501">
        <createView fullDefinition="false" viewName="RPT_DailyPastDuebyScheduleRetail_View">Select      T9.RepayAmount , T2.DueDate ,T5.FinDivision,DivisionCodeDesc,T1.FinBranch,BranchDesc,T1.FinReference,T1.FinType,T5.FinTypeDesc,T1.CustCIF,RTRIM(LTRIM(COALESCE(T3.CustFName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustMName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustLName,'')))CustFullName,T2.[NoofDays],T1.FinCcy,T3.CustID,
                  T2.TotalPriPastdue,T2.TotalProfitPastdue,T2.TotalPastdue,SUM(TotalPriBal)OutstandingPriAmt,SUM(TotalPftBal)OutstandingPftAmt,SUM(TotalPriBal+TotalPftBal)OutstandingAmt,CcyEditField,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'USD')ConExchgTotalPriPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'USD')ConExchgTotalProfitPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'USD')ConExchgTotalPastdue,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'USD')ConExchgRepayAmount,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'USD')ConExchgOutstandingPriAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingPftAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingAmt,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'BHD')ConExchgTotalPriPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'BHD')ConExchgTotalProfitPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'BHD')ConExchgTotalPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'BHD')ConExchgRepayAmount_BHD,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'BHD')ConExchgOutstandingPriAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingPftAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(latestRpypri+latestRpyPft),T1.FinCCY,CustBaseCcy) latestRpypri,latestrpydate
      FROM    PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  (SELECT  T1.FinReference,FinODSchdDate DueDate ,
                  FinCurODPri TotalPriPastdue,FinCurODPft TotalProfitPastdue,FinCurODPri+FinCurODPft TotalPastdue,FinCurODDays[NoofDays]
                  FROM PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  PFFLIV..FinODDetails T2  With(NoLock)   ON T1.FinReference = T2.FinReference WHERE FinCurODAmt > 0 )T2 ON T1.FinReference = T2.FinReference INNER JOIN
                  PFFLIV..Customers T3   With(NoLock)   ON T3.CustCIF =T1.CustCIF INNER JOIN
                  PFFLIV..RMTCurrencies T4 With(NoLock)  ON T4.CCYCode=T1.FinCcy INNER JOIN
                  PFFLIV..RMTFinanceTypes T5 With(NoLock) ON T5.FinType =T1.FinType Inner Join
                  PFFLIV..SMTDivisionDetail T7 With(NoLock) ON DivisionCode=FinDivision Inner Join
                  PFFLIV..RMTBranches T8 With(NoLock) ON BranchCode=T1.FinBranch INNER JOIN
              PFFLIV..FinscheduleDetails T9  With(NoLock) ON T2.FinReference = T9.FinReference AND T2.DueDate = T9.SchDate              
                 where divisioncode = 'RETAIL'
      Group BY T1.FinReference,T2.DueDate ,TotalPastdue,TotalPriPastdue,TotalProfitPastdue,T2.[NoofDays],FinBranch,BranchDesc,T5.FinDivision,DivisionCodeDesc,T1.FinType,T5.FinTypeDesc,T1.CustCIF,T3.CustFName,CustMName,CustLName,T1.FinCcy,CCYEditField, T9.RepayAmount,latestRpypri,latestrpydate,CustBaseCcy,T3.custid
Union all 
Select      T9.RepayAmount , T2.DueDate ,T5.FinDivision,DivisionCodeDesc,T1.FinBranch,BranchDesc,T1.FinReference,T1.FinType,T5.FinTypeDesc,T1.CustCIF,RTRIM(LTRIM(COALESCE(T3.CustFName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustMName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustLName,'')))CustFullName,T2.[NoofDays],T1.FinCcy,T3.CustID,
                  T2.TotalPriPastdue,T2.TotalProfitPastdue,T2.TotalPastdue,SUM(TotalPriBal)OutstandingPriAmt,SUM(TotalPftBal)OutstandingPftAmt,SUM(TotalPriBal+TotalPftBal)OutstandingAmt,CcyEditField,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'USD')ConExchgTotalPriPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'USD')ConExchgTotalProfitPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'USD')ConExchgTotalPastdue,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'USD')ConExchgRepayAmount,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'USD')ConExchgOutstandingPriAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingPftAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingAmt,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'BHD')ConExchgTotalPriPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'BHD')ConExchgTotalProfitPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'BHD')ConExchgTotalPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'BHD')ConExchgRepayAmount_BHD,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'BHD')ConExchgOutstandingPriAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingPftAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(latestRpypri+latestRpyPft),T1.FinCCY,CustBaseCcy) latestRpypri,latestrpydate
      FROM    PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  (SELECT  T1.FinReference,FinODSchdDate DueDate ,
                  FinCurODPri TotalPriPastdue,FinCurODPft TotalProfitPastdue,FinCurODPri+FinCurODPft TotalPastdue,FinCurODDays[NoofDays]
                  FROM PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  PFFLIV..FinODDetails T2  With(NoLock)   ON T1.FinReference = T2.FinReference WHERE FinCurODAmt > 0 )T2 ON T1.FinReference = T2.FinReference INNER JOIN
                  PFFLIV..Customers T3   With(NoLock)   ON T3.CustCIF =T1.CustCIF INNER JOIN
                  PFFLIV..RMTCurrencies T4 With(NoLock)  ON T4.CCYCode=T1.FinCcy INNER JOIN
                  PFFLIV..RMTFinanceTypes T5 With(NoLock) ON T5.FinType =T1.FinType Inner Join
                  PFFLIV..SMTDivisionDetail T7 With(NoLock) ON DivisionCode=FinDivision Inner Join
                  PFFLIV..RMTBranches T8 With(NoLock) ON BranchCode=T1.FinBranch INNER JOIN
              PFFLIV..FinscheduleDetails T9  With(NoLock) ON T2.FinReference = T9.FinReference AND T2.DueDate = T9.SchDate              
                 where divisioncode = 'RETAIL'
      Group BY T1.FinReference,T2.DueDate ,TotalPastdue,TotalPriPastdue,TotalProfitPastdue,T2.[NoofDays],FinBranch,BranchDesc,T5.FinDivision,DivisionCodeDesc,T1.FinType,T5.FinTypeDesc,T1.CustCIF,T3.CustFName,CustMName,CustLName,T1.FinCcy,CCYEditField, T9.RepayAmount,latestRpypri,latestrpydate,CustBaseCcy,T3.custid
union all
Select      T9.RepayAmount , T2.DueDate ,T5.FinDivision,DivisionCodeDesc,T1.FinBranch,BranchDesc,T1.FinReference,T1.FinType,T5.FinTypeDesc,T1.CustCIF,RTRIM(LTRIM(COALESCE(T3.CustFName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustMName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustLName,'')))CustFullName,T2.[NoofDays],T1.FinCcy,T3.CustID,
                  T2.TotalPriPastdue,T2.TotalProfitPastdue,T2.TotalPastdue,SUM(TotalPriBal)OutstandingPriAmt,SUM(TotalPftBal)OutstandingPftAmt,SUM(TotalPriBal+TotalPftBal)OutstandingAmt,CcyEditField,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'USD')ConExchgTotalPriPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'USD')ConExchgTotalProfitPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'USD')ConExchgTotalPastdue,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'USD')ConExchgRepayAmount,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'USD')ConExchgOutstandingPriAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingPftAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingAmt,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'BHD')ConExchgTotalPriPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'BHD')ConExchgTotalProfitPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'BHD')ConExchgTotalPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'BHD')ConExchgRepayAmount_BHD,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'BHD')ConExchgOutstandingPriAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingPftAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(latestRpypri+latestRpyPft),T1.FinCCY,CustBaseCcy) latestRpypri,latestrpydate
      FROM    PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  (SELECT  T1.FinReference,FinODSchdDate DueDate ,
                  FinCurODPri TotalPriPastdue,FinCurODPft TotalProfitPastdue,FinCurODPri+FinCurODPft TotalPastdue,FinCurODDays[NoofDays]
                  FROM PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  PFFLIV..FinODDetails T2  With(NoLock)   ON T1.FinReference = T2.FinReference WHERE FinCurODAmt > 0 )T2 ON T1.FinReference = T2.FinReference INNER JOIN
                  PFFLIV..Customers T3   With(NoLock)   ON T3.CustCIF =T1.CustCIF INNER JOIN
                  PFFLIV..RMTCurrencies T4 With(NoLock)  ON T4.CCYCode=T1.FinCcy INNER JOIN
                  PFFLIV..RMTFinanceTypes T5 With(NoLock) ON T5.FinType =T1.FinType Inner Join
                  PFFLIV..SMTDivisionDetail T7 With(NoLock) ON DivisionCode=FinDivision Inner Join
                  PFFLIV..RMTBranches T8 With(NoLock) ON BranchCode=T1.FinBranch INNER JOIN
              PFFLIV..FinscheduleDetails T9  With(NoLock) ON T2.FinReference = T9.FinReference AND T2.DueDate = T9.SchDate              
                 where divisioncode = 'RETAIL'
      Group BY T1.FinReference,T2.DueDate ,TotalPastdue,TotalPriPastdue,TotalProfitPastdue,T2.[NoofDays],FinBranch,BranchDesc,T5.FinDivision,DivisionCodeDesc,T1.FinType,T5.FinTypeDesc,T1.CustCIF,T3.CustFName,CustMName,CustLName,T1.FinCcy,CCYEditField, T9.RepayAmount,latestRpypri,latestrpydate,CustBaseCcy,T3.custid
union all
Select      T9.RepayAmount , T2.DueDate ,T5.FinDivision,DivisionCodeDesc,T1.FinBranch,BranchDesc,T1.FinReference,T1.FinType,T5.FinTypeDesc,T1.CustCIF,RTRIM(LTRIM(COALESCE(T3.CustFName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustMName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustLName,'')))CustFullName,T2.[NoofDays],T1.FinCcy,T3.CustID,
                  T2.TotalPriPastdue,T2.TotalProfitPastdue,T2.TotalPastdue,SUM(TotalPriBal)OutstandingPriAmt,SUM(TotalPftBal)OutstandingPftAmt,SUM(TotalPriBal+TotalPftBal)OutstandingAmt,CcyEditField,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'USD')ConExchgTotalPriPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'USD')ConExchgTotalProfitPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'USD')ConExchgTotalPastdue,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'USD')ConExchgRepayAmount,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'USD')ConExchgOutstandingPriAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingPftAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingAmt,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'BHD')ConExchgTotalPriPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'BHD')ConExchgTotalProfitPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'BHD')ConExchgTotalPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'BHD')ConExchgRepayAmount_BHD,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'BHD')ConExchgOutstandingPriAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingPftAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(latestRpypri+latestRpyPft),T1.FinCCY,CustBaseCcy) latestRpypri,latestrpydate
      FROM    PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  (SELECT  T1.FinReference,FinODSchdDate DueDate ,
                  FinCurODPri TotalPriPastdue,FinCurODPft TotalProfitPastdue,FinCurODPri+FinCurODPft TotalPastdue,FinCurODDays[NoofDays]
                  FROM PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  PFFLIV..FinODDetails T2  With(NoLock)   ON T1.FinReference = T2.FinReference WHERE FinCurODAmt > 0 )T2 ON T1.FinReference = T2.FinReference INNER JOIN
                  PFFLIV..Customers T3   With(NoLock)   ON T3.CustCIF =T1.CustCIF INNER JOIN
                  PFFLIV..RMTCurrencies T4 With(NoLock)  ON T4.CCYCode=T1.FinCcy INNER JOIN
                  PFFLIV..RMTFinanceTypes T5 With(NoLock) ON T5.FinType =T1.FinType Inner Join
                  PFFLIV..SMTDivisionDetail T7 With(NoLock) ON DivisionCode=FinDivision Inner Join
                  PFFLIV..RMTBranches T8 With(NoLock) ON BranchCode=T1.FinBranch INNER JOIN
              PFFLIV..FinscheduleDetails T9  With(NoLock) ON T2.FinReference = T9.FinReference AND T2.DueDate = T9.SchDate              
                 where divisioncode = 'RETAIL'
      Group BY T1.FinReference,T2.DueDate ,TotalPastdue,TotalPriPastdue,TotalProfitPastdue,T2.[NoofDays],FinBranch,BranchDesc,T5.FinDivision,DivisionCodeDesc,T1.FinType,T5.FinTypeDesc,T1.CustCIF,T3.CustFName,CustMName,CustLName,T1.FinCcy,CCYEditField, T9.RepayAmount,latestRpypri,latestrpydate,CustBaseCcy,T3.custid
union all
Select      T9.RepayAmount , T2.DueDate ,T5.FinDivision,DivisionCodeDesc,T1.FinBranch,BranchDesc,T1.FinReference,T1.FinType,T5.FinTypeDesc,T1.CustCIF,RTRIM(LTRIM(COALESCE(T3.CustFName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustMName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustLName,'')))CustFullName,T2.[NoofDays],T1.FinCcy,T3.CustID,
                  T2.TotalPriPastdue,T2.TotalProfitPastdue,T2.TotalPastdue,SUM(TotalPriBal)OutstandingPriAmt,SUM(TotalPftBal)OutstandingPftAmt,SUM(TotalPriBal+TotalPftBal)OutstandingAmt,CcyEditField,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'USD')ConExchgTotalPriPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'USD')ConExchgTotalProfitPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'USD')ConExchgTotalPastdue,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'USD')ConExchgRepayAmount,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'USD')ConExchgOutstandingPriAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingPftAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingAmt,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'BHD')ConExchgTotalPriPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'BHD')ConExchgTotalProfitPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'BHD')ConExchgTotalPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'BHD')ConExchgRepayAmount_BHD,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'BHD')ConExchgOutstandingPriAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingPftAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(latestRpypri+latestRpyPft),T1.FinCCY,CustBaseCcy) latestRpypri,latestrpydate
      FROM    PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  (SELECT  T1.FinReference,FinODSchdDate DueDate ,
                  FinCurODPri TotalPriPastdue,FinCurODPft TotalProfitPastdue,FinCurODPri+FinCurODPft TotalPastdue,FinCurODDays[NoofDays]
                  FROM PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  PFFLIV..FinODDetails T2  With(NoLock)   ON T1.FinReference = T2.FinReference WHERE FinCurODAmt > 0 )T2 ON T1.FinReference = T2.FinReference INNER JOIN
                  PFFLIV..Customers T3   With(NoLock)   ON T3.CustCIF =T1.CustCIF INNER JOIN
                  PFFLIV..RMTCurrencies T4 With(NoLock)  ON T4.CCYCode=T1.FinCcy INNER JOIN
                  PFFLIV..RMTFinanceTypes T5 With(NoLock) ON T5.FinType =T1.FinType Inner Join
                  PFFLIV..SMTDivisionDetail T7 With(NoLock) ON DivisionCode=FinDivision Inner Join
                  PFFLIV..RMTBranches T8 With(NoLock) ON BranchCode=T1.FinBranch INNER JOIN
              PFFLIV..FinscheduleDetails T9  With(NoLock) ON T2.FinReference = T9.FinReference AND T2.DueDate = T9.SchDate              
                 where divisioncode = 'RETAIL'
      Group BY T1.FinReference,T2.DueDate ,TotalPastdue,TotalPriPastdue,TotalProfitPastdue,T2.[NoofDays],FinBranch,BranchDesc,T5.FinDivision,DivisionCodeDesc,T1.FinType,T5.FinTypeDesc,T1.CustCIF,T3.CustFName,CustMName,CustLName,T1.FinCcy,CCYEditField, T9.RepayAmount,latestRpypri,latestrpydate,CustBaseCcy,T3.custid
union all
Select      T9.RepayAmount , T2.DueDate ,T5.FinDivision,DivisionCodeDesc,T1.FinBranch,BranchDesc,T1.FinReference,T1.FinType,T5.FinTypeDesc,T1.CustCIF,RTRIM(LTRIM(COALESCE(T3.CustFName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustMName,'')))+' '+RTRIM(LTRIM(COALESCE(T3.CustLName,'')))CustFullName,T2.[NoofDays],T1.FinCcy,T3.CustID,
                  T2.TotalPriPastdue,T2.TotalProfitPastdue,T2.TotalPastdue,SUM(TotalPriBal)OutstandingPriAmt,SUM(TotalPftBal)OutstandingPftAmt,SUM(TotalPriBal+TotalPftBal)OutstandingAmt,CcyEditField,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'USD')ConExchgTotalPriPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'USD')ConExchgTotalProfitPastdue,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'USD')ConExchgTotalPastdue,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'USD')ConExchgRepayAmount,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'USD')ConExchgOutstandingPriAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingPftAmt,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'USD')ConExchgOutstandingAmt,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPriPastdue,T1.FinCCY,'BHD')ConExchgTotalPriPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalProfitPastdue,T1.FinCCY,'BHD')ConExchgTotalProfitPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T2.TotalPastdue,T1.FinCCY,'BHD')ConExchgTotalPastdue_BHD,
                          ${add.schema}UDF_ConvertCurrency(T9.RepayAmount,T1.FinCCY,'BHD')ConExchgRepayAmount_BHD,           
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal),T1.FinCCY,'BHD')ConExchgOutstandingPriAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingPftAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(TotalPriBal+TotalPftBal),T1.FinCCY,'BHD')ConExchgOutstandingAmt_BHD,
                          ${add.schema}UDF_ConvertCurrency(Sum(latestRpypri+latestRpyPft),T1.FinCCY,CustBaseCcy) latestRpypri,latestrpydate
      FROM    PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  (SELECT  T1.FinReference,FinODSchdDate DueDate ,
                  FinCurODPri TotalPriPastdue,FinCurODPft TotalProfitPastdue,FinCurODPri+FinCurODPft TotalPastdue,FinCurODDays[NoofDays]
                  FROM PFFLIV..FinPftDetails T1  With(NoLock)  INNER JOIN
                  PFFLIV..FinODDetails T2  With(NoLock)   ON T1.FinReference = T2.FinReference WHERE FinCurODAmt > 0 )T2 ON T1.FinReference = T2.FinReference INNER JOIN
                  PFFLIV..Customers T3   With(NoLock)   ON T3.CustCIF =T1.CustCIF INNER JOIN
                  PFFLIV..RMTCurrencies T4 With(NoLock)  ON T4.CCYCode=T1.FinCcy INNER JOIN
                  PFFLIV..RMTFinanceTypes T5 With(NoLock) ON T5.FinType =T1.FinType Inner Join
                  PFFLIV..SMTDivisionDetail T7 With(NoLock) ON DivisionCode=FinDivision Inner Join
                  PFFLIV..RMTBranches T8 With(NoLock) ON BranchCode=T1.FinBranch INNER JOIN
              PFFLIV..FinscheduleDetails T9  With(NoLock) ON T2.FinReference = T9.FinReference AND T2.DueDate = T9.SchDate              
                 where divisioncode = 'RETAIL'
      Group BY T1.FinReference,T2.DueDate ,TotalPastdue,TotalPriPastdue,TotalProfitPastdue,T2.[NoofDays],FinBranch,BranchDesc,T5.FinDivision,DivisionCodeDesc,T1.FinType,T5.FinTypeDesc,T1.CustCIF,T3.CustFName,CustMName,CustLName,T1.FinCcy,CCYEditField, T9.RepayAmount,latestRpypri,latestrpydate,CustBaseCcy,T3.custid</createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="502">
        <addForeignKeyConstraint baseColumnNames="QBModule" baseTableName="QBFieldDetails" constraintName="FK_QBFieldDetails_QueryModules" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="CASCADE" referencedColumnNames="QueryModuleCode" referencedTableName="QueryModules"/>
    </changeSet>
    <changeSet author="PCFAdmin" id="503">
        <addForeignKeyConstraint baseColumnNames="TemplateId" baseTableName="Templates" constraintName="FK_Templates_Templates" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="TemplateId" referencedTableName="Templates"/>
    </changeSet>
     <changeSet author="PCFAdmin" id="504">
        <createView fullDefinition="false" viewName="CardInsurance_AView">SELECT
	T1.CardNumber, T1.FinAmount, T1.InstallmentAmount, T1.NoofInstllment, T1.ExtractionDate
FROM
	CardInsurance T1</createView>
    </changeSet> 
     <changeSet author="PCFAdmin" id="505">
        <createView fullDefinition="false" viewName="CardInsurance_View">SELECT
	T1.CardNumber, T1.FinAmount, T1.InstallmentAmount, T1.NoofInstllment, T1.ExtractionDate
FROM
	${add.schema}CardInsurance_Temp AS T1
UNION ALL
SELECT
	T1.CardNumber, T1.FinAmount, T1.InstallmentAmount, T1.NoofInstllment, T1.ExtractionDate
FROM 
	${add.schema}CardInsurance AS T1
WHERE NOT EXISTS
	(SELECT 1
		FROM CardInsurance_Temp
		WHERE CardNumber = T1.CardNumber)</createView>
    </changeSet> 
     <changeSet author="PCFAdmin" id="506">
        <createView fullDefinition="false" viewName="DashboardRepayDetails_View">SELECT     FinReference AS RefNo, 'AED' AS Currency, FinSchdDate AS paymentDate, FinRpyAmount AS paidAmount
FROM         AIBPFF.${add.schema}FinRepayDetails AS T1</createView>
    </changeSet> 
   <changeSet author="PCFAdmin" id="507">
        <createView fullDefinition="false" viewName="Departments_AView">SELECT     DeptCode, DeptDesc, DeptIsActive, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, 
                      WorkflowId
FROM         ${add.schema}Departments</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="508">
        <createView fullDefinition="false" viewName="Departments_View">SELECT     DeptCode, DeptDesc, DeptIsActive, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, 
                      WorkflowId
FROM         ${add.schema}Departments_Temp
UNION ALL
SELECT     DeptCode, DeptDesc, DeptIsActive, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, 
                      WorkflowId
FROM         ${add.schema}Departments
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Departments_TEMP
                            WHERE      DeptCode = Departments.DeptCode)</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="509" dbms="mssql">
        <createView fullDefinition="false" viewName="FinanceDataDetails_view">SELECT     T1.FinReference, T1.FinType, T1.FinCcy, T1.FinStartDate, T1.FinAmount, COALESCE(T1.lovDescFinFormatter, 0) AS lovDescFinFormatter, T1.lovDescFinTypeName, 
                      T1.MaturityDate, T1.DisbAccountId, T1.RepayAccountId, COALESCE(T1.NumberOfTerms, 0) AS NumberOfTerms, T1.NextRepayDate, T1.LastRepayDate, T1.DownPayment, 
                      T2.TotalPftSchd, T2.TotalPftBal, ISNULL
                          ((SELECT     TOP (1) PhoneNumber
                              FROM         AIBPFF.${add.schema}CustomerPhoneNumbers AS T3
                              WHERE     (T1.CustID = PhoneCustID)), N'+9711223456789') AS PhoneNumber, ISNULL
                          ((SELECT     TOP (1) CustEmpName
                              FROM         AIBPFF.${add.schema}CustomerEmpDetails AS T4
                              WHERE     (T1.CustID = CustID)), 2) AS CustEmpName, ISNULL
                          ((SELECT     TOP (1) CustShrtName AS lovDescCustName
                              FROM         AIBPFF.${add.schema}Customers AS T6
                              WHERE     (T1.CustID = CustID)), N'Customer Name') AS lovDescCustName, ISNULL
                          ((SELECT     TOP (1) CustDOB
                              FROM         AIBPFF.${add.schema}Customers AS T6
                              WHERE     (T1.CustID = CustID)), N'1990-01-01') AS CustDOB, ISNULL
                          ((SELECT     TOP (1) CustEMail
                              FROM         AIBPFF.${add.schema}CustomerEMails AS T7
                              WHERE     (T1.CustID = CustID) AND (CustEMailPriority = 1)), N'pesonal@email.com') AS PersonalEMail, ISNULL
                          ((SELECT     TOP (1) CustEMail
                              FROM         AIBPFF.${add.schema}CustomerEMails AS T8
                              WHERE     (T1.CustID = CustID) AND (CustEMailPriority = 2)), N'office@email.com') AS OfficeEMail, ISNULL
                          ((SELECT     TOP (1) CustAddrHNbr
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'House Number 99') AS CustAddrHNbr, ISNULL
                          ((SELECT     TOP (1) lovDescCustAddrCityName
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'Dubai') AS lovDescCustAddrCityName, ISNULL
                          ((SELECT     TOP (1) lovDescCustAddrProvinceName
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'Dubai') AS lovDescCustAddrProvinceName, ISNULL
                          ((SELECT     TOP (1) lovDescCustAddrCountryName
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'UAE') AS lovDescCustAddrCountryName
FROM         AIBPFF.${add.schema}FinanceMain_View AS T1 LEFT OUTER JOIN
                      AIBPFF.${add.schema}FinPftDetails AS T2 ON T1.FinReference = T2.FinReference</createView>
    </changeSet> 
    <changeSet author="PCFAdmin" id="509" dbms="oracle">
        <createView fullDefinition="false" viewName="FinanceDataDetails_view">SELECT     T1.FinReference, T1.FinType, T1.FinCcy, T1.FinStartDate, T1.FinAmount, COALESCE(T1.lovDescFinFormatter, 0) AS lovDescFinFormatter, T1.lovDescFinTypeName, 
                      T1.MaturityDate, T1.DisbAccountId, T1.RepayAccountId, COALESCE(T1.NumberOfTerms, 0) AS NumberOfTerms, T1.NextRepayDate, T1.LastRepayDate, T1.DownPayment, 
                      T2.TotalPftSchd, T2.TotalPftBal, ISNULL
                          ((SELECT     TOP (1) PhoneNumber
                              FROM         AIBPFF.${add.schema}CustomerPhoneNumbers AS T3
                              WHERE     (T1.CustID = PhoneCustID)), N'+9711223456789') AS PhoneNumber, ISNULL
                          ((SELECT     TOP (1) CustEmpName
                              FROM         AIBPFF.${add.schema}CustomerEmpDetails AS T4
                              WHERE     (T1.CustID = CustID)), 2) AS CustEmpName, ISNULL
                          ((SELECT     TOP (1) CustShrtName AS lovDescCustName
                              FROM         AIBPFF.${add.schema}Customers AS T6
                              WHERE     (T1.CustID = CustID)), N'Customer Name') AS lovDescCustName, ISNULL
                          ((SELECT     TOP (1) CustDOB
                              FROM         AIBPFF.${add.schema}Customers AS T6
                              WHERE     (T1.CustID = CustID)), N'1990-01-01') AS CustDOB, ISNULL
                          ((SELECT     TOP (1) CustEMail
                              FROM         AIBPFF.${add.schema}CustomerEMails AS T7
                              WHERE     (T1.CustID = CustID) AND (CustEMailPriority = 1)), N'pesonal@email.com') AS PersonalEMail, ISNULL
                          ((SELECT     TOP (1) CustEMail
                              FROM         AIBPFF.${add.schema}CustomerEMails AS T8
                              WHERE     (T1.CustID = CustID) AND (CustEMailPriority = 2)), N'office@email.com') AS OfficeEMail, ISNULL
                          ((SELECT     TOP (1) CustAddrHNbr
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'House Number 99') AS CustAddrHNbr, ISNULL
                          ((SELECT     TOP (1) lovDescCustAddrCityName
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'Dubai') AS lovDescCustAddrCityName, ISNULL
                          ((SELECT     TOP (1) lovDescCustAddrProvinceName
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'Dubai') AS lovDescCustAddrProvinceName, ISNULL
                          ((SELECT     TOP (1) lovDescCustAddrCountryName
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'UAE') AS lovDescCustAddrCountryName
FROM         AIBPFF.${add.schema}FinanceMain_View AS T1 LEFT OUTER JOIN
                      AIBPFF.${add.schema}FinPftDetails AS T2 ON T1.FinReference = T2.FinReference</createView>
    </changeSet> 
    <!-- <changeSet author="PCFAdmin" id="509" dbms="postgresql">
        <createView fullDefinition="false" viewName="FinanceDataDetails_view">SELECT     T1.FinReference, T1.FinType, T1.FinCcy, T1.FinStartDate, T1.FinAmount, COALESCE(T1.lovDescFinFormatter, 0) AS lovDescFinFormatter, T1.lovDescFinTypeName, 
                      T1.MaturityDate, T1.DisbAccountId, T1.RepayAccountId, COALESCE(T1.NumberOfTerms, 0) AS NumberOfTerms, T1.NextRepayDate, T1.LastRepayDate, T1.DownPayment, 
                      T2.TotalPftSchd, T2.TotalPftBal, ISNULL
                          ((SELECT     PhoneNumber
                              FROM         AIBPFF.${add.schema}CustomerPhoneNumbers AS T3
                              WHERE     (T1.CustID = PhoneCustID)), N'+9711223456789' LIMIT 1) AS PhoneNumber, ISNULL
                          ((SELECT      CustEmpName
                              FROM         AIBPFF.${add.schema}CustomerEmpDetails AS T4
                              WHERE     (T1.CustID = CustID)), 2 LIMIT 1) AS CustEmpName, coalesce
                          ((SELECT      CustShrtName AS lovDescCustName
                              FROM         AIBPFF.${add.schema}Customers AS T6
                              WHERE     (T1.CustID = CustID)), N'Customer Name' LIMIT 1) AS lovDescCustName, ISNULL
                          ((SELECT     CustDOB
                              FROM         AIBPFF.${add.schema}Customers AS T6
                              WHERE     (T1.CustID = CustID)), N'1990-01-01' LIMIT 1) AS CustDOB, ISNULL
                          ((SELECT      CustEMail
                              FROM         AIBPFF.${add.schema}CustomerEMails AS T7
                              WHERE     (T1.CustID = CustID) AND (CustEMailPriority = 1)), N'pesonal@email.com' LIMIT 1) AS PersonalEMail, ISNULL
                          ((SELECT    CustEMail
                              FROM         AIBPFF.${add.schema}CustomerEMails AS T8
                              WHERE     (T1.CustID = CustID) AND (CustEMailPriority = 2)), N'office@email.com' LIMIT 1) AS OfficeEMail, ISNULL
                          ((SELECT     CustAddrHNbr
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'House Number 99' LIMIT 1) AS CustAddrHNbr, ISNULL
                          ((SELECT    lovDescCustAddrCityName
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'Dubai' LIMIT 1) AS lovDescCustAddrCityName, ISNULL
                          ((SELECT   lovDescCustAddrProvinceName
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'Dubai' LIMIT 1) AS lovDescCustAddrProvinceName, ISNULL
                          ((SELECT  lovDescCustAddrCountryName
                              FROM         AIBPFF.${add.schema}CustomerAddresses_AView AS T5
                              WHERE     (T1.CustID = CustID)), N'UAE' LIMIT 1) AS lovDescCustAddrCountryName
FROM         AIBPFF.${add.schema}FinanceMain_View AS T1 LEFT OUTER JOIN
                      AIBPFF.${add.schema}FinPftDetails AS T2 ON T1.FinReference = T2.FinReference</createView>
    </changeSet> --> 
    <changeSet author="PCFAdmin" id="510">
        <createView fullDefinition="false" viewName="Sectors_AView">SELECT     SectorCode, SectorDesc, Active, Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode, TaskId, NextTaskId, RecordType, 
                      WorkflowId
FROM         ${add.schema}Sectors AS T1</createView>
    </changeSet>
    <changeSet author="PCFAdmin" id="511">
        <createView fullDefinition="false" viewName="Sectors_View">SELECT     T1.SectorCode, T1.SectorDesc, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         Sectors_TEMP AS T1
UNION ALL
SELECT     T1.SectorCode, T1.SectorDesc, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, 
                      T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM         Sectors AS T1
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          Sectors_TEMP
                            WHERE      SectorCode = T1.SectorCode)</createView>
    </changeSet>
</databaseChangeLog>
