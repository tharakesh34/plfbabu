<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	
<changeSet id="1" author="Madhubabu">
		<addColumn tableName="ADTFintypeinsurances">
			<column name="PolicyType" type="nvarchar(8)" />
		</addColumn>
	</changeSet>	
	<changeSet id="2" author="Prasad">
		<dropColumn columnName="finAlwIndRate" tableName="AdtRMTFinanceTypes" />
	</changeSet>
<changeSet id="3" author="Prasad">
		<dropColumn columnName="finIndBaseRate" tableName="AdtRMTFinanceTypes" />
	</changeSet>
	<changeSet id="4" author="Prasad">
		<dropColumn columnName="finGrcAlwIndRate" tableName="AdtRMTFinanceTypes" />
	</changeSet>
		<changeSet id="5" author="Prasad">
		<dropColumn columnName="finGrcIndBaseRate" tableName="AdtRMTFinanceTypes" />
	</changeSet>
	<changeSet id="6" author="Prasad">
		<dropColumn columnName="AlwIndRate" tableName="AdtFinanceMain" />
</changeSet>
<changeSet id="7" author="Prasad">
		<dropColumn columnName="CbbApprovalRequired" tableName="AdtFinanceMain" />
</changeSet>
<changeSet id="8" author="Prasad">
		<dropColumn columnName="CbbApproved" tableName="AdtFinanceMain" />
</changeSet>
<changeSet id="9" author="Prasad">
		<dropColumn columnName="CustomerAcceptance" tableName="AdtFinanceMain" />
</changeSet>
<changeSet id="10" author="Prasad">
		<dropColumn columnName="GrcAlwIndRate" tableName="AdtFinanceMain" />
</changeSet>
<changeSet id="11" author="Prasad">
		<dropColumn columnName="GrcIndBaseRate" tableName="AdtFinanceMain" />
</changeSet>
<changeSet id="12" author="Prasad">
		<dropColumn columnName="IndBaseRate" tableName="AdtFinanceMain" />
</changeSet>
<changeSet id="13" author="Madhubabu">
	<addColumn tableName="ADTfintypeinsurances">
		<column name="AlwRateChange" type="boolean" />
	</addColumn>
</changeSet>
<changeSet id="14" author="Pruthvi">
<dropTable tableName="COLLATERAL_TYPES" />
<dropTable tableName="COLLATERAL_TYPES_TEMP" />
</changeSet>
<changeSet id="15" author="Pruthvi" dbms="mssql">
<dropTable tableName="Collateral_NATBONDS_ED" />
<dropTable tableName="SeqCOLLATERAL_DETAILS" />
<dropTable tableName="sysdiagrams" />
<dropTable tableName="CollateralDetail_Temp" />
</changeSet>

<changeSet id="16" author="Irfan">
<addColumn tableName="AdtRMTFinanceTypes">
<column name="QuickDisb" type="nchar(1)"/>
</addColumn>
<addDefaultValue tableName="AdtRMTFinanceTypes" defaultValue="0" columnName="QuickDisb" columnDataType="nchar"/>
</changeSet>
<changeSet author="Irfan" id="17">
	<update tableName="AdtRMTFinanceTypes">
		<column name="QuickDisb">0</column>
		<where>QuickDisb is NULL</where>
	</update>
</changeSet> 
<changeSet id="18.1" author="Prasad" dbms="mssql">
		<createView viewName="ADTFINANCEMAIN_VIEW" replaceIfExists="true">
		SELECT TH.AuditId ,
          TH.AuditDate AuditDateTime  ,
          CONVERT(varchar(20), TH.AuditDate, 106)  AuditDate, 
          CONVERT(varchar(35), TH.AuditDate, 108)  AuditTime, 
          ISNULL(AFT.AuditSeq, BEF.AuditSeq) AuditSeq, 
          TH.AuditUsrId, 
          dbo.FN_CustomerName(T1.UsrFName, T1.UsrMName, T1.UsrLName)  AuditUserName,
          dbo.FN_TranType(TH.AuditTranType) AuditTranType,
          Aft.FinReference AftFinReference  ,
          Aft.FinBranch AftFinBranch  ,
          Aft.FinSourceID AftFinSourceID  ,
          Aft.NumberOfTerms AftNumberOfTerms  ,
          Aft.GrcPeriodEndDate AftGrcPeriodEndDate  ,
          Aft.AllowGrcPeriod AftAllowGrcPeriod  ,
          Aft.GraceBaseRate AftGraceBaseRate  ,
          Aft.GraceSpecialRate AftGraceSpecialRate  ,
          Aft.GrcMargin AftGrcMargin  ,
          Aft.GrcPftRate AftGrcPftRate  ,
          Aft.GrcPftFrq AftGrcPftFrq  ,
          Aft.NextGrcPftDate AftNextGrcPftDate  ,
          Aft.AllowGrcPftRvw AftAllowGrcPftRvw  ,
          Aft.AllowGrcCpz AftAllowGrcCpz  ,
          Aft.GrcCpzFrq AftGrcCpzFrq  ,
          Aft.NextGrcCpzDate AftNextGrcCpzDate  ,
          Aft.AllowGrcRepay AftAllowGrcRepay  ,
          Aft.GrcSchdMthd AftGrcSchdMthd  ,
          Aft.RepayBaseRate AftRepayBaseRate  ,
          Aft.RepaySpecialRate AftRepaySpecialRate  ,
          Aft.RepayMargin AftRepayMargin  ,
          Aft.RepayProfitRate AftRepayProfitRate  ,
          Aft.FinRepayPftOnFrq AftFinRepayPftOnFrq  ,
          Aft.RepayFrq AftRepayFrq  ,
          Aft.NextRepayDate AftNextRepayDate  ,
          Aft.RepayPftFrq AftRepayPftFrq  ,
          Aft.NextRepayPftDate AftNextRepayPftDate  ,
          Aft.AllowRepayRvw AftAllowRepayRvw  ,
          Aft.RepayRvwFrq AftRepayRvwFrq  ,
          Aft.NextRepayRvwDate AftNextRepayRvwDate  ,
          Aft.AllowRepayCpz AftAllowRepayCpz  ,
          Aft.RepayCpzFrq AftRepayCpzFrq  ,
          Aft.NextRepayCpzDate AftNextRepayCpzDate  ,
          Aft.MaturityDate AftMaturityDate  ,
          Aft.CpzAtGraceEnd AftCpzAtGraceEnd  ,
          Aft.DownPayment AftDownPayment  ,
          Aft.GraceFlatAmount AftGraceFlatAmount  ,
          Aft.ReqRepayAmount AftReqRepayAmount  ,
          Aft.TotalProfit AftTotalProfit  ,
          Aft.TotalCpz AftTotalCpz  ,
          Aft.TotalGrossPft AftTotalGrossPft  ,
          Aft.TotalGrossGrcPft AftTotalGrossGrcPft  ,
          Aft.RecalType AftRecalType  ,
          Aft.GrcPftRvwFrq AftGrcPftRvwFrq  ,
          Aft.NextGrcPftRvwDate AftNextGrcPftRvwDate  ,
          Bef.FinReference BefFinReference  ,
          Bef.FinBranch BefFinBranch  ,
          Bef.FinSourceID BefFinSourceID  ,
          Bef.NumberOfTerms BefNumberOfTerms  ,
          Bef.GrcPeriodEndDate BefGrcPeriodEndDate  ,
          Bef.AllowGrcPeriod BefAllowGrcPeriod  ,
          Bef.GraceBaseRate BefGraceBaseRate  ,
          Bef.GraceSpecialRate BefGraceSpecialRate  ,
          Bef.GrcMargin BefGrcMargin  ,
          Bef.GrcPftRate BefGrcPftRate  ,
          Bef.GrcPftFrq BefGrcPftFrq  ,
          Bef.NextGrcPftDate BefNextGrcPftDate  ,
          Bef.AllowGrcPftRvw BefAllowGrcPftRvw  ,
          Bef.AllowGrcCpz BefAllowGrcCpz  ,
          Bef.GrcCpzFrq BefGrcCpzFrq  ,
          Bef.NextGrcCpzDate BefNextGrcCpzDate  ,
          Bef.AllowGrcRepay BefAllowGrcRepay  ,
          Bef.GrcSchdMthd BefGrcSchdMthd  ,
          Bef.RepayBaseRate BefRepayBaseRate  ,
          Bef.RepaySpecialRate BefRepaySpecialRate  ,
          Bef.RepayMargin BefRepayMargin  ,
          Bef.RepayProfitRate BefRepayProfitRate  ,
          Bef.FinRepayPftOnFrq BefFinRepayPftOnFrq  ,
          Bef.RepayFrq BefRepayFrq  ,
          Bef.NextRepayDate BefNextRepayDate  ,
          Bef.RepayPftFrq BefRepayPftFrq  ,
          Bef.NextRepayPftDate BefNextRepayPftDate  ,
          Bef.AllowRepayRvw BefAllowRepayRvw  ,
          Bef.RepayRvwFrq BefRepayRvwFrq  ,
          Bef.NextRepayRvwDate BefNextRepayRvwDate  ,
          Bef.AllowRepayCpz BefAllowRepayCpz  ,
          Bef.RepayCpzFrq BefRepayCpzFrq  ,
          Bef.NextRepayCpzDate BefNextRepayCpzDate  ,
          Bef.MaturityDate BefMaturityDate  ,
          Bef.CpzAtGraceEnd BefCpzAtGraceEnd  ,
          Bef.DownPayment BefDownPayment  ,
          Bef.GraceFlatAmount BefGraceFlatAmount  ,
          Bef.ReqRepayAmount BefReqRepayAmount  ,
          Bef.TotalProfit BefTotalProfit  ,
          Bef.TotalCpz BefTotalCpz  ,
          Bef.TotalGrossPft BefTotalGrossPft  ,
          Bef.TotalGrossGrcPft BefTotalGrossGrcPft  ,
          Bef.RecalType BefRecalType  ,
          Bef.GrcPftRvwFrq BefGrcPftRvwFrq  ,
          Bef.NextGrcPftRvwDate BefNextGrcPftRvwDate  
     FROM AuditHeader TH
            JOIN SecUsers_View T1
             ON TH.AuditUsrId = T1.UsrID
            LEFT JOIN AdtFinanceMain AFT
             ON TH.AuditId = AFT.AuditId
            AND TH.AuditDate = AFT.AuditDate
            AND AFT.AuditImage = 'A'
            FULL JOIN AdtFinanceMain BEF
             ON TH.AuditId = BEF.AuditId
            AND TH.AuditDate = BEF.AuditDate
            AND BEF.AuditImage = 'B'
     WHERE ( TH.AuditTranType != 'W' )
             AND ( TH.AuditModule = 'FinanceDetail' )
           </createView></changeSet>
	<changeSet id="18" author="Prasad" dbms="oracle">
		<createView viewName="ADTFINANCEMAIN_VIEW" replaceIfExists="true">
		SELECT TH.AuditId ,
          TH.AuditDate AuditDateTime  ,
          UTILS.CONVERT_TO_VARCHAR2(TH.AuditDate,20,p_style=>106) AuditDate  ,
          UTILS.CONVERT_TO_VARCHAR2(TH.AuditDate,35,p_style=>108) AuditTime  ,
          NVL(AFT.AuditSeq, BEF.AuditSeq) AuditSeq  ,
          TH.AuditUsrId ,
          FN_CustomerName(T1.UsrFName, T1.UsrMName, T1.UsrLName) AuditUserName  ,
          FN_TranType(TH.AuditTranType) AuditTranType  ,
          Aft.FinReference AftFinReference  ,
          Aft.FinBranch AftFinBranch  ,
          Aft.FinSourceID AftFinSourceID  ,
          Aft.NumberOfTerms AftNumberOfTerms  ,
          Aft.GrcPeriodEndDate AftGrcPeriodEndDate  ,
          Aft.AllowGrcPeriod AftAllowGrcPeriod  ,
          Aft.GraceBaseRate AftGraceBaseRate  ,
          Aft.GraceSpecialRate AftGraceSpecialRate  ,
          Aft.GrcMargin AftGrcMargin  ,
          Aft.GrcPftRate AftGrcPftRate  ,
          Aft.GrcPftFrq AftGrcPftFrq  ,
          Aft.NextGrcPftDate AftNextGrcPftDate  ,
          Aft.AllowGrcPftRvw AftAllowGrcPftRvw  ,
          Aft.AllowGrcCpz AftAllowGrcCpz  ,
          Aft.GrcCpzFrq AftGrcCpzFrq  ,
          Aft.NextGrcCpzDate AftNextGrcCpzDate  ,
          Aft.AllowGrcRepay AftAllowGrcRepay  ,
          Aft.GrcSchdMthd AftGrcSchdMthd  ,
          Aft.RepayBaseRate AftRepayBaseRate  ,
          Aft.RepaySpecialRate AftRepaySpecialRate  ,
          Aft.RepayMargin AftRepayMargin  ,
          Aft.RepayProfitRate AftRepayProfitRate  ,
          Aft.FinRepayPftOnFrq AftFinRepayPftOnFrq  ,
          Aft.RepayFrq AftRepayFrq  ,
          Aft.NextRepayDate AftNextRepayDate  ,
          Aft.RepayPftFrq AftRepayPftFrq  ,
          Aft.NextRepayPftDate AftNextRepayPftDate  ,
          Aft.AllowRepayRvw AftAllowRepayRvw  ,
          Aft.RepayRvwFrq AftRepayRvwFrq  ,
          Aft.NextRepayRvwDate AftNextRepayRvwDate  ,
          Aft.AllowRepayCpz AftAllowRepayCpz  ,
          Aft.RepayCpzFrq AftRepayCpzFrq  ,
          Aft.NextRepayCpzDate AftNextRepayCpzDate  ,
          Aft.MaturityDate AftMaturityDate  ,
          Aft.CpzAtGraceEnd AftCpzAtGraceEnd  ,
          Aft.DownPayment AftDownPayment  ,
          Aft.GraceFlatAmount AftGraceFlatAmount  ,
          Aft.ReqRepayAmount AftReqRepayAmount  ,
          Aft.TotalProfit AftTotalProfit  ,
          Aft.TotalCpz AftTotalCpz  ,
          Aft.TotalGrossPft AftTotalGrossPft  ,
          Aft.TotalGrossGrcPft AftTotalGrossGrcPft  ,
          Aft.RecalType AftRecalType  ,
          Aft.GrcPftRvwFrq AftGrcPftRvwFrq  ,
          Aft.NextGrcPftRvwDate AftNextGrcPftRvwDate  ,
          Bef.FinReference BefFinReference  ,
          Bef.FinBranch BefFinBranch  ,
          Bef.FinSourceID BefFinSourceID  ,
          Bef.NumberOfTerms BefNumberOfTerms  ,
          Bef.GrcPeriodEndDate BefGrcPeriodEndDate  ,
          Bef.AllowGrcPeriod BefAllowGrcPeriod  ,
          Bef.GraceBaseRate BefGraceBaseRate  ,
          Bef.GraceSpecialRate BefGraceSpecialRate  ,
          Bef.GrcMargin BefGrcMargin  ,
          Bef.GrcPftRate BefGrcPftRate  ,
          Bef.GrcPftFrq BefGrcPftFrq  ,
          Bef.NextGrcPftDate BefNextGrcPftDate  ,
          Bef.AllowGrcPftRvw BefAllowGrcPftRvw  ,
          Bef.AllowGrcCpz BefAllowGrcCpz  ,
          Bef.GrcCpzFrq BefGrcCpzFrq  ,
          Bef.NextGrcCpzDate BefNextGrcCpzDate  ,
          Bef.AllowGrcRepay BefAllowGrcRepay  ,
          Bef.GrcSchdMthd BefGrcSchdMthd  ,
          Bef.RepayBaseRate BefRepayBaseRate  ,
          Bef.RepaySpecialRate BefRepaySpecialRate  ,
          Bef.RepayMargin BefRepayMargin  ,
          Bef.RepayProfitRate BefRepayProfitRate  ,
          Bef.FinRepayPftOnFrq BefFinRepayPftOnFrq  ,
          Bef.RepayFrq BefRepayFrq  ,
          Bef.NextRepayDate BefNextRepayDate  ,
          Bef.RepayPftFrq BefRepayPftFrq  ,
          Bef.NextRepayPftDate BefNextRepayPftDate  ,
          Bef.AllowRepayRvw BefAllowRepayRvw  ,
          Bef.RepayRvwFrq BefRepayRvwFrq  ,
          Bef.NextRepayRvwDate BefNextRepayRvwDate  ,
          Bef.AllowRepayCpz BefAllowRepayCpz  ,
          Bef.RepayCpzFrq BefRepayCpzFrq  ,
          Bef.NextRepayCpzDate BefNextRepayCpzDate  ,
          Bef.MaturityDate BefMaturityDate  ,
          Bef.CpzAtGraceEnd BefCpzAtGraceEnd  ,
          Bef.DownPayment BefDownPayment  ,
          Bef.GraceFlatAmount BefGraceFlatAmount  ,
          Bef.ReqRepayAmount BefReqRepayAmount  ,
          Bef.TotalProfit BefTotalProfit  ,
          Bef.TotalCpz BefTotalCpz  ,
          Bef.TotalGrossPft BefTotalGrossPft  ,
          Bef.TotalGrossGrcPft BefTotalGrossGrcPft  ,
          Bef.RecalType BefRecalType  ,
          Bef.GrcPftRvwFrq BefGrcPftRvwFrq  ,
          Bef.NextGrcPftRvwDate BefNextGrcPftRvwDate  
     FROM AuditHeader TH
            JOIN SecUsers_View T1
             ON TH.AuditUsrId = T1.UsrID
            LEFT JOIN AdtFinanceMain AFT
             ON TH.AuditId = AFT.AuditId
            AND TH.AuditDate = AFT.AuditDate
            AND AFT.AuditImage = 'A'
            FULL JOIN AdtFinanceMain BEF
             ON TH.AuditId = BEF.AuditId
            AND TH.AuditDate = BEF.AuditDate
            AND BEF.AuditImage = 'B'
     WHERE ( TH.AuditTranType != 'W' )
             AND ( TH.AuditModule = 'FinanceDetail' )
           </createView></changeSet>
   	<changeSet id="19" author="Prasad" dbms="mssql">
		<createView viewName="ADTFINANCEMAINHEADER_VIEW" replaceIfExists="true">          
             SELECT TH.AuditId ,
          TH.AuditDate AuditDateTime  ,
          CONVERT(varchar(20), TH.AuditDate, 106)  AuditDate, 
          CONVERT(varchar(35), TH.AuditDate, 108)  AuditTime, 
          ISNULL(AFT.AuditSeq, BEF.AuditSeq) AuditSeq, 
          TH.AuditUsrId, 
          dbo.FN_CustomerName(T1.UsrFName, T1.UsrMName, T1.UsrLName)  AuditUserName,
          dbo.FN_TranType(TH.AuditTranType) AuditTranType,
          Aft.FinReference AftFinReference  ,
          Aft.FinBranch AftFinBranch  ,
          Aft.FinSourceID AftFinSourceID  ,
          Aft.NumberOfTerms AftNumberOfTerms  ,
          Aft.GrcPeriodEndDate AftGrcPeriodEndDate  ,
          Aft.AllowGrcPeriod AftAllowGrcPeriod  ,
          Aft.GraceBaseRate AftGraceBaseRate  ,
          Aft.GraceSpecialRate AftGraceSpecialRate  ,
          Aft.GrcMargin AftGrcMargin  ,
          Aft.GrcPftRate AftGrcPftRate  ,
          Aft.GrcPftFrq AftGrcPftFrq  ,
          Aft.NextGrcPftDate AftNextGrcPftDate  ,
          Aft.AllowGrcPftRvw AftAllowGrcPftRvw  ,
          Aft.RecalType AftRecalType  ,
          Aft.GrcPftRvwFrq AftGrcPftRvwFrq  ,
          Aft.NextGrcPftRvwDate AftNextGrcPftRvwDate  ,
          Aft.AllowGrcCpz AftAllowGrcCpz  ,
          Aft.GrcCpzFrq AftGrcCpzFrq  ,
          Aft.NextGrcCpzDate AftNextGrcCpzDate  ,
          Aft.AllowGrcRepay AftAllowGrcRepay  ,
          Aft.GrcSchdMthd AftGrcSchdMthd  ,
          Aft.RepayBaseRate AftRepayBaseRate  ,
          Aft.RepaySpecialRate AftRepaySpecialRate  ,
          Aft.RepayMargin AftRepayMargin  ,
          Aft.RepayProfitRate AftRepayProfitRate  ,
          Aft.FinRepayPftOnFrq AftFinRepayPftOnFrq  ,
          Aft.RepayFrq AftRepayFrq  ,
          Aft.NextRepayDate AftNextRepayDate  ,
          Aft.RepayPftFrq AftRepayPftFrq  ,
          Aft.NextRepayPftDate AftNextRepayPftDate  ,
          Aft.AllowRepayRvw AftAllowRepayRvw  ,
          Aft.RepayRvwFrq AftRepayRvwFrq  ,
          Aft.NextRepayRvwDate AftNextRepayRvwDate  ,
          Aft.AllowRepayCpz AftAllowRepayCpz  ,
          Aft.RepayCpzFrq AftRepayCpzFrq  ,
          Aft.NextRepayCpzDate AftNextRepayCpzDate  ,
          Aft.MaturityDate AftMaturityDate  ,
          Aft.CpzAtGraceEnd AftCpzAtGraceEnd  ,
          Aft.DownPayment AftDownPayment  ,
          Aft.DownPayBank AftDownPayBank  ,
          Aft.DownPaySupl AftDownPaySupl  ,
          Aft.DownPayAccount AftDownPayAccount  ,
          Aft.GraceFlatAmount AftGraceFlatAmount  ,
          Aft.ReqRepayAmount AftReqRepayAmount  ,
          Aft.TotalProfit AftTotalProfit  ,
          Aft.TotalCpz AftTotalCpz  ,
          Aft.TotalGrossPft AftTotalGrossPft  ,
          Aft.TotalGrossGrcPft AftTotalGrossGrcPft  ,
          Aft.TotalGracePft AftTotalGracePft  ,
          Aft.TotalGraceCpz AftTotalGraceCpz  ,
          Aft.TotalRepayAmt AftTotalRepayAmt  ,
          Aft.GrcRateBasis AftGrcRateBasis  ,
          Aft.RepayRateBasis AftRepayRateBasis  ,
          Aft.FinType AftFinType  ,
          Aft.FinRemarks AftFinRemarks  ,
          Aft.FinCcy AftFinCcy  ,
          Aft.ScheduleMethod AftScheduleMethod  ,
          Aft.ProfitDaysBasis AftProfitDaysBasis  ,
          Aft.ReqMaturity AftReqMaturity  ,
          Aft.CalTerms AftCalTerms  ,
          Aft.CalMaturity AftCalMaturity  ,
          Aft.FirstRepay AftFirstRepay  ,
          Aft.LastRepay AftLastRepay  ,
          Aft.FinStartDate AftFinStartDate  ,
          Aft.FinAmount AftFinAmount  ,
          Aft.FinContractDate AftFinContractDate  ,
          Aft.FinRepaymentAmount AftFinRepaymentAmount  ,
          Aft.FeeChargeAmt AftFeeChargeAmt  ,
          Aft.CustID AftCustID  ,
          Aft.Defferments AftDefferments  ,
          ' ' AftFrqDefferments  ,
          Aft.FinAssetValue AftFinAssetValue  ,
          Aft.DisbAccountId AftDisbAccountId  ,
          Aft.RepayAccountId AftRepayAccountId  ,
          Aft.FinCurrAssetValue AftFinCurrAssetValue  ,
          Aft.FinAccount AftFinAccount  ,
          Aft.FinCustPftAccount AftFinCustPftAccount  ,
          Aft.FinCommitmentRef AftFinCommitmentRef  ,
          Aft.DepreciationFrq AftDepreciationFrq  ,
          Aft.AllowedDefRpyChange AftAllowedDefRpyChange  ,
          Aft.AvailedDefRpyChange AftAvailedDefRpyChange  ,
          Aft.AllowedDefFrqChange AftAllowedDefFrqChange  ,
          Aft.AvailedDefFrqChange AftAvailedDefFrqChange  ,
          Aft.DedupFound AftDedupFound  ,
          Aft.SkipDedup AftSkipDedup  ,
          Aft.Blacklisted AftBlacklisted  ,
          Aft.LastRepayDate AftLastRepayDate  ,
          Aft.LastRepayPftDate AftLastRepayPftDate  ,
          Aft.LastRepayRvwDate AftLastRepayRvwDate  ,
          Aft.LastRepayCpzDate AftLastRepayCpzDate  ,
          Aft.FinApprovedDate AftFinApprovedDate  ,
          Aft.ClosingStatus AftClosingStatus  ,
          Aft.FinIsActive AftFinIsActive  ,
          Aft.LimitValid AftLimitValid  ,
          Aft.OverrideLimit AftOverrideLimit  ,
          Aft.AnualizedPercRate AftAnualizedPercRate  ,
          Aft.EffectiveRateOfReturn AftEffectiveRateOfReturn  ,
          Aft.NextDepDate AftNextDepDate  ,
          Aft.LastDepDate AftLastDepDate  ,
          Aft.MigratedFinance AftMigratedFinance  ,
          Aft.ScheduleMaintained AftScheduleMaintained  ,
          Aft.ScheduleRegenerated AftScheduleRegenerated  ,
          Aft.FinPurpose AftFinPurpose  ,
          Aft.FinStatus AftFinStatus  ,
          Aft.FinStsReason AftFinStsReason  ,
          Aft.CustDSR AftCustDSR  ,
          Aft.Authorization1 AftAuthorization1  ,
          Aft.Authorization2 AftAuthorization2  ,
          Aft.JointAccount AftJointAccount  ,
          Aft.JointCustId AftJointCustId  ,
          Aft.SecurityDeposit AftSecurityDeposit  ,
          Aft.SecurityCollateral AftSecurityCollateral  ,
          Aft.Approved AftApproved  ,
          Aft.Discrepancy AftDiscrepancy  ,
          Aft.LimitApproved AftLimitApproved  ,
          Aft.GraceTerms AftGraceTerms  ,
          Aft.RcdMaintainSts AftRcdMaintainSts  ,
          Aft.FinRepayMethod AftFinRepayMethod  ,
          Aft.RecordType AftRecordType  ,
          Bef.FinReference BefFinReference  ,
          Bef.FinBranch BefFinBranch  ,
          Bef.FinSourceID BefFinSourceID  ,
          Bef.NumberOfTerms BefNumberOfTerms  ,
          Bef.GrcPeriodEndDate BefGrcPeriodEndDate  ,
          Bef.AllowGrcPeriod BefAllowGrcPeriod  ,
          Bef.GraceBaseRate BefGraceBaseRate  ,
          Bef.GraceSpecialRate BefGraceSpecialRate  ,
          Bef.GrcMargin BefGrcMargin  ,
          Bef.GrcPftRate BefGrcPftRate  ,
          Bef.GrcPftFrq BefGrcPftFrq  ,
          Bef.NextGrcPftDate BefNextGrcPftDate  ,
          Bef.AllowGrcPftRvw BefAllowGrcPftRvw  ,
          Bef.RecalType BefRecalType  ,
          Bef.GrcPftRvwFrq BefGrcPftRvwFrq  ,
          Bef.NextGrcPftRvwDate BefNextGrcPftRvwDate  ,     
          Bef.AllowGrcCpz BefAllowGrcCpz  ,
          Bef.GrcCpzFrq BefGrcCpzFrq  ,
          Bef.NextGrcCpzDate BefNextGrcCpzDate  ,
          Bef.AllowGrcRepay BefAllowGrcRepay  ,
          Bef.GrcSchdMthd BefGrcSchdMthd  ,
          Bef.RepayBaseRate BefRepayBaseRate  ,
          Bef.RepaySpecialRate BefRepaySpecialRate  ,
          Bef.RepayMargin BefRepayMargin  ,
          Bef.RepayProfitRate BefRepayProfitRate  ,
          Bef.FinRepayPftOnFrq BefFinRepayPftOnFrq  ,
          Bef.RepayFrq BefRepayFrq  ,
          Bef.NextRepayDate BefNextRepayDate  ,
          Bef.RepayPftFrq BefRepayPftFrq  ,
          Bef.NextRepayPftDate BefNextRepayPftDate  ,
          Bef.AllowRepayRvw BefAllowRepayRvw  ,
          Bef.RepayRvwFrq BefRepayRvwFrq  ,
          Bef.NextRepayRvwDate BefNextRepayRvwDate  ,
          Bef.AllowRepayCpz BefAllowRepayCpz  ,
          Bef.RepayCpzFrq BefRepayCpzFrq  ,
          Bef.NextRepayCpzDate BefNextRepayCpzDate  ,
          Bef.MaturityDate BefMaturityDate  ,
          Bef.CpzAtGraceEnd BefCpzAtGraceEnd  ,
          Bef.DownPayment BefDownPayment  ,
          Bef.DownPayBank BefDownPayBank  ,
          Bef.DownPaySupl BefDownPaySupl  ,
          Bef.DownPayAccount BefDownPayAccount  ,
          Bef.GraceFlatAmount BefGraceFlatAmount  ,
          Bef.ReqRepayAmount BefReqRepayAmount  ,
          Bef.TotalProfit BefTotalProfit  ,
          Bef.TotalCpz BefTotalCpz  ,
          Bef.TotalGrossPft BefTotalGrossPft  ,
          Bef.TotalGrossGrcPft BefTotalGrossGrcPft  ,
          Bef.TotalGracePft BefTotalGracePft  ,
          Bef.TotalGraceCpz BefTotalGraceCpz  ,
          Bef.TotalRepayAmt BefTotalRepayAmt  ,
          Bef.GrcRateBasis BefGrcRateBasis  ,
          Bef.RepayRateBasis BefRepayRateBasis  ,
          Bef.FinType BefFinType  ,
          Bef.FinRemarks BefFinRemarks  ,
          Bef.FinCcy BefFinCcy  ,
          Bef.ScheduleMethod BefScheduleMethod  ,
          Bef.ProfitDaysBasis BefProfitDaysBasis  ,
          Bef.ReqMaturity BefReqMaturity  ,
          Bef.CalTerms BefCalTerms  ,
          Bef.CalMaturity BefCalMaturity  ,
          Bef.FirstRepay BefFirstRepay  ,
          Bef.LastRepay BefLastRepay  ,
          Bef.FinStartDate BefFinStartDate  ,
          Bef.FinAmount BefFinAmount  ,
          Bef.FinContractDate BefFinContractDate  ,
          Bef.FinRepaymentAmount BefFinRepaymentAmount  ,
          Bef.FeeChargeAmt BefFeeChargeAmt  ,
          Bef.CustID BefCustID  ,
          Bef.Defferments BefDefferments  ,
          ' ' BefFrqDefferments  ,
          Bef.FinAssetValue BefFinAssetValue  ,
          Bef.DisbAccountId BefDisbAccountId  ,
          Bef.RepayAccountId BefRepayAccountId  ,
          Bef.FinCurrAssetValue BefFinCurrAssetValue  ,
          Bef.FinAccount BefFinAccount  ,
          Bef.FinCustPftAccount BefFinCustPftAccount  ,
          Bef.FinCommitmentRef BefFinCommitmentRef  ,
          Bef.DepreciationFrq BefDepreciationFrq  ,
          Bef.AllowedDefRpyChange BefAllowedDefRpyChange  ,
          Bef.AvailedDefRpyChange BefAvailedDefRpyChange  ,
          Bef.AllowedDefFrqChange BefAllowedDefFrqChange  ,
          Bef.AvailedDefFrqChange BefAvailedDefFrqChange  ,
          Bef.DedupFound BefDedupFound  ,
          Bef.SkipDedup BefSkipDedup  ,
          Bef.Blacklisted BefBlacklisted  ,
          Bef.LastRepayDate BefLastRepayDate  ,
          Bef.LastRepayPftDate BefLastRepayPftDate  ,
          Bef.LastRepayRvwDate BefLastRepayRvwDate  ,
          Bef.LastRepayCpzDate BefLastRepayCpzDate  ,
          Bef.FinApprovedDate BefFinApprovedDate  ,
          Bef.ClosingStatus BefClosingStatus  ,
          Bef.FinIsActive BefFinIsActive  ,
          Bef.LimitValid BefLimitValid  ,
          Bef.OverrideLimit BefOverrideLimit  ,
          Bef.AnualizedPercRate BefAnualizedPercRate  ,
          Bef.EffectiveRateOfReturn BefEffectiveRateOfReturn  ,
          Bef.NextDepDate BefNextDepDate  ,
          Bef.LastDepDate BefLastDepDate  ,
          Bef.MigratedFinance BefMigratedFinance  ,
          Bef.ScheduleMaintained BefScheduleMaintained  ,
          Bef.ScheduleRegenerated BefScheduleRegenerated  ,
          Bef.FinPurpose BefFinPurpose  ,
          Bef.FinStatus BefFinStatus  ,
          Bef.FinStsReason BefFinStsReason  ,
          Bef.CustDSR BefCustDSR  ,
          Bef.Authorization1 BefAuthorization1  ,
          Bef.Authorization2 BefAuthorization2  ,
          Bef.JointAccount BefJointAccount  ,
          Bef.JointCustId BefJointCustId  ,
          Bef.SecurityDeposit BefSecurityDeposit  ,
          Bef.SecurityCollateral BefSecurityCollateral  ,
          Bef.Approved BefApproved  ,
          Bef.Discrepancy BefDiscrepancy  ,
          Bef.LimitApproved BefLimitApproved  ,
          Bef.GraceTerms BefGraceTerms  ,
          Bef.RcdMaintainSts BefRcdMaintainSts  ,
          Bef.FinRepayMethod BefFinRepayMethod  ,
          CcyEditField 
     FROM AuditHeader TH
            JOIN SecUsers_View T1
             ON TH.AuditUsrId = T1.UsrID
            LEFT JOIN AdtFinanceMain AFT
             ON TH.AuditId = AFT.AuditId
            AND TH.AuditDate = AFT.AuditDate
            AND AFT.AuditImage = 'A'
            FULL JOIN AdtFinanceMain BEF
             ON TH.AuditId = BEF.AuditId
            AND TH.AuditDate = BEF.AuditDate
            AND BEF.AuditImage = 'B'
            JOIN RMTCurrencies_View C
             ON C.CcyCode = Aft.FinCcy
     WHERE TH.AuditTranType != 'W'
             AND TH.AuditModule = 'FinanceDetail'
        </createView>
    </changeSet>
    <changeSet id="19" author="Prasad" dbms="oracle">
		<createView viewName="ADTFINANCEMAINHEADER_VIEW" replaceIfExists="true">          
             SELECT TH.AuditId ,
          TH.AuditDate AuditDateTime  ,
          UTILS.CONVERT_TO_VARCHAR2(TH.AuditDate,20,p_style=>106) AuditDate  ,
          UTILS.CONVERT_TO_VARCHAR2(TH.AuditDate,35,p_style=>108) AuditTime  ,
          NVL(AFT.AuditSeq, BEF.AuditSeq) AuditSeq  ,
          TH.AuditUsrId ,
          FN_CustomerName(T1.UsrFName, T1.UsrMName, T1.UsrLName) AuditUserName  ,
          FN_TranType(TH.AuditTranType) AuditTranType  ,
          Aft.FinReference AftFinReference  ,
          Aft.FinBranch AftFinBranch  ,
          Aft.FinSourceID AftFinSourceID  ,
          Aft.NumberOfTerms AftNumberOfTerms  ,
          Aft.GrcPeriodEndDate AftGrcPeriodEndDate  ,
          Aft.AllowGrcPeriod AftAllowGrcPeriod  ,
          Aft.GraceBaseRate AftGraceBaseRate  ,
          Aft.GraceSpecialRate AftGraceSpecialRate  ,
          Aft.GrcMargin AftGrcMargin  ,
          Aft.GrcPftRate AftGrcPftRate  ,
          Aft.GrcPftFrq AftGrcPftFrq  ,
          Aft.NextGrcPftDate AftNextGrcPftDate  ,
          Aft.AllowGrcPftRvw AftAllowGrcPftRvw  ,
          Aft.RecalType AftRecalType  ,
          Aft.GrcPftRvwFrq AftGrcPftRvwFrq  ,
          Aft.NextGrcPftRvwDate AftNextGrcPftRvwDate  ,
          Aft.AllowGrcCpz AftAllowGrcCpz  ,
          Aft.GrcCpzFrq AftGrcCpzFrq  ,
          Aft.NextGrcCpzDate AftNextGrcCpzDate  ,
          Aft.AllowGrcRepay AftAllowGrcRepay  ,
          Aft.GrcSchdMthd AftGrcSchdMthd  ,
          Aft.RepayBaseRate AftRepayBaseRate  ,
          Aft.RepaySpecialRate AftRepaySpecialRate  ,
          Aft.RepayMargin AftRepayMargin  ,
          Aft.RepayProfitRate AftRepayProfitRate  ,
          Aft.FinRepayPftOnFrq AftFinRepayPftOnFrq  ,
          Aft.RepayFrq AftRepayFrq  ,
          Aft.NextRepayDate AftNextRepayDate  ,
          Aft.RepayPftFrq AftRepayPftFrq  ,
          Aft.NextRepayPftDate AftNextRepayPftDate  ,
          Aft.AllowRepayRvw AftAllowRepayRvw  ,
          Aft.RepayRvwFrq AftRepayRvwFrq  ,
          Aft.NextRepayRvwDate AftNextRepayRvwDate  ,
          Aft.AllowRepayCpz AftAllowRepayCpz  ,
          Aft.RepayCpzFrq AftRepayCpzFrq  ,
          Aft.NextRepayCpzDate AftNextRepayCpzDate  ,
          Aft.MaturityDate AftMaturityDate  ,
          Aft.CpzAtGraceEnd AftCpzAtGraceEnd  ,
          Aft.DownPayment AftDownPayment  ,
          Aft.DownPayBank AftDownPayBank  ,
          Aft.DownPaySupl AftDownPaySupl  ,
          Aft.DownPayAccount AftDownPayAccount  ,
          Aft.GraceFlatAmount AftGraceFlatAmount  ,
          Aft.ReqRepayAmount AftReqRepayAmount  ,
          Aft.TotalProfit AftTotalProfit  ,
          Aft.TotalCpz AftTotalCpz  ,
          Aft.TotalGrossPft AftTotalGrossPft  ,
          Aft.TotalGrossGrcPft AftTotalGrossGrcPft  ,
          Aft.TotalGracePft AftTotalGracePft  ,
          Aft.TotalGraceCpz AftTotalGraceCpz  ,
          Aft.TotalRepayAmt AftTotalRepayAmt  ,
          Aft.GrcRateBasis AftGrcRateBasis  ,
          Aft.RepayRateBasis AftRepayRateBasis  ,
          Aft.FinType AftFinType  ,
          Aft.FinRemarks AftFinRemarks  ,
          Aft.FinCcy AftFinCcy  ,
          Aft.ScheduleMethod AftScheduleMethod  ,
          Aft.ProfitDaysBasis AftProfitDaysBasis  ,
          Aft.ReqMaturity AftReqMaturity  ,
          Aft.CalTerms AftCalTerms  ,
          Aft.CalMaturity AftCalMaturity  ,
          Aft.FirstRepay AftFirstRepay  ,
          Aft.LastRepay AftLastRepay  ,
          Aft.FinStartDate AftFinStartDate  ,
          Aft.FinAmount AftFinAmount  ,
          Aft.FinContractDate AftFinContractDate  ,
          Aft.FinRepaymentAmount AftFinRepaymentAmount  ,
          Aft.FeeChargeAmt AftFeeChargeAmt  ,
          Aft.CustID AftCustID  ,
          Aft.Defferments AftDefferments  ,
          ' ' AftFrqDefferments  ,
          Aft.FinAssetValue AftFinAssetValue  ,
          Aft.DisbAccountId AftDisbAccountId  ,
          Aft.RepayAccountId AftRepayAccountId  ,
          Aft.FinCurrAssetValue AftFinCurrAssetValue  ,
          Aft.FinAccount AftFinAccount  ,
          Aft.FinCustPftAccount AftFinCustPftAccount  ,
          Aft.FinCommitmentRef AftFinCommitmentRef  ,
          Aft.DepreciationFrq AftDepreciationFrq  ,
          Aft.AllowedDefRpyChange AftAllowedDefRpyChange  ,
          Aft.AvailedDefRpyChange AftAvailedDefRpyChange  ,
          Aft.AllowedDefFrqChange AftAllowedDefFrqChange  ,
          Aft.AvailedDefFrqChange AftAvailedDefFrqChange  ,
          Aft.DedupFound AftDedupFound  ,
          Aft.SkipDedup AftSkipDedup  ,
          Aft.Blacklisted AftBlacklisted  ,
          Aft.LastRepayDate AftLastRepayDate  ,
          Aft.LastRepayPftDate AftLastRepayPftDate  ,
          Aft.LastRepayRvwDate AftLastRepayRvwDate  ,
          Aft.LastRepayCpzDate AftLastRepayCpzDate  ,
          Aft.FinApprovedDate AftFinApprovedDate  ,
          Aft.ClosingStatus AftClosingStatus  ,
          Aft.FinIsActive AftFinIsActive  ,
          Aft.LimitValid AftLimitValid  ,
          Aft.OverrideLimit AftOverrideLimit  ,
          Aft.AnualizedPercRate AftAnualizedPercRate  ,
          Aft.EffectiveRateOfReturn AftEffectiveRateOfReturn  ,
          Aft.NextDepDate AftNextDepDate  ,
          Aft.LastDepDate AftLastDepDate  ,
          Aft.MigratedFinance AftMigratedFinance  ,
          Aft.ScheduleMaintained AftScheduleMaintained  ,
          Aft.ScheduleRegenerated AftScheduleRegenerated  ,
          Aft.FinPurpose AftFinPurpose  ,
          Aft.FinStatus AftFinStatus  ,
          Aft.FinStsReason AftFinStsReason  ,
          Aft.CustDSR AftCustDSR  ,
          Aft.Authorization1 AftAuthorization1  ,
          Aft.Authorization2 AftAuthorization2  ,
          Aft.JointAccount AftJointAccount  ,
          Aft.JointCustId AftJointCustId  ,
          Aft.SecurityDeposit AftSecurityDeposit  ,
          Aft.SecurityCollateral AftSecurityCollateral  ,
          Aft.Approved AftApproved  ,
          Aft.Discrepancy AftDiscrepancy  ,
          Aft.LimitApproved AftLimitApproved  ,
          Aft.GraceTerms AftGraceTerms  ,
          Aft.RcdMaintainSts AftRcdMaintainSts  ,
          Aft.FinRepayMethod AftFinRepayMethod  ,
          Aft.RecordType AftRecordType  ,
          Bef.FinReference BefFinReference  ,
          Bef.FinBranch BefFinBranch  ,
          Bef.FinSourceID BefFinSourceID  ,
          Bef.NumberOfTerms BefNumberOfTerms  ,
          Bef.GrcPeriodEndDate BefGrcPeriodEndDate  ,
          Bef.AllowGrcPeriod BefAllowGrcPeriod  ,
          Bef.GraceBaseRate BefGraceBaseRate  ,
          Bef.GraceSpecialRate BefGraceSpecialRate  ,
          Bef.GrcMargin BefGrcMargin  ,
          Bef.GrcPftRate BefGrcPftRate  ,
          Bef.GrcPftFrq BefGrcPftFrq  ,
          Bef.NextGrcPftDate BefNextGrcPftDate  ,
          Bef.AllowGrcPftRvw BefAllowGrcPftRvw  ,
          Bef.RecalType BefRecalType  ,
          Bef.GrcPftRvwFrq BefGrcPftRvwFrq  ,
          Bef.NextGrcPftRvwDate BefNextGrcPftRvwDate  ,     
          Bef.AllowGrcCpz BefAllowGrcCpz  ,
          Bef.GrcCpzFrq BefGrcCpzFrq  ,
          Bef.NextGrcCpzDate BefNextGrcCpzDate  ,
          Bef.AllowGrcRepay BefAllowGrcRepay  ,
          Bef.GrcSchdMthd BefGrcSchdMthd  ,
          Bef.RepayBaseRate BefRepayBaseRate  ,
          Bef.RepaySpecialRate BefRepaySpecialRate  ,
          Bef.RepayMargin BefRepayMargin  ,
          Bef.RepayProfitRate BefRepayProfitRate  ,
          Bef.FinRepayPftOnFrq BefFinRepayPftOnFrq  ,
          Bef.RepayFrq BefRepayFrq  ,
          Bef.NextRepayDate BefNextRepayDate  ,
          Bef.RepayPftFrq BefRepayPftFrq  ,
          Bef.NextRepayPftDate BefNextRepayPftDate  ,
          Bef.AllowRepayRvw BefAllowRepayRvw  ,
          Bef.RepayRvwFrq BefRepayRvwFrq  ,
          Bef.NextRepayRvwDate BefNextRepayRvwDate  ,
          Bef.AllowRepayCpz BefAllowRepayCpz  ,
          Bef.RepayCpzFrq BefRepayCpzFrq  ,
          Bef.NextRepayCpzDate BefNextRepayCpzDate  ,
          Bef.MaturityDate BefMaturityDate  ,
          Bef.CpzAtGraceEnd BefCpzAtGraceEnd  ,
          Bef.DownPayment BefDownPayment  ,
          Bef.DownPayBank BefDownPayBank  ,
          Bef.DownPaySupl BefDownPaySupl  ,
          Bef.DownPayAccount BefDownPayAccount  ,
          Bef.GraceFlatAmount BefGraceFlatAmount  ,
          Bef.ReqRepayAmount BefReqRepayAmount  ,
          Bef.TotalProfit BefTotalProfit  ,
          Bef.TotalCpz BefTotalCpz  ,
          Bef.TotalGrossPft BefTotalGrossPft  ,
          Bef.TotalGrossGrcPft BefTotalGrossGrcPft  ,
          Bef.TotalGracePft BefTotalGracePft  ,
          Bef.TotalGraceCpz BefTotalGraceCpz  ,
          Bef.TotalRepayAmt BefTotalRepayAmt  ,
          Bef.GrcRateBasis BefGrcRateBasis  ,
          Bef.RepayRateBasis BefRepayRateBasis  ,
          Bef.FinType BefFinType  ,
          Bef.FinRemarks BefFinRemarks  ,
          Bef.FinCcy BefFinCcy  ,
          Bef.ScheduleMethod BefScheduleMethod  ,
          Bef.ProfitDaysBasis BefProfitDaysBasis  ,
          Bef.ReqMaturity BefReqMaturity  ,
          Bef.CalTerms BefCalTerms  ,
          Bef.CalMaturity BefCalMaturity  ,
          Bef.FirstRepay BefFirstRepay  ,
          Bef.LastRepay BefLastRepay  ,
          Bef.FinStartDate BefFinStartDate  ,
          Bef.FinAmount BefFinAmount  ,
          Bef.FinContractDate BefFinContractDate  ,
          Bef.FinRepaymentAmount BefFinRepaymentAmount  ,
          Bef.FeeChargeAmt BefFeeChargeAmt  ,
          Bef.CustID BefCustID  ,
          Bef.Defferments BefDefferments  ,
          ' ' BefFrqDefferments  ,
          Bef.FinAssetValue BefFinAssetValue  ,
          Bef.DisbAccountId BefDisbAccountId  ,
          Bef.RepayAccountId BefRepayAccountId  ,
          Bef.FinCurrAssetValue BefFinCurrAssetValue  ,
          Bef.FinAccount BefFinAccount  ,
          Bef.FinCustPftAccount BefFinCustPftAccount  ,
          Bef.FinCommitmentRef BefFinCommitmentRef  ,
          Bef.DepreciationFrq BefDepreciationFrq  ,
          Bef.AllowedDefRpyChange BefAllowedDefRpyChange  ,
          Bef.AvailedDefRpyChange BefAvailedDefRpyChange  ,
          Bef.AllowedDefFrqChange BefAllowedDefFrqChange  ,
          Bef.AvailedDefFrqChange BefAvailedDefFrqChange  ,
          Bef.DedupFound BefDedupFound  ,
          Bef.SkipDedup BefSkipDedup  ,
          Bef.Blacklisted BefBlacklisted  ,
          Bef.LastRepayDate BefLastRepayDate  ,
          Bef.LastRepayPftDate BefLastRepayPftDate  ,
          Bef.LastRepayRvwDate BefLastRepayRvwDate  ,
          Bef.LastRepayCpzDate BefLastRepayCpzDate  ,
          Bef.FinApprovedDate BefFinApprovedDate  ,
          Bef.ClosingStatus BefClosingStatus  ,
          Bef.FinIsActive BefFinIsActive  ,
          Bef.LimitValid BefLimitValid  ,
          Bef.OverrideLimit BefOverrideLimit  ,
          Bef.AnualizedPercRate BefAnualizedPercRate  ,
          Bef.EffectiveRateOfReturn BefEffectiveRateOfReturn  ,
          Bef.NextDepDate BefNextDepDate  ,
          Bef.LastDepDate BefLastDepDate  ,
          Bef.MigratedFinance BefMigratedFinance  ,
          Bef.ScheduleMaintained BefScheduleMaintained  ,
          Bef.ScheduleRegenerated BefScheduleRegenerated  ,
          Bef.FinPurpose BefFinPurpose  ,
          Bef.FinStatus BefFinStatus  ,
          Bef.FinStsReason BefFinStsReason  ,
          Bef.CustDSR BefCustDSR  ,
          Bef.Authorization1 BefAuthorization1  ,
          Bef.Authorization2 BefAuthorization2  ,
          Bef.JointAccount BefJointAccount  ,
          Bef.JointCustId BefJointCustId  ,
          Bef.SecurityDeposit BefSecurityDeposit  ,
          Bef.SecurityCollateral BefSecurityCollateral  ,
          Bef.Approved BefApproved  ,
          Bef.Discrepancy BefDiscrepancy  ,
          Bef.LimitApproved BefLimitApproved  ,
          Bef.GraceTerms BefGraceTerms  ,
          Bef.RcdMaintainSts BefRcdMaintainSts  ,
          Bef.FinRepayMethod BefFinRepayMethod  ,
          CcyEditField 
     FROM AuditHeader TH
            JOIN SecUsers_View T1
             ON TH.AuditUsrId = T1.UsrID
            LEFT JOIN AdtFinanceMain AFT
             ON TH.AuditId = AFT.AuditId
            AND TH.AuditDate = AFT.AuditDate
            AND AFT.AuditImage = 'A'
            FULL JOIN AdtFinanceMain BEF
             ON TH.AuditId = BEF.AuditId
            AND TH.AuditDate = BEF.AuditDate
            AND BEF.AuditImage = 'B'
            JOIN RMTCurrencies_View C
             ON C.CcyCode = Aft.FinCcy
     WHERE TH.AuditTranType != 'W'
             AND TH.AuditModule = 'FinanceDetail'
        </createView>
    </changeSet>
	<changeSet id="20" author="Satish">
		<dropTable tableName="AdtPayOrderIssueDetail" />
	</changeSet>	
</databaseChangeLog>
