<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PFFBFSQCAudit.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()::timestamp" dbms="postgresql" />
	
	
	<changeSet id="01" author="SriRam">
	 <dropTable tableName="FinPftDetails_Snapshot" /> 
	 <dropTable tableName="FinODDetails_Snapshot" /> 	
</changeSet>
<changeSet id="02" author="SriRam">
	<createTable tableName="FinPftDetails_Snapshot">
		<column name="APPDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="FINREFERENCE" type="VARCHAR(20)" />
		<column name="CUSTID" type="BIGINT" />
		<column name="FINBRANCH" type="VARCHAR(12)" />
		<column name="FINTYPE" type="VARCHAR(8)" />
		<column name="LASTMDFDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="TOTALPFTSCHD" type="DECIMAL(18,0)" />
		<column name="TOTALPFTCPZ" type="DECIMAL(18,0)" />
		<column name="TOTALPFTPAID" type="DECIMAL(18,0)" />
		<column name="TOTALPFTBAL" type="DECIMAL(18,0)" />
		<column name="TOTALPFTPAIDINADV" type="DECIMAL(18,0)" />
		<column name="TOTALPRIPAID" type="DECIMAL(18,0)" />
		<column name="TOTALPRIBAL" type="DECIMAL(18,0)" />
		<column name="TDSCHDPFT" type="DECIMAL(18,0)" />
		<column name="TDPFTCPZ" type="DECIMAL(18,0)" />
		<column name="TDSCHDPFTPAID" type="DECIMAL(18,0)" />
		<column name="TDSCHDPFTBAL" type="DECIMAL(18,0)" />
		<column name="PFTACCRUED" type="DECIMAL(18,0)" />
		<column name="PFTACCRUESUSP" type="DECIMAL(18,0)" />
		<column name="PFTAMZ" type="DECIMAL(18,0)" />
		<column name="PFTAMZSUSP" type="DECIMAL(18,0)" />
		<column name="TDSCHDPRI" type="DECIMAL(18,0)" />
		<column name="TDSCHDPRIPAID" type="DECIMAL(18,0)" />
		<column name="TDSCHDPRIBAL" type="DECIMAL(18,0)" />
		<column name="ACRTILLLBD" type="DECIMAL(18,0)" />
		<column name="AMZTILLLBD" type="DECIMAL(18,0)" />
		<column name="REPAYFRQ" type="VARCHAR(5)" />
		<column name="CUSTCIF" type="VARCHAR(20)" />
		<column name="FINCCY" type="CHAR(3)" />
		<column name="FINPURPOSE" type="VARCHAR(8)" />
		<column name="FINCONTRACTDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="FINAPPROVEDDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="FINSTARTDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="MATURITYDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="FULLPAIDDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="FINAMOUNT" type="DECIMAL(18,0)" />
		<column name="DOWNPAYMENT" type="DECIMAL(18,0)" />
		<column name="CURREDUCINGRATE" type="DECIMAL(13,9)" />
		<column name="CURFLATRATE" type="DECIMAL(13,9)" />
		<column name="TOTALPRISCHD" type="DECIMAL(18,0)" />
		<column name="ODPRINCIPAL" type="DECIMAL(18,0)" />
		<column name="ODPROFIT" type="DECIMAL(18,0)" />
		<column name="PENALTYPAID" type="DECIMAL(18,0)" />
		<column name="PENALTYDUE" type="DECIMAL(18,0)" />
		<column name="PENALTYWAIVED" type="DECIMAL(18,0)" />
		<column name="NSCHDDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="NSCHDPRI" type="DECIMAL(18,0)" />
		<column name="NSCHDPFT" type="DECIMAL(18,0)" />
		<column name="NSCHDPRIDUE" type="DECIMAL(18,0)" />
		<column name="NSCHDPFTDUE" type="DECIMAL(18,0)" />
		<column name="PFTINSUSP" type="BOOLEAN" />
		<column name="FINSTATUS" type="VARCHAR(8)" />
		<column name="FINSTSREASON" type="VARCHAR(1)" />
		<column name="FINWORSTSTATUS" type="VARCHAR(8)" />
		<column name="NOINST" type="BIGINT" />
		<column name="NOPAIDINST" type="BIGINT" />
		<column name="NOODINST" type="BIGINT" />
		<column name="FINACCOUNT" type="VARCHAR(50)" />
		<column name="FINACTYPE" type="VARCHAR(8)" />
		<column name="DISBACCOUNTID" type="VARCHAR(50)" />
		<column name="DISBACTCCY" type="CHAR(3)" />
		<column name="REPAYACCOUNTID" type="VARCHAR(50)" />
		<column name="FINCUSTPFTACCOUNT" type="VARCHAR(50)" />
		<column name="INCOMEACCOUNT" type="VARCHAR(50)" />
		<column name="UEINCOMESUSPACCOUNT" type="VARCHAR(50)" />
		<column name="FINCOMMITMENTREF" type="VARCHAR(20)" />
		<column name="FINISACTIVE" type="BOOLEAN" />
		<column name="FIRSTREPAYDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="FIRSTREPAYAMT" type="DECIMAL(18,0)" />
		<column name="FINALREPAYAMT" type="DECIMAL(18,0)" />
		<column name="CURODDAYS" type="INT" />
		<column name="FIRSTODDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="PRVODDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="CLOSINGSTATUS" type="CHAR(1)" />
		<column name="FINCATEGORY" type="VARCHAR(8)" />
		<column name="PRVRPYSCHDATE" type="datetime" defaultValueDate="CURRENT_TIMESTAMP" />
		<column name="PRVRPYSCHPRI" type="DECIMAL(18,0)" />
		<column name="PRVRPYSCHPFT" type="DECIMAL(18,0)" />
		<column name="LATESTRPYDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="LATESTRPYPRI" type="DECIMAL(18,0)" />
		<column name="LATESTRPYPFT" type="DECIMAL(18,0)" />
		<column name="TOTALWRITEOFF" type="DECIMAL(18,0)" />
		<column name="ACCUMULATEDDEPPRI" type="DECIMAL(18,0)" />
		<column name="DEPRECIATEPRI" type="DECIMAL(18,0)" />
		<column name="TOTALADVPFTSCHD" type="DECIMAL(18,0)" />
		<column name="TOTALRBTSCHD" type="DECIMAL(18,0)" />
		<column name="TOTALPRIPAIDINADV" type="DECIMAL(18,0)"/>
		<column name="TDSCHDADVPFT" type="DECIMAL(18,0)" />
		<column name="TDSCHDRBT" type="DECIMAL(18,0)" />
		<column name="PFTAMZNORMAL" type="DECIMAL(18,0)" />
		<column name="PFTAMZPD" type="DECIMAL(18,0)" />
		<column name="AMZTILLLBDNORMAL" type="DECIMAL(18,0)" />
		<column name="AMZTILLLBDPD" type="DECIMAL(18,0)" />
		<column name="AMZTILLLBDPIS" type="DECIMAL(18,0)" />
		<column name="MAXODDAYS" type="INT" />
		<column name="CALPFTONPD" type="BOOLEAN" />
		<column name="PFTONPDMETHOD" type="VARCHAR(8)" />
		<column name="TOTPFTONPD" type="DECIMAL(18,0)" />
		<column name="TOTPFTONPDPAID" type="DECIMAL(18,0)" />
		<column name="TOTPFTONPDWAIVED" type="DECIMAL(18,0)" />
		<column name="TOTPFTONPDDUE" type="DECIMAL(18,0)" />
		<column name="ACRSUSPTILLLBD" type="DECIMAL(18,0)" />
		<column name="PRVMTHAMZ" type="DECIMAL(18,0)" />
		<column name="PRVMTHAMZNRM" type="DECIMAL(18,0)" />
		<column name="PRVMTHAMZPD" type="DECIMAL(18,0)" />
		<column name="PRVMTHAMZSUSP" type="DECIMAL(18,0)" />
		<column name="PRVMTHACR" type="DECIMAL(18,0)" />
		<column name="PRVMTHACRSUSP" type="DECIMAL(18,0)" />
		<column name="FIRSTDISBDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="LATESTDISBDATE" type="datetime"  defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="FUTUREINST" type="INT" />
		<column name="REMAININGTENOR" type="INT" />
		<column name="TOTALTENOR" type="INT" />
		<column name="PFTONPDMRG" type="DECIMAL(13,9)" />
		<column name="EXCESSAMT" type="DECIMAL(18,0)" />
		<column name="EMIINADVANCE" type="DECIMAL(18,0)" />
		<column name="PAYABLEADVISE" type="DECIMAL(18,0)" />
		<column name="PRODUCTCATEGORY" type="VARCHAR(8)" />
		<column name="EXCESSAMTRESV" type="DECIMAL(18,0)"/>
		<column name="EMIINADVANCERESV" type="DECIMAL(18,0)" />
		<column name="PAYABLEADVISERESV" type="DECIMAL(18,0)" />
		<column name="TOTCHARGESPAID" type="DECIMAL(18,0)" />
		<column name="LINKEDFINREF" type="VARCHAR(500)" />
		<column name="CLOSEDLINKEDFINREF" type="VARCHAR(500)" />
		<column name="UPFRONTFEE" type="DECIMAL(18,0)" />
		<column name="BOUNCEAMTDUE" type="DECIMAL(18,0)" />
		<column name="BOUNCEAMTPAID" type="DECIMAL(18,0)" />
		<column name="BOUNCEAMT" type="DECIMAL(18,0)" />
		<column name="RECEIVABLEADVISE" type="DECIMAL(18,0)" />
		<column name="EXCESSAMTBAL" type="DECIMAL(18,0)" />
		<column name="EMIINADVANCEBAL" type="DECIMAL(18,0)" />
		<column name="RECEIVABLEADVISEBAL" type="DECIMAL(18,0)" />
		<column name="PAYABLEADVISEBAL" type="DECIMAL(18,0)" />
	</createTable>
</changeSet>
<changeSet id="03" author="SriRam">
	<createTable tableName="FinODDetails_Snapshot">
		<column name="APPDATE" type="datetime" defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="FINREFERENCE" type="VARCHAR(20)" />
		<column name="FINODSCHDDATE" type="datetime" defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="FINODFOR" type="VARCHAR(1)" />
		<column name="FINBRANCH" type="VARCHAR(12))" />
		<column name="FINTYPE" type="VARCHAR(8)" />
		<column name="CUSTID" type="BIGINT" />
		<column name="FINODTILLDATE" type="datetime" defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="FINCURODAMT" type="DECIMAL(18,0)" />
		<column name="FINCURODPRI" type="DECIMAL(18,0)" />
		<column name="FINCURODPFT" type="DECIMAL(18,0)" />
		<column name="FINMAXODAMT" type="DECIMAL(18,0)" />
		<column name="FINMAXODPRI" type="DECIMAL(18,0)" />
		<column name="FINMAXODPFT" type="DECIMAL(18,0)" />
		<column name="GRACEDAYS" type="INT" />
		<column name="INCGRACEDAYS" type="BOOLEAN" />
		<column name="FINCURODDAYS" type="INT" />
		<column name="TOTPENALTYAMT" type="DECIMAL(18,0)" />
		<column name="TOTWAIVED" type="DECIMAL(18,0)" />
		<column name="TOTPENALTYPAID" type="DECIMAL(18,0)" />
		<column name="TOTPENALTYBAL" type="DECIMAL(18,0)" />
		<column name="FINLMDFDATE" type="datetime" defaultValueDate="CURRENT_TIMESTAMP"/>
		<column name="LPIAMT" type="DECIMAL(18,0)" />
		<column name="LPIPAID" type="DECIMAL(18,0)" />
		<column name="LPIBAL" type="DECIMAL(18,0)" />
		<column name="LPIWAIVED" type="DECIMAL(18,0)" />
		<column name="ODCHARGETYPE" type="CHAR(1)" />
		<column name="ODGRACEDAYS" type="INT" />
		<column name="ODCHARGECALON	" type="VARCHAR(8)" />
		<column name="ODCHARGEAMTORPERC" type="DECIMAL(18,0)" />
		<column name="ODALLOWWAIVER" type="BOOLEAN"/>
		<column name="ODMAXWAIVERPERC" type="NUMBER(5,2)" />
		<column name="APPLYODPENALTY" type="BOOLEAN" />
		<column name="ODINCGRCDAYS" type="BOOLEAN" />
	</createTable>
</changeSet>
<changeSet id="30" author="SriRam">
		<addPrimaryKey tableName="FinPftDetails_Snapshot" constraintName="pk_finPftDetails_Snapshot" columnNames="APPDATE,FINREFERENCE"/>
		<addPrimaryKey tableName="FinODDetails_Snapshot" constraintName="pk_finODDetails_Snapshot" columnNames="APPDATE,FINREFERENCE,FINODSCHDDATE,FINODFOR"/>
</changeSet>
	
</databaseChangeLog>