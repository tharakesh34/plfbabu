<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PFFBFSQCAudit.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()::timestamp" dbms="postgresql" />
	
	<changeSet id="01" author="Surekha">
				<createTable tableName="Entities">
			<column name="EntityCode" type="varchar(8)">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="EntityDesc" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="Active" type="boolean"/>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />   
		</createTable> 
	</changeSet>
	
	<changeSet id="02" author="Surekha">
				<createTable tableName="Entities_Temp">
			<column name="EntityCode" type="varchar(8)">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="EntityDesc" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="Active" type="boolean"/>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />   
		</createTable> 
	</changeSet>
	<changeSet id="03" author="SreeRavali">
	<sql>

		Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
		Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from
		SecGroupRights);

		Delete from SecGroupRights where RightID In (Select RightID from SecRights
		where RightName = 'menuItem_FinanceManagement_Restructure');
		Delete from SecRights where RightName =
		'menuItem_FinanceManagement_Restructure';
		Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 0,
		'menuItem_FinanceManagement_Restructure', 'RestructureDialog', 1,
		1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );

		Insert into secGroupRights Values((Select max(GrpRightID) + 1 from
		SecGroupRights), (Select GrpID from SecGroups where GrpCode =
		'RESTRUCTURE_MAKER'), (Select RightID from SecRights where RightName =
		'menuItem_FinanceManagement_Restructure'), 1, 1, 1000,
		CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );

		Delete from SecGroupRights where RightID In (Select RightID from SecRights
		where RightName = 'menuCat_FinanceManagement') and grpid in (select
		grpid from secgroups where grpcode ='RESTRUCTURE_MAKER');
		Insert into secGroupRights Values((Select max(GrpRightID) + 1 from
		SecGroupRights), (Select GrpID from SecGroups where GrpCode =
		'RESTRUCTURE_MAKER'), (Select RightID from SecRights where RightName =
		'menuCat_FinanceManagement'), 1, 1, 1000, CURRENT_TIMESTAMP, null,
		null, null, null, null, null, 0 );

		Insert into secGroupRights Values((Select max(GrpRightID) + 1 from
		SecGroupRights), (Select GrpID from SecGroups where GrpCode =
		'RESTRUCTURE_APPROVER'), (Select RightID from SecRights where
		RightName = 'menuItem_FinanceManagement_Restructure'), 1, 1, 1000,
		CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );

		Delete from SecGroupRights where RightID In (Select RightID from SecRights
		where RightName = 'menuCat_FinanceManagement') and grpid in (select
		grpid from secgroups where grpcode ='RESTRUCTURE_APPROVER');
		Insert into secGroupRights Values((Select max(GrpRightID) + 1 from
		SecGroupRights), (Select GrpID from SecGroups where GrpCode =
		'RESTRUCTURE_APPROVER'), (Select RightID from SecRights where
		RightName = 'menuCat_FinanceManagement'), 1, 1, 1000,
		CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );

		Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
		Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from
		SecGroupRights);

	</sql>
</changeSet>
	<changeSet id="04" author="Surekha">
	<addColumn tableName="SMTDivisionDetail">
		<column name="EntityCode" type="varchar(8)">
		</column>
	</addColumn>
</changeSet>
<changeSet id="05" author="Surekha">
	<addColumn tableName="SMTDivisionDetail_Temp">
		<column name="EntityCode" type="varchar(8)">
		</column>
	</addColumn>
</changeSet>
<changeSet id="06" author="Surekha">
	<createView viewName="Entities_View" replaceIfExists="true">
		  SELECT	 T1.EntityCode, T1.EntityDesc, T1.Active, T1.Version , 
					 T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM     Entities_Temp  T1 
		UNION ALL
		 	  SELECT	 T1.EntityCode, T1.EntityDesc, T1.Active, T1.Version , 
					 T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM     Entities  T1  
			
		WHERE NOT EXISTS ( SELECT 1  FROM Entities_Temp WHERE EntityCode = T1.EntityCode )
	</createView>
</changeSet>
<changeSet id="07" author="Surekha">
	<createView viewName="Entities_AView" replaceIfExists="true">
		  SELECT	 T1.EntityCode, T1.EntityDesc, T1.Active, T1.Version , 
					 T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM     Entities T1 
	</createView>
</changeSet>
<changeSet id="08" author="Irfan">
	<addColumn tableName="RMTFINANCETYPES">
		<column name="ProductCategory" type="VARCHAR(8)"/>
	</addColumn>
	<addColumn tableName="RMTFINANCETYPES_TEMP">
		<column name="ProductCategory" type="VARCHAR(8)"/>
	</addColumn>
	</changeSet>
	<changeSet id="09" author="Irfan">
		<createView viewName="RMTFINANCETYPES_VIEW" replaceIfExists="true">
		SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate,T1.FinIsIntCpzAtGrcEnd,
					  T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName,T1.Product, T1.StartDate, T1.EndDate,
					   T1.AllowDownpayPgm, T1.FinTypeDesc lovDescPromoFinTypeDesc, 
			          T1.Remarks, T1.AlwEarlyPayMethods, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					  T1.AlwAdvanceRent, T1.GrcAdvBaseRate,T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay, T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.RoundingMode,T1.RoundingTarget, T1.FrequencyDays, T1.QuickDisb,T1.AlwMaxDisbCheckReq,
						T1.AlwReage,T1.AlwUnPlanEmiHoliday,
							T1.ProfitCenterID, T69.ProfitCenterCode, T69.ProfitCenterDesc, T1.ProductCategory  

			FROM       RMTFinanceTypes_Temp T1 LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId LEFT OUTER JOIN 
                       ProfitCenters T69 ON T69.ProfitCenterID = T1.ProfitCenterID
			UNION ALL
			SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName, 
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinIsIntCpzAtGrcEnd,
					  T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired, T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T1.Product, T1.StartDate, T1.EndDate,
					  T1.AllowDownpayPgm, T1.FinTypeDesc lovDescPromoFinTypeDesc, T1.Remarks, T1.AlwEarlyPayMethods, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					   T1.AlwAdvanceRent, T1.GrcAdvBaseRate,  T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay,T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays,T1.RoundingMode,T1.RoundingTarget, T1.FrequencyDays, T1.QuickDisb,T1.AlwMaxDisbCheckReq,
						T1.AlwReage,T1.AlwUnPlanEmiHoliday,
							T1.ProfitCenterID, T69.ProfitCenterCode, T69.ProfitCenterDesc, T1.ProductCategory  

			FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId LEFT OUTER JOIN 
                       ProfitCenters T69 ON T69.ProfitCenterID = T1.ProfitCenterID
			WHERE     (NOT EXISTS
			                          (SELECT     1 Expr1
			                            FROM          RMTFinanceTypes_Temp
			                            WHERE      (FinType = T1.FinType)))
		</createView>
	</changeSet>
	<changeSet id="10" author="Irfan">
		<createView viewName="RMTFINANCETYPES_AVIEW" replaceIfExists="true">
		SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
				           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
						   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension,  T1.EqualRepayment, T1.FinRateType,
						   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
				           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
						   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
						   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
						   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
						   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
						   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
						   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
						   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
				           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinIsIntCpzAtGrcEnd,
						   T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
						   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
				           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
				           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
				           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
				           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
						   T1.FinCommitmentOvrride, T1.FinCollateralOvrride, 
				           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
						   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
						   T49.AcTypeDesc lovDescFinSuspAcTypeName,T1.Product, T1.StartDate, T1.EndDate,
						   T1.AllowDownpayPgm, T1.Remarks, 
						   T1.AlwEarlyPayMethods,T1.PastduePftCalMthd,T1.PastduePftMargin, 
						   T1.AlwAdvanceRent, T1.GrcAdvBaseRate, 
				           T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate,  
				           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
						   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
						   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
						   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
						   T1.RateChgAnyDay, T1.FinRepayPftOnFrq,
						    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
							T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, 
							T1.AlwdRpyMethods, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.RoundingMode,  T1.RoundingTarget,T1.FrequencyDays, T1.QuickDisb,T1.AlwReage,
							T1.AlwUnPlanEmiHoliday,T1.AlwMaxDisbCheckReq, T1.FinTypeDesc lovDescPromoFinTypeDesc,
							T1.ProfitCenterID, T69.ProfitCenterCode, T69.ProfitCenterDesc, T1.ProductCategory 
				FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
				           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
				           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
				           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
				           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
				           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
				           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
				           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
				           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
				           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
				           Rules T68 ON T1.RpyPricingMethod = T68.RuleId LEFT OUTER JOIN 
                  		   ProfitCenters T69 ON T69.ProfitCenterID = T1.ProfitCenterID
		</createView>
	</changeSet>
	<changeSet id="11" author="Irfan">
		<createView viewName="RMTFINANCETYPES_ORGVIEW" replaceIfExists="true">
			SELECT		T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, 
					T1.FinContingentAcType, T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, 
					T1.FinIsAlwMD, T1.FinSchdMthd, T1.FInIsAlwGrace, T1.EqualRepayment, T1.FinRateType, 
					T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, 
					T1.FinIsIntCpz, T1.FinCpzFrq, T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, 
					T1.FinGrcSplRate, T1.FinGrcIntRate, T1.FInGrcMinRate, T1.FinGrcMaxRate, T1.FinGrcDftIntFrq, 
					T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, T1.FinGrcRvwFrq, T1.FinMinTerm, 
					T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwDifferment, 
					T1.FinMaxDifferment, T1.FinIsActive, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, 
					T1.AlwdStepPolicies, T1.DftStepPolicy, T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,
					T1.FinAlwRateChangeAnyDate,  T1.FinIsIntCpzAtGrcEnd, T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment, 
					T1.PlanDeferCount, T1.PftPayAcType, T1.FinIsOpenPftPayAcc, T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, 
					T1.FinGrcMargin, T1.FinMargin, T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, 
					T1.FinDepreciationFrq, T1.FinBankContingentAcType, T1.FinProvisionAcType, T1.AllowRIAInvestment, 
					T1.OverrideLimit, T1.LimitRequired, T1.FinCommitmentOvrride, T1.FinCollateralOvrride, 
					T1.FinRepayPftOnFrq, T1.FinPftUnChanged, T1.ApplyODPenalty, T1.ODIncGrcDays, T1.ODChargeType, 
					T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc, T1.ODAllowWaiver, T1.ODMaxWaiverPerc, 
					T1.FinDivision, T3.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType, T1.Product, 
					T1.StartDate, T1.EndDate, T1.AllowDownpayPgm, T1.FinTypeDesc lovDescPromoFinTypeDesc, T1.Remarks, 
					T4.PolicyDesc lovDescDftStepPolicyName, T1.PastduePftCalMthd,  T1.AlwAdvanceRent, 
					T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, 
					T1.RpyAdvPftRate, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule, T1.AlwMultiPartyDisb, 
					T1.collateralType, T1.TDSApplicable, T5.RuleCode DownPayRuleDesc, T1.ApplyGrcPricing, 
					T1.ApplyRpyPricing, T6.RuleCode GrcPricingMethodDesc, T7.RuleCode RpyPricingMethodDesc, 
					T1.DroplineOD, T1.DroppingMethod, T1.RateChgAnyDay, T4.StepType DftStepPolicyType, 
					T1.ManualSchedule, T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , 
					T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax ,T1.PlanEMIHLockPeriod , 
					T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, 
					T1.AlwdRpyMethods, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.RoundingMode,T1.RoundingTarget, T1.FrequencyDays, 
					T1.QuickDisb,T1.AlwReage,T1.AlwUnPlanEmiHoliday,T1.AlwMaxDisbCheckReq, T1.ProductCategory, T1.RpyHierarchy
					FROM			RMTFinanceTypes T1 INNER JOIN
                    SMTDivisionDetail T3 ON T1.FinDivision = T3.DivisionCode LEFT OUTER JOIN
					                StepPolicyHeader T4 ON T1.DftStepPolicy = T4.PolicyCode LEFT OUTER JOIN
					                Rules T5 ON T1.DownPayRule = T5.RuleId LEFT OUTER JOIN
					                Rules T6 ON T1.GrcPricingMethod = T6.RuleId LEFT OUTER JOIN
					                Rules T7 ON T1.RpyPricingMethod = T7.RuleId
		
		</createView>
	</changeSet>
	<changeSet id="12" author="Irfan">
	<addColumn tableName="FINANCEMAIN">
		<column name="ReAgeBucket" type="int"/>
		<column name="FinCategory" type="VARCHAR2(8)"/>
		<column name="ProductCategory"  type="VARCHAR(8)"/>
	</addColumn>
	<addColumn tableName="FINANCEMAIN_TEMP">
		<column name="ReAgeBucket" type="int"/>
		<column name="FinCategory" type="VARCHAR2(8)"/>
		<column name="ProductCategory"  type="VARCHAR(8)"/>
	</addColumn>
	<addColumn tableName="FINANCEMAIN_PA">
		<column name="ReAgeBucket" type="int"/>
		<column name="FinCategory" type="VARCHAR2(8)"/>
		<column name="ProductCategory"  type="VARCHAR(8)"/>
	</addColumn>
	</changeSet>
	<changeSet id="13" author="Irfan">
		<createView viewName="FINANCEMAIN_VIEW" replaceIfExists="true">
		SELECT     T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                     T7.FinTypeDesc lovDescFinTypeName, 
                      T7.FinMaxAmount lovDescFinMaxAmt, T7.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T7.FinIsAlwDifferment lovDescFinAlwDeferment, T7.FinIsDwPayRequired lovDescDwnPayReq, T7.FinMaxDifferment lovDescFinMaxDifferment, 
                      T12.BranchDesc lovDescFinBranchName, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate, 
                     T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, 
                        T17.AcrTillLBD lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor,  T1.TotalRepayAmt, 
                      T1.ClosingStatus, T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                     T1.MigratedFinance, T1.ScheduleMaintained, 
                      T1.ScheduleRegenerated, T1.FinPurpose, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T7.FinScheduleOn LovDescFinScheduleOn, T1.CustDSR, 
                     T1.JointAccount, T1.JointCustId, 
                      T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral,  T1.Approved,  T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T7.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T1.DeviationApproval, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                     T1.SupplementRent, T1.IncreasedCost,  T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FinPreApprovedRef, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc,T28.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T30.ROfficerDesc DSACodeDesc,
					 T1.TDSApplicable, T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,
					  T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.AvailedUnPlanEmi, T1.AvailedReAgeH, T1.BpiAmount, T1.DeductFeeDisb,T1.RvwRateApplFor,T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay, T1.PromotionCode,
					  T1.ReAgeBucket, T1.FinCategory, T1.ProductCategory
						FROM         FinanceMain_Temp T1   INNER JOIN
                      RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBranches T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FINPFTDETAILS T17 ON T17.FINREFERENCE = T1.FINREFERENCE LEFT OUTER JOIN
                      StepPolicyHeader T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN
                      RMTGenDepartments T28 ON T1.AccountsOfficer = T28.GenDepartment LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN 
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T35 ON T1.SalesDepartment = T35.GenDepartment 
			 
	UNION ALL
			SELECT     T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                     T7.FinTypeDesc lovDescFinTypeName, 
                      T7.FinMaxAmount lovDescFinMaxAmt, T7.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T7.FinIsAlwDifferment lovDescFinAlwDeferment, T7.FinIsDwPayRequired lovDescDwnPayReq, T7.FinMaxDifferment lovDescFinMaxDifferment, 
                      T12.BranchDesc lovDescFinBranchName, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate, 
                     T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, 
                        T17.AcrTillLBD lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor, T1.TotalRepayAmt, 
                      T1.ClosingStatus, T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                     T1.MigratedFinance, T1.ScheduleMaintained, 
                      T1.ScheduleRegenerated, T1.FinPurpose, T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T7.FinScheduleOn LovDescFinScheduleOn, T1.CustDSR,  
                     T1.JointAccount, T1.JointCustId, 
                      T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral,  T1.Approved,  T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T7.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T1.DeviationApproval, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                     T1.SupplementRent, T1.IncreasedCost,  T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FinPreApprovedRef, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc,T28.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T30.ROfficerDesc DSACodeDesc,
					 T1.TDSApplicable, T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,
					  T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.AvailedUnPlanEmi, T1.AvailedReAgeH,
					  T1.BpiAmount, T1.DeductFeeDisb,T1.RvwRateApplFor,T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay, T1.PromotionCode,
					  T1.ReAgeBucket, T1.FinCategory, T1.ProductCategory
						FROM         FinanceMain T1 INNER JOIN
                      RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                      RMTBranches T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FINPFTDETAILS T17 ON T17.FINREFERENCE = T1.FINREFERENCE LEFT OUTER JOIN
                      StepPolicyHeader T24 ON T1.StepPolicy = T24.PolicyCode LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN
                      RMTGenDepartments T28 ON T1.AccountsOfficer = T28.GenDepartment LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN 
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T35 ON T1.SalesDepartment = T35.GenDepartment 
						WHERE     (NOT EXISTS
                          (SELECT     1 Expr1
                            FROM          FinanceMain_Temp
                            WHERE      (FINREFERENCE = T1.FINREFERENCE)))
		</createView>
	</changeSet>
	<changeSet id="14" author="Irfan">
		<createView viewName="FINANCEMAIN_TVIEW" replaceIfExists="true">
		SELECT	T1.FinReference, T1.InvestmentRef, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, 
                      T1.GrcPftFrq, T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, 
                      T1.RepayBaseRate, T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, 
                      T1.RepayRvwFrq, T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, 
                      T1.GraceFlatAmount, T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, 
                      T1.RepayRateBasis, T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, 
                      T1.LastRepay, T1.FinStartDate, T1.FinAmount,  T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T2.FinTypeDesc lovDescFinTypeName, T2.FinMaxAmount lovDescFinMaxAmt, T2.FinMinAmount lovDescFinMinAmount, T1.MinDownpayPerc, 
                      T4.BranchDesc lovDescFinBranchName, T1.LastRepayDate,  T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate,  
                      T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef,
                      T1.DepreciationFrq, T1.FinContractDate,  T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount,  
                      T1.TotalRepayAmt,T1.FinApprovedDate, T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                      T1.MigratedFinance, T1.ScheduleMaintained, T1.ScheduleRegenerated, T1.FinPurpose,T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.BankName, T1.iban, 
                      T1.AccountType, T1.DdaReferenceNo, T1.CustDSR,
                      T1.JointAccount, T1.JointCustId, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, 
                      T1.SecurityCollateral,  T1.Approved,   T1.Discrepancy, T1.LimitApproved, T1.GraceTerms, 
                      T2.FinDivision lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps, T1.LinkedFinRef, T1.NextUserId, T1.Priority, T5.PolicyDesc LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T1.DeviationApproval,T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                      T1.SupplementRent, T1.IncreasedCost, T1.CreditInsAmt, T1.RolloverFrq, 
                      T1.NextRolloverDate,  T1.ShariaStatus, T1.InitiateDate, T1.FinPreApprovedRef, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId, T1.FinCancelAc, T6.GenDeptDesc lovDescAccountsOfficer,T1.DSACode,T7.ROfficerDesc DSACodeDesc,
					  T1.TDSApplicable, T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,
					  T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , 
					  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo ,
					  T1.ReferralId , T8.ROfficerDesc ReferralIdDesc, T1.DmaCode , T9.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T10.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.AvailedUnPlanEmi, T1.AvailedReAgeH,
					  T1.BpiAmount, T1.DeductFeeDisb,T1.RvwRateApplFor,T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay, T1.PromotionCode,
					  T1.ReAgeBucket, T1.FinCategory, T1.ProductCategory
			FROM      FinanceMain_Temp T1 INNER JOIN
                      RMTFinanceTypes T2 ON T1.FinType = T2.FinType  INNER JOIN
                      RMTBranches T4 ON T1.FinBranch = T4.BranchCode LEFT OUTER JOIN
                      StepPolicyHeader T5 ON T1.StepPolicy = T5.PolicyCode LEFT OUTER JOIN
                      RMTGenDepartments T6 ON T1.AccountsOfficer = T6.GenDepartment LEFT OUTER JOIN
					  RelationshipOfficers T7 ON T1.DSACode = T7.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T8 ON T1.ReferralId = T8.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T9 ON T1.DmaCode = T9.ROfficerCode LEFT OUTER JOIN
					  RMTGenDepartments T10 ON T1.SalesDepartment = T10.GenDepartment
		
		</createView>
	</changeSet>
	<changeSet id="15" author="Irfan">
	<createView viewName="FINANCEMAIN_AVIEW" replaceIfExists="true">
		SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGrossGrcPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, 
                      T1.FinType, T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, 
                      T1.FinStartDate, T1.FinAmount, T1.FinAmount + T1.FeeChargeAmt - T1.DownPayment  lovDescFinancingAmount, T1.FinRepaymentAmount, T1.CustID, 
                      T1.Defferments, T1.PlanDeferCount, T1.FinBranch, T1.FinSourceID, T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, 
                      T1.AvailedDefFrqChange, T1.RecalType, T1.FinAssetValue, T1.DisbAccountId, T1.RepayAccountId, T1.FinIsActive, T1.LimitValid, T1.OverrideLimit, T1.SecurityDeposit, 
                      T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId, 
                      T7.FinTypeDesc  lovDescFinTypeName, T7.FinMaxAmount  lovDescFinMaxAmt, T7.FinMinAmount  lovDescFinMinAmount, 
                      T1.MinDownpayPerc, T7.FinIsAlwDifferment  lovDescFinAlwDeferment, T7.FinIsDwPayRequired  lovDescDwnPayReq, 
                      T7.FinMaxDifferment  lovDescFinMaxDifferment,T12.BranchDesc  lovDescFinBranchName, T1.LastRepayDate, T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, 
                       T1.AllowGrcRepay, T1.GrcSchdMthd, T1.GrcMargin, T1.RepayMargin, T1.FinCurrAssetValue, T1.FinCommitmentRef, T1.FinLimitRef, T1.DepreciationFrq, T1.FinContractDate, 
                      T1.NextDepDate, T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount,   T17.AcrTillLBD  lovDescAccruedTillLBD, 
                      T7.FinRvwRateApplFor,  T1.TotalRepayAmt, T1.ClosingStatus, T1.FinApprovedDate, 
                      T1.FeeChargeAmt, T1.Blacklisted, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, T1.EffectiveRateOfReturn, 
                     T1.MigratedFinance, T1.ScheduleMaintained, T1.ScheduleRegenerated, T1.FinPurpose, 
                     T1.FinStatus, T1.FinStsReason, T1.InitiateUser, T1.bankName, T1.iban, T1.accountType, T1.DdaReferenceNo, 
                      T7.FinScheduleOn  LovDescFinScheduleOn, T1.CustDSR,
                      T1.JointAccount, T1.JointCustId, T1.DownPayBank, T1.DownPaySupl, T1.DownPayAccount, T1.SecurityCollateral, 
                       T1.Approved,   T1.Discrepancy, T1.LimitApproved, T1.InvestmentRef, T1.GraceTerms, 
                      T7.FinDivision  lovDescFinDivision, T1.RcdMaintainSts, T1.FinRepayMethod, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, 
                      T1.NoOfSteps,  T1.LinkedFinRef, T1.NextUserId, T1.Priority, T24.PolicyDesc  LovDescStepPolicyName, T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, 
                      T1.DeviationApproval, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, T1.RpyAdvMargin, T1.RpyAdvPftRate, 
                    T1.SupplementRent, T1.IncreasedCost, T1.RolloverFrq, 
                      T1.NextRolloverDate, T27.CustStsDescription, T1.ShariaStatus, T1.InitiateDate, T1.FINPREAPPROVEDREF, T1.MMAId, T1.AccountsOfficer, 
                      T1.feeAccountId,T1.FinCancelAc,T28.GenDeptDesc lovDescAccountsOfficer,T29.AgreeName,T29.MMAReference LovDescMMAReference,
					  T1.DSACode,T30.ROfficerDesc DSACodeDesc,T1.TDSApplicable,  T1.MandateID,T1.DroplineFrq,T1.FirstDroplineDate,
					  T1.PftServicingODLimit,T1.InsuranceAmt,T1.DeductInsDisb,T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod , 
					  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb , T1.ApplicationNo ,
					  T1.ReferralId , T33.ROfficerDesc ReferralIdDesc, T1.DmaCode , T34.ROfficerDesc DmaCodeDesc,  T1.SalesDepartment , T35.GenDeptDesc SalesDepartmentDesc , T1.QuickDisb , T1.WifReference,
					  T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz, T1.ReAgeCpz, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.AvailedUnPlanEmi, T1.AvailedReAgeH,
					  T1.BpiAmount, T1.DeductFeeDisb,T1.RvwRateApplFor, T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay, T1.PromotionCode,
					  T1.ReAgeBucket, T1.FinCategory, T1.ProductCategory
						FROM         FinanceMain T1 INNER JOIN
                      RMTFinanceTypes  T7 ON T1.FinType = T7.FinType  LEFT OUTER JOIN
                      RMTBranches  T12 ON T1.FinBranch = T12.BranchCode LEFT OUTER JOIN
                      FinPftDetails  T17 ON T17.FinReference = T1.FinReference LEFT OUTER JOIN
                      StepPolicyHeader  T24 ON T1.StepPolicy = T24.PolicyCode  LEFT OUTER JOIN
                      BMTCustStatusCodes T27 ON T1.finStatus = T27.CustStsCode LEFT OUTER JOIN 
					  RMTGENDEPARTMENTS T28 ON T1.ACCOUNTSOFFICER = T28.GENDEPARTMENT LEFT OUTER JOIN
					  MMAgreements T29 ON T1.MMAId = T29.MMAId LEFT OUTER JOIN
					  RelationshipOfficers T30 ON T1.DSACode = T30.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T33 ON T1.ReferralId = T33.ROfficerCode LEFT OUTER JOIN
					  RelationshipOfficers T34 ON T1.DmaCode = T34.ROfficerCode LEFT OUTER JOIN
					  RMTGENDEPARTMENTS T35 ON T1.SalesDepartment = T35.GENDEPARTMENT
</createView>
</changeSet>

<changeSet id="16" author="Irfan">
		<createView viewName="RMTFINANCETYPES_VIEW" replaceIfExists="true">
		SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate,T1.FinIsIntCpzAtGrcEnd,
					  T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T1.Product, T1.StartDate, T1.EndDate,
					   T1.AllowDownpayPgm, T1.FinTypeDesc lovDescPromoFinTypeDesc, 
			          T1.Remarks, T1.AlwEarlyPayMethods, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					  T1.AlwAdvanceRent, T1.GrcAdvBaseRate,T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay, T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.RoundingMode,T1.RoundingTarget, T1.FrequencyDays, T1.QuickDisb,T1.AlwMaxDisbCheckReq,
						T1.AlwReage,T1.AlwUnPlanEmiHoliday,
							T1.ProfitCenterID, T69.ProfitCenterCode, T69.ProfitCenterDesc, T1.ProductCategory  , T2.ProductDesc FinCategoryDesc

			FROM       RMTFinanceTypes_Temp T1 LEFT OUTER JOIN
					   BMTProduct T2 ON T1.FinCategory = T2.ProductCode LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId LEFT OUTER JOIN 
                       ProfitCenters T69 ON T69.ProfitCenterID = T1.ProfitCenterID
			UNION ALL
			SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
			           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
					   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension, T1.EqualRepayment, T1.FinRateType,
					   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
			           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
					   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
					   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
					   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
					   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
					   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
					   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
					   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName, 
			           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinIsIntCpzAtGrcEnd,
					  T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
					   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
			           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
			           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
			           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
			           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired, T1.FinCommitmentOvrride, T1.FinCollateralOvrride,
			           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
					   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
					   T49.AcTypeDesc lovDescFinSuspAcTypeName, T1.Product, T1.StartDate, T1.EndDate,
					  T1.AllowDownpayPgm, T1.FinTypeDesc lovDescPromoFinTypeDesc, T1.Remarks, T1.AlwEarlyPayMethods, T1.PastduePftCalMthd,T1.PastduePftMargin, 
					   T1.AlwAdvanceRent, T1.GrcAdvBaseRate,  T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
			           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
					   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
					   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
					   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
					   T1.RateChgAnyDay,T1.FinRepayPftOnFrq,
					    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
						T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, T1.AlwdRpyMethods, 
						T1.MaxUnplannedEmi, T1.MaxReAgeHolidays,T1.RoundingMode,T1.RoundingTarget, T1.FrequencyDays, T1.QuickDisb,T1.AlwMaxDisbCheckReq,
						T1.AlwReage,T1.AlwUnPlanEmiHoliday,
							T1.ProfitCenterID, T69.ProfitCenterCode, T69.ProfitCenterDesc, T1.ProductCategory , T2.ProductDesc FinCategoryDesc

			FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
			  BMTProduct T2 ON T1.FinCategory = T2.ProductCode LEFT OUTER JOIN
			           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
			           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
			           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
			           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
			           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
			           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
			           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
			           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
			           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
			           Rules T68 ON T1.RpyPricingMethod = T68.RuleId LEFT OUTER JOIN 
                       ProfitCenters T69 ON T69.ProfitCenterID = T1.ProfitCenterID
			WHERE     (NOT EXISTS
			                          (SELECT     1 Expr1
			                            FROM          RMTFinanceTypes_Temp
			                            WHERE      (FinType = T1.FinType)))
		</createView>
	</changeSet>
	<changeSet id="17" author="Irfan">
		<createView viewName="RMTFINANCETYPES_AVIEW" replaceIfExists="true">
		SELECT     T1.FinType, T1.FinCategory, T1.FinTypeDesc, T1.FinCcy, T1.FinDaysCalType, T1.FinAcType, T1.FinContingentAcType,
				           T1.FinIsGenRef, T1.FinMaxAmount, T1.FinMinAmount, T1.FinIsOpenNewFinAc, T1.FinDftStmtFrq, T1.FinIsAlwMD,
						   T1.FinSchdMthd, T1.FInIsAlwGrace, T1.FinHistRetension,  T1.EqualRepayment, T1.FinRateType,
						   T1.FinBaseRate, T1.FinSplRate, T1.FinIntRate, T1.FInMinRate, T1.FinMaxRate, T1.FinDftIntFrq, T1.FinIsIntCpz, T1.FinCpzFrq, 
				           T1.FinIsRvwAlw, T1.FinRvwFrq, T1.FinGrcRateType, T1.FinGrcBaseRate, T1.FinGrcSplRate, T1.FinGrcIntRate,
						   T1.FInGrcMinRate, T1.FinGrcMaxRate,T1.FinGrcDftIntFrq, T1.FinGrcIsIntCpz, T1.FinGrcCpzFrq, T1.FinGrcIsRvwAlw, 
						   T1.FinGrcRvwFrq, T1.FinMinTerm, T1.FinMaxTerm, T1.FinDftTerms, T1.FinRpyFrq, T1.FInRepayMethod, T1.FinIsAlwPartialRpy,
						   T1.FinIsAlwDifferment, T1.FinMaxDifferment, T1.FinIsAlwEarlyRpy, T1.FinIsAlwEarlySettle, T1.FinODRpyTries, T1.FinEarlyPayRule,
						   T1.FinEarlySettleRule, T1.FinDepositRestrictedTo,T1.FinAEBuyOrInception, T1.FinAESellOrMaturity, T1.FinIsActive, T1.Version,
						   T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType,
						   T1.WorkflowId, T1.StepFinance, T1.SteppingMandatory, T1.AlwManualSteps, T1.AlwdStepPolicies, T1.DftStepPolicy, 
						   T4.AcTypeDesc lovDescFinContingentAcTypeName,T5.AcTypeDesc lovDescFinAcTypeName,
				           T1.FinIsDwPayRequired, T1.FinRvwRateApplFor,T1.FinAlwRateChangeAnyDate, T1.FinIsIntCpzAtGrcEnd,
						   T1.FinElgRuleCode, T1.LimitElgRuleCode,T1.FinSchCalCodeOnRvw, T1.AlwPlanDeferment,
						   T1.PlanDeferCount, T1.FinAssetType, T1.PftPayAcType, T1.FinIsOpenPftPayAcc,T31.AcTypeDesc lovDescPftPayAcTypeName, 
				           T1.FinIsAlwGrcRepay, T1.FinGrcSchdMthd, T1.FinGrcMargin, T1.FinMargin,T1.FinScheduleOn, T1.FinGrcScheduleOn, 
				           T1.FinCommitmentReq, T1.FinCollateralReq, T1.FinDepreciationReq, T1.FinDepreciationFrq, T1.FinBankContingentAcType, 
				           T1.FinProvisionAcType, T38.AcTypeDesc lovDescFinBankContAcTypeName, T39.AcTypeDesc lovDescFinProvisionAcTypeName, 
				           T1.AllowRIAInvestment, T1.OverrideLimit, T1.LimitRequired,
						   T1.FinCommitmentOvrride, T1.FinCollateralOvrride, 
				           T1.FinPftUnChanged,T1.ApplyODPenalty, T1.ODIncGrcDays,T1.ODChargeType, T1.ODGraceDays, T1.ODChargeCalOn, T1.ODChargeAmtOrPerc,
						   T1.ODAllowWaiver, T1.ODMaxWaiverPerc, T1.FinDivision,T48.DivisionCodeDesc LovDescFinDivisionName, T1.FinSuspAcType,
						   T49.AcTypeDesc lovDescFinSuspAcTypeName,T1.Product, T1.StartDate, T1.EndDate,
						   T1.AllowDownpayPgm, T1.Remarks, 
						   T1.AlwEarlyPayMethods,T1.PastduePftCalMthd,T1.PastduePftMargin, 
						   T1.AlwAdvanceRent, T1.GrcAdvBaseRate, 
				           T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate,  
				           T1.RpyAdvMargin, T1.RpyAdvPftRate, T1.RollOverFinance, T1.RollOverFrq, T1.DownPayRule,
						   T59.RuleCode DownPayRuleDesc,T1.FinSuspTrigger, T1.FinSuspRemarks, T1.AlwMultiPartyDisb,T1.collateralType, T1.TDSApplicable,
						   T1.ManualSchedule,T1.ApplyGrcPricing ,T1.GrcPricingMethod, T1.ApplyRpyPricing, T1.RpyPricingMethod, T1.RpyHierarchy,
						   T67.RuleCode GrcPricingMethodDesc ,T68.RuleCode RpyPricingMethodDesc , T1.DroplineOD , T1.DroppingMethod ,
						   T1.RateChgAnyDay, T1.FinRepayPftOnFrq,
						    T1.AlwBPI , T1.BpiTreatment , T1.PftDueSchOn , T1.PlanEMIHAlw , T1.PlanEMIHMethod , T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , 
							T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.UnPlanEMIHLockPeriod , T1.UnPlanEMICpz , T1.ReAgeCpz, T1.FddLockPeriod, 
							T1.AlwdRpyMethods, T1.MaxUnplannedEmi, T1.MaxReAgeHolidays, T1.RoundingMode,  T1.RoundingTarget,T1.FrequencyDays, T1.QuickDisb,T1.AlwReage,
							T1.AlwUnPlanEmiHoliday,T1.AlwMaxDisbCheckReq, T1.FinTypeDesc lovDescPromoFinTypeDesc,
							T1.ProfitCenterID, T69.ProfitCenterCode, T69.ProfitCenterDesc, T1.ProductCategory , T2.ProductDesc FinCategoryDesc
				FROM       RMTFinanceTypes T1 LEFT OUTER JOIN
				  BMTProduct T2 ON T1.FinCategory = T2.ProductCode LEFT OUTER JOIN
				           RMTAccountTypes T4 ON T1.FinContingentAcType = T4.AcType LEFT OUTER JOIN
				           RMTAccountTypes T38 ON T1.FinBankContingentAcType = T38.AcType LEFT OUTER JOIN
				           RMTAccountTypes T39 ON T1.FinProvisionAcType = T39.AcType LEFT OUTER JOIN
				           RMTAccountTypes T5 ON T1.FinAcType = T5.AcType LEFT OUTER JOIN
				           RMTAccountTypes T31 ON T1.PftPayAcType = T31.AcType LEFT OUTER JOIN
				           SMTDivisionDetail T48 ON T1.FinDivision = T48.DivisionCode LEFT OUTER JOIN
				           RMTAccountTypes T49 ON T1.FinSuspAcType = T49.AcType LEFT OUTER JOIN
				           Rules T59 ON T1.DownPayRule = T59.RuleId LEFT OUTER JOIN
				           Rules T67 ON T1.GrcPricingMethod = T67.RuleId  LEFT OUTER JOIN
				           Rules T68 ON T1.RpyPricingMethod = T68.RuleId LEFT OUTER JOIN 
                  		   ProfitCenters T69 ON T69.ProfitCenterID = T1.ProfitCenterID
		</createView>
	</changeSet>
	<changeSet id="18" author="Madhubabu">
	<sql>
		INSERT INTO ErrorDetails VALUES('90290','EN','E','The record is in use and therefore cannot be deleted.','','Approved','','','','','',0,current_timestamp,1000,0);
	</sql>
	</changeSet>
	<changeSet id="19" author="SreeRavali">
	<sql>
	delete from secrolegroups where grpid in(select grpid from secgroups where grpcode  ='RESTRUCTURE_MAKER');
   delete from secrolegroups where grpid in(select grpid from secgroups where grpcode  ='RESTRUCTURE_APPROVER');
   INSERT INTO SecRoleGroups values ((SELECT MAX(RoleGrpID) + 1 from SecRoleGroups), (Select MAX(GrpId) from SecGroups WHERE GrpCode = 'RESTRUCTURE_MAKER'), (Select MAX(RoleID) from SecRoles WHERE RoleCd = 'OPERATIONS_OFFICER'), 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
  INSERT INTO SecRoleGroups values ((SELECT MAX(RoleGrpID) + 1 from SecRoleGroups), (Select MAX(GrpId) from SecGroups WHERE GrpCode = 'RESTRUCTURE_APPROVER'), (Select MAX(RoleID) from SecRoles WHERE RoleCd = 'OPERATIONS_MANAGER'), 0, 1000, CURRENT_TIMESTAMP, NULL, NULL, NULL, NULL, NULL, NULL, 0);
	</sql>
	</changeSet>
	<changeSet id="20" author="Surekha">
		<createView viewName="SMTDIVISIONDETAIL_VIEW" replaceIfExists="true">
			SELECT     T1.DivisionCode, T1.DivisionCodeDesc, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.AlwPromotion, T1.DivSuspTrigger, T1.DivSuspRemarks, T1.EntityCode,T2.EntityDesc
FROM         SMTDivisionDetail_Temp T1 LEFT JOIN
            Entities T2 ON T1.EntityCode= T2.EntityCode

UNION ALL 
SELECT     T1.DivisionCode, T1.DivisionCodeDesc, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.AlwPromotion, T1.DivSuspTrigger, T1.DivSuspRemarks,T1.EntityCode,T2.EntityDesc
FROM         SMTDivisionDetail T1 LEFT JOIN
            Entities T2 ON T1.EntityCode= T2.EntityCode
WHERE     NOT EXISTS
                          (SELECT     1
                            FROM          SMTDivisionDetail_TEMP
                            WHERE      DivisionCode = T1.DivisionCode)
		</createView>
	</changeSet>
	<changeSet id="21" author="Surekha">
		<createView viewName="SMTDIVISIONDETAIL_TVIEW" replaceIfExists="true">
			SELECT     T1.DivisionCode, T1.DivisionCodeDesc, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.AlwPromotion, T1.DivSuspTrigger, T1.DivSuspRemarks, T1.EntityCode,T2.EntityDesc
			FROM         SMTDivisionDetail_Temp T1 LEFT JOIN
            			 Entities T2 ON T1.EntityCode= T2.EntityCode

		</createView>
	</changeSet>
	<changeSet id="22" author="Surekha">
		<createView viewName="SMTDIVISIONDETAIL_AVIEW" replaceIfExists="true">
			SELECT     T1.DivisionCode, T1.DivisionCodeDesc, T1.Active, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, 
                      T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,T1.AlwPromotion, T1.DivSuspTrigger, T1.DivSuspRemarks, T1.EntityCode,T2.EntityDesc
			FROM         SMTDivisionDetail T1 LEFT JOIN
            			 Entities T2 ON T1.EntityCode= T2.EntityCode

		</createView>
	</changeSet>
	<changeSet id="23.1" author="Surekha">
		<sql>
			update SMTDIVISIONDETAIL set EntityCode='pffHyd' where EntityCode is null;
		</sql>
	</changeSet> 
	<changeSet id="23" author="Surekha" dbms="oracle">
		<addNotNullConstraint tableName="SMTDIVISIONDETAIL" columnName="EntityCode" />
	</changeSet>
	<changeSet id="23" author="Surekha" dbms="mssql">
		<addNotNullConstraint tableName="SMTDIVISIONDETAIL" columnName="EntityCode" columnDataType="varchar(8)"/>
	</changeSet>
	<changeSet id="24" author="Surekha" dbms="oracle">
		<addNotNullConstraint tableName="SMTDIVISIONDETAIL_Temp" columnName="EntityCode"/>
	</changeSet>
	<changeSet id="24" author="Surekha" dbms="mssql">
		<addNotNullConstraint tableName="SMTDIVISIONDETAIL_Temp" columnName="EntityCode" columnDataType="varchar(8)"/>
	</changeSet>
	<changeSet id="25" author="Surekha">
		<sql>
			Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
			Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights);
			
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 0,'DivisionDetailDialog_EntityCode', 'DivisionDetailDialog', 1,1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );

			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode ='DIVISIONDETAIL_MAKER'), (Select RightID from SecRights where RightName ='DivisionDetailDialog_EntityCode'), 1, 1, 1000,CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
			Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights);
		</sql>
	</changeSet>
	<changeSet id="26" author="Surekha">
		<sql>
			update SecRights set RightType=3 where rightName='DivisionDetailDialog_EntityCode';
		</sql>
	</changeSet>
		<changeSet id="27" author="Surekha">
		<sql>
			delete from ErrorDetails where ErrorCode='WMAN01';
 			INSERT INTO ErrorDetails VALUES ('65013','EN','W','{0} Customer already having {1} open Mandates ','','Approved','','','','','',0,null,1000,0);  
		</sql>
	</changeSet>
	<changeSet id="28" author="Siva">
		<sql>
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
			UPDATE SEQSECOPERATIONROLES SET SEQNO= (SELECT MAX(OPRROLEID) FROM SECOPERATIONROLES);
			UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
			
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FEERECEIPT_MAKER', 'Fee Receipt Maker', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			INSERT INTO SECGROUPS SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'FEERECEIPT_APPROVER', 'Fee Receipt Approver', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECGROUPS WHERE 0=0;
			
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 2, 'button_FeeReceiptDialog_btnReceipt','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 0, 'menuItem_FinanceManagement_FeeReceipts','MENU',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_excessAdjustTo','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_receiptMode','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_receiptAmount','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_favourNo','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_valueDate','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_bankCode','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_favourName','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_depositDate','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_chequeAcNo','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_paymentRef','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_transactionRef','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_fundingAccount','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_cashReceivedDate','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			INSERT INTO SECRIGHTS SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS), 3, 'FeeReceiptDialog_remarks','FeeReceiptDialog',0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECRIGHTS WHERE 0=0; 
			
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FeeReceiptDialog_btnReceipt'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_FeeReceipts'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_excessAdjustTo'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_receiptMode'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_receiptAmount'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_favourNo'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_valueDate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_bankCode'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_favourName'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_depositDate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_chequeAcNo'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_paymentRef'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_transactionRef'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_fundingAccount'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_cashReceivedDate'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='FeeReceiptDialog_remarks'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_MAKER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceManagement'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_FeeReceiptDialog_btnReceipt'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_FinanceManagement_FeeReceipts'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			INSERT INTO SECGROUPRIGHTS VALUES((SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='FEERECEIPT_APPROVER') ,(SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuCat_FinanceManagement'), 1, 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'FEERECEIPT_MAKER', 'Fee Receipt Maker','FINANCE', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'FEERECEIPT_APPROVER', 'Fee Receipt Approver','FINANCE', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
			
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='FEERECEIPT_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='FEERECEIPT_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='FEERECEIPT_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='FEERECEIPT_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='MAKER'), (Select  RoleID  From SecRoles Where RoleCd='FEERECEIPT_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='FEERECEIPT_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			
			UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
			UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
			UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
			UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS); 
			UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
			UPDATE SEQSECOPERATIONROLES SET SEQNO= (SELECT MAX(OPRROLEID) FROM SECOPERATIONROLES);
		</sql>
	</changeSet>
	<changeSet id="29" author="Siva">
		<sql>
			UPDATE SEQSECOPERATIONROLES SET SEQNO= (SELECT MAX(OPRROLEID) FROM SECOPERATIONROLES);
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='RCM'), (Select  RoleID  From SecRoles Where RoleCd='FEERECEIPT_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
			INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='RCA'), (Select  RoleID  From SecRoles Where RoleCd='FEERECEIPT_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0);
			UPDATE SEQSECOPERATIONROLES SET SEQNO= (SELECT MAX(OPRROLEID) FROM SECOPERATIONROLES); 
		</sql>
	</changeSet>
	<changeSet id="30" author="Manoj.P">
	    <createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true">
	       SELECT M.MANDATEID, 
		BD.BANKCODE,
		BD.BANKNAME,
		BB.BRANCHCODE,
		BB.BRANCHDESC,
		CUST.CUSTCIF,
		CUST.CUSTSHRTNAME,
		RMTFINTYPE.FINTYPE AS FINTYPE ,
		FIN.FINREFERENCE ,
		(SELECT MAX(REPAYAMOUNT+FEESCHD)
		  FROM FINSCHEDULEDETAILS
		  WHERE FINREFERENCE =FIN.FINREFERENCE
		  AND REPAYONSCHDATE =1
		  )/100 EMI,
		  CASE M.OPENMANDATE
		    WHEN 1
		    THEN 'New Open ECS'
		    ELSE 'No Open ECS'
		  END OPENMANDATE,
		M.ACCNUMBER,
		M.ACCTYPE,
		M.ACCHOLDERNAME,
		BB.MICR,
		(SELECT MIN(FIRSTREPAYDATE) FIRSTDUEDATE
		    FROM FINPFTDETAILS
		    WHERE FINREFERENCE=FIN.FINREFERENCE
		    ) FIRSTDUEDATE,
		(SELECT MAX(MATURITYDATE) EMIENDDATE
		  FROM FINPFTDETAILS
		  WHERE FINREFERENCE=FIN.FINREFERENCE
		  ) EMIENDDATE,
		  M.MAXLIMIT MAXLIMIT,
		    (SELECT SUM(REPAYAMOUNT+FEESCHD) MANDATEDEBITAMOUNT
		  FROM FINSCHEDULEDETAILS
		  WHERE FINREFERENCE IN
		    (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID
		    )
		  AND REPAYONSCHDATE =1
		  )/100 DEBITAMOUNT,
		  M.STARTDATE,
		  M.EXPIRYDATE,
		  FIN.APPLICATIONNO,
		  M.MANDATETYPE,
		  M.STATUS,
		  M.INPUTDATE,
		  M.RECORDSTATUS,
		  M.RECORDTYPE,
      M.MANDATECCY,
      CCY.CCYMINORCCYUNITS
		FROM MANDATES M
		INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID
		INNER JOIN BMTBANKDETAIL BD ON BD.BANKCODE=BB.BANKCODE 
		INNER JOIN CUSTOMERS CUST   ON CUST.CUSTID = M.CUSTID
    LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY
		LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE
		LEFT OUTER JOIN RMTFINANCETYPES RMTFINTYPE ON FIN.FINTYPE =RMTFINTYPE.FINTYPE 
		WHERE M.STATUS = 'NEW'
	    </createView>
	    </changeSet>
	    
	    <changeSet id="31" author="Manoj.P">
	      <sql>
	        DELETE FROM DATA_ENGINE_PROCESS_LOG WHERE FILEID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_LOG WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT';
			
			DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT'));
			DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT';
			
			INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'MANDATES_IMPORT', 'Mandate Response file', 1, NULL, NULL, NULL, ',' , 0, 0, NULL, NULL,  '', 'C', 'D:/opt/PFF/mandates/response', 'Mandate_Import', '.CSV', 0, NULL, NULL, NULL, 0, NULL, 1, 1); 
			
			INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT'), 'MANDATE_REQUESTS',  2, 'ID', NULL, 'UPDATE MANDATES M SET (M.MANDATEREF, M.STATUS, M.REASON) = (SELECT MR.MANDATE_REG_NO, MR.STATUS, MR.REMARKS  FROM MANDATE_REQUESTS MR  WHERE MR.MANDATEID = M.MANDATEID AND MR.RESP_BATCH_ID =  :FILEID) WHERE EXISTS(SELECT MR.MANDATE_REG_NO, MR.STATUS,MR.REMARKS FROM MANDATE_REQUESTS MR WHERE MR.MANDATEID = M.MANDATEID AND MR.RESP_BATCH_ID = :FILEID)', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
			
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'ID',					0, 'N', NULL, NULL,	NULL, 			NULL, 		15, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MANDATE_REG_NO',		0, 'N', NULL, NULL,	NULL, 			NULL, 		11, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'STATUS',				0, 'N', NULL, NULL,	NULL, 			NULL, 		12, 	NULL, 'if((STATUS ==  ''Rejected'' )){Result =''REJECTED'';  return;}else {Result =''APPROVED'';  return;}', 	NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'REMARKS',				0, 'N', NULL, NULL,	NULL, 			NULL, 		13,		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'RESP_BATCH_ID',		0, 'N', NULL, NULL, '${FILE_ID}', 	NULL, 		0, 		NULL, NULL, NULL, NULL);
			
			UPDATE SEQ_DATA_ENGINE_CONFIG SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_CONFIG);
			UPDATE SEQ_DATA_ENGINE_TABLE  SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_TABLE);
			UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN);
	      </sql>
	    </changeSet>
	    <changeSet id="32" author="Madhubabu">
		<sql>
			Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
			Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights);
			
			Insert into SecRights Values((Select max(RightID) + 1 from SecRights), 0,'CustomerBankInfoDialog_SalaryAccount', 'CustomerBankInfoDialog', 1,1000, CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );

			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode ='CustomerBankInfo_Maker'), (Select RightID from SecRights where RightName ='CustomerBankInfoDialog_SalaryAccount'), 1, 1, 1000,CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode ='CL_ORIGINATION_WRM'), (Select RightID from SecRights where RightName ='CustomerBankInfoDialog_SalaryAccount'), 1, 1, 1000,CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			Insert into secGroupRights Values((Select max(GrpRightID) + 1 from SecGroupRights), (Select GrpID from SecGroups where GrpCode ='BFSD_ORIGINATION_MAKER'), (Select RightID from SecRights where RightName ='CustomerBankInfoDialog_SalaryAccount'), 1, 1, 1000,CURRENT_TIMESTAMP, null, null, null, null, null, null, 0 );
			
			Update SeqSecRights Set SeqNo = (Select MAX(RightID) + 1 from SecRights);
			Update SeqSecGroupRights Set SeqNo = (Select MAX(GrpRightID) + 1 from SecGroupRights);
		</sql>
	</changeSet>
		
	<changeSet id="34" author="Srikanth">
	<sql>
	INSERT INTO ErrorDetails VALUES('90284','EN','E','Vas details should be matched with configured Vas details in Loan Type {0}.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	INSERT INTO ErrorDetails VALUES('90285','EN','E','{0} is not configured in given Loan Type {1}.','','Approved','','','','','',0,CURRENT_TIMESTAMP,1000,0);
	</sql>
	</changeSet>
	 <changeSet id="35" author="Irfan">
	<addColumn tableName="WIFFINANCEMAIN">
	<column name="FinCategory" type="varchar(8)"/>
	<column name="ProductCategory" type="varchar(8)"/>
	</addColumn>
	<addColumn tableName="WIFFINANCEMAIN_TEMP">
	<column name="FinCategory" type="varchar(8)"/>
	<column name="ProductCategory" type="varchar(8)"/>
	</addColumn>
	<addColumn tableName="REJECTFINANCEMAIN">
	<column name="FinCategory" type="varchar(8)"/>
	<column name="ProductCategory" type="varchar(8)"/>
	</addColumn>
	</changeSet>

	<changeSet id="36" author="Irfan">
	<createView viewName="WIFFINANCEMAIN_VIEW" replaceIfExists="true">
		SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, T1.FinType, 
                      T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, T1.FinStartDate, 
                      T1.FinAmount, T1.FinRepaymentAmount, T1.CustID, T1.Defferments, T1.PlanDeferCount, T1.FinIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,  T15.CustCIF lovDescCustCIF, 
                     T7.FinTypeDesc lovDescFinTypeName, T1.FinBranch, T1.FinSourceID, 
                      T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, T1.AvailedDefFrqChange, T7.FinMaxAmount lovDescFinMaxAmt, 
                      T7.FinMinAmount lovDescFinMinAmount, T7.FinIsAlwDifferment lovDescFinAlwDeferment, T1.MinDownpayPerc, 
                      T7.FinIsDwPayRequired lovDescDwnPayReq, T1.RecalType, T1.FinAssetValue, T7.FinMaxDifferment lovDescFinMaxDifferment, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, T1.DisbAccountId, T1.RepayAccountId, T1.AllowGrcRepay, 
                      T1.GrcSchdMthd, T1.RepayMargin, T1.GrcMargin, T1.DepreciationFrq, T1.FinCommitmentRef, T1.FinCurrAssetValue, T1.FinContractDate, T1.NextDepDate, 
                      T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount,T7.FinRvwRateApplFor, 
                      T1.TotalRepayAmt, T1.ClosingStatus, T1.FinApprovedDate, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, 
                      T1.EffectiveRateOfReturn, T1.DownPayBank, T1.DownPaySupl, T7.FinDivision LovDescFinDivisionName, T1.GraceTerms, 
                      T14.FacilityType, T15.CustShrtName lovDescCustShrtName, T16.BranchDesc lovDescFinBranchName,
                      T1.TotalGrossGrcPft, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, T1.NoOfSteps, 
                     T1.LinkedFinRef, T7. Product LovDescFinProduct, 
                      T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate,  T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
                      T1.RpyAdvMargin, T1.RpyAdvPftRate,T1.SupplementRent, T1.IncreasedCost, 
                     T1.feeAccountId, T1.TDSApplicable,T1.InsuranceAmt,T1.DeductInsDisb,
                      T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod ,  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb, T1.BpiAmount, T1.DeductFeeDisb, T1.FeeChargeAmt,T1.RvwRateApplFor,T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay,
                      T1.FinCategory, T1.ProductCategory
FROM          WIFFinanceMain_Temp T1 LEFT OUTER JOIN
                       WIFIndicativeTermDetail_Temp T14 ON T14.FinReference = T1.FinReference LEFT OUTER JOIN
                       Customers T15 ON T15.CustID = T1.CustID INNER JOIN
                       RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                       RMTBranches T16 ON T1.FinBranch = T16.BranchCode 
UNION ALL
SELECT     T1.FinReference, T1.NumberOfTerms, T1.GrcPeriodEndDate, T1.AllowGrcPeriod, T1.GraceBaseRate, T1.GraceSpecialRate, T1.GrcPftRate, T1.GrcPftFrq, 
                      T1.NextGrcPftDate, T1.AllowGrcPftRvw, T1.GrcPftRvwFrq, T1.NextGrcPftRvwDate, T1.AllowGrcCpz, T1.GrcCpzFrq, T1.NextGrcCpzDate, T1.RepayBaseRate, 
                      T1.RepaySpecialRate, T1.RepayProfitRate, T1.RepayFrq, T1.NextRepayDate, T1.RepayPftFrq, T1.NextRepayPftDate, T1.AllowRepayRvw, T1.RepayRvwFrq, 
                      T1.NextRepayRvwDate, T1.AllowRepayCpz, T1.RepayCpzFrq, T1.NextRepayCpzDate, T1.MaturityDate, T1.CpzAtGraceEnd, T1.DownPayment, T1.GraceFlatAmount, 
                      T1.ReqRepayAmount, T1.TotalProfit, T1.TotalCpz, T1.TotalGrossPft, T1.TotalGracePft, T1.TotalGraceCpz, T1.GrcRateBasis, T1.RepayRateBasis, T1.FinType, 
                      T1.FinRemarks, T1.FinCcy, T1.ScheduleMethod, T1.ProfitDaysBasis, T1.ReqMaturity, T1.CalTerms, T1.CalMaturity, T1.FirstRepay, T1.LastRepay, T1.FinStartDate, 
                      T1.FinAmount, T1.FinRepaymentAmount, T1.CustID, T1.Defferments, T1.PlanDeferCount, T1.FinIsActive, T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, 
                      T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId,  T15.CustCIF lovDescCustCIF, 
                     T7.FinTypeDesc lovDescFinTypeName,T1.FinBranch, T1.FinSourceID, 
                      T1.AllowedDefRpyChange, T1.AvailedDefRpyChange, T1.AllowedDefFrqChange, T1.AvailedDefFrqChange, T7.FinMaxAmount lovDescFinMaxAmt, 
                      T7.FinMinAmount lovDescFinMinAmount, T7.FinIsAlwDifferment lovDescFinAlwDeferment, T1.MinDownpayPerc, 
                      T7.FinIsDwPayRequired lovDescDwnPayReq, T1.RecalType, T1.FinAssetValue, T7.FinMaxDifferment lovDescFinMaxDifferment, T1.LastRepayDate, 
                      T1.LastRepayPftDate, T1.LastRepayRvwDate, T1.LastRepayCpzDate, T1.DisbAccountId, T1.RepayAccountId, T1.AllowGrcRepay, 
                      T1.GrcSchdMthd, T1.RepayMargin, T1.GrcMargin, T1.DepreciationFrq, T1.FinCommitmentRef, T1.FinCurrAssetValue, T1.FinContractDate, T1.NextDepDate, 
                      T1.LastDepDate, T1.FinAccount, T1.FinCustPftAccount, T7.FinRvwRateApplFor, 
                      T1.TotalRepayAmt, T1.ClosingStatus, T1.FinApprovedDate, T1.FinRepayPftOnFrq, T1.AnualizedPercRate, 
                      T1.EffectiveRateOfReturn, T1.DownPayBank, T1.DownPaySupl, T7.FinDivision LovDescFinDivisionName, T1.GraceTerms, 
                      T14.FacilityType, T15.CustShrtName lovDescCustShrtName, T16.BranchDesc lovDescFinBranchName,
                      T1.TotalGrossGrcPft, T1.GrcProfitDaysBasis, T1.StepFinance,T1.StepType, T1.StepPolicy, T1.AlwManualSteps, T1.NoOfSteps, 
                     T1.LinkedFinRef, T7. Product LovDescFinProduct, 
                      T1.GrcMinRate, T1.GrcMaxRate, T1.RpyMinRate, T1.RpyMaxRate, T1.ManualSchedule, T1.TakeOverFinance, T1.GrcAdvBaseRate, T1.GrcAdvMargin, T1.GrcAdvPftRate, T1.RpyAdvBaseRate, 
                      T1.RpyAdvMargin, T1.RpyAdvPftRate,T1.SupplementRent, T1.IncreasedCost, 
                       T1.feeAccountId, T1.TDSApplicable,T1.InsuranceAmt,T1.DeductInsDisb,
                      T1.AlwBPI , T1.BpiTreatment , T1.PlanEMIHAlw , T1.PlanEMIHMethod ,  T1.PlanEMIHMaxPerYear , T1.PlanEMIHMax , T1.PlanEMIHLockPeriod , T1.PlanEMICpz , T1.CalRoundingMode , T1.AlwMultiDisb, T1.BpiAmount, T1.DeductFeeDisb, T1.FeeChargeAmt,T1.RvwRateApplFor,T1.SchCalOnRvw,T1.PastduePftCalMthd,T1.PastduePftMargin,T1.DroppingMethod,T1.RateChgAnyDay,
                      T1.FinCategory, T1.ProductCategory
FROM          WIFFinanceMain T1 LEFT OUTER JOIN
                       WIFIndicativeTermDetail_Temp T14 ON T14.FinReference = T1.FinReference LEFT OUTER JOIN
                       Customers T15 ON T15.CustID = T1.CustID INNER JOIN
                       RMTFinanceTypes T7 ON T1.FinType = T7.FinType LEFT OUTER JOIN
                       RMTBranches T16 ON T1.FinBranch = T16.BranchCode 
                      WHERE     (NOT EXISTS
                          (SELECT     1 Expr1
                            FROM          WIFFinanceMain_Temp
                            WHERE      (FinReference = T1.FinReference)))
	
	</createView>
	</changeSet>
	<changeSet id="37" author="Irfan">
		<sql>
		Update RMTFINANCETYPES SET ProductCategory = 'CONV' WHERE FinCategory IN (Select ProductCode from bmtproduct WHERE ProductCategory = 'CONV');
		Update RMTFINANCETYPES_TEMP SET ProductCategory = 'CONV' WHERE FinCategory IN (Select ProductCode from bmtproduct WHERE ProductCategory = 'CONV');

		Update RMTFINANCETYPES SET ProductCategory = 'ODFCLITY' WHERE FinCategory IN (Select ProductCode from bmtproduct WHERE ProductCategory = 'ODFCLITY');
		Update RMTFINANCETYPES_TEMP SET ProductCategory = 'ODFCLITY' WHERE FinCategory IN (Select ProductCode from bmtproduct WHERE ProductCategory = 'ODFCLITY');

		Update FinanceMain SET ProductCategory = 'CONV' WHERE FinType IN (Select FinType from RMTFinanceTypes WHERE FinCategory IN (Select ProductCode from bmtproduct WHERE ProductCategory = 'CONV'));
		Update FinanceMain_Temp SET ProductCategory = 'CONV' WHERE FinType IN (Select FinType from RMTFinanceTypes WHERE FinCategory IN (Select ProductCode from bmtproduct WHERE ProductCategory = 'CONV'));

		Update FinanceMain SET ProductCategory = 'ODFCLITY' WHERE FinType IN (Select FinType from RMTFinanceTypes WHERE FinCategory IN (Select ProductCode from bmtproduct WHERE ProductCategory = 'ODFCLITY'));
		Update FinanceMain_Temp SET ProductCategory = 'ODFCLITY' WHERE FinType IN (Select FinType from RMTFinanceTypes WHERE FinCategory IN (Select ProductCode from bmtproduct WHERE ProductCategory = 'ODFCLITY'));

		Update FinanceMain SET FinCategory = (select FinCategory from RMTFinanceTypes WHERE FinanceMain.FinType = RMTFinanceTypes.FinType);
		Update FinanceMain_Temp SET FinCategory = (select FinCategory from RMTFinanceTypes WHERE FinanceMain_Temp.FinType = RMTFinanceTypes.FinType);
		
		Update FinanceMain set ReAgeBucket=0;
		Update FinanceMain_Temp set ReAgeBucket=0;
		</sql>
	</changeSet>
		<changeSet id="38" author="pruthvi">
		<sql>
	update reportlist set  fieldlabels='listheader_RuleCode.label,listheader_RuleCodeDesc.label', fieldvalues='ruleCode,ruleCodeDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='LMTLINEBANK';
update reportlist set  fieldlabels='listheader_RuleCode.label,listheader_RuleCodeDesc.label', fieldvalues='ruleCode,ruleCodeDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='LMTLINECUSTOMER';
update reportlist set  fieldlabels='label_BeneficiaryList_CustCIF.value,label_BeneficiaryList_AccNo.value,label_BeneficiaryList_AccHolderName.value', fieldvalues='custCIF,accNumber,accHolderName', fieldtype='String,String,String', reportfilename='ReportList03'  where code='Beneficiary';
update reportlist set  fieldlabels='label_FeeTypeList_FeeTypeCode.value,label_FeeTypeList_FeeTypeDesc.value,label_FeeTypeList_Active.value', fieldvalues='feeTypeCode,feeTypeDesc,active', fieldtype='String,String,boolean', reportfilename='ReportList03'  where code='FeeType';
update reportlist set  fieldlabels='label_RuleCode,listheader_RuleCodeDesc.label', fieldvalues='ruleCode,ruleCodeDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='SubHeadRule';
update reportlist set  fieldlabels='listheader_BrokerCode.label,listheader_BrokerDesc.label', fieldvalues='brokerCode,brokerDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='SukukBroker';
update reportlist set  fieldlabels='listheader_PolicyCode.label,listheader_PolicyDesc.label', fieldvalues='policyCode,policyDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='StepPolicyHeader';
update reportlist set  fieldlabels='listheader_SIACode.label,listheader_SIAName.label,listheader_SIAShortName.label,listheader_SIAAcType.label,listheader_SIANumber.label', fieldvalues='sIACode,sIAName,sIAShortName,sIAAcType,sIANumber', fieldtype='String,String,String,String,String', reportfilename='ReportList05'  where code='SystemInternalAccountDefinition';
update reportlist set  fieldlabels='listheader_TargetCode.label,listheader_TargetDesc.label,listheader_Active.label', fieldvalues='targetCode,targetDesc,active', fieldtype='String,String,boolean', reportfilename='ReportList03'  where code='TargetDetail';
update reportlist set  fieldlabels='label_RuleCode,listheader_RuleCodeDesc.label', fieldvalues='ruleCode,ruleCodeDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='ProvisionRule';
update reportlist set  fieldlabels='listheader_LovDescCustCIF.label,listheader_LovDescCustShrtName.label,listheader_FinReference.label,listheader_FinType.label,listheader_FinAmount.label,listheader_InitiateDate.label,listheader_LovDescRequestStage.label,listheader_Priority.label', fieldvalues='lovDescCustCIF,lovDescCustShrtName,finReference,finType,finAmount,initiateDate,lovDescRequestStage,priority', fieldtype='String,String,String,String,BigDecimal,Date,String,int', reportfilename='ReportList08'  where code='QDEFinanceMain';
update reportlist set  fieldlabels='listheader_QueryCode.label,listheader_QueryModule.label,listheader_QueryDesc.label,listheader_Active.label', fieldvalues='queryCode,queryModule,queryDesc,active', fieldtype='String,String,String,boolean', reportfilename='ReportList04'  where code='Query';
update reportlist set  fieldlabels='label_RuleCode,listheader_RuleCodeDesc.label', fieldvalues='ruleCode,ruleCodeDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='RefundRule';
update reportlist set  fieldlabels='listheader_FinType.label,listheader_FinEvent.label,listheader_WorkFlowType.label,listheader_ScreenCode.label', fieldvalues='finType,finEvent,workFlowType,screenCode', fieldtype='String,String,String,String', reportfilename='ReportList04'  where code='FinanceWorkFlow';
update reportlist set  fieldlabels='listheader_CustFinExposure_FinReference.label', fieldvalues='finReference', fieldtype='String', reportfilename='ReportList01'  where code='ReinstateFinance';
update reportlist set  fieldlabels='listheader_FinType.label,listheader_FinTypeDesc.label,listheader_FinCcy.label,listheader_FinDaysCalType.label,listheader_FinSchdMthd.label,listheader_FInIsAlwGrace.label,listheader_FinDivision.label', fieldvalues='finType,finTypeDesc,finCcy,finDaysCalType,finSchdMthd,fInIsAlwGrace,finDivision', fieldtype='String,String,String,String,String,boolean,String', reportfilename='ReportList07'  where code='FinanceType';
update reportlist set  fieldlabels='listheader_RuleEvent.label,label_RuleCode,listheader_RuleCodeDesc.label', fieldvalues='ruleEvent,ruleCode,ruleCodeDesc', fieldtype='String,String,String', reportfilename='ReportList03'  where code='FeeRule';
update reportlist set  fieldlabels='listheader_QueryCode.label,listheader_QueryDesc.label', fieldvalues='queryCode,queryDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='FinanceDedup';
update reportlist set  fieldlabels='listheader_LovDescCustCIF.label,listheader_LovDescCustShrtName.label,listheader_FinReference.label,listheader_FinType.label,listheader_FinAmount.label,listheader_InitiateDate.label,listheader_LovDescRequestStage.label,listheader_Priority.label', fieldvalues='lovDescCustCIF,lovDescCustShrtName,finReference,finType,finAmount,initiateDate,lovDescRequestStage,finQueuePriority', fieldtype='String,String,String,String,BigDecimal,Date,String,int', reportfilename='ReportList08'  where code='FinanceMain';
update reportlist set  fieldlabels='listheader_InvestmentRef.label,listheader_TotPrincipalAmt.label,listheader_FinCcy.label,listheader_StartDate.label,listheader_MaturityDate.label', fieldvalues='investmentRef,totPrincipalAmt,finCcy,startDate,maturityDate', fieldtype='String,BigDecimal,String,Date,Date', reportfilename='ReportList05'  where code='InvestmentFinHeader';
update reportlist set  fieldlabels='listheader_CreditCustCIF.label,listheader_CreditCustShrtName.label,listheader_CreditMaxAudYear.label,listheader_CreditMinAudYear.label,listheader_CreditRevCode.label,listheader_BankName.label', fieldvalues='lovDescCustCIF,lovDescCustShrtName,lovDescMaxAuditYear,lovDescMinAuditYear,creditRevCode,bankName', fieldtype='String,String,String,String,String,String', reportfilename='ReportList06'  where code='MAINTAINCRRVW';
update reportlist set  fieldlabels='label_VASConfigurationList_ProductCode.value,label_VASConfigurationList_ProductDesc.value,label_VASConfigurationList_VASCode.value,label_VASConfigurationList_VASDesc.value,label_VASConfigurationList_RecAgainst.value,label_VASConfigurationList_manufacturer.value', fieldvalues='productCode,productDesc,productType,productTypeDesc,recAgainst,manufacturerName', fieldtype='String,String,String,String,String,String', reportfilename='ReportList06'  where code='VASConfiguration';
update reportlist set  fieldlabels='label_HolidayMasterSearch_HolidayCode.value,label_HolidayMasterSearch_HolidayYear.value', fieldvalues='holidayCode,holidayYear', fieldtype='String,BigDecimal', reportfilename='ReportList02'  where code='CalendarDetails';
update reportlist set  fieldlabels='label_FinanceTypeSearch_FinType.value,label_FinanceTypeSearch_FinTypeDesc.value,label_FinanceTypeSearch_FinCcy.value,label_FinanceTypeSearch_FinDaysCalType.value,listheader_FinAcType.label,label_FinanceTypeSearch_FinSchdMthd.value,label_FinanceTypeDialog_FInIsAlwGrace.value,label_FinanceTypeSearch_FinDivision.value,listheader_LovDescProductCodeDesc.label', fieldvalues='finType,finTypeDesc,finCcy,finDaysCalType,finAcType,finSchdMthd,fInIsAlwGrace,finDivision,finCategoryDesc', fieldtype='String,String,String,String,String,String,boolean,String,String', reportfilename='ReportList08_GrpHd'  where code='OverdraftType';
update reportlist set  fieldlabels='label_HolidayMasterSearch_HolidayCode.value,label_HolidayMasterSearch_HolidayYear.value', fieldvalues='holidayCode,holidayYear', fieldtype='String,String', reportfilename='ReportList02'  where code='HolidayMaster';
update reportlist set  fieldlabels='listheader_CreditCustCIF.label,listheader_CreditCustShrtName.label,listheader_CreditRevCode.label,listheader_AuditedYear.label,listheader_AuditPeriod.label,listheader_BankName.label', fieldvalues='lovDescCustCIF,lovDescCustShrtName,creditRevCode,auditYear,auditPeriod,bankName', fieldtype='String,String,String,String,int,String', reportfilename='ReportList06'  where code='COMMCRRVW';
update reportlist set  fieldlabels='listheader_CustCIF.label,listheader_CmtReference.label,listheader_CmtBranch.label,listheader_CmtCcy.label,listheader_CustShrtName.label,listheader_CmtExpDate.label,listheader_CmtAmount.label,listheader_CmtUtilizedAmount.label,listheader_CmtAvailable.label', fieldvalues='custCIF,cmtReference,cmtBranch,cmtCcy,custShrtName,cmtExpDate,cmtAmount,cmtUtilizedAmount,cmtAvailable', fieldtype='String,String,String,String,String,Date,BigDecimal,BigDecimal,BigDecimal', reportfilename='ReportList09'  where code='Commitment';
update reportlist set  fieldlabels='label_FinType,label_FinTypeDesc,label_FinCcy,label_FinDaysCalType,label_FinAcType', fieldvalues='finType,finTypeDesc,finCcy,finDaysCalType,finAcType', fieldtype='String,String,String,String,String', reportfilename='ReportList05'  where code='CommodityFinanceType';
update reportlist set  fieldlabels='listheader_CAFReference.label,listheader_CustID.label,listheader_StartDate.label,label_NextReviewDate,listheader_PresentingUnit.label,listheader_CountryOfDomicile.label', fieldvalues='cAFReference, custID, startDate, nextReviewDate ,presentingUnit,countryOfDomicile', fieldtype='String,long,Date,Date,String,String', reportfilename='ReportList06'  where code='COMRFAC';
update reportlist set  fieldlabels='listheader_QueryCode.label,listheader_QueryDesc.label,listheader_Active.label', fieldvalues='QueryCode,QueryDesc,Active', fieldtype='String,String,boolean', reportfilename='ReportList03'  where code='LimitFilterQuery';
update reportlist set  fieldlabels='listheader_GroupCode.label,listheader_GroupName.label,listheader_GroupCategory.label', fieldvalues='groupCode,groupName,LimitCategory', fieldtype='String,String,String', reportfilename='ReportList03'  where code='LimitGroup';
update reportlist set  fieldlabels='listheader_StructureCode.label,listheader_StructureName.label,listheader_Active.label', fieldvalues='StructureCode,StructureName,Active', fieldtype='String,String,boolean', reportfilename='ReportList03'  where code='LimitStructure';
update reportlist set  fieldlabels='listheader_FinType.label,listheader_FinPriority.label,listheader_LovDescFinTypeName.label', fieldvalues='finType,finPriority,null,null,lovDescFinTypeName', fieldtype='String,int,null,null,String', reportfilename='ReportList02'  where code='FinanceRepayPriority';
update reportlist set  fieldlabels='listheader_CustCIF.label,listheader_CustDOB.label,listheader_CustFName.label,listheader_CustLName.label,listheader_CustCRCPR.label,listheader_CustPassportNo.label,listheader_MobileNumber.label,listheader_CustNationality.label', fieldvalues='custCIF,custDOB,custFName,custLName,custCRCPR,custPassportNo,mobileNumber,custNationality', fieldtype='String,Date,String,String,String,String,String,String', reportfilename='ReportList06'  where code='PoliceCaseDetail';
update reportlist set  fieldlabels='listheader_QueryCode.label,listheader_QueryDesc.label', fieldvalues='queryCode,queryDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='PoliceDedup';
update reportlist set  fieldlabels='listheader_LovDescCustCIF.label,listheader_LovDescCustShrtName.label,listheader_FinReference.label,listheader_FinType.label,listheader_FinancingAmount.label,listheader_InitiateDate.label,listheader_LovDescRequestStage.label,listheader_Priority.label', fieldvalues='lovDescCustCIF,lovDescCustShrtName,finReference,finType,finAmount,initiateDate,lovDescRequestStage,priority', fieldtype='String,String,String,String,BigDecimal,Date,String,int', reportfilename='ReportList08'  where code='PreApprovalFinanceMain';
update reportlist set  fieldlabels='listheader_ProductCode.label,listheader_ProductDesc.label,listheader_RecordStatus.label,listheader_RecordType.label', fieldvalues='productCode,productDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='Product';
update reportlist set  fieldlabels='listheader_FinType.label,listheader_FinTypeDesc.label,listheader_FinCcy.label,listheader_FinDaysCalType.label,listheader_FinAcType.label,listheader_FinSchdMthd.label,listheader_FInIsAlwGrace.label,listheader_FinDivision.label,listheader_LovDescProductCodeDesc.label', fieldvalues='finType,finTypeDesc,finCcy,finDaysCalType,finAcType,finSchdMthd,fInIsAlwGrace,finDivision,finCategoryDesc', fieldtype='String,String,String,String,String,String,boolean,String,String', reportfilename='ReportList08_GrpHd'  where code='PromotionType';
update reportlist set  fieldlabels='listheader_FinType.label,listheader_FinEvent.label,listheader_WorkFlowType.label,listheader_ScreenCode.label', fieldvalues='finType,finEvent,workFlowType,screenCode', fieldtype='String,String,String,String', reportfilename='ReportList04'  where code='PromotionWorkflow';
update reportlist set  fieldlabels='listheader_AcType.label,listheader_AcTypeDesc.label,listheader_InternalAc.label,listheader_AcPurpose.label,listheader_CustSysAc.label,listheader_AcTypeIsActive.label', fieldvalues='acType,acTypeDesc,internalAc,acPurpose,custSysAc,acTypeIsActive', fieldtype='String,String,boolean,String,boolean,boolean', reportfilename='ReportList06'  where code='AccountType';
update reportlist set  fieldlabels='listheader_RuleCode.label,listheader_RuleCodeDesc.label', fieldvalues='ruleCode,ruleCodeDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='AgreementRule';
update reportlist set  fieldlabels='listheader_CustCIF.label,listheader_CustDOB.label,listheader_CustFName.label,listheader_CustLName.label,listheader_CustCRCPR.label,listheader_CustPassportNo.label,listheader_MobileNumber.label,listheader_CustNationality.label,listheader_Employer.label', fieldvalues='custCIF,custDOB,custFName,custLName,custCRCPR,custPassportNo,mobileNumber,custNationality,employer', fieldtype='String,Date,String,String,String,String,String,String,String', reportfilename='ReportList09'  where code='BlackListCustomers';
update reportlist set  fieldlabels='listheader_CreditCustCIF.label,listheader_CreditCustShrtName.label,listheader_CreditRevCode.label,listheader_AuditedYear.label,listheader_AuditPeriod.label,listheader_BankName.label,label_RecordStatus,label_RecordType', fieldvalues='lovDescCustCIF,lovDescCustShrtName,creditRevCode,auditYear,auditPeriod,bankName', fieldtype='String,String,String,String,int,String', reportfilename='ReportList06'  where code='CORPCRRVW';
update reportlist set  fieldlabels='listheader_CAFReference.label,listheader_CustID.label,listheader_StartDate.label,label_NextReviewDate,listheader_PresentingUnit.label,listheader_CountryOfDomicile.label', fieldvalues='cAFReference, custID, startDate, nextReviewDate ,presentingUnit,countryOfDomicile', fieldtype='String,long,Date,Date,String,String', reportfilename='ReportList06'  where code='CORPFAC';
update reportlist set  fieldlabels='label_CustCtgCode,label_CustCtgDesc,label_CustCtgType,label_CustCtgIsActive', fieldvalues='custCtgCode,custCtgDesc,custCtgType,custCtgIsActive', fieldtype='String,String,String,boolean', reportfilename='ReportList04'  where code='CustomerCategory';
update reportlist set  fieldlabels='listheader_QueryCode.label,listheader_QueryDesc.label,listheader_QuerySubCode.label', fieldvalues='queryCode,queryDesc,querySubCode', fieldtype='String,String,String', reportfilename='ReportList03'  where code='CustomerDedup';
update reportlist set  fieldlabels='label_CustNotesTypeCode,label_CustNotesTypeDesc,label_CustNotesTypeIsPerminent,label_CustNotesTypeArchiveFrq', fieldvalues='custNotesTypeCode,custNotesTypeDesc,custNotesTypeIsPerminent,custNotesTypeArchiveFrq', fieldtype='String,String,boolean,String', reportfilename='ReportList04'  where code='CustomerNotesType';
update reportlist set  fieldlabels='label_CustStsCode,label_CustStsDescription,label_CustStsIsActive', fieldvalues='custStsCode,custStsDescription,custStsIsActive', fieldtype='String,String,boolean', reportfilename='ReportList03'  where code='CustomerStatusCode';
update reportlist set  fieldlabels='label_CustTypeCode,label_CustTypeDesc,label_CustomerTypeDialog_CustTypeIsActive.value', fieldvalues='custTypeCode,custTypeDesc,custTypeIsActive', fieldtype='String,String,boolean', reportfilename='ReportList03'  where code='CustomerType';
update reportlist set  fieldlabels='listheader_DashboardCode.label,listheader_DashboardDesc.label,listheader_DashboardType.label', fieldvalues='dashboardCode, dashboardDesc, dashboardType', fieldtype='String,String,String', reportfilename='ReportList03'  where code='DashboardDetail';
update reportlist set  fieldlabels='label_BulkDifferementSearch_fromDate.value,label_BulkDifferementSearch_toDate.value,label_BulkDifferementSearch_reCalFromDate.value,label_BulkDifferementSearch_reCalToDate.value,label_BulkDifferementSearch_reCalculationType.value,label_BulkDifferementSearch_RecordStatus.value,label_BulkDifferementSearch_RecordType.value', fieldvalues='fromDate,toDate,reCalFromDate,reCalToDate,recalType', fieldtype='Date,Date,Date,Date,String', reportfilename='ReportList05'  where code='BulkProcessHeader';
update reportlist set  fieldlabels='listheader_RuleCode.label,listheader_RuleCodeDesc.label', fieldvalues='ruleCode,ruleCodeDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='CheckRule';
update reportlist set  fieldlabels='listheader_QueryCode.label,listheader_QueryDesc.label', fieldvalues='queryCode,queryDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='BlackListDedup';
update reportlist set  fieldlabels='label_NotificationsSearch_RuleCode.value,label_NotificationsSearch_RuleCodeDesc.value,label_NotificationsSearch_RuleModule.value', fieldvalues='ruleCode, ruleCodeDesc, ruleModule', fieldtype='String,String,String', reportfilename='ReportList03'  where code='Notifications';
update reportlist set  fieldlabels='listheader_RuleCode.label,listheader_RuleCodeDesc.label', fieldvalues='ruleCode,ruleCodeDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='DownpaymentRule';
update reportlist set  fieldlabels='label_RuleCode,listheader_RuleCodeDesc.label', fieldvalues='ruleCode,ruleCodeDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='EligibilityRule';
update reportlist set  fieldlabels='listheader_RuleCode.label,listheader_LovDescRuleModuleName.label,listheader_RuleCodeDesc.label', fieldvalues='ruleCode,lovDescRuleModuleName,ruleCodeDesc', fieldtype='String,String,String', reportfilename='ReportList03'  where code='ScoreRule';
update reportlist set  fieldlabels='listheader_ScoreGroupCode.label,listheader_ScoreGroupName.label,listheader_CategoryType.label,listheader_MinScore.label,listheader_IsOverride.label,listheader_OverrideScore.label', fieldvalues='scoreGroupCode,scoreGroupName,categoryType,minScore,isOverride,overrideScore', fieldtype='String,String,String,int,boolean,int', reportfilename='ReportList06'  where code='ScoringGroup';
update reportlist set  fieldlabels='listheader_LovDescRoleAppName.label,listheader_RoleCd.label,listheader_RoleDesc.label', fieldvalues='roleApp,roleCd,roleDesc', fieldtype='String,String,String', reportfilename='ReportList03'  where code='SecurityRole';
update reportlist set  fieldlabels='listheader_CAFReference.label,listheader_CustID.label,listheader_StartDate.label,label_NextReviewDate,listheader_PresentingUnit.label,listheader_CountryOfDomicile.label', fieldvalues='cAFReference, custID, startDate, nextReviewDate ,presentingUnit,countryOfDomicile', fieldtype='String,long,Date,Date,String,String', reportfilename='ReportList06'  where code='ENQFAC';
update reportlist set  fieldlabels='listheader_ModuleName.label,listheader_SubModuleName.label', fieldvalues='moduleName,subModuleName', fieldtype='String,String', reportfilename='ReportList02'  where code='ExtendedFields';
update reportlist set  fieldlabels='listheader_LovDescCustCIF.label,listheader_LovDescCustShrtName.label,listheader_FinReference.label,listheader_FinType.label,listheader_FinAmount.label,listheader_InitiateDate.label,listheader_LovDescRequestStage.label', fieldvalues='lovDescCustCIF,lovDescCustShrtName,finReference,finType,finAmount,initiateDate,lovDescRequestStage', fieldtype='String,String,String,String,BigDecimal,Date,String,String', reportfilename='ReportList07'  where code='OriginationFinanceMain';
update reportlist set  fieldlabels='label_PartnerBankDialog_PartnerBankCode.value,label_PartnerBankList_BankCode.value,label_PartnerBankDialog_PartnerBankName.value,label_PartnerBankDialog_BankBranchCode.value,listheader_RecordStatus.label,listheader_RecordType.label', fieldvalues='partnerBankCode,partnerBankName,bankCode,bankBranchCode', fieldtype='String,String,String,String', reportfilename='ReportList03'  where code='PartnerBank';
update reportlist set  fieldlabels='listheader_BucketCode.label,listheader_BucketDesc.label,listheader_Active.label', fieldvalues='bucketCode,bucketDesc,active', fieldtype='String,String,boolean', reportfilename='ReportList03'  where code='DPDBucket';
update reportlist set  fieldlabels='listheader_BucketCode.label,listheader_BucketDesc.label,listheader_Active.label', fieldvalues='bucketCode,bucketDesc,active', fieldtype='String,String,boolean', reportfilename='ReportList03'  where code='NPABucket';
update reportlist set  fieldlabels='listheader_ProductCode.label,listheader_BucketID.label,listheader_DueDays.label,listheader_SuspendProfit.label', fieldvalues='productCode,bucketID,dueDays,suspendProfit', fieldtype='String,String,int,boolean', reportfilename='ReportList04'  where code='DPDBucketConfiguration';
update reportlist set  fieldlabels='listheader_ProductCode.label,listheader_BucketID.label,listheader_DueDays.label', fieldvalues='productCode,bucketID,dueDays', fieldtype='String,String,int', reportfilename='ReportList03'  where code='NPABucketConfiguration';
update reportlist set  fieldlabels='listheader_StatusCode.label,listheader_StatusDesc.label', fieldvalues='statusCode,statusDesc', fieldtype='String,String', reportfilename='ReportList02'  where code='FinanceStatusCode';
update reportlist set  fieldlabels='listheader_AdviseType.label,listheader_FinReference.label,listheader_FeeTypeID.label', fieldvalues='adviseType,finReference,feeTypeDesc', fieldtype='int,String,String', reportfilename='ReportList03'  where code='ManualAdvise';
update reportlist set  fieldlabels='listheader_EventCode.label,listheader_EventDesc.label,listheader_AccountSetCode.label,listheader_AccountSetCodeName.label', fieldvalues='eventCode,lovDescEventCodeName,accountSetCode,accountSetCodeName', fieldtype='String,String,String,String', reportfilename='ReportList04'  where code='AccountingSet';
update reportlist set  fieldlabels='listheader_workFlowType.label,listheader_workFlowSubType.label,listheader_workFlowDesc.label', fieldvalues='workFlowType,workFlowSubType,workFlowDesc', fieldtype='String,String,String', reportfilename='ReportList03'  where code='WorkFlowDetails';
update reportlist set  fieldlabels='label_BeneficiaryList_CustCIF.value,label_BeneficiaryList_AccNo.value,label_BeneficiaryList_AccHolderName.value', fieldvalues='custCIF,accNumber,accHolderName', fieldtype='String,String,String', reportfilename='ReportList03'  where code='BeneficiaryEnquiry';
update reportlist set  fieldlabels='listheader_SponsorBankCode.label,listheader_SponsorBankName.label,listheader_BankBranchCode.label', fieldvalues='sponsorBankCode,sponsorBankName,bankBranchCode', fieldtype='String,String,String', reportfilename='ReportList03'  where code='SponsorBank';
update reportlist set  fieldlabels='listheader_ProfitCenterCode.label,listheader_ProfitCenterDesc.label,listheader_Active.label', fieldvalues='profitCenterCode,profitCenterDesc,active', fieldtype='String,String,boolean', reportfilename='ReportList03'  where code='ProfitCenter';
update reportlist set  fieldlabels='listheader_PromotionCode.label,listheader_PromotionDesc.label,listheader_FinType.label,listheader_PromotionStartDate.label,listheader_PromotionEndDate.label', fieldvalues='promotionCode,promotionDesc,finType,startDate,endDate', fieldtype='String,String,String,Date,Date', reportfilename='ReportList05'  where code='Promotion';
update reportlist set  fieldlabels='listheader_BounceCode.label,listheader_ReasonType.label,listheader_ReasonType.label,listheader_ReturnCode.label,listheader_Active.label', fieldvalues='bounceCode,reasonType,category,returnCode,active', fieldtype='String,int,int,String,boolean', reportfilename='ReportList05'  where code='BounceReason';
update reportlist set  fieldlabels='listheader_CostCenterCode.label,listheader_CostCenterDesc.label,listheader_Active.label', fieldvalues='costCenterCode,costCenterDesc,active', fieldtype='String,String,boolean', reportfilename='ReportList03'  where code='CostCenter';
			</sql>
	</changeSet>
	<changeSet id="39" author="Madhubabu">
		<sql>
		update secrights set righttype=3 where rightname='CustomerBankInfoDialog_SalaryAccount'
		</sql>
	</changeSet>
	
	<changeSet id="40" author="Manoj.P">
		<sql>
			UPDATE SeqSecRights SET SeqNo = (SELECT MAX(RightID) FROM SecRights);
			UPDATE SeqSecGroups SET SeqNo = (SELECT MAX(GrpID) FROM SecGroups);
			UPDATE SeqSecRoles SET SeqNo = (SELECT MAX(RoleID) FROM SecRoles);
			UPDATE SeqSecOperations SET SeqNo = (SELECT MAX(OprID) FROM SecOperations);
			UPDATE SeqSecGroupRights SET SeqNo = (SELECT MAX(GrpRightID) FROM SecGroupRights);
			UPDATE SeqSecRoleGroups SET SeqNo = (SELECT MAX(RoleGrpID) FROM SecRoleGroups);
			UPDATE SeqSecOperationRoles SET SeqNo = (SELECT MAX(OprRoleID) FROM SecOperationRoles);
					
			INSERT INTO SECRIGHTS VALUES((SELECT MAX(RIGHTID) + 1 FROM SECRIGHTS) , 0, 'menuItem_Reload_Resources','Reload Resources',1,1000,CURRENT_TIMESTAMP,'','','','','','',0);
						
			INSERT INTO SECGROUPS VALUES((SELECT MAX(GRPID)+1 FROM SECGROUPS),'RELOAD_RESOURCE_LABELS','Labels Reload.',0,1000,CURRENT_TIMESTAMP,'','','','','','',0);
						
			INSERT INTO SECGROUPRIGHTS VALUES ((SELECT MAX(GRPRIGHTID) +1  FROM SECGROUPRIGHTS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE ='RELOAD_RESOURCE_LABELS'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME ='menuItem_Reload_Resources'), 1,0,1000,CURRENT_TIMESTAMP,'','','','','','',0);
						
			INSERT INTO SECROLES VALUES((SELECT MAX(ROLEID)+1 FROM SECROLES),1,'RELOAD_RESOURCE_LABELS','Labels Reload.','',1,1000,CURRENT_TIMESTAMP,'','','','','','',0);
						
			INSERT INTO SECROLEGROUPS VALUES ((SELECT MAX(ROLEGRPID)+1 FROM SECROLEGROUPS),(SELECT GRPID FROM SECGROUPS WHERE GRPCODE ='RELOAD_RESOURCE_LABELS'),(SELECT ROLEID FROM SECROLES WHERE ROLECD='RELOAD_RESOURCE_LABELS'),0,1000,CURRENT_TIMESTAMP,'','','','','','',0);
						
			INSERT INTO SecOperations VALUES ((select MAX(OprID)+1 from SecOperations),'RELOAD_RESOURCE_LABELS','Reload Resources',1,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 );
					
			INSERT INTO SecOperationRoles values ((select MAX(OprRoleID)+1 from SecOperationRoles), (select OprID from SecOperations WHERE OprCode='RELOAD_RESOURCE_LABELS'), (select RoleID from SecRoles where RoleCd='RELOAD_RESOURCE_LABELS'),1,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0);
					
			UPDATE SeqSecRights SET SeqNo = (SELECT MAX(RightID) FROM SecRights);
			UPDATE SeqSecGroups SET SeqNo = (SELECT MAX(GrpID) FROM SecGroups);
			UPDATE SeqSecRoles SET SeqNo = (SELECT MAX(RoleID) FROM SecRoles);
			UPDATE SeqSecOperations SET SeqNo = (SELECT MAX(OprID) FROM SecOperations);
			UPDATE SeqSecGroupRights SET SeqNo = (SELECT MAX(GrpRightID) FROM SecGroupRights);
			UPDATE SeqSecRoleGroups SET SeqNo = (SELECT MAX(RoleGrpID) FROM SecRoleGroups);
			UPDATE SeqSecOperationRoles SET SeqNo = (SELECT MAX(OprRoleID) FROM SecOperationRoles);
		</sql>
	</changeSet>
	<changeSet id="41" author="Surekha">
		<sql>
			INSERT INTO Entities 	VALUES ('BFL', 'Bajaj Finance Limited',1, 1, 1000,CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0); 
			INSERT INTO Entities 	VALUES ('HFC', 'Bajaj Housing Finance Corporation',1, 1, 1000,CURRENT_TIMESTAMP, 'Approved', null, null, null, null, null, 0);  
		</sql>
	</changeSet>
	
	<changeSet id="42" author="Vinay">
		<dropTable tableName="BUILDERGROUP" />
		<dropTable tableName="BUILDERGROUP_TEMP" />
	</changeSet>
		
	<changeSet id="43" author="Vinay">
				<createTable tableName="BUILDERGROUP">
			<column name="ID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="NAME" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="SEGMENTATION" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />   
		</createTable> 
	</changeSet>
	
	<changeSet id="44" author="Vinay">
				<createTable tableName="BUILDERGROUP_TEMP">
			<column name="ID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="NAME" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="SEGMENTATION" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />   
		</createTable> 
	</changeSet>
	
	<changeSet id="45" author="Vinay">
		<addUniqueConstraint columnNames="NAME"
			constraintName="UK_BUILDERGROUP_NAME" deferrable="true" disabled="true"
			initiallyDeferred="true" tableName="BUILDERGROUP" />
	</changeSet>
	
	<changeSet id="46" author="Vinay">
		<addUniqueConstraint columnNames="NAME"
			constraintName="UK_BUILDERGROUP_TEMP_NAME" deferrable="true" disabled="true"
			initiallyDeferred="true" tableName="BUILDERGROUP_TEMP" />
	</changeSet>
	
	<changeSet id="47" author="Vinay" dbms="oracle">	
   		<sql splitStatements="false">
     		 begin
              execute immediate 'CREATE SEQUENCE SeqBuilderGroup START WITH 1 INCREMENT BY 1 MAXVALUE 9223372036854775807 NOCYCLE';  
     		 end;  
     	 </sql>
 	</changeSet>
 
 	<changeSet id="48" author="Vinay" dbms="postgresql">	
   		<sql splitStatements="false">
   			do $$
			 begin
  		 execute 'CREATE SEQUENCE SeqBuilderGroup START  1 INCREMENT BY 1 ';  
			 end;  
			$$;
	    </sql>
 	</changeSet>
 
 	<changeSet id="49" author="Vinay" dbms="mssql">
		<sql splitStatements="false">
			CREATE TABLE SeqBuilderGroup(
			SeqNo 				bigint IDENTITY(1,1) NOT NULL,
			Value 				int NOT NULL
			);	
		</sql>
	</changeSet>
</databaseChangeLog>