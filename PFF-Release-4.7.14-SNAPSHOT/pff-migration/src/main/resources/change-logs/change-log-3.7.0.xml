<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<property name="add.schema" value="dbo." dbms="mssql" />
	<property name="add.schema" value=" " dbms="oracle" />
	<property name="call.substr" value="substring" dbms="mssql" />
	<property name="call.substr" value="substr" dbms="oracle" />
	<property name="call.substr" value="substring" dbms="postgresql" />
	<property name="call.auditdb" value="PFFBFSQCAudit.." dbms="mssql" />
	<property name="call.auditdb" value=" " dbms="oracle" />
	<property name="call.concatenate" value="+" dbms="mssql" />
	<property name="call.concatenate" value="||" dbms="oracle" />
	<property name="call.concatenate" value="||" dbms="postgresql" />
	<property name="call.collength" value="LEN" dbms="mssql" />
	<property name="call.collength" value="LENGTH" dbms="oracle" />
	<property name="call.collength" value="LENGTH" dbms="postgresql" />
	<property name="call.date" value="getdate()" dbms="mssql" />
	<property name="call.date" value="sysdate" dbms="oracle" />
	<property name="call.date" value="now()::timestamp" dbms="postgresql" />
	
	<changeSet id="1" author="Madhubabu">
	<createView viewName="FeePostings_View" replaceIfExists="true">
	SELECT     T1.PostId,T1.PostAgainst, T1.Reference, T1.FeeTyeCode,T1.PostingAmount,T1.PostDate, T1.ValueDate,T1.PartnerBankId ,T2.partnerBankName,T2.Accountno partnerBankAc,
             T2.acType partnerBankAcType ,T3.AccountSetId,T1.Remarks, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    FeePostings_Temp T1 INNER JOIN
					PartnerBanks T2 ON T1.PartnerBankId = T2.PartnerBankId Left outer  Join
					Feetypes T3 ON T3.FeeTypeCode=rtrim(T1.FeeTyeCode) 
          
union all

SELECT     T1.PostId,T1.PostAgainst, T1.Reference, T1.FeeTyeCode,T1.PostingAmount,T1.PostDate, T1.ValueDate,T1.PartnerBankId ,T2.partnerBankName,T2.Accountno partnerBankAc,
            T2.acType partnerBankAcType , T3.AccountSetId,T1.Remarks, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    FeePostings T1 INNER JOIN
					PartnerBanks T2 ON T1.PartnerBankId = T2.PartnerBankId Left outer  Join
					Feetypes T3 ON T3.FeeTypeCode=rtrim(T1.FeeTyeCode) 
          
 WHERE     (NOT EXISTS
                          (SELECT     1 Expr1
                            FROM           FeePostings_Temp
                            WHERE      (PostId = T1.PostId)))
	</createView>
	</changeSet>
	
	<changeSet id="2" author="Madhubabu">
	<createView viewName="FeePostings_TView" replaceIfExists="true">
	 SELECT     T1.PostId,T1.PostAgainst, T1.Reference, T1.FeeTyeCode,T1.PostingAmount,T1.PostDate, T1.ValueDate,T1.PartnerBankId ,T2.partnerBankName,T2.Accountno partnerBankAc,
             T2.acType partnerBankAcType ,T3.AccountSetId,T1.Remarks, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    FeePostings_Temp T1 INNER JOIN
					PartnerBanks T2 ON T1.PartnerBankId = T2.PartnerBankId Left outer  Join
					Feetypes T3 ON T3.FeeTypeCode=rtrim(T1.FeeTyeCode)
	</createView>
	</changeSet>

	<changeSet id="3" author="Madhubabu">
	<createView viewName="FeePostings_AView" replaceIfExists="true">
	 SELECT     T1.PostId,T1.PostAgainst, T1.Reference, T1.FeeTyeCode,T1.PostingAmount,T1.PostDate, T1.ValueDate,T1.PartnerBankId ,T2.partnerBankName,T2.Accountno partnerBankAc,
             T2.acType partnerBankAcType ,T3.AccountSetId,T1.Remarks, T1.Version, T1.LastMntBy, T1.LastMntOn,T1.RecordStatus,T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    FeePostings T1 INNER JOIN
					PartnerBanks T2 ON T1.PartnerBankId = T2.PartnerBankId Left outer  Join
					Feetypes T3 ON T3.FeeTypeCode=rtrim(T1.FeeTyeCode) 	
	</createView>
	</changeSet>
	<changeSet id="4" author="Satya">
<sql>
UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);

INSERT INTO SecGroups SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'BUILDERPROJCET_VIEW', 'Allow to view BuilderProjcet', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
INSERT INTO SecGroups SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'BUILDERPROJCET_MAKER', 'Maker for BuilderProjcet', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;
INSERT INTO SecGroups SELECT (SELECT MAX(GRPID)+1 FROM SECGROUPS), 'BUILDERPROJCET_APPROVER', 'Approver for BuilderProjcet', 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroups WHERE 0=0;


INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),0,'menuItem_SystemMaster_BuilderProjcet','MENU',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),0,'menuItem_SystemMaster_BuilderProjcetEnquiry','MENU',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderProjcetList_PrintList','BuilderProjcetList',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderProjcetList_NewBuilderProjcet','BuilderProjcetList',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderProjcetDialog_btnNew','BuilderProjcetDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderProjcetDialog_btnEdit','BuilderProjcetDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderProjcetDialog_btnDelete','BuilderProjcetDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),2,'button_BuilderProjcetDialog_btnSave','BuilderProjcetDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'BuilderProjcetDialog_id','BuilderProjcetDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'BuilderProjcetDialog_name','BuilderProjcetDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'BuilderProjcetDialog_builderId','BuilderProjcetDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;
INSERT INTO SecRights SELECT (SELECT MAX(RIGHTID)+1 FROM SECRIGHTS),3,'BuilderProjcetDialog_apfNo','BuilderProjcetDialog',0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRights WHERE 0=0;


INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (select max(RightID) from SecRights WHERE RightName='menuCat_SystemMaster'),1,0,10000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_SystemMaster_BuilderProjcet'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_SystemMaster_BuilderProjcetEnquiry'),1,0,10000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_BuilderProjcetList_NewBuilderProjcet'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_BuilderProjcetDialog_btnDelete'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_BuilderProjcetDialog_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='BuilderProjcetDialog_id'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='BuilderProjcetDialog_name'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='BuilderProjcetDialog_builderId'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='BuilderProjcetDialog_apfNo'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_APPROVER'), (select max(RightID) from SecRights WHERE RightName='menuCat_SystemMaster'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_SystemMaster_BuilderProjcet'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='menuItem_SystemMaster_BuilderProjcetEnquiry'),1,0,10000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;
INSERT INTO SecGroupRights SELECT (SELECT MAX(GRPRIGHTID)+1 FROM SECGROUPRIGHTS), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_APPROVER'), (SELECT RIGHTID FROM SECRIGHTS WHERE RIGHTNAME='button_BuilderProjcetDialog_btnSave'),1,0,10000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecGroupRights WHERE 0=0;


INSERT INTO SecRoleGroups SELECT (Select MAX(RoleGrpID)+1 From SecRoleGroups), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_MAKER'), (select roleid from SecRoles where RoleCd='MSTGRP1_MAKER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;
INSERT INTO SecRoleGroups SELECT (Select MAX(RoleGrpID)+1 From SecRoleGroups), (SELECT GRPID  FROM SECGROUPS WHERE GRPCODE='BUILDERPROJCET_APPROVER'), (select roleid from SecRoles where RoleCd='MSTGRP1_APPROVER'), 0,1000,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0 FROM SeqSecRoleGroups WHERE 0=0;

UPDATE SEQSECGROUPS SET SEQNO= (SELECT MAX(GRPID) FROM SECGROUPS);
UPDATE SEQSECRIGHTS SET SEQNO= (SELECT MAX(RIGHTID) FROM SECRIGHTS);
UPDATE SEQSECGROUPRIGHTS SET SEQNO = (SELECT MAX(GRPRIGHTID) FROM SECGROUPRIGHTS);
UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
</sql>
</changeSet>

 <changeSet id="5" author="Satya" >
			<createTable tableName="BUILDERPROJCET">
			<column name="ID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="NAME" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="BUILDERID" type="bigint" />
                       <column name="APFNO" type="varchar(20)" />
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />   
		</createTable> 
	</changeSet>
	<changeSet id="7" author="Satya">
	<createTable tableName="BUILDERPROJCET_TEMP">
			<column name="ID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="NAME" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="BUILDERID" type="bigint" />
			<column name="APFNO" type="varchar(20)" />
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />   
		</createTable> 
	</changeSet>

<changeSet id="8" author="satya">
		<addForeignKeyConstraint constraintName="FK_BuilderCompany_TEMP"
			referencedTableName="BUILDERCOMPANY" referencedColumnNames="ID"
			baseTableName="BUILDERPROJCET_TEMP" baseColumnNames="BUILDERID" />
	</changeSet>



<changeSet id="9" author="Satya">
	<createView viewName="BuilderProjcet_AView" replaceIfExists="true">
SELECT		T1.Id, T1.Name, T1.BuilderId,T1.APFNO		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BuilderProjcet T1
</createView>
</changeSet>

<changeSet id="10" author="Satya">
	<createView viewName="BuilderProjcet_TView" replaceIfExists="true">
SELECT		T1.Id, T1.Name, T1.BuilderId,T1.APFNO		
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BuilderProjcet_Temp T1
</createView>
</changeSet>

	<changeSet id="11" author="Satya">
	<createView viewName="BuilderProjcet_View" replaceIfExists="true">
SELECT		T1.Id, T1.Name, T1.BuilderId,T1.APFNO	
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BuilderProjcet_Temp  T1 
UNION ALL

SELECT		T1.Id, T1.Name, T1.BuilderId,T1.APFNO	
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	BuilderProjcet  T1 
WHERE     NOT EXISTS (SELECT 1 FROM BuilderProjcet_TEMP WHERE Id = T1.Id)
</createView>
</changeSet>

<changeSet id="12" author="Satya" dbms="oracle">
	<sql splitStatements="false">
		begin
		execute immediate 'CREATE SEQUENCE
		SeqBuilderProjcet START WITH 1 INCREMENT
		BY 1 MAXVALUE
		9223372036854775807 NOCYCLE';
		end;
	</sql>
</changeSet>

	<changeSet id="12" author="Satya" dbms="postgresql">
		<sql splitStatements="false">
			do $$
			begin
			execute 'CREATE SEQUENCE
			SeqBuilderProjcet START 1 INCREMENT BY 1 ';
			end;
			$$;
		</sql>
	</changeSet>

	<changeSet id="12" author="Satya" dbms="mssql">
		<sql splitStatements="false">
			CREATE TABLE SeqBuilderProjcet(
			SeqNo bigint
			IDENTITY(1,1) NOT NULL,
			Value int NOT NULL
			);
		</sql>
	</changeSet>
	<changeSet id="13" author="Madhubabu">
	<sql>
		update errordetails set errormessage='{0} Already had one Phone Number with {1}' where errorcode='90287';
	</sql>
	</changeSet>
	
	<changeSet id="14" author="Durgaprasad G">
	 <createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true">
		  SELECT M.MANDATEID, 
				BD.BANKCODE,
				BD.BANKNAME,
				BB.BRANCHCODE,
				BB.BRANCHDESC,
				CUST.CUSTCIF,
				CUST.CUSTSHRTNAME,
				RMTFINTYPE.FINTYPE AS FINTYPE ,
				FIN.FINREFERENCE ,
				(SELECT MAX(REPAYAMOUNT+FEESCHD)
				  FROM FINSCHEDULEDETAILS
				  WHERE FINREFERENCE =FIN.FINREFERENCE
				  AND REPAYONSCHDATE =1
				  )/100 EMI,
				  CASE M.OPENMANDATE
				    WHEN 1
				    THEN 'New Open ECS'
				    ELSE 'No Open ECS'
				  END OPENMANDATE,
				M.ACCNUMBER,
				M.ACCTYPE,
				M.ACCHOLDERNAME,
				BB.MICR,
				(SELECT MIN(FIRSTREPAYDATE) FIRSTDUEDATE
				    FROM FINPFTDETAILS
				    WHERE FINREFERENCE=FIN.FINREFERENCE
				    ) FIRSTDUEDATE,
				(SELECT MAX(MATURITYDATE) EMIENDDATE
				  FROM FINPFTDETAILS
				  WHERE FINREFERENCE=FIN.FINREFERENCE
				  ) EMIENDDATE,
				  COALESCE (M.MAXLIMIT, 0)/100 MAXLIMIT,
				    (SELECT SUM(REPAYAMOUNT+FEESCHD) MANDATEDEBITAMOUNT
				  FROM FINSCHEDULEDETAILS
				  WHERE FINREFERENCE IN
				    (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID
				    )
				  AND REPAYONSCHDATE =1
				  )/100 DEBITAMOUNT,
				  M.STARTDATE,
				  M.EXPIRYDATE,
				  FIN.APPLICATIONNO,
				  M.MANDATETYPE,
				  M.STATUS,
				  M.INPUTDATE,
				  M.RECORDSTATUS,
				  M.RECORDTYPE,
		      M.MANDATECCY,
		      CCY.CCYMINORCCYUNITS
				FROM MANDATES M
				INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID
				INNER JOIN BMTBANKDETAIL BD ON BD.BANKCODE=BB.BANKCODE 
				INNER JOIN CUSTOMERS CUST   ON CUST.CUSTID = M.CUSTID
		    LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY
				LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE
				LEFT OUTER JOIN RMTFINANCETYPES RMTFINTYPE ON FIN.FINTYPE =RMTFINTYPE.FINTYPE 
				WHERE M.STATUS = 'NEW'
	 </createView>
	</changeSet>
	
	<changeSet id="15" author="DurgaPrasad G">
	 <createView viewName="INT_ALM_VIEW" replaceIfExists="true">
		     SELECT FM.FINREFERENCE AGREEMENTNO,FM.FINTYPE PRODUCTFLAG, NPB.BUCKETCODE NPA_STAGEID ,
			(FP.TOTALPRIBAL+FP.TOTALPFTBAL)/CCYMINORCCYUNITS INSTLAMT,FP.TOTALPRIBAL/CCYMINORCCYUNITS PRINCOMP,FP.TOTALPFTBAL/CCYMINORCCYUNITS INTCOMP,FP.FIRSTREPAYDATE DUEDATE,
			FP.PFTACCRUED/CCYMINORCCYUNITS ACCRUEDAMT,FP.PFTACCRUED/CCYMINORCCYUNITS CUMULATIVE_ACCRUAL_AMT,
	    CASE WHEN (SELECT COUNT(RH.REFERENCE) EMIADV FROM FINRECEIPTDETAIL RD INNER JOIN FINRECEIPTHEADER RH ON RH.RECEIPTID=RH.RECEIPTID WHERE PAYMENTTYPE='EMIINADV'
	    AND RH.REFERENCE= FM.FINREFERENCE) > 0 THEN 'Y' ELSE 'N' END ADVFLAG
			FROM FINANCEMAIN FM
			INNER JOIN FINPFTDETAILS FP ON FP.FINREFERENCE=FM.FINREFERENCE
			INNER JOIN RMTCURRENCIES RC ON RC.CCYCODE=FM.FINCCY
	    LEFT JOIN FINPROVISIONS PR ON PR.FINREFERENCE = FM.FINREFERENCE
	    LEFT JOIN NPABUCKETS NPB ON NPB.BUCKETID = PR.NPABUCKETID
	 
	 
	 </createView>
	</changeSet>
	
	<changeSet id="16" author="DurgaPrasad G">
	 <createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true">
	  SELECT M.MANDATEID, 
		BD.BANKCODE,
		BD.BANKNAME,
		BB.BRANCHCODE,
		BB.BRANCHDESC,
		CUST.CUSTCIF,
		CUST.CUSTSHRTNAME,
		RMTFINTYPE.FINTYPE AS FINTYPE ,
		FIN.FINREFERENCE ,
		(SELECT MAX(REPAYAMOUNT+FEESCHD)
		  FROM FINSCHEDULEDETAILS
		  WHERE FINREFERENCE =FIN.FINREFERENCE
		  AND REPAYONSCHDATE =1
		  )/100 EMI,
		  CASE M.OPENMANDATE
		    WHEN 1
		    THEN 'New Open ECS'
		    ELSE 'No Open ECS'
		  END OPENMANDATE,
		M.ACCNUMBER,
		M.ACCTYPE,
		M.ACCHOLDERNAME,
		BB.MICR,
		(SELECT MIN(FIRSTREPAYDATE) FIRSTDUEDATE
		    FROM FINPFTDETAILS
		    WHERE FINREFERENCE=FIN.FINREFERENCE
		    ) FIRSTDUEDATE,
		(SELECT MAX(MATURITYDATE) EMIENDDATE
		  FROM FINPFTDETAILS
		  WHERE FINREFERENCE=FIN.FINREFERENCE
		  ) EMIENDDATE,
		  COALESCE (M.MAXLIMIT, 0) MAXLIMIT,
		    (SELECT SUM(REPAYAMOUNT+FEESCHD) MANDATEDEBITAMOUNT
		  FROM FINSCHEDULEDETAILS
		  WHERE FINREFERENCE IN
		    (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID
		    )
		  AND REPAYONSCHDATE =1
		  )/100 DEBITAMOUNT,
		  M.STARTDATE,
		  M.EXPIRYDATE,
		  FIN.APPLICATIONNO,
		  M.MANDATETYPE,
		  M.STATUS,
		  M.INPUTDATE,
		  M.RECORDSTATUS,
		  M.RECORDTYPE,
      M.MANDATECCY,
    COALESCE (CCY.CCYMINORCCYUNITS,100) CCYMINORCCYUNITS
		FROM MANDATES M
		INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID
		INNER JOIN BMTBANKDETAIL BD ON BD.BANKCODE=BB.BANKCODE 
		INNER JOIN CUSTOMERS CUST   ON CUST.CUSTID = M.CUSTID
    LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY
		LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE
		LEFT OUTER JOIN RMTFINANCETYPES RMTFINTYPE ON FIN.FINTYPE =RMTFINTYPE.FINTYPE 
		WHERE M.STATUS = 'NEW'
	 </createView>
	</changeSet>
	
	<changeSet id="17" author="Irfan">
	<sql>
		update manualadvise set reservedAmt=0 where reservedAmt is null and advisetype=2;
		update manualadvise_temp set reservedAmt=0 where reservedAmt is null and advisetype=2;
		update manualadvise set balanceAmt=(adviseamount-paidamount-waivedamount-reservedAmt) where balanceAmt is null and advisetype=2;
		update manualadvise_temp set balanceAmt=(adviseamount-paidamount-waivedamount-reservedAmt) where balanceAmt is null and advisetype=2;
	
	</sql>
	</changeSet>
	<changeSet id="18" author="Jayant">
	    <sql>
	        update manualadvise set balanceAmt=(adviseamount-paidamount-waivedamount-reservedAmt) where  advisetype=2;
		update manualadvise_temp set balanceAmt=(adviseamount-paidamount-waivedamount-reservedAmt) where  advisetype=2;
	    </sql>
	</changeSet>
	<changeSet author="Jayant" id="19">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId"
				valueComputed="(select max(WorkFlowId) + 1 from WorkFlowDetails)" />
			<column name="WorkFlowType">RECEIPT_PROCESS</column>
			<column name="WorkFlowSubType">Receipt Workflow Process</column>
			<column name="WorkFlowDesc">Receipt Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">RECEIPT_MAKER;RECEIPT_APPROVER;DEPOSIT_MAKER;DEPOSIT_APPROVER;RECEIPTWAIVER_APPROVER;RECEIPTREALIZE_MAKER;RECEIPTREALIZE_APPROVER</column>
			<column name="FirstTaskOwner">RECEIPT_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">5</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn">25-MAY-2017</column>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode">Null</column>
			<column name="NextRoleCode">Null</column>
			<column name="TaskId">Null</column>
			<column name="NextTaskId">Null</column>
			<column name="RecordType">NULL</column>
		</insert>
	</changeSet>
	
<changeSet id="20" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":"CCMS_MSTGRP1","properties":{"name":"Receipt Process\n","documentation":"","auditing":"","monitoring":"","executable":"true","package":"","vardefs":"","imports":"","id":"RECEIPT_PROCESS","version":"","author":"","language":"English","namespaces":"","targetnamespace":"http://www.omg.org/bpmn20","expressionlanguage":"http://www.w3.org/1999/XPath","typelanguage":"http://www.w3.org/2001/XMLSchema","creationdate":"","modificationdate":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"_FF9D4911-C022-42B0-B00A-9C353226F4A7","properties":{"name":"Start","documentation":"","auditing":"","monitoring":"","dataoutputassociations":"","dataoutput":"","outputset":"","bgcolor":"#C5F970","trigger":"None"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"}],"bounds":{"lowerRight":{"x":60,"y":138},"upperLeft":{"x":30,"y":108}},"dockers":[]},{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF","properties":{"name":"Receipt Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":false,"assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"RECEIPT_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_B4A70293-13FD-44EB-A4C3-78A38AC643B9"},{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"}],"bounds":{"lowerRight":{"x":190,"y":163},"upperLeft":{"x":90,"y":83}},"dockers":[]},{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":89.2734375,"y":124},"upperLeft":{"x":60.84375,"y":122}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A","properties":{"name":"Receipt Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"RECEIPT_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_00E367A7-32B3-4238-95E1-394CAF4A448E"}],"bounds":{"lowerRight":{"x":640,"y":163},"upperLeft":{"x":540,"y":83}},"dockers":[]},{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"}],"bounds":{"lowerRight":{"x":269.5117242686572,"y":123.43027150919819},"upperLeft":{"x":190.3828069813428,"y":123.16738474080181}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"}},{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53"},{"resourceId":"_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059"}],"bounds":{"lowerRight":{"x":745,"y":143},"upperLeft":{"x":705,"y":103}},"dockers":[]},{"resourceId":"_00E367A7-32B3-4238-95E1-394CAF4A448E","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"}],"bounds":{"lowerRight":{"x":704.3867255581166,"y":123.42209123822184},"upperLeft":{"x":640.7538994418834,"y":123.18728376177816}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"}},{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618","properties":{"name":"Complete Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":" ","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doApprove","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008"}],"bounds":{"lowerRight":{"x":1084,"y":163},"upperLeft":{"x":984,"y":83}},"dockers":[]},{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":983.5917981884055,"y":123.46712925658575},"upperLeft":{"x":745.7812486865945,"y":123.08169886841425}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01","properties":{"name":"Approved","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1288,"y":137},"upperLeft":{"x":1260,"y":109}},"dockers":[]},{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}],"bounds":{"lowerRight":{"x":1259.875,"y":124},"upperLeft":{"x":1084.6875,"y":122}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":725.5,"y":102.53125},"upperLeft":{"x":140,"y":17}},"dockers":[{"x":20.5,"y":20.5},{"x":725.5,"y":17},{"x":140,"y":17},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0","properties":{"name":"Cancel Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doReject","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681"}],"bounds":{"lowerRight":{"x":775,"y":290},"upperLeft":{"x":675,"y":210}},"dockers":[]},{"resourceId":"_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":725.4218287117047,"y":209.46875781130998},"upperLeft":{"x":725.1602025382953,"y":143.27733593869002}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA","properties":{"name":"Rejected","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":649,"y":343},"upperLeft":{"x":621,"y":315}},"dockers":[]},{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}],"bounds":{"lowerRight":{"x":725,"y":329},"upperLeft":{"x":649.359375,"y":290.5}},"dockers":[{"x":50,"y":40},{"x":725,"y":329},{"x":14,"y":14}],"target":{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}},{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038","properties":{"name":"Deposit Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"DEPOSIT_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_1A0972CB-1741-433E-A3FE-77569D3EB20D"},{"resourceId":"_35B25356-FC7E-4293-8C1B-C161F416565E"},{"resourceId":"_875A1CB8-F079-4E62-8E17-DCC7048BD3D9"}],"bounds":{"lowerRight":{"x":595,"y":429},"upperLeft":{"x":495,"y":349}},"dockers":[]},{"resourceId":"_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05","properties":{"name":"Deposit Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"DEPOSIT_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5"}],"bounds":{"lowerRight":{"x":820,"y":429},"upperLeft":{"x":720,"y":349}},"dockers":[]},{"resourceId":"_1A0972CB-1741-433E-A3FE-77569D3EB20D","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"}],"bounds":{"lowerRight":{"x":719.78125,"y":390},"upperLeft":{"x":595.21875,"y":388}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"}},{"resourceId":"_35B25356-FC7E-4293-8C1B-C161F416565E","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":674.78125,"y":348.90625},"upperLeft":{"x":545,"y":250}},"dockers":[{"x":50,"y":40},{"x":545,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_CDBBE246-EF44-40AB-99BF-3B06873BDB20","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":905.5,"y":334.71875},"upperLeft":{"x":775.35546875,"y":250}},"dockers":[{"x":20.5,"y":20.5},{"x":905.5,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_1CA63148-6545-4CC3-86CB-04EB05AF10F2","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":905.5,"y":460},"upperLeft":{"x":545,"y":375.27734375}},"dockers":[{"x":20.5,"y":20.5},{"x":905.5,"y":460},{"x":545,"y":460},{"x":50,"y":40}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_F7B8A61B-F531-4C69-807A-73DF463954F9","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"}],"bounds":{"lowerRight":{"x":1013.34375,"y":356.5},"upperLeft":{"x":925.6484375,"y":354.5}},"dockers":[{"x":20.5,"y":20.5},{"x":20.5,"y":20.5}],"target":{"resourceId":"_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"}},{"resourceId":"_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_F7B8A61B-F531-4C69-807A-73DF463954F9"},{"resourceId":"_CDBBE246-EF44-40AB-99BF-3B06873BDB20"},{"resourceId":"_1CA63148-6545-4CC3-86CB-04EB05AF10F2"}],"bounds":{"lowerRight":{"x":925,"y":375},"upperLeft":{"x":885,"y":335}},"dockers":[]},{"resourceId":"_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D"}],"bounds":{"lowerRight":{"x":885.1328125,"y":389},"upperLeft":{"x":820.62890625,"y":355}},"dockers":[{"x":50,"y":40},{"x":852.5,"y":389},{"x":852.5,"y":355},{"x":20,"y":20}],"target":{"resourceId":"_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D"}},{"resourceId":"_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_E7648A60-BBC5-4B1D-8796-F35679E0FE51"},{"resourceId":"_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF"}],"bounds":{"lowerRight":{"x":310,"y":143},"upperLeft":{"x":270,"y":103}},"dockers":[]},{"resourceId":"_9209E0A4-14BC-4840-AE5E-AF2425159AD0","properties":{"name":"Cancel Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doReject","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_B600CB2F-1566-41FD-BB42-8CC730387820"}],"bounds":{"lowerRight":{"x":190,"y":320},"upperLeft":{"x":90,"y":240}},"dockers":[]},{"resourceId":"_46DBB075-601A-48C5-80F6-7A3C9575CEF5","properties":{"name":"Rejected","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":154,"y":403},"upperLeft":{"x":126,"y":375}},"dockers":[]},{"resourceId":"_B600CB2F-1566-41FD-BB42-8CC730387820","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_46DBB075-601A-48C5-80F6-7A3C9575CEF5"}],"bounds":{"lowerRight":{"x":141,"y":374.375},"upperLeft":{"x":139,"y":320.171875}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_46DBB075-601A-48C5-80F6-7A3C9575CEF5"}},{"resourceId":"_B4A70293-13FD-44EB-A4C3-78A38AC643B9","properties":{"name":"Cancel","documentation":"Cancel=Cancelled","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Cancelled'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_9209E0A4-14BC-4840-AE5E-AF2425159AD0"}],"bounds":{"lowerRight":{"x":141,"y":239.66015625},"upperLeft":{"x":139,"y":163.435546875}},"dockers":[{"x":50,"y":40},{"x":50,"y":48.5}],"target":{"resourceId":"_9209E0A4-14BC-4840-AE5E-AF2425159AD0"}},{"resourceId":"_C2820306-3E6C-4BD7-A4F6-099893B15468","properties":{"name":"Cheque / DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"(vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE' ) &amp;&amp; \nvo.waivedAmt <= 0","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":495,"y":369},"upperLeft":{"x":395.5,"y":143.6796875}},"dockers":[{"x":20.5,"y":20.5},{"x":395.5,"y":369},{"x":1,"y":20}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_E46247E5-509B-4142-A14A-5ABED0386711","properties":{"name":"Others than Cheque && DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptMode != 'DD' &amp;&amp; vo.receiptMode != 'CHEQUE' &amp;&amp; \nvo.waivedAmt <= 0","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}],"bounds":{"lowerRight":{"x":539.6152376792177,"y":123.44860118940673},"upperLeft":{"x":415.49413732078233,"y":123.12952381059327}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}},{"resourceId":"_875A1CB8-F079-4E62-8E17-DCC7048BD3D9","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":495,"y":409},"upperLeft":{"x":165,"y":163.9375}},"dockers":[{"x":1,"y":60},{"x":209,"y":409},{"x":209,"y":222},{"x":165,"y":222},{"x":75,"y":79}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_266A3753-53BE-4B36-803D-564AD4E9D895","properties":{"name":"Waiver Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"RECEIPTWAIVER_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_58EFCBCE-4E80-412E-A115-5B4669864DFD"},{"resourceId":"_8385B547-68BC-4ADD-B5A4-156A981195D4"}],"bounds":{"lowerRight":{"x":340,"y":260},"upperLeft":{"x":240,"y":180}},"dockers":[]},{"resourceId":"_E7648A60-BBC5-4B1D-8796-F35679E0FE51","properties":{"name":"Amounts Waived","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.waivedAmt > 0","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_266A3753-53BE-4B36-803D-564AD4E9D895"}],"bounds":{"lowerRight":{"x":290.39716247239846,"y":179.7968884229089},"upperLeft":{"x":290.20830627760154,"y":143.3476428270911}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_266A3753-53BE-4B36-803D-564AD4E9D895"}},{"resourceId":"_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_E46247E5-509B-4142-A14A-5ABED0386711"},{"resourceId":"_C2820306-3E6C-4BD7-A4F6-099893B15468"}],"bounds":{"lowerRight":{"x":415,"y":143},"upperLeft":{"x":375,"y":103}},"dockers":[]},{"resourceId":"_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF","properties":{"name":"No Waiver","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD"}],"bounds":{"lowerRight":{"x":374.40626144642783,"y":123.40537161577238},"upperLeft":{"x":310.27733230357217,"y":123.09853463422762}},"dockers":[{"x":20.5,"y":20.5},{"x":20,"y":20}],"target":{"resourceId":"_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD"}},{"resourceId":"_4D16E470-104D-4592-9B14-17380F17A1C0","properties":{"name":"Others than Cheque && DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptMode != 'DD' && vo.receiptMode != 'CHEQUE'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}],"bounds":{"lowerRight":{"x":590,"y":329.5},"upperLeft":{"x":310.44140625,"y":163.40625}},"dockers":[{"x":20.5,"y":20.5},{"x":477,"y":329.5},{"x":477,"y":220},{"x":590,"y":220},{"x":50,"y":40}],"target":{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}},{"resourceId":"_4BC339BC-2D3E-4903-909A-FA9A90904CA6","properties":{"name":"Cheque / DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":494.2696739908984,"y":389},"upperLeft":{"x":290.3807308333996,"y":349.0937479909482}},"dockers":[{"x":20.5,"y":20.5},{"x":290.3807308333996,"y":389},{"x":50,"y":40}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_96BEF884-7DA1-4DF3-9D19-BF88157F2093"},{"resourceId":"_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA"}],"bounds":{"lowerRight":{"x":1054,"y":375},"upperLeft":{"x":1014,"y":335}},"dockers":[]},{"resourceId":"_96BEF884-7DA1-4DF3-9D19-BF88157F2093","properties":{"name":"Schedule Payment only","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptPurpose == 'SchdlRepayment'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":1034.4548807173385,"y":334.519533562398},"upperLeft":{"x":1034.0880880326615,"y":163.96093518760196}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB","properties":{"name":"Realization Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"RECEIPTREALIZE_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_14D53AA8-7D4D-4DF1-A796-C911759AFE82"},{"resourceId":"_94D56E95-3CAA-42C4-8793-99B5680F600E"},{"resourceId":"_5DD316D3-913F-4600-9D37-0CEAA3FEBA43"}],"bounds":{"lowerRight":{"x":1285,"y":395},"upperLeft":{"x":1185,"y":315}},"dockers":[]},{"resourceId":"_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9","properties":{"name":"Realization Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"RECEIPTREALIZE_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_179060F8-FE71-4B6D-8DF9-B700C2446E31"}],"bounds":{"lowerRight":{"x":1450,"y":395},"upperLeft":{"x":1350,"y":315}},"dockers":[]},{"resourceId":"_14D53AA8-7D4D-4DF1-A796-C911759AFE82","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"}],"bounds":{"lowerRight":{"x":1349.37109375,"y":356},"upperLeft":{"x":1285.62890625,"y":354}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"}},{"resourceId":"_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA","properties":{"name":"Partial Settlement\nor \nEarly settlement","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptPurpose != 'SchdlRepayment'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}],"bounds":{"lowerRight":{"x":1184.658206234419,"y":355.45063124216813},"upperLeft":{"x":1054.296871890581,"y":355.12554063283187}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}},{"resourceId":"_4121FF63-DD77-4FFB-9923-36E39DD6622D","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}],"bounds":{"lowerRight":{"x":1505.5,"y":452},"upperLeft":{"x":1260,"y":375.34765625}},"dockers":[{"x":20.5,"y":20.5},{"x":1505.5,"y":452},{"x":1260,"y":452},{"x":75,"y":1}],"target":{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}},{"resourceId":"_94D56E95-3CAA-42C4-8793-99B5680F600E","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":1210,"y":465},"upperLeft":{"x":545,"y":395.5546875}},"dockers":[{"x":25,"y":79},{"x":1210,"y":465},{"x":545,"y":465},{"x":50,"y":40}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_7E5B6958-654D-4FEE-84F4-6421844F8D1F","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":1505.5,"y":334.71875},"upperLeft":{"x":775.54345703125,"y":250}},"dockers":[{"x":20.5,"y":20.5},{"x":1505.5,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_5DD316D3-913F-4600-9D37-0CEAA3FEBA43","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":1235,"y":314.625},"upperLeft":{"x":775.8046875,"y":250}},"dockers":[{"x":50,"y":40},{"x":1235,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_921EB85C-0D30-4933-9BA8-E25DC6108252","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":1562,"y":355.5},"upperLeft":{"x":1034,"y":163.84375}},"dockers":[{"x":20.5,"y":20.5},{"x":1562,"y":355.5},{"x":1562,"y":225},{"x":1034,"y":225},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_262A1962-825F-4C56-88B3-206A2B80569F","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_921EB85C-0D30-4933-9BA8-E25DC6108252"},{"resourceId":"_7E5B6958-654D-4FEE-84F4-6421844F8D1F"},{"resourceId":"_4121FF63-DD77-4FFB-9923-36E39DD6622D"}],"bounds":{"lowerRight":{"x":1525,"y":375},"upperLeft":{"x":1485,"y":335}},"dockers":[]},{"resourceId":"_179060F8-FE71-4B6D-8DF9-B700C2446E31","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_262A1962-825F-4C56-88B3-206A2B80569F"}],"bounds":{"lowerRight":{"x":1485.1328125,"y":356},"upperLeft":{"x":1450.21875,"y":354}},"dockers":[{"x":50,"y":40},{"x":20,"y":20}],"target":{"resourceId":"_262A1962-825F-4C56-88B3-206A2B80569F"}},{"resourceId":"_58EFCBCE-4E80-412E-A115-5B4669864DFD","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":239.78125,"y":220},"upperLeft":{"x":164,"y":163.40625}},"dockers":[{"x":50,"y":40},{"x":164,"y":220},{"x":164,"y":163.40625}]},{"resourceId":"_07584E25-8359-4AF3-AB92-3A6FD5B81959","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_4BC339BC-2D3E-4903-909A-FA9A90904CA6"},{"resourceId":"_4D16E470-104D-4592-9B14-17380F17A1C0"}],"bounds":{"lowerRight":{"x":310,"y":349},"upperLeft":{"x":270,"y":309}},"dockers":[]},{"resourceId":"_8385B547-68BC-4ADD-B5A4-156A981195D4","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_07584E25-8359-4AF3-AB92-3A6FD5B81959"}],"bounds":{"lowerRight":{"x":290.40559008755696,"y":308.82422917497405},"upperLeft":{"x":290.18425366244304,"y":260.35155207502595}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_07584E25-8359-4AF3-AB92-3A6FD5B81959"}}],"bounds":{"lowerRight":{"x":3000,"y":2000},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"bpmn2.0pbpm","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns="http://www.omg.org/bpmn20" xmlns:drools="http://www.jboss.org/drools" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="_yjbN0EFeEeean-ToEvbExQ" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd" targetNamespace="http://www.omg.org/bpmn20"><bpmn2:itemDefinition id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" /><bpmn2:itemDefinition id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" /><bpmn2:itemDefinition id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessageType" /><bpmn2:message id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage" itemRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" /><bpmn2:message id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage" itemRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" /><bpmn2:message id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessage" itemRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessageType" /><bpmn2:interface id="_yjbOK0FeEeean-ToEvbExQ"><bpmn2:operation id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation" name="doApprove"><bpmn2:inMessageRef>_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:interface id="_yjbOLEFeEeean-ToEvbExQ"><bpmn2:operation id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation" name="doReject"><bpmn2:inMessageRef>_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:interface id="_yjbOLUFeEeean-ToEvbExQ"><bpmn2:operation id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_ServiceOperation" name="doReject"><bpmn2:inMessageRef>_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:process id="RECEIPT_PROCESS" name="Receipt Process " isExecutable="true"><bpmn2:startEvent id="_FF9D4911-C022-42B0-B00A-9C353226F4A7" drools:bgcolor="#C5F970" name="Start"><bpmn2:outgoing>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:outgoing></bpmn2:startEvent><bpmn2:userTask id="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" drools:bgcolor="#FF6600" name="Receipt Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:incoming><bpmn2:incoming>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:incoming><bpmn2:incoming>_875A1CB8-F079-4E62-8E17-DCC7048BD3D9</bpmn2:incoming><bpmn2:outgoing>_B4A70293-13FD-44EB-A4C3-78A38AC643B9</bpmn2:outgoing><bpmn2:outgoing>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:outgoing><bpmn2:potentialOwner id="_yjbN0UFeEeean-ToEvbExQ"><bpmn2:resourceAssignmentExpression id="_yjbN0kFeEeean-ToEvbExQ"><bpmn2:formalExpression id="_yjbN00FeEeean-ToEvbExQ">RECEIPT_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117" sourceRef="_FF9D4911-C022-42B0-B00A-9C353226F4A7" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" /><bpmn2:userTask id="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" drools:bgcolor="#FF6600" name="Receipt Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_4D16E470-104D-4592-9B14-17380F17A1C0</bpmn2:incoming><bpmn2:incoming>_E46247E5-509B-4142-A14A-5ABED0386711</bpmn2:incoming><bpmn2:outgoing>_00E367A7-32B3-4238-95E1-394CAF4A448E</bpmn2:outgoing><bpmn2:potentialOwner id="_yjbN1EFeEeean-ToEvbExQ"><bpmn2:resourceAssignmentExpression id="_yjbN1UFeEeean-ToEvbExQ"><bpmn2:formalExpression id="_yjbN1kFeEeean-ToEvbExQ">RECEIPT_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D" name="Submit" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"><bpmn2:documentation id="_yjbN10FeEeean-ToEvbExQ">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN2EFeEeean-ToEvbExQ">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_00E367A7-32B3-4238-95E1-394CAF4A448E</bpmn2:incoming><bpmn2:outgoing>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:outgoing><bpmn2:outgoing>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:outgoing><bpmn2:outgoing>_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_00E367A7-32B3-4238-95E1-394CAF4A448E" sourceRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" targetRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" /><bpmn2:serviceTask id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doApprove" name="Complete Process" operationRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation"><bpmn2:incoming>_921EB85C-0D30-4933-9BA8-E25DC6108252</bpmn2:incoming><bpmn2:incoming>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:incoming><bpmn2:incoming>_96BEF884-7DA1-4DF3-9D19-BF88157F2093</bpmn2:incoming><bpmn2:outgoing>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:sequenceFlow id="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56" name="Approve" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:documentation id="_yjbN2UFeEeean-ToEvbExQ">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN2kFeEeean-ToEvbExQ">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:endEvent id="_73682DD6-4D65-497A-BAA5-B80623CB6C01" drools:bgcolor="#F47677" name="Approved"><bpmn2:incoming>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_A921FE66-42C4-42CC-BB5C-15ABAA47A008" sourceRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" targetRef="_73682DD6-4D65-497A-BAA5-B80623CB6C01" /><bpmn2:sequenceFlow id="_2AE689CD-94CB-4752-9CE3-748559E63D53" name="Resubmit" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><bpmn2:documentation id="_yjbN20FeEeean-ToEvbExQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_yjbN3EFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbN3UFeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN3kFeEeean-ToEvbExQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:serviceTask id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doReject" name="Cancel Process" operationRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation"><bpmn2:incoming>_CDBBE246-EF44-40AB-99BF-3B06873BDB20</bpmn2:incoming><bpmn2:incoming>_7E5B6958-654D-4FEE-84F4-6421844F8D1F</bpmn2:incoming><bpmn2:incoming>_5DD316D3-913F-4600-9D37-0CEAA3FEBA43</bpmn2:incoming><bpmn2:incoming>_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059</bpmn2:incoming><bpmn2:incoming>_35B25356-FC7E-4293-8C1B-C161F416565E</bpmn2:incoming><bpmn2:outgoing>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:sequenceFlow id="_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059" name="Reject" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_yjbN30FeEeean-ToEvbExQ">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_yjbN4EFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbN4UFeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN4kFeEeean-ToEvbExQ">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:endEvent id="_87A46993-91DA-47E0-811B-2F196FBAD6AA" drools:bgcolor="#F47677" name="Rejected"><bpmn2:incoming>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_DAFA463C-32E5-4B16-BC89-284B69E70681" sourceRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" targetRef="_87A46993-91DA-47E0-811B-2F196FBAD6AA" /><bpmn2:userTask id="_5F5413A7-D079-4061-A500-66B805CEF038" drools:bgcolor="#FF6600" name="Deposit Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_4BC339BC-2D3E-4903-909A-FA9A90904CA6</bpmn2:incoming><bpmn2:incoming>_94D56E95-3CAA-42C4-8793-99B5680F600E</bpmn2:incoming><bpmn2:incoming>_C2820306-3E6C-4BD7-A4F6-099893B15468</bpmn2:incoming><bpmn2:incoming>_1CA63148-6545-4CC3-86CB-04EB05AF10F2</bpmn2:incoming><bpmn2:outgoing>_1A0972CB-1741-433E-A3FE-77569D3EB20D</bpmn2:outgoing><bpmn2:outgoing>_35B25356-FC7E-4293-8C1B-C161F416565E</bpmn2:outgoing><bpmn2:outgoing>_875A1CB8-F079-4E62-8E17-DCC7048BD3D9</bpmn2:outgoing><bpmn2:potentialOwner id="_yjbN40FeEeean-ToEvbExQ"><bpmn2:resourceAssignmentExpression id="_yjbN5EFeEeean-ToEvbExQ"><bpmn2:formalExpression id="_yjbN5UFeEeean-ToEvbExQ">DEPOSIT_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:userTask id="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05" drools:bgcolor="#FF6600" name="Deposit Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_1A0972CB-1741-433E-A3FE-77569D3EB20D</bpmn2:incoming><bpmn2:outgoing>_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5</bpmn2:outgoing><bpmn2:potentialOwner id="_yjbN5kFeEeean-ToEvbExQ"><bpmn2:resourceAssignmentExpression id="_yjbN50FeEeean-ToEvbExQ"><bpmn2:formalExpression id="_yjbN6EFeEeean-ToEvbExQ">DEPOSIT_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_1A0972CB-1741-433E-A3FE-77569D3EB20D" name="Submit" sourceRef="_5F5413A7-D079-4061-A500-66B805CEF038" targetRef="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"><bpmn2:documentation id="_yjbN6UFeEeean-ToEvbExQ">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN6kFeEeean-ToEvbExQ">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_35B25356-FC7E-4293-8C1B-C161F416565E" name="Reject" sourceRef="_5F5413A7-D079-4061-A500-66B805CEF038" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_yjbN60FeEeean-ToEvbExQ">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_yjbN7EFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbN7UFeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN7kFeEeean-ToEvbExQ">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_CDBBE246-EF44-40AB-99BF-3B06873BDB20" name="Reject" sourceRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_yjbN70FeEeean-ToEvbExQ">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_yjbN8EFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbN8UFeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN8kFeEeean-ToEvbExQ">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_1CA63148-6545-4CC3-86CB-04EB05AF10F2" name="Resubmit" sourceRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:documentation id="_yjbN80FeEeean-ToEvbExQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_yjbN9EFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbN9UFeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN9kFeEeean-ToEvbExQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_F7B8A61B-F531-4C69-807A-73DF463954F9" name="Approve" sourceRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" targetRef="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"><bpmn2:documentation id="_yjbN90FeEeean-ToEvbExQ">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN-EFeEeean-ToEvbExQ">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5</bpmn2:incoming><bpmn2:outgoing>_F7B8A61B-F531-4C69-807A-73DF463954F9</bpmn2:outgoing><bpmn2:outgoing>_CDBBE246-EF44-40AB-99BF-3B06873BDB20</bpmn2:outgoing><bpmn2:outgoing>_1CA63148-6545-4CC3-86CB-04EB05AF10F2</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5" sourceRef="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05" targetRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" /><bpmn2:exclusiveGateway id="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:incoming><bpmn2:outgoing>_E7648A60-BBC5-4B1D-8796-F35679E0FE51</bpmn2:outgoing><bpmn2:outgoing>_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:serviceTask id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doReject" name="Cancel Process" operationRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_ServiceOperation"><bpmn2:incoming>_B4A70293-13FD-44EB-A4C3-78A38AC643B9</bpmn2:incoming><bpmn2:outgoing>_B600CB2F-1566-41FD-BB42-8CC730387820</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:endEvent id="_46DBB075-601A-48C5-80F6-7A3C9575CEF5" drools:bgcolor="#F47677" name="Rejected"><bpmn2:incoming>_B600CB2F-1566-41FD-BB42-8CC730387820</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_B600CB2F-1566-41FD-BB42-8CC730387820" sourceRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0" targetRef="_46DBB075-601A-48C5-80F6-7A3C9575CEF5" /><bpmn2:sequenceFlow id="_B4A70293-13FD-44EB-A4C3-78A38AC643B9" name="Cancel" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0"><bpmn2:documentation id="_yjbN-UFeEeean-ToEvbExQ">Cancel=Cancelled</bpmn2:documentation><bpmn2:auditing id="_yjbN-kFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbN-0FeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN_EFeEeean-ToEvbExQ">vo.recordStatus == 'Cancelled'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_C2820306-3E6C-4BD7-A4F6-099893B15468" name="Cheque / DD" sourceRef="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN_UFeEeean-ToEvbExQ">(vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE' ) &amp;amp;&amp;amp; 
vo.waivedAmt &lt;= 0</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_E46247E5-509B-4142-A14A-5ABED0386711" name="Others than Cheque &amp;&amp; DD" sourceRef="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" targetRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbN_kFeEeean-ToEvbExQ">vo.receiptMode != 'DD' &amp;amp;&amp;amp; vo.receiptMode != 'CHEQUE' &amp;amp;&amp;amp; 
vo.waivedAmt &lt;= 0</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_875A1CB8-F079-4E62-8E17-DCC7048BD3D9" name="Resubmit" sourceRef="_5F5413A7-D079-4061-A500-66B805CEF038" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><bpmn2:documentation id="_yjbN_0FeEeean-ToEvbExQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_yjbOAEFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbOAUFeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOAkFeEeean-ToEvbExQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:userTask id="_266A3753-53BE-4B36-803D-564AD4E9D895" drools:bgcolor="#FF6600" name="Waiver Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_E7648A60-BBC5-4B1D-8796-F35679E0FE51</bpmn2:incoming><bpmn2:outgoing>_58EFCBCE-4E80-412E-A115-5B4669864DFD</bpmn2:outgoing><bpmn2:outgoing>_8385B547-68BC-4ADD-B5A4-156A981195D4</bpmn2:outgoing><bpmn2:potentialOwner id="_yjbOA0FeEeean-ToEvbExQ"><bpmn2:resourceAssignmentExpression id="_yjbOBEFeEeean-ToEvbExQ"><bpmn2:formalExpression id="_yjbOBUFeEeean-ToEvbExQ">RECEIPTWAIVER_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_E7648A60-BBC5-4B1D-8796-F35679E0FE51" name="Amounts Waived" sourceRef="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5" targetRef="_266A3753-53BE-4B36-803D-564AD4E9D895"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOBkFeEeean-ToEvbExQ">vo.waivedAmt &gt; 0</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF</bpmn2:incoming><bpmn2:outgoing>_E46247E5-509B-4142-A14A-5ABED0386711</bpmn2:outgoing><bpmn2:outgoing>_C2820306-3E6C-4BD7-A4F6-099893B15468</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF" name="No Waiver" sourceRef="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5" targetRef="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" /><bpmn2:sequenceFlow id="_4D16E470-104D-4592-9B14-17380F17A1C0" name="Others than Cheque &amp;&amp; DD" sourceRef="_07584E25-8359-4AF3-AB92-3A6FD5B81959" targetRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOB0FeEeean-ToEvbExQ">vo.receiptMode != 'DD' &amp;&amp; vo.receiptMode != 'CHEQUE'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_4BC339BC-2D3E-4903-909A-FA9A90904CA6" name="Cheque / DD" sourceRef="_07584E25-8359-4AF3-AB92-3A6FD5B81959" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOCEFeEeean-ToEvbExQ">vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_F7B8A61B-F531-4C69-807A-73DF463954F9</bpmn2:incoming><bpmn2:outgoing>_96BEF884-7DA1-4DF3-9D19-BF88157F2093</bpmn2:outgoing><bpmn2:outgoing>_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_96BEF884-7DA1-4DF3-9D19-BF88157F2093" name="Schedule Payment only" sourceRef="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOCUFeEeean-ToEvbExQ">vo.receiptPurpose == 'SchdlRepayment'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:userTask id="_CB84B893-830F-4960-8640-208225B444FB" drools:bgcolor="#FF6600" name="Realization Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA</bpmn2:incoming><bpmn2:incoming>_4121FF63-DD77-4FFB-9923-36E39DD6622D</bpmn2:incoming><bpmn2:outgoing>_14D53AA8-7D4D-4DF1-A796-C911759AFE82</bpmn2:outgoing><bpmn2:outgoing>_94D56E95-3CAA-42C4-8793-99B5680F600E</bpmn2:outgoing><bpmn2:outgoing>_5DD316D3-913F-4600-9D37-0CEAA3FEBA43</bpmn2:outgoing><bpmn2:potentialOwner id="_yjbOCkFeEeean-ToEvbExQ"><bpmn2:resourceAssignmentExpression id="_yjbOC0FeEeean-ToEvbExQ"><bpmn2:formalExpression id="_yjbODEFeEeean-ToEvbExQ">RECEIPTREALIZE_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:userTask id="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9" drools:bgcolor="#FF6600" name="Realization Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_14D53AA8-7D4D-4DF1-A796-C911759AFE82</bpmn2:incoming><bpmn2:outgoing>_179060F8-FE71-4B6D-8DF9-B700C2446E31</bpmn2:outgoing><bpmn2:potentialOwner id="_yjbODUFeEeean-ToEvbExQ"><bpmn2:resourceAssignmentExpression id="_yjbODkFeEeean-ToEvbExQ"><bpmn2:formalExpression id="_yjbOD0FeEeean-ToEvbExQ">RECEIPTREALIZE_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_14D53AA8-7D4D-4DF1-A796-C911759AFE82" name="Submit" sourceRef="_CB84B893-830F-4960-8640-208225B444FB" targetRef="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"><bpmn2:documentation id="_yjbOEEFeEeean-ToEvbExQ">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOEUFeEeean-ToEvbExQ">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA" name="Partial Settlement or  Early settlement" sourceRef="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF" targetRef="_CB84B893-830F-4960-8640-208225B444FB"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOEkFeEeean-ToEvbExQ">vo.receiptPurpose != 'SchdlRepayment'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_4121FF63-DD77-4FFB-9923-36E39DD6622D" name="Resubmit" sourceRef="_262A1962-825F-4C56-88B3-206A2B80569F" targetRef="_CB84B893-830F-4960-8640-208225B444FB"><bpmn2:documentation id="_yjbOE0FeEeean-ToEvbExQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_yjbOFEFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbOFUFeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOFkFeEeean-ToEvbExQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_94D56E95-3CAA-42C4-8793-99B5680F600E" name="Resubmit" sourceRef="_CB84B893-830F-4960-8640-208225B444FB" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:documentation id="_yjbOF0FeEeean-ToEvbExQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_yjbOGEFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbOGUFeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOGkFeEeean-ToEvbExQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_7E5B6958-654D-4FEE-84F4-6421844F8D1F" name="Reject" sourceRef="_262A1962-825F-4C56-88B3-206A2B80569F" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_yjbOG0FeEeean-ToEvbExQ">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_yjbOHEFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbOHUFeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOHkFeEeean-ToEvbExQ">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_5DD316D3-913F-4600-9D37-0CEAA3FEBA43" name="Reject" sourceRef="_CB84B893-830F-4960-8640-208225B444FB" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_yjbOH0FeEeean-ToEvbExQ">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_yjbOIEFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbOIUFeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOIkFeEeean-ToEvbExQ">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_921EB85C-0D30-4933-9BA8-E25DC6108252" name="Approve" sourceRef="_262A1962-825F-4C56-88B3-206A2B80569F" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:documentation id="_yjbOI0FeEeean-ToEvbExQ">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOJEFeEeean-ToEvbExQ">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_262A1962-825F-4C56-88B3-206A2B80569F" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_179060F8-FE71-4B6D-8DF9-B700C2446E31</bpmn2:incoming><bpmn2:outgoing>_921EB85C-0D30-4933-9BA8-E25DC6108252</bpmn2:outgoing><bpmn2:outgoing>_7E5B6958-654D-4FEE-84F4-6421844F8D1F</bpmn2:outgoing><bpmn2:outgoing>_4121FF63-DD77-4FFB-9923-36E39DD6622D</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_179060F8-FE71-4B6D-8DF9-B700C2446E31" sourceRef="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9" targetRef="_262A1962-825F-4C56-88B3-206A2B80569F" /><bpmn2:sequenceFlow id="_58EFCBCE-4E80-412E-A115-5B4669864DFD" name="Resubmit" sourceRef="_266A3753-53BE-4B36-803D-564AD4E9D895"><bpmn2:documentation id="_yjbOJUFeEeean-ToEvbExQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_yjbOJkFeEeean-ToEvbExQ"><bpmn2:documentation id="_yjbOJ0FeEeean-ToEvbExQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOKEFeEeean-ToEvbExQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_07584E25-8359-4AF3-AB92-3A6FD5B81959" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_8385B547-68BC-4ADD-B5A4-156A981195D4</bpmn2:incoming><bpmn2:outgoing>_4BC339BC-2D3E-4903-909A-FA9A90904CA6</bpmn2:outgoing><bpmn2:outgoing>_4D16E470-104D-4592-9B14-17380F17A1C0</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_8385B547-68BC-4ADD-B5A4-156A981195D4" name="Submit" sourceRef="_266A3753-53BE-4B36-803D-564AD4E9D895" targetRef="_07584E25-8359-4AF3-AB92-3A6FD5B81959"><bpmn2:documentation id="_yjbOKUFeEeean-ToEvbExQ">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_yjbOKkFeEeean-ToEvbExQ">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow></bpmn2:process><bpmndi:BPMNDiagram id="_yjbOLkFeEeean-ToEvbExQ"><bpmndi:BPMNPlane id="_yjbOL0FeEeean-ToEvbExQ" bpmnElement="RECEIPT_PROCESS"><bpmndi:BPMNShape id="_yjbOMEFeEeean-ToEvbExQ" bpmnElement="_FF9D4911-C022-42B0-B00A-9C353226F4A7"><dc:Bounds height="30.0" width="30.0" x="30.0" y="108.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_yjbOMUFeEeean-ToEvbExQ" bpmnElement="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><dc:Bounds height="80.0" width="100.0" x="90.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOMkFeEeean-ToEvbExQ" bpmnElement="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"><di:waypoint xsi:type="dc:Point" x="45.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOM0FeEeean-ToEvbExQ" bpmnElement="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><dc:Bounds height="80.0" width="100.0" x="540.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbONEFeEeean-ToEvbExQ" bpmnElement="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbONUFeEeean-ToEvbExQ" bpmnElement="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"><dc:Bounds height="40.0" width="40.0" x="705.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbONkFeEeean-ToEvbExQ" bpmnElement="_00E367A7-32B3-4238-95E1-394CAF4A448E"><di:waypoint xsi:type="dc:Point" x="590.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbON0FeEeean-ToEvbExQ" bpmnElement="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><dc:Bounds height="80.0" width="100.0" x="984.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOOEFeEeean-ToEvbExQ" bpmnElement="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOOUFeEeean-ToEvbExQ" bpmnElement="_73682DD6-4D65-497A-BAA5-B80623CB6C01"><dc:Bounds height="28.0" width="28.0" x="1260.0" y="109.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOOkFeEeean-ToEvbExQ" bpmnElement="_A921FE66-42C4-42CC-BB5C-15ABAA47A008"><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="1274.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOO0FeEeean-ToEvbExQ" bpmnElement="_2AE689CD-94CB-4752-9CE3-748559E63D53"><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="17.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="17.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOPEFeEeean-ToEvbExQ" bpmnElement="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><dc:Bounds height="80.0" width="100.0" x="675.0" y="210.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOPUFeEeean-ToEvbExQ" bpmnElement="_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059"><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOPkFeEeean-ToEvbExQ" bpmnElement="_87A46993-91DA-47E0-811B-2F196FBAD6AA"><dc:Bounds height="28.0" width="28.0" x="621.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOP0FeEeean-ToEvbExQ" bpmnElement="_DAFA463C-32E5-4B16-BC89-284B69E70681"><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="635.0" y="329.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOQEFeEeean-ToEvbExQ" bpmnElement="_5F5413A7-D079-4061-A500-66B805CEF038"><dc:Bounds height="80.0" width="100.0" x="495.0" y="349.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_yjbOQUFeEeean-ToEvbExQ" bpmnElement="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"><dc:Bounds height="80.0" width="100.0" x="720.0" y="349.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOQkFeEeean-ToEvbExQ" bpmnElement="_1A0972CB-1741-433E-A3FE-77569D3EB20D"><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="770.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOQ0FeEeean-ToEvbExQ" bpmnElement="_35B25356-FC7E-4293-8C1B-C161F416565E"><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOREFeEeean-ToEvbExQ" bpmnElement="_CDBBE246-EF44-40AB-99BF-3B06873BDB20"><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="905.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbORUFeEeean-ToEvbExQ" bpmnElement="_1CA63148-6545-4CC3-86CB-04EB05AF10F2"><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="905.0" y="460.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="460.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbORkFeEeean-ToEvbExQ" bpmnElement="_F7B8A61B-F531-4C69-807A-73DF463954F9"><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOR0FeEeean-ToEvbExQ" bpmnElement="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D"><dc:Bounds height="40.0" width="40.0" x="885.0" y="335.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOSEFeEeean-ToEvbExQ" bpmnElement="_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5"><di:waypoint xsi:type="dc:Point" x="770.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="852.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="852.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOSUFeEeean-ToEvbExQ" bpmnElement="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"><dc:Bounds height="40.0" width="40.0" x="270.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_yjbOSkFeEeean-ToEvbExQ" bpmnElement="_9209E0A4-14BC-4840-AE5E-AF2425159AD0"><dc:Bounds height="80.0" width="100.0" x="90.0" y="240.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_yjbOS0FeEeean-ToEvbExQ" bpmnElement="_46DBB075-601A-48C5-80F6-7A3C9575CEF5"><dc:Bounds height="28.0" width="28.0" x="126.0" y="375.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOTEFeEeean-ToEvbExQ" bpmnElement="_B600CB2F-1566-41FD-BB42-8CC730387820"><di:waypoint xsi:type="dc:Point" x="140.0" y="280.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOTUFeEeean-ToEvbExQ" bpmnElement="_B4A70293-13FD-44EB-A4C3-78A38AC643B9"><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="280.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOTkFeEeean-ToEvbExQ" bpmnElement="_C2820306-3E6C-4BD7-A4F6-099893B15468"><di:waypoint xsi:type="dc:Point" x="395.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="395.0" y="369.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOT0FeEeean-ToEvbExQ" bpmnElement="_E46247E5-509B-4142-A14A-5ABED0386711"><di:waypoint xsi:type="dc:Point" x="395.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="590.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOUEFeEeean-ToEvbExQ" bpmnElement="_875A1CB8-F079-4E62-8E17-DCC7048BD3D9"><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="209.0" y="409.0" /><di:waypoint xsi:type="dc:Point" x="209.0" y="222.0" /><di:waypoint xsi:type="dc:Point" x="165.0" y="222.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOUUFeEeean-ToEvbExQ" bpmnElement="_266A3753-53BE-4B36-803D-564AD4E9D895"><dc:Bounds height="80.0" width="100.0" x="240.0" y="180.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOUkFeEeean-ToEvbExQ" bpmnElement="_E7648A60-BBC5-4B1D-8796-F35679E0FE51"><di:waypoint xsi:type="dc:Point" x="290.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="220.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOU0FeEeean-ToEvbExQ" bpmnElement="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD"><dc:Bounds height="40.0" width="40.0" x="375.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOVEFeEeean-ToEvbExQ" bpmnElement="_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF"><di:waypoint xsi:type="dc:Point" x="290.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="395.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOVUFeEeean-ToEvbExQ" bpmnElement="_4D16E470-104D-4592-9B14-17380F17A1C0"><di:waypoint xsi:type="dc:Point" x="290.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="477.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="477.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="590.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="590.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOVkFeEeean-ToEvbExQ" bpmnElement="_4BC339BC-2D3E-4903-909A-FA9A90904CA6"><di:waypoint xsi:type="dc:Point" x="290.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOV0FeEeean-ToEvbExQ" bpmnElement="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"><dc:Bounds height="40.0" width="40.0" x="1014.0" y="335.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOWEFeEeean-ToEvbExQ" bpmnElement="_96BEF884-7DA1-4DF3-9D19-BF88157F2093"><di:waypoint xsi:type="dc:Point" x="1034.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOWUFeEeean-ToEvbExQ" bpmnElement="_CB84B893-830F-4960-8640-208225B444FB"><dc:Bounds height="80.0" width="100.0" x="1185.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_yjbOWkFeEeean-ToEvbExQ" bpmnElement="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"><dc:Bounds height="80.0" width="100.0" x="1350.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOW0FeEeean-ToEvbExQ" bpmnElement="_14D53AA8-7D4D-4DF1-A796-C911759AFE82"><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1400.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOXEFeEeean-ToEvbExQ" bpmnElement="_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA"><di:waypoint xsi:type="dc:Point" x="1034.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOXUFeEeean-ToEvbExQ" bpmnElement="_4121FF63-DD77-4FFB-9923-36E39DD6622D"><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1505.0" y="452.0" /><di:waypoint xsi:type="dc:Point" x="1260.0" y="452.0" /><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOXkFeEeean-ToEvbExQ" bpmnElement="_94D56E95-3CAA-42C4-8793-99B5680F600E"><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1210.0" y="465.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="465.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOX0FeEeean-ToEvbExQ" bpmnElement="_7E5B6958-654D-4FEE-84F4-6421844F8D1F"><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1505.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOYEFeEeean-ToEvbExQ" bpmnElement="_5DD316D3-913F-4600-9D37-0CEAA3FEBA43"><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1235.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOYUFeEeean-ToEvbExQ" bpmnElement="_921EB85C-0D30-4933-9BA8-E25DC6108252"><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1562.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1562.0" y="225.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="225.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOYkFeEeean-ToEvbExQ" bpmnElement="_262A1962-825F-4C56-88B3-206A2B80569F"><dc:Bounds height="40.0" width="40.0" x="1485.0" y="335.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOY0FeEeean-ToEvbExQ" bpmnElement="_179060F8-FE71-4B6D-8DF9-B700C2446E31"><di:waypoint xsi:type="dc:Point" x="1400.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_yjbOZEFeEeean-ToEvbExQ" bpmnElement="_58EFCBCE-4E80-412E-A115-5B4669864DFD"><di:waypoint xsi:type="dc:Point" x="290.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="164.0" y="220.0" /><di:waypoint xsi:type="dc:Point" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_yjbOZUFeEeean-ToEvbExQ" bpmnElement="_07584E25-8359-4AF3-AB92-3A6FD5B81959"><dc:Bounds height="40.0" width="40.0" x="270.0" y="309.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_yjbOZkFeEeean-ToEvbExQ" bpmnElement="_8385B547-68BC-4ADD-B5A4-156A981195D4"><di:waypoint xsi:type="dc:Point" x="290.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="329.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram><bpmn2:relationship id="_yjbOZ0FeEeean-ToEvbExQ" type="jBPMProcessSimulation"><bpmn2:extensionElements><drools:ProcessAnalysisData><drools:Scenario xsi:type="drools:Scenario" id="default" name="Simulationscenario"><drools:ScenarioParameters xsi:type="drools:ScenarioParameters_._type" /><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" id="_yjbOaEFeEeean-ToEvbExQ"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" id="_yjbOaUFeEeean-ToEvbExQ"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5F5413A7-D079-4061-A500-66B805CEF038" id="_yjbOakFeEeean-ToEvbExQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_266A3753-53BE-4B36-803D-564AD4E9D895" id="_yjbOa0FeEeean-ToEvbExQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_9209E0A4-14BC-4840-AE5E-AF2425159AD0" id="_yjbObEFeEeean-ToEvbExQ"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05" id="_yjbObUFeEeean-ToEvbExQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" id="_yjbObkFeEeean-ToEvbExQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9" id="_yjbOb0FeEeean-ToEvbExQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_CB84B893-830F-4960-8640-208225B444FB" id="_yjbOcEFeEeean-ToEvbExQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" id="_yjbOcUFeEeean-ToEvbExQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters></drools:Scenario></drools:ProcessAnalysisData></bpmn2:extensionElements><bpmn2:source>_yjbN0EFeEeean-ToEvbExQ</bpmn2:source><bpmn2:target>_yjbN0EFeEeean-ToEvbExQ</bpmn2:target></bpmn2:relationship></bpmn2:definitions>]]></column>
			<where>workflowtype='RECEIPT_PROCESS'and workflowactive=1</where>
		</update>
	</changeSet>
<changeSet id="21" author="Pruthvi">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
</changeSet>

<changeSet author="Pruthvi" id="21.1">
<sql>
update WorkFlowDetails set workflowactive='0' where workflowtype='RECEIPT_PROCESS';
	</sql>
	</changeSet>
	
<changeSet author="Jayant" id="21.2">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId"
				valueComputed="(select max(WorkFlowId) + 1 from WorkFlowDetails)" />
			<column name="WorkFlowType">RECEIPT_PROCESS</column>
			<column name="WorkFlowSubType">Receipt Workflow Process</column>
			<column name="WorkFlowDesc">Receipt Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">RECEIPT_MAKER;RECEIPT_APPROVER;DEPOSIT_MAKER;DEPOSIT_APPROVER;RECEIPTWAIVER_APPROVER;RECEIPTREALIZE_MAKER;RECEIPTREALIZE_APPROVER</column>
			<column name="FirstTaskOwner">RECEIPT_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn">26-MAY-2017</column>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode">Null</column>
			<column name="NextRoleCode">Null</column>
			<column name="TaskId">Null</column>
			<column name="NextTaskId">Null</column>
			<column name="RecordType">NULL</column>
		</insert>
</changeSet>

<changeSet id="21.3" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":"CCMS_MSTGRP1","properties":{"name":"Receipt Process Detail\n","documentation":"","auditing":"","monitoring":"","executable":"true","package":"","vardefs":"","imports":"","id":"RECEIPT_PROCESS","version":"","author":"","language":"English","namespaces":"","targetnamespace":"http://www.omg.org/bpmn20","expressionlanguage":"http://www.w3.org/1999/XPath","typelanguage":"http://www.w3.org/2001/XMLSchema","creationdate":"","modificationdate":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"_FF9D4911-C022-42B0-B00A-9C353226F4A7","properties":{"name":"Start","documentation":"","auditing":"","monitoring":"","dataoutputassociations":"","dataoutput":"","outputset":"","bgcolor":"#C5F970","trigger":"None"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"}],"bounds":{"lowerRight":{"x":60,"y":138},"upperLeft":{"x":30,"y":108}},"dockers":[]},{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF","properties":{"name":"Receipt Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":false,"assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"RECEIPT_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_B4A70293-13FD-44EB-A4C3-78A38AC643B9"},{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"}],"bounds":{"lowerRight":{"x":190,"y":163},"upperLeft":{"x":90,"y":83}},"dockers":[]},{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":89.2734375,"y":123},"upperLeft":{"x":60.84375,"y":123}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A","properties":{"name":"Receipt Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"RECEIPT_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_00E367A7-32B3-4238-95E1-394CAF4A448E"}],"bounds":{"lowerRight":{"x":640,"y":163},"upperLeft":{"x":540,"y":83}},"dockers":[]},{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"}],"bounds":{"lowerRight":{"x":269.5117242686572,"y":123.43027150919819},"upperLeft":{"x":190.3828069813428,"y":123.16738474080181}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"}},{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53"},{"resourceId":"_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059"}],"bounds":{"lowerRight":{"x":745,"y":143},"upperLeft":{"x":705,"y":103}},"dockers":[]},{"resourceId":"_00E367A7-32B3-4238-95E1-394CAF4A448E","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"}],"bounds":{"lowerRight":{"x":704.3867255581166,"y":123.42209123822184},"upperLeft":{"x":640.7538994418834,"y":123.18728376177816}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"}},{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618","properties":{"name":"Complete Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":" ","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doApprove","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008"}],"bounds":{"lowerRight":{"x":1084,"y":163},"upperLeft":{"x":984,"y":83}},"dockers":[]},{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":983.5917981884055,"y":123.46712925658574},"upperLeft":{"x":745.7812486865945,"y":123.08169886841426}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01","properties":{"name":"Approved","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":1288,"y":137},"upperLeft":{"x":1260,"y":109}},"dockers":[]},{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}],"bounds":{"lowerRight":{"x":1259.875,"y":123},"upperLeft":{"x":1084.6875,"y":123}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":725.5,"y":102.53125},"upperLeft":{"x":140,"y":17}},"dockers":[{"x":20.5,"y":20.5},{"x":725.5,"y":17},{"x":140,"y":17},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0","properties":{"name":"Cancel Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doReject","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681"}],"bounds":{"lowerRight":{"x":775,"y":290},"upperLeft":{"x":675,"y":210}},"dockers":[]},{"resourceId":"_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":725.4218287117047,"y":209.46875781130998},"upperLeft":{"x":725.1602025382953,"y":143.27733593869002}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA","properties":{"name":"Rejected","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":649,"y":343},"upperLeft":{"x":621,"y":315}},"dockers":[]},{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}],"bounds":{"lowerRight":{"x":725,"y":329},"upperLeft":{"x":649.359375,"y":290.5}},"dockers":[{"x":50,"y":40},{"x":725,"y":329},{"x":14,"y":14}],"target":{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}},{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038","properties":{"name":"Deposit Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"DEPOSIT_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_1A0972CB-1741-433E-A3FE-77569D3EB20D"},{"resourceId":"_35B25356-FC7E-4293-8C1B-C161F416565E"},{"resourceId":"_875A1CB8-F079-4E62-8E17-DCC7048BD3D9"}],"bounds":{"lowerRight":{"x":595,"y":429},"upperLeft":{"x":495,"y":349}},"dockers":[]},{"resourceId":"_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05","properties":{"name":"Deposit Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"DEPOSIT_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5"}],"bounds":{"lowerRight":{"x":820,"y":429},"upperLeft":{"x":720,"y":349}},"dockers":[]},{"resourceId":"_1A0972CB-1741-433E-A3FE-77569D3EB20D","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"}],"bounds":{"lowerRight":{"x":719.78125,"y":389},"upperLeft":{"x":595.21875,"y":389}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"}},{"resourceId":"_35B25356-FC7E-4293-8C1B-C161F416565E","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":674.78125,"y":348.90625},"upperLeft":{"x":545,"y":250}},"dockers":[{"x":50,"y":40},{"x":545,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_CDBBE246-EF44-40AB-99BF-3B06873BDB20","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":905.5,"y":334.71875},"upperLeft":{"x":775.35546875,"y":250}},"dockers":[{"x":20.5,"y":20.5},{"x":905.5,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_1CA63148-6545-4CC3-86CB-04EB05AF10F2","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":905.5,"y":460},"upperLeft":{"x":545,"y":375.27734375}},"dockers":[{"x":20.5,"y":20.5},{"x":905.5,"y":460},{"x":545,"y":460},{"x":50,"y":40}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_F7B8A61B-F531-4C69-807A-73DF463954F9","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"}],"bounds":{"lowerRight":{"x":1013.34375,"y":355.5},"upperLeft":{"x":925.6484375,"y":355.5}},"dockers":[{"x":20.5,"y":20.5},{"x":20.5,"y":20.5}],"target":{"resourceId":"_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"}},{"resourceId":"_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_F7B8A61B-F531-4C69-807A-73DF463954F9"},{"resourceId":"_CDBBE246-EF44-40AB-99BF-3B06873BDB20"},{"resourceId":"_1CA63148-6545-4CC3-86CB-04EB05AF10F2"}],"bounds":{"lowerRight":{"x":925,"y":375},"upperLeft":{"x":885,"y":335}},"dockers":[]},{"resourceId":"_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D"}],"bounds":{"lowerRight":{"x":885.1328125,"y":389},"upperLeft":{"x":820.62890625,"y":355}},"dockers":[{"x":50,"y":40},{"x":852.5,"y":389},{"x":852.5,"y":355},{"x":20,"y":20}],"target":{"resourceId":"_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D"}},{"resourceId":"_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_E7648A60-BBC5-4B1D-8796-F35679E0FE51"},{"resourceId":"_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF"}],"bounds":{"lowerRight":{"x":310,"y":143},"upperLeft":{"x":270,"y":103}},"dockers":[]},{"resourceId":"_9209E0A4-14BC-4840-AE5E-AF2425159AD0","properties":{"name":"Cancel Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doReject","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_B600CB2F-1566-41FD-BB42-8CC730387820"}],"bounds":{"lowerRight":{"x":190,"y":320},"upperLeft":{"x":90,"y":240}},"dockers":[]},{"resourceId":"_46DBB075-601A-48C5-80F6-7A3C9575CEF5","properties":{"name":"Rejected","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":154,"y":403},"upperLeft":{"x":126,"y":375}},"dockers":[]},{"resourceId":"_B600CB2F-1566-41FD-BB42-8CC730387820","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_46DBB075-601A-48C5-80F6-7A3C9575CEF5"}],"bounds":{"lowerRight":{"x":140,"y":374.375},"upperLeft":{"x":140,"y":320.171875}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_46DBB075-601A-48C5-80F6-7A3C9575CEF5"}},{"resourceId":"_B4A70293-13FD-44EB-A4C3-78A38AC643B9","properties":{"name":"Cancel","documentation":"Cancel=Cancelled","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Cancelled'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_9209E0A4-14BC-4840-AE5E-AF2425159AD0"}],"bounds":{"lowerRight":{"x":140,"y":239.66015625},"upperLeft":{"x":140,"y":163.435546875}},"dockers":[{"x":50,"y":40},{"x":50,"y":48.5}],"target":{"resourceId":"_9209E0A4-14BC-4840-AE5E-AF2425159AD0"}},{"resourceId":"_C2820306-3E6C-4BD7-A4F6-099893B15468","properties":{"name":"Cheque / DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"(vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE' ) &amp;&amp; \nvo.waivedAmt <= 0","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":495,"y":369},"upperLeft":{"x":395.5,"y":143.6796875}},"dockers":[{"x":20.5,"y":20.5},{"x":395.5,"y":369},{"x":1,"y":20}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_E46247E5-509B-4142-A14A-5ABED0386711","properties":{"name":"Others than Cheque && DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptMode != 'DD' &amp;&amp; vo.receiptMode != 'CHEQUE' &amp;&amp; \nvo.waivedAmt <= 0","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}],"bounds":{"lowerRight":{"x":539.6152376792177,"y":123.44860118940673},"upperLeft":{"x":415.49413732078233,"y":123.12952381059327}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}},{"resourceId":"_875A1CB8-F079-4E62-8E17-DCC7048BD3D9","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":495,"y":409},"upperLeft":{"x":165,"y":163.9375}},"dockers":[{"x":1,"y":60},{"x":209,"y":409},{"x":209,"y":222},{"x":165,"y":222},{"x":75,"y":79}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_266A3753-53BE-4B36-803D-564AD4E9D895","properties":{"name":"Waiver Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"RECEIPTWAIVER_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_58EFCBCE-4E80-412E-A115-5B4669864DFD"},{"resourceId":"_8385B547-68BC-4ADD-B5A4-156A981195D4"}],"bounds":{"lowerRight":{"x":340,"y":260},"upperLeft":{"x":240,"y":180}},"dockers":[]},{"resourceId":"_E7648A60-BBC5-4B1D-8796-F35679E0FE51","properties":{"name":"Amounts Waived","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.waivedAmt > 0","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_266A3753-53BE-4B36-803D-564AD4E9D895"}],"bounds":{"lowerRight":{"x":290.39716247239846,"y":179.7968884229089},"upperLeft":{"x":290.20830627760154,"y":143.3476428270911}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_266A3753-53BE-4B36-803D-564AD4E9D895"}},{"resourceId":"_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_E46247E5-509B-4142-A14A-5ABED0386711"},{"resourceId":"_C2820306-3E6C-4BD7-A4F6-099893B15468"}],"bounds":{"lowerRight":{"x":415,"y":143},"upperLeft":{"x":375,"y":103}},"dockers":[]},{"resourceId":"_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF","properties":{"name":"No Waiver","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD"}],"bounds":{"lowerRight":{"x":374.40626144642783,"y":123.40537161577237},"upperLeft":{"x":310.27733230357217,"y":123.09853463422763}},"dockers":[{"x":20.5,"y":20.5},{"x":20,"y":20}],"target":{"resourceId":"_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD"}},{"resourceId":"_4D16E470-104D-4592-9B14-17380F17A1C0","properties":{"name":"Others than Cheque && DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptMode != 'DD' && vo.receiptMode != 'CHEQUE'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}],"bounds":{"lowerRight":{"x":590,"y":329.5},"upperLeft":{"x":310.44140625,"y":163.40625}},"dockers":[{"x":20.5,"y":20.5},{"x":477,"y":329.5},{"x":477,"y":220},{"x":590,"y":220},{"x":50,"y":40}],"target":{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}},{"resourceId":"_4BC339BC-2D3E-4903-909A-FA9A90904CA6","properties":{"name":"Cheque / DD","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":494.2696739908984,"y":389},"upperLeft":{"x":290.3807308333996,"y":349.0937479909482}},"dockers":[{"x":20.5,"y":20.5},{"x":290.3807308333996,"y":389},{"x":50,"y":40}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_96BEF884-7DA1-4DF3-9D19-BF88157F2093"},{"resourceId":"_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA"}],"bounds":{"lowerRight":{"x":1054,"y":375},"upperLeft":{"x":1014,"y":335}},"dockers":[]},{"resourceId":"_96BEF884-7DA1-4DF3-9D19-BF88157F2093","properties":{"name":"Schedule Payment only","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptPurpose == 'SchdlRepayment'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":1034.4548807173385,"y":334.519533562398},"upperLeft":{"x":1034.0880880326615,"y":163.96093518760196}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB","properties":{"name":"Realization Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"RECEIPTREALIZE_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_14D53AA8-7D4D-4DF1-A796-C911759AFE82"},{"resourceId":"_94D56E95-3CAA-42C4-8793-99B5680F600E"},{"resourceId":"_5DD316D3-913F-4600-9D37-0CEAA3FEBA43"}],"bounds":{"lowerRight":{"x":1285,"y":395},"upperLeft":{"x":1185,"y":315}},"dockers":[]},{"resourceId":"_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9","properties":{"name":"Realization Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"show_tabs=Accounting","onexitactions":"","taskname":"","actors":"RECEIPTREALIZE_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_179060F8-FE71-4B6D-8DF9-B700C2446E31"}],"bounds":{"lowerRight":{"x":1450,"y":395},"upperLeft":{"x":1350,"y":315}},"dockers":[]},{"resourceId":"_14D53AA8-7D4D-4DF1-A796-C911759AFE82","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"}],"bounds":{"lowerRight":{"x":1349.37109375,"y":355},"upperLeft":{"x":1285.62890625,"y":355}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"}},{"resourceId":"_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA","properties":{"name":"Partial Settlement\nor \nEarly settlement","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.receiptPurpose != 'SchdlRepayment'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}],"bounds":{"lowerRight":{"x":1184.658206234419,"y":355.45063124216813},"upperLeft":{"x":1054.296871890581,"y":355.12554063283187}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}},{"resourceId":"_4121FF63-DD77-4FFB-9923-36E39DD6622D","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}],"bounds":{"lowerRight":{"x":1505.5,"y":452},"upperLeft":{"x":1260,"y":375.34765625}},"dockers":[{"x":20.5,"y":20.5},{"x":1505.5,"y":452},{"x":1260,"y":452},{"x":75,"y":1}],"target":{"resourceId":"_CB84B893-830F-4960-8640-208225B444FB"}},{"resourceId":"_94D56E95-3CAA-42C4-8793-99B5680F600E","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}],"bounds":{"lowerRight":{"x":1210,"y":465},"upperLeft":{"x":545,"y":395.5546875}},"dockers":[{"x":25,"y":79},{"x":1210,"y":465},{"x":545,"y":465},{"x":50,"y":40}],"target":{"resourceId":"_5F5413A7-D079-4061-A500-66B805CEF038"}},{"resourceId":"_7E5B6958-654D-4FEE-84F4-6421844F8D1F","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":1505.5,"y":334.71875},"upperLeft":{"x":775.54345703125,"y":250}},"dockers":[{"x":20.5,"y":20.5},{"x":1505.5,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_5DD316D3-913F-4600-9D37-0CEAA3FEBA43","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":1235,"y":314.625},"upperLeft":{"x":775.8046875,"y":250}},"dockers":[{"x":50,"y":40},{"x":1235,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_921EB85C-0D30-4933-9BA8-E25DC6108252","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":1562,"y":355.5},"upperLeft":{"x":1034,"y":163.84375}},"dockers":[{"x":20.5,"y":20.5},{"x":1562,"y":355.5},{"x":1562,"y":225},{"x":1034,"y":225},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_262A1962-825F-4C56-88B3-206A2B80569F","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_921EB85C-0D30-4933-9BA8-E25DC6108252"},{"resourceId":"_7E5B6958-654D-4FEE-84F4-6421844F8D1F"},{"resourceId":"_4121FF63-DD77-4FFB-9923-36E39DD6622D"}],"bounds":{"lowerRight":{"x":1525,"y":375},"upperLeft":{"x":1485,"y":335}},"dockers":[]},{"resourceId":"_179060F8-FE71-4B6D-8DF9-B700C2446E31","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_262A1962-825F-4C56-88B3-206A2B80569F"}],"bounds":{"lowerRight":{"x":1485.1328125,"y":355},"upperLeft":{"x":1450.21875,"y":355}},"dockers":[{"x":50,"y":40},{"x":20,"y":20}],"target":{"resourceId":"_262A1962-825F-4C56-88B3-206A2B80569F"}},{"resourceId":"_58EFCBCE-4E80-412E-A115-5B4669864DFD","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":239.78125,"y":220},"upperLeft":{"x":164,"y":163.62497296822414}},"dockers":[{"x":50,"y":40},{"x":164,"y":220},{"x":75,"y":1}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_07584E25-8359-4AF3-AB92-3A6FD5B81959","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_4BC339BC-2D3E-4903-909A-FA9A90904CA6"},{"resourceId":"_4D16E470-104D-4592-9B14-17380F17A1C0"}],"bounds":{"lowerRight":{"x":310,"y":349},"upperLeft":{"x":270,"y":309}},"dockers":[]},{"resourceId":"_8385B547-68BC-4ADD-B5A4-156A981195D4","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_07584E25-8359-4AF3-AB92-3A6FD5B81959"}],"bounds":{"lowerRight":{"x":290.40559008755696,"y":308.82422917497405},"upperLeft":{"x":290.18425366244304,"y":260.35155207502595}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_07584E25-8359-4AF3-AB92-3A6FD5B81959"}}],"bounds":{"lowerRight":{"x":3000,"y":2000},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"bpmn2.0pbpm","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns="http://www.omg.org/bpmn20" xmlns:drools="http://www.jboss.org/drools" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="_J4dxcUHqEeeFregdLgZMwQ" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd" targetNamespace="http://www.omg.org/bpmn20"><bpmn2:itemDefinition id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" /><bpmn2:itemDefinition id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" /><bpmn2:itemDefinition id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessageType" /><bpmn2:message id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage" itemRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" /><bpmn2:message id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage" itemRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" /><bpmn2:message id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessage" itemRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessageType" /><bpmn2:interface id="_J4dxzEHqEeeFregdLgZMwQ"><bpmn2:operation id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation" name="doApprove"><bpmn2:inMessageRef>_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:interface id="_J4dxzUHqEeeFregdLgZMwQ"><bpmn2:operation id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation" name="doReject"><bpmn2:inMessageRef>_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:interface id="_J4dxzkHqEeeFregdLgZMwQ"><bpmn2:operation id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_ServiceOperation" name="doReject"><bpmn2:inMessageRef>_9209E0A4-14BC-4840-AE5E-AF2425159AD0_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:process id="RECEIPT_PROCESS" name="Receipt Process Detail " isExecutable="true"><bpmn2:startEvent id="_FF9D4911-C022-42B0-B00A-9C353226F4A7" drools:bgcolor="#C5F970" name="Start"><bpmn2:outgoing>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:outgoing></bpmn2:startEvent><bpmn2:userTask id="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" drools:bgcolor="#FF6600" name="Receipt Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_875A1CB8-F079-4E62-8E17-DCC7048BD3D9</bpmn2:incoming><bpmn2:incoming>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:incoming><bpmn2:incoming>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:incoming><bpmn2:incoming>_58EFCBCE-4E80-412E-A115-5B4669864DFD</bpmn2:incoming><bpmn2:outgoing>_B4A70293-13FD-44EB-A4C3-78A38AC643B9</bpmn2:outgoing><bpmn2:outgoing>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:outgoing><bpmn2:potentialOwner id="_J4dxckHqEeeFregdLgZMwQ"><bpmn2:resourceAssignmentExpression id="_J4dxc0HqEeeFregdLgZMwQ"><bpmn2:formalExpression id="_J4dxdEHqEeeFregdLgZMwQ">RECEIPT_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117" sourceRef="_FF9D4911-C022-42B0-B00A-9C353226F4A7" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" /><bpmn2:userTask id="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" drools:bgcolor="#FF6600" name="Receipt Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_4D16E470-104D-4592-9B14-17380F17A1C0</bpmn2:incoming><bpmn2:incoming>_E46247E5-509B-4142-A14A-5ABED0386711</bpmn2:incoming><bpmn2:outgoing>_00E367A7-32B3-4238-95E1-394CAF4A448E</bpmn2:outgoing><bpmn2:potentialOwner id="_J4dxdUHqEeeFregdLgZMwQ"><bpmn2:resourceAssignmentExpression id="_J4dxdkHqEeeFregdLgZMwQ"><bpmn2:formalExpression id="_J4dxd0HqEeeFregdLgZMwQ">RECEIPT_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D" name="Submit" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"><bpmn2:documentation id="_J4dxeEHqEeeFregdLgZMwQ">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxeUHqEeeFregdLgZMwQ">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_00E367A7-32B3-4238-95E1-394CAF4A448E</bpmn2:incoming><bpmn2:outgoing>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:outgoing><bpmn2:outgoing>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:outgoing><bpmn2:outgoing>_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_00E367A7-32B3-4238-95E1-394CAF4A448E" sourceRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" targetRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" /><bpmn2:serviceTask id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doApprove" name="Complete Process" operationRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation"><bpmn2:incoming>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:incoming><bpmn2:incoming>_96BEF884-7DA1-4DF3-9D19-BF88157F2093</bpmn2:incoming><bpmn2:incoming>_921EB85C-0D30-4933-9BA8-E25DC6108252</bpmn2:incoming><bpmn2:outgoing>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:sequenceFlow id="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56" name="Approve" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:documentation id="_J4dxekHqEeeFregdLgZMwQ">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxe0HqEeeFregdLgZMwQ">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:endEvent id="_73682DD6-4D65-497A-BAA5-B80623CB6C01" drools:bgcolor="#F47677" name="Approved"><bpmn2:incoming>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_A921FE66-42C4-42CC-BB5C-15ABAA47A008" sourceRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" targetRef="_73682DD6-4D65-497A-BAA5-B80623CB6C01" /><bpmn2:sequenceFlow id="_2AE689CD-94CB-4752-9CE3-748559E63D53" name="Resubmit" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><bpmn2:documentation id="_J4dxfEHqEeeFregdLgZMwQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_J4dxfUHqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxfkHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxf0HqEeeFregdLgZMwQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:serviceTask id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doReject" name="Cancel Process" operationRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation"><bpmn2:incoming>_5DD316D3-913F-4600-9D37-0CEAA3FEBA43</bpmn2:incoming><bpmn2:incoming>_7E5B6958-654D-4FEE-84F4-6421844F8D1F</bpmn2:incoming><bpmn2:incoming>_CDBBE246-EF44-40AB-99BF-3B06873BDB20</bpmn2:incoming><bpmn2:incoming>_35B25356-FC7E-4293-8C1B-C161F416565E</bpmn2:incoming><bpmn2:incoming>_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059</bpmn2:incoming><bpmn2:outgoing>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:sequenceFlow id="_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059" name="Reject" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_J4dxgEHqEeeFregdLgZMwQ">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_J4dxgUHqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxgkHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxg0HqEeeFregdLgZMwQ">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:endEvent id="_87A46993-91DA-47E0-811B-2F196FBAD6AA" drools:bgcolor="#F47677" name="Rejected"><bpmn2:incoming>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_DAFA463C-32E5-4B16-BC89-284B69E70681" sourceRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" targetRef="_87A46993-91DA-47E0-811B-2F196FBAD6AA" /><bpmn2:userTask id="_5F5413A7-D079-4061-A500-66B805CEF038" drools:bgcolor="#FF6600" name="Deposit Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_C2820306-3E6C-4BD7-A4F6-099893B15468</bpmn2:incoming><bpmn2:incoming>_94D56E95-3CAA-42C4-8793-99B5680F600E</bpmn2:incoming><bpmn2:incoming>_1CA63148-6545-4CC3-86CB-04EB05AF10F2</bpmn2:incoming><bpmn2:incoming>_4BC339BC-2D3E-4903-909A-FA9A90904CA6</bpmn2:incoming><bpmn2:outgoing>_1A0972CB-1741-433E-A3FE-77569D3EB20D</bpmn2:outgoing><bpmn2:outgoing>_35B25356-FC7E-4293-8C1B-C161F416565E</bpmn2:outgoing><bpmn2:outgoing>_875A1CB8-F079-4E62-8E17-DCC7048BD3D9</bpmn2:outgoing><bpmn2:potentialOwner id="_J4dxhEHqEeeFregdLgZMwQ"><bpmn2:resourceAssignmentExpression id="_J4dxhUHqEeeFregdLgZMwQ"><bpmn2:formalExpression id="_J4dxhkHqEeeFregdLgZMwQ">DEPOSIT_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:userTask id="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05" drools:bgcolor="#FF6600" name="Deposit Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_1A0972CB-1741-433E-A3FE-77569D3EB20D</bpmn2:incoming><bpmn2:outgoing>_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5</bpmn2:outgoing><bpmn2:potentialOwner id="_J4dxh0HqEeeFregdLgZMwQ"><bpmn2:resourceAssignmentExpression id="_J4dxiEHqEeeFregdLgZMwQ"><bpmn2:formalExpression id="_J4dxiUHqEeeFregdLgZMwQ">DEPOSIT_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_1A0972CB-1741-433E-A3FE-77569D3EB20D" name="Submit" sourceRef="_5F5413A7-D079-4061-A500-66B805CEF038" targetRef="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"><bpmn2:documentation id="_J4dxikHqEeeFregdLgZMwQ">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxi0HqEeeFregdLgZMwQ">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_35B25356-FC7E-4293-8C1B-C161F416565E" name="Reject" sourceRef="_5F5413A7-D079-4061-A500-66B805CEF038" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_J4dxjEHqEeeFregdLgZMwQ">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_J4dxjUHqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxjkHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxj0HqEeeFregdLgZMwQ">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_CDBBE246-EF44-40AB-99BF-3B06873BDB20" name="Reject" sourceRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_J4dxkEHqEeeFregdLgZMwQ">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_J4dxkUHqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxkkHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxk0HqEeeFregdLgZMwQ">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_1CA63148-6545-4CC3-86CB-04EB05AF10F2" name="Resubmit" sourceRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:documentation id="_J4dxlEHqEeeFregdLgZMwQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_J4dxlUHqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxlkHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxl0HqEeeFregdLgZMwQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_F7B8A61B-F531-4C69-807A-73DF463954F9" name="Approve" sourceRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" targetRef="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"><bpmn2:documentation id="_J4dxmEHqEeeFregdLgZMwQ">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxmUHqEeeFregdLgZMwQ">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5</bpmn2:incoming><bpmn2:outgoing>_F7B8A61B-F531-4C69-807A-73DF463954F9</bpmn2:outgoing><bpmn2:outgoing>_CDBBE246-EF44-40AB-99BF-3B06873BDB20</bpmn2:outgoing><bpmn2:outgoing>_1CA63148-6545-4CC3-86CB-04EB05AF10F2</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5" sourceRef="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05" targetRef="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D" /><bpmn2:exclusiveGateway id="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:incoming><bpmn2:outgoing>_E7648A60-BBC5-4B1D-8796-F35679E0FE51</bpmn2:outgoing><bpmn2:outgoing>_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:serviceTask id="_9209E0A4-14BC-4840-AE5E-AF2425159AD0" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doReject" name="Cancel Process" operationRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0_ServiceOperation"><bpmn2:incoming>_B4A70293-13FD-44EB-A4C3-78A38AC643B9</bpmn2:incoming><bpmn2:outgoing>_B600CB2F-1566-41FD-BB42-8CC730387820</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:endEvent id="_46DBB075-601A-48C5-80F6-7A3C9575CEF5" drools:bgcolor="#F47677" name="Rejected"><bpmn2:incoming>_B600CB2F-1566-41FD-BB42-8CC730387820</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_B600CB2F-1566-41FD-BB42-8CC730387820" sourceRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0" targetRef="_46DBB075-601A-48C5-80F6-7A3C9575CEF5" /><bpmn2:sequenceFlow id="_B4A70293-13FD-44EB-A4C3-78A38AC643B9" name="Cancel" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_9209E0A4-14BC-4840-AE5E-AF2425159AD0"><bpmn2:documentation id="_J4dxmkHqEeeFregdLgZMwQ">Cancel=Cancelled</bpmn2:documentation><bpmn2:auditing id="_J4dxm0HqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxnEHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxnUHqEeeFregdLgZMwQ">vo.recordStatus == 'Cancelled'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_C2820306-3E6C-4BD7-A4F6-099893B15468" name="Cheque / DD" sourceRef="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxnkHqEeeFregdLgZMwQ">(vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE' ) &amp;amp;&amp;amp; 
vo.waivedAmt &lt;= 0</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_E46247E5-509B-4142-A14A-5ABED0386711" name="Others than Cheque &amp;&amp; DD" sourceRef="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" targetRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxn0HqEeeFregdLgZMwQ">vo.receiptMode != 'DD' &amp;amp;&amp;amp; vo.receiptMode != 'CHEQUE' &amp;amp;&amp;amp; 
vo.waivedAmt &lt;= 0</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_875A1CB8-F079-4E62-8E17-DCC7048BD3D9" name="Resubmit" sourceRef="_5F5413A7-D079-4061-A500-66B805CEF038" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><bpmn2:documentation id="_J4dxoEHqEeeFregdLgZMwQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_J4dxoUHqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxokHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxo0HqEeeFregdLgZMwQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:userTask id="_266A3753-53BE-4B36-803D-564AD4E9D895" drools:bgcolor="#FF6600" name="Waiver Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_E7648A60-BBC5-4B1D-8796-F35679E0FE51</bpmn2:incoming><bpmn2:outgoing>_58EFCBCE-4E80-412E-A115-5B4669864DFD</bpmn2:outgoing><bpmn2:outgoing>_8385B547-68BC-4ADD-B5A4-156A981195D4</bpmn2:outgoing><bpmn2:potentialOwner id="_J4dxpEHqEeeFregdLgZMwQ"><bpmn2:resourceAssignmentExpression id="_J4dxpUHqEeeFregdLgZMwQ"><bpmn2:formalExpression id="_J4dxpkHqEeeFregdLgZMwQ">RECEIPTWAIVER_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_E7648A60-BBC5-4B1D-8796-F35679E0FE51" name="Amounts Waived" sourceRef="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5" targetRef="_266A3753-53BE-4B36-803D-564AD4E9D895"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxp0HqEeeFregdLgZMwQ">vo.waivedAmt &gt; 0</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF</bpmn2:incoming><bpmn2:outgoing>_E46247E5-509B-4142-A14A-5ABED0386711</bpmn2:outgoing><bpmn2:outgoing>_C2820306-3E6C-4BD7-A4F6-099893B15468</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF" name="No Waiver" sourceRef="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5" targetRef="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD" /><bpmn2:sequenceFlow id="_4D16E470-104D-4592-9B14-17380F17A1C0" name="Others than Cheque &amp;&amp; DD" sourceRef="_07584E25-8359-4AF3-AB92-3A6FD5B81959" targetRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxqEHqEeeFregdLgZMwQ">vo.receiptMode != 'DD' &amp;&amp; vo.receiptMode != 'CHEQUE'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_4BC339BC-2D3E-4903-909A-FA9A90904CA6" name="Cheque / DD" sourceRef="_07584E25-8359-4AF3-AB92-3A6FD5B81959" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxqUHqEeeFregdLgZMwQ">vo.receiptMode == 'DD' || vo.receiptMode == 'CHEQUE'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_F7B8A61B-F531-4C69-807A-73DF463954F9</bpmn2:incoming><bpmn2:outgoing>_96BEF884-7DA1-4DF3-9D19-BF88157F2093</bpmn2:outgoing><bpmn2:outgoing>_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_96BEF884-7DA1-4DF3-9D19-BF88157F2093" name="Schedule Payment only" sourceRef="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxqkHqEeeFregdLgZMwQ">vo.receiptPurpose == 'SchdlRepayment'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:userTask id="_CB84B893-830F-4960-8640-208225B444FB" drools:bgcolor="#FF6600" name="Realization Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_4121FF63-DD77-4FFB-9923-36E39DD6622D</bpmn2:incoming><bpmn2:incoming>_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA</bpmn2:incoming><bpmn2:outgoing>_14D53AA8-7D4D-4DF1-A796-C911759AFE82</bpmn2:outgoing><bpmn2:outgoing>_94D56E95-3CAA-42C4-8793-99B5680F600E</bpmn2:outgoing><bpmn2:outgoing>_5DD316D3-913F-4600-9D37-0CEAA3FEBA43</bpmn2:outgoing><bpmn2:potentialOwner id="_J4dxq0HqEeeFregdLgZMwQ"><bpmn2:resourceAssignmentExpression id="_J4dxrEHqEeeFregdLgZMwQ"><bpmn2:formalExpression id="_J4dxrUHqEeeFregdLgZMwQ">RECEIPTREALIZE_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:userTask id="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9" drools:bgcolor="#FF6600" name="Realization Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>show_tabs=Accounting</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_14D53AA8-7D4D-4DF1-A796-C911759AFE82</bpmn2:incoming><bpmn2:outgoing>_179060F8-FE71-4B6D-8DF9-B700C2446E31</bpmn2:outgoing><bpmn2:potentialOwner id="_J4dxrkHqEeeFregdLgZMwQ"><bpmn2:resourceAssignmentExpression id="_J4dxr0HqEeeFregdLgZMwQ"><bpmn2:formalExpression id="_J4dxsEHqEeeFregdLgZMwQ">RECEIPTREALIZE_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_14D53AA8-7D4D-4DF1-A796-C911759AFE82" name="Submit" sourceRef="_CB84B893-830F-4960-8640-208225B444FB" targetRef="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"><bpmn2:documentation id="_J4dxsUHqEeeFregdLgZMwQ">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxskHqEeeFregdLgZMwQ">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA" name="Partial Settlement or  Early settlement" sourceRef="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF" targetRef="_CB84B893-830F-4960-8640-208225B444FB"><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxs0HqEeeFregdLgZMwQ">vo.receiptPurpose != 'SchdlRepayment'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_4121FF63-DD77-4FFB-9923-36E39DD6622D" name="Resubmit" sourceRef="_262A1962-825F-4C56-88B3-206A2B80569F" targetRef="_CB84B893-830F-4960-8640-208225B444FB"><bpmn2:documentation id="_J4dxtEHqEeeFregdLgZMwQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_J4dxtUHqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxtkHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxt0HqEeeFregdLgZMwQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_94D56E95-3CAA-42C4-8793-99B5680F600E" name="Resubmit" sourceRef="_CB84B893-830F-4960-8640-208225B444FB" targetRef="_5F5413A7-D079-4061-A500-66B805CEF038"><bpmn2:documentation id="_J4dxuEHqEeeFregdLgZMwQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_J4dxuUHqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxukHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxu0HqEeeFregdLgZMwQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_7E5B6958-654D-4FEE-84F4-6421844F8D1F" name="Reject" sourceRef="_262A1962-825F-4C56-88B3-206A2B80569F" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_J4dxvEHqEeeFregdLgZMwQ">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_J4dxvUHqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxvkHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxv0HqEeeFregdLgZMwQ">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_5DD316D3-913F-4600-9D37-0CEAA3FEBA43" name="Reject" sourceRef="_CB84B893-830F-4960-8640-208225B444FB" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_J4dxwEHqEeeFregdLgZMwQ">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_J4dxwUHqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxwkHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxw0HqEeeFregdLgZMwQ">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:sequenceFlow id="_921EB85C-0D30-4933-9BA8-E25DC6108252" name="Approve" sourceRef="_262A1962-825F-4C56-88B3-206A2B80569F" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:documentation id="_J4dxxEHqEeeFregdLgZMwQ">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxxUHqEeeFregdLgZMwQ">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_262A1962-825F-4C56-88B3-206A2B80569F" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_179060F8-FE71-4B6D-8DF9-B700C2446E31</bpmn2:incoming><bpmn2:outgoing>_921EB85C-0D30-4933-9BA8-E25DC6108252</bpmn2:outgoing><bpmn2:outgoing>_7E5B6958-654D-4FEE-84F4-6421844F8D1F</bpmn2:outgoing><bpmn2:outgoing>_4121FF63-DD77-4FFB-9923-36E39DD6622D</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_179060F8-FE71-4B6D-8DF9-B700C2446E31" sourceRef="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9" targetRef="_262A1962-825F-4C56-88B3-206A2B80569F" /><bpmn2:sequenceFlow id="_58EFCBCE-4E80-412E-A115-5B4669864DFD" name="Resubmit" sourceRef="_266A3753-53BE-4B36-803D-564AD4E9D895" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><bpmn2:documentation id="_J4dxxkHqEeeFregdLgZMwQ">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_J4dxx0HqEeeFregdLgZMwQ"><bpmn2:documentation id="_J4dxyEHqEeeFregdLgZMwQ">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxyUHqEeeFregdLgZMwQ">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_07584E25-8359-4AF3-AB92-3A6FD5B81959" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_8385B547-68BC-4ADD-B5A4-156A981195D4</bpmn2:incoming><bpmn2:outgoing>_4BC339BC-2D3E-4903-909A-FA9A90904CA6</bpmn2:outgoing><bpmn2:outgoing>_4D16E470-104D-4592-9B14-17380F17A1C0</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_8385B547-68BC-4ADD-B5A4-156A981195D4" name="Submit" sourceRef="_266A3753-53BE-4B36-803D-564AD4E9D895" targetRef="_07584E25-8359-4AF3-AB92-3A6FD5B81959"><bpmn2:documentation id="_J4dxykHqEeeFregdLgZMwQ">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_J4dxy0HqEeeFregdLgZMwQ">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow></bpmn2:process><bpmndi:BPMNDiagram id="_J4dxz0HqEeeFregdLgZMwQ"><bpmndi:BPMNPlane id="_J4dx0EHqEeeFregdLgZMwQ" bpmnElement="RECEIPT_PROCESS"><bpmndi:BPMNShape id="_J4dx0UHqEeeFregdLgZMwQ" bpmnElement="_FF9D4911-C022-42B0-B00A-9C353226F4A7"><dc:Bounds height="30.0" width="30.0" x="30.0" y="108.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_J4dx0kHqEeeFregdLgZMwQ" bpmnElement="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><dc:Bounds height="80.0" width="100.0" x="90.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx00HqEeeFregdLgZMwQ" bpmnElement="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"><di:waypoint xsi:type="dc:Point" x="45.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx1EHqEeeFregdLgZMwQ" bpmnElement="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><dc:Bounds height="80.0" width="100.0" x="540.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx1UHqEeeFregdLgZMwQ" bpmnElement="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx1kHqEeeFregdLgZMwQ" bpmnElement="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"><dc:Bounds height="40.0" width="40.0" x="705.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx10HqEeeFregdLgZMwQ" bpmnElement="_00E367A7-32B3-4238-95E1-394CAF4A448E"><di:waypoint xsi:type="dc:Point" x="590.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx2EHqEeeFregdLgZMwQ" bpmnElement="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><dc:Bounds height="80.0" width="100.0" x="984.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx2UHqEeeFregdLgZMwQ" bpmnElement="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx2kHqEeeFregdLgZMwQ" bpmnElement="_73682DD6-4D65-497A-BAA5-B80623CB6C01"><dc:Bounds height="28.0" width="28.0" x="1260.0" y="109.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx20HqEeeFregdLgZMwQ" bpmnElement="_A921FE66-42C4-42CC-BB5C-15ABAA47A008"><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="1274.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx3EHqEeeFregdLgZMwQ" bpmnElement="_2AE689CD-94CB-4752-9CE3-748559E63D53"><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="17.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="17.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx3UHqEeeFregdLgZMwQ" bpmnElement="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><dc:Bounds height="80.0" width="100.0" x="675.0" y="210.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx3kHqEeeFregdLgZMwQ" bpmnElement="_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059"><di:waypoint xsi:type="dc:Point" x="725.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx30HqEeeFregdLgZMwQ" bpmnElement="_87A46993-91DA-47E0-811B-2F196FBAD6AA"><dc:Bounds height="28.0" width="28.0" x="621.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx4EHqEeeFregdLgZMwQ" bpmnElement="_DAFA463C-32E5-4B16-BC89-284B69E70681"><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="635.0" y="329.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx4UHqEeeFregdLgZMwQ" bpmnElement="_5F5413A7-D079-4061-A500-66B805CEF038"><dc:Bounds height="80.0" width="100.0" x="495.0" y="349.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_J4dx4kHqEeeFregdLgZMwQ" bpmnElement="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05"><dc:Bounds height="80.0" width="100.0" x="720.0" y="349.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx40HqEeeFregdLgZMwQ" bpmnElement="_1A0972CB-1741-433E-A3FE-77569D3EB20D"><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="770.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx5EHqEeeFregdLgZMwQ" bpmnElement="_35B25356-FC7E-4293-8C1B-C161F416565E"><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx5UHqEeeFregdLgZMwQ" bpmnElement="_CDBBE246-EF44-40AB-99BF-3B06873BDB20"><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="905.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx5kHqEeeFregdLgZMwQ" bpmnElement="_1CA63148-6545-4CC3-86CB-04EB05AF10F2"><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="905.0" y="460.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="460.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx50HqEeeFregdLgZMwQ" bpmnElement="_F7B8A61B-F531-4C69-807A-73DF463954F9"><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx6EHqEeeFregdLgZMwQ" bpmnElement="_0B1F68C3-79C5-49D1-94D9-B7E4F87EA54D"><dc:Bounds height="40.0" width="40.0" x="885.0" y="335.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx6UHqEeeFregdLgZMwQ" bpmnElement="_AB3C7C10-B7CD-422F-9D03-C19E0DE24CD5"><di:waypoint xsi:type="dc:Point" x="770.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="852.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="852.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="905.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx6kHqEeeFregdLgZMwQ" bpmnElement="_AB8F675B-702B-49EB-ABD2-0F901B4EC5B5"><dc:Bounds height="40.0" width="40.0" x="270.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_J4dx60HqEeeFregdLgZMwQ" bpmnElement="_9209E0A4-14BC-4840-AE5E-AF2425159AD0"><dc:Bounds height="80.0" width="100.0" x="90.0" y="240.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_J4dx7EHqEeeFregdLgZMwQ" bpmnElement="_46DBB075-601A-48C5-80F6-7A3C9575CEF5"><dc:Bounds height="28.0" width="28.0" x="126.0" y="375.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx7UHqEeeFregdLgZMwQ" bpmnElement="_B600CB2F-1566-41FD-BB42-8CC730387820"><di:waypoint xsi:type="dc:Point" x="140.0" y="280.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx7kHqEeeFregdLgZMwQ" bpmnElement="_B4A70293-13FD-44EB-A4C3-78A38AC643B9"><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="280.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx70HqEeeFregdLgZMwQ" bpmnElement="_C2820306-3E6C-4BD7-A4F6-099893B15468"><di:waypoint xsi:type="dc:Point" x="395.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="395.0" y="369.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx8EHqEeeFregdLgZMwQ" bpmnElement="_E46247E5-509B-4142-A14A-5ABED0386711"><di:waypoint xsi:type="dc:Point" x="395.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="590.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx8UHqEeeFregdLgZMwQ" bpmnElement="_875A1CB8-F079-4E62-8E17-DCC7048BD3D9"><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="209.0" y="409.0" /><di:waypoint xsi:type="dc:Point" x="209.0" y="222.0" /><di:waypoint xsi:type="dc:Point" x="165.0" y="222.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx8kHqEeeFregdLgZMwQ" bpmnElement="_266A3753-53BE-4B36-803D-564AD4E9D895"><dc:Bounds height="80.0" width="100.0" x="240.0" y="180.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx80HqEeeFregdLgZMwQ" bpmnElement="_E7648A60-BBC5-4B1D-8796-F35679E0FE51"><di:waypoint xsi:type="dc:Point" x="290.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="220.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx9EHqEeeFregdLgZMwQ" bpmnElement="_02EF09CD-0F7D-4F6A-ACEB-6361D99A26BD"><dc:Bounds height="40.0" width="40.0" x="375.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx9UHqEeeFregdLgZMwQ" bpmnElement="_4AABBDD4-1BEB-4CB1-89DB-982710A1A0DF"><di:waypoint xsi:type="dc:Point" x="290.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="395.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx9kHqEeeFregdLgZMwQ" bpmnElement="_4D16E470-104D-4592-9B14-17380F17A1C0"><di:waypoint xsi:type="dc:Point" x="290.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="477.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="477.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="590.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="590.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx90HqEeeFregdLgZMwQ" bpmnElement="_4BC339BC-2D3E-4903-909A-FA9A90904CA6"><di:waypoint xsi:type="dc:Point" x="290.0" y="329.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="389.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx-EHqEeeFregdLgZMwQ" bpmnElement="_C2275ADB-7924-4CA2-B43A-DF45FC2E56CF"><dc:Bounds height="40.0" width="40.0" x="1014.0" y="335.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx-UHqEeeFregdLgZMwQ" bpmnElement="_96BEF884-7DA1-4DF3-9D19-BF88157F2093"><di:waypoint xsi:type="dc:Point" x="1034.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dx-kHqEeeFregdLgZMwQ" bpmnElement="_CB84B893-830F-4960-8640-208225B444FB"><dc:Bounds height="80.0" width="100.0" x="1185.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_J4dx-0HqEeeFregdLgZMwQ" bpmnElement="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9"><dc:Bounds height="80.0" width="100.0" x="1350.0" y="315.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dx_EHqEeeFregdLgZMwQ" bpmnElement="_14D53AA8-7D4D-4DF1-A796-C911759AFE82"><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1400.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx_UHqEeeFregdLgZMwQ" bpmnElement="_1DC1FB80-31F2-4C6C-B58C-9E054666B4EA"><di:waypoint xsi:type="dc:Point" x="1034.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx_kHqEeeFregdLgZMwQ" bpmnElement="_4121FF63-DD77-4FFB-9923-36E39DD6622D"><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1505.0" y="452.0" /><di:waypoint xsi:type="dc:Point" x="1260.0" y="452.0" /><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dx_0HqEeeFregdLgZMwQ" bpmnElement="_94D56E95-3CAA-42C4-8793-99B5680F600E"><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1210.0" y="465.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="465.0" /><di:waypoint xsi:type="dc:Point" x="545.0" y="389.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dyAEHqEeeFregdLgZMwQ" bpmnElement="_7E5B6958-654D-4FEE-84F4-6421844F8D1F"><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1505.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dyAUHqEeeFregdLgZMwQ" bpmnElement="_5DD316D3-913F-4600-9D37-0CEAA3FEBA43"><di:waypoint xsi:type="dc:Point" x="1235.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1235.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="725.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4dyAkHqEeeFregdLgZMwQ" bpmnElement="_921EB85C-0D30-4933-9BA8-E25DC6108252"><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1562.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1562.0" y="225.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="225.0" /><di:waypoint xsi:type="dc:Point" x="1034.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4dyA0HqEeeFregdLgZMwQ" bpmnElement="_262A1962-825F-4C56-88B3-206A2B80569F"><dc:Bounds height="40.0" width="40.0" x="1485.0" y="335.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4dyBEHqEeeFregdLgZMwQ" bpmnElement="_179060F8-FE71-4B6D-8DF9-B700C2446E31"><di:waypoint xsi:type="dc:Point" x="1400.0" y="355.0" /><di:waypoint xsi:type="dc:Point" x="1505.0" y="355.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_J4m7YEHqEeeFregdLgZMwQ" bpmnElement="_58EFCBCE-4E80-412E-A115-5B4669864DFD"><di:waypoint xsi:type="dc:Point" x="290.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="164.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="140.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_J4m7YUHqEeeFregdLgZMwQ" bpmnElement="_07584E25-8359-4AF3-AB92-3A6FD5B81959"><dc:Bounds height="40.0" width="40.0" x="270.0" y="309.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_J4m7YkHqEeeFregdLgZMwQ" bpmnElement="_8385B547-68BC-4ADD-B5A4-156A981195D4"><di:waypoint xsi:type="dc:Point" x="290.0" y="220.0" /><di:waypoint xsi:type="dc:Point" x="290.0" y="329.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram><bpmn2:relationship id="_J4m7Y0HqEeeFregdLgZMwQ" type="jBPMProcessSimulation"><bpmn2:extensionElements><drools:ProcessAnalysisData><drools:Scenario xsi:type="drools:Scenario" id="default" name="Simulationscenario"><drools:ScenarioParameters xsi:type="drools:ScenarioParameters_._type" /><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" id="_J4m7ZEHqEeeFregdLgZMwQ"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" id="_J4m7ZUHqEeeFregdLgZMwQ"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5F5413A7-D079-4061-A500-66B805CEF038" id="_J4m7ZkHqEeeFregdLgZMwQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_266A3753-53BE-4B36-803D-564AD4E9D895" id="_J4m7Z0HqEeeFregdLgZMwQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_9209E0A4-14BC-4840-AE5E-AF2425159AD0" id="_J4m7aEHqEeeFregdLgZMwQ"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_4E6D290F-61AB-4F56-BCC1-BCD92F55AD05" id="_J4m7aUHqEeeFregdLgZMwQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" id="_J4m7akHqEeeFregdLgZMwQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5A09A264-B5C4-4355-8EC5-B6DC47E7A1A9" id="_J4m7a0HqEeeFregdLgZMwQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_CB84B893-830F-4960-8640-208225B444FB" id="_J4m7bEHqEeeFregdLgZMwQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" id="_J4m7bUHqEeeFregdLgZMwQ"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters></drools:Scenario></drools:ProcessAnalysisData></bpmn2:extensionElements><bpmn2:source>_J4dxcUHqEeeFregdLgZMwQ</bpmn2:source><bpmn2:target>_J4dxcUHqEeeFregdLgZMwQ</bpmn2:target></bpmn2:relationship></bpmn2:definitions>]]></column>
			<where>workflowtype='RECEIPT_PROCESS' and workflowactive=1</where>
		</update>
	</changeSet>
<changeSet id="21.4" author="Pruthvi">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
</changeSet>
<changeSet id="22" author="Surekha">
	<sql>
		delete  from ErrorDetails where errorcode='65016';
		INSERT INTO ErrorDetails VALUES('65016','EN','W','Auto Debit facility is available with the {0}','','Approved','','','','','',0,current_timestamp,1000,0);
		delete  from ErrorDetails where errorcode='65017';
		INSERT INTO ErrorDetails VALUES('65017','EN','W','{0} is covered under NACH','','Approved','','','','','',0,current_timestamp,1000,0);
		
	</sql>
	</changeSet>
	<changeSet id="23" author="SreeRavali">
		<addColumn tableName="Restructure_Temp">
			<column name="Version" type="NUMBER(10,0)" />
			<column name="Lastmntby" type="NUMBER(19,0)" />
			<column name="Lastmnton" type="datetime" />
			<column name="Recordstatus" type="nvarchar(50)" />
			<column name="Rolecode" type="nvarchar(50)" />
			<column name="Nextrolecode" type="nvarchar(200)" />
			<column name="Taskid" type="nvarchar(50)" />
			<column name="Nexttaskid" type="nvarchar(200)" />
			<column name="Recordtype" type="nvarchar(50)" />
			<column name="Workflowid" type="NUMBER(19,0)" />
		</addColumn>
	</changeSet>

	<changeSet id="24" author="SreeRavali">
		<addColumn tableName="Restructure">
			<column name="Version" type="NUMBER(10,0)" />
			<column name="Lastmntby" type="NUMBER(19,0)" />
			<column name="Lastmnton" type="datetime" />
			<column name="Recordstatus" type="nvarchar(50)" />
			<column name="Rolecode" type="nvarchar(50)" />
			<column name="Nextrolecode" type="nvarchar(200)" />
			<column name="Taskid" type="nvarchar(50)" />
			<column name="Nexttaskid" type="nvarchar(200)" />
			<column name="Recordtype" type="nvarchar(50)" />
			<column name="Workflowid" type="NUMBER(19,0)" />
		</addColumn>
	</changeSet>
	<changeSet id="28" author="SreeRavali">
		<addColumn tableName="Restructure_Temp">
			<column name="CustomerCIF" type="varchar(20)" />
			<column name="OldFinRef" type="varchar(20)"/>
			<column name="FinType" type="varChar(8)" />
			<column name="FinCategory" type="varchar(8)" />
			<column name="FinCcy" type="char(3)" />
			<column name="FinBranch" type="varchar(12)" />
			<column name="StartDate" type="datetime" />
		</addColumn>
	</changeSet>
	<changeSet id="29" author="SreeRavali">
		<addColumn tableName="Restructure">
			<column name="CustomerCIF" type="varchar(20)" />
			<column name="OldFinRef" type="varchar(20)" />
			<column name="FinType" type="varChar(8)" />
			<column name="FinCategory" type="varchar(8)" />
			<column name="FinCcy" type="char(3)" />
			<column name="FinBranch" type="varchar(12)" />
			<column name="StartDate" type="datetime" />
		</addColumn>
	</changeSet>
		<changeSet id="31" author="SreeRavali">
		<dropColumn columnName="CustomerCIF" tableName="Restructure_Temp" />
		<dropColumn columnName="StartDate" tableName="Restructure_Temp" />
	</changeSet>
	<changeSet id="32" author="SreeRavali">
		<dropColumn columnName="CustomerCIF" tableName="Restructure" />
		<dropColumn columnName="StartDate" tableName="Restructure" />
	</changeSet>
	<changeSet id="33" author="SreeRavali">
		<addColumn tableName="Restructure_Temp">
		<column name="CustCIF" type="varchar(20)" />
		<column name="FinStartDate" type="datetime" />
		</addColumn>
	</changeSet>
	<changeSet id="34" author="SreeRavali">
		<addColumn tableName="Restructure">
		<column name="CustCIF" type="varchar(20)" />
		<column name="FinStartDate" type="datetime" />
		</addColumn>
	</changeSet>
	<changeSet id="35" author="Ahmad">
		<createView viewName="LOCALITY_VIEW" replaceIfExists="true">
			<![CDATA[ 
			SELECT		T1.id, T1.name, T1.city, C.PCCITYNAME		
						, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    	Locality_Temp  T1 
			  inner join RMTProvinceVsCity C on C.PCCITY = T1.City
			UNION ALL
			
			SELECT		T1.id, T1.name, T1.city, C.PCCITYNAME				
						, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
			FROM    	Locality  T1 
			  inner join RMTProvinceVsCity C on C.PCCITY = T1.City
			WHERE     NOT EXISTS (SELECT 1 FROM Locality_TEMP WHERE id = T1.id)
			]]>
		</createView>
	</changeSet>
	<changeSet id="36" author="Ahmad">
		<createTable tableName="SeqLocality">
			<column name="SeqNo" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="30" author="Satya">
	<dropForeignKeyConstraint baseTableName="BUILDERCOMPANY"
			constraintName="FK_BuilderGroup" />
	<dropForeignKeyConstraint baseTableName="BUILDERCOMPANY_TEMP"
			constraintName="FK_BuilderGroup_TEMP" />
	</changeSet>
	
	<changeSet id="37" author="satya">
		<addForeignKeyConstraint constraintName="FK_BuilderGroup"
			referencedTableName="BUILDERGROUP" referencedColumnNames="ID"
			baseTableName="BUILDERCOMPANY" baseColumnNames="GROUPID" />
	</changeSet>

<changeSet id="38" author="satya">
		<addForeignKeyConstraint constraintName="FK_BuilderGroup_TEMP"
			referencedTableName="BUILDERGROUP" referencedColumnNames="ID"
			baseTableName="BUILDERCOMPANY_TEMP" baseColumnNames="GROUPID" />
	</changeSet>
	<changeSet id="39" author="Pruthvi">
<dropTable tableName="Locality" />
	</changeSet>
	
<changeSet id="41" author="Pruthvi">
				<createTable tableName="Locality">
			<column name="ID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="NAME" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="CITY" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />   
		</createTable> 
	</changeSet>
	
	<changeSet id="42" author="Pruthvi">
	<addForeignKeyConstraint constraintName="FK_LOCALITY_CITY"
			referencedTableName="RMTPROVINCEVSCITY" referencedColumnNames="PCCITY"
			baseTableName="Locality" baseColumnNames="CITY" />
				</changeSet>
				
<changeSet id="43" author="Pruthvi">
<dropTable tableName="Locality_Temp" />
	</changeSet>
	
<changeSet id="44" author="Pruthvi">
				<createTable tableName="Locality_Temp">
			<column name="ID" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="NAME" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="CITY" type="varchar(50)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int">
				<constraints nullable="false" />
			</column>
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />   
		</createTable> 
	</changeSet>
	
	<changeSet id="45" author="Pruthvi">
	<addForeignKeyConstraint constraintName="FK_LOCALITY_TMP_CITY"
			referencedTableName="RMTPROVINCEVSCITY" referencedColumnNames="PCCITY"
			baseTableName="Locality_Temp" baseColumnNames="CITY" />
				</changeSet>
				
	<changeSet id="46" author="manoj.p">
	<sql>
		update data_engine_column SET RULEFORVALUE = 'if((STATUS ==  ''Y'' )){Result =''REJECTED'';  return;}else {Result =''APPROVED'';  return;}'
		where tableId In (
		select ID from DATA_ENGINE_TABLE WHERE ConfigId IN (
		select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT')) and Name = 'STATUS';
	</sql>
	</changeSet>
	<changeSet id="47" author="Ahmad">
		<createView viewName="LOCALITY_VIEW" replaceIfExists="true">
			SELECT		T1.id, T1.name, T1.city, C.PCCITYNAME CityName
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Locality_Temp  T1 
  inner join RMTProvinceVsCity C on C.PCCITY = T1.City
UNION ALL
SELECT		T1.id, T1.name, T1.city, C.PCCITYNAME				
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Locality  T1 
  inner join RMTProvinceVsCity C on C.PCCITY = T1.City
WHERE     NOT EXISTS (SELECT 1 FROM Locality_TEMP WHERE id = T1.id)
		</createView>
		</changeSet>
		<changeSet id="48" author="Ahmad">
		<createView viewName="LOCALITY_AVIEW" replaceIfExists="true">
			SELECT		T1.id, T1.name, T1.city, C.PCCITYNAME CityName
			, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
FROM    	Locality  T1
  inner join RMTProvinceVsCity C on C.PCCITY = T1.City
		</createView>
	</changeSet>
	
	<changeSet id="49" author="Siva">
	<sql>
				
		DELETE FROM Secrolegroups WHERE ROLEID = (Select RoleID from SecRoles WHERE ROLECD = 'BOUNCE_MAKER') AND GRPID = (Select GrpID From SecGroups WHERE GRPCODE = 'RECEIPTCANCEL_MAKER');
		DELETE FROM Secrolegroups WHERE ROLEID = (Select RoleID from SecRoles WHERE ROLECD = 'BOUNCE_APPROVER') AND GRPID = (Select GrpID From SecGroups WHERE GRPCODE = 'RECEIPTCANCEL_APPROVER');
		
		UPDATE SECROLES SET ROLEDESC = 'Receipt Bounce Approver'  WHERE ROLECD = 'BOUNCE_APPROVER';
		UPDATE SECROLES SET ROLEDESC = 'Receipt Bounce Maker'  WHERE ROLECD = 'BOUNCE_MAKER';
		
		UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
		UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
		UPDATE SEQSECOPERATIONROLES SET SEQNO= (SELECT MAX(OPRROLEID) FROM SECOPERATIONROLES);
		
		INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'RECEIPTCANCEL_APPROVER', 'Receipt Cancellation Approver','FINANCE', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
		INSERT INTO SECROLES SELECT (SELECT MAX(ROLEID)+1 FROM SECROLES),1, 'RECEIPTCANCEL_MAKER', 'Receipt Cancellation Maker','FINANCE', 0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0 FROM SEQSECROLES WHERE 0=0;
		
		INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='RECEIPTCANCEL_APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='RECEIPTCANCEL_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
		INSERT INTO SecRoleGroups values((Select MAX(RoleGrpID)+1 From SecRoleGroups),(Select GrpId  From SecGroups Where GrpCode='RECEIPTCANCEL_MAKER'), (Select  RoleID  From SecRoles Where RoleCd='RECEIPTCANCEL_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
		
		INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='APPROVER'), (Select  RoleID  From SecRoles Where RoleCd='RECEIPTCANCEL_APPROVER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
		INSERT INTO SecOperationRoles values((Select MAX(OprRoleID)+1 From SecOperationRoles),(Select OprId  From SecOperations Where OprCode='MAKER'), (Select  RoleID  From SecRoles Where RoleCd='RECEIPTCANCEL_MAKER'),0,1000,CURRENT_TIMESTAMP,' ',' ',' ',' ',' ',' ',0); 
		
		UPDATE SEQSECROLES SET SEQNO= (SELECT MAX(ROLEID) FROM SECROLES);
		UPDATE SEQSECROLEGROUPS SET SEQNO= (SELECT MAX(ROLEGRPID) FROM SECROLEGROUPS);
		UPDATE SEQSECOPERATIONROLES SET SEQNO= (SELECT MAX(OPRROLEID) FROM SECOPERATIONROLES);

	</sql>
	</changeSet>
	<changeSet author="Pruthvi" id="50">
<sql>
update WorkFlowDetails set workflowactive='0' where workflowtype='RECEIPTCANCEL_PROCESS';
	</sql>
	</changeSet>
	
<changeSet author="Jayant" id="51">
		<insert tableName="WorkFlowDetails">
			<column name="WorkFlowId"
				valueComputed="(select max(WorkFlowId) + 1 from WorkFlowDetails)" />
			<column name="WorkFlowType">RECEIPTCANCEL_PROCESS</column>
			<column name="WorkFlowSubType">Receipt Cancellation Workflow Process</column>
			<column name="WorkFlowDesc">Receipt Cancellation Workflow Process</column>
			<column name="JsonDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="SvgDesign" type="nclob"><![CDATA[NULL]]></column>
			<column name="WorkFlowXml" type="clob"><![CDATA[NULL]]></column>
			<column name="WorkFlowRoles">RECEIPTCANCEL_MAKER;RECEIPTCANCEL_APPROVER</column>
			<column name="FirstTaskOwner">RECEIPTCANCEL_MAKER</column>
			<column name="WorkFlowActive">1</column>
			<column name="Version">0</column>
			<column name="LastMntBy">1000</column>
			<column name="LastMntOn">26-MAY-2017</column>
			<column name="RecordStatus">Null</column>
			<column name="RoleCode">Null</column>
			<column name="NextRoleCode">Null</column>
			<column name="TaskId">Null</column>
			<column name="NextTaskId">Null</column>
			<column name="RecordType">NULL</column>
		</insert>
</changeSet>

<changeSet id="52" author="Jayant">
		<update tableName="WORKFLOWDETAILS">
			<column name="JSONDESIGN" type="NCLOB"><![CDATA[{"resourceId":"CCMS_MSTGRP1","properties":{"name":"Receipt Cancellation Process\n","documentation":"","auditing":"","monitoring":"","executable":"true","package":"","vardefs":"","imports":"","id":"RECEIPTCANCEL_PROCESS","version":"","author":"","language":"English","namespaces":"","targetnamespace":"http://www.omg.org/bpmn20","expressionlanguage":"http://www.w3.org/1999/XPath","typelanguage":"http://www.w3.org/2001/XMLSchema","creationdate":"","modificationdate":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"_FF9D4911-C022-42B0-B00A-9C353226F4A7","properties":{"name":"Start","documentation":"","auditing":"","monitoring":"","dataoutputassociations":"","dataoutput":"","outputset":"","bgcolor":"#C5F970","trigger":"None"},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"}],"bounds":{"lowerRight":{"x":116,"y":138},"upperLeft":{"x":86,"y":108}},"dockers":[]},{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF","properties":{"name":"Receipt Cancellation Maker","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":false,"assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"RECEIPTCANCEL_MAKER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"},{"resourceId":"_14CED7D6-CEC3-49D1-A614-5168AD7F13F6"}],"bounds":{"lowerRight":{"x":250,"y":163},"upperLeft":{"x":150,"y":83}},"dockers":[]},{"resourceId":"_5EE9B2AF-F8EA-432C-BB52-88124AA2A117","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":149.5,"y":124},"upperLeft":{"x":116.6953125,"y":122}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A","properties":{"name":"Receipt Cancellation Approver","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"User","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"","porttype":"","wsdlurl":"","bgcolor":"#FF6600","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"scope=Own","onexitactions":"","taskname":"","actors":"RECEIPTCANCEL_APPROVER"},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_00E367A7-32B3-4238-95E1-394CAF4A448E"}],"bounds":{"lowerRight":{"x":430,"y":163},"upperLeft":{"x":330,"y":83}},"dockers":[]},{"resourceId":"_9305AD0C-8EA2-46BB-AD97-8B650D65B67D","properties":{"name":"Submit","documentation":"Submit=Submitted","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Submitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}],"bounds":{"lowerRight":{"x":329.78125,"y":124},"upperLeft":{"x":250.21875,"y":122}},"dockers":[{"x":50,"y":40},{"x":50,"y":40}],"target":{"resourceId":"_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"}},{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0","properties":{"name":"","documentation":"","auditing":"","monitoring":"","categories":"","assignments":"","pool":"","lanes":"","gates":"","gates_outgoingsequenceflow":"","gates_assignments":"","bgcolor":"#ffffff","gatewaytype":"XOR","xortype":"Data","markervisible":"true","defaultgate":"","gate_outgoingsequenceflow":"","gate_assignments":""},"stencil":{"id":"Exclusive_Databased_Gateway"},"childShapes":[],"outgoing":[{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53"},{"resourceId":"_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059"}],"bounds":{"lowerRight":{"x":515,"y":143},"upperLeft":{"x":475,"y":103}},"dockers":[]},{"resourceId":"_00E367A7-32B3-4238-95E1-394CAF4A448E","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"}],"bounds":{"lowerRight":{"x":474.64844687000755,"y":123.4097335362338},"upperLeft":{"x":430.62889687999245,"y":123.2191727137662}},"dockers":[{"x":50,"y":40},{"x":20.5,"y":20.5}],"target":{"resourceId":"_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"}},{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618","properties":{"name":"Complete Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":" ","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doApprove","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008"}],"bounds":{"lowerRight":{"x":700,"y":163},"upperLeft":{"x":600,"y":83}},"dockers":[]},{"resourceId":"_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56","properties":{"name":"Approve","documentation":"Approve=Approved","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Approved'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}],"bounds":{"lowerRight":{"x":599.5117239866028,"y":123.43426377099225},"upperLeft":{"x":515.8124947633972,"y":123.16339247900775}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"}},{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01","properties":{"name":"Approved","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":793,"y":137},"upperLeft":{"x":765,"y":109}},"dockers":[]},{"resourceId":"_A921FE66-42C4-42CC-BB5C-15ABAA47A008","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}],"bounds":{"lowerRight":{"x":764.8984375,"y":124},"upperLeft":{"x":700.3828125,"y":122}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_73682DD6-4D65-497A-BAA5-B80623CB6C01"}},{"resourceId":"_2AE689CD-94CB-4752-9CE3-748559E63D53","properties":{"name":"Resubmit","documentation":"Resubmit=Resubmitted","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Resubmitted'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}],"bounds":{"lowerRight":{"x":495.5,"y":102.53125},"upperLeft":{"x":200,"y":17}},"dockers":[{"x":20.5,"y":20.5},{"x":495.5,"y":17},{"x":200,"y":17},{"x":50,"y":40}],"target":{"resourceId":"_7B64C6C5-337C-44C2-98C6-A723EC862BFF"}},{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0","properties":{"name":"Cancel Process","documentation":"","auditing":"","monitoring":"","categories":"","startquantity":1,"completionquantity":1,"isforcompensation":"","assignments":"","callacitivity":"","tasktype":"Service","implementation":"webService","resources":"","messageref":"","operationref":"","instantiate":"","script":"","script_language":"","inmessagetype":"","outmessagetype":"","servicename":"","namespace":"","operation":"doReject","porttype":"","wsdlurl":"","bgcolor":"#ffffcc","looptype":"None","testbefore":"","loopcondition":"","loopmaximum":"","loopcardinality":"","loopdatainput":"","loopdataoutput":"","inputdataitem":"","outputdataitem":"","behavior":"all","complexbehaviordefinition":"","completioncondition":"","onebehavioreventref":"signal","nonebehavioreventref":"signal","properties":"","datainputset":"","dataoutputset":"","ruleflowgroup":"","onentryactions":"","onexitactions":"","taskname":"","actors":""},"stencil":{"id":"Task"},"childShapes":[],"outgoing":[{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681"}],"bounds":{"lowerRight":{"x":545,"y":290},"upperLeft":{"x":445,"y":210}},"dockers":[]},{"resourceId":"_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059","properties":{"name":"Reject","documentation":"Reject=Rejected","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Rejected'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":495.4218287117048,"y":209.46875781130998},"upperLeft":{"x":495.1602025382952,"y":143.27733593869002}},"dockers":[{"x":20.5,"y":20.5},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}},{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA","properties":{"name":"Rejected","documentation":"","auditing":"","monitoring":"","datainputassociations":"","datainput":"","inputset":"","bgcolor":"#F47677","trigger":"None"},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":509,"y":358},"upperLeft":{"x":481,"y":330}},"dockers":[]},{"resourceId":"_DAFA463C-32E5-4B16-BC89-284B69E70681","properties":{"name":"","documentation":"","auditing":"","monitoring":"","conditiontype":"None","conditionexpression":"","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}],"bounds":{"lowerRight":{"x":496,"y":329.78125},"upperLeft":{"x":494,"y":290.65625}},"dockers":[{"x":50,"y":40},{"x":14,"y":14}],"target":{"resourceId":"_87A46993-91DA-47E0-811B-2F196FBAD6AA"}},{"resourceId":"_14CED7D6-CEC3-49D1-A614-5168AD7F13F6","properties":{"name":"Cancel","documentation":"Cancel=Cancelled","auditing":"Notes","monitoring":"","conditiontype":"None","conditionexpression":"vo.recordStatus == 'Cancelled'","isimmediate":"","showdiamondmarker":""},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}],"bounds":{"lowerRight":{"x":444.44921875,"y":250},"upperLeft":{"x":200,"y":163.6875}},"dockers":[{"x":50,"y":40},{"x":200,"y":250},{"x":50,"y":40}],"target":{"resourceId":"_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"}}],"bounds":{"lowerRight":{"x":3000,"y":2000},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"bpmn2.0pbpm","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}]]></column>
			<column name="WORKFLOWXML" type="CLOB"><![CDATA[<bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns="http://www.omg.org/bpmn20" xmlns:drools="http://www.jboss.org/drools" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="_OQMqEEITEee6vvg19QTcSA" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd" targetNamespace="http://www.omg.org/bpmn20"><bpmn2:itemDefinition id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" /><bpmn2:itemDefinition id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" /><bpmn2:message id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage" itemRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessageType" /><bpmn2:message id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage" itemRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessageType" /><bpmn2:interface id="_OQMqJ0ITEee6vvg19QTcSA"><bpmn2:operation id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation" name="doApprove"><bpmn2:inMessageRef>_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:interface id="_OQMqKEITEee6vvg19QTcSA"><bpmn2:operation id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation" name="doReject"><bpmn2:inMessageRef>_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_InMessage</bpmn2:inMessageRef></bpmn2:operation></bpmn2:interface><bpmn2:process id="RECEIPTCANCEL_PROCESS" name="Receipt Cancellation Process " isExecutable="true"><bpmn2:startEvent id="_FF9D4911-C022-42B0-B00A-9C353226F4A7" drools:bgcolor="#C5F970" name="Start"><bpmn2:outgoing>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:outgoing></bpmn2:startEvent><bpmn2:userTask id="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" drools:bgcolor="#FF6600" name="Receipt Cancellation Maker"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:incoming><bpmn2:incoming>_5EE9B2AF-F8EA-432C-BB52-88124AA2A117</bpmn2:incoming><bpmn2:outgoing>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:outgoing><bpmn2:outgoing>_14CED7D6-CEC3-49D1-A614-5168AD7F13F6</bpmn2:outgoing><bpmn2:potentialOwner id="_OQMqEUITEee6vvg19QTcSA"><bpmn2:resourceAssignmentExpression id="_OQMqEkITEee6vvg19QTcSA"><bpmn2:formalExpression id="_OQMqE0ITEee6vvg19QTcSA">RECEIPTCANCEL_MAKER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117" sourceRef="_FF9D4911-C022-42B0-B00A-9C353226F4A7" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" /><bpmn2:userTask id="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" drools:bgcolor="#FF6600" name="Receipt Cancellation Approver"><bpmn2:extensionElements><drools:onEntry-script scriptFormat="http://www.java.com/java"><drools:script>scope=Own</drools:script></drools:onEntry-script></bpmn2:extensionElements><bpmn2:incoming>_9305AD0C-8EA2-46BB-AD97-8B650D65B67D</bpmn2:incoming><bpmn2:outgoing>_00E367A7-32B3-4238-95E1-394CAF4A448E</bpmn2:outgoing><bpmn2:potentialOwner id="_OQMqFEITEee6vvg19QTcSA"><bpmn2:resourceAssignmentExpression id="_OQMqFUITEee6vvg19QTcSA"><bpmn2:formalExpression id="_OQMqFkITEee6vvg19QTcSA">RECEIPTCANCEL_APPROVER</bpmn2:formalExpression></bpmn2:resourceAssignmentExpression></bpmn2:potentialOwner></bpmn2:userTask><bpmn2:sequenceFlow id="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D" name="Submit" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><bpmn2:documentation id="_OQMqF0ITEee6vvg19QTcSA">Submit=Submitted</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_OQMqGEITEee6vvg19QTcSA">vo.recordStatus == 'Submitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:exclusiveGateway id="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" drools:bgcolor="#ffffff" drools:dg="" name="" gatewayDirection="Diverging"><bpmn2:incoming>_00E367A7-32B3-4238-95E1-394CAF4A448E</bpmn2:incoming><bpmn2:outgoing>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:outgoing><bpmn2:outgoing>_2AE689CD-94CB-4752-9CE3-748559E63D53</bpmn2:outgoing><bpmn2:outgoing>_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059</bpmn2:outgoing></bpmn2:exclusiveGateway><bpmn2:sequenceFlow id="_00E367A7-32B3-4238-95E1-394CAF4A448E" sourceRef="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" targetRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" /><bpmn2:serviceTask id="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doApprove" name="Complete Process" operationRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618_ServiceOperation"><bpmn2:incoming>_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56</bpmn2:incoming><bpmn2:outgoing>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:sequenceFlow id="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56" name="Approve" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><bpmn2:documentation id="_OQMqGUITEee6vvg19QTcSA">Approve=Approved</bpmn2:documentation><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_OQMqGkITEee6vvg19QTcSA">vo.recordStatus == 'Approved'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:endEvent id="_73682DD6-4D65-497A-BAA5-B80623CB6C01" drools:bgcolor="#F47677" name="Approved"><bpmn2:incoming>_A921FE66-42C4-42CC-BB5C-15ABAA47A008</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_A921FE66-42C4-42CC-BB5C-15ABAA47A008" sourceRef="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" targetRef="_73682DD6-4D65-497A-BAA5-B80623CB6C01" /><bpmn2:sequenceFlow id="_2AE689CD-94CB-4752-9CE3-748559E63D53" name="Resubmit" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><bpmn2:documentation id="_OQMqG0ITEee6vvg19QTcSA">Resubmit=Resubmitted</bpmn2:documentation><bpmn2:auditing id="_OQMqHEITEee6vvg19QTcSA"><bpmn2:documentation id="_OQMqHUITEee6vvg19QTcSA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_OQMqHkITEee6vvg19QTcSA">vo.recordStatus == 'Resubmitted'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:serviceTask id="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" drools:bgcolor="#ffffcc" drools:servicetaskoperation="doReject" name="Cancel Process" operationRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0_ServiceOperation"><bpmn2:incoming>_14CED7D6-CEC3-49D1-A614-5168AD7F13F6</bpmn2:incoming><bpmn2:incoming>_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059</bpmn2:incoming><bpmn2:outgoing>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:outgoing></bpmn2:serviceTask><bpmn2:sequenceFlow id="_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059" name="Reject" sourceRef="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_OQMqH0ITEee6vvg19QTcSA">Reject=Rejected</bpmn2:documentation><bpmn2:auditing id="_OQMqIEITEee6vvg19QTcSA"><bpmn2:documentation id="_OQMqIUITEee6vvg19QTcSA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_OQMqIkITEee6vvg19QTcSA">vo.recordStatus == 'Rejected'</bpmn2:conditionExpression></bpmn2:sequenceFlow><bpmn2:endEvent id="_87A46993-91DA-47E0-811B-2F196FBAD6AA" drools:bgcolor="#F47677" name="Rejected"><bpmn2:incoming>_DAFA463C-32E5-4B16-BC89-284B69E70681</bpmn2:incoming></bpmn2:endEvent><bpmn2:sequenceFlow id="_DAFA463C-32E5-4B16-BC89-284B69E70681" sourceRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" targetRef="_87A46993-91DA-47E0-811B-2F196FBAD6AA" /><bpmn2:sequenceFlow id="_14CED7D6-CEC3-49D1-A614-5168AD7F13F6" name="Cancel" sourceRef="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" targetRef="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><bpmn2:documentation id="_OQMqI0ITEee6vvg19QTcSA">Cancel=Cancelled</bpmn2:documentation><bpmn2:auditing id="_OQMqJEITEee6vvg19QTcSA"><bpmn2:documentation id="_OQMqJUITEee6vvg19QTcSA">Notes</bpmn2:documentation></bpmn2:auditing><bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" id="_OQMqJkITEee6vvg19QTcSA">vo.recordStatus == 'Cancelled'</bpmn2:conditionExpression></bpmn2:sequenceFlow></bpmn2:process><bpmndi:BPMNDiagram id="_OQMqKUITEee6vvg19QTcSA"><bpmndi:BPMNPlane id="_OQMqKkITEee6vvg19QTcSA" bpmnElement="RECEIPTCANCEL_PROCESS"><bpmndi:BPMNShape id="_OQMqK0ITEee6vvg19QTcSA" bpmnElement="_FF9D4911-C022-42B0-B00A-9C353226F4A7"><dc:Bounds height="30.0" width="30.0" x="86.0" y="108.0" /></bpmndi:BPMNShape><bpmndi:BPMNShape id="_OQMqLEITEee6vvg19QTcSA" bpmnElement="_7B64C6C5-337C-44C2-98C6-A723EC862BFF"><dc:Bounds height="80.0" width="100.0" x="150.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_OQMqLUITEee6vvg19QTcSA" bpmnElement="_5EE9B2AF-F8EA-432C-BB52-88124AA2A117"><di:waypoint xsi:type="dc:Point" x="101.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="200.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_OQMqLkITEee6vvg19QTcSA" bpmnElement="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A"><dc:Bounds height="80.0" width="100.0" x="330.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_OQMqL0ITEee6vvg19QTcSA" bpmnElement="_9305AD0C-8EA2-46BB-AD97-8B650D65B67D"><di:waypoint xsi:type="dc:Point" x="200.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="380.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_OQMqMEITEee6vvg19QTcSA" bpmnElement="_C0021C4A-21DA-4AB3-83DF-43DE36042CD0"><dc:Bounds height="40.0" width="40.0" x="475.0" y="103.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_OQMqMUITEee6vvg19QTcSA" bpmnElement="_00E367A7-32B3-4238-95E1-394CAF4A448E"><di:waypoint xsi:type="dc:Point" x="380.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="495.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_OQMqMkITEee6vvg19QTcSA" bpmnElement="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618"><dc:Bounds height="80.0" width="100.0" x="600.0" y="83.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_OQMqM0ITEee6vvg19QTcSA" bpmnElement="_0C53F5CF-91B6-48EF-AA7A-0FFB1BDC9D56"><di:waypoint xsi:type="dc:Point" x="495.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="650.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_OQMqNEITEee6vvg19QTcSA" bpmnElement="_73682DD6-4D65-497A-BAA5-B80623CB6C01"><dc:Bounds height="28.0" width="28.0" x="765.0" y="109.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_OQMqNUITEee6vvg19QTcSA" bpmnElement="_A921FE66-42C4-42CC-BB5C-15ABAA47A008"><di:waypoint xsi:type="dc:Point" x="650.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="779.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_OQMqNkITEee6vvg19QTcSA" bpmnElement="_2AE689CD-94CB-4752-9CE3-748559E63D53"><di:waypoint xsi:type="dc:Point" x="495.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="495.0" y="17.0" /><di:waypoint xsi:type="dc:Point" x="200.0" y="17.0" /><di:waypoint xsi:type="dc:Point" x="200.0" y="123.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_OQMqN0ITEee6vvg19QTcSA" bpmnElement="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0"><dc:Bounds height="80.0" width="100.0" x="445.0" y="210.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_OQMqOEITEee6vvg19QTcSA" bpmnElement="_A96EF8F0-08CB-4FD7-8DAC-5CF5E6E1F059"><di:waypoint xsi:type="dc:Point" x="495.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="495.0" y="250.0" /></bpmndi:BPMNEdge><bpmndi:BPMNShape id="_OQMqOUITEee6vvg19QTcSA" bpmnElement="_87A46993-91DA-47E0-811B-2F196FBAD6AA"><dc:Bounds height="28.0" width="28.0" x="481.0" y="330.0" /></bpmndi:BPMNShape><bpmndi:BPMNEdge id="_OQMqOkITEee6vvg19QTcSA" bpmnElement="_DAFA463C-32E5-4B16-BC89-284B69E70681"><di:waypoint xsi:type="dc:Point" x="495.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="495.0" y="344.0" /></bpmndi:BPMNEdge><bpmndi:BPMNEdge id="_OQMqO0ITEee6vvg19QTcSA" bpmnElement="_14CED7D6-CEC3-49D1-A614-5168AD7F13F6"><di:waypoint xsi:type="dc:Point" x="200.0" y="123.0" /><di:waypoint xsi:type="dc:Point" x="200.0" y="250.0" /><di:waypoint xsi:type="dc:Point" x="495.0" y="250.0" /></bpmndi:BPMNEdge></bpmndi:BPMNPlane></bpmndi:BPMNDiagram><bpmn2:relationship id="_OQMqPEITEee6vvg19QTcSA" type="jBPMProcessSimulation"><bpmn2:extensionElements><drools:ProcessAnalysisData><drools:Scenario xsi:type="drools:Scenario" id="default" name="Simulationscenario"><drools:ScenarioParameters xsi:type="drools:ScenarioParameters_._type" /><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_DD6234E6-F810-4F4B-BD18-D36A2B5A4618" id="_OQMqPUITEee6vvg19QTcSA"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_5F12FFE5-4B96-49AF-A35C-73A4DBEE36B0" id="_OQMqPkITEee6vvg19QTcSA"><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_77E97F8E-6071-449B-9BD7-4B0F3A5A657A" id="_OQMqP0ITEee6vvg19QTcSA"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters><drools:ElementParameters xsi:type="drools:ElementParameters_._type" elementId="_7B64C6C5-337C-44C2-98C6-A723EC862BFF" id="_OQMqQEITEee6vvg19QTcSA"><drools:ResourceParameters xsi:type="drools:ResourceParameters" /><drools:CostParameters xsi:type="drools:CostParameters" /></drools:ElementParameters></drools:Scenario></drools:ProcessAnalysisData></bpmn2:extensionElements><bpmn2:source>_OQMqEEITEee6vvg19QTcSA</bpmn2:source><bpmn2:target>_OQMqEEITEee6vvg19QTcSA</bpmn2:target></bpmn2:relationship></bpmn2:definitions>]]></column>
			<where>workflowtype='RECEIPTCANCEL_PROCESS' and workflowactive=1</where>
		</update>
	</changeSet>
<changeSet id="53" author="Pruthvi">
	<sql>
		UPDATE SeqWorkFlowDetails SET SEQNO= (SELECT MAX(WorkflowId)+1 FROM workflowdetails);
	</sql>
</changeSet>
<changeSet id="54" author="satya">
<sql>
Insert into reportlist values('BuilderGroup','BuilderGroup','listheader_name.label,listheader_segmentation.label','name,segmentation','String,String','','ReportList02','Builder Group','System Masters',1,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0,0);
</sql>
</changeSet>

<changeSet id="55" author="ahmad">
<sql>
Insert into reportlist values('Locality','Locality','listheader_name.label,listheader_city.label','name,city','String,String','','ReportList02','Locality','System Masters',1,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0,0);
</sql>
</changeSet>

<changeSet id="56" author="satya">
<sql>
Insert into reportlist values('BuilderCompany','BuilderCompany','listheader_name.label,listheader_segmentation.label,listheader_groupId.label','name,segmentation,groupId','String,String,long','','ReportList03',
'Builder Company','System Masters',1,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0,0);


Insert into reportlist values('BuilderProjcet','BuilderProjcet','listheader_name.label,listheader_builderId.label,listheader_apfNo.label','name,builderId,apfNo','String,long,String','','ReportList03',
'Builder Project','System Masters',1,1000,CURRENT_TIMESTAMP,'Approved','','','','','',0,0);

</sql>
</changeSet>

<changeSet id="57" author="ahmad">
	<sql>
		Insert into SeqLocality values (1);
	</sql>
</changeSet>
  
   	<changeSet id="58" author="Manoj.P" dbms="oracle">
   	    <sql>
		 alter table DATA_ENGINE_CONFIG add  FORCEEXCEL	NUMBER(1, 0) DEFAULT(0) NOT NULL
   	   </sql>
   	</changeSet>
	<changeSet id="58" author="Manoj.P" dbms="mssql">
   	    <sql>
		 alter table DATA_ENGINE_CONFIG add  FORCEEXCEL	Numeric(1, 0) DEFAULT(0) NOT NULL
   	   </sql>
   	</changeSet>
	<changeSet id="59" author="Siva">
		<sql>
			Update errordetails SET ErrorMessage = 'Fee Receipt on {0} is already exists. Do you want to proceed?' where errorcode = '65014';
		</sql>
	</changeSet>
	<changeSet id="60" author="Madhubabu">
		<sql>
			Insert into bmtamountcodes values ('MANFEE','0','fp_postingAmount','Total Posting Amount',1,1,1005,current_timestamp,'Approved',null,null,null,null,null,0);

			insert into rmtaccountingset values((select max(accountsetid)+1 from rmtaccountingset),'MANFEE','MANFEE','MANFEE',0,0,1,1000,current_timestamp,'Approved',null,null,null,null,null,0);

			Insert into RMTTRANSACTIONENTRY values ((SELECT ACCOUNTSETID From RMTACCOUNTINGSET where eventcode = 'MANFEE'),10,'Fee Posting','C',0,'UPTIN',null,'BUILD','GLCODE','510','010','Result=fp_postingAmount;',null,null,'D',0,0,1,0,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0,'E',0);
			
			Insert into RMTTRANSACTIONENTRY values ((SELECT ACCOUNTSETID From RMTACCOUNTINGSET where eventcode = 'MANFEE'),20,'Fee Posting','D',0,'PROIN',null,'BUILD','GLCODE','010','510','Result=fp_postingAmount;',null,null,'D',0,0,1,0,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0,'E',0);

		</sql>
	</changeSet>
	
	<changeSet id="61" author="Manoj.P">
		<dropColumn columnName="FORCEEXCEL" tableName="DATA_ENGINE_CONFIG" />
	</changeSet>
	
	<changeSet id="62" author="Manoj.P">
	   <sql>
	        DELETE FROM DATA_ENGINE_LOG WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT');
			DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY;
			DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT';
			
			DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT'));
			DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT');
			DELETE FROM DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT';
			
			INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'MANDATES_EXPORT', 'Mandates export', 2, NULL, NULL, NULL, ',' , 0, 0, NULL, 'Row:{INSTRUMENT AUTO DATA ENTRY REPORT}Row:{User:${USER_ID}}Row:{Business Date:${SYS_DATE_DD-MMM-YYYY}}Row:{Branch Name:${FILTER_BRANCHCODE}}Row:{FromDate:${FILTER_FROMDATE},  ToDate:${FILTER_TODATE}}ROW:{EMPTY_ROW}ROW:{Mandate Sequence No.,Customer Name,Branch,Product,Application ID,LAN No.,EMI Amount,Open Flag,Account Holder Name,MICR Code,Account No.,Account Type,Updation Date,User ID,First Due Date,EMI End Date,Open End Date,Open Upper Limit,Bank Name,Mandate Debit Amount,Start Date,End Date,Application Form No.,Customer Code,Repayment Mode,Mandate No.}',  '', 'A', '/opt/PFF/mandates/request', 'MANDATE_', '.CSV', 0, NULL, '${ddMMYYYYHms}', NULL, 0, NULL, 1, 1); 
			INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT'), 'MANDATE_REQUESTS',  0, 'ID', 'ID IN (:ID)', 'UPDATE MANDATE_REQUESTS SET BATCH_ID = :FILEID, STATUS = ''AC'' WHERE ID IN (:ID)QUERY:UPDATE MANDATES SET STATUS = ''AC'' WHERE MANDATEID IN (SELECT MANDATEID FROM MANDATE_REQUESTS WHERE ID IN (:ID) AND STATUS = ''AC'')', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
			
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BANK_SEQ',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);	
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'CUSTOMER_NAME',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BRANCH_NAME',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'FINTYPE',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'APPLICATION_NUMBER',	0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'FINREFERENCE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EMI',					0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'OPENFLAG',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_HOLDER_NAME',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MICR_CODE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_NUMBER',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_TYPE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EXTRACTION_DATE',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'USERNAME',				1, 'N', NULL, NULL, '${USER_NAME}', NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EFFECTIVE_DATE',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EMI_ENDDATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'OPEN_ENDDATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'UPPER_LIMIT',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BANK_NAME',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'DEBIT_AMOUNT',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'START_DATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'END_DATE',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'APPLICATION_NUMBER',	0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'CUSTCIF',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MANDATE_TYPE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MANDATEID',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			
			
			UPDATE SEQ_DATA_ENGINE_CONFIG SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_CONFIG);
			UPDATE SEQ_DATA_ENGINE_TABLE  SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_TABLE);
			UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN);
			UPDATE SEQ_DATA_ENGINE_STATUS SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_STATUS);

	   </sql>
	</changeSet>
	
	<changeSet id="63" author="Manoj.P">
		<sql>
			DELETE FROM DATA_ENGINE_PROCESS_LOG WHERE FILEID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_LOG WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT';
			
			DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT'));
			DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT';
			
			INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'MANDATES_IMPORT', 'Mandate Response file', 1, NULL, NULL, NULL, ',' , 0, 0, NULL, NULL,  '', 'C', '/opt/PFF/mandates/response', 'Mandate_Import', '.CSV', 0, NULL, NULL, NULL, 0, NULL, 1, 1); 
			
			INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT'), 'MANDATE_REQUESTS',  2, 'ID', NULL, 'UPDATE MANDATES M SET (M.MANDATEREF, M.STATUS, M.REASON) = (SELECT MR.MANDATE_REG_NO, MR.STATUS, MR.REMARKS  FROM MANDATE_REQUESTS MR  WHERE MR.MANDATEID = M.MANDATEID AND MR.RESP_BATCH_ID =  :FILEID) WHERE EXISTS(SELECT MR.MANDATE_REG_NO, MR.STATUS,MR.REMARKS FROM MANDATE_REQUESTS MR WHERE MR.MANDATEID = M.MANDATEID AND MR.RESP_BATCH_ID = :FILEID)', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
			
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MANDATEID',			0, 'N', NULL, NULL,	NULL, 			NULL, 		15, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MANDATE_REG_NO',		0, 'N', NULL, NULL,	NULL, 			NULL, 		11, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'STATUS',				0, 'N', NULL, NULL,	NULL, 			NULL, 		12, 	NULL, 'if((STATUS ==  ''Y'' )){Result =''REJECTED'';  return;}else {Result =''APPROVED'';  return;}', 	NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'REMARKS',				0, 'N', NULL, NULL,	NULL, 			NULL, 		13,		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'RESP_BATCH_ID',		0, 'N', NULL, NULL, '${FILE_ID}', 	NULL, 		0, 		NULL, NULL, NULL, NULL);
			
			UPDATE SEQ_DATA_ENGINE_CONFIG SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_CONFIG);
			UPDATE SEQ_DATA_ENGINE_TABLE  SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_TABLE);
			UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN);
		</sql>
	</changeSet>
	
	<changeSet id="64" author="Manoj.P">
	   <createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true">
		     SELECT M.MANDATEID, 
			BD.BANKCODE,
			BD.BANKNAME,
			case when LB.BRANCHCODE IS NULL THEN CB.BRANCHCODE ELSE LB.BRANCHCODE END BRANCHCODE,
	    case when LB.BRANCHDESC IS NULL THEN CB.BRANCHDESC ELSE LB.BRANCHDESC END BRANCHDESC,
			CUST.CUSTCIF,
			CUST.CUSTSHRTNAME,
			FT.FINTYPEDESC FINTYPE ,
			FIN.FINREFERENCE ,
			(SELECT MAX(REPAYAMOUNT+FEESCHD)
			  FROM FINSCHEDULEDETAILS
			  WHERE FINREFERENCE =FIN.FINREFERENCE
			  AND REPAYONSCHDATE =1
			  )/100 EMI,
			  CASE M.OPENMANDATE
			    WHEN 1
			    THEN 'New Open ECS'
			    ELSE 'No Open ECS'
			  END OPENMANDATE,
			M.ACCNUMBER,
			M.ACCTYPE,
			M.ACCHOLDERNAME,
			BB.MICR,
			(SELECT MIN(FIRSTREPAYDATE) FIRSTDUEDATE
			    FROM FINPFTDETAILS
			    WHERE FINREFERENCE=FIN.FINREFERENCE
			    ) FIRSTDUEDATE,
			(SELECT MAX(MATURITYDATE) EMIENDDATE
			  FROM FINPFTDETAILS
			  WHERE FINREFERENCE=FIN.FINREFERENCE
			  ) EMIENDDATE,
			  COALESCE (M.MAXLIMIT, 0) MAXLIMIT,
			    (SELECT SUM(REPAYAMOUNT+FEESCHD) MANDATEDEBITAMOUNT
			  FROM FINSCHEDULEDETAILS
			  WHERE FINREFERENCE IN
			    (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID
			    )
			  AND REPAYONSCHDATE =1
			  )/100 DEBITAMOUNT,
			  M.STARTDATE,
			  M.EXPIRYDATE,
			  FIN.APPLICATIONNO,
			  M.MANDATETYPE,
			  M.STATUS,
			  M.INPUTDATE,
			  M.RECORDSTATUS,
			  M.RECORDTYPE,
	      M.MANDATECCY,
	    COALESCE (CCY.CCYMINORCCYUNITS,100) CCYMINORCCYUNITS
			FROM MANDATES M
			INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID
			INNER JOIN BMTBANKDETAIL BD ON BD.BANKCODE=BB.BANKCODE 
			INNER JOIN CUSTOMERS CUST   ON CUST.CUSTID = M.CUSTID
	    INNER JOIN RMTBRANCHES CB ON CB.BRANCHCODE = CUST.CUSTDFTBRANCH 
	    LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY
			LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE
	    LEFT JOIN RMTBRANCHES LB ON LB.BRANCHCODE = FIN.FINBRANCH 
			LEFT OUTER JOIN RMTFINANCETYPES FT ON FIN.FINTYPE =FT.FINTYPE 
			WHERE M.STATUS = 'NEW'
	   </createView>
	</changeSet>
	
	 <changeSet id="65" author="Manoj.P">
		<modifyDataType tableName="MANDATE_REQUESTS" columnName="FINTYPE"
			newDataType="varchar(50)" />
	</changeSet>
	
	<changeSet id="66" author="Manojkumar.P">
	    <createTable tableName="MANDATE_RESPONSE">			
			<column name="ID"  	type="bigint" autoIncrement="true" incrementBy="1">
			  <constraints primaryKey="true"  nullable="false" />
			 </column>
			<column name="BATCH_ID" 			type="bigint"/>
			<column name="MANDATEID" 			type="bigint"/>
			<column name="BANK_SEQ" 			type="VARCHAR(20)"/>
			<column name="BANK_CODE" 			type="VARCHAR(8)"/>
			<column name="BANK_NAME" 			type="VARCHAR(50)"/>
			<column name="BRANCH_NAME" 			type="VARCHAR(200)"/>
			<column name="CUSTCIF" 				type="VARCHAR(20)"/>
			<column name="CUSTOMER_NAME" 		type="VARCHAR(200)"/>
			<column name="FINTYPE" 				type="VARCHAR(50)"/>
			<column name="FINREFERENCE" 		type="VARCHAR(20)"/>
			<column name="EMI" 					type="VARCHAR(200)"/>
			<column name="OPENFLAG" 			type="VARCHAR(20)"/>
			<column name="ACCT_NUMBER" 			type="VARCHAR(50)"/>
			<column name="ACCT_TYPE" 			type="VARCHAR(20)"/>
			<column name="ACCT_HOLDER_NAME" 	type="VARCHAR(50)"/>
			<column name="MICR_CODE" 			type="VARCHAR(20)"/>
			<column name="EXTRACTION_DATE" 		type="datetime"/>
			<column name="EFFECTIVE_DATE" 		type="datetime"/>
			<column name="EMI_ENDDATE" 			type="datetime"/>
			<column name="OPEN_ENDDATE" 		type="datetime"/>
			<column name="UPPER_LIMIT" 			type="VARCHAR(200)"/>
			<column name="DEBIT_AMOUNT" 		type="VARCHAR(200)"/>
			<column name="START_DATE" 			type="datetime"/>
			<column name="END_DATE" 			type="datetime"/>
			<column name="APPLICATION_NUMBER" 	type="VARCHAR(200)"/>
			<column name="MANDATE_TYPE" 		type="VARCHAR(20)"/>
			<column name="MANDATE_REG_NO" 		type="VARCHAR(25)"/>
			<column name="RESP_BATCH_ID" 		type="bigint"/>
			<column name="STATUS" 				type="VARCHAR(50)"/>
			<column name="REMARKS" 				type="VARCHAR(500)"/>
			<column name="REJECT_REASON" 		type="VARCHAR(100)"/>
		</createTable>
	</changeSet>
	
	<changeSet id="67" author="Siva">
	<dropForeignKeyConstraint baseTableName="FinRepayHeader"
			constraintName="FK_FINREPAYHEADER_FINMAIN" />
	</changeSet>
	
	<changeSet id="68" author="Durgaprasad G">
        <createTable tableName="PaymentHeader">
			<column name="PaymentId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PH_PID" nullable="false"/>
			</column>
			<column name="FinReference" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="PaymentType" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="PaymentAmount" type="decimal(18,2)">
				<constraints nullable="false" />
			</column>
			<column name="CreatedOn" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="ApprovedOn" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="Status" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="69" author="Durgaprasad G">
		<createTable tableName="PaymentHeader_Temp">
			<column name="PaymentId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PH_TEMP_PID" nullable="false"/>
			</column>
			<column name="FinReference" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="PaymentType" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="PaymentAmount" type="decimal(18,2)">
				<constraints nullable="false" />
			</column>
			<column name="CreatedOn" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="ApprovedOn" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="Status" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="70" author="Durgaprasad G">
		<createTable tableName="PaymentDeatils">
			<column name="PaymentDetailId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PD_PDID" nullable="false"/>
			</column>
			<column name="PaymentId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="AmountType" type="char(1)" />
			<column name="Amount" type="decimal(18,2)"  />
			<column name="Reference" type="bigint" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="71" author="Durgaprasad G">
		<addForeignKeyConstraint constraintName="FK_PD_PID"
			referencedTableName="PaymentHeader" referencedColumnNames="PaymentId"
			baseTableName="PaymentDeatils" baseColumnNames="PaymentId" />
	</changeSet>
	
	<changeSet id="72" author="Durgaprasad G">
		<createTable tableName="PaymentDeatils_Temp">
			<column name="PaymentDetailId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PD_TEMP_PDID" nullable="false"/>
			</column>
			<column name="PaymentId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="AmountType" type="char(1)" />
			<column name="Amount" type="decimal(18,2)"  />
			<column name="Reference" type="bigint" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
   </changeSet>		 	

   <changeSet id="73" author="Durgaprasad G">
		<createTable tableName="PaymentInstructions">
			<column name="PaymentInstructionId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PI_PIID" nullable="false"/>
			</column>
			<column name="PaymentId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="PaymentType" type="char(1)" />
			<column name="PaymentAmount" type="decimal(18,2)"  />
			<column name="Remarks" type="varchar(100)"  />
			<column name="BankCode" type="varchar(8)"  />
			<column name="FavourName" type="varchar(200)"  />
			<column name="FavourNumber" type="nvarchar(100)"  />
			<column name="PayableLoc" type="nvarchar(50)"  />
			<column name="PrintingLoc" type="nvarchar(50)"  />
			<column name="ValueDate" type="datetime"  />
			<column name="PostDate" type="datetime"  />
			<column name="BankBranchID" type="bigInt"  />
			<column name="AcctHolderName" type="nvarchar(200)"  />
			<column name="AccountNo" type="varchar(100)"  />
			<column name="PhoneCountryCode" type="varchar(5)"  />
			<column name="PhoneNumber" type="varchar(12)"  />
			<column name="Clearingdate" type="datetime"  />
			<column name="Active" type="Char(1)"  />
			<column name="PaymentCCy" type="varchar(3)"  />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="74" author="Durgaprasad G">
		<addForeignKeyConstraint constraintName="FK_PI_PID"
			referencedTableName="PaymentHeader" referencedColumnNames="PaymentId"
			baseTableName="PaymentInstructions" baseColumnNames="PaymentId" />
	</changeSet>
	
	<changeSet id="75" author="Durgaprasad G" dbms="oracle">
		<createTable tableName="PaymentInstructions_Temp">
			<column name="PaymentInstructionId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PI_TEMP_PIID" nullable="false"/>
			</column>
			<column name="PaymentId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="PaymentType" type="char(1)" />
			<column name="PaymentCCy" type="varchar(3)"  />
			<column name="PaymentAmount" type="decimal(18,2)"  />
			
			<column name="BankCode" type="varchar(8)"  />
			<column name="FavourName" type="varchar(200)"  />
			<column name="FavourNumber" type="nvarchar(100)"  />
			<column name="PayableLoc" type="nvarchar(50)"  />
			<column name="PrintingLoc" type="nvarchar(50)"  />
		
			<column name="BankBranchID" type="bigInt"  />
			<column name="AcctHolderName" type="nvarchar(200)"  />
			<column name="AccountNo" type="varchar(100)"  />
			<column name="PhoneCountryCode" type="nvarchar(5)"  />
			<column name="PhoneNumber" type="nvarchar(12)"  />
			<column name="Clearingdate" type="Char(1)"  />
			<column name="ValueDate" type="datetime"  />
			<column name="PostDate" type="datetime"  />
			
			<column name="Remarks" type="varchar(100)"  />
			<column name="Active" type="Char(1)"  />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet> 
	<changeSet id="75" author="Durgaprasad G" dbms="mssql">
		<createTable tableName="PaymentInstructions_Temp">
			<column name="PaymentInstructionId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PI_TEMP_PIID" nullable="false"/>
			</column>
			<column name="PaymentId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="PaymentType" type="char(1)" />
			<column name="PaymentCCy" type="varchar(3)"  />
			<column name="PaymentAmount" type="decimal(18,2)"  />
			
			<column name="BankCode" type="varchar(8)"  />
			<column name="FavourName" type="varchar(200)"  />
			<column name="FavourNumber" type="nvarchar(100)"  />
			<column name="PayableLoc" type="nvarchar(50)"  />
			<column name="PrintingLoc" type="nvarchar(50)"  />
		
			<column name="BankBranchID" type="bigInt"  />
			<column name="AcctHolderName" type="nvarchar(200)"  />
			<column name="AccountNo" type="varchar(100)"  />
			<column name="PhoneCountryCode" type="nvarchar(5)"  />
			<column name="PhoneNumber" type="nvarchar(12)"  />
			<column name="Clearingdate" type="Char(1)"  />
			<column name="ValueDate" type="datetime"  />
			<column name="PostDate" type="datetime"  />
			
			<column name="Remarks" type="varchar(100)"  />
			<column name="Active" type="Char(1)"  />
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet> 
	<changeSet id="76" author="Manoj.P" dbms="oracle">
	<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
	 		  SELECT   
		      FA. PAYMENTID,
		      FA.FINREFERENCE,
		      CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
		      FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
		      FA.DISBDATE,
         	  FA.LLDATE,
		      FA.PAYABLELOC,
		      FA.PRINTINGLOC,
		      CU.CUSTCIF,            
		      CU.CUSTSHRTNAME,     
		      CM.PHONECOUNTRYCODE||CM.PHONEAREACODE||CM.PHONENUMBER AS CUSTOMER_MOBILE,
		      CE.CUSTEMAIL       CUSTOMER_EMAIL,
		      CS.CPPROVINCENAME  CUSTOMER_STATE,
		      CC.PCCITYNAME      CUSTOMER_CITY,
		      ''                 CUSTOMER_ADDRESS1,
		      ''                 CUSTOMER_ADDRESS2,
		      ''                 CUSTOMER_ADDRESS3,
		      ''                 CUSTOMER_ADDRESS4,
		      ''                 CUSTOMER_ADDRESS5,
		      BD.BANKNAME,
          BB.BRANCHCODE,
		      BB.BRANCHDESC,
		      BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
		      BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
		      BB.MICR             MICR_CODE,
		      BB.IFSC             IFSC_CODE,
		      FA.BENEFICIARYACCNO,
		      CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
		      FA.PHONECOUNTRYCODE||FA.PHONEAREACODE||FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
		      BCE.CUSTEMAIL        BENFICIRY_EMAIL,
		      BRS.CPPROVINCENAME  BENFICIARY_STATE,
		      BRC.PCCITYNAME      BENFICIARY_CITY,
		      ''                  BENFICIARY_ADDRESS1,
		      ''                  BENFICIARY_ADDRESS2,
		      ''                  BENFICIARY_ADDRESS3,
		      ''                  BENFICIARY_ADDRESS4,
		      ''                  BENFICIARY_ADDRESS5,
		      ''				          PAYMENT_DETAIL1,
		      ''                  PAYMENT_DETAIL2,
		      ''                  PAYMENT_DETAIL3,
		      ''                  PAYMENT_DETAIL4,
		      ''                  PAYMENT_DETAIL5,
		      ''                  PAYMENT_DETAIL6,
		      ''                  PAYMENT_DETAIL7,     
		      FA.STATUS           STATUS,
		      FA.DESCRIPTION      REMARKS,
          FA.PAYMENTTYPE      PAYMENTTYPE,
          FM.FINTYPE,
          PB.PARTNERBANKID,
          PB.PARTNERBANKCODE,
          FA.INPUTDATE,
          PB.ALWFILEDOWNLOAD
		      FROM FINADVANCEPAYMENTS FA
		      INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = FA.FINREFERENCE
		      INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
		      INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
          INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
		      LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
		      LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
		      LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
		      LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
		      LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
		      LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
		      LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
		      LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
			    LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
		      LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
		      LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
		      LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
		      LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
		      LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
		      LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
		      WHERE STATUS='Approved' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
	</createView>
	
	</changeSet>
	<changeSet id="76" author="Manoj.P" dbms="mssql">
	<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
	 		  SELECT   
		      FA. PAYMENTID,
		      FA.FINREFERENCE,
		      CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
		      FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
		      FA.DISBDATE,
         	  FA.LLDATE,
		      FA.PAYABLELOC,
		      FA.PRINTINGLOC,
		      CU.CUSTCIF,            
		      CU.CUSTSHRTNAME,     
		      CM.PHONECOUNTRYCODE+CM.PHONEAREACODE+CM.PHONENUMBER AS CUSTOMER_MOBILE,
		      CE.CUSTEMAIL       CUSTOMER_EMAIL,
		      CS.CPPROVINCENAME  CUSTOMER_STATE,
		      CC.PCCITYNAME      CUSTOMER_CITY,
		      ''                 CUSTOMER_ADDRESS1,
		      ''                 CUSTOMER_ADDRESS2,
		      ''                 CUSTOMER_ADDRESS3,
		      ''                 CUSTOMER_ADDRESS4,
		      ''                 CUSTOMER_ADDRESS5,
		      BD.BANKNAME,
          BB.BRANCHCODE,
		      BB.BRANCHDESC,
		      BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
		      BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
		      BB.MICR             MICR_CODE,
		      BB.IFSC             IFSC_CODE,
		      FA.BENEFICIARYACCNO,
		      CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
		      FA.PHONECOUNTRYCODE+FA.PHONEAREACODE+FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
		      BCE.CUSTEMAIL        BENFICIRY_EMAIL,
		      BRS.CPPROVINCENAME  BENFICIARY_STATE,
		      BRC.PCCITYNAME      BENFICIARY_CITY,
		      ''                  BENFICIARY_ADDRESS1,
		      ''                  BENFICIARY_ADDRESS2,
		      ''                  BENFICIARY_ADDRESS3,
		      ''                  BENFICIARY_ADDRESS4,
		      ''                  BENFICIARY_ADDRESS5,
		      ''				          PAYMENT_DETAIL1,
		      ''                  PAYMENT_DETAIL2,
		      ''                  PAYMENT_DETAIL3,
		      ''                  PAYMENT_DETAIL4,
		      ''                  PAYMENT_DETAIL5,
		      ''                  PAYMENT_DETAIL6,
		      ''                  PAYMENT_DETAIL7,     
		      FA.STATUS           STATUS,
		      FA.DESCRIPTION      REMARKS,
          FA.PAYMENTTYPE      PAYMENTTYPE,
          FM.FINTYPE,
          PB.PARTNERBANKID,
          PB.PARTNERBANKCODE,
          FA.INPUTDATE,
          PB.ALWFILEDOWNLOAD
		      FROM FINADVANCEPAYMENTS FA
		      INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = FA.FINREFERENCE
		      INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
		      INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
          INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
		      LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
		      LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
		      LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
		      LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
		      LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
		      LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
		      LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
		      LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
			    LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
		      LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
		      LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
		      LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
		      LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
		      LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
		      LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
		      WHERE STATUS='Approved' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
	</createView>
	
	</changeSet>
	<changeSet id="77" author="Manoj.P">
		<sql>
		 	DELETE FROM DATA_ENGINE_LOG WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_OTHER_NEFT_RTGS_EXPORT');
			DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_OTHER_NEFT_RTGS_EXPORT');
			DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='DISB_OTHER_NEFT_RTGS_EXPORT';
			
			DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'DISB_OTHER_NEFT_RTGS_EXPORT'));
			DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'DISB_OTHER_NEFT_RTGS_EXPORT');
			DELETE FROM DATA_ENGINE_CONFIG where Name = 'DISB_OTHER_NEFT_RTGS_EXPORT';
			
			
			INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'DISB_OTHER_NEFT_RTGS_EXPORT', 'Other Bank Disbursements[NEFT/RTGS] Download.', 2, NULL, NULL, NULL, ',' , 0, 0, NULL, 'Txn type, Beneficiary code, Beneficiary Account No., Disbursed Amount, Beneficiary Name, Beneficiary City, Print Location, Beneficiary Address1, Beneficiary Address2, Beneficiary Address3, Beneficiary Address4, Drawee Location, BAFL Transaction ID ( Ref 1), BAFL Transaction ID ( Ref 2), BAFL Mail id, Blank Column 2, Blank Column 3, Blank Column 4, Blank Column 5, Blank Column 6, Blank Column 7, Cheque Number, File Download date, Blank Column 9, IFSC CODE/NEFT CODE, Beneficiary Bank, Beneficiary Bank Branch, Beneficiary Email ID ',  NULL, 'A', '/opt/PFF/disbursements/request', '${PAYMENT_TYPE}', '.CSV', 0, NULL, '${PARTNER_BANK_CODE}, ${ddMMYYYYHms}', NULL, 0, NULL, 1, 1);
			INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT'), 'DISBURSEMENT_REQUESTS',  	0,  'ID', 'ID IN (:ID), STATUS =:STATUS', 'UPDATE DISBURSEMENT_REQUESTS SET BATCH_ID = :FILEID, STATUS = ''AC'' WHERE ID IN (:ID)QUERY:UPDATE FINADVANCEPAYMENTS SET STATUS = ''AC'' WHERE PAYMENTID IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS WHERE ID IN (:ID) AND STATUS = ''AC'')', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
			
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'DISBURSEMENT_TYPE',		0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'CUSTCIF',					0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'BENFICIARY_ACCOUNT',		0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'DISBURSEMENT_AMOUNT',		0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'BENFICIARY_NAME',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'BENFICIRY_CITY',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'PRINT_LOCATION',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'BENFICIARY_ADDRESS1',		0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'BENFICIARY_ADDRESS2',		0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'BENFICIARY_ADDRESS3',		0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'BENFICIARY_ADDRESS4',		0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'DRAWEE_LOCATION',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'ID',						0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'FINREFERENCE',				0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'PAYMENT_DETAIL1',			0, 'N', NULL, NULL,						NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'PAYMENT_DETAIL2',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'PAYMENT_DETAIL3',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'PAYMENT_DETAIL4',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'PAYMENT_DETAIL5',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'PAYMENT_DETAIL6',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'PAYMENT_DETAIL7',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'CHEQUE_NUMBER',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'DISBURSEMENT_DATE',		0, 'N', NULL, NULL,		  				'${SYS_DATE}', 		NULL, 			0, NULL, NULL, NULL, 'DATE:dd/MM/yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'MICR_CODE',				0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'IFSC_CODE',				0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'BENFICIARY_BANK',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'BENFICIARY_BRANCH',		0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'DISBURSEMENT_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'DISB_OTHER_NEFT_RTGS_EXPORT')), 	'BENFICIRY_EMAIL',			0, 'N', NULL, NULL,		  				NULL, 				NULL, 			0, NULL, NULL, NULL, NULL);
			
			UPDATE SEQ_DATA_ENGINE_CONFIG SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_CONFIG);
			UPDATE SEQ_DATA_ENGINE_TABLE  SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_TABLE);
			UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN);
			UPDATE SEQ_DATA_ENGINE_STATUS SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_STATUS);
		 	
		</sql>
	</changeSet>
	
	<changeSet id="78" author="Manoj.p">
	 	<sql>
	 		DELETE FROM DATA_ENGINE_PROCESS_LOG WHERE FILEID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_LOG WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT';
			
			DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT'));
			DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT';
			
			INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'MANDATES_IMPORT', 'Mandate Response file', 1, NULL, NULL, NULL, ',' , 0, 0, NULL, NULL,  '', 'C', 'C:/opt/PFF/mandates/response', 'Mandate_Import', '.CSV', 0, NULL, NULL, NULL, 0, NULL, 1, 1); 
			
			INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT'), 'MANDATE_RESPONSE',  1, 'ID', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
			
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'FINREFERENCE',			0, 'N', NULL, NULL,	NULL, 			NULL, 		0, 		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'CUSTCIF',				0, 'N', NULL, NULL,	NULL, 			NULL, 		1, 		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MICR',					0, 'N', NULL, NULL,	NULL, 			NULL, 		3, 		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'ACCNUMBER',			0, 'N', NULL, NULL,	NULL, 			NULL, 		4, 		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'OPENMANDATE',			0, 'N', NULL, NULL,	NULL, 			NULL, 		9, 		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MANDATETYPE',			0, 'N', NULL, NULL,	NULL, 			NULL, 		14, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MANDATEID',			0, 'N', NULL, NULL,	NULL, 			NULL, 		15, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MANDATE_REG_NO',		0, 'N', NULL, NULL,	NULL, 			NULL, 		11, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'STATUS',				0, 'N', NULL, NULL,	NULL, 			NULL, 		12, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'REMARKS',				0, 'N', NULL, NULL,	NULL, 			NULL, 		13,		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'RESP_BATCH_ID',		0, 'N', NULL, NULL, '${FILE_ID}', 	NULL, 		0, 		NULL, NULL, NULL, NULL);
			
			UPDATE SEQ_DATA_ENGINE_CONFIG SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_CONFIG);
			UPDATE SEQ_DATA_ENGINE_TABLE  SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_TABLE);
			UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN);
	 	</sql>
	</changeSet>
	
	<changeSet id="79" author="Manoj.p">
	   	<sql>
	   		DELETE FROM DATA_ENGINE_LOG WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT');
			DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT');
			DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT';
			
			DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT'));
			DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT');
			DELETE FROM DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT';
			
			INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'MANDATES_EXPORT', 'Mandates export', 3, 'Mandates', NULL, NULL, NULL , 0, 0, NULL, 'Row:{INSTRUMENT AUTO DATA ENTRY REPORT}Row:{User:${USER_ID}}Row:{Business Date:${SYS_DATE_DD-MMM-YYYY}}Row:{Branch Name:${FILTER_BRANCHCODE}}Row:{FromDate:${FILTER_FROMDATE},  ToDate:${FILTER_TODATE}}ROW:{EMPTY_ROW}ROW:{Mandate Sequence No.,Customer Name,Branch,Product,Application ID,LAN No.,EMI Amount,Open Flag,Account Holder Name,MICR Code,Account No.,Account Type,Updation Date,User ID,First Due Date,EMI End Date,Open End Date,Open Upper Limit,Bank Name,Mandate Debit Amount,Start Date,End Date,Application Form No.,Customer Code,Repayment Mode,Mandate No.}',  '', 'A', '/opt/PFF/mandates/request', 'MANDATE_', '.XLSX', 0, NULL, '${ddMMYYYYHms}', NULL, 0, NULL, 1, 1); 
			INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT'), 'MANDATE_REQUESTS',  0, 'ID', 'ID IN (:ID)', 'UPDATE MANDATE_REQUESTS SET BATCH_ID = :FILEID, STATUS = ''AC'' WHERE ID IN (:ID)QUERY:UPDATE MANDATES SET STATUS = ''AC'' WHERE MANDATEID IN (SELECT MANDATEID FROM MANDATE_REQUESTS WHERE ID IN (:ID) AND STATUS = ''AC'')', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
			
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BANK_SEQ',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);	
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'CUSTOMER_NAME',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BRANCH_NAME',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'FINTYPE',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'APPLICATION_NUMBER',	0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'FINREFERENCE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EMI',					0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'OPENFLAG',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_HOLDER_NAME',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MICR_CODE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_NUMBER',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_TYPE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EXTRACTION_DATE',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'USERNAME',				1, 'N', NULL, NULL, '${USER_NAME}', NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EFFECTIVE_DATE',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EMI_ENDDATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'OPEN_ENDDATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'UPPER_LIMIT',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BANK_NAME',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'DEBIT_AMOUNT',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'START_DATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'END_DATE',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'APPLICATION_NUMBER',	0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'CUSTCIF',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MANDATE_TYPE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MANDATEID',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			
			
			UPDATE SEQ_DATA_ENGINE_CONFIG SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_CONFIG);
			UPDATE SEQ_DATA_ENGINE_TABLE  SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_TABLE);
			UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN);
			UPDATE SEQ_DATA_ENGINE_STATUS SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_STATUS);
	   		
	   	</sql>
	</changeSet>
	<changeSet id="80" author="Manoj.p">
		<createView viewName="INT_MANDATE_REQUEST_VIEW" replaceIfExists="true">
		   SELECT M.MANDATEID, 
			BD.BANKCODE,
			BD.BANKNAME,
			case when LB.BRANCHCODE IS NULL THEN CB.BRANCHCODE ELSE LB.BRANCHCODE END BRANCHCODE,
	    case when LB.BRANCHDESC IS NULL THEN CB.BRANCHDESC ELSE LB.BRANCHDESC END BRANCHDESC,
			CUST.CUSTCIF,
			CUST.CUSTSHRTNAME,
			FT.FINTYPEDESC FINTYPE ,
			FIN.FINREFERENCE ,
			(SELECT MAX(REPAYAMOUNT+FEESCHD)
			  FROM FINSCHEDULEDETAILS
			  WHERE FINREFERENCE =FIN.FINREFERENCE
			  AND REPAYONSCHDATE =1
			  )/100 EMI,
			  CASE M.OPENMANDATE
			    WHEN 1
			    THEN 'New Open ECS'
			    ELSE 'No Open ECS'
			  END OPENMANDATE,
			M.ACCNUMBER,
			M.ACCTYPE,
			M.ACCHOLDERNAME,
			BB.MICR,
			(SELECT MIN(FIRSTREPAYDATE) FIRSTDUEDATE
			    FROM FINPFTDETAILS
			    WHERE FINREFERENCE=FIN.FINREFERENCE
			    ) FIRSTDUEDATE,
			(SELECT MAX(MATURITYDATE) EMIENDDATE
			  FROM FINPFTDETAILS
			  WHERE FINREFERENCE=FIN.FINREFERENCE
			  ) EMIENDDATE,
			  COALESCE (M.MAXLIMIT, 0) MAXLIMIT,
			    (SELECT SUM(REPAYAMOUNT+FEESCHD) MANDATEDEBITAMOUNT
			  FROM FINSCHEDULEDETAILS
			  WHERE FINREFERENCE IN
			    (SELECT FINREFERENCE FROM FINANCEMAIN WHERE MANDATEID=M.MANDATEID
			    )
			  AND REPAYONSCHDATE =1
			  )/100 DEBITAMOUNT,
			  M.STARTDATE,
			  M.EXPIRYDATE,
			  FIN.APPLICATIONNO,
			  M.MANDATETYPE,
			  M.STATUS,
			  M.INPUTDATE,
			  M.RECORDSTATUS,
			  M.RECORDTYPE,
	      M.MANDATECCY,
	    COALESCE (CCY.CCYMINORCCYUNITS,100) CCYMINORCCYUNITS
			FROM MANDATES M
			INNER JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = M.BANKBRANCHID
			INNER JOIN BMTBANKDETAIL BD ON BD.BANKCODE=BB.BANKCODE 
			INNER JOIN CUSTOMERS CUST   ON CUST.CUSTID = M.CUSTID
	    INNER JOIN RMTBRANCHES CB ON CB.BRANCHCODE = CUST.CUSTDFTBRANCH 
	    LEFT OUTER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = M.MANDATECCY
			LEFT OUTER JOIN FINANCEMAIN FIN ON M.ORGREFERENCE=FIN.FINREFERENCE
	    LEFT JOIN RMTBRANCHES LB ON LB.BRANCHCODE = FIN.FINBRANCH 
			LEFT OUTER JOIN RMTFINANCETYPES FT ON FIN.FINTYPE =FT.FINTYPE 
			WHERE M.STATUS = 'NEW' AND M.MANDATEID NOT IN  (select MANDATEID FROM MANDATE_REQUESTS)
		</createView>
	</changeSet>
	
	<changeSet id="81" author="Manoj.p">
		<modifyDataType tableName="Mandates" columnName="REASON"
			newDataType="nvarchar(500)" />
	</changeSet>
	
	<changeSet id="82" author="Manoj.p">
		<modifyDataType tableName="MANDATE_REQUESTS" columnName="REJECT_REASON"
			newDataType="nvarchar(500)" />
	</changeSet>
	
	<changeSet id="83" author="Manoj.p">
		<modifyDataType tableName="MANDATE_RESPONSE" columnName="REJECT_REASON"
			newDataType="nvarchar(500)" />
	</changeSet>
	
	<changeSet id="84" author="Manoj.p">
		<modifyDataType tableName="Mandates_Temp" columnName="REASON"
			newDataType="nvarchar(500)" />
	</changeSet>
	<changeSet id="85" author="manoj.p" dbms="oracle">
		<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
			SELECT   
			   FA. PAYMENTID,
			   FA.FINREFERENCE,
			   CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
			   FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
			   FA.DISBDATE,
			    	  FA.LLDATE,
			   FA.PAYABLELOC,
			   FA.PRINTINGLOC,
			   CU.CUSTCIF,            
			   CU.CUSTSHRTNAME,     
			   CM.PHONECOUNTRYCODE||CM.PHONEAREACODE||CM.PHONENUMBER AS CUSTOMER_MOBILE,
			   CE.CUSTEMAIL       CUSTOMER_EMAIL,
			   CS.CPPROVINCENAME  CUSTOMER_STATE,
			   CC.PCCITYNAME      CUSTOMER_CITY,
			   ''                 CUSTOMER_ADDRESS1,
			   ''                 CUSTOMER_ADDRESS2,
			   ''                 CUSTOMER_ADDRESS3,
			   ''                 CUSTOMER_ADDRESS4,
			   ''                 CUSTOMER_ADDRESS5,
			   BD.BANKNAME,
			     BB.BRANCHCODE,
			   BB.BRANCHDESC,
			   BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
			   BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
			   BB.MICR             MICR_CODE,
			   BB.IFSC             IFSC_CODE,
			   FA.BENEFICIARYACCNO,
			   CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
			   FA.PHONECOUNTRYCODE||FA.PHONEAREACODE||FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
			   BCE.CUSTEMAIL        BENFICIRY_EMAIL,
			   BRS.CPPROVINCENAME  BENFICIARY_STATE,
			   BRC.PCCITYNAME      BENFICIARY_CITY,
			   ''                  BENFICIARY_ADDRESS1,
			   ''                  BENFICIARY_ADDRESS2,
			   ''                  BENFICIARY_ADDRESS3,
			   ''                  BENFICIARY_ADDRESS4,
			   ''                  BENFICIARY_ADDRESS5,
			   ''				          PAYMENT_DETAIL1,
			   ''                  PAYMENT_DETAIL2,
			   ''                  PAYMENT_DETAIL3,
			   ''                  PAYMENT_DETAIL4,
			   ''                  PAYMENT_DETAIL5,
			   ''                  PAYMENT_DETAIL6,
			   ''                  PAYMENT_DETAIL7,     
			   FA.STATUS           STATUS,
			   FA.DESCRIPTION      REMARKS,
			     FA.PAYMENTTYPE      PAYMENTTYPE,
			     FM.FINTYPE,
			     PB.PARTNERBANKID,
			     PB.PARTNERBANKCODE,
			     FA.INPUTDATE,
			     PB.ALWFILEDOWNLOAD,
			     FM.FINISACTIVE
			   FROM FINADVANCEPAYMENTS FA
			   INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = FA.FINREFERENCE
			   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
			   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
			     INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
			   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
			   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
			   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
			   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
			   LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
			   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
			   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
			   LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
			  LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
			   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
			   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
			   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
			   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
			   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
			   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
			   WHERE STATUS='Approved' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
		</createView>
	</changeSet>
	<changeSet id="85" author="manoj.p" dbms="mssql">
		<createView viewName="INT_DISBURSEMENT_REQUEST_VIEW" replaceIfExists="true">
			SELECT   
			   FA. PAYMENTID,
			   FA.FINREFERENCE,
			   CASE WHEN FA.PAYMENTTYPE = 'NEFT' THEN 'N' WHEN FA.PAYMENTTYPE = 'RTGS' THEN 'R' WHEN FA.PAYMENTTYPE = 'DD' THEN 'D' WHEN FA.PAYMENTTYPE = 'CHEQUE' THEN 'C' ELSE  FA.PAYMENTTYPE END  DISBURSEMENT_TYPE,
			   FA.AMTTOBERELEASED/CCY.CCYMINORCCYUNITS  AMTTOBERELEASED,
			   FA.DISBDATE,
			    	  FA.LLDATE,
			   FA.PAYABLELOC,
			   FA.PRINTINGLOC,
			   CU.CUSTCIF,            
			   CU.CUSTSHRTNAME,     
			   CM.PHONECOUNTRYCODE+CM.PHONEAREACODE+CM.PHONENUMBER AS CUSTOMER_MOBILE,
			   CE.CUSTEMAIL       CUSTOMER_EMAIL,
			   CS.CPPROVINCENAME  CUSTOMER_STATE,
			   CC.PCCITYNAME      CUSTOMER_CITY,
			   ''                 CUSTOMER_ADDRESS1,
			   ''                 CUSTOMER_ADDRESS2,
			   ''                 CUSTOMER_ADDRESS3,
			   ''                 CUSTOMER_ADDRESS4,
			   ''                 CUSTOMER_ADDRESS5,
			   BD.BANKNAME,
			     BB.BRANCHCODE,
			   BB.BRANCHDESC,
			   BBRS.CPPROVINCENAME  BENFICIARY_BRANCH_STATE,
			   BBRC.PCCITYNAME      BENFICIARY_BRANCH_CITY,
			   BB.MICR             MICR_CODE,
			   BB.IFSC             IFSC_CODE,
			   FA.BENEFICIARYACCNO,
			   CASE WHEN FA.PAYMENTTYPE = 'CHEQUE' OR  FA.PAYMENTTYPE = 'DD' THEN FA.LIABILITYHOLDNAME ELSE FA.BENEFICIARYNAME END BENEFICIARYNAME,
			   FA.PHONECOUNTRYCODE+FA.PHONEAREACODE+FA.PHONENUMBER AS BENEFICIARY_MOBILE, 
			   BCE.CUSTEMAIL        BENFICIRY_EMAIL,
			   BRS.CPPROVINCENAME  BENFICIARY_STATE,
			   BRC.PCCITYNAME      BENFICIARY_CITY,
			   ''                  BENFICIARY_ADDRESS1,
			   ''                  BENFICIARY_ADDRESS2,
			   ''                  BENFICIARY_ADDRESS3,
			   ''                  BENFICIARY_ADDRESS4,
			   ''                  BENFICIARY_ADDRESS5,
			   ''				          PAYMENT_DETAIL1,
			   ''                  PAYMENT_DETAIL2,
			   ''                  PAYMENT_DETAIL3,
			   ''                  PAYMENT_DETAIL4,
			   ''                  PAYMENT_DETAIL5,
			   ''                  PAYMENT_DETAIL6,
			   ''                  PAYMENT_DETAIL7,     
			   FA.STATUS           STATUS,
			   FA.DESCRIPTION      REMARKS,
			     FA.PAYMENTTYPE      PAYMENTTYPE,
			     FM.FINTYPE,
			     PB.PARTNERBANKID,
			     PB.PARTNERBANKCODE,
			     FA.INPUTDATE,
			     PB.ALWFILEDOWNLOAD,
			     FM.FINISACTIVE
			   FROM FINADVANCEPAYMENTS FA
			   INNER JOIN FINANCEMAIN FM ON FM.FINREFERENCE = FA.FINREFERENCE
			   INNER JOIN CUSTOMERS CU ON CU.CUSTID = FM.CUSTID
			   INNER JOIN RMTCURRENCIES CCY ON CCY.CCYCODE = FA.DISBCCY
			     INNER JOIN PARTNERBANKS PB ON PB.PARTNERBANKID = FA.PARTNERBANKID
			   LEFT JOIN CUSTOMEREMAILS CE ON CE.CUSTID = CU.CUSTID AND CE.CUSTEMAILPRIORITY = 3
			   LEFT JOIN CUSTOMERADDRESSES CA ON CA.CUSTID = CE.CUSTID AND CA.CUSTADDRPRIORITY = 5
			   LEFT JOIN RMTPROVINCEVSCITY CC ON CC.PCCITY = CA.CUSTADDRCITY
			   LEFT JOIN RMTCOUNTRYVSPROVINCE CS ON CS.CPPROVINCE = CC.PCPROVINCE
			   LEFT JOIN CUSTOMERPHONENUMBERS CM ON CM.PHONECUSTID = CU.CUSTID AND CM.PHONETYPECODE = 'MOBILE1' AND CM.PHONETYPEPRIORITY = 5  
			   LEFT JOIN BANKBRANCHES BB ON BB.BANKBRANCHID = FA.BANKBRANCHID
			   LEFT JOIN BMTBANKDETAIL BD ON BD.BANKCODE = BB.BANKCODE
			   LEFT JOIN RMTPROVINCEVSCITY BBRC ON BBRC.PCCITY = BB.CITY
			  LEFT JOIN RMTCOUNTRYVSPROVINCE BBRS ON BBRS.CPPROVINCE = BBRC.PCPROVINCE
			   LEFT JOIN BENEFICIARY BR ON BR.BANKBRANCHID = FA.BANKBRANCHID AND BR.ACCNUMBER = FA.BENEFICIARYACCNO
			   LEFT JOIN CUSTOMERS BC ON BC.CUSTID = BR.CUSTID
			   LEFT JOIN CUSTOMEREMAILS BCE ON BCE.CUSTID = CU.CUSTID AND BCE.CUSTEMAILPRIORITY = 3
			   LEFT JOIN CUSTOMERADDRESSES BRCA ON BRCA.CUSTID = BR.CUSTID AND BRCA.CUSTADDRPRIORITY = 5
			   LEFT JOIN RMTPROVINCEVSCITY BRC ON BRC.PCCITY = BRCA.CUSTADDRCITY
			   LEFT JOIN RMTCOUNTRYVSPROVINCE BRS ON BRS.CPPROVINCE = BRC.PCPROVINCE
			   WHERE STATUS='Approved' AND PAYMENTID NOT IN (SELECT DISBURSEMENT_ID FROM DISBURSEMENT_REQUESTS)
		</createView>
	</changeSet>
	<changeSet id="86" author="manoj.p">
		<sql>
			DELETE FROM DATA_ENGINE_LOG WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT');
			DELETE FROM DATA_ENGINE_DOWNLOAD_HISTORY WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT');
			DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_EXPORT';
			
			DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT'));
			DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT');
			DELETE FROM DATA_ENGINE_CONFIG where Name = 'MANDATES_EXPORT';
			
			INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'MANDATES_EXPORT', 'Mandates export', 3, 'Mandates', NULL, NULL, NULL , 0, 0, NULL, 'Row:{INSTRUMENT AUTO DATA ENTRY REPORT}Row:{User:${USER_ID}}Row:{Business Date:${SYS_DATE_DD-MMM-YYYY}}Row:{Branch Name:${FILTER_BRANCHCODE}}Row:{FromDate:${FILTER_FROMDATE},  ToDate:${FILTER_TODATE}}ROW:{EMPTY_ROW}ROW:{Mandate Sequence No.,Customer Name,Branch,Product,Application ID,LAN No.,EMI Amount,Open Flag,Account Holder Name,MICR Code,Account No.,Account Type,Updation Date,User ID,First Due Date,EMI End Date,Open End Date,Open Upper Limit,Bank Name,Mandate Debit Amount,Start Date,End Date,Application Form No.,Customer Code,Repayment Mode,Mandate No.}',  '', 'A', '/opt/PFF/mandates/request', 'MANDATE_', '.XLSX', 0, NULL, '${ddMMYYYYHms}', NULL, 0, NULL, 1, 1); 
			INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT'), 'MANDATE_REQUESTS',  0, 'ID', 'ID IN (:ID)', 'UPDATE MANDATE_REQUESTS SET BATCH_ID = :FILEID, STATUS = ''AC'' WHERE ID IN (:ID)QUERY:UPDATE MANDATES SET STATUS = ''AC'' WHERE MANDATEID IN (SELECT MANDATEID FROM MANDATE_REQUESTS WHERE ID IN (:ID) AND STATUS = ''AC'')', NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
			
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BANK_SEQ',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);	
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'CUSTOMER_NAME',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BRANCH_NAME',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'FINTYPE',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'APPLICATION_NUMBER',	0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'FINREFERENCE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EMI',					0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'OPENFLAG',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_HOLDER_NAME',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MICR_CODE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_NUMBER',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'ACCT_TYPE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EXTRACTION_DATE',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'USERNAME',				1, 'N', NULL, NULL, '${USER_NAME}', NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EFFECTIVE_DATE',		0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'EMI_ENDDATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'OPEN_ENDDATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'UPPER_LIMIT',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'BANK_NAME',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'DEBIT_AMOUNT',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'START_DATE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'END_DATE',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, 'DATE:dd-MMM-yyyy');
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'APPLICATION_NUMBER',	0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'CUSTCIF',				0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MANDATE_TYPE',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_REQUESTS' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_EXPORT')),	'MANDATEID',			0, 'N', NULL, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL);
			
			
			UPDATE SEQ_DATA_ENGINE_CONFIG SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_CONFIG);
			UPDATE SEQ_DATA_ENGINE_TABLE  SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_TABLE);
			UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN);
			UPDATE SEQ_DATA_ENGINE_STATUS SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_STATUS);
			
			DELETE FROM DATA_ENGINE_PROCESS_LOG WHERE FILEID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_LOG WHERE ID IN (SELECT ID FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_STATUS WHERE NAME ='MANDATES_IMPORT';
			
			DELETE FROM DATA_ENGINE_COLUMN where TABLEID IN (select ID from DATA_ENGINE_TABLE WHERE CONFIGID = (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT'));
			DELETE FROM DATA_ENGINE_TABLE where CONFIGID IN (select ID from DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT');
			DELETE FROM DATA_ENGINE_CONFIG where Name = 'MANDATES_IMPORT';
			
			INSERT INTO DATA_ENGINE_CONFIG VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_CONFIG),'MANDATES_IMPORT', 'Mandate Response file', 1, NULL, NULL, NULL, ',' , 0, 0, NULL, NULL,  '', 'C', '/opt/PFF/mandates/response', 'Mandate_Import', '.CSV', 0, NULL, NULL, NULL, 0, NULL, 1, 1); 
			
			INSERT INTO DATA_ENGINE_TABLE  VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_TABLE), (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT'), 'MANDATE_RESPONSE',  1, 'ID', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0, 0, 0);
			
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'FINREFERENCE',			0, 'N', NULL, NULL,	NULL, 			NULL, 		0, 		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'CUSTCIF',				0, 'N', NULL, NULL,	NULL, 			NULL, 		1, 		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MICR_CODE',			0, 'N', NULL, NULL,	NULL, 			NULL, 		3, 		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'ACCT_NUMBER',			0, 'N', NULL, NULL,	NULL, 			NULL, 		4, 		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'OPENFLAG',				0, 'N', NULL, NULL,	NULL, 			NULL, 		9, 		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MANDATE_TYPE',			0, 'N', NULL, NULL,	NULL, 			NULL, 		14, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MANDATEID',			0, 'N', NULL, NULL,	NULL, 			NULL, 		15, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'MANDATE_REG_NO',		0, 'N', NULL, NULL,	NULL, 			NULL, 		11, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'STATUS',				0, 'N', NULL, NULL,	NULL, 			NULL, 		12, 	NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'REMARKS',				0, 'N', NULL, NULL,	NULL, 			NULL, 		13,		NULL, NULL, NULL, NULL);
			INSERT INTO DATA_ENGINE_COLUMN VALUES ((SELECT COALESCE(MAX(ID), 0) + 1 FROM DATA_ENGINE_COLUMN),(Select Id FROM DATA_ENGINE_TABLE WHERE Name = 'MANDATE_RESPONSE' and CONFIGID = (Select Id FROM DATA_ENGINE_CONFIG WHERE Name = 'MANDATES_IMPORT')),		'RESP_BATCH_ID',		0, 'N', NULL, NULL, '${FILE_ID}', 	NULL, 		0, 		NULL, NULL, NULL, NULL);
			
			UPDATE SEQ_DATA_ENGINE_CONFIG SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_CONFIG);
			UPDATE SEQ_DATA_ENGINE_TABLE  SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_TABLE);
			UPDATE SEQ_DATA_ENGINE_COLUMN SET SeqNo=(Select coalesce(MAX(ID), 1) FROM DATA_ENGINE_COLUMN);
			
		</sql>
	</changeSet>
		
	
	<changeSet id="87" author="Vinay">
	<createView viewName="BuilderGroup_View" replaceIfExists="true">
		SELECT		T1.Id, T1.Name, T1.Segmentation	,T2.ValueDesc SegmentationName	
		, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM    	BuilderGroup_Temp  T1 INNER JOIN
		RMTLovFieldDetail   T2 ON T1.Segmentation = T2.FIELDCODEVALUE
		UNION ALL

		SELECT		T1.Id, T1.Name, T1.Segmentation,T2.ValueDesc SegmentationName		
		, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM    	BuilderGroup  T1 INNER JOIN
		RMTLovFieldDetail   T2 ON T1.Segmentation = T2.FIELDCODEVALUE
		WHERE     NOT EXISTS (SELECT 1 FROM BuilderGroup_TEMP WHERE Id = T1.Id)

	</createView>
</changeSet>

	<changeSet id="88" author="Vinay">
		<createView viewName="BuilderGroup_AView" replaceIfExists="true">
		SELECT		T1.Id, T1.Name, T1.Segmentation,T2.ValueDesc SegmentationName		
		, T1.Version , T1.LastMntBy, T1.LastMntOn,T1.RecordStatus, T1.RoleCode, T1.NextRoleCode, T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM    	BuilderGroup  T1 INNER JOIN
		RMTLovFieldDetail   T2 ON T1.Segmentation = T2.FIELDCODEVALUE
		</createView>
	</changeSet>
	<changeSet id="89" author="pruthvi" dbms="oracle">
		<sql>
		alter table finrepayheader_Temp modify SCHDREGENERATED default null;
update finrepayheader_Temp set SCHDREGENERATED = 0 where SCHDREGENERATED is null;
create table sai_temp as select * from finrepayheader_Temp;
alter table finrepayheader_Temp modify (SCHDREGENERATED NULL);
update finrepayheader_Temp set SCHDREGENERATED = null;
alter table finrepayheader_Temp modify SCHDREGENERATED number(1);
update finrepayheader_Temp m set (m.SCHDREGENERATED) = (select t.SCHDREGENERATED from sai_temp t where t.REPAYID = m.REPAYID and t.RECEIPTSEQID = m.RECEIPTSEQID) where exists (select 1 from sai_temp t where t.REPAYID = m.REPAYID and t.RECEIPTSEQID = m.RECEIPTSEQID);
alter table finrepayheader_Temp modify SCHDREGENERATED number(1) not null;
drop table sai_temp;	
	</sql>
		</changeSet>
			<changeSet id="90" author="pruthvi" dbms="oracle">
		<sql>
		alter table finrepayheader modify SCHDREGENERATED default null;
update finrepayheader set SCHDREGENERATED = 0 where SCHDREGENERATED is null;
create table sai_temp as select * from finrepayheader;
alter table finrepayheader modify (SCHDREGENERATED NULL);
update finrepayheader set SCHDREGENERATED = null;
alter table finrepayheader modify SCHDREGENERATED number(1);
update finrepayheader m set (m.SCHDREGENERATED) = (select t.SCHDREGENERATED from sai_temp t where t.REPAYID = m.REPAYID and t.RECEIPTSEQID = m.RECEIPTSEQID) where exists (select 1 from sai_temp t where t.REPAYID = m.REPAYID and t.RECEIPTSEQID = m.RECEIPTSEQID);
alter table finrepayheader modify SCHDREGENERATED number(1) not null;
drop table sai_temp;
	</sql>
		</changeSet>
	<changeSet id="89" author="pruthvi" dbms="mssql">
		<sql>
		update finrepayheader_Temp set SCHDREGENERATED = 0 where SCHDREGENERATED is null;
alter table finrepayheader_Temp alter column SCHDREGENERATED bit not null;
		</sql>
		</changeSet>
<changeSet id="90" author="pruthvi" dbms="mssql">
<sql>
update finrepayheader set SCHDREGENERATED = 0 where SCHDREGENERATED is null;
alter table finrepayheader alter column SCHDREGENERATED bit not null;
</sql>
</changeSet>
<changeSet id="90" author="pruthvi" dbms="postgresql">
<sql>
ALTER TABLE finrepayheader ALTER COLUMN schdregenerated TYPE smallint using (schdregenerated::integer); 
ALTER TABLE finrepayheader_temp ALTER COLUMN schdregenerated TYPE smallint using (schdregenerated::integer);
</sql>
</changeSet>
<changeSet id="91" author="Surekha">
		<sql>
		delete REPORTLIST where Code='AccountMapping';
			Insert INTO REPORTLIST (CODE,MODULE,FIELDLABELS,FIELDVALUES,FIELDTYPE,ADDFIELDS,REPORTFILENAME,REPORTHEADING,MODULETYPE,VERSION,LASTMNTBY,LASTMNTON,RECORDSTATUS,ROLECODE,NEXTROLECODE,TASKID,NEXTTASKID,RECORDTYPE,WORKFLOWID,FORMATREQ) 
      			values ('AccountMapping','AccountMapping','label_AccountMapping.Account,label_AccountMapping.HostAccount,label_AccountMapping.AccountType,listheader_RecordStatus.label,listheader_RecordType.label','account,hostAccount,accountType,recordStatus,recordType','String,String,String,String,String',' ','ReportList05','SAP GL Mapping','Application Masters',2,1001,CURRENT_TIMESTAMP,'Approved',' ',' ',' ',' ',' ',0,0);
		</sql>
	</changeSet>
	
	
<changeSet id="92" author="Durgaprasad G">
	<dropTable tableName="PaymentDeatils"/>
	<dropTable tableName="PaymentDeatils_Temp"/>
	<dropTable tableName="PaymentInstructions"/>
	<dropTable tableName="PaymentInstructions_Temp"/>
	<dropTable tableName="PaymentHeader"/>
	<dropTable tableName="PaymentHeader_Temp"/>
</changeSet>
	
<changeSet id="93" author="Durgaprasad G">
        <createTable tableName="PaymentHeader">
			<column name="PaymentId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PH_PID" nullable="false"/>
			</column>
			<column name="FinReference" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="PaymentType" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="PaymentAmount" type="decimal(18,2)">
				<constraints nullable="false" />
			</column>
			<column name="CreatedOn" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="ApprovedOn" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="Status" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="94" author="Durgaprasad G">
		<createTable tableName="PaymentHeader_Temp">
			<column name="PaymentId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PH_TEMP_PID" nullable="false"/>
			</column>
			<column name="FinReference" type="varchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="PaymentType" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="PaymentAmount" type="decimal(18,2)">
				<constraints nullable="false" />
			</column>
			<column name="CreatedOn" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="ApprovedOn" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="Status" type="char(1)">
				<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="95" author="Durgaprasad G">
		<createTable tableName="PaymentDeatils">
			<column name="PaymentDetailId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PD_PDID" nullable="false"/>
			</column>
			<column name="PaymentId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="AmountType" type="char(1)" />
			<column name="Amount" type="decimal(18,2)"  />
			<column name="Reference" type="bigint" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="96" author="Durgaprasad G">
		<addForeignKeyConstraint constraintName="FK_PD_PID"
			referencedTableName="PaymentHeader" referencedColumnNames="PaymentId"
			baseTableName="PaymentDeatils" baseColumnNames="PaymentId" />
	</changeSet>
	
	<changeSet id="97" author="Durgaprasad G">
		<createTable tableName="PaymentDeatils_Temp">
			<column name="PaymentDetailId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PD_TEMP_PDID" nullable="false"/>
			</column>
			<column name="PaymentId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="AmountType" type="char(1)" />
			<column name="Amount" type="decimal(18,2)"  />
			<column name="Reference" type="bigint" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
   </changeSet>		 	

   <changeSet id="98" author="Durgaprasad G">
		<createTable tableName="PaymentInstructions">
			<column name="PaymentInstructionId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PI_PIID" nullable="false"/>
			</column>
			<column name="PaymentId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="PaymentType" type="char(1)" />
			<column name="PaymentAmount" type="decimal(18,2)"  />
			<column name="PaymentCCy" type="varchar(3)"  />
			<column name="BankCode" type="varchar(8)"  />
			<column name="FavourName" type="varchar(200)"  />
			<column name="FavourNumber" type="nvarchar(100)"  />
			<column name="PayableLoc" type="nvarchar(50)"  />
			<column name="PrintingLoc" type="nvarchar(50)"  />
			<column name="ValueDate" type="datetime"  />
			<column name="PostDate" type="datetime"  />
			<column name="BankBranchID" type="bigInt"  />
			<column name="AcctHolderName" type="nvarchar(200)"  />
			<column name="AccountNo" type="varchar(100)"  />
			<column name="PhoneCountryCode" type="varchar(5)"  />
			<column name="PhoneNumber" type="varchar(12)"  />
			<column name="Clearingdate" type="datetime"  />
			<column name="Remarks" type="varchar(100)"  />
			<column name="Active" type="Char(1)"  />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	
	<changeSet id="99" author="Durgaprasad G">
		<addForeignKeyConstraint constraintName="FK_PI_PID"
			referencedTableName="PaymentHeader" referencedColumnNames="PaymentId"
			baseTableName="PaymentInstructions" baseColumnNames="PaymentId" />
	</changeSet>
	
	<changeSet id="100" author="Durgaprasad G" dbms="oracle">
		<createTable tableName="PaymentInstructions_Temp">
			<column name="PaymentInstructionId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PI_TEMP_PIID" nullable="false"/>
			</column>
			<column name="PaymentId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="PaymentType" type="char(1)" />
			<column name="PaymentAmount" type="decimal(18,2)"  />
			<column name="PaymentCCy" type="varchar(3)"  />
			<column name="BankCode" type="varchar(8)"  />
			<column name="FavourName" type="varchar(200)"  />
			<column name="FavourNumber" type="nvarchar(100)"  />
			<column name="PayableLoc" type="nvarchar(50)"  />
			<column name="PrintingLoc" type="nvarchar(50)"  />
			<column name="ValueDate" type="datetime"  />
			<column name="PostDate" type="datetime"  />
			<column name="BankBranchID" type="bigInt"  />
			<column name="AcctHolderName" type="nvarchar(200)"  />
			<column name="AccountNo" type="varchar(100)"  />
			<column name="PhoneCountryCode" type="varchar(5)"  />
			<column name="PhoneNumber" type="varchar(12)"  />
			<column name="Clearingdate" type="datetime"  />
			<column name="Remarks" type="varchar(100)"  />
			<column name="Active" type="Char(1)"  />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="100" author="Durgaprasad G" dbms="mssql">
		<createTable tableName="PaymentInstructions_Temp">
			<column name="PaymentInstructionId" type="bigint">
				<constraints primaryKey="true" primaryKeyName="PK_PI_TEMP_PIID" nullable="false"/>
			</column>
			<column name="PaymentId" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="PaymentType" type="char(1)" />
			<column name="PaymentAmount" type="decimal(18,2)"  />
			<column name="PaymentCCy" type="varchar(3)"  />
			<column name="BankCode" type="varchar(8)"  />
			<column name="FavourName" type="varchar(200)"  />
			<column name="FavourNumber" type="nvarchar(100)"  />
			<column name="PayableLoc" type="nvarchar(50)"  />
			<column name="PrintingLoc" type="nvarchar(50)"  />
			<column name="ValueDate" type="datetime"  />
			<column name="PostDate" type="datetime"  />
			<column name="BankBranchID" type="bigInt"  />
			<column name="AcctHolderName" type="nvarchar(200)"  />
			<column name="AccountNo" type="varchar(100)"  />
			<column name="PhoneCountryCode" type="varchar(5)"  />
			<column name="PhoneNumber" type="varchar(12)"  />
			<column name="Clearingdate" type="datetime"  />
			<column name="Remarks" type="varchar(100)"  />
			<column name="Active" type="Char(1)"  />
			<column name="Version" type="int" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="varchar(50)" />
			<column name="RoleCode" type="varchar(100)" />
			<column name="NextRoleCode" type="varchar(200)" />
			<column name="TaskId" type="varchar(50)" />
			<column name="NextTaskId" type="varchar(200)" />
			<column name="RecordType" type="varchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>
	<changeSet id="101" author="Durgaprasad g">
		<createView viewName="PaymentHeader_View" replaceIfExists="true">
		SELECT	 T1.PaymentId, T1.FinReference, T1.PaymentType, T1.PaymentAmount, T1.CreatedOn,  T1.ApprovedOn, T1.Status, 
				 T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode,
				 T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM     PaymentHeader_Temp  T1 
		UNION ALL
		SELECT	 T1.PaymentId, T1.FinReference, T1.PaymentType, T1.PaymentAmount, T1.CreatedOn,  T1.ApprovedOn, T1.Status,
				 T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode,
				 T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM     PaymentHeader  T1  
		WHERE NOT EXISTS ( SELECT 1  FROM PaymentHeader_Temp WHERE PaymentId = T1.PaymentId)
		</createView>
	</changeSet>
	
	<changeSet id="102" author="Durgaprasad g">
		<createView viewName="PaymentHeader_AView" replaceIfExists="true">
		 SELECT	 PaymentId, FinReference, PaymentType, PaymentAmount, CreatedOn,  ApprovedOn, Status,
				 Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode,
				 TaskId, NextTaskId, RecordType, WorkflowId
		FROM     PaymentHeader
		</createView>
	</changeSet>
	
	<changeSet id="103" author="Durgaprasad g">
		<createView viewName="PaymentDeatils_View" replaceIfExists="true">
		SELECT	 T1.PaymentDetailId, T1.PaymentId, T1.AmountType, T1.Amount, T1.Reference,
				 T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode,
				 T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM     PaymentDeatils_Temp  T1 
		UNION ALL
		SELECT	 T1.PaymentDetailId, T1.PaymentId, T1.AmountType, T1.Amount, T1.Reference,
				 T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode,
				 T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM     PaymentDeatils  T1  
		WHERE NOT EXISTS ( SELECT 1  FROM PaymentDeatils_Temp WHERE PaymentDetailId = T1.PaymentDetailId)
		</createView>
	</changeSet>
	
	<changeSet id="104" author="Durgaprasad g">
		<createView viewName="PaymentDeatils_AView" replaceIfExists="true">
		SELECT	 PaymentDetailId, PaymentId, AmountType, Amount, Reference,
				 Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode,
				 TaskId, NextTaskId, RecordType, WorkflowId
		FROM     PaymentDeatils
		</createView>
	</changeSet>
	
	<changeSet id="105" author="Durgaprasad g">
		<createView viewName="PaymentInstructions_View" replaceIfExists="true">
		SELECT	 T1.PaymentInstructionId, T1.PaymentId, T1.PaymentType, T1.PaymentAmount, T1.Remarks, T1.BankCode, 
				 T1.FavourName, T1.FavourNumber, T1.PayableLoc, T1.PrintingLoc, T1.ValueDate, T1.PostDate,
				 T1.BankBranchID, T1.AcctHolderName, T1.AccountNo, T1.PhoneCountryCode, T1.PhoneNumber, 
				 T1.Clearingdate, T1.Active, T1.PaymentCCy,
				 T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode,
				 T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM     PaymentInstructions_Temp  T1 
		UNION ALL
		SELECT	 T1.PaymentInstructionId, T1.PaymentId, T1.PaymentType, T1.PaymentAmount, T1.Remarks, T1.BankCode, 
				 T1.FavourName, T1.FavourNumber, T1.PayableLoc, T1.PrintingLoc, T1.ValueDate, T1.PostDate,
				 T1.BankBranchID, T1.AcctHolderName, T1.AccountNo, T1.PhoneCountryCode, T1.PhoneNumber, 
				 T1.Clearingdate, T1.Active, T1.PaymentCCy,
				 T1.Version, T1.LastMntBy, T1.LastMntOn, T1.RecordStatus, T1.RoleCode, T1.NextRoleCode,
				 T1.TaskId, T1.NextTaskId, T1.RecordType, T1.WorkflowId
		FROM     PaymentInstructions  T1  
		WHERE NOT EXISTS ( SELECT 1  FROM PaymentInstructions_Temp WHERE PaymentInstructionId = T1.PaymentInstructionId)
		</createView>
	</changeSet>
	
	<changeSet id="106" author="Durgaprasad g">
		<createView viewName="PaymentInstructions_AView" replaceIfExists="true">
		SELECT   PaymentInstructionId, PaymentId, PaymentType, PaymentAmount, Remarks, BankCode, 
				 FavourName, FavourNumber, PayableLoc, PrintingLoc, ValueDate, PostDate,
				 BankBranchID, AcctHolderName, AccountNo, PhoneCountryCode, PhoneNumber, 
				 Clearingdate, Active, PaymentCCy,
				 Version, LastMntBy, LastMntOn, RecordStatus, RoleCode, NextRoleCode,
				 TaskId, NextTaskId, RecordType, WorkflowId
		FROM     PaymentInstructions
		</createView>
	</changeSet>
	
	<changeSet id="107" author="Madhubabu">
	<sql>
	delete from BMTAEEvents  where AEEventCode='MANFEE';
	Insert into BMTAEEvents values ('MANFEE','Fee Posting',0,1000,CURRENT_TIMESTAMP,'Approved',null,null,null,null,null,0,1,1,1);
	</sql>
	
	</changeSet>
	<changeSet id="108" author="DDP">
	<sql>
update finadvancepayments set disbccy='INR' where disbccy is null;
update finadvancepayments set lldate=CURRENT_TIMESTAMP where lldate is null;
</sql>
	
	</changeSet>
</databaseChangeLog>