<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
 
			
			
	<changeSet author="durgaprasad.g" id="01">
	
		<createTable tableName="AdtFinTypeVASProducts">
			<column name="AuditId" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="AuditDate" type="datetime">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="AuditSeq" type="int">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="AuditImage" type="varchar(2)">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="FinType" type="nvarchar(8)">
			<constraints nullable="false" />
			</column>
			<column name="VasProduct" type="nvarchar(8)">
			<constraints nullable="false" />
			</column>
			<column name="Mandatory" type="boolean" >
			<constraints nullable="false" />
			</column>
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
		
	</changeSet>
	<changeSet  author="Irfan" id="02">
	<modifyDataType tableName="AdtFinTypeVASProducts" columnName="Mandatory" newDataType="nvarchar(8)"/>
	</changeSet>
	
	<changeSet author="Siva" id="03">
		<addColumn tableName="AdtFinanceMain">
			<column name="UnPlanEMIHLockPeriod" type="int" />
			<column name="UnPlanEMICpz" type="boolean" />
			<column name="ReAgeCpz" type="boolean" />
			<column name="MaxUnplannedEmi" type="int" />
			<column name="MaxReAgeHolidays" type="int" />
		</addColumn>
	</changeSet>
	
	<changeSet id="04" author="Surekha">
		<addColumn tableName="AdtRMTBranches">
			<column name="BankRefNo" type="varchar(20)" />
		</addColumn>
	</changeSet>
	<changeSet id="05" author="Prasad">
		<dropView viewName="RPT_FinancesOpened_View" />
</changeSet>
<changeSet id="06" author="Prasad">
		<dropView viewName="Rpt_AdtSecUser_Add_View" />
</changeSet>
<changeSet id="07" author="Prasad">
		<dropView viewName="Rpt_AdtSecUser_Del_View" />
</changeSet>
<changeSet id="08" author="Prasad">
		<dropView viewName="Rpt_AdtSecUser_Modf_View" />
</changeSet>
<changeSet id="09" author="Surekha">
	<addColumn tableName="AdtRMTProvinceVsCity">
		<column name="BankRefNo" type="varchar(20)" />
	</addColumn>
</changeSet>
<changeSet id="10" author="Surekha">
	<addColumn tableName="AdtEmployerDetail">
		<column name="BankRefNo" type="varchar(20)" />
	</addColumn>
</changeSet>
	<changeSet id="11" author="Surekha">
		<addColumn tableName="AdtRMTCountryVsProvince">
			<column name="BankRefNo" type="varchar(20)" />
		</addColumn>
	</changeSet>
	<changeSet  author="Irfan" id="12">
	<modifyDataType tableName="AdtFinTypeVASProducts" columnName="Mandatory" newDataType="nvarchar(1)"/>
	</changeSet>
	<!-- <changeSet  author="Irfan" id="13">
	<addNotNullConstraint tableName="AdtFinTypeVASProducts" columnName="Mandatory" columnDataType="nvarchar(1)"/>
	</changeSet> -->
	<changeSet author="ManojVarma" id="14">
	<createTable tableName="AdtFinTypeFees">
		<column name="AuditId" type="bigint">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="AuditDate" type="datetime">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="AuditSeq" type="int">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="AuditImage" type="varchar(2)">
			<constraints primaryKey="true" nullable="false" />
		</column>
		<column name="FinType" type="nvarchar(8)">
			<constraints nullable="false" />
		</column>
		<column name="OriginationFee" type="nchar(1)">
			<constraints nullable="false" />
		</column>
		<column name="FinEvent" type="nvarchar(8)">
			<constraints nullable="false" />
		</column>
		<column name="FeeTypeID" type="bigint">
			<constraints nullable="false" />
		</column>
		<column name="FeeOrder" type="bigint">
			<constraints nullable="false" />
		</column>
		<column name="FeeScheduleMethod" type="nvarchar(8)" />
		<column name="CalculationType" type="nvarchar(8)" />
		<column name="RuleCode" type="nvarchar(8)" />
		<column name="Amount" type="decimal(18,0)" />
		<column name="Percentage" type="decimal(5,2)" />
		<column name="CalculateOn" type="nvarchar(8)" />
		<column name="AlwDeviation" type="nchar(1)" />
		<column name="MaxWaiverPerc" type="decimal(5,2)" />
		<column name="AlwModifyFee" type="nchar(1)" />
		<column name="AlwModifyFeeSchdMthd" type="nchar(1)" />
		<column name="Active" type="nchar(1)" />
		<column name="Version" type="int" defaultValue="0" />
		<column name="LastMntBy" type="bigint" />
		<column name="LastMntOn" type="datetime" />
		<column name="RecordStatus" type="nvarchar(50)" />
		<column name="RoleCode" type="nvarchar(100)" />
		<column name="NextRoleCode" type="nvarchar(200)" />
		<column name="TaskId" type="nvarchar(50)" />
		<column name="NextTaskId" type="nvarchar(200)" />
		<column name="RecordType" type="nvarchar(50)" />
		<column name="WorkflowId" type="bigint" />
	</createTable>
</changeSet>
	<changeSet author="ManojVarma" id="15">
		<createTable tableName="AdtFinFeeDetail">
			<column name="AuditId" type="bigint">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="AuditDate" type="datetime">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="AuditSeq" type="int">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="AuditImage" type="varchar(2)">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="FinReference" type="nvarchar(20)">
				<constraints nullable="false" />
			</column>
			<column name="OriginationFee" type="nchar(1)">
				<constraints nullable="false" />
			</column>
			<column name="FinEvent" type="nvarchar(8)">
				<constraints nullable="false" />
			</column>
			<column name="FeeTypeID" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="FeeOrder" type="bigint">
				<constraints nullable="false" />
			</column>
			<column name="CalculatedAmount" type="decimal(18,0)" />
			<column name="ActualAmount" type="decimal(18,0)" />
			<column name="WaivedAmount" type="decimal(18,0)" />
			<column name="PaidAmount" type="decimal(18,0)" />
			<column name="Terms" type="int" />
			<column name="RemainingFee" type="decimal(18,0)" />
			<column name="PaymentRef" type="nvarchar(20)" />
			<column name="FeeScheduleMethod" type="nvarchar(8)" />
			<column name="CalculationType" type="nvarchar(8)" />
			<column name="RuleCode" type="nvarchar(8)" />
			<column name="FixedAmount" type="decimal(18,0)" />
			<column name="Percentage" type="decimal(5,2)" />
			<column name="CalculateOn" type="nvarchar(8)" />
			<column name="AlwDeviation" type="nchar(1)" />
			<column name="MaxWaiverPerc" type="decimal(5,2)" />
			<column name="AlwModifyFee" type="nchar(1)" />
			<column name="AlwModifyFeeSchdMthd" type="nchar(1)" />
			<column name="Version" type="int" defaultValue="0" />
			<column name="LastMntBy" type="bigint" />
			<column name="LastMntOn" type="datetime" />
			<column name="RecordStatus" type="nvarchar(50)" />
			<column name="RoleCode" type="nvarchar(100)" />
			<column name="NextRoleCode" type="nvarchar(200)" />
			<column name="TaskId" type="nvarchar(50)" />
			<column name="NextTaskId" type="nvarchar(200)" />
			<column name="RecordType" type="nvarchar(50)" />
			<column name="WorkflowId" type="bigint" />
		</createTable>
	</changeSet>		
	
	
	<changeSet author="SreeRavali" id="16">
		<addColumn tableName="AdtVASRecording">
			<column name="VasStatus" type="nvarchar(1)" />
			<column name="FinanceProcess" type="boolean" />
		</addColumn>
	</changeSet>
	
	<changeSet author="SreeRavali" id="17">
		<update tableName="AdtVASRecording">
			<column name="FinanceProcess">0</column>
		</update>
	</changeSet>
	
	<changeSet author="kesava" id="18">
		<addColumn tableName="AdtRules">
			<column name="FeeTypeID" type="bigint" />
		</addColumn>
	</changeSet>
	<changeSet id="19" author="Irfan">
	<addColumn tableName="AdtExtendedFieldDetail">
		<column name="MultiLine" type="int"/>
	</addColumn>
	</changeSet>
	<changeSet author="Irfan" id="20">
	<addDefaultValue tableName="AdtExtendedFieldDetail"
		defaultValueNumeric="0" columnName="MultiLine" columnDataType="int" />
	</changeSet>
	<changeSet id="21" author="Madhubabu">
	<dropNotNullConstraint tableName="AdtTakafulProvider"
		columnName="AccountNumber" columnDataType="nvarchar(50)" />
	</changeSet>
</databaseChangeLog>
