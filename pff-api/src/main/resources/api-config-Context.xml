<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:tx="http://www.springframework.org/schema/tx" xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/aop
		http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
		http://www.springframework.org/schema/tx
		http://www.springframework.org/schema/tx/spring-tx-3.0.xsd">

	<!-- Security -->

	<bean id="serverAuthDAO" class="com.pennanttech.ws.auth.dao.impl.ServerAuthDAOImpl"
		parent="basisCodeDAO">
		<property name="dataSource" ref="secDatasource" />
	</bean>

	<bean id="serverAuthService"
		class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager">
			<ref bean="pfsTransactionManager" />
		</property>
		<property name="target">
			<ref bean="ServerAuthServiceTarget" />
		</property>
		<property name="transactionAttributes">
			<props>
				<prop key="saveOrUpdate*">PROPAGATION_REQUIRED</prop>
				<prop key="delete*">PROPAGATION_REQUIRED</prop>
				<prop key="doApprove*">PROPAGATION_REQUIRED</prop>
				<prop key="doReject*">PROPAGATION_REQUIRED</prop>
				<prop key="changePassword*">PROPAGATION_REQUIRED</prop>
				<prop key="*">PROPAGATION_REQUIRED,readOnly</prop>
			</props>
		</property>
	</bean>

	<bean name="ServerAuthServiceTarget"
		class="com.pennanttech.ws.auth.service.impl.ServerAuthServiceImpl">
		<property name="serverAuthDAO" ref="serverAuthDAO" />
	</bean>
	<bean id="userAuthDAO" class="com.pennanttech.ws.auth.dao.impl.UserAuthDAOImpl"
		parent="basisCodeDAO">
		<property name="dataSource" ref="secDatasource" />
	</bean>

	<bean id="userAuthService"
		class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager">
			<ref bean="pfsTransactionManager" />
		</property>
		<property name="target">
			<ref bean="userAuthServiceTarget" />
		</property>
		<property name="transactionAttributes">
			<props>
				<prop key="saveOrUpdate*">PROPAGATION_REQUIRED</prop>
				<prop key="delete*">PROPAGATION_REQUIRED</prop>
				<prop key="doApprove*">PROPAGATION_REQUIRED</prop>
				<prop key="doReject*">PROPAGATION_REQUIRED</prop>
				<prop key="changePassword*">PROPAGATION_REQUIRED</prop>
				<prop key="*">PROPAGATION_REQUIRED,readOnly</prop>
			</props>
		</property>
	</bean>

	<bean name="userAuthServiceTarget"
		class="com.pennanttech.ws.auth.service.impl.UserAuthServiceImpl">
		<property name="userAuthDAO" ref="userAuthDAO" />
	</bean>


	<bean id="pennantJavaUtil" class="com.pennant.backend.util.PennantJavaUtil"
		init-method="init"></bean>

	<!-- Customer -->
	<bean id="customerController" class="com.pennanttech.controller.CustomerController"
		autowire="byName" scope="prototype">
	</bean>

	<bean id="customerDetailsController" class="com.pennanttech.controller.CustomerDetailsController"
		autowire="byName" scope="prototype">
	</bean>
	<!-- WIF Loan Calculator -->
	<bean id="financeDetailController" class="com.pennanttech.controller.FinanceDetailController"
		autowire="byName" scope="prototype">
		<property name="financeDetailService" ref="financeDetailService" />
		<property name="stepPolicyDetailDAO" ref="stepPolicyDetailDAO" />
		<property name="financeMainDAO" ref="financeMainDAO" />
		<property name="financeScheduleDetailDAO" ref="financeScheduleDetailDAO" />
		<property name="finFeeChargesDAO" ref="finFeeChargesDAO" />
		<property name="ruleService" ref="ruleService" />
	</bean>

	<!-- Finance/Loan Services -->
	<bean id="finServiceInstController" class="com.pennanttech.controller.FinServiceInstController"
		autowire="byName" scope="prototype">
		<property name="financeDetailService" ref="financeDetailService" />
	</bean>

	<!-- FinanceType/LoanType controller -->
	<bean id="financeTypeController" class="com.pennanttech.controller.FinanceTypeController"
		autowire="byName" scope="prototype">
	</bean>

	<!-- CreateFinance/Loan controller -->
	<bean id="createFinanceController" class="com.pennanttech.controller.CreateFinanceController"
		autowire="byName" scope="prototype">
	</bean>

	<!-- Mandate controller -->
	<bean id="mandateController" class="com.pennanttech.controller.MandateController"
		autowire="byName" scope="prototype">
	</bean>

	<!-- Limit service controller -->
	<bean id="limitServiceController" class="com.pennanttech.controller.LimitServiceController"
		autowire="byName" scope="prototype">
	</bean>

	<!-- Beneficiary controller -->
	<bean id="beneficiaryController" class="com.pennanttech.controller.BeneficiaryController"
		autowire="byName" scope="prototype">
	</bean>

	<!-- Collateral controller -->
	<bean id="collateralController" class="com.pennanttech.controller.CollateralController"
		autowire="byName" scope="prototype">
	</bean>

	<!-- FinanceFlags controller -->
	<bean id="financeFlagsController" class="com.pennanttech.controller.FinanceFlagsController"
		autowire="byName" scope="prototype">
	</bean>

	<!-- SecRoles controller -->
	<bean id="SecRolesController" class="com.pennanttech.controller.SecRolesController"
		autowire="byName" scope="prototype">
	</bean>
	
	<!-- Statement controller -->
	<bean id="finStatementController" class="com.pennanttech.controller.FinStatementController"
		autowire="byName" scope="prototype">
	</bean>
	<!-- VAS controller -->
	<bean id="vasController" class="com.pennanttech.controller.VASController"
		autowire="byName" scope="prototype">
	</bean>
</beans>