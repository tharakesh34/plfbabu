<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xmlns:lang="http://www.springframework.org/schema/lang" xsi:schemaLocation="http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang.xsd
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch-3.0.xsd">
	<!-- _____________________________________________REFERENCE BEANS _________________________________________ -->
	<!-- ====================================================== -->
	<!-- Generic Common DAOs -->
	<!-- ====================================================== -->
	<import resource="applicationContext-mq-interface.xml" />
	<import resource="applicationContext-core-interface.xml" />
	<!-- Error Details -->
	<bean id="errorDetailsDAO" class="com.pennant.backend.dao.impl.ErrorDetailsDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- only definition added -->
	<bean name="errorDetailService"
		class="com.pennant.backend.service.errordetail.impl.ErrorDetailServiceImpl">
	</bean>
	<!-- Basis Code -->
	<bean id="basisCodeDAO" abstract="true"
		class="com.pennant.backend.dao.impl.BasisCodeDAO" />
	<!-- PFS SMT Parameters -->
	<bean id="pFSParameterDAO" class="com.pennant.backend.dao.smtmasters.impl.PFSParameterDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Script Engine -->
	<!-- Script Engine object creation -->
	<bean id="scriptEngineManager" class="javax.script.ScriptEngineManager" />
	
	<bean id="scriptEngine" class="javax.script.ScriptEngine"
		factory-method="getEngineByName" factory-bean="scriptEngineManager">
		<constructor-arg value="javascript" />
	</bean>
	
	<!-- ====================================================== -->
	<!-- Calculation Utility Configuration -->
	<!-- ====================================================== -->
	<bean id="calculationUtil" class="com.pennant.app.util.CalculationUtil">
		<property name="currencyDAO" ref="currencyDAO" />
	</bean>
	<!-- ====================================================== -->
	<!-- Finance Related Generic DAOs -->
	<!-- ====================================================== -->
	<!-- Finance Type Details -->
	<bean id="financeTypeDAO" class="com.pennant.backend.dao.rmtmasters.impl.FinanceTypeDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="finTypeAccountingDAO" class="com.pennant.backend.dao.rmtmasters.impl.FinTypeAccountingDAOImpl"  parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Finance Main -->
	<bean id="financeMainDAO" class="com.pennant.backend.dao.finance.impl.FinanceMainDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Finance Schedule Details -->
	<bean id="financeScheduleDetailDAO" class="com.pennant.backend.dao.finance.impl.FinanceScheduleDetailDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Profit Details -->
	<bean id="profitDetailsDAO" class="com.pennant.backend.dao.finance.impl.FinanceProfitDetailDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!--============ AEAmounts Util ============== -->
	<bean name="AEAmounts" class="com.pennant.app.util.AEAmounts">
		<property name="suspHeadDAO" ref="financeSuspHeadDAO" />
		<property name="finODDetailsDAO" ref="finODDetailsDAO" />
		<property name="customerDAO" ref="customerDAO" />
	</bean>
	<!-- Repay Instructions -->
	<bean id="repayInstructionDAO" class="com.pennant.backend.dao.finance.impl.RepayInstructionDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Overdue Details -->
	<bean id="finODDetailsDAO" class="com.pennant.backend.dao.finance.impl.FinODDetailsDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Finance Suspense Head -->
	<bean id="financeSuspHeadDAO" class="com.pennant.backend.dao.finance.impl.FinanceSuspHeadDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Finance Status Details -->
	<bean id="finStatusDetailDAO" class="com.pennant.backend.dao.finance.impl.FinStatusDetailDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Finance Log Entry Details -->
	<bean id="finLogEntryDetailDAO" class="com.pennant.backend.dao.finance.impl.FinLogEntryDetailDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- ====================================================== -->
	<!-- Postings Related Generic DAOs -->
	<!-- ====================================================== -->
	<!-- Postings -->
	<bean id="postingsDAO" class="com.pennant.backend.dao.rulefactory.impl.PostingsDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
		<property name="nextidviewDAO" ref="nextidviewDAO" />
	</bean>
	<!-- System Parameter Details -->
	<bean id="SysParamUtil " class="com.pennant.app.util.SysParamUtil" init-method="Init">
		<property name="pFSParameterDAO" ref="pFSParameterDAO" />
	</bean>
	<!-- EOD Parameter Details -->
	<bean id="eodProperties" class="com.pennant.eod.util.EODProperties">
		<property name="financeTypeDAO" ref="financeTypeDAO" />
		<property name="currencyDAO" ref="currencyDAO" />
		<property name="definitionDAO" ref="systemInternalAccountDefinitionDAO" />
		<property name="ruleDAO" ref="ruleDAO" />
		<property name="transactionEntryDAO" ref="transactionEntryDAO" />
		<property name="takafulProviderDAO" ref="takafulProviderDAO" />
	</bean>
	<!-- Database backup on EOD -->
	<bean id="backupDatabase" class="com.pennant.eod.util.BackupDatabase">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Accounting Engine Execution -->
	<bean name="engineExecution" class="com.pennant.app.util.AccountEngineExecution">
		<property name="financeMainDAO" ref="financeMainDAO" />
		<property name="financeTypeDAO" ref="financeTypeDAO" />
		<property name="transactionEntryDAO" ref="transactionEntryDAO" />
		<property name="internalAccountDefinitionDAO" ref="systemInternalAccountDefinitionDAO" />
		<property name="ruleDAO" ref="ruleDAO" />
		<property name="customerDAO" ref="customerDAO" />
		<property name="financeScheduleDetailDAO" ref="financeScheduleDetailDAO" />
		<property name="currencyDAO" ref="currencyDAO" />
		<property name="financeSuspHeadDAO" ref="financeSuspHeadDAO" />
		<property name="accountInterfaceService" ref="accountInterfaceService" />
		<property name="ruleExecutionUtil" ref="ruleExecutionUtil" />
		<property name="accountingSetDAO" ref="accountingSetDAO" />
		<property name="financePremiumDetailDAO" ref="financePremiumDetailDAO" />
		<property name="financeReferenceDetailDAO" ref="financeReferenceDetailDAO" />
		 <property name="finTypeAccountingDAO" ref="finTypeAccountingDAO" />
		 <property name="collateralSetupDAO" ref="collateralSetupDAO" />
	</bean>
	<bean name="ruleExecutionUtil" class="com.pennant.app.util.RuleExecutionUtil">
		<property name="scriptEngine" ref="scriptEngine"/>
	</bean>
	<bean id="accountingSetDAO" class="com.pennant.backend.dao.rmtmasters.impl.AccountingSetDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>

	<bean id="financeReferenceDetailDAO"
		class="com.pennant.backend.dao.lmtmasters.impl.FinanceReferenceDetailDAOImpl"
		parent="basisNextidDao">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="collateralSetupDAO"
		class="com.pennant.backend.dao.collateral.impl.CollateralSetupDAOImpl"
		parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	
	<!-- Finance Premium Detail -->
	<bean id="financePremiumDetailDAO" class="com.pennant.backend.dao.finance.impl.FinancePremiumDetailDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Postings Preparation Util -->
	<bean name="postingsPreparationUtil" class="com.pennant.app.util.PostingsPreparationUtil">
		<property name="engineExecution" ref="engineExecution" />
		<property name="accountProcessUtil" ref="accountProcessUtil" />
		<property name="postingsInterfaceService" ref="postingsInterfaceService" />
		<property name="commitmentDAO" ref="commitmentDAO" />
		<property name="commitmentMovementDAO" ref="commitmentMovementDAO" />
		<property name="postingsDAO" ref="postingsDAO" />
		<property name="engineExecutionRIA" ref="engineExecutionRIA" />
		<property name="finContributorDetailDAO" ref="finContributorDetailDAO" />
		<property name="financeTypeDAO" ref="financeTypeDAO" />
		<property name="premiumDetailDAO" ref="financePremiumDetailDAO" />
		<property name="finTypeAccountingDAO" ref="finTypeAccountingDAO" />
	</bean>
	<bean name="engineExecutionRIA" class="com.pennant.app.util.AccountEngineExecutionRIA">
		<property name="financeMainDAO" ref="financeMainDAO" />
		<property name="financeTypeDAO" ref="financeTypeDAO" />
		<property name="transactionEntryDAO" ref="transactionEntryDAO" />
		<property name="internalAccountDefinitionDAO" ref="systemInternalAccountDefinitionDAO" />
		<property name="ruleDAO" ref="ruleDAO" />
		<property name="customerDAO" ref="customerDAO" />
		<property name="currencyDAO" ref="currencyDAO" />
		<property name="accountInterfaceService" ref="accountInterfaceService" />
		<property name="ruleExecutionUtil" ref="ruleExecutionUtil" />
		 <property name="finTypeAccountingDAO" ref="finTypeAccountingDAO" />
	</bean>
	<bean id="finContributorDetailDAO" class="com.pennant.backend.dao.finance.impl.FinContributorDetailDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="commitmentDAO" class="com.pennant.backend.dao.commitment.impl.CommitmentDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="commitmentMovementDAO" class="com.pennant.backend.dao.commitment.impl.CommitmentMovementDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="accountInterfaceService" class="com.pennant.Interface.service.impl.AccountInterfaceServiceImpl">
		<property name="accountDetailProcess" ref="accountDetailProcess" />
	</bean>
	<bean id="dailyDownloadInterfaceService" class="com.pennant.Interface.service.impl.DailyDownloadInterfaceServiceImpl">
		<property name="dailyDownloadProcess" ref="dailyDownloadProcess" />
		<property name="coreInterfaceDAO" ref="coreInterfaceDAO" />
		<property name="pFSParameterDAO" ref="pFSParameterDAO" />
		<property name="customerInterfaceService" ref="customerInterfaceService" />
	</bean>
	<bean id="customerInterfaceService" class="com.pennant.Interface.service.impl.CustomerInterfaceServiceImpl">
		<property name="customerDataProcess" ref="customerDataProcess" />
		<property name="customerCreationProcess" ref="customerCreationProcess" />
		<property name="customerStatusCodeDAO" ref="customerStatusCodeDAO" />
		<property name="coreInterfaceDAO" ref="coreInterfaceDAO" />
		<property name="designationDAO" ref="designationDAO" />
	</bean>
	<bean id="designationDAO" class="com.pennant.backend.dao.systemmasters.impl.DesignationDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="postingsInterfaceService" class="com.pennant.Interface.service.impl.PostingsInterfaceServiceImpl">
		<property name="accountPostingProcess" ref="accountPostingProcess" />
	</bean>
	<bean id="calendarInterfaceService" class="com.pennant.Interface.service.impl.CalendarInterfaceServiceImpl">
		<property name="dateRollOverProcess" ref="dateRollOverProcess" />
		<property name="weekendMasterDAO" ref="weekendMasterDAO" />
		<property name="holidayMasterDAO" ref="holidayMasterDAO" />
	</bean>
	<bean id="uploadFinPftDetailService" class="com.pennant.app.eod.service.impl.UploadFinPftDetailServiceImpl">
		<property name="dataSource" ref="pfsDatasource" />
		<property name="uploadProfitDetailProcess" ref="uploadProfitDetailProcess" />
	</bean>
	<bean id="hostConnection" class="com.pennant.equation.util.HostConnection">
		<property name="serverName" value="${pffEquation.ServerName}" />
		<property name="unitName" value="${pffEquation.UnitName}" />
		<property name="userName" value="${pffEquation.username}" />
		<property name="password" value="${pffEquation.password}" />
	</bean>
	<!-- Account Details -->
	<bean id="accountsDAO" class="com.pennant.backend.dao.accounts.impl.AccountsDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="accountTypeDAO" class="com.pennant.backend.dao.rmtmasters.impl.AccountTypeDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Account process Util -->
	<bean name="accountProcessUtil" class="com.pennant.app.util.AccountProcessUtil">
		<property name="accountsDAO" ref="accountsDAO" />
		<property name="accountTypeDAO" ref="accountTypeDAO" />
		<property name="internalAccountDefinitionDAO" ref="systemInternalAccountDefinitionDAO" />
	</bean>
	<!-- Transaction Entry -->
	<bean id="transactionEntryDAO" class="com.pennant.backend.dao.rmtmasters.impl.TransactionEntryDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- System Internal Account Definition -->
	<bean id="systemInternalAccountDefinitionDAO" class="com.pennant.backend.dao.masters.impl.SystemInternalAccountDefinitionDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Rule -->
	<bean id="ruleDAO" class="com.pennant.backend.dao.rulefactory.impl.RuleDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Customer -->
	<bean id="customerDAO" class="com.pennant.backend.dao.customermasters.impl.CustomerDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Currency -->
	<bean id="currencyDAO" class="com.pennant.backend.dao.applicationmaster.impl.CurrencyDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- ====================================================== -->
	<!-- Job Specific DAOs -->
	<!-- ====================================================== -->
	<!-- +++++++DATE ROLLOVER ++++++++ -->
	<!-- Holiday Util -->
	<bean id="businessCalendar" class="com.pennant.app.util.BusinessCalendar">
		<property name="weekendMasterDAO" ref="weekendMasterDAO" />
		<property name="holidayMasterDAO" ref="holidayMasterDAO" />
	</bean>
	<!-- Weekend Master -->
	<bean id="weekendMasterDAO" class="com.pennant.backend.dao.smtmasters.impl.WeekendMasterDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Holiday Master -->
	<bean id="holidayMasterDAO" class="com.pennant.backend.dao.smtmasters.impl.HolidayMasterDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- +++++++RATE REVIEWS ROLLOVER ++++++++ -->
	<!-- Base Rate -->
	<bean id="baseRateDAO" class="com.pennant.backend.dao.applicationmaster.impl.BaseRateDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Special Rate -->
	<bean id="splRateDAO" class="com.pennant.backend.dao.applicationmaster.impl.SplRateDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Rate Util -->
	<bean name="RateUtil" class="com.pennant.app.util.RateUtil">
		<property name="baseRateDAO" ref="baseRateDAO" />
		<property name="splRateDAO" ref="splRateDAO" />
	</bean>
	<!-- +++++++REPAYMENT QUEUING & POSTINGS ++++++++ -->
	<!-- Repayment Priority -->
	<bean id="financeRepayPriorityDAO" class="com.pennant.backend.dao.finance.impl.FinanceRepayPriorityDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Repay Queue -->
	<bean id="finRepayQueueDAO" class="com.pennant.backend.dao.FinRepayQueue.impl.FinRepayQueueDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Finance Repayment -->
	<bean id="financeRepaymentsDAO" class="com.pennant.backend.dao.Repayments.impl.FinanceRepaymentsDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Repayment Posting Util -->
	<bean id="repayPostingUtil" class="com.pennant.app.util.RepaymentPostingsUtil">
		<property name="financeScheduleDetailDAO" ref="financeScheduleDetailDAO" />
		<property name="financeRepaymentsDAO" ref="financeRepaymentsDAO" />
		<property name="financeMainDAO" ref="financeMainDAO" />
		<property name="finRepayQueueDAO" ref="finRepayQueueDAO" />
		<property name="finStatusDetailDAO" ref="finStatusDetailDAO" />
		<property name="recoveryPostingsUtil" ref="recoveryPostingsUtil" />
		<property name="suspensePostingUtil" ref="suspensePostingUtil" />
		<property name="customerStatusCodeDAO" ref="customerStatusCodeDAO" />
		<property name="postingsPreparationUtil" ref="postingsPreparationUtil" />
		<property name="customerDAO" ref="customerDAO" />
		<property name="financeSuspHeadDAO" ref="financeSuspHeadDAO" />
	</bean>
	<!-- Suspense Posting util -->
	<bean id="suspensePostingUtil" class="com.pennant.app.util.SuspensePostingUtil">
		<property name="financeScheduleDetailDAO" ref="financeScheduleDetailDAO" />
		<property name="finODDetailsDAO" ref="finODDetailsDAO" />
		<property name="financeSuspHeadDAO" ref="financeSuspHeadDAO" />
		<property name="customerStatusCodeDAO" ref="customerStatusCodeDAO" />
		<property name="postingsPreparationUtil" ref="postingsPreparationUtil" />
	</bean>
	<bean id="customerStatusCodeDAO" class="com.pennant.backend.dao.applicationmaster.impl.CustomerStatusCodeDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- +++++++OVERDUE RECOVERY CALCULATIONS & POSTINGS ++++++++ -->
	<!-- Overdue Charge Recovery -->
	<bean id="overdueChargeRecoveryDAO" class="com.pennant.backend.dao.financemanagement.impl.OverdueChargeRecoveryDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Overdue Charge Recovery Posting Util -->
	<bean id="recoveryPostingsUtil" class="com.pennant.app.util.OverDueRecoveryPostingsUtil">
		<property name="financeMainDAO" ref="financeMainDAO" />
		<property name="finODDetailsDAO" ref="finODDetailsDAO" />
		<property name="recoveryDAO" ref="overdueChargeRecoveryDAO" />
		<property name="finODPenaltyRateDAO" ref="finODPenaltyRateDAO" />
		<property name="accountInterfaceService" ref="accountInterfaceService" />
		<property name="postingsPreparationUtil" ref="postingsPreparationUtil" />
	</bean>
	<!-- Finance Overdue penalty Rate Details -->
	<bean id="finODPenaltyRateDAO" class="com.pennant.backend.dao.finance.impl.FinODPenaltyRateDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- +++++++PROVISION CALCULATIONS & POSTINGS ++++++++ -->
	<!-- Provision Details -->
	<bean id="provisionDAO" class="com.pennant.backend.dao.financemanagement.impl.ProvisionDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Provision Movement Details -->
	<bean id="provisionMovementDAO" class="com.pennant.backend.dao.financemanagement.impl.ProvisionMovementDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Provision Calculation Util -->
	<bean id="provisionCalculationUtil" class="com.pennant.app.util.ProvisionCalculationUtil">
		<property name="financeMainDAO" ref="financeMainDAO" />
		<property name="financeScheduleDetailDAO" ref="financeScheduleDetailDAO" />
		<property name="financeProfitDetailDAO" ref="profitDetailsDAO" />
		<property name="provisionDAO" ref="provisionDAO" />
		<property name="provisionMovementDAO" ref="provisionMovementDAO" />
		<property name="engineExecution" ref="engineExecution" />
		<property name="postingsPreparationUtil" ref="postingsPreparationUtil" />
	</bean>
	<!-- +++++++DISBURSEMENT POSTINGS ++++++++ -->
	<!-- Finance Disbursement Details -->
	<bean id="financeDisbursementDAO" class="com.pennant.backend.dao.finance.impl.FinanceDisbursementDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean name="accountNumberUtil" class="com.pennant.app.util.AccountNumberUtil">
		<property name="ruleDAO" ref="ruleDAO" />
		<property name="ruleExecutionUtil" ref="ruleExecutionUtil" />
		<property name="internalAccountDefinitionDAO" ref="systemInternalAccountDefinitionDAO" />
	</bean>
	<bean id="secondaryAccountDAO" class="com.pennant.backend.dao.finance.impl.SecondaryAccountDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Loop Limit Decider -->
	<bean id="limitDecider" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager">
			<ref bean="pfsTransactionManager" />
		</property>
		<property name="target">
			<ref bean="limitDeciderTarget" />
		</property>
		<property name="transactionAttributes">
			<props>
				<prop key="saveOrUpdate*">PROPAGATION_REQUIRED</prop>
				<prop key="delete*">PROPAGATION_REQUIRED</prop>
				<prop key="doApprove*">PROPAGATION_REQUIRED</prop>
				<prop key="doReject*">PROPAGATION_REQUIRED</prop>
				<prop key="*">PROPAGATION_REQUIRED,readOnly</prop>
			</props>
		</property>
	</bean>
	<bean id="limitDeciderTarget" class="com.pennant.backend.endofday.limitdecider.LimitDecider">
		<property name="hostConnection" ref="hostConnection" />
		<property name="dataSource" ref="pfsDatasource" />
		<property name="paymentRecoveryService" ref="paymentRecoveryService" />
		<property name="dateService" ref="dateService" />
	</bean>
	<bean id="amortizationService" class="com.pennant.app.eod.service.impl.AmortizationServiceImpl">
		<property name="dataSource" ref="pfsDatasource" />
		<property name="financeMainDAO" ref="financeMainDAO" />
		<property name="financeScheduleDetailDAO" ref="financeScheduleDetailDAO" />
		<property name="financeProfitDetailDAO" ref="profitDetailsDAO" />
		<property name="financeSuspHeadDAO" ref="financeSuspHeadDAO" />
		<property name="engineExecution" ref="engineExecution" />
		<property name="engineExecutionRIA" ref="engineExecutionRIA" />
		<property name="customerStatusCodeDAO" ref="customerStatusCodeDAO" />
		<property name="postingsPreparationUtil" ref="postingsPreparationUtil" />
	</bean>
	<bean id="finCommodityInventoryDAO" class="com.pennant.backend.dao.lmtmasters.impl.FinCommodityInventoryDAOImpl" parent="basisNextidDao">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Ext Tables DAO Details -->
	<bean id="extTablesDAO" class="com.pennant.backend.dao.ext.impl.ExtTablesDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsExtDatasource" />
	</bean>
	<bean id="eodJobListener" class="com.pennant.backend.batch.listeners.EodJobListener">
		<property name="eodProperties" ref="eodProperties" />
	</bean>
	<!-- End Of Month Decider -->
	<bean id="eodBackupDecider" class="com.pennant.backend.endofday.limitdecider.EodBackupDecider" />
	<!-- End Of Month Decider -->
	<bean id="endOfMonthDecider" class="com.pennant.backend.endofday.limitdecider.EndOfMonthDecider" />
	<!-- Audit data Purging -->
	<bean id="dataPurgingProcess" class="com.pennant.eod.util.DataPurgingProcess">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- Purging Process Decider -->
	<bean id="purgingProcessDecider" class="com.pennant.backend.endofday.limitdecider.PurgingProcessDecider" />
	<bean id="PFSJobParametersIncrementer" class="com.pennant.backend.endofday.jobparameter.PFSJobParametersIncrementer" />
	<!-- Collateral Mark Process -->
	<bean id="collateralMarkProcess" class="com.pennant.backend.service.collateral.CollateralMarkProcess">
		<property name="accountInterfaceService" ref="accountInterfaceService" />
		<property name="collateralMarkDAO" ref="collateralMarkDAO" />
	</bean>
	<bean id="collateralMarkDAO" class="com.pennant.backend.dao.collateralmark.impl.CollateralMarkDAOImpl" parent="basisNextidDao">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<!-- DDA Controller Process -->
	<bean id="ddaControllerService" class="com.pennant.backend.service.dda.DDAControllerService">
		<property name="ddaInterfaceService" ref="ddaInterfaceService" />
		<property name="ddaProcessService" ref="ddaProcessService" />
		<property name="eodFailPostingService" ref="eodFailPostingService" />
	</bean>
	<bean id="ddaInterfaceService" class="com.pennant.Interface.service.impl.DDAInterfaceServiceImpl">
		<property name="ddaProcess" ref="ddaProcess" />
	</bean>
	<bean name="ddaProcessService" class="com.pennant.backend.service.dda.impl.DDAProcessServiceImpl">
		<property name="ddaProcessDAO" ref="ddaProcessDAO" />
	</bean>
	<bean id="ddaProcessDAO" class="com.pennant.backend.dao.dda.impl.DDAProcessDAOImpl" parent="basisNextidDao">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="basisNextidDao" abstract="true" p:nextidviewDAO-ref="nextidviewDAO" class="com.pennant.backend.dao.impl.BasisNextidDaoImpl" />
	<bean id="nextidviewDAO" class="com.pennant.backend.dao.impl.NextIdViewSQLServerDaoImpl">
		<property name="dataSource" ref="pfsDatasource" />
		<property name="errorDetailsDAO" ref="errorDetailsDAO" />
	</bean>
	<bean id="finSuspHoldDAO" class="com.pennant.backend.dao.financemanagement.impl.FinSuspHoldDAOImpl" parent="basisNextidDao">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="coreInterfaceDAO" class="com.pennant.equation.dao.impl.CoreInterfaceDAOImpl">
		<property name="dataSource" ref="pfsDatasource" />
		<property name="auditDatasource" ref="auditDatasource" />
	</bean>
	<!-- DDA Representment Details -->
	<bean id="ddaRepresentmentDAO" class="com.pennant.backend.dao.ddapayments.impl.DDARepresentmentDAOImpl" parent="basisNextidDao">
		<property name="dataSource" ref="pfsExtDatasource" />
	</bean>
	<bean id="ddaRepresentmentService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager">
			<ref bean="pfsTransactionManager" />
		</property>
		<property name="target">
			<ref bean="ddaRepresentmentServiceTarget" />
		</property>
		<property name="transactionAttributes">
			<props>
				<prop key="saveOrUpdate*">PROPAGATION_REQUIRED</prop>
			</props>
		</property>
	</bean>
	<bean name="ddaRepresentmentServiceTarget" class="com.pennant.backend.service.ddapayments.impl.DDARepresentmentService">
		<property name="ddaRepresentmentDAO" ref="ddaRepresentmentDAO" />
		<property name="financeMainDAO" ref="financeMainDAO" />
		<property name="financeScheduleDetailDAO" ref="financeScheduleDetailDAO" />
	</bean>
	<!-- DDA cancellation fail posting handler service! -->
	<bean name="eodFailPostingService" class="com.pennant.Interface.service.impl.EODFailPostingServiceImpl">
		<property name="eodFailPostingDAO" ref="eodFailPostingDAO" />
	</bean>
	<bean id="eodFailPostingDAO" class="com.pennant.backend.dao.dda.impl.EODFailPostingDAOImpl" parent="basisNextidDao">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="takafulProviderDAO" class="com.pennant.backend.dao.applicationmaster.impl.TakafulProviderDAOImpl" parent="basisCodeDAO">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	<bean id="prepareMailData" class="com.pennant.app.util.PrepareMailData" scope="prototype">
		<property name="dataSource" ref="pfsDatasource" />
		<property name="mailUtility" ref="mailUtility" />
		<property name="reportUtil" ref="reportUtil" />
		<property name="notificationsService" ref="notificationsService" />
	</bean>
	<bean id="reportUtil" class="com.pennant.app.util.ReportUtil" scope="prototype">
		
	</bean>
	<bean id="notificationsService"
		class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager">
			<ref bean="pfsTransactionManager" />
		</property>
		<property name="target">
			<ref bean="notificationsServiceTarget" />
		</property>
		<property name="transactionAttributes">
			<props>
				<prop key="saveOrUpdate*">PROPAGATION_REQUIRED</prop>
				<prop key="delete*">PROPAGATION_REQUIRED</prop>
				<prop key="doApprove*">PROPAGATION_REQUIRED</prop>
				<prop key="doReject*">PROPAGATION_REQUIRED</prop>
				<prop key="*">PROPAGATION_REQUIRED,readOnly</prop>
			</props>
		</property>
	</bean>

	<bean name="notificationsServiceTarget"
		class="com.pennant.backend.service.notifications.impl.NotificationsServiceImpl">
		<property name="notificationsDAO" ref="notificationsDAO" />
	</bean>
	
	<bean id="notificationsDAO"
		class="com.pennant.backend.dao.notifications.impl.NotificationsDAOImpl"
		parent="basisNextidDao">
		<property name="dataSource" ref="pfsDatasource" />
	</bean>
	
	<bean id="mailUtility" class="com.pennant.app.util.MailUtility"
		scope="prototype">
		<property name="outgoingHost" value="${mail.outgoingserver.host}" />
		<property name="outgoingPort" value="${mail.outgoingserver.port}" />
		<property name="outgoingDebug" value="${mail.outgoingserver.debug}" />
		<property name="outgoingAuth" value="${mail.outgoingserver.auth}" />
		<property name="outgoingUserName" value="${mail.outgoingserver.userName}" />
		<property name="outgoingPassword" value="${mail.outgoingserver.password}" />
		<property name="outgoingEncType" value="${mail.outgoingserver.encryptiontype}" />

		<property name="incomingHost" value="${mail.incomingserver.host}" />
		<property name="incomingPort" value="${mail.incomingserver.port}" />
		<property name="incomingUserName" value="${mail.incomingserver.userName}" />
		<property name="incomingPassword" value="${mail.incomingserver.password}" />
		<property name="incomingEncType" value="${mail.incomingserver.encryptiontype}" />

		<property name="incomingFolder" value="${mail.incomingserver.folder}" />
		<property name="incomingProtocol" value="${mail.incomingserver.protocol}" />
	</bean>

	<bean id="mailUtil" class="com.pennant.app.util.MailUtil" parent="mailUtility"
		scope="prototype">
		<property name="freemarkerMailConfiguration" ref="freemarkerMailConfiguration" />
		<property name="mailTemplateService" ref="mailTemplateService" />
		<property name="notificationsService" ref="notificationsService" />
		<property name="customerEMailService" ref="customerEMailService" />
		<property name="notesService" ref="notesService" />
		<property name="ruleExecutionUtil" ref="ruleExecutionUtil" />
		<property name="securityRoleService" ref="securityRoleService" />
		<property name="securityUserService" ref="securityUserService" />
		<property name="workFlowDetailsService" ref="workFlowDetailsService" />
		<property name="securityUserOperationsService" ref="securityUserOperationsService" />
		
	</bean>
	
</beans>